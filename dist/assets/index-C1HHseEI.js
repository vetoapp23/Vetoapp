var HO=e=>{throw TypeError(e)};var yN=(e,t,n)=>t.has(e)||HO("Cannot "+n);var ce=(e,t,n)=>(yN(e,t,"read from private field"),n?n.call(e):t.get(e)),ht=(e,t,n)=>t.has(e)?HO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,s)=>(yN(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Bt=(e,t,n)=>(yN(e,t,"access private method"),n);var yx=(e,t,n,s)=>({set _(i){Xe(e,t,i,n)},get _(){return ce(e,t,s)}});function aJ(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function oJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var cL={exports:{}},$j={},uL={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=Symbol.for("react.element"),lJ=Symbol.for("react.portal"),cJ=Symbol.for("react.fragment"),uJ=Symbol.for("react.strict_mode"),dJ=Symbol.for("react.profiler"),hJ=Symbol.for("react.provider"),fJ=Symbol.for("react.context"),mJ=Symbol.for("react.forward_ref"),pJ=Symbol.for("react.suspense"),gJ=Symbol.for("react.memo"),vJ=Symbol.for("react.lazy"),GO=Symbol.iterator;function xJ(e){return e===null||typeof e!="object"?null:(e=GO&&e[GO]||e["@@iterator"],typeof e=="function"?e:null)}var dL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hL=Object.assign,fL={};function Of(e,t,n){this.props=e,this.context=t,this.refs=fL,this.updater=n||dL}Of.prototype.isReactComponent={};Of.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Of.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mL(){}mL.prototype=Of.prototype;function C_(e,t,n){this.props=e,this.context=t,this.refs=fL,this.updater=n||dL}var P_=C_.prototype=new mL;P_.constructor=C_;hL(P_,Of.prototype);P_.isPureReactComponent=!0;var KO=Array.isArray,pL=Object.prototype.hasOwnProperty,__={current:null},gL={key:!0,ref:!0,__self:!0,__source:!0};function vL(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)pL.call(t,s)&&!gL.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Kg,type:e,key:a,ref:o,props:i,_owner:__.current}}function yJ(e,t){return{$$typeof:Kg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function A_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kg}function jJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var YO=/\/+/g;function jN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jJ(""+e.key):t.toString(36)}function jy(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kg:case lJ:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+jN(o,0):s,KO(i)?(n="",e!=null&&(n=e.replace(YO,"$&/")+"/"),jy(i,t,n,"",function(u){return u})):i!=null&&(A_(i)&&(i=yJ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(YO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",KO(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+jN(a,l);o+=jy(a,t,n,c,i)}else if(c=xJ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+jN(a,l++),o+=jy(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jx(e,t,n){if(e==null)return e;var s=[],i=0;return jy(e,s,"","",function(a){return t.call(n,a,i++)}),s}function bJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Os={current:null},by={transition:null},wJ={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:by,ReactCurrentOwner:__};function xL(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:jx,forEach:function(e,t,n){jx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jx(e,function(){t++}),t},toArray:function(e){return jx(e,function(t){return t})||[]},only:function(e){if(!A_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Of;Xt.Fragment=cJ;Xt.Profiler=dJ;Xt.PureComponent=C_;Xt.StrictMode=uJ;Xt.Suspense=pJ;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wJ;Xt.act=xL;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=hL({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=__.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)pL.call(t,c)&&!gL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Kg,type:e.type,key:i,ref:a,props:s,_owner:o}};Xt.createContext=function(e){return e={$$typeof:fJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hJ,_context:e},e.Consumer=e};Xt.createElement=vL;Xt.createFactory=function(e){var t=vL.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:mJ,render:e}};Xt.isValidElement=A_;Xt.lazy=function(e){return{$$typeof:vJ,_payload:{_status:-1,_result:e},_init:bJ}};Xt.memo=function(e,t){return{$$typeof:gJ,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=by.transition;by.transition={};try{e()}finally{by.transition=t}};Xt.unstable_act=xL;Xt.useCallback=function(e,t){return Os.current.useCallback(e,t)};Xt.useContext=function(e){return Os.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return Os.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return Os.current.useEffect(e,t)};Xt.useId=function(){return Os.current.useId()};Xt.useImperativeHandle=function(e,t,n){return Os.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return Os.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return Os.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return Os.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return Os.current.useReducer(e,t,n)};Xt.useRef=function(e){return Os.current.useRef(e)};Xt.useState=function(e){return Os.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return Os.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return Os.current.useTransition()};Xt.version="18.3.1";uL.exports=Xt;var w=uL.exports;const q=fn(w),E_=aJ({__proto__:null,default:q},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NJ=w,SJ=Symbol.for("react.element"),CJ=Symbol.for("react.fragment"),PJ=Object.prototype.hasOwnProperty,_J=NJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AJ={key:!0,ref:!0,__self:!0,__source:!0};function yL(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)PJ.call(t,s)&&!AJ.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:SJ,type:e,key:a,ref:o,props:i,_owner:_J.current}}$j.Fragment=CJ;$j.jsx=yL;$j.jsxs=yL;cL.exports=$j;var r=cL.exports,jL={exports:{}},wi={},bL={exports:{}},wL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var le=L.length;L.push(z);e:for(;0<le;){var pe=le-1>>>1,ee=L[pe];if(0<i(ee,z))L[pe]=z,L[le]=ee,le=pe;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var z=L[0],le=L.pop();if(le!==z){L[0]=le;e:for(var pe=0,ee=L.length,J=ee>>>1;pe<J;){var te=2*(pe+1)-1,xe=L[te],ve=te+1,re=L[ve];if(0>i(xe,le))ve<ee&&0>i(re,xe)?(L[pe]=re,L[ve]=le,pe=ve):(L[pe]=xe,L[te]=le,pe=te);else if(ve<ee&&0>i(re,le))L[pe]=re,L[ve]=le,pe=ve;else break e}}return z}function i(L,z){var le=L.sortIndex-z.sortIndex;return le!==0?le:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var z=n(u);z!==null;){if(z.callback===null)s(u);else if(z.startTime<=L)s(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(u)}}function P(L){if(v=!1,b(L),!x)if(n(c)!==null)x=!0,U(C);else{var z=n(u);z!==null&&ie(P,z.startTime-L)}}function C(L,z){x=!1,v&&(v=!1,N(E),E=-1),g=!0;var le=m;try{for(b(z),f=n(c);f!==null&&(!(f.expirationTime>z)||L&&!D());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,m=f.priorityLevel;var ee=pe(f.expirationTime<=z);z=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&s(c),b(z)}else s(c);f=n(c)}if(f!==null)var J=!0;else{var te=n(u);te!==null&&ie(P,te.startTime-z),J=!1}return J}finally{f=null,m=le,g=!1}}var A=!1,_=null,E=-1,O=5,I=-1;function D(){return!(e.unstable_now()-I<O)}function k(){if(_!==null){var L=e.unstable_now();I=L;var z=!0;try{z=_(!0,L)}finally{z?F():(A=!1,_=null)}}else A=!1}var F;if(typeof j=="function")F=function(){j(k)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=k,F=function(){Q.postMessage(null)}}else F=function(){y(k,0)};function U(L){_=L,A||(A=!0,F())}function ie(L,z){E=y(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,U(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var le=m;m=z;try{return L()}finally{m=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=m;m=L;try{return z()}finally{m=le}},e.unstable_scheduleCallback=function(L,z,le){var pe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,L={id:d++,callback:z,priorityLevel:L,startTime:le,expirationTime:ee,sortIndex:-1},le>pe?(L.sortIndex=le,t(u,L),n(c)===null&&L===n(u)&&(v?(N(E),E=-1):v=!0,ie(P,le-pe))):(L.sortIndex=ee,t(c,L),x||g||(x=!0,U(C))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var z=m;return function(){var le=m;m=z;try{return L.apply(this,arguments)}finally{m=le}}}})(wL);bL.exports=wL;var EJ=bL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kJ=w,bi=EJ;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NL=new Set,Dp={};function nd(e,t){qh(e,t),qh(e+"Capture",t)}function qh(e,t){for(Dp[e]=t,e=0;e<t.length;e++)NL.add(t[e])}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),XS=Object.prototype.hasOwnProperty,TJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QO={},XO={};function OJ(e){return XS.call(XO,e)?!0:XS.call(QO,e)?!1:TJ.test(e)?XO[e]=!0:(QO[e]=!0,!1)}function DJ(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MJ(e,t,n,s){if(t===null||typeof t>"u"||DJ(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ds(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var es={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){es[e]=new Ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];es[t]=new Ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){es[e]=new Ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){es[e]=new Ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){es[e]=new Ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){es[e]=new Ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){es[e]=new Ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){es[e]=new Ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){es[e]=new Ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var k_=/[\-:]([a-z])/g;function T_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k_,T_);es[t]=new Ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k_,T_);es[t]=new Ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k_,T_);es[t]=new Ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){es[e]=new Ds(e,1,!1,e.toLowerCase(),null,!1,!1)});es.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){es[e]=new Ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function O_(e,t,n,s){var i=es.hasOwnProperty(t)?es[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MJ(t,n,i,s)&&(n=null),s||i===null?OJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var cl=kJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bx=Symbol.for("react.element"),eh=Symbol.for("react.portal"),th=Symbol.for("react.fragment"),D_=Symbol.for("react.strict_mode"),JS=Symbol.for("react.profiler"),SL=Symbol.for("react.provider"),CL=Symbol.for("react.context"),M_=Symbol.for("react.forward_ref"),ZS=Symbol.for("react.suspense"),eC=Symbol.for("react.suspense_list"),I_=Symbol.for("react.memo"),Il=Symbol.for("react.lazy"),PL=Symbol.for("react.offscreen"),JO=Symbol.iterator;function Tm(e){return e===null||typeof e!="object"?null:(e=JO&&e[JO]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,bN;function rp(e){if(bN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bN=t&&t[1]||""}return`
`+bN+e}var wN=!1;function NN(e,t){if(!e||wN)return"";wN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{wN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rp(e):""}function IJ(e){switch(e.tag){case 5:return rp(e.type);case 16:return rp("Lazy");case 13:return rp("Suspense");case 19:return rp("SuspenseList");case 0:case 2:case 15:return e=NN(e.type,!1),e;case 11:return e=NN(e.type.render,!1),e;case 1:return e=NN(e.type,!0),e;default:return""}}function tC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case th:return"Fragment";case eh:return"Portal";case JS:return"Profiler";case D_:return"StrictMode";case ZS:return"Suspense";case eC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CL:return(e.displayName||"Context")+".Consumer";case SL:return(e._context.displayName||"Context")+".Provider";case M_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I_:return t=e.displayName||null,t!==null?t:tC(e.type)||"Memo";case Il:t=e._payload,e=e._init;try{return tC(e(t))}catch{}}return null}function $J(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tC(t);case 8:return t===D_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _L(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RJ(e){var t=_L(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wx(e){e._valueTracker||(e._valueTracker=RJ(e))}function AL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=_L(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function By(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nC(e,t){var n=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ZO(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=pc(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EL(e,t){t=t.checked,t!=null&&O_(e,"checked",t,!1)}function rC(e,t){EL(e,t);var n=pc(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sC(e,t.type,n):t.hasOwnProperty("defaultValue")&&sC(e,t.type,pc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eD(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sC(e,t,n){(t!=="number"||By(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sp=Array.isArray;function xh(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+pc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function iC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tD(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(sp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pc(n)}}function kL(e,t){var n=pc(t.value),s=pc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function nD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nx,OL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nx=Nx||document.createElement("div"),Nx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LJ=["Webkit","ms","Moz","O"];Object.keys(hp).forEach(function(e){LJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hp[t]=hp[e]})});function DL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hp.hasOwnProperty(e)&&hp[e]?(""+t).trim():t+"px"}function ML(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=DL(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var FJ=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oC(e,t){if(t){if(FJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function lC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cC=null;function $_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uC=null,yh=null,jh=null;function rD(e){if(e=Xg(e)){if(typeof uC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=zj(t),uC(e.stateNode,e.type,t))}}function IL(e){yh?jh?jh.push(e):jh=[e]:yh=e}function $L(){if(yh){var e=yh,t=jh;if(jh=yh=null,rD(e),t)for(e=0;e<t.length;e++)rD(t[e])}}function RL(e,t){return e(t)}function LL(){}var SN=!1;function FL(e,t,n){if(SN)return e(t,n);SN=!0;try{return RL(e,t,n)}finally{SN=!1,(yh!==null||jh!==null)&&(LL(),$L())}}function Ip(e,t){var n=e.stateNode;if(n===null)return null;var s=zj(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var dC=!1;if(Qo)try{var Om={};Object.defineProperty(Om,"passive",{get:function(){dC=!0}}),window.addEventListener("test",Om,Om),window.removeEventListener("test",Om,Om)}catch{dC=!1}function BJ(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var fp=!1,zy=null,Vy=!1,hC=null,zJ={onError:function(e){fp=!0,zy=e}};function VJ(e,t,n,s,i,a,o,l,c){fp=!1,zy=null,BJ.apply(zJ,arguments)}function UJ(e,t,n,s,i,a,o,l,c){if(VJ.apply(this,arguments),fp){if(fp){var u=zy;fp=!1,zy=null}else throw Error(Ue(198));Vy||(Vy=!0,hC=u)}}function rd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function BL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sD(e){if(rd(e)!==e)throw Error(Ue(188))}function qJ(e){var t=e.alternate;if(!t){if(t=rd(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return sD(i),e;if(a===s)return sD(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==s)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function zL(e){return e=qJ(e),e!==null?VL(e):null}function VL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VL(e);if(t!==null)return t;e=e.sibling}return null}var UL=bi.unstable_scheduleCallback,iD=bi.unstable_cancelCallback,WJ=bi.unstable_shouldYield,HJ=bi.unstable_requestPaint,hr=bi.unstable_now,GJ=bi.unstable_getCurrentPriorityLevel,R_=bi.unstable_ImmediatePriority,qL=bi.unstable_UserBlockingPriority,Uy=bi.unstable_NormalPriority,KJ=bi.unstable_LowPriority,WL=bi.unstable_IdlePriority,Rj=null,so=null;function YJ(e){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(Rj,e,void 0,(e.current.flags&128)===128)}catch{}}var Na=Math.clz32?Math.clz32:JJ,QJ=Math.log,XJ=Math.LN2;function JJ(e){return e>>>=0,e===0?32:31-(QJ(e)/XJ|0)|0}var Sx=64,Cx=4194304;function ip(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qy(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=ip(l):(a&=o,a!==0&&(s=ip(a)))}else o=n&~i,o!==0?s=ip(o):a!==0&&(s=ip(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Na(t),i=1<<n,s|=e[n],t&=~i;return s}function ZJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eZ(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Na(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=ZJ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function fC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function HL(){var e=Sx;return Sx<<=1,!(Sx&4194240)&&(Sx=64),e}function CN(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Na(t),e[t]=n}function tZ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Na(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function L_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Na(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var xn=0;function GL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var KL,F_,YL,QL,XL,mC=!1,Px=[],rc=null,sc=null,ic=null,$p=new Map,Rp=new Map,Ll=[],nZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aD(e,t){switch(e){case"focusin":case"focusout":rc=null;break;case"dragenter":case"dragleave":sc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":$p.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rp.delete(t.pointerId)}}function Dm(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Xg(t),t!==null&&F_(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function rZ(e,t,n,s,i){switch(t){case"focusin":return rc=Dm(rc,e,t,n,s,i),!0;case"dragenter":return sc=Dm(sc,e,t,n,s,i),!0;case"mouseover":return ic=Dm(ic,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return $p.set(a,Dm($p.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Rp.set(a,Dm(Rp.get(a)||null,e,t,n,s,i)),!0}return!1}function JL(e){var t=uu(e.target);if(t!==null){var n=rd(t);if(n!==null){if(t=n.tag,t===13){if(t=BL(n),t!==null){e.blockedOn=t,XL(e.priority,function(){YL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);cC=s,n.target.dispatchEvent(s),cC=null}else return t=Xg(n),t!==null&&F_(t),e.blockedOn=n,!1;t.shift()}return!0}function oD(e,t,n){wy(e)&&n.delete(t)}function sZ(){mC=!1,rc!==null&&wy(rc)&&(rc=null),sc!==null&&wy(sc)&&(sc=null),ic!==null&&wy(ic)&&(ic=null),$p.forEach(oD),Rp.forEach(oD)}function Mm(e,t){e.blockedOn===t&&(e.blockedOn=null,mC||(mC=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,sZ)))}function Lp(e){function t(i){return Mm(i,e)}if(0<Px.length){Mm(Px[0],e);for(var n=1;n<Px.length;n++){var s=Px[n];s.blockedOn===e&&(s.blockedOn=null)}}for(rc!==null&&Mm(rc,e),sc!==null&&Mm(sc,e),ic!==null&&Mm(ic,e),$p.forEach(t),Rp.forEach(t),n=0;n<Ll.length;n++)s=Ll[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ll.length&&(n=Ll[0],n.blockedOn===null);)JL(n),n.blockedOn===null&&Ll.shift()}var bh=cl.ReactCurrentBatchConfig,Wy=!0;function iZ(e,t,n,s){var i=xn,a=bh.transition;bh.transition=null;try{xn=1,B_(e,t,n,s)}finally{xn=i,bh.transition=a}}function aZ(e,t,n,s){var i=xn,a=bh.transition;bh.transition=null;try{xn=4,B_(e,t,n,s)}finally{xn=i,bh.transition=a}}function B_(e,t,n,s){if(Wy){var i=pC(e,t,n,s);if(i===null)IN(e,t,s,Hy,n),aD(e,s);else if(rZ(i,e,t,n,s))s.stopPropagation();else if(aD(e,s),t&4&&-1<nZ.indexOf(e)){for(;i!==null;){var a=Xg(i);if(a!==null&&KL(a),a=pC(e,t,n,s),a===null&&IN(e,t,s,Hy,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else IN(e,t,s,null,n)}}var Hy=null;function pC(e,t,n,s){if(Hy=null,e=$_(s),e=uu(e),e!==null)if(t=rd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=BL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hy=e,null}function ZL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GJ()){case R_:return 1;case qL:return 4;case Uy:case KJ:return 16;case WL:return 536870912;default:return 16}default:return 16}}var Xl=null,z_=null,Ny=null;function eF(){if(Ny)return Ny;var e,t=z_,n=t.length,s,i="value"in Xl?Xl.value:Xl.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Ny=i.slice(e,1<s?1-s:void 0)}function Sy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _x(){return!0}function lD(){return!1}function Ni(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_x:lD,this.isPropagationStopped=lD,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_x)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_x)},persist:function(){},isPersistent:_x}),t}var Df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V_=Ni(Df),Qg=tr({},Df,{view:0,detail:0}),oZ=Ni(Qg),PN,_N,Im,Lj=tr({},Qg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Im&&(Im&&e.type==="mousemove"?(PN=e.screenX-Im.screenX,_N=e.screenY-Im.screenY):_N=PN=0,Im=e),PN)},movementY:function(e){return"movementY"in e?e.movementY:_N}}),cD=Ni(Lj),lZ=tr({},Lj,{dataTransfer:0}),cZ=Ni(lZ),uZ=tr({},Qg,{relatedTarget:0}),AN=Ni(uZ),dZ=tr({},Df,{animationName:0,elapsedTime:0,pseudoElement:0}),hZ=Ni(dZ),fZ=tr({},Df,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mZ=Ni(fZ),pZ=tr({},Df,{data:0}),uD=Ni(pZ),gZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xZ[e])?!!t[e]:!1}function U_(){return yZ}var jZ=tr({},Qg,{key:function(e){if(e.key){var t=gZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U_,charCode:function(e){return e.type==="keypress"?Sy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bZ=Ni(jZ),wZ=tr({},Lj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dD=Ni(wZ),NZ=tr({},Qg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U_}),SZ=Ni(NZ),CZ=tr({},Df,{propertyName:0,elapsedTime:0,pseudoElement:0}),PZ=Ni(CZ),_Z=tr({},Lj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AZ=Ni(_Z),EZ=[9,13,27,32],q_=Qo&&"CompositionEvent"in window,mp=null;Qo&&"documentMode"in document&&(mp=document.documentMode);var kZ=Qo&&"TextEvent"in window&&!mp,tF=Qo&&(!q_||mp&&8<mp&&11>=mp),hD=" ",fD=!1;function nF(e,t){switch(e){case"keyup":return EZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nh=!1;function TZ(e,t){switch(e){case"compositionend":return rF(t);case"keypress":return t.which!==32?null:(fD=!0,hD);case"textInput":return e=t.data,e===hD&&fD?null:e;default:return null}}function OZ(e,t){if(nh)return e==="compositionend"||!q_&&nF(e,t)?(e=eF(),Ny=z_=Xl=null,nh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tF&&t.locale!=="ko"?null:t.data;default:return null}}var DZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DZ[e.type]:t==="textarea"}function sF(e,t,n,s){IL(s),t=Gy(t,"onChange"),0<t.length&&(n=new V_("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var pp=null,Fp=null;function MZ(e){pF(e,0)}function Fj(e){var t=ih(e);if(AL(t))return e}function IZ(e,t){if(e==="change")return t}var iF=!1;if(Qo){var EN;if(Qo){var kN="oninput"in document;if(!kN){var pD=document.createElement("div");pD.setAttribute("oninput","return;"),kN=typeof pD.oninput=="function"}EN=kN}else EN=!1;iF=EN&&(!document.documentMode||9<document.documentMode)}function gD(){pp&&(pp.detachEvent("onpropertychange",aF),Fp=pp=null)}function aF(e){if(e.propertyName==="value"&&Fj(Fp)){var t=[];sF(t,Fp,e,$_(e)),FL(MZ,t)}}function $Z(e,t,n){e==="focusin"?(gD(),pp=t,Fp=n,pp.attachEvent("onpropertychange",aF)):e==="focusout"&&gD()}function RZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fj(Fp)}function LZ(e,t){if(e==="click")return Fj(t)}function FZ(e,t){if(e==="input"||e==="change")return Fj(t)}function BZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _a=typeof Object.is=="function"?Object.is:BZ;function Bp(e,t){if(_a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!XS.call(t,i)||!_a(e[i],t[i]))return!1}return!0}function vD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xD(e,t){var n=vD(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vD(n)}}function oF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lF(){for(var e=window,t=By();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=By(e.document)}return t}function W_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zZ(e){var t=lF(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&oF(n.ownerDocument.documentElement,n)){if(s!==null&&W_(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=xD(n,a);var o=xD(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VZ=Qo&&"documentMode"in document&&11>=document.documentMode,rh=null,gC=null,gp=null,vC=!1;function yD(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vC||rh==null||rh!==By(s)||(s=rh,"selectionStart"in s&&W_(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),gp&&Bp(gp,s)||(gp=s,s=Gy(gC,"onSelect"),0<s.length&&(t=new V_("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=rh)))}function Ax(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sh={animationend:Ax("Animation","AnimationEnd"),animationiteration:Ax("Animation","AnimationIteration"),animationstart:Ax("Animation","AnimationStart"),transitionend:Ax("Transition","TransitionEnd")},TN={},cF={};Qo&&(cF=document.createElement("div").style,"AnimationEvent"in window||(delete sh.animationend.animation,delete sh.animationiteration.animation,delete sh.animationstart.animation),"TransitionEvent"in window||delete sh.transitionend.transition);function Bj(e){if(TN[e])return TN[e];if(!sh[e])return e;var t=sh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cF)return TN[e]=t[n];return e}var uF=Bj("animationend"),dF=Bj("animationiteration"),hF=Bj("animationstart"),fF=Bj("transitionend"),mF=new Map,jD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nc(e,t){mF.set(e,t),nd(t,[e])}for(var ON=0;ON<jD.length;ON++){var DN=jD[ON],UZ=DN.toLowerCase(),qZ=DN[0].toUpperCase()+DN.slice(1);Nc(UZ,"on"+qZ)}Nc(uF,"onAnimationEnd");Nc(dF,"onAnimationIteration");Nc(hF,"onAnimationStart");Nc("dblclick","onDoubleClick");Nc("focusin","onFocus");Nc("focusout","onBlur");Nc(fF,"onTransitionEnd");qh("onMouseEnter",["mouseout","mouseover"]);qh("onMouseLeave",["mouseout","mouseover"]);qh("onPointerEnter",["pointerout","pointerover"]);qh("onPointerLeave",["pointerout","pointerover"]);nd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nd("onBeforeInput",["compositionend","keypress","textInput","paste"]);nd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(ap));function bD(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,UJ(s,t,void 0,e),e.currentTarget=null}function pF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;bD(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;bD(i,l,u),a=c}}}if(Vy)throw e=hC,Vy=!1,hC=null,e}function Ln(e,t){var n=t[wC];n===void 0&&(n=t[wC]=new Set);var s=e+"__bubble";n.has(s)||(gF(t,e,2,!1),n.add(s))}function MN(e,t,n){var s=0;t&&(s|=4),gF(n,e,s,t)}var Ex="_reactListening"+Math.random().toString(36).slice(2);function zp(e){if(!e[Ex]){e[Ex]=!0,NL.forEach(function(n){n!=="selectionchange"&&(WZ.has(n)||MN(n,!1,e),MN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ex]||(t[Ex]=!0,MN("selectionchange",!1,t))}}function gF(e,t,n,s){switch(ZL(t)){case 1:var i=iZ;break;case 4:i=aZ;break;default:i=B_}n=i.bind(null,t,n,e),i=void 0,!dC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function IN(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=uu(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}FL(function(){var u=a,d=$_(n),f=[];e:{var m=mF.get(e);if(m!==void 0){var g=V_,x=e;switch(e){case"keypress":if(Sy(n)===0)break e;case"keydown":case"keyup":g=bZ;break;case"focusin":x="focus",g=AN;break;case"focusout":x="blur",g=AN;break;case"beforeblur":case"afterblur":g=AN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=cD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=cZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=SZ;break;case uF:case dF:case hF:g=hZ;break;case fF:g=PZ;break;case"scroll":g=oZ;break;case"wheel":g=AZ;break;case"copy":case"cut":case"paste":g=mZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=dD}var v=(t&4)!==0,y=!v&&e==="scroll",N=v?m!==null?m+"Capture":null:m;v=[];for(var j=u,b;j!==null;){b=j;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,N!==null&&(P=Ip(j,N),P!=null&&v.push(Vp(j,P,b)))),y)break;j=j.return}0<v.length&&(m=new g(m,x,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==cC&&(x=n.relatedTarget||n.fromElement)&&(uu(x)||x[Xo]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?uu(x):null,x!==null&&(y=rd(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=cD,P="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(v=dD,P="onPointerLeave",N="onPointerEnter",j="pointer"),y=g==null?m:ih(g),b=x==null?m:ih(x),m=new v(P,j+"leave",g,n,d),m.target=y,m.relatedTarget=b,P=null,uu(d)===u&&(v=new v(N,j+"enter",x,n,d),v.target=b,v.relatedTarget=y,P=v),y=P,g&&x)t:{for(v=g,N=x,j=0,b=v;b;b=Id(b))j++;for(b=0,P=N;P;P=Id(P))b++;for(;0<j-b;)v=Id(v),j--;for(;0<b-j;)N=Id(N),b--;for(;j--;){if(v===N||N!==null&&v===N.alternate)break t;v=Id(v),N=Id(N)}v=null}else v=null;g!==null&&wD(f,m,g,v,!1),x!==null&&y!==null&&wD(f,y,x,v,!0)}}e:{if(m=u?ih(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=IZ;else if(mD(m))if(iF)C=FZ;else{C=RZ;var A=$Z}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=LZ);if(C&&(C=C(e,u))){sF(f,C,n,d);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&sC(m,"number",m.value)}switch(A=u?ih(u):window,e){case"focusin":(mD(A)||A.contentEditable==="true")&&(rh=A,gC=u,gp=null);break;case"focusout":gp=gC=rh=null;break;case"mousedown":vC=!0;break;case"contextmenu":case"mouseup":case"dragend":vC=!1,yD(f,n,d);break;case"selectionchange":if(VZ)break;case"keydown":case"keyup":yD(f,n,d)}var _;if(q_)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else nh?nF(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(tF&&n.locale!=="ko"&&(nh||E!=="onCompositionStart"?E==="onCompositionEnd"&&nh&&(_=eF()):(Xl=d,z_="value"in Xl?Xl.value:Xl.textContent,nh=!0)),A=Gy(u,E),0<A.length&&(E=new uD(E,e,null,n,d),f.push({event:E,listeners:A}),_?E.data=_:(_=rF(n),_!==null&&(E.data=_)))),(_=kZ?TZ(e,n):OZ(e,n))&&(u=Gy(u,"onBeforeInput"),0<u.length&&(d=new uD("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}pF(f,t)})}function Vp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gy(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ip(e,n),a!=null&&s.unshift(Vp(e,a,i)),a=Ip(e,t),a!=null&&s.push(Vp(e,a,i))),e=e.return}return s}function Id(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wD(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=Ip(n,a),c!=null&&o.unshift(Vp(n,c,l))):i||(c=Ip(n,a),c!=null&&o.push(Vp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var HZ=/\r\n?/g,GZ=/\u0000|\uFFFD/g;function ND(e){return(typeof e=="string"?e:""+e).replace(HZ,`
`).replace(GZ,"")}function kx(e,t,n){if(t=ND(t),ND(e)!==t&&n)throw Error(Ue(425))}function Ky(){}var xC=null,yC=null;function jC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bC=typeof setTimeout=="function"?setTimeout:void 0,KZ=typeof clearTimeout=="function"?clearTimeout:void 0,SD=typeof Promise=="function"?Promise:void 0,YZ=typeof queueMicrotask=="function"?queueMicrotask:typeof SD<"u"?function(e){return SD.resolve(null).then(e).catch(QZ)}:bC;function QZ(e){setTimeout(function(){throw e})}function $N(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Lp(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Lp(t)}function ac(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),Qa="__reactFiber$"+Mf,Up="__reactProps$"+Mf,Xo="__reactContainer$"+Mf,wC="__reactEvents$"+Mf,XZ="__reactListeners$"+Mf,JZ="__reactHandles$"+Mf;function uu(e){var t=e[Qa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xo]||n[Qa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=CD(e);e!==null;){if(n=e[Qa])return n;e=CD(e)}return t}e=n,n=e.parentNode}return null}function Xg(e){return e=e[Qa]||e[Xo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ih(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function zj(e){return e[Up]||null}var NC=[],ah=-1;function Sc(e){return{current:e}}function Vn(e){0>ah||(e.current=NC[ah],NC[ah]=null,ah--)}function Dn(e,t){ah++,NC[ah]=e.current,e.current=t}var gc={},fs=Sc(gc),Ks=Sc(!1),Mu=gc;function Wh(e,t){var n=e.type.contextTypes;if(!n)return gc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ys(e){return e=e.childContextTypes,e!=null}function Yy(){Vn(Ks),Vn(fs)}function PD(e,t,n){if(fs.current!==gc)throw Error(Ue(168));Dn(fs,t),Dn(Ks,n)}function vF(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Ue(108,$J(e)||"Unknown",i));return tr({},n,s)}function Qy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gc,Mu=fs.current,Dn(fs,e),Dn(Ks,Ks.current),!0}function _D(e,t,n){var s=e.stateNode;if(!s)throw Error(Ue(169));n?(e=vF(e,t,Mu),s.__reactInternalMemoizedMergedChildContext=e,Vn(Ks),Vn(fs),Dn(fs,e)):Vn(Ks),Dn(Ks,n)}var Io=null,Vj=!1,RN=!1;function xF(e){Io===null?Io=[e]:Io.push(e)}function ZZ(e){Vj=!0,xF(e)}function Cc(){if(!RN&&Io!==null){RN=!0;var e=0,t=xn;try{var n=Io;for(xn=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Io=null,Vj=!1}catch(i){throw Io!==null&&(Io=Io.slice(e+1)),UL(R_,Cc),i}finally{xn=t,RN=!1}}return null}var oh=[],lh=0,Xy=null,Jy=0,Fi=[],Bi=0,Iu=null,Bo=1,zo="";function tu(e,t){oh[lh++]=Jy,oh[lh++]=Xy,Xy=e,Jy=t}function yF(e,t,n){Fi[Bi++]=Bo,Fi[Bi++]=zo,Fi[Bi++]=Iu,Iu=e;var s=Bo;e=zo;var i=32-Na(s)-1;s&=~(1<<i),n+=1;var a=32-Na(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Bo=1<<32-Na(t)+i|n<<i|s,zo=a+e}else Bo=1<<a|n<<i|s,zo=e}function H_(e){e.return!==null&&(tu(e,1),yF(e,1,0))}function G_(e){for(;e===Xy;)Xy=oh[--lh],oh[lh]=null,Jy=oh[--lh],oh[lh]=null;for(;e===Iu;)Iu=Fi[--Bi],Fi[Bi]=null,zo=Fi[--Bi],Fi[Bi]=null,Bo=Fi[--Bi],Fi[Bi]=null}var gi=null,pi=null,Wn=!1,ya=null;function jF(e,t){var n=Vi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function AD(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gi=e,pi=ac(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gi=e,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Iu!==null?{id:Bo,overflow:zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gi=e,pi=null,!0):!1;default:return!1}}function SC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function CC(e){if(Wn){var t=pi;if(t){var n=t;if(!AD(e,t)){if(SC(e))throw Error(Ue(418));t=ac(n.nextSibling);var s=gi;t&&AD(e,t)?jF(s,n):(e.flags=e.flags&-4097|2,Wn=!1,gi=e)}}else{if(SC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Wn=!1,gi=e}}}function ED(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gi=e}function Tx(e){if(e!==gi)return!1;if(!Wn)return ED(e),Wn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jC(e.type,e.memoizedProps)),t&&(t=pi)){if(SC(e))throw bF(),Error(Ue(418));for(;t;)jF(e,t),t=ac(t.nextSibling)}if(ED(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pi=ac(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pi=null}}else pi=gi?ac(e.stateNode.nextSibling):null;return!0}function bF(){for(var e=pi;e;)e=ac(e.nextSibling)}function Hh(){pi=gi=null,Wn=!1}function K_(e){ya===null?ya=[e]:ya.push(e)}var eee=cl.ReactCurrentBatchConfig;function $m(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var s=n.stateNode}if(!s)throw Error(Ue(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function Ox(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kD(e){var t=e._init;return t(e._payload)}function wF(e){function t(N,j){if(e){var b=N.deletions;b===null?(N.deletions=[j],N.flags|=16):b.push(j)}}function n(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function s(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function i(N,j){return N=uc(N,j),N.index=0,N.sibling=null,N}function a(N,j,b){return N.index=b,e?(b=N.alternate,b!==null?(b=b.index,b<j?(N.flags|=2,j):b):(N.flags|=2,j)):(N.flags|=1048576,j)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,j,b,P){return j===null||j.tag!==6?(j=qN(b,N.mode,P),j.return=N,j):(j=i(j,b),j.return=N,j)}function c(N,j,b,P){var C=b.type;return C===th?d(N,j,b.props.children,P,b.key):j!==null&&(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Il&&kD(C)===j.type)?(P=i(j,b.props),P.ref=$m(N,j,b),P.return=N,P):(P=Ty(b.type,b.key,b.props,null,N.mode,P),P.ref=$m(N,j,b),P.return=N,P)}function u(N,j,b,P){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=WN(b,N.mode,P),j.return=N,j):(j=i(j,b.children||[]),j.return=N,j)}function d(N,j,b,P,C){return j===null||j.tag!==7?(j=ku(b,N.mode,P,C),j.return=N,j):(j=i(j,b),j.return=N,j)}function f(N,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=qN(""+j,N.mode,b),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bx:return b=Ty(j.type,j.key,j.props,null,N.mode,b),b.ref=$m(N,null,j),b.return=N,b;case eh:return j=WN(j,N.mode,b),j.return=N,j;case Il:var P=j._init;return f(N,P(j._payload),b)}if(sp(j)||Tm(j))return j=ku(j,N.mode,b,null),j.return=N,j;Ox(N,j)}return null}function m(N,j,b,P){var C=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(N,j,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bx:return b.key===C?c(N,j,b,P):null;case eh:return b.key===C?u(N,j,b,P):null;case Il:return C=b._init,m(N,j,C(b._payload),P)}if(sp(b)||Tm(b))return C!==null?null:d(N,j,b,P,null);Ox(N,b)}return null}function g(N,j,b,P,C){if(typeof P=="string"&&P!==""||typeof P=="number")return N=N.get(b)||null,l(j,N,""+P,C);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case bx:return N=N.get(P.key===null?b:P.key)||null,c(j,N,P,C);case eh:return N=N.get(P.key===null?b:P.key)||null,u(j,N,P,C);case Il:var A=P._init;return g(N,j,b,A(P._payload),C)}if(sp(P)||Tm(P))return N=N.get(b)||null,d(j,N,P,C,null);Ox(j,P)}return null}function x(N,j,b,P){for(var C=null,A=null,_=j,E=j=0,O=null;_!==null&&E<b.length;E++){_.index>E?(O=_,_=null):O=_.sibling;var I=m(N,_,b[E],P);if(I===null){_===null&&(_=O);break}e&&_&&I.alternate===null&&t(N,_),j=a(I,j,E),A===null?C=I:A.sibling=I,A=I,_=O}if(E===b.length)return n(N,_),Wn&&tu(N,E),C;if(_===null){for(;E<b.length;E++)_=f(N,b[E],P),_!==null&&(j=a(_,j,E),A===null?C=_:A.sibling=_,A=_);return Wn&&tu(N,E),C}for(_=s(N,_);E<b.length;E++)O=g(_,N,E,b[E],P),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?E:O.key),j=a(O,j,E),A===null?C=O:A.sibling=O,A=O);return e&&_.forEach(function(D){return t(N,D)}),Wn&&tu(N,E),C}function v(N,j,b,P){var C=Tm(b);if(typeof C!="function")throw Error(Ue(150));if(b=C.call(b),b==null)throw Error(Ue(151));for(var A=C=null,_=j,E=j=0,O=null,I=b.next();_!==null&&!I.done;E++,I=b.next()){_.index>E?(O=_,_=null):O=_.sibling;var D=m(N,_,I.value,P);if(D===null){_===null&&(_=O);break}e&&_&&D.alternate===null&&t(N,_),j=a(D,j,E),A===null?C=D:A.sibling=D,A=D,_=O}if(I.done)return n(N,_),Wn&&tu(N,E),C;if(_===null){for(;!I.done;E++,I=b.next())I=f(N,I.value,P),I!==null&&(j=a(I,j,E),A===null?C=I:A.sibling=I,A=I);return Wn&&tu(N,E),C}for(_=s(N,_);!I.done;E++,I=b.next())I=g(_,N,E,I.value,P),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?E:I.key),j=a(I,j,E),A===null?C=I:A.sibling=I,A=I);return e&&_.forEach(function(k){return t(N,k)}),Wn&&tu(N,E),C}function y(N,j,b,P){if(typeof b=="object"&&b!==null&&b.type===th&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bx:e:{for(var C=b.key,A=j;A!==null;){if(A.key===C){if(C=b.type,C===th){if(A.tag===7){n(N,A.sibling),j=i(A,b.props.children),j.return=N,N=j;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Il&&kD(C)===A.type){n(N,A.sibling),j=i(A,b.props),j.ref=$m(N,A,b),j.return=N,N=j;break e}n(N,A);break}else t(N,A);A=A.sibling}b.type===th?(j=ku(b.props.children,N.mode,P,b.key),j.return=N,N=j):(P=Ty(b.type,b.key,b.props,null,N.mode,P),P.ref=$m(N,j,b),P.return=N,N=P)}return o(N);case eh:e:{for(A=b.key;j!==null;){if(j.key===A)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){n(N,j.sibling),j=i(j,b.children||[]),j.return=N,N=j;break e}else{n(N,j);break}else t(N,j);j=j.sibling}j=WN(b,N.mode,P),j.return=N,N=j}return o(N);case Il:return A=b._init,y(N,j,A(b._payload),P)}if(sp(b))return x(N,j,b,P);if(Tm(b))return v(N,j,b,P);Ox(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(n(N,j.sibling),j=i(j,b),j.return=N,N=j):(n(N,j),j=qN(b,N.mode,P),j.return=N,N=j),o(N)):n(N,j)}return y}var Gh=wF(!0),NF=wF(!1),Zy=Sc(null),e0=null,ch=null,Y_=null;function Q_(){Y_=ch=e0=null}function X_(e){var t=Zy.current;Vn(Zy),e._currentValue=t}function PC(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function wh(e,t){e0=e,Y_=ch=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hs=!0),e.firstContext=null)}function Ki(e){var t=e._currentValue;if(Y_!==e)if(e={context:e,memoizedValue:t,next:null},ch===null){if(e0===null)throw Error(Ue(308));ch=e,e0.dependencies={lanes:0,firstContext:e}}else ch=ch.next=e;return t}var du=null;function J_(e){du===null?du=[e]:du.push(e)}function SF(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,J_(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jo(e,s)}function Jo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $l=!1;function Z_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oc(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,an&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Jo(e,n)}return i=s.interleaved,i===null?(t.next=t,J_(s)):(t.next=i.next,i.next=t),s.interleaved=t,Jo(e,n)}function Cy(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,L_(e,n)}}function TD(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function t0(e,t,n,s){var i=e.updateQueue;$l=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,g=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(m=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=tr({},f,m);break e;case 2:$l=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ru|=o,e.lanes=o,e.memoizedState=f}}function OD(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Ue(191,i));i.call(s)}}}var Jg={},io=Sc(Jg),qp=Sc(Jg),Wp=Sc(Jg);function hu(e){if(e===Jg)throw Error(Ue(174));return e}function eA(e,t){switch(Dn(Wp,t),Dn(qp,e),Dn(io,Jg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:aC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=aC(t,e)}Vn(io),Dn(io,t)}function Kh(){Vn(io),Vn(qp),Vn(Wp)}function PF(e){hu(Wp.current);var t=hu(io.current),n=aC(t,e.type);t!==n&&(Dn(qp,e),Dn(io,n))}function tA(e){qp.current===e&&(Vn(io),Vn(qp))}var Jn=Sc(0);function n0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var LN=[];function nA(){for(var e=0;e<LN.length;e++)LN[e]._workInProgressVersionPrimary=null;LN.length=0}var Py=cl.ReactCurrentDispatcher,FN=cl.ReactCurrentBatchConfig,$u=0,er=null,Ar=null,Lr=null,r0=!1,vp=!1,Hp=0,tee=0;function as(){throw Error(Ue(321))}function rA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_a(e[n],t[n]))return!1;return!0}function sA(e,t,n,s,i,a){if($u=a,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Py.current=e===null||e.memoizedState===null?iee:aee,e=n(s,i),vp){a=0;do{if(vp=!1,Hp=0,25<=a)throw Error(Ue(301));a+=1,Lr=Ar=null,t.updateQueue=null,Py.current=oee,e=n(s,i)}while(vp)}if(Py.current=s0,t=Ar!==null&&Ar.next!==null,$u=0,Lr=Ar=er=null,r0=!1,t)throw Error(Ue(300));return e}function iA(){var e=Hp!==0;return Hp=0,e}function qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?er.memoizedState=Lr=e:Lr=Lr.next=e,Lr}function Yi(){if(Ar===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=Ar.next;var t=Lr===null?er.memoizedState:Lr.next;if(t!==null)Lr=t,Ar=e;else{if(e===null)throw Error(Ue(310));Ar=e,e={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Lr===null?er.memoizedState=Lr=e:Lr=Lr.next=e}return Lr}function Gp(e,t){return typeof t=="function"?t(e):t}function BN(e){var t=Yi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=Ar,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if(($u&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,er.lanes|=d,Ru|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,_a(s,t.memoizedState)||(Hs=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,er.lanes|=a,Ru|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zN(e){var t=Yi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);_a(a,t.memoizedState)||(Hs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function _F(){}function AF(e,t){var n=er,s=Yi(),i=t(),a=!_a(s.memoizedState,i);if(a&&(s.memoizedState=i,Hs=!0),s=s.queue,aA(TF.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Lr!==null&&Lr.memoizedState.tag&1){if(n.flags|=2048,Kp(9,kF.bind(null,n,s,i,t),void 0,null),Vr===null)throw Error(Ue(349));$u&30||EF(n,t,i)}return i}function EF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kF(e,t,n,s){t.value=n,t.getSnapshot=s,OF(t)&&DF(e)}function TF(e,t,n){return n(function(){OF(t)&&DF(e)})}function OF(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_a(e,n)}catch{return!0}}function DF(e){var t=Jo(e,1);t!==null&&Sa(t,e,1,-1)}function DD(e){var t=qa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:e},t.queue=e,e=e.dispatch=see.bind(null,er,e),[t.memoizedState,e]}function Kp(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function MF(){return Yi().memoizedState}function _y(e,t,n,s){var i=qa();er.flags|=e,i.memoizedState=Kp(1|t,n,void 0,s===void 0?null:s)}function Uj(e,t,n,s){var i=Yi();s=s===void 0?null:s;var a=void 0;if(Ar!==null){var o=Ar.memoizedState;if(a=o.destroy,s!==null&&rA(s,o.deps)){i.memoizedState=Kp(t,n,a,s);return}}er.flags|=e,i.memoizedState=Kp(1|t,n,a,s)}function MD(e,t){return _y(8390656,8,e,t)}function aA(e,t){return Uj(2048,8,e,t)}function IF(e,t){return Uj(4,2,e,t)}function $F(e,t){return Uj(4,4,e,t)}function RF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function LF(e,t,n){return n=n!=null?n.concat([e]):null,Uj(4,4,RF.bind(null,t,e),n)}function oA(){}function FF(e,t){var n=Yi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rA(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function BF(e,t){var n=Yi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rA(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function zF(e,t,n){return $u&21?(_a(n,t)||(n=HL(),er.lanes|=n,Ru|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hs=!0),e.memoizedState=n)}function nee(e,t){var n=xn;xn=n!==0&&4>n?n:4,e(!0);var s=FN.transition;FN.transition={};try{e(!1),t()}finally{xn=n,FN.transition=s}}function VF(){return Yi().memoizedState}function ree(e,t,n){var s=cc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},UF(e))qF(t,n);else if(n=SF(e,t,n,s),n!==null){var i=Es();Sa(n,e,s,i),WF(n,t,s)}}function see(e,t,n){var s=cc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(UF(e))qF(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,_a(l,o)){var c=t.interleaved;c===null?(i.next=i,J_(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=SF(e,t,i,s),n!==null&&(i=Es(),Sa(n,e,s,i),WF(n,t,s))}}function UF(e){var t=e.alternate;return e===er||t!==null&&t===er}function qF(e,t){vp=r0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function WF(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,L_(e,n)}}var s0={readContext:Ki,useCallback:as,useContext:as,useEffect:as,useImperativeHandle:as,useInsertionEffect:as,useLayoutEffect:as,useMemo:as,useReducer:as,useRef:as,useState:as,useDebugValue:as,useDeferredValue:as,useTransition:as,useMutableSource:as,useSyncExternalStore:as,useId:as,unstable_isNewReconciler:!1},iee={readContext:Ki,useCallback:function(e,t){return qa().memoizedState=[e,t===void 0?null:t],e},useContext:Ki,useEffect:MD,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_y(4194308,4,RF.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _y(4194308,4,e,t)},useInsertionEffect:function(e,t){return _y(4,2,e,t)},useMemo:function(e,t){var n=qa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=qa();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=ree.bind(null,er,e),[s.memoizedState,e]},useRef:function(e){var t=qa();return e={current:e},t.memoizedState=e},useState:DD,useDebugValue:oA,useDeferredValue:function(e){return qa().memoizedState=e},useTransition:function(){var e=DD(!1),t=e[0];return e=nee.bind(null,e[1]),qa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=er,i=qa();if(Wn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),Vr===null)throw Error(Ue(349));$u&30||EF(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,MD(TF.bind(null,s,a,e),[e]),s.flags|=2048,Kp(9,kF.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=qa(),t=Vr.identifierPrefix;if(Wn){var n=zo,s=Bo;n=(s&~(1<<32-Na(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aee={readContext:Ki,useCallback:FF,useContext:Ki,useEffect:aA,useImperativeHandle:LF,useInsertionEffect:IF,useLayoutEffect:$F,useMemo:BF,useReducer:BN,useRef:MF,useState:function(){return BN(Gp)},useDebugValue:oA,useDeferredValue:function(e){var t=Yi();return zF(t,Ar.memoizedState,e)},useTransition:function(){var e=BN(Gp)[0],t=Yi().memoizedState;return[e,t]},useMutableSource:_F,useSyncExternalStore:AF,useId:VF,unstable_isNewReconciler:!1},oee={readContext:Ki,useCallback:FF,useContext:Ki,useEffect:aA,useImperativeHandle:LF,useInsertionEffect:IF,useLayoutEffect:$F,useMemo:BF,useReducer:zN,useRef:MF,useState:function(){return zN(Gp)},useDebugValue:oA,useDeferredValue:function(e){var t=Yi();return Ar===null?t.memoizedState=e:zF(t,Ar.memoizedState,e)},useTransition:function(){var e=zN(Gp)[0],t=Yi().memoizedState;return[e,t]},useMutableSource:_F,useSyncExternalStore:AF,useId:VF,unstable_isNewReconciler:!1};function ha(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _C(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:tr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qj={isMounted:function(e){return(e=e._reactInternals)?rd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Es(),i=cc(e),a=Wo(s,i);a.payload=t,n!=null&&(a.callback=n),t=oc(e,a,i),t!==null&&(Sa(t,e,i,s),Cy(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Es(),i=cc(e),a=Wo(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=oc(e,a,i),t!==null&&(Sa(t,e,i,s),Cy(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Es(),s=cc(e),i=Wo(n,s);i.tag=2,t!=null&&(i.callback=t),t=oc(e,i,s),t!==null&&(Sa(t,e,s,n),Cy(t,e,s))}};function ID(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Bp(n,s)||!Bp(i,a):!0}function HF(e,t,n){var s=!1,i=gc,a=t.contextType;return typeof a=="object"&&a!==null?a=Ki(a):(i=Ys(t)?Mu:fs.current,s=t.contextTypes,a=(s=s!=null)?Wh(e,i):gc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qj,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function $D(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&qj.enqueueReplaceState(t,t.state,null)}function AC(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Z_(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ki(a):(a=Ys(t)?Mu:fs.current,i.context=Wh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_C(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qj.enqueueReplaceState(i,i.state,null),t0(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yh(e,t){try{var n="",s=t;do n+=IJ(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function VN(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function EC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lee=typeof WeakMap=="function"?WeakMap:Map;function GF(e,t,n){n=Wo(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){a0||(a0=!0,FC=s),EC(e,t)},n}function KF(e,t,n){n=Wo(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){EC(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){EC(e,t),typeof s!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function RD(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new lee;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=wee.bind(null,e,t,n),t.then(e,e))}function LD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function FD(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wo(-1,1),t.tag=2,oc(n,t,1))),n.lanes|=1),e)}var cee=cl.ReactCurrentOwner,Hs=!1;function Ss(e,t,n,s){t.child=e===null?NF(t,null,n,s):Gh(t,e.child,n,s)}function BD(e,t,n,s,i){n=n.render;var a=t.ref;return wh(t,i),s=sA(e,t,n,s,a,i),n=iA(),e!==null&&!Hs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i)):(Wn&&n&&H_(t),t.flags|=1,Ss(e,t,s,i),t.child)}function zD(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!pA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,YF(e,t,a,s,i)):(e=Ty(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bp,n(o,s)&&e.ref===t.ref)return Zo(e,t,i)}return t.flags|=1,e=uc(a,s),e.ref=t.ref,e.return=t,t.child=e}function YF(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Bp(a,s)&&e.ref===t.ref)if(Hs=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Hs=!0);else return t.lanes=e.lanes,Zo(e,t,i)}return kC(e,t,n,s,i)}function QF(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(dh,ui),ui|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dn(dh,ui),ui|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Dn(dh,ui),ui|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Dn(dh,ui),ui|=s;return Ss(e,t,i,n),t.child}function XF(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kC(e,t,n,s,i){var a=Ys(n)?Mu:fs.current;return a=Wh(t,a),wh(t,i),n=sA(e,t,n,s,a,i),s=iA(),e!==null&&!Hs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i)):(Wn&&s&&H_(t),t.flags|=1,Ss(e,t,n,i),t.child)}function VD(e,t,n,s,i){if(Ys(n)){var a=!0;Qy(t)}else a=!1;if(wh(t,i),t.stateNode===null)Ay(e,t),HF(t,n,s),AC(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ki(u):(u=Ys(n)?Mu:fs.current,u=Wh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&$D(t,o,s,u),$l=!1;var m=t.memoizedState;o.state=m,t0(t,s,o,i),c=t.memoizedState,l!==s||m!==c||Ks.current||$l?(typeof d=="function"&&(_C(t,n,d,s),c=t.memoizedState),(l=$l||ID(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,CF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ha(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ki(c):(c=Ys(n)?Mu:fs.current,c=Wh(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&$D(t,o,s,c),$l=!1,m=t.memoizedState,o.state=m,t0(t,s,o,i);var x=t.memoizedState;l!==f||m!==x||Ks.current||$l?(typeof g=="function"&&(_C(t,n,g,s),x=t.memoizedState),(u=$l||ID(t,n,u,s,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return TC(e,t,n,s,a,i)}function TC(e,t,n,s,i,a){XF(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&_D(t,n,!1),Zo(e,t,a);s=t.stateNode,cee.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Gh(t,e.child,null,a),t.child=Gh(t,null,l,a)):Ss(e,t,l,a),t.memoizedState=s.state,i&&_D(t,n,!0),t.child}function JF(e){var t=e.stateNode;t.pendingContext?PD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&PD(e,t.context,!1),eA(e,t.containerInfo)}function UD(e,t,n,s,i){return Hh(),K_(i),t.flags|=256,Ss(e,t,n,s),t.child}var OC={dehydrated:null,treeContext:null,retryLane:0};function DC(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZF(e,t,n){var s=t.pendingProps,i=Jn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Dn(Jn,i&1),e===null)return CC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Gj(o,s,0,null),e=ku(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=DC(n),t.memoizedState=OC,e):lA(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return uee(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=uc(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=uc(l,a):(a=ku(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?DC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=OC,s}return a=e.child,e=a.sibling,s=uc(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function lA(e,t){return t=Gj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dx(e,t,n,s){return s!==null&&K_(s),Gh(t,e.child,null,n),e=lA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uee(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=VN(Error(Ue(422))),Dx(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Gj({mode:"visible",children:s.children},i,0,null),a=ku(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Gh(t,e.child,null,o),t.child.memoizedState=DC(o),t.memoizedState=OC,a);if(!(t.mode&1))return Dx(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ue(419)),s=VN(a,s,void 0),Dx(e,t,o,s)}if(l=(o&e.childLanes)!==0,Hs||l){if(s=Vr,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Jo(e,i),Sa(s,e,i,-1))}return mA(),s=VN(Error(Ue(421))),Dx(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Nee.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pi=ac(i.nextSibling),gi=t,Wn=!0,ya=null,e!==null&&(Fi[Bi++]=Bo,Fi[Bi++]=zo,Fi[Bi++]=Iu,Bo=e.id,zo=e.overflow,Iu=t),t=lA(t,s.children),t.flags|=4096,t)}function qD(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),PC(e.return,t,n)}function UN(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function e5(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Ss(e,t,s.children,n),s=Jn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qD(e,n,t);else if(e.tag===19)qD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Dn(Jn,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&n0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),UN(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&n0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}UN(t,!0,n,null,a);break;case"together":UN(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ay(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ru|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=uc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=uc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dee(e,t,n){switch(t.tag){case 3:JF(t),Hh();break;case 5:PF(t);break;case 1:Ys(t.type)&&Qy(t);break;case 4:eA(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Dn(Zy,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Dn(Jn,Jn.current&1),t.flags|=128,null):n&t.child.childLanes?ZF(e,t,n):(Dn(Jn,Jn.current&1),e=Zo(e,t,n),e!==null?e.sibling:null);Dn(Jn,Jn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return e5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dn(Jn,Jn.current),s)break;return null;case 22:case 23:return t.lanes=0,QF(e,t,n)}return Zo(e,t,n)}var t5,MC,n5,r5;t5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};MC=function(){};n5=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,hu(io.current);var a=null;switch(n){case"input":i=nC(e,i),s=nC(e,s),a=[];break;case"select":i=tr({},i,{value:void 0}),s=tr({},s,{value:void 0}),a=[];break;case"textarea":i=iC(e,i),s=iC(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ky)}oC(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ln("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};r5=function(e,t,n,s){n!==s&&(t.flags|=4)};function Rm(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function os(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function hee(e,t,n){var s=t.pendingProps;switch(G_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return os(t),null;case 1:return Ys(t.type)&&Yy(),os(t),null;case 3:return s=t.stateNode,Kh(),Vn(Ks),Vn(fs),nA(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Tx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ya!==null&&(VC(ya),ya=null))),MC(e,t),os(t),null;case 5:tA(t);var i=hu(Wp.current);if(n=t.type,e!==null&&t.stateNode!=null)n5(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ue(166));return os(t),null}if(e=hu(io.current),Tx(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Qa]=t,s[Up]=a,e=(t.mode&1)!==0,n){case"dialog":Ln("cancel",s),Ln("close",s);break;case"iframe":case"object":case"embed":Ln("load",s);break;case"video":case"audio":for(i=0;i<ap.length;i++)Ln(ap[i],s);break;case"source":Ln("error",s);break;case"img":case"image":case"link":Ln("error",s),Ln("load",s);break;case"details":Ln("toggle",s);break;case"input":ZO(s,a),Ln("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Ln("invalid",s);break;case"textarea":tD(s,a),Ln("invalid",s)}oC(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&kx(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&kx(s.textContent,l,e),i=["children",""+l]):Dp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ln("scroll",s)}switch(n){case"input":wx(s),eD(s,a,!0);break;case"textarea":wx(s),nD(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Ky)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Qa]=t,e[Up]=s,t5(e,t,!1,!1),t.stateNode=e;e:{switch(o=lC(n,s),n){case"dialog":Ln("cancel",e),Ln("close",e),i=s;break;case"iframe":case"object":case"embed":Ln("load",e),i=s;break;case"video":case"audio":for(i=0;i<ap.length;i++)Ln(ap[i],e);i=s;break;case"source":Ln("error",e),i=s;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),i=s;break;case"details":Ln("toggle",e),i=s;break;case"input":ZO(e,s),i=nC(e,s),Ln("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=tr({},s,{value:void 0}),Ln("invalid",e);break;case"textarea":tD(e,s),i=iC(e,s),Ln("invalid",e);break;default:i=s}oC(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?ML(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OL(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mp(e,c):typeof c=="number"&&Mp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Dp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ln("scroll",e):c!=null&&O_(e,a,c,o))}switch(n){case"input":wx(e),eD(e,s,!1);break;case"textarea":wx(e),nD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+pc(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?xh(e,!!s.multiple,a,!1):s.defaultValue!=null&&xh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ky)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return os(t),null;case 6:if(e&&t.stateNode!=null)r5(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=hu(Wp.current),hu(io.current),Tx(t)){if(s=t.stateNode,n=t.memoizedProps,s[Qa]=t,(a=s.nodeValue!==n)&&(e=gi,e!==null))switch(e.tag){case 3:kx(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kx(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Qa]=t,t.stateNode=s}return os(t),null;case 13:if(Vn(Jn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wn&&pi!==null&&t.mode&1&&!(t.flags&128))bF(),Hh(),t.flags|=98560,a=!1;else if(a=Tx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[Qa]=t}else Hh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;os(t),a=!1}else ya!==null&&(VC(ya),ya=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Jn.current&1?Tr===0&&(Tr=3):mA())),t.updateQueue!==null&&(t.flags|=4),os(t),null);case 4:return Kh(),MC(e,t),e===null&&zp(t.stateNode.containerInfo),os(t),null;case 10:return X_(t.type._context),os(t),null;case 17:return Ys(t.type)&&Yy(),os(t),null;case 19:if(Vn(Jn),a=t.memoizedState,a===null)return os(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Rm(a,!1);else{if(Tr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=n0(e),o!==null){for(t.flags|=128,Rm(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Dn(Jn,Jn.current&1|2),t.child}e=e.sibling}a.tail!==null&&hr()>Qh&&(t.flags|=128,s=!0,Rm(a,!1),t.lanes=4194304)}else{if(!s)if(e=n0(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Wn)return os(t),null}else 2*hr()-a.renderingStartTime>Qh&&n!==1073741824&&(t.flags|=128,s=!0,Rm(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=hr(),t.sibling=null,n=Jn.current,Dn(Jn,s?n&1|2:n&1),t):(os(t),null);case 22:case 23:return fA(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ui&1073741824&&(os(t),t.subtreeFlags&6&&(t.flags|=8192)):os(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function fee(e,t){switch(G_(t),t.tag){case 1:return Ys(t.type)&&Yy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kh(),Vn(Ks),Vn(fs),nA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tA(t),null;case 13:if(Vn(Jn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Hh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vn(Jn),null;case 4:return Kh(),null;case 10:return X_(t.type._context),null;case 22:case 23:return fA(),null;case 24:return null;default:return null}}var Mx=!1,ds=!1,mee=typeof WeakSet=="function"?WeakSet:Set,rt=null;function uh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ir(e,t,s)}else n.current=null}function IC(e,t,n){try{n()}catch(s){ir(e,t,s)}}var WD=!1;function pee(e,t){if(xC=Wy,e=lF(),W_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===s&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yC={focusedElem:e,selectionRange:n},Wy=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){t=rt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,N=t.stateNode,j=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:ha(t.type,v),y);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(P){ir(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}return x=WD,WD=!1,x}function xp(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&IC(t,n,a)}i=i.next}while(i!==s)}}function Wj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function $C(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function s5(e){var t=e.alternate;t!==null&&(e.alternate=null,s5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qa],delete t[Up],delete t[wC],delete t[XZ],delete t[JZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function i5(e){return e.tag===5||e.tag===3||e.tag===4}function HD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function RC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ky));else if(s!==4&&(e=e.child,e!==null))for(RC(e,t,n),e=e.sibling;e!==null;)RC(e,t,n),e=e.sibling}function LC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(LC(e,t,n),e=e.sibling;e!==null;)LC(e,t,n),e=e.sibling}var Yr=null,pa=!1;function Cl(e,t,n){for(n=n.child;n!==null;)a5(e,t,n),n=n.sibling}function a5(e,t,n){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(Rj,n)}catch{}switch(n.tag){case 5:ds||uh(n,t);case 6:var s=Yr,i=pa;Yr=null,Cl(e,t,n),Yr=s,pa=i,Yr!==null&&(pa?(e=Yr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yr.removeChild(n.stateNode));break;case 18:Yr!==null&&(pa?(e=Yr,n=n.stateNode,e.nodeType===8?$N(e.parentNode,n):e.nodeType===1&&$N(e,n),Lp(e)):$N(Yr,n.stateNode));break;case 4:s=Yr,i=pa,Yr=n.stateNode.containerInfo,pa=!0,Cl(e,t,n),Yr=s,pa=i;break;case 0:case 11:case 14:case 15:if(!ds&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&IC(n,t,o),i=i.next}while(i!==s)}Cl(e,t,n);break;case 1:if(!ds&&(uh(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){ir(n,t,l)}Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:n.mode&1?(ds=(s=ds)||n.memoizedState!==null,Cl(e,t,n),ds=s):Cl(e,t,n);break;default:Cl(e,t,n)}}function GD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mee),t.forEach(function(s){var i=See.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function oa(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yr=l.stateNode,pa=!1;break e;case 3:Yr=l.stateNode.containerInfo,pa=!0;break e;case 4:Yr=l.stateNode.containerInfo,pa=!0;break e}l=l.return}if(Yr===null)throw Error(Ue(160));a5(a,o,i),Yr=null,pa=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ir(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o5(t,e),t=t.sibling}function o5(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oa(t,e),Ua(e),s&4){try{xp(3,e,e.return),Wj(3,e)}catch(v){ir(e,e.return,v)}try{xp(5,e,e.return)}catch(v){ir(e,e.return,v)}}break;case 1:oa(t,e),Ua(e),s&512&&n!==null&&uh(n,n.return);break;case 5:if(oa(t,e),Ua(e),s&512&&n!==null&&uh(n,n.return),e.flags&32){var i=e.stateNode;try{Mp(i,"")}catch(v){ir(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&EL(i,a),lC(l,o);var u=lC(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?ML(i,f):d==="dangerouslySetInnerHTML"?OL(i,f):d==="children"?Mp(i,f):O_(i,d,f,u)}switch(l){case"input":rC(i,a);break;case"textarea":kL(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?xh(i,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?xh(i,!!a.multiple,a.defaultValue,!0):xh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Up]=a}catch(v){ir(e,e.return,v)}}break;case 6:if(oa(t,e),Ua(e),s&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ir(e,e.return,v)}}break;case 3:if(oa(t,e),Ua(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Lp(t.containerInfo)}catch(v){ir(e,e.return,v)}break;case 4:oa(t,e),Ua(e);break;case 13:oa(t,e),Ua(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(dA=hr())),s&4&&GD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ds=(u=ds)||d,oa(t,e),ds=u):oa(t,e),Ua(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(rt=e,d=e.child;d!==null;){for(f=rt=d;rt!==null;){switch(m=rt,g=m.child,m.tag){case 0:case 11:case 14:case 15:xp(4,m,m.return);break;case 1:uh(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ir(s,n,v)}}break;case 5:uh(m,m.return);break;case 22:if(m.memoizedState!==null){YD(f);continue}}g!==null?(g.return=m,rt=g):YD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DL("display",o))}catch(v){ir(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ir(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:oa(t,e),Ua(e),s&4&&GD(e);break;case 21:break;default:oa(t,e),Ua(e)}}function Ua(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(i5(n)){var s=n;break e}n=n.return}throw Error(Ue(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Mp(i,""),s.flags&=-33);var a=HD(e);LC(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=HD(e);RC(e,l,o);break;default:throw Error(Ue(161))}}catch(c){ir(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gee(e,t,n){rt=e,l5(e)}function l5(e,t,n){for(var s=(e.mode&1)!==0;rt!==null;){var i=rt,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Mx;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ds;l=Mx;var u=ds;if(Mx=o,(ds=c)&&!u)for(rt=i;rt!==null;)o=rt,c=o.child,o.tag===22&&o.memoizedState!==null?QD(i):c!==null?(c.return=o,rt=c):QD(i);for(;a!==null;)rt=a,l5(a),a=a.sibling;rt=i,Mx=l,ds=u}KD(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,rt=a):KD(e)}}function KD(e){for(;rt!==null;){var t=rt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ds||Wj(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ds)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ha(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&OD(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}OD(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Lp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ds||t.flags&512&&$C(t)}catch(m){ir(t,t.return,m)}}if(t===e){rt=null;break}if(n=t.sibling,n!==null){n.return=t.return,rt=n;break}rt=t.return}}function YD(e){for(;rt!==null;){var t=rt;if(t===e){rt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,rt=n;break}rt=t.return}}function QD(e){for(;rt!==null;){var t=rt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wj(4,t)}catch(c){ir(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){ir(t,i,c)}}var a=t.return;try{$C(t)}catch(c){ir(t,a,c)}break;case 5:var o=t.return;try{$C(t)}catch(c){ir(t,o,c)}}}catch(c){ir(t,t.return,c)}if(t===e){rt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,rt=l;break}rt=t.return}}var vee=Math.ceil,i0=cl.ReactCurrentDispatcher,cA=cl.ReactCurrentOwner,Wi=cl.ReactCurrentBatchConfig,an=0,Vr=null,xr=null,Qr=0,ui=0,dh=Sc(0),Tr=0,Yp=null,Ru=0,Hj=0,uA=0,yp=null,qs=null,dA=0,Qh=1/0,Oo=null,a0=!1,FC=null,lc=null,Ix=!1,Jl=null,o0=0,jp=0,BC=null,Ey=-1,ky=0;function Es(){return an&6?hr():Ey!==-1?Ey:Ey=hr()}function cc(e){return e.mode&1?an&2&&Qr!==0?Qr&-Qr:eee.transition!==null?(ky===0&&(ky=HL()),ky):(e=xn,e!==0||(e=window.event,e=e===void 0?16:ZL(e.type)),e):1}function Sa(e,t,n,s){if(50<jp)throw jp=0,BC=null,Error(Ue(185));Yg(e,n,s),(!(an&2)||e!==Vr)&&(e===Vr&&(!(an&2)&&(Hj|=n),Tr===4&&Fl(e,Qr)),Qs(e,s),n===1&&an===0&&!(t.mode&1)&&(Qh=hr()+500,Vj&&Cc()))}function Qs(e,t){var n=e.callbackNode;eZ(e,t);var s=qy(e,e===Vr?Qr:0);if(s===0)n!==null&&iD(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&iD(n),t===1)e.tag===0?ZZ(XD.bind(null,e)):xF(XD.bind(null,e)),YZ(function(){!(an&6)&&Cc()}),n=null;else{switch(GL(s)){case 1:n=R_;break;case 4:n=qL;break;case 16:n=Uy;break;case 536870912:n=WL;break;default:n=Uy}n=g5(n,c5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function c5(e,t){if(Ey=-1,ky=0,an&6)throw Error(Ue(327));var n=e.callbackNode;if(Nh()&&e.callbackNode!==n)return null;var s=qy(e,e===Vr?Qr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=l0(e,s);else{t=s;var i=an;an|=2;var a=d5();(Vr!==e||Qr!==t)&&(Oo=null,Qh=hr()+500,Eu(e,t));do try{jee();break}catch(l){u5(e,l)}while(!0);Q_(),i0.current=a,an=i,xr!==null?t=0:(Vr=null,Qr=0,t=Tr)}if(t!==0){if(t===2&&(i=fC(e),i!==0&&(s=i,t=zC(e,i))),t===1)throw n=Yp,Eu(e,0),Fl(e,s),Qs(e,hr()),n;if(t===6)Fl(e,s);else{if(i=e.current.alternate,!(s&30)&&!xee(i)&&(t=l0(e,s),t===2&&(a=fC(e),a!==0&&(s=a,t=zC(e,a))),t===1))throw n=Yp,Eu(e,0),Fl(e,s),Qs(e,hr()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Ue(345));case 2:nu(e,qs,Oo);break;case 3:if(Fl(e,s),(s&130023424)===s&&(t=dA+500-hr(),10<t)){if(qy(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Es(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bC(nu.bind(null,e,qs,Oo),t);break}nu(e,qs,Oo);break;case 4:if(Fl(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Na(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=hr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*vee(s/1960))-s,10<s){e.timeoutHandle=bC(nu.bind(null,e,qs,Oo),s);break}nu(e,qs,Oo);break;case 5:nu(e,qs,Oo);break;default:throw Error(Ue(329))}}}return Qs(e,hr()),e.callbackNode===n?c5.bind(null,e):null}function zC(e,t){var n=yp;return e.current.memoizedState.isDehydrated&&(Eu(e,t).flags|=256),e=l0(e,t),e!==2&&(t=qs,qs=n,t!==null&&VC(t)),e}function VC(e){qs===null?qs=e:qs.push.apply(qs,e)}function xee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!_a(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fl(e,t){for(t&=~uA,t&=~Hj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Na(t),s=1<<n;e[n]=-1,t&=~s}}function XD(e){if(an&6)throw Error(Ue(327));Nh();var t=qy(e,0);if(!(t&1))return Qs(e,hr()),null;var n=l0(e,t);if(e.tag!==0&&n===2){var s=fC(e);s!==0&&(t=s,n=zC(e,s))}if(n===1)throw n=Yp,Eu(e,0),Fl(e,t),Qs(e,hr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nu(e,qs,Oo),Qs(e,hr()),null}function hA(e,t){var n=an;an|=1;try{return e(t)}finally{an=n,an===0&&(Qh=hr()+500,Vj&&Cc())}}function Lu(e){Jl!==null&&Jl.tag===0&&!(an&6)&&Nh();var t=an;an|=1;var n=Wi.transition,s=xn;try{if(Wi.transition=null,xn=1,e)return e()}finally{xn=s,Wi.transition=n,an=t,!(an&6)&&Cc()}}function fA(){ui=dh.current,Vn(dh)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KZ(n)),xr!==null)for(n=xr.return;n!==null;){var s=n;switch(G_(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Yy();break;case 3:Kh(),Vn(Ks),Vn(fs),nA();break;case 5:tA(s);break;case 4:Kh();break;case 13:Vn(Jn);break;case 19:Vn(Jn);break;case 10:X_(s.type._context);break;case 22:case 23:fA()}n=n.return}if(Vr=e,xr=e=uc(e.current,null),Qr=ui=t,Tr=0,Yp=null,uA=Hj=Ru=0,qs=yp=null,du!==null){for(t=0;t<du.length;t++)if(n=du[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}du=null}return e}function u5(e,t){do{var n=xr;try{if(Q_(),Py.current=s0,r0){for(var s=er.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}r0=!1}if($u=0,Lr=Ar=er=null,vp=!1,Hp=0,cA.current=null,n===null||n.return===null){Tr=1,Yp=t,xr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Qr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=LD(o);if(g!==null){g.flags&=-257,FD(g,o,l,a,t),g.mode&1&&RD(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){RD(a,u,t),mA();break e}c=Error(Ue(426))}}else if(Wn&&l.mode&1){var y=LD(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),FD(y,o,l,a,t),K_(Yh(c,l));break e}}a=c=Yh(c,l),Tr!==4&&(Tr=2),yp===null?yp=[a]:yp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=GF(a,c,t);TD(a,N);break e;case 1:l=c;var j=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(lc===null||!lc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=KF(a,l,t);TD(a,P);break e}}a=a.return}while(a!==null)}f5(n)}catch(C){t=C,xr===n&&n!==null&&(xr=n=n.return);continue}break}while(!0)}function d5(){var e=i0.current;return i0.current=s0,e===null?s0:e}function mA(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Vr===null||!(Ru&268435455)&&!(Hj&268435455)||Fl(Vr,Qr)}function l0(e,t){var n=an;an|=2;var s=d5();(Vr!==e||Qr!==t)&&(Oo=null,Eu(e,t));do try{yee();break}catch(i){u5(e,i)}while(!0);if(Q_(),an=n,i0.current=s,xr!==null)throw Error(Ue(261));return Vr=null,Qr=0,Tr}function yee(){for(;xr!==null;)h5(xr)}function jee(){for(;xr!==null&&!WJ();)h5(xr)}function h5(e){var t=p5(e.alternate,e,ui);e.memoizedProps=e.pendingProps,t===null?f5(e):xr=t,cA.current=null}function f5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fee(n,t),n!==null){n.flags&=32767,xr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tr=6,xr=null;return}}else if(n=hee(n,t,ui),n!==null){xr=n;return}if(t=t.sibling,t!==null){xr=t;return}xr=t=e}while(t!==null);Tr===0&&(Tr=5)}function nu(e,t,n){var s=xn,i=Wi.transition;try{Wi.transition=null,xn=1,bee(e,t,n,s)}finally{Wi.transition=i,xn=s}return null}function bee(e,t,n,s){do Nh();while(Jl!==null);if(an&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(tZ(e,a),e===Vr&&(xr=Vr=null,Qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ix||(Ix=!0,g5(Uy,function(){return Nh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wi.transition,Wi.transition=null;var o=xn;xn=1;var l=an;an|=4,cA.current=null,pee(e,n),o5(n,e),zZ(yC),Wy=!!xC,yC=xC=null,e.current=n,gee(n),HJ(),an=l,xn=o,Wi.transition=a}else e.current=n;if(Ix&&(Ix=!1,Jl=e,o0=i),a=e.pendingLanes,a===0&&(lc=null),YJ(n.stateNode),Qs(e,hr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(a0)throw a0=!1,e=FC,FC=null,e;return o0&1&&e.tag!==0&&Nh(),a=e.pendingLanes,a&1?e===BC?jp++:(jp=0,BC=e):jp=0,Cc(),null}function Nh(){if(Jl!==null){var e=GL(o0),t=Wi.transition,n=xn;try{if(Wi.transition=null,xn=16>e?16:e,Jl===null)var s=!1;else{if(e=Jl,Jl=null,o0=0,an&6)throw Error(Ue(331));var i=an;for(an|=4,rt=e.current;rt!==null;){var a=rt,o=a.child;if(rt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(rt=u;rt!==null;){var d=rt;switch(d.tag){case 0:case 11:case 15:xp(8,d,a)}var f=d.child;if(f!==null)f.return=d,rt=f;else for(;rt!==null;){d=rt;var m=d.sibling,g=d.return;if(s5(d),d===u){rt=null;break}if(m!==null){m.return=g,rt=m;break}rt=g}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}rt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,rt=o;else e:for(;rt!==null;){if(a=rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:xp(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,rt=N;break e}rt=a.return}}var j=e.current;for(rt=j;rt!==null;){o=rt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,rt=b;else e:for(o=j;rt!==null;){if(l=rt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wj(9,l)}}catch(C){ir(l,l.return,C)}if(l===o){rt=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,rt=P;break e}rt=l.return}}if(an=i,Cc(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(Rj,e)}catch{}s=!0}return s}finally{xn=n,Wi.transition=t}}return!1}function JD(e,t,n){t=Yh(n,t),t=GF(e,t,1),e=oc(e,t,1),t=Es(),e!==null&&(Yg(e,1,t),Qs(e,t))}function ir(e,t,n){if(e.tag===3)JD(e,e,n);else for(;t!==null;){if(t.tag===3){JD(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(lc===null||!lc.has(s))){e=Yh(n,e),e=KF(t,e,1),t=oc(t,e,1),e=Es(),t!==null&&(Yg(t,1,e),Qs(t,e));break}}t=t.return}}function wee(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Es(),e.pingedLanes|=e.suspendedLanes&n,Vr===e&&(Qr&n)===n&&(Tr===4||Tr===3&&(Qr&130023424)===Qr&&500>hr()-dA?Eu(e,0):uA|=n),Qs(e,t)}function m5(e,t){t===0&&(e.mode&1?(t=Cx,Cx<<=1,!(Cx&130023424)&&(Cx=4194304)):t=1);var n=Es();e=Jo(e,t),e!==null&&(Yg(e,t,n),Qs(e,n))}function Nee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),m5(e,n)}function See(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ue(314))}s!==null&&s.delete(t),m5(e,n)}var p5;p5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ks.current)Hs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Hs=!1,dee(e,t,n);Hs=!!(e.flags&131072)}else Hs=!1,Wn&&t.flags&1048576&&yF(t,Jy,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ay(e,t),e=t.pendingProps;var i=Wh(t,fs.current);wh(t,n),i=sA(null,t,s,e,i,n);var a=iA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ys(s)?(a=!0,Qy(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z_(t),i.updater=qj,t.stateNode=i,i._reactInternals=t,AC(t,s,e,n),t=TC(null,t,s,!0,a,n)):(t.tag=0,Wn&&a&&H_(t),Ss(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ay(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=Pee(s),e=ha(s,e),i){case 0:t=kC(null,t,s,e,n);break e;case 1:t=VD(null,t,s,e,n);break e;case 11:t=BD(null,t,s,e,n);break e;case 14:t=zD(null,t,s,ha(s.type,e),n);break e}throw Error(Ue(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ha(s,i),kC(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ha(s,i),VD(e,t,s,i,n);case 3:e:{if(JF(t),e===null)throw Error(Ue(387));s=t.pendingProps,a=t.memoizedState,i=a.element,CF(e,t),t0(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Yh(Error(Ue(423)),t),t=UD(e,t,s,n,i);break e}else if(s!==i){i=Yh(Error(Ue(424)),t),t=UD(e,t,s,n,i);break e}else for(pi=ac(t.stateNode.containerInfo.firstChild),gi=t,Wn=!0,ya=null,n=NF(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hh(),s===i){t=Zo(e,t,n);break e}Ss(e,t,s,n)}t=t.child}return t;case 5:return PF(t),e===null&&CC(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,jC(s,i)?o=null:a!==null&&jC(s,a)&&(t.flags|=32),XF(e,t),Ss(e,t,o,n),t.child;case 6:return e===null&&CC(t),null;case 13:return ZF(e,t,n);case 4:return eA(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Gh(t,null,s,n):Ss(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ha(s,i),BD(e,t,s,i,n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:return Ss(e,t,t.pendingProps.children,n),t.child;case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Dn(Zy,s._currentValue),s._currentValue=o,a!==null)if(_a(a.value,o)){if(a.children===i.children&&!Ks.current){t=Zo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Wo(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),PC(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),PC(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ss(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,wh(t,n),i=Ki(i),s=s(i),t.flags|=1,Ss(e,t,s,n),t.child;case 14:return s=t.type,i=ha(s,t.pendingProps),i=ha(s.type,i),zD(e,t,s,i,n);case 15:return YF(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ha(s,i),Ay(e,t),t.tag=1,Ys(s)?(e=!0,Qy(t)):e=!1,wh(t,n),HF(t,s,i),AC(t,s,i,n),TC(null,t,s,!0,e,n);case 19:return e5(e,t,n);case 22:return QF(e,t,n)}throw Error(Ue(156,t.tag))};function g5(e,t){return UL(e,t)}function Cee(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(e,t,n,s){return new Cee(e,t,n,s)}function pA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pee(e){if(typeof e=="function")return pA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===M_)return 11;if(e===I_)return 14}return 2}function uc(e,t){var n=e.alternate;return n===null?(n=Vi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ty(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")pA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case th:return ku(n.children,i,a,t);case D_:o=8,i|=8;break;case JS:return e=Vi(12,n,t,i|2),e.elementType=JS,e.lanes=a,e;case ZS:return e=Vi(13,n,t,i),e.elementType=ZS,e.lanes=a,e;case eC:return e=Vi(19,n,t,i),e.elementType=eC,e.lanes=a,e;case PL:return Gj(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SL:o=10;break e;case CL:o=9;break e;case M_:o=11;break e;case I_:o=14;break e;case Il:o=16,s=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Vi(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function ku(e,t,n,s){return e=Vi(7,e,s,t),e.lanes=n,e}function Gj(e,t,n,s){return e=Vi(22,e,s,t),e.elementType=PL,e.lanes=n,e.stateNode={isHidden:!1},e}function qN(e,t,n){return e=Vi(6,e,null,t),e.lanes=n,e}function WN(e,t,n){return t=Vi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _ee(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=CN(0),this.expirationTimes=CN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=CN(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gA(e,t,n,s,i,a,o,l,c){return e=new _ee(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Vi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z_(a),e}function Aee(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eh,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function v5(e){if(!e)return gc;e=e._reactInternals;e:{if(rd(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ys(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Ys(n))return vF(e,n,t)}return t}function x5(e,t,n,s,i,a,o,l,c){return e=gA(n,s,!0,e,i,a,o,l,c),e.context=v5(null),n=e.current,s=Es(),i=cc(n),a=Wo(s,i),a.callback=t??null,oc(n,a,i),e.current.lanes=i,Yg(e,i,s),Qs(e,s),e}function Kj(e,t,n,s){var i=t.current,a=Es(),o=cc(i);return n=v5(n),t.context===null?t.context=n:t.pendingContext=n,t=Wo(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=oc(i,t,o),e!==null&&(Sa(e,i,o,a),Cy(e,i,o)),o}function c0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ZD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vA(e,t){ZD(e,t),(e=e.alternate)&&ZD(e,t)}function Eee(){return null}var y5=typeof reportError=="function"?reportError:function(e){console.error(e)};function xA(e){this._internalRoot=e}Yj.prototype.render=xA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));Kj(e,t,null,null)};Yj.prototype.unmount=xA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lu(function(){Kj(null,e,null,null)}),t[Xo]=null}};function Yj(e){this._internalRoot=e}Yj.prototype.unstable_scheduleHydration=function(e){if(e){var t=QL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ll.length&&t!==0&&t<Ll[n].priority;n++);Ll.splice(n,0,e),n===0&&JL(e)}};function yA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eM(){}function kee(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=c0(o);a.call(u)}}var o=x5(t,s,e,0,null,!1,!1,"",eM);return e._reactRootContainer=o,e[Xo]=o.current,zp(e.nodeType===8?e.parentNode:e),Lu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=c0(c);l.call(u)}}var c=gA(e,0,!1,null,null,!1,!1,"",eM);return e._reactRootContainer=c,e[Xo]=c.current,zp(e.nodeType===8?e.parentNode:e),Lu(function(){Kj(t,c,n,s)}),c}function Xj(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=c0(o);l.call(c)}}Kj(t,o,e,i)}else o=kee(n,t,e,i,s);return c0(o)}KL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ip(t.pendingLanes);n!==0&&(L_(t,n|1),Qs(t,hr()),!(an&6)&&(Qh=hr()+500,Cc()))}break;case 13:Lu(function(){var s=Jo(e,1);if(s!==null){var i=Es();Sa(s,e,1,i)}}),vA(e,1)}};F_=function(e){if(e.tag===13){var t=Jo(e,134217728);if(t!==null){var n=Es();Sa(t,e,134217728,n)}vA(e,134217728)}};YL=function(e){if(e.tag===13){var t=cc(e),n=Jo(e,t);if(n!==null){var s=Es();Sa(n,e,t,s)}vA(e,t)}};QL=function(){return xn};XL=function(e,t){var n=xn;try{return xn=e,t()}finally{xn=n}};uC=function(e,t,n){switch(t){case"input":if(rC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=zj(s);if(!i)throw Error(Ue(90));AL(s),rC(s,i)}}}break;case"textarea":kL(e,n);break;case"select":t=n.value,t!=null&&xh(e,!!n.multiple,t,!1)}};RL=hA;LL=Lu;var Tee={usingClientEntryPoint:!1,Events:[Xg,ih,zj,IL,$L,hA]},Lm={findFiberByHostInstance:uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oee={bundleType:Lm.bundleType,version:Lm.version,rendererPackageName:Lm.rendererPackageName,rendererConfig:Lm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zL(e),e===null?null:e.stateNode},findFiberByHostInstance:Lm.findFiberByHostInstance||Eee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$x.isDisabled&&$x.supportsFiber)try{Rj=$x.inject(Oee),so=$x}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tee;wi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yA(t))throw Error(Ue(200));return Aee(e,t,null,n)};wi.createRoot=function(e,t){if(!yA(e))throw Error(Ue(299));var n=!1,s="",i=y5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gA(e,1,!1,null,null,n,!1,s,i),e[Xo]=t.current,zp(e.nodeType===8?e.parentNode:e),new xA(t)};wi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=zL(t),e=e===null?null:e.stateNode,e};wi.flushSync=function(e){return Lu(e)};wi.hydrate=function(e,t,n){if(!Qj(t))throw Error(Ue(200));return Xj(null,e,t,!0,n)};wi.hydrateRoot=function(e,t,n){if(!yA(e))throw Error(Ue(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=y5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=x5(t,null,e,1,n??null,i,!1,a,o),e[Xo]=t.current,zp(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yj(t)};wi.render=function(e,t,n){if(!Qj(t))throw Error(Ue(200));return Xj(null,e,t,!1,n)};wi.unmountComponentAtNode=function(e){if(!Qj(e))throw Error(Ue(40));return e._reactRootContainer?(Lu(function(){Xj(null,null,e,!1,function(){e._reactRootContainer=null,e[Xo]=null})}),!0):!1};wi.unstable_batchedUpdates=hA;wi.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Qj(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return Xj(e,t,n,!1,s)};wi.version="18.3.1-next-f1338f8080-20240426";function j5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j5)}catch(e){console.error(e)}}j5(),jL.exports=wi;var sd=jL.exports;const b5=fn(sd);var w5,tM=sd;w5=tM.createRoot,tM.hydrateRoot;const Dee=1,Mee=1e6;let HN=0;function Iee(){return HN=(HN+1)%Number.MAX_SAFE_INTEGER,HN.toString()}const GN=new Map,nM=e=>{if(GN.has(e))return;const t=setTimeout(()=>{GN.delete(e),bp({type:"REMOVE_TOAST",toastId:e})},Mee);GN.set(e,t)},$ee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Dee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?nM(n):e.toasts.forEach(s=>{nM(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Oy=[];let Dy={toasts:[]};function bp(e){Dy=$ee(Dy,e),Oy.forEach(t=>{t(Dy)})}function Ree({...e}){const t=Iee(),n=i=>bp({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>bp({type:"DISMISS_TOAST",toastId:t});return bp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function Ut(){const[e,t]=w.useState(Dy);return w.useEffect(()=>(Oy.push(t),()=>{const n=Oy.indexOf(t);n>-1&&Oy.splice(n,1)}),[e]),{...e,toast:Ree,dismiss:n=>bp({type:"DISMISS_TOAST",toastId:n})}}function He(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function rM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function el(...e){return t=>{let n=!1;const s=e.map(i=>{const a=rM(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():rM(e[i],null)}}}}function Qt(...e){return w.useCallback(el(...e),e)}function Lee(e,t){const n=w.createContext(t),s=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=w.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function Xs(e,t=[]){let n=[];function s(a,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{var N;const{scope:m,children:g,...x}=f,v=((N=m==null?void 0:m[e])==null?void 0:N[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=w.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,Fee(i,...t)]}function Fee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function vc(e){const t=zee(e),n=w.forwardRef((s,i)=>{const{children:a,...o}=s,l=w.Children.toArray(a),c=l.find(Uee);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Bee=vc("Slot");function zee(e){const t=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const o=Wee(i),l=qee(a,i.props);return i.type!==w.Fragment&&(l.ref=s?el(s,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var N5=Symbol("radix.slottable");function Vee(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=N5,t}function Uee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===N5}function qee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Wee(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jj(e){const t=e+"CollectionProvider",[n,s]=Xs(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:N}=v,j=q.useRef(null),b=q.useRef(new Map).current;return r.jsx(i,{scope:y,itemMap:b,collectionRef:j,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=vc(l),u=q.forwardRef((v,y)=>{const{scope:N,children:j}=v,b=a(l,N),P=Qt(y,b.collectionRef);return r.jsx(c,{ref:P,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=vc(d),g=q.forwardRef((v,y)=>{const{scope:N,children:j,...b}=v,P=q.useRef(null),C=Qt(y,P),A=a(d,N);return q.useEffect(()=>(A.itemMap.set(P,{ref:P,...b}),()=>void A.itemMap.delete(P))),r.jsx(m,{[f]:"",ref:C,children:j})});g.displayName=d;function x(v){const y=a(e+"CollectionConsumer",v);return q.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((A,_)=>b.indexOf(A.ref.current)-b.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,s]}var Hee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=Hee.reduce((e,t)=>{const n=vc(`Primitive.${t}`),s=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function jA(e,t){e&&sd.flushSync(()=>e.dispatchEvent(t))}function Ts(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Gee(e,t=globalThis==null?void 0:globalThis.document){const n=Ts(e);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Kee="DismissableLayer",UC="dismissableLayer.update",Yee="dismissableLayer.pointerDownOutside",Qee="dismissableLayer.focusOutside",sM,S5=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),id=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(S5),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),x=Qt(t,_=>f(_)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),j=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,P=j>=N,C=Jee(_=>{const E=_.target,O=[...u.branches].some(I=>I.contains(E));!P||O||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},m),A=Zee(_=>{const E=_.target;[...u.branches].some(I=>I.contains(E))||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},m);return Gee(_=>{j===u.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),iM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=sM)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),iM())},[d,u]),w.useEffect(()=>{const _=()=>g({});return document.addEventListener(UC,_),()=>document.removeEventListener(UC,_)},[]),r.jsx(it.div,{...c,ref:x,style:{pointerEvents:b?P?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,A.onFocusCapture),onBlurCapture:He(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,C.onPointerDownCapture)})});id.displayName=Kee;var Xee="DismissableLayerBranch",C5=w.forwardRef((e,t)=>{const n=w.useContext(S5),s=w.useRef(null),i=Qt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(it.div,{...e,ref:i})});C5.displayName=Xee;function Jee(e,t=globalThis==null?void 0:globalThis.document){const n=Ts(e),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){P5(Yee,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Zee(e,t=globalThis==null?void 0:globalThis.document){const n=Ts(e),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&P5(Qee,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function iM(){const e=new CustomEvent(UC);document.dispatchEvent(e)}function P5(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?jA(i,a):i.dispatchEvent(a)}var ete=id,tte=C5,br=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},nte="Portal",If=w.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=w.useState(!1);br(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?b5.createPortal(r.jsx(it.div,{...s,ref:t}),o):null});If.displayName=nte;function rte(e,t){return w.useReducer((n,s)=>t[n][s]??n,e)}var Js=e=>{const{present:t,children:n}=e,s=ste(t),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=Qt(s.ref,ite(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};Js.displayName="Presence";function ste(e){const[t,n]=w.useState(),s=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=rte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Rx(s.current);a.current=l==="mounted"?u:"none"},[l]),br(()=>{const u=s.current,d=i.current;if(d!==e){const m=a.current,g=Rx(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),br(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Rx(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=g=>{g.target===t&&(a.current=Rx(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Rx(e){return(e==null?void 0:e.animationName)||"none"}function ite(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ate=E_[" useInsertionEffect ".trim().toString()]||br;function ho({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=ote({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=w.useCallback(d=>{var f;if(l){const m=lte(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function ote({defaultProp:e,onChange:t}){const[n,s]=w.useState(e),i=w.useRef(n),a=w.useRef(t);return ate(()=>{a.current=t},[t]),w.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function lte(e){return typeof e=="function"}var _5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cte="VisuallyHidden",Zj=w.forwardRef((e,t)=>r.jsx(it.span,{...e,ref:t,style:{..._5,...e.style}}));Zj.displayName=cte;var ute=Zj,bA="ToastProvider",[wA,dte,hte]=Jj("Toast"),[A5,Y5e]=Xs("Toast",[hte]),[fte,eb]=A5(bA),E5=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bA}\`. Expected non-empty \`string\`.`),r.jsx(wA.Provider,{scope:t,children:r.jsx(fte,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};E5.displayName=bA;var k5="ToastViewport",mte=["F8"],qC="toast.viewportPause",WC="toast.viewportResume",T5=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=mte,label:i="Notifications ({hotkey})",...a}=e,o=eb(k5,n),l=dte(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Qt(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const y=N=>{var b;s.length!==0&&s.every(P=>N[P]||N.code===P)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),w.useEffect(()=>{const y=c.current,N=f.current;if(x&&y&&N){const j=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(qC);N.dispatchEvent(A),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(WC);N.dispatchEvent(A),o.isClosePausedRef.current=!1}},P=A=>{!y.contains(A.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",j),y.addEventListener("focusout",P),y.addEventListener("pointermove",j),y.addEventListener("pointerleave",C),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",j),y.removeEventListener("focusout",P),y.removeEventListener("pointermove",j),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:y})=>{const j=l().map(b=>{const P=b.ref.current,C=[P,..._te(P)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?j.reverse():j).flat()},[l]);return w.useEffect(()=>{const y=f.current;if(y){const N=j=>{var C,A,_;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const E=document.activeElement,O=j.shiftKey;if(j.target===y&&O){(C=u.current)==null||C.focus();return}const k=v({tabbingDirection:O?"backwards":"forwards"}),F=k.findIndex($=>$===E);KN(k.slice(F+1))?j.preventDefault():O?(A=u.current)==null||A.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,v]),r.jsxs(tte,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(HC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});KN(y)}}),r.jsx(wA.Slot,{scope:n,children:r.jsx(it.ol,{tabIndex:-1,...a,ref:m})}),x&&r.jsx(HC,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});KN(y)}})]})});T5.displayName=k5;var O5="ToastFocusProxy",HC=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=eb(O5,n);return r.jsx(Zj,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});HC.displayName=O5;var Zg="Toast",pte="toast.swipeStart",gte="toast.swipeMove",vte="toast.swipeCancel",xte="toast.swipeEnd",D5=w.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=ho({prop:s,defaultProp:i??!0,onChange:a,caller:Zg});return r.jsx(Js,{present:n||l,children:r.jsx(bte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ts(e.onPause),onResume:Ts(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});D5.displayName=Zg;var[yte,jte]=A5(Zg,{onClose(){}}),bte=w.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...x}=e,v=eb(Zg,n),[y,N]=w.useState(null),j=Qt(t,$=>N($)),b=w.useRef(null),P=w.useRef(null),C=i||v.duration,A=w.useRef(0),_=w.useRef(C),E=w.useRef(0),{onToastAdd:O,onToastRemove:I}=v,D=Ts(()=>{var Q;(y==null?void 0:y.contains(document.activeElement))&&((Q=v.viewport)==null||Q.focus()),o()}),k=w.useCallback($=>{!$||$===1/0||(window.clearTimeout(E.current),A.current=new Date().getTime(),E.current=window.setTimeout(D,$))},[D]);w.useEffect(()=>{const $=v.viewport;if($){const Q=()=>{k(_.current),u==null||u()},U=()=>{const ie=new Date().getTime()-A.current;_.current=_.current-ie,window.clearTimeout(E.current),c==null||c()};return $.addEventListener(qC,U),$.addEventListener(WC,Q),()=>{$.removeEventListener(qC,U),$.removeEventListener(WC,Q)}}},[v.viewport,C,c,u,k]),w.useEffect(()=>{a&&!v.isClosePausedRef.current&&k(C)},[a,C,v.isClosePausedRef,k]),w.useEffect(()=>(O(),()=>I()),[O,I]);const F=w.useMemo(()=>y?B5(y):null,[y]);return v.viewport?r.jsxs(r.Fragment,{children:[F&&r.jsx(wte,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),r.jsx(yte,{scope:n,onClose:D,children:sd.createPortal(r.jsx(wA.ItemSlot,{scope:n,children:r.jsx(ete,{asChild:!0,onEscapeKeyDown:He(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(it.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:He(e.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:He(e.onPointerMove,$=>{if(!b.current)return;const Q=$.clientX-b.current.x,U=$.clientY-b.current.y,ie=!!P.current,L=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=L?z(0,Q):0,pe=L?0:z(0,U),ee=$.pointerType==="touch"?10:2,J={x:le,y:pe},te={originalEvent:$,delta:J};ie?(P.current=J,Lx(gte,f,te,{discrete:!1})):aM(J,v.swipeDirection,ee)?(P.current=J,Lx(pte,d,te,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(Q)>ee||Math.abs(U)>ee)&&(b.current=null)}),onPointerUp:He(e.onPointerUp,$=>{const Q=P.current,U=$.target;if(U.hasPointerCapture($.pointerId)&&U.releasePointerCapture($.pointerId),P.current=null,b.current=null,Q){const ie=$.currentTarget,L={originalEvent:$,delta:Q};aM(Q,v.swipeDirection,v.swipeThreshold)?Lx(xte,g,L,{discrete:!0}):Lx(vte,m,L,{discrete:!0}),ie.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),wte=e=>{const{__scopeToast:t,children:n,...s}=e,i=eb(Zg,t),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return Cte(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(If,{asChild:!0,children:r.jsx(Zj,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},Nte="ToastTitle",M5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});M5.displayName=Nte;var Ste="ToastDescription",I5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});I5.displayName=Ste;var $5="ToastAction",R5=w.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(F5,{altText:n,asChild:!0,children:r.jsx(NA,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$5}\`. Expected non-empty \`string\`.`),null)});R5.displayName=$5;var L5="ToastClose",NA=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=jte(L5,n);return r.jsx(F5,{asChild:!0,children:r.jsx(it.button,{type:"button",...s,ref:t,onClick:He(e.onClick,i.onClose)})})});NA.displayName=L5;var F5=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(it.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function B5(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Pte(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...B5(s))}}),t}function Lx(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?jA(i,a):i.dispatchEvent(a)}var aM=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function Cte(e=()=>{}){const t=Ts(e);br(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function Pte(e){return e.nodeType===e.ELEMENT_NODE}function _te(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function KN(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Ate=E5,z5=T5,V5=D5,U5=M5,q5=I5,W5=R5,H5=NA;function G5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=G5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Ct(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=G5(e))&&(s&&(s+=" "),s+=t);return s}const oM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,lM=Ct,ev=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return lM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=oM(d)||oM(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return lM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K5=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...kte,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:K5("lucide",i),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(Tte,{ref:a,iconNode:t,className:K5(`lucide-${Ete(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=Ye("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=Ye("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Ye("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=Ye("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=Ye("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ye("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ye("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Ye("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Ye("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ye("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Ye("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Ye("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Ye("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Ye("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),AA="-",ene=e=>{const t=nne(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(AA);return l[0]===""&&l.length!==1&&l.shift(),e6(l,t)||tne(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},e6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?e6(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(AA);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},mM=/^\[(.+)\]$/,tne=e=>{if(mM.test(e)){const t=mM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},nne=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return sne(Object.entries(e.classGroups),n).forEach(([a,o])=>{XC(o,s,a,t)}),s},XC=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:pM(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(rne(i)){XC(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{XC(o,pM(t,a),n,s)})})},pM=(e,t)=>{let n=e;return t.split(AA).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},rne=e=>e.isThemeGetter,sne=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,ine=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},t6="!",ane=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let N=l[y];if(u===0){if(N===i&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(N==="/"){f=y;continue}}N==="["?u++:N==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(t6),x=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},one=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},lne=e=>({cache:ine(e.cacheSize),parseClassName:ane(e),...ene(e)}),cne=/\s+/,une=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(cne);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=s(x?m.substring(0,g):m);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=one(d).join(":"),N=f?y+t6:y,j=N+v;if(a.includes(j))continue;a.push(j);const b=i(v,x);for(let P=0;P<b.length;++P){const C=b[P];a.push(N+C)}l=u+(l.length>0?" "+l:l)}return l};function dne(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=n6(t))&&(s&&(s+=" "),s+=n);return s}const n6=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=n6(e[s]))&&(n&&(n+=" "),n+=t);return n};function hne(e,...t){let n,s,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=lne(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=une(c,n);return i(c,d),d}return function(){return a(dne.apply(null,arguments))}}const Rn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},r6=/^\[(?:([a-z-]+):)?(.+)\]$/i,fne=/^\d+\/\d+$/,mne=new Set(["px","full","screen"]),pne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ao=e=>Sh(e)||mne.has(e)||fne.test(e),Pl=e=>Lf(e,"length",_ne),Sh=e=>!!e&&!Number.isNaN(Number(e)),QN=e=>Lf(e,"number",Sh),Fm=e=>!!e&&Number.isInteger(Number(e)),jne=e=>e.endsWith("%")&&Sh(e.slice(0,-1)),Lt=e=>r6.test(e),_l=e=>pne.test(e),bne=new Set(["length","size","percentage"]),wne=e=>Lf(e,bne,s6),Nne=e=>Lf(e,"position",s6),Sne=new Set(["image","url"]),Cne=e=>Lf(e,Sne,Ene),Pne=e=>Lf(e,"",Ane),Bm=()=>!0,Lf=(e,t,n)=>{const s=r6.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},_ne=e=>gne.test(e)&&!vne.test(e),s6=()=>!1,Ane=e=>xne.test(e),Ene=e=>yne.test(e),kne=()=>{const e=Rn("colors"),t=Rn("spacing"),n=Rn("blur"),s=Rn("brightness"),i=Rn("borderColor"),a=Rn("borderRadius"),o=Rn("borderSpacing"),l=Rn("borderWidth"),c=Rn("contrast"),u=Rn("grayscale"),d=Rn("hueRotate"),f=Rn("invert"),m=Rn("gap"),g=Rn("gradientColorStops"),x=Rn("gradientColorStopPositions"),v=Rn("inset"),y=Rn("margin"),N=Rn("opacity"),j=Rn("padding"),b=Rn("saturate"),P=Rn("scale"),C=Rn("sepia"),A=Rn("skew"),_=Rn("space"),E=Rn("translate"),O=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Lt,t],k=()=>[Lt,t],F=()=>["",Ao,Pl],$=()=>["auto",Sh,Lt],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Lt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[Sh,Lt];return{cacheSize:500,separator:":",theme:{colors:[Bm],spacing:[Ao,Pl],blur:["none","",_l,Lt],brightness:pe(),borderColor:[e],borderRadius:["none","","full",_l,Lt],borderSpacing:k(),borderWidth:F(),contrast:pe(),grayscale:z(),hueRotate:pe(),invert:z(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[jne,Pl],inset:D(),margin:D(),opacity:pe(),padding:k(),saturate:pe(),scale:pe(),sepia:z(),skew:pe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[_l]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Lt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fm,Lt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Fm,Lt]}],"grid-cols":[{"grid-cols":[Bm]}],"col-start-end":[{col:["auto",{span:["full",Fm,Lt]},Lt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Bm]}],"row-start-end":[{row:["auto",{span:[Fm,Lt]},Lt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[_l]},_l]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_l,Pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QN]}],"font-family":[{font:[Bm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Sh,QN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ao,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ao,Pl]}],"underline-offset":[{"underline-offset":["auto",Ao,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),Nne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Cne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Ao,Lt]}],"outline-w":[{outline:[Ao,Pl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Ao,Pl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_l,Pne]}],"shadow-color":[{shadow:[Bm]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_l,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Fm,Lt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ao,Pl,QN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Tne=hne(kne);function Ze(...e){return Tne(Ct(e))}function Xp(e){if(!e)return"ge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let s=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();if((i<0||i===0&&n.getDate()<t.getDate())&&(s--,i+=12),s===0){if(i===0){const a=Math.floor((n.getTime()-t.getTime())/864e5);return`${a} jour${a>1?"s":""}`}return`${i} mois`}else return i===0?`${s} an${s>1?"s":""}`:`${s} an${s>1?"s":""} et ${i} mois`}function ao(e){if(!e)return"Non renseign";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const One=Ate,i6=w.forwardRef(({className:e,...t},n)=>r.jsx(z5,{ref:n,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));i6.displayName=z5.displayName;const Dne=ev("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),a6=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(V5,{ref:s,className:Ze(Dne({variant:t}),e),...n}));a6.displayName=V5.displayName;const Mne=w.forwardRef(({className:e,...t},n)=>r.jsx(W5,{ref:n,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Mne.displayName=W5.displayName;const o6=w.forwardRef(({className:e,...t},n)=>r.jsx(H5,{ref:n,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(rb,{className:"h-4 w-4"})}));o6.displayName=H5.displayName;const l6=w.forwardRef(({className:e,...t},n)=>r.jsx(U5,{ref:n,className:Ze("text-sm font-semibold",e),...t}));l6.displayName=U5.displayName;const c6=w.forwardRef(({className:e,...t},n)=>r.jsx(q5,{ref:n,className:Ze("text-sm opacity-90",e),...t}));c6.displayName=q5.displayName;function Ine(){const{toasts:e}=Ut();return r.jsxs(One,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(a6,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(l6,{children:n}),s&&r.jsx(c6,{children:s})]}),i,r.jsx(o6,{})]},t)}),r.jsx(i6,{})]})}var gM=["light","dark"],$ne="(prefers-color-scheme: dark)",Rne=w.createContext(void 0),Lne={setTheme:e=>{},themes:[]},Fne=()=>{var e;return(e=w.useContext(Rne))!=null?e:Lne};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?gM.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,v=!1,y=!0)=>{let N=o?o[x]:x,j=v?x+"|| ''":`'${N}'`,b="";return i&&y&&!v&&gM.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?v||N?b+=`c.add(${j})`:b+="null":N&&(b+=`d[s](n,${j})`),b},g=e?`!function(){${d}${m(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${$ne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var Bne=e=>{switch(e){case"success":return Une;case"info":return Wne;case"warning":return qne;case"error":return Hne;default:return null}},zne=Array(12).fill(0),Vne=({visible:e,className:t})=>q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.createElement("div",{className:"sonner-spinner"},zne.map((n,s)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Une=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Hne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Gne=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Kne=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},JC=1,Yne=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:JC++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0,a,o=s.then(async c=>{if(a=["resolve",c],q.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Xne(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||JC++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Us=new Yne,Qne=(e,t)=>{let n=(t==null?void 0:t.id)||JC++;return Us.addToast({title:e,...t,id:n}),n},Xne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Jne=Qne,Zne=()=>Us.toasts,ere=()=>Us.getActiveToasts();Object.assign(Jne,{success:Us.success,info:Us.info,warning:Us.warning,error:Us.error,custom:Us.custom,message:Us.message,promise:Us.promise,dismiss:Us.dismiss,loading:Us.loading},{getHistory:Zne,getToasts:ere});function tre(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}tre(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fx(e){return e.label!==void 0}var nre=3,rre="32px",sre="16px",vM=4e3,ire=356,are=14,ore=20,lre=200;function la(...e){return e.filter(Boolean).join(" ")}function cre(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var ure=e=>{var t,n,s,i,a,o,l,c,u,d,f;let{invert:m,toast:g,unstyled:x,interacting:v,setHeights:y,visibleToasts:N,heights:j,index:b,toasts:P,expanded:C,removeToast:A,defaultRichColors:_,closeButton:E,style:O,cancelButtonStyle:I,actionButtonStyle:D,className:k="",descriptionClassName:F="",duration:$,position:Q,gap:U,loadingIcon:ie,expandByDefault:L,classNames:z,icons:le,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:ee}=e,[J,te]=q.useState(null),[xe,ve]=q.useState(null),[re,B]=q.useState(!1),[X,ye]=q.useState(!1),[Z,M]=q.useState(!1),[je,we]=q.useState(!1),[Fe,Be]=q.useState(!1),[at,lt]=q.useState(0),[ut,Ne]=q.useState(0),Ge=q.useRef(g.duration||$||vM),Ke=q.useRef(null),qt=q.useRef(null),Kn=b===0,Pt=b+1<=N,jn=g.type,lr=g.dismissible!==!1,Yn=g.className||"",ms=g.descriptionClassName||"",Se=q.useMemo(()=>j.findIndex(jt=>jt.toastId===g.id)||0,[j,g.id]),zt=q.useMemo(()=>{var jt;return(jt=g.closeButton)!=null?jt:E},[g.closeButton,E]),nt=q.useMemo(()=>g.duration||$||vM,[g.duration,$]),mt=q.useRef(0),rn=q.useRef(0),rs=q.useRef(0),qr=q.useRef(null),[Is,ml]=Q.split("-"),oe=q.useMemo(()=>j.reduce((jt,on,mn)=>mn>=Se?jt:jt+on.height,0),[j,Se]),We=Kne(),Le=g.invert||m,_n=jn==="loading";rn.current=q.useMemo(()=>Se*U+oe,[Se,oe]),q.useEffect(()=>{Ge.current=nt},[nt]),q.useEffect(()=>{B(!0)},[]),q.useEffect(()=>{let jt=qt.current;if(jt){let on=jt.getBoundingClientRect().height;return Ne(on),y(mn=>[{toastId:g.id,height:on,position:g.position},...mn]),()=>y(mn=>mn.filter(ps=>ps.toastId!==g.id))}},[y,g.id]),q.useLayoutEffect(()=>{if(!re)return;let jt=qt.current,on=jt.style.height;jt.style.height="auto";let mn=jt.getBoundingClientRect().height;jt.style.height=on,Ne(mn),y(ps=>ps.find(gs=>gs.toastId===g.id)?ps.map(gs=>gs.toastId===g.id?{...gs,height:mn}:gs):[{toastId:g.id,height:mn,position:g.position},...ps])},[re,g.title,g.description,y,g.id]);let Qn=q.useCallback(()=>{ye(!0),lt(rn.current),y(jt=>jt.filter(on=>on.toastId!==g.id)),setTimeout(()=>{A(g)},lre)},[g,A,y,rn]);q.useEffect(()=>{if(g.promise&&jn==="loading"||g.duration===1/0||g.type==="loading")return;let jt;return C||v||ee&&We?(()=>{if(rs.current<mt.current){let on=new Date().getTime()-mt.current;Ge.current=Ge.current-on}rs.current=new Date().getTime()})():Ge.current!==1/0&&(mt.current=new Date().getTime(),jt=setTimeout(()=>{var on;(on=g.onAutoClose)==null||on.call(g,g),Qn()},Ge.current)),()=>clearTimeout(jt)},[C,v,g,jn,ee,We,Qn]),q.useEffect(()=>{g.delete&&Qn()},[Qn,g.delete]);function ta(){var jt,on,mn;return le!=null&&le.loading?q.createElement("div",{className:la(z==null?void 0:z.loader,(jt=g==null?void 0:g.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":jn==="loading"},le.loading):ie?q.createElement("div",{className:la(z==null?void 0:z.loader,(on=g==null?void 0:g.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":jn==="loading"},ie):q.createElement(Vne,{className:la(z==null?void 0:z.loader,(mn=g==null?void 0:g.classNames)==null?void 0:mn.loader),visible:jn==="loading"})}return q.createElement("li",{tabIndex:0,ref:qt,className:la(k,Yn,z==null?void 0:z.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,z==null?void 0:z.default,z==null?void 0:z[jn],(n=g==null?void 0:g.classNames)==null?void 0:n[jn]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:_,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":re,"data-promise":!!g.promise,"data-swiped":Fe,"data-removed":X,"data-visible":Pt,"data-y-position":Is,"data-x-position":ml,"data-index":b,"data-front":Kn,"data-swiping":Z,"data-dismissible":lr,"data-type":jn,"data-invert":Le,"data-swipe-out":je,"data-swipe-direction":xe,"data-expanded":!!(C||L&&re),style:{"--index":b,"--toasts-before":b,"--z-index":P.length-b,"--offset":`${X?at:rn.current}px`,"--initial-height":L?"auto":`${ut}px`,...O,...g.style},onDragEnd:()=>{M(!1),te(null),qr.current=null},onPointerDown:jt=>{_n||!lr||(Ke.current=new Date,lt(rn.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(M(!0),qr.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,on,mn,ps;if(je||!lr)return;qr.current=null;let gs=Number(((jt=qt.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Si=Number(((on=qt.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ti=new Date().getTime()-((mn=Ke.current)==null?void 0:mn.getTime()),vs=J==="x"?gs:Si,$s=Math.abs(vs)/ti;if(Math.abs(vs)>=ore||$s>.11){lt(rn.current),(ps=g.onDismiss)==null||ps.call(g,g),ve(J==="x"?gs>0?"right":"left":Si>0?"down":"up"),Qn(),we(!0),Be(!1);return}M(!1),te(null)},onPointerMove:jt=>{var on,mn,ps,gs;if(!qr.current||!lr||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;let Si=jt.clientY-qr.current.y,ti=jt.clientX-qr.current.x,vs=(mn=e.swipeDirections)!=null?mn:cre(Q);!J&&(Math.abs(ti)>1||Math.abs(Si)>1)&&te(Math.abs(ti)>Math.abs(Si)?"x":"y");let $s={x:0,y:0};J==="y"?(vs.includes("top")||vs.includes("bottom"))&&(vs.includes("top")&&Si<0||vs.includes("bottom")&&Si>0)&&($s.y=Si):J==="x"&&(vs.includes("left")||vs.includes("right"))&&(vs.includes("left")&&ti<0||vs.includes("right")&&ti>0)&&($s.x=ti),(Math.abs($s.x)>0||Math.abs($s.y)>0)&&Be(!0),(ps=qt.current)==null||ps.style.setProperty("--swipe-amount-x",`${$s.x}px`),(gs=qt.current)==null||gs.style.setProperty("--swipe-amount-y",`${$s.y}px`)}},zt&&!g.jsx?q.createElement("button",{"aria-label":pe,"data-disabled":_n,"data-close-button":!0,onClick:_n||!lr?()=>{}:()=>{var jt;Qn(),(jt=g.onDismiss)==null||jt.call(g,g)},className:la(z==null?void 0:z.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(a=le==null?void 0:le.close)!=null?a:Gne):null,g.jsx||w.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:q.createElement(q.Fragment,null,jn||g.icon||g.promise?q.createElement("div",{"data-icon":"",className:la(z==null?void 0:z.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ta():null,g.type!=="loading"?g.icon||(le==null?void 0:le[jn])||Bne(jn):null):null,q.createElement("div",{"data-content":"",className:la(z==null?void 0:z.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},q.createElement("div",{"data-title":"",className:la(z==null?void 0:z.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?q.createElement("div",{"data-description":"",className:la(F,ms,z==null?void 0:z.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),w.isValidElement(g.cancel)?g.cancel:g.cancel&&Fx(g.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||I,onClick:jt=>{var on,mn;Fx(g.cancel)&&lr&&((mn=(on=g.cancel).onClick)==null||mn.call(on,jt),Qn())},className:la(z==null?void 0:z.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,w.isValidElement(g.action)?g.action:g.action&&Fx(g.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||D,onClick:jt=>{var on,mn;Fx(g.action)&&((mn=(on=g.action).onClick)==null||mn.call(on,jt),!jt.defaultPrevented&&Qn())},className:la(z==null?void 0:z.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function xM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function dre(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?sre:rre;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var hre=w.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:x=nre,toastOptions:v,dir:y=xM(),gap:N=are,loadingIcon:j,icons:b,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:C}=e,[A,_]=q.useState([]),E=q.useMemo(()=>Array.from(new Set([s].concat(A.filter(ee=>ee.position).map(ee=>ee.position)))),[A,s]),[O,I]=q.useState([]),[D,k]=q.useState(!1),[F,$]=q.useState(!1),[Q,U]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=q.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=q.useRef(null),le=q.useRef(!1),pe=q.useCallback(ee=>{_(J=>{var te;return(te=J.find(xe=>xe.id===ee.id))!=null&&te.delete||Us.dismiss(ee.id),J.filter(({id:xe})=>xe!==ee.id)})},[]);return q.useEffect(()=>Us.subscribe(ee=>{if(ee.dismiss){_(J=>J.map(te=>te.id===ee.id?{...te,delete:!0}:te));return}setTimeout(()=>{b5.flushSync(()=>{_(J=>{let te=J.findIndex(xe=>xe.id===ee.id);return te!==-1?[...J.slice(0,te),{...J[te],...ee},...J.slice(te+1)]:[ee,...J]})})})}),[]),q.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:J})=>{U(J?"dark":"light")})}catch{ee.addListener(({matches:te})=>{try{U(te?"dark":"light")}catch(xe){console.error(xe)}})}},[d]),q.useEffect(()=>{A.length<=1&&k(!1)},[A]),q.useEffect(()=>{let ee=J=>{var te,xe;i.every(ve=>J[ve]||J.code===ve)&&(k(!0),(te=ie.current)==null||te.focus()),J.code==="Escape"&&(document.activeElement===ie.current||(xe=ie.current)!=null&&xe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[i]),q.useEffect(()=>{if(ie.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,le.current=!1)}},[ie.current]),q.createElement("section",{ref:t,"aria-label":`${P} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((ee,J)=>{var te;let[xe,ve]=ee.split("-");return A.length?q.createElement("ol",{key:ee,dir:y==="auto"?xM():y,tabIndex:-1,ref:ie,className:l,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":xe,"data-lifted":D&&A.length>1&&!a,"data-x-position":ve,style:{"--front-toast-height":`${((te=O[0])==null?void 0:te.height)||0}px`,"--width":`${ire}px`,"--gap":`${N}px`,...g,...dre(c,u)},onBlur:re=>{le.current&&!re.currentTarget.contains(re.relatedTarget)&&(le.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||le.current||(le.current=!0,z.current=re.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{F||k(!1)},onDragEnd:()=>k(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},A.filter(re=>!re.position&&J===0||re.position===ee).map((re,B)=>{var X,ye;return q.createElement(ure,{key:re.id,icons:b,index:B,toast:re,defaultRichColors:f,duration:(X=v==null?void 0:v.duration)!=null?X:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ye=v==null?void 0:v.closeButton)!=null?ye:o,interacting:F,position:ee,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:pe,toasts:A.filter(Z=>Z.position==re.position),heights:O.filter(Z=>Z.position==re.position),setHeights:I,expandByDefault:a,gap:N,loadingIcon:j,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const fre=({...e})=>{const{theme:t="system"}=Fne();return r.jsx(hre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var mre=E_[" useId ".trim().toString()]||(()=>{}),pre=0;function Zr(e){const[t,n]=w.useState(mre());return br(()=>{n(s=>s??String(pre++))},[e]),t?`radix-${t}`:""}const gre=["top","right","bottom","left"],xc=Math.min,fi=Math.max,h0=Math.round,Bx=Math.floor,oo=e=>({x:e,y:e}),vre={left:"right",right:"left",bottom:"top",top:"bottom"},xre={start:"end",end:"start"};function ZC(e,t,n){return fi(e,xc(t,n))}function rl(e,t){return typeof e=="function"?e(t):e}function sl(e){return e.split("-")[0]}function Ff(e){return e.split("-")[1]}function EA(e){return e==="x"?"y":"x"}function kA(e){return e==="y"?"height":"width"}const yre=new Set(["top","bottom"]);function eo(e){return yre.has(sl(e))?"y":"x"}function TA(e){return EA(eo(e))}function jre(e,t,n){n===void 0&&(n=!1);const s=Ff(e),i=TA(e),a=kA(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=f0(o)),[o,f0(o)]}function bre(e){const t=f0(e);return[e2(e),t,e2(t)]}function e2(e){return e.replace(/start|end/g,t=>xre[t])}const yM=["left","right"],jM=["right","left"],wre=["top","bottom"],Nre=["bottom","top"];function Sre(e,t,n){switch(e){case"top":case"bottom":return n?t?jM:yM:t?yM:jM;case"left":case"right":return t?wre:Nre;default:return[]}}function Cre(e,t,n,s){const i=Ff(e);let a=Sre(sl(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(e2)))),a}function f0(e){return e.replace(/left|right|bottom|top/g,t=>vre[t])}function Pre(e){return{top:0,right:0,bottom:0,left:0,...e}}function u6(e){return typeof e!="number"?Pre(e):{top:e,right:e,bottom:e,left:e}}function m0(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function bM(e,t,n){let{reference:s,floating:i}=e;const a=eo(t),o=TA(t),l=kA(o),c=sl(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-i.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-i.width,y:f};break;default:g={x:s.x,y:s.y}}switch(Ff(t)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const _re=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=bM(u,s,c),m=s,g={},x=0;for(let v=0;v<l.length;v++){const{name:y,fn:N}=l[v],{x:j,y:b,data:P,reset:C}=await N({x:d,y:f,initialPlacement:s,placement:m,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=j??d,f=b??f,g={...g,[y]:{...g[y],...P}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:d,y:f}=bM(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function Jp(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=rl(t,e),x=u6(g),y=l[m?f==="floating"?"reference":"floating":f],N=m0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},C=m0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(N.top-C.top+x.top)/P.y,bottom:(C.bottom-N.bottom+x.bottom)/P.y,left:(N.left-C.left+x.left)/P.x,right:(C.right-N.right+x.right)/P.x}}const Are=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=rl(e,t)||{};if(u==null)return{};const f=u6(d),m={x:n,y:s},g=TA(i),x=kA(g),v=await o.getDimensions(u),y=g==="y",N=y?"top":"left",j=y?"bottom":"right",b=y?"clientHeight":"clientWidth",P=a.reference[x]+a.reference[g]-m[g]-a.floating[x],C=m[g]-a.reference[g],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=A?A[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(A)))&&(_=l.floating[b]||a.floating[x]);const E=P/2-C/2,O=_/2-v[x]/2-1,I=xc(f[N],O),D=xc(f[j],O),k=I,F=_-v[x]-D,$=_/2-v[x]/2+E,Q=ZC(k,$,F),U=!c.arrow&&Ff(i)!=null&&$!==Q&&a.reference[x]/2-($<k?I:D)-v[x]/2<0,ie=U?$<k?$-k:$-F:0;return{[g]:m[g]+ie,data:{[g]:Q,centerOffset:$-Q-ie,...U&&{alignmentOffset:ie}},reset:U}}}),Ere=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=rl(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=sl(i),j=eo(l),b=sl(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(b||!v?[f0(l)]:bre(l)),A=x!=="none";!m&&A&&C.push(...Cre(l,v,x,P));const _=[l,...C],E=await Jp(t,y),O=[];let I=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&O.push(E[N]),f){const $=jre(i,o,P);O.push(E[$[0]],E[$[1]])}if(I=[...I,{placement:i,overflows:O}],!O.every($=>$<=0)){var D,k;const $=(((D=a.flip)==null?void 0:D.index)||0)+1,Q=_[$];if(Q&&(!(f==="alignment"?j!==eo(Q):!1)||I.every(L=>L.overflows[0]>0&&eo(L.placement)===j)))return{data:{index:$,overflows:I},reset:{placement:Q}};let U=(k=I.filter(ie=>ie.overflows[0]<=0).sort((ie,L)=>ie.overflows[1]-L.overflows[1])[0])==null?void 0:k.placement;if(!U)switch(g){case"bestFit":{var F;const ie=(F=I.filter(L=>{if(A){const z=eo(L.placement);return z===j||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,le)=>z+le,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:F[0];ie&&(U=ie);break}case"initialPlacement":U=l;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function wM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function NM(e){return gre.some(t=>e[t]>=0)}const kre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=rl(e,t);switch(s){case"referenceHidden":{const a=await Jp(t,{...i,elementContext:"reference"}),o=wM(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NM(o)}}}case"escaped":{const a=await Jp(t,{...i,altBoundary:!0}),o=wM(a,n.floating);return{data:{escapedOffsets:o,escaped:NM(o)}}}default:return{}}}}},d6=new Set(["left","top"]);async function Tre(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=sl(n),l=Ff(n),c=eo(n)==="y",u=d6.has(o)?-1:1,d=a&&c?-1:1,f=rl(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const Ore=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Tre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Dre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:j}=y;return{x:N,y:j}}},...c}=rl(e,t),u={x:n,y:s},d=await Jp(t,c),f=eo(sl(i)),m=EA(f);let g=u[m],x=u[f];if(a){const y=m==="y"?"top":"left",N=m==="y"?"bottom":"right",j=g+d[y],b=g-d[N];g=ZC(j,g,b)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",j=x+d[y],b=x-d[N];x=ZC(j,x,b)}const v=l.fn({...t,[m]:g,[f]:x});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},Mre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=rl(e,t),d={x:n,y:s},f=eo(i),m=EA(f);let g=d[m],x=d[f];const v=rl(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",P=a.reference[m]-a.floating[b]+y.mainAxis,C=a.reference[m]+a.reference[b]-y.mainAxis;g<P?g=P:g>C&&(g=C)}if(u){var N,j;const b=m==="y"?"width":"height",P=d6.has(sl(i)),C=a.reference[f]-a.floating[b]+(P&&((N=o.offset)==null?void 0:N[f])||0)+(P?0:y.crossAxis),A=a.reference[f]+a.reference[b]+(P?0:((j=o.offset)==null?void 0:j[f])||0)-(P?y.crossAxis:0);x<C?x=C:x>A&&(x=A)}return{[m]:g,[f]:x}}}},Ire=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=rl(e,t),d=await Jp(t,u),f=sl(i),m=Ff(i),g=eo(i)==="y",{width:x,height:v}=a.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=m==="end"?"top":"bottom");const j=v-d.top-d.bottom,b=x-d.left-d.right,P=xc(v-d[y],j),C=xc(x-d[N],b),A=!t.middlewareData.shift;let _=P,E=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(_=j),A&&!m){const I=fi(d.left,0),D=fi(d.right,0),k=fi(d.top,0),F=fi(d.bottom,0);g?E=x-2*(I!==0||D!==0?I+D:fi(d.left,d.right)):_=v-2*(k!==0||F!==0?k+F:fi(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:_});const O=await o.getDimensions(l.floating);return x!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function sb(){return typeof window<"u"}function Bf(e){return h6(e)?(e.nodeName||"").toLowerCase():"#document"}function xi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function po(e){var t;return(t=(h6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function h6(e){return sb()?e instanceof Node||e instanceof xi(e).Node:!1}function ka(e){return sb()?e instanceof Element||e instanceof xi(e).Element:!1}function fo(e){return sb()?e instanceof HTMLElement||e instanceof xi(e).HTMLElement:!1}function SM(e){return!sb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xi(e).ShadowRoot}const $re=new Set(["inline","contents"]);function tv(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Ta(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!$re.has(i)}const Rre=new Set(["table","td","th"]);function Lre(e){return Rre.has(Bf(e))}const Fre=[":popover-open",":modal"];function ib(e){return Fre.some(t=>{try{return e.matches(t)}catch{return!1}})}const Bre=["transform","translate","scale","rotate","perspective"],zre=["transform","translate","scale","rotate","perspective","filter"],Vre=["paint","layout","strict","content"];function OA(e){const t=DA(),n=ka(e)?Ta(e):e;return Bre.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||zre.some(s=>(n.willChange||"").includes(s))||Vre.some(s=>(n.contain||"").includes(s))}function Ure(e){let t=yc(e);for(;fo(t)&&!Jh(t);){if(OA(t))return t;if(ib(t))return null;t=yc(t)}return null}function DA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qre=new Set(["html","body","#document"]);function Jh(e){return qre.has(Bf(e))}function Ta(e){return xi(e).getComputedStyle(e)}function ab(e){return ka(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yc(e){if(Bf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||SM(e)&&e.host||po(e);return SM(t)?t.host:t}function f6(e){const t=yc(e);return Jh(t)?e.ownerDocument?e.ownerDocument.body:e.body:fo(t)&&tv(t)?t:f6(t)}function Zp(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=f6(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=xi(i);if(a){const l=t2(o);return t.concat(o,o.visualViewport||[],tv(i)?i:[],l&&n?Zp(l):[])}return t.concat(i,Zp(i,[],n))}function t2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function m6(e){const t=Ta(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=fo(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=h0(n)!==a||h0(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function MA(e){return ka(e)?e:e.contextElement}function Ch(e){const t=MA(e);if(!fo(t))return oo(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=m6(t);let o=(a?h0(n.width):n.width)/s,l=(a?h0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Wre=oo(0);function p6(e){const t=xi(e);return!DA()||!t.visualViewport?Wre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xi(e)?!1:t}function Bu(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=MA(e);let o=oo(1);t&&(s?ka(s)&&(o=Ch(s)):o=Ch(e));const l=Hre(a,n,s)?p6(a):oo(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=xi(a),g=s&&ka(s)?xi(s):s;let x=m,v=t2(x);for(;v&&s&&g!==x;){const y=Ch(v),N=v.getBoundingClientRect(),j=Ta(v),b=N.left+(v.clientLeft+parseFloat(j.paddingLeft))*y.x,P=N.top+(v.clientTop+parseFloat(j.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=P,x=xi(v),v=t2(x)}}return m0({width:d,height:f,x:c,y:u})}function IA(e,t){const n=ab(e).scrollLeft;return t?t.left+n:Bu(po(e)).left+n}function g6(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:IA(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function Gre(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=po(s),l=t?ib(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=oo(1);const d=oo(0),f=fo(s);if((f||!f&&!a)&&((Bf(s)!=="body"||tv(o))&&(c=ab(s)),fo(s))){const g=Bu(s);u=Ch(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=o&&!f&&!a?g6(o,c,!0):oo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Kre(e){return Array.from(e.getClientRects())}function Yre(e){const t=po(e),n=ab(e),s=e.ownerDocument.body,i=fi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=fi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+IA(e);const l=-n.scrollTop;return Ta(s).direction==="rtl"&&(o+=fi(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function Qre(e,t){const n=xi(e),s=po(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=DA();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const Xre=new Set(["absolute","fixed"]);function Jre(e,t){const n=Bu(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=fo(e)?Ch(e):oo(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function CM(e,t,n){let s;if(t==="viewport")s=Qre(e,n);else if(t==="document")s=Yre(po(e));else if(ka(t))s=Jre(t,n);else{const i=p6(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return m0(s)}function v6(e,t){const n=yc(e);return n===t||!ka(n)||Jh(n)?!1:Ta(n).position==="fixed"||v6(n,t)}function Zre(e,t){const n=t.get(e);if(n)return n;let s=Zp(e,[],!1).filter(l=>ka(l)&&Bf(l)!=="body"),i=null;const a=Ta(e).position==="fixed";let o=a?yc(e):e;for(;ka(o)&&!Jh(o);){const l=Ta(o),c=OA(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&Xre.has(i.position)||tv(o)&&!c&&v6(e,o))?s=s.filter(d=>d!==o):i=l,o=yc(o)}return t.set(e,s),s}function ese(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?ib(t)?[]:Zre(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=CM(t,d,i);return u.top=fi(f.top,u.top),u.right=xc(f.right,u.right),u.bottom=xc(f.bottom,u.bottom),u.left=fi(f.left,u.left),u},CM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tse(e){const{width:t,height:n}=m6(e);return{width:t,height:n}}function nse(e,t,n){const s=fo(t),i=po(t),a=n==="fixed",o=Bu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=oo(0);function u(){c.x=IA(i)}if(s||!s&&!a)if((Bf(t)!=="body"||tv(i))&&(l=ab(t)),s){const g=Bu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?g6(i,l):oo(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function XN(e){return Ta(e).position==="static"}function PM(e,t){if(!fo(e)||Ta(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return po(e)===n&&(n=n.ownerDocument.body),n}function x6(e,t){const n=xi(e);if(ib(e))return n;if(!fo(e)){let i=yc(e);for(;i&&!Jh(i);){if(ka(i)&&!XN(i))return i;i=yc(i)}return n}let s=PM(e,t);for(;s&&Lre(s)&&XN(s);)s=PM(s,t);return s&&Jh(s)&&XN(s)&&!OA(s)?n:s||Ure(e)||n}const rse=async function(e){const t=this.getOffsetParent||x6,n=this.getDimensions,s=await n(e.floating);return{reference:nse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function sse(e){return Ta(e).direction==="rtl"}const ise={convertOffsetParentRelativeRectToViewportRelativeRect:Gre,getDocumentElement:po,getClippingRect:ese,getOffsetParent:x6,getElementRects:rse,getClientRects:Kre,getDimensions:tse,getScale:Ch,isElement:ka,isRTL:sse};function y6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ase(e,t){let n=null,s;const i=po(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const x=Bx(f),v=Bx(i.clientWidth-(d+m)),y=Bx(i.clientHeight-(f+g)),N=Bx(d),b={rootMargin:-x+"px "+-v+"px "+-y+"px "+-N+"px",threshold:fi(0,xc(1,c))||1};let P=!0;function C(A){const _=A[0].intersectionRatio;if(_!==c){if(!P)return o();_?o(!1,_):s=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!y6(u,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return o(!0),a}function ose(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=MA(e),d=i||a?[...u?Zp(u):[],...Zp(t)]:[];d.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=u&&l?ase(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(N=>{let[j]=N;j&&j.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let x,v=c?Bu(e):null;c&&y();function y(){const N=Bu(e);v&&!y6(v,N)&&n(),v=N,x=requestAnimationFrame(y)}return n(),()=>{var N;d.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),f==null||f(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const lse=Ore,cse=Dre,use=Ere,dse=Ire,hse=kre,_M=Are,fse=Mre,mse=(e,t,n)=>{const s=new Map,i={platform:ise,...n},a={...i.platform,_c:s};return _re(e,t,{...i,platform:a})};var pse=typeof document<"u",gse=function(){},My=pse?w.useLayoutEffect:gse;function p0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!p0(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!p0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function j6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function AM(e,t){const n=j6(e);return Math.round(t*n)/n}function JN(e){const t=w.useRef(e);return My(()=>{t.current=e}),t}function vse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(s);p0(m,s)||g(s);const[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useCallback(L=>{L!==A.current&&(A.current=L,v(L))},[]),b=w.useCallback(L=>{L!==_.current&&(_.current=L,N(L))},[]),P=a||x,C=o||y,A=w.useRef(null),_=w.useRef(null),E=w.useRef(d),O=c!=null,I=JN(c),D=JN(i),k=JN(u),F=w.useCallback(()=>{if(!A.current||!_.current)return;const L={placement:t,strategy:n,middleware:m};D.current&&(L.platform=D.current),mse(A.current,_.current,L).then(z=>{const le={...z,isPositioned:k.current!==!1};$.current&&!p0(E.current,le)&&(E.current=le,sd.flushSync(()=>{f(le)}))})},[m,t,n,D,k]);My(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const $=w.useRef(!1);My(()=>($.current=!0,()=>{$.current=!1}),[]),My(()=>{if(P&&(A.current=P),C&&(_.current=C),P&&C){if(I.current)return I.current(P,C,F);F()}},[P,C,F,I,O]);const Q=w.useMemo(()=>({reference:A,floating:_,setReference:j,setFloating:b}),[j,b]),U=w.useMemo(()=>({reference:P,floating:C}),[P,C]),ie=w.useMemo(()=>{const L={position:n,left:0,top:0};if(!U.floating)return L;const z=AM(U.floating,d.x),le=AM(U.floating,d.y);return l?{...L,transform:"translate("+z+"px, "+le+"px)",...j6(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:le}},[n,l,U.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:F,refs:Q,elements:U,floatingStyles:ie}),[d,F,Q,U,ie])}const xse=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?_M({element:s.current,padding:i}).fn(n):{}:s?_M({element:s,padding:i}).fn(n):{}}}},yse=(e,t)=>({...lse(e),options:[e,t]}),jse=(e,t)=>({...cse(e),options:[e,t]}),bse=(e,t)=>({...fse(e),options:[e,t]}),wse=(e,t)=>({...use(e),options:[e,t]}),Nse=(e,t)=>({...dse(e),options:[e,t]}),Sse=(e,t)=>({...hse(e),options:[e,t]}),Cse=(e,t)=>({...xse(e),options:[e,t]});var Pse="Arrow",b6=w.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(it.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});b6.displayName=Pse;var _se=b6;function $A(e){const[t,n]=w.useState(void 0);return br(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var RA="Popper",[w6,Pc]=Xs(RA),[Ase,N6]=w6(RA),S6=e=>{const{__scopePopper:t,children:n}=e,[s,i]=w.useState(null);return r.jsx(Ase,{scope:t,anchor:s,onAnchorChange:i,children:n})};S6.displayName=RA;var C6="PopperAnchor",P6=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=N6(C6,n),o=w.useRef(null),l=Qt(t,o);return w.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(it.div,{...i,ref:l})});P6.displayName=C6;var LA="PopperContent",[Ese,kse]=w6(LA),_6=w.forwardRef((e,t)=>{var re,B,X,ye,Z,M;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=N6(LA,n),[N,j]=w.useState(null),b=Qt(t,je=>j(je)),[P,C]=w.useState(null),A=$A(P),_=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,O=s+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],k=D.length>0,F={padding:I,boundary:D.filter(Ose),altBoundary:k},{refs:$,floatingStyles:Q,placement:U,isPositioned:ie,middlewareData:L}=vse({strategy:"fixed",placement:O,whileElementsMounted:(...je)=>ose(...je,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[yse({mainAxis:i+E,alignmentAxis:o}),c&&jse({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bse():void 0,...F}),c&&wse({...F}),Nse({...F,apply:({elements:je,rects:we,availableWidth:Fe,availableHeight:Be})=>{const{width:at,height:lt}=we.reference,ut=je.floating.style;ut.setProperty("--radix-popper-available-width",`${Fe}px`),ut.setProperty("--radix-popper-available-height",`${Be}px`),ut.setProperty("--radix-popper-anchor-width",`${at}px`),ut.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),P&&Cse({element:P,padding:l}),Dse({arrowWidth:_,arrowHeight:E}),m&&Sse({strategy:"referenceHidden",...F})]}),[z,le]=k6(U),pe=Ts(x);br(()=>{ie&&(pe==null||pe())},[ie,pe]);const ee=(re=L.arrow)==null?void 0:re.x,J=(B=L.arrow)==null?void 0:B.y,te=((X=L.arrow)==null?void 0:X.centerOffset)!==0,[xe,ve]=w.useState();return br(()=>{N&&ve(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:ie?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ye=L.transformOrigin)==null?void 0:ye.x,(Z=L.transformOrigin)==null?void 0:Z.y].join(" "),...((M=L.hide)==null?void 0:M.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Ese,{scope:n,placedSide:z,onArrowChange:C,arrowX:ee,arrowY:J,shouldHideArrow:te,children:r.jsx(it.div,{"data-side":z,"data-align":le,...v,ref:b,style:{...v.style,animation:ie?void 0:"none"}})})})});_6.displayName=LA;var A6="PopperArrow",Tse={top:"bottom",right:"left",bottom:"top",left:"right"},E6=w.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=kse(A6,s),o=Tse[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(_se,{...i,ref:n,style:{...i.style,display:"block"}})})});E6.displayName=A6;function Ose(e){return e!==null}var Dse=e=>({name:"transformOrigin",options:e,fn(t){var y,N,j;const{placement:n,rects:s,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=k6(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,g=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?f:`${m}px`,v=`${-c}px`):u==="top"?(x=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?f:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,v=o?f:`${g}px`),{data:{x,y:v}}}});function k6(e){const[t,n="center"]=e.split("-");return[t,n]}var FA=S6,nv=P6,ob=_6,lb=E6,[cb,Q5e]=Xs("Tooltip",[Pc]),BA=Pc(),T6="TooltipProvider",Mse=700,EM="tooltip.open",[Ise,O6]=cb(T6),D6=e=>{const{__scopeTooltip:t,delayDuration:n=Mse,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),r.jsx(Ise,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};D6.displayName=T6;var M6="Tooltip",[X5e,ub]=cb(M6),n2="TooltipTrigger",$se=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=ub(n2,n),a=O6(n2,n),o=BA(n),l=w.useRef(null),c=Qt(t,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(nv,{asChild:!0,...o,children:r.jsx(it.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:He(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:He(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:He(e.onBlur,i.onClose),onClick:He(e.onClick,i.onClose)})})});$se.displayName=n2;var Rse="TooltipPortal",[J5e,Lse]=cb(Rse,{forceMount:void 0}),Zh="TooltipContent",I6=w.forwardRef((e,t)=>{const n=Lse(Zh,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=ub(Zh,e.__scopeTooltip);return r.jsx(Js,{present:s||o.open,children:o.disableHoverableContent?r.jsx($6,{side:i,...a,ref:t}):r.jsx(Fse,{side:i,...a,ref:t})})}),Fse=w.forwardRef((e,t)=>{const n=ub(Zh,e.__scopeTooltip),s=O6(Zh,e.__scopeTooltip),i=w.useRef(null),a=Qt(t,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,m=w.useCallback(()=>{l(null),f(!1)},[f]),g=w.useCallback((x,v)=>{const y=x.currentTarget,N={x:x.clientX,y:x.clientY},j=qse(N,y.getBoundingClientRect()),b=Wse(N,j),P=Hse(v.getBoundingClientRect()),C=Kse([...b,...P]);l(C),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const x=y=>g(y,d),v=y=>g(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),w.useEffect(()=>{if(o){const x=v=>{const y=v.target,N={x:v.clientX,y:v.clientY},j=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!Gse(N,o);j?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),r.jsx($6,{...e,ref:a})}),[Bse,zse]=cb(M6,{isInside:!1}),Vse=Vee("TooltipContent"),$6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=ub(Zh,n),u=BA(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(EM,d),()=>document.removeEventListener(EM,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),r.jsx(id,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(ob,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Vse,{children:s}),r.jsx(Bse,{scope:n,isInside:!0,children:r.jsx(ute,{id:c.contentId,role:"tooltip",children:i||s})})]})})});I6.displayName=Zh;var R6="TooltipArrow",Use=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=BA(n);return zse(R6,n).isInside?null:r.jsx(lb,{...i,...s,ref:t})});Use.displayName=R6;function qse(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Wse(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Hse(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function Gse(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function Kse(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Yse(t)}function Yse(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Qse=D6,L6=I6;const Xse=Qse,Jse=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(L6,{ref:s,sideOffset:t,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Jse.displayName=L6.displayName;var zf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zse={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Vl,S_,J3,eie=(J3=class{constructor(){ht(this,Vl,Zse);ht(this,S_,!1)}setTimeoutProvider(e){Xe(this,Vl,e)}setTimeout(e,t){return ce(this,Vl).setTimeout(e,t)}clearTimeout(e){ce(this,Vl).clearTimeout(e)}setInterval(e,t){return ce(this,Vl).setInterval(e,t)}clearInterval(e){ce(this,Vl).clearInterval(e)}},Vl=new WeakMap,S_=new WeakMap,J3),mu=new eie;function tie(e){setTimeout(e,0)}var zu=typeof window>"u"||"Deno"in globalThis;function Cs(){}function nie(e,t){return typeof e=="function"?e(t):e}function r2(e){return typeof e=="number"&&e>=0&&e!==1/0}function F6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dc(e,t){return typeof e=="function"?e(t):e}function Li(e,t){return typeof e=="function"?e(t):e}function kM(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==zA(o,t.options))return!1}else if(!eg(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function TM(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Vu(t.options.mutationKey)!==Vu(a))return!1}else if(!eg(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function zA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vu)(e)}function Vu(e){return JSON.stringify(e,(t,n)=>s2(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function eg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>eg(e[n],t[n])):!1}var rie=Object.prototype.hasOwnProperty;function B6(e,t){if(e===t)return e;const n=OM(e)&&OM(t);if(!n&&!(s2(e)&&s2(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<i:rie.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const g=B6(f,m);l[d]=g,g===f&&c++}return i===o&&c===i?e:l}function g0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function OM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function s2(e){if(!DM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!DM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function DM(e){return Object.prototype.toString.call(e)==="[object Object]"}function sie(e){return new Promise(t=>{mu.setTimeout(t,e)})}function i2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?B6(e,t):t}function iie(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function aie(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var VA=Symbol();function z6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===VA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function V6(e,t){return typeof e=="function"?e(...t):!!e}var ju,Ul,Oh,Z3,oie=(Z3=class extends zf{constructor(){super();ht(this,ju);ht(this,Ul);ht(this,Oh);Xe(this,Oh,t=>{if(!zu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,Ul)||this.setEventListener(ce(this,Oh))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Ul))==null||t.call(this),Xe(this,Ul,void 0))}setEventListener(t){var n;Xe(this,Oh,t),(n=ce(this,Ul))==null||n.call(this),Xe(this,Ul,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ce(this,ju)!==t&&(Xe(this,ju,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ce(this,ju)=="boolean"?ce(this,ju):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ju=new WeakMap,Ul=new WeakMap,Oh=new WeakMap,Z3),UA=new oie;function a2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var lie=tie;function cie(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=lie;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var Er=cie(),Dh,ql,Mh,eL,uie=(eL=class extends zf{constructor(){super();ht(this,Dh,!0);ht(this,ql);ht(this,Mh);Xe(this,Mh,t=>{if(!zu&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){ce(this,ql)||this.setEventListener(ce(this,Mh))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,ql))==null||t.call(this),Xe(this,ql,void 0))}setEventListener(t){var n;Xe(this,Mh,t),(n=ce(this,ql))==null||n.call(this),Xe(this,ql,t(this.setOnline.bind(this)))}setOnline(t){ce(this,Dh)!==t&&(Xe(this,Dh,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ce(this,Dh)}},Dh=new WeakMap,ql=new WeakMap,Mh=new WeakMap,eL),v0=new uie;function die(e){return Math.min(1e3*2**e,3e4)}function U6(e){return(e??"online")==="online"?v0.isOnline():!0}var o2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function q6(e){let t=!1,n=0,s;const i=a2(),a=()=>i.status!=="pending",o=v=>{var y;if(!a()){const N=new o2(v);m(N),(y=e.onCancel)==null||y.call(e,N)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>UA.isFocused()&&(e.networkMode==="always"||v0.isOnline())&&e.canRun(),d=()=>U6(e.networkMode)&&e.canRun(),f=v=>{a()||(s==null||s(),i.resolve(v))},m=v=>{a()||(s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var y;s=N=>{(a()||u())&&v(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(a())return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(f).catch(N=>{var A;if(a())return;const j=e.retry??(zu?0:3),b=e.retryDelay??die,P=typeof b=="function"?b(n,N):b,C=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,N);if(t||!C){m(N);return}n++,(A=e.onFail)==null||A.call(e,n,N),sie(P).then(()=>u()?void 0:g()).then(()=>{t?m(N):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),i)}}var bu,tL,W6=(tL=class{constructor(){ht(this,bu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r2(this.gcTime)&&Xe(this,bu,mu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zu?1/0:5*60*1e3))}clearGcTimeout(){ce(this,bu)&&(mu.clearTimeout(ce(this,bu)),Xe(this,bu,void 0))}},bu=new WeakMap,tL),wu,Ih,$i,Nu,Ir,Ug,Su,fa,ko,nL,hie=(nL=class extends W6{constructor(t){super();ht(this,fa);ht(this,wu);ht(this,Ih);ht(this,$i);ht(this,Nu);ht(this,Ir);ht(this,Ug);ht(this,Su);Xe(this,Su,!1),Xe(this,Ug,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,Nu,t.client),Xe(this,$i,ce(this,Nu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,wu,MM(this.options)),this.state=t.state??ce(this,wu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ce(this,Ir))==null?void 0:t.promise}setOptions(t){if(this.options={...ce(this,Ug),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=MM(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Xe(this,wu,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,$i).remove(this)}setData(t,n){const s=i2(this.state.data,t,this.options);return Bt(this,fa,ko).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Bt(this,fa,ko).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=ce(this,Ir))==null?void 0:s.promise;return(i=ce(this,Ir))==null||i.cancel(t),n?n.then(Cs).catch(Cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,wu))}isActive(){return this.observers.some(t=>Li(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>dc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!F6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,Ir))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,Ir))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ce(this,$i).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ce(this,Ir)&&(ce(this,Su)?ce(this,Ir).cancel({revert:!0}):ce(this,Ir).cancelRetry()),this.scheduleGc()),ce(this,$i).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Bt(this,fa,ko).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,g,x,v,y,N,j,b;if(this.state.fetchStatus!=="idle"&&((c=ce(this,Ir))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,Ir))return ce(this,Ir).continueRetry(),ce(this,Ir).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(C=>C.options.queryFn);P&&this.setOptions(P.options)}const s=new AbortController,i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(Xe(this,Su,!0),s.signal)})},a=()=>{const P=z6(this.options,n),A=(()=>{const _={client:ce(this,Nu),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return Xe(this,Su,!1),this.options.persister?this.options.persister(P,A,this):P(A)},l=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,Nu),state:this.state,fetchFn:a};return i(P),P})();(u=this.options.behavior)==null||u.onFetch(l,this),Xe(this,Ih,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Bt(this,fa,ko).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Xe(this,Ir,q6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:P=>{P instanceof o2&&P.revert&&this.setState({...ce(this,Ih),fetchStatus:"idle"}),s.abort()},onFail:(P,C)=>{Bt(this,fa,ko).call(this,{type:"failed",failureCount:P,error:C})},onPause:()=>{Bt(this,fa,ko).call(this,{type:"pause"})},onContinue:()=>{Bt(this,fa,ko).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const P=await ce(this,Ir).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(g=(m=ce(this,$i).config).onSuccess)==null||g.call(m,P,this),(v=(x=ce(this,$i).config).onSettled)==null||v.call(x,P,this.state.error,this),P}catch(P){if(P instanceof o2){if(P.silent)return ce(this,Ir).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Bt(this,fa,ko).call(this,{type:"error",error:P}),(N=(y=ce(this,$i).config).onError)==null||N.call(y,P,this),(b=(j=ce(this,$i).config).onSettled)==null||b.call(j,this.state.data,P,this),P}finally{this.scheduleGc()}}},wu=new WeakMap,Ih=new WeakMap,$i=new WeakMap,Nu=new WeakMap,Ir=new WeakMap,Ug=new WeakMap,Su=new WeakMap,fa=new WeakSet,ko=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...H6(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Xe(this,Ih,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Er.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ce(this,$i).notify({query:this,type:"updated",action:t})})},nL);function H6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zs,tn,qg,ws,Cu,$h,$o,Wl,Wg,Rh,Lh,Pu,_u,Hl,Fh,hn,op,l2,c2,u2,d2,h2,f2,m2,G6,rL,fie=(rL=class extends zf{constructor(t,n){super();ht(this,hn);ht(this,zs);ht(this,tn);ht(this,qg);ht(this,ws);ht(this,Cu);ht(this,$h);ht(this,$o);ht(this,Wl);ht(this,Wg);ht(this,Rh);ht(this,Lh);ht(this,Pu);ht(this,_u);ht(this,Hl);ht(this,Fh,new Set);this.options=n,Xe(this,zs,t),Xe(this,Wl,null),Xe(this,$o,a2()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ce(this,tn).addObserver(this),IM(ce(this,tn),this.options)?Bt(this,hn,op).call(this):this.updateResult(),Bt(this,hn,d2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return p2(ce(this,tn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return p2(ce(this,tn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Bt(this,hn,h2).call(this),Bt(this,hn,f2).call(this),ce(this,tn).removeObserver(this)}setOptions(t){const n=this.options,s=ce(this,tn);if(this.options=ce(this,zs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Li(this.options.enabled,ce(this,tn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Bt(this,hn,m2).call(this),ce(this,tn).setOptions(this.options),n._defaulted&&!g0(this.options,n)&&ce(this,zs).getQueryCache().notify({type:"observerOptionsUpdated",query:ce(this,tn),observer:this});const i=this.hasListeners();i&&$M(ce(this,tn),s,this.options,n)&&Bt(this,hn,op).call(this),this.updateResult(),i&&(ce(this,tn)!==s||Li(this.options.enabled,ce(this,tn))!==Li(n.enabled,ce(this,tn))||dc(this.options.staleTime,ce(this,tn))!==dc(n.staleTime,ce(this,tn)))&&Bt(this,hn,l2).call(this);const a=Bt(this,hn,c2).call(this);i&&(ce(this,tn)!==s||Li(this.options.enabled,ce(this,tn))!==Li(n.enabled,ce(this,tn))||a!==ce(this,Hl))&&Bt(this,hn,u2).call(this,a)}getOptimisticResult(t){const n=ce(this,zs).getQueryCache().build(ce(this,zs),t),s=this.createResult(n,t);return pie(this,s)&&(Xe(this,ws,s),Xe(this,$h,this.options),Xe(this,Cu,ce(this,tn).state)),s}getCurrentResult(){return ce(this,ws)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ce(this,$o).status==="pending"&&ce(this,$o).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){ce(this,Fh).add(t)}getCurrentQuery(){return ce(this,tn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ce(this,zs).defaultQueryOptions(t),s=ce(this,zs).getQueryCache().build(ce(this,zs),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Bt(this,hn,op).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ce(this,ws)))}createResult(t,n){var O;const s=ce(this,tn),i=this.options,a=ce(this,ws),o=ce(this,Cu),l=ce(this,$h),u=t!==s?t.state:ce(this,qg),{state:d}=t;let f={...d},m=!1,g;if(n._optimisticResults){const I=this.hasListeners(),D=!I&&IM(t,n),k=I&&$M(t,s,n,i);(D||k)&&(f={...f,...H6(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=f;g=f.data;let N=!1;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let I;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(I=a.data,N=!0):I=typeof n.placeholderData=="function"?n.placeholderData((O=ce(this,Lh))==null?void 0:O.state.data,ce(this,Lh)):n.placeholderData,I!==void 0&&(y="success",g=i2(a==null?void 0:a.data,I,n),m=!0)}if(n.select&&g!==void 0&&!N)if(a&&g===(o==null?void 0:o.data)&&n.select===ce(this,Wg))g=ce(this,Rh);else try{Xe(this,Wg,n.select),g=n.select(g),g=i2(a==null?void 0:a.data,g,n),Xe(this,Rh,g),Xe(this,Wl,null)}catch(I){Xe(this,Wl,I)}ce(this,Wl)&&(x=ce(this,Wl),g=ce(this,Rh),v=Date.now(),y="error");const j=f.fetchStatus==="fetching",b=y==="pending",P=y==="error",C=b&&j,A=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:P,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!b,isLoadingError:P&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:P&&A,isStale:qA(t,n),refetch:this.refetch,promise:ce(this,$o),isEnabled:Li(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=F=>{E.status==="error"?F.reject(E.error):E.data!==void 0&&F.resolve(E.data)},D=()=>{const F=Xe(this,$o,E.promise=a2());I(F)},k=ce(this,$o);switch(k.status){case"pending":t.queryHash===s.queryHash&&I(k);break;case"fulfilled":(E.status==="error"||E.data!==k.value)&&D();break;case"rejected":(E.status!=="error"||E.error!==k.reason)&&D();break}}return E}updateResult(){const t=ce(this,ws),n=this.createResult(ce(this,tn),this.options);if(Xe(this,Cu,ce(this,tn).state),Xe(this,$h,this.options),ce(this,Cu).data!==void 0&&Xe(this,Lh,ce(this,tn)),g0(n,t))return;Xe(this,ws,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!ce(this,Fh).size)return!0;const o=new Set(a??ce(this,Fh));return this.options.throwOnError&&o.add("error"),Object.keys(ce(this,ws)).some(l=>{const c=l;return ce(this,ws)[c]!==t[c]&&o.has(c)})};Bt(this,hn,G6).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Bt(this,hn,d2).call(this)}},zs=new WeakMap,tn=new WeakMap,qg=new WeakMap,ws=new WeakMap,Cu=new WeakMap,$h=new WeakMap,$o=new WeakMap,Wl=new WeakMap,Wg=new WeakMap,Rh=new WeakMap,Lh=new WeakMap,Pu=new WeakMap,_u=new WeakMap,Hl=new WeakMap,Fh=new WeakMap,hn=new WeakSet,op=function(t){Bt(this,hn,m2).call(this);let n=ce(this,tn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Cs)),n},l2=function(){Bt(this,hn,h2).call(this);const t=dc(this.options.staleTime,ce(this,tn));if(zu||ce(this,ws).isStale||!r2(t))return;const s=F6(ce(this,ws).dataUpdatedAt,t)+1;Xe(this,Pu,mu.setTimeout(()=>{ce(this,ws).isStale||this.updateResult()},s))},c2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ce(this,tn)):this.options.refetchInterval)??!1},u2=function(t){Bt(this,hn,f2).call(this),Xe(this,Hl,t),!(zu||Li(this.options.enabled,ce(this,tn))===!1||!r2(ce(this,Hl))||ce(this,Hl)===0)&&Xe(this,_u,mu.setInterval(()=>{(this.options.refetchIntervalInBackground||UA.isFocused())&&Bt(this,hn,op).call(this)},ce(this,Hl)))},d2=function(){Bt(this,hn,l2).call(this),Bt(this,hn,u2).call(this,Bt(this,hn,c2).call(this))},h2=function(){ce(this,Pu)&&(mu.clearTimeout(ce(this,Pu)),Xe(this,Pu,void 0))},f2=function(){ce(this,_u)&&(mu.clearInterval(ce(this,_u)),Xe(this,_u,void 0))},m2=function(){const t=ce(this,zs).getQueryCache().build(ce(this,zs),this.options);if(t===ce(this,tn))return;const n=ce(this,tn);Xe(this,tn,t),Xe(this,qg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},G6=function(t){Er.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ce(this,ws))}),ce(this,zs).getQueryCache().notify({query:ce(this,tn),type:"observerResultsUpdated"})})},rL);function mie(e,t){return Li(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function IM(e,t){return mie(e,t)||e.state.data!==void 0&&p2(e,t,t.refetchOnMount)}function p2(e,t,n){if(Li(t.enabled,e)!==!1&&dc(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&qA(e,t)}return!1}function $M(e,t,n,s){return(e!==t||Li(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&qA(e,n)}function qA(e,t){return Li(t.enabled,e)!==!1&&e.isStaleByTime(dc(t.staleTime,e))}function pie(e,t){return!g0(e.getCurrentResult(),t)}function RM(e){return{onFetch:(t,n)=>{var d,f,m,g,x;const s=t.options,i=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=z6(t.options,t.fetchOptions),j=async(b,P,C)=>{if(v)return Promise.reject();if(P==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:P,direction:C?"backward":"forward",meta:t.options.meta};return y(D),D})(),E=await N(_),{maxPages:O}=t.options,I=C?aie:iie;return{pages:I(b.pages,E,O),pageParams:I(b.pageParams,P,O)}};if(i&&a.length){const b=i==="backward",P=b?gie:LM,C={pages:a,pageParams:o},A=P(s,C);l=await j(C,A,b)}else{const b=e??a.length;do{const P=c===0?o[0]??s.initialPageParam:LM(s,l);if(c>0&&P==null)break;l=await j(l,P),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function LM(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function gie(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Hg,Ha,Ns,Au,Ga,Tl,sL,vie=(sL=class extends W6{constructor(t){super();ht(this,Ga);ht(this,Hg);ht(this,Ha);ht(this,Ns);ht(this,Au);Xe(this,Hg,t.client),this.mutationId=t.mutationId,Xe(this,Ns,t.mutationCache),Xe(this,Ha,[]),this.state=t.state||K6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ce(this,Ha).includes(t)||(ce(this,Ha).push(t),this.clearGcTimeout(),ce(this,Ns).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,Ha,ce(this,Ha).filter(n=>n!==t)),this.scheduleGc(),ce(this,Ns).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ce(this,Ha).length||(this.state.status==="pending"?this.scheduleGc():ce(this,Ns).remove(this))}continue(){var t;return((t=ce(this,Au))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,g,x,v,y,N,j,b,P,C,A,_,E,O;const n=()=>{Bt(this,Ga,Tl).call(this,{type:"continue"})},s={client:ce(this,Hg),meta:this.options.meta,mutationKey:this.options.mutationKey};Xe(this,Au,q6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(I,D)=>{Bt(this,Ga,Tl).call(this,{type:"failed",failureCount:I,error:D})},onPause:()=>{Bt(this,Ga,Tl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,Ns).canRun(this)}));const i=this.state.status==="pending",a=!ce(this,Au).canStart();try{if(i)n();else{Bt(this,Ga,Tl).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=ce(this,Ns).config).onMutate)==null?void 0:l.call(o,t,this,s));const D=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,s));D!==this.state.context&&Bt(this,Ga,Tl).call(this,{type:"pending",context:D,variables:t,isPaused:a})}const I=await ce(this,Au).start();return await((f=(d=ce(this,Ns).config).onSuccess)==null?void 0:f.call(d,I,t,this.state.context,this,s)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,I,t,this.state.context,s)),await((v=(x=ce(this,Ns).config).onSettled)==null?void 0:v.call(x,I,null,this.state.variables,this.state.context,this,s)),await((N=(y=this.options).onSettled)==null?void 0:N.call(y,I,null,t,this.state.context,s)),Bt(this,Ga,Tl).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(j=ce(this,Ns).config).onError)==null?void 0:b.call(j,I,t,this.state.context,this,s)),await((C=(P=this.options).onError)==null?void 0:C.call(P,I,t,this.state.context,s)),await((_=(A=ce(this,Ns).config).onSettled)==null?void 0:_.call(A,void 0,I,this.state.variables,this.state.context,this,s)),await((O=(E=this.options).onSettled)==null?void 0:O.call(E,void 0,I,t,this.state.context,s)),I}finally{Bt(this,Ga,Tl).call(this,{type:"error",error:I})}}finally{ce(this,Ns).runNext(this)}}},Hg=new WeakMap,Ha=new WeakMap,Ns=new WeakMap,Au=new WeakMap,Ga=new WeakSet,Tl=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Er.batch(()=>{ce(this,Ha).forEach(s=>{s.onMutationUpdate(t)}),ce(this,Ns).notify({mutation:this,type:"updated",action:t})})},sL);function K6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ro,ma,Gg,iL,xie=(iL=class extends zf{constructor(t={}){super();ht(this,Ro);ht(this,ma);ht(this,Gg);this.config=t,Xe(this,Ro,new Set),Xe(this,ma,new Map),Xe(this,Gg,0)}build(t,n,s){const i=new vie({client:t,mutationCache:this,mutationId:++yx(this,Gg)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){ce(this,Ro).add(t);const n=zx(t);if(typeof n=="string"){const s=ce(this,ma).get(n);s?s.push(t):ce(this,ma).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ce(this,Ro).delete(t)){const n=zx(t);if(typeof n=="string"){const s=ce(this,ma).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&ce(this,ma).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=zx(t);if(typeof n=="string"){const s=ce(this,ma).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=zx(t);if(typeof n=="string"){const i=(s=ce(this,ma).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Er.batch(()=>{ce(this,Ro).forEach(t=>{this.notify({type:"removed",mutation:t})}),ce(this,Ro).clear(),ce(this,ma).clear()})}getAll(){return Array.from(ce(this,Ro))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>TM(n,s))}findAll(t={}){return this.getAll().filter(n=>TM(t,n))}notify(t){Er.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Er.batch(()=>Promise.all(t.map(n=>n.continue().catch(Cs))))}},Ro=new WeakMap,ma=new WeakMap,Gg=new WeakMap,iL);function zx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Lo,Gl,Vs,Fo,Yo,Iy,g2,aL,yie=(aL=class extends zf{constructor(n,s){super();ht(this,Yo);ht(this,Lo);ht(this,Gl);ht(this,Vs);ht(this,Fo);Xe(this,Lo,n),this.setOptions(s),this.bindMethods(),Bt(this,Yo,Iy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=ce(this,Lo).defaultMutationOptions(n),g0(this.options,s)||ce(this,Lo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ce(this,Vs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Vu(s.mutationKey)!==Vu(this.options.mutationKey)?this.reset():((i=ce(this,Vs))==null?void 0:i.state.status)==="pending"&&ce(this,Vs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ce(this,Vs))==null||n.removeObserver(this)}onMutationUpdate(n){Bt(this,Yo,Iy).call(this),Bt(this,Yo,g2).call(this,n)}getCurrentResult(){return ce(this,Gl)}reset(){var n;(n=ce(this,Vs))==null||n.removeObserver(this),Xe(this,Vs,void 0),Bt(this,Yo,Iy).call(this),Bt(this,Yo,g2).call(this)}mutate(n,s){var i;return Xe(this,Fo,s),(i=ce(this,Vs))==null||i.removeObserver(this),Xe(this,Vs,ce(this,Lo).getMutationCache().build(ce(this,Lo),this.options)),ce(this,Vs).addObserver(this),ce(this,Vs).execute(n)}},Lo=new WeakMap,Gl=new WeakMap,Vs=new WeakMap,Fo=new WeakMap,Yo=new WeakSet,Iy=function(){var s;const n=((s=ce(this,Vs))==null?void 0:s.state)??K6();Xe(this,Gl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},g2=function(n){Er.batch(()=>{var s,i,a,o,l,c,u,d;if(ce(this,Fo)&&this.hasListeners()){const f=ce(this,Gl).variables,m=ce(this,Gl).context,g={client:ce(this,Lo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(s=ce(this,Fo)).onSuccess)==null||i.call(s,n.data,f,m,g),(o=(a=ce(this,Fo)).onSettled)==null||o.call(a,n.data,null,f,m,g)):(n==null?void 0:n.type)==="error"&&((c=(l=ce(this,Fo)).onError)==null||c.call(l,n.error,f,m,g),(d=(u=ce(this,Fo)).onSettled)==null||d.call(u,void 0,n.error,f,m,g))}this.listeners.forEach(f=>{f(ce(this,Gl))})})},aL),Ka,oL,jie=(oL=class extends zf{constructor(t={}){super();ht(this,Ka);this.config=t,Xe(this,Ka,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??zA(i,n);let o=this.get(a);return o||(o=new hie({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){ce(this,Ka).has(t.queryHash)||(ce(this,Ka).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ce(this,Ka).get(t.queryHash);n&&(t.destroy(),n===t&&ce(this,Ka).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ce(this,Ka).get(t)}getAll(){return[...ce(this,Ka).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>kM(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>kM(t,s)):n}notify(t){Er.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ka=new WeakMap,oL),sr,Kl,Yl,Bh,zh,Ql,Vh,Uh,lL,bie=(lL=class{constructor(e={}){ht(this,sr);ht(this,Kl);ht(this,Yl);ht(this,Bh);ht(this,zh);ht(this,Ql);ht(this,Vh);ht(this,Uh);Xe(this,sr,e.queryCache||new jie),Xe(this,Kl,e.mutationCache||new xie),Xe(this,Yl,e.defaultOptions||{}),Xe(this,Bh,new Map),Xe(this,zh,new Map),Xe(this,Ql,0)}mount(){yx(this,Ql)._++,ce(this,Ql)===1&&(Xe(this,Vh,UA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,sr).onFocus())})),Xe(this,Uh,v0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,sr).onOnline())})))}unmount(){var e,t;yx(this,Ql)._--,ce(this,Ql)===0&&((e=ce(this,Vh))==null||e.call(this),Xe(this,Vh,void 0),(t=ce(this,Uh))==null||t.call(this),Xe(this,Uh,void 0))}isFetching(e){return ce(this,sr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ce(this,Kl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,sr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ce(this,sr).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(dc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ce(this,sr).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=ce(this,sr).get(s.queryHash),a=i==null?void 0:i.state.data,o=nie(t,a);if(o!==void 0)return ce(this,sr).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Er.batch(()=>ce(this,sr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,sr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ce(this,sr);Er.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ce(this,sr);return Er.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Er.batch(()=>ce(this,sr).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Cs).catch(Cs)}invalidateQueries(e,t={}){return Er.batch(()=>(ce(this,sr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Er.batch(()=>ce(this,sr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Cs)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Cs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ce(this,sr).build(this,t);return n.isStaleByTime(dc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cs).catch(Cs)}fetchInfiniteQuery(e){return e.behavior=RM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cs).catch(Cs)}ensureInfiniteQueryData(e){return e.behavior=RM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return v0.isOnline()?ce(this,Kl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,sr)}getMutationCache(){return ce(this,Kl)}getDefaultOptions(){return ce(this,Yl)}setDefaultOptions(e){Xe(this,Yl,e)}setQueryDefaults(e,t){ce(this,Bh).set(Vu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ce(this,Bh).values()],n={};return t.forEach(s=>{eg(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){ce(this,zh).set(Vu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ce(this,zh).values()],n={};return t.forEach(s=>{eg(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ce(this,Yl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===VA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ce(this,Yl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ce(this,sr).clear(),ce(this,Kl).clear()}},sr=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Ql=new WeakMap,Vh=new WeakMap,Uh=new WeakMap,lL),Y6=w.createContext(void 0),_c=e=>{const t=w.useContext(Y6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wie=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(Y6.Provider,{value:e,children:t})),Q6=w.createContext(!1),Nie=()=>w.useContext(Q6);Q6.Provider;function Sie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Cie=w.createContext(Sie()),Pie=()=>w.useContext(Cie),_ie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Aie=e=>{w.useEffect(()=>{e.clearReset()},[e])},Eie=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||V6(n,[e.error,s])),kie=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Tie=(e,t)=>e.isLoading&&e.isFetching&&!t,Oie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,FM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Die(e,t,n){var f,m,g,x,v;const s=Nie(),i=Pie(),a=_c(),o=a.defaultQueryOptions(e);(m=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",kie(o),_ie(o,i),Aie(i);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const N=d?c.subscribe(Er.batchCalls(y)):Cs;return c.updateResult(),N},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),Oie(o,u))throw FM(o,c,i);if(Eie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!zu&&Tie(u,s)){const y=l?FM(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(Cs).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function db(e,t){return Die(e,fie)}function rv(e,t){const n=_c(),[s]=w.useState(()=>new yie(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const i=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(Er.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((o,l)=>{s.mutate(o,l).catch(Cs)},[s]);if(i.error&&V6(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tg.apply(this,arguments)}var ec;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ec||(ec={}));const BM="popstate";function Mie(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return v2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:x0(i)}return $ie(t,n,null,e)}function gr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function X6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Iie(){return Math.random().toString(36).substr(2,8)}function zM(e,t){return{usr:e.state,key:e.key,idx:t}}function v2(e,t,n,s){return n===void 0&&(n=null),tg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vf(t):t,{state:n,key:t&&t.key||s||Iie()})}function x0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Vf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function $ie(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=ec.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(tg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ec.Pop;let y=d(),N=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:N})}function m(y,N){l=ec.Push;let j=v2(v.location,y,N);u=d()+1;let b=zM(j,u),P=v.createHref(j);try{o.pushState(b,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(P)}a&&c&&c({action:l,location:v.location,delta:1})}function g(y,N){l=ec.Replace;let j=v2(v.location,y,N);u=d();let b=zM(j,u),P=v.createHref(j);o.replaceState(b,"",P),a&&c&&c({action:l,location:v.location,delta:0})}function x(y){let N=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof y=="string"?y:x0(y);return j=j.replace(/ $/,"%20"),gr(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(BM,f),c=y,()=>{i.removeEventListener(BM,f),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let N=x(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(y){return o.go(y)}};return v}var VM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(VM||(VM={}));function Rie(e,t,n){return n===void 0&&(n="/"),Lie(e,t,n,!1)}function Lie(e,t,n,s){let i=typeof t=="string"?Vf(t):t,a=WA(i.pathname||"/",n);if(a==null)return null;let o=J6(e);Fie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Qie(a);l=Kie(o[c],u,s)}return l}function J6(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(gr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=hc([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(gr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),J6(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Hie(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Z6(a.path))i(a,o,c)}),t}function Z6(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=Z6(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Fie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gie(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Bie=/^:[\w-]+$/,zie=3,Vie=2,Uie=1,qie=10,Wie=-2,UM=e=>e==="*";function Hie(e,t){let n=e.split("/"),s=n.length;return n.some(UM)&&(s+=Wie),t&&(s+=Vie),n.filter(i=>!UM(i)).reduce((i,a)=>i+(Bie.test(a)?zie:a===""?Uie:qie),s)}function Gie(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Kie(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=qM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=qM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:hc([a,f.pathname]),pathnameBase:eae(hc([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=hc([a,f.pathnameBase]))}return o}function qM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Yie(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Yie(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),X6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Qie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return X6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function WA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Xie(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Vf(e):e;return{pathname:n?n.startsWith("/")?n:Jie(n,t):t,search:tae(s),hash:nae(i)}}function Jie(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ZN(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zie(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function HA(e,t){let n=Zie(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function GA(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Vf(e):(i=tg({},e),gr(!i.pathname||!i.pathname.includes("?"),ZN("?","pathname","search",i)),gr(!i.pathname||!i.pathname.includes("#"),ZN("#","pathname","hash",i)),gr(!i.search||!i.search.includes("#"),ZN("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Xie(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hc=e=>e.join("/").replace(/\/\/+/g,"/"),eae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eB=["post","put","patch","delete"];new Set(eB);const sae=["get",...eB];new Set(sae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ng.apply(this,arguments)}const KA=w.createContext(null),iae=w.createContext(null),Ac=w.createContext(null),hb=w.createContext(null),Ec=w.createContext({outlet:null,matches:[],isDataRoute:!1}),tB=w.createContext(null);function aae(e,t){let{relative:n}=t===void 0?{}:t;Uf()||gr(!1);let{basename:s,navigator:i}=w.useContext(Ac),{hash:a,pathname:o,search:l}=rB(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:hc([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Uf(){return w.useContext(hb)!=null}function od(){return Uf()||gr(!1),w.useContext(hb).location}function nB(e){w.useContext(Ac).static||w.useLayoutEffect(e)}function fb(){let{isDataRoute:e}=w.useContext(Ec);return e?yae():oae()}function oae(){Uf()||gr(!1);let e=w.useContext(KA),{basename:t,future:n,navigator:s}=w.useContext(Ac),{matches:i}=w.useContext(Ec),{pathname:a}=od(),o=JSON.stringify(HA(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return nB(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=GA(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hc([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function rB(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(Ac),{matches:i}=w.useContext(Ec),{pathname:a}=od(),o=JSON.stringify(HA(i,s.v7_relativeSplatPath));return w.useMemo(()=>GA(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function lae(e,t){return cae(e,t)}function cae(e,t,n,s){Uf()||gr(!1);let{navigator:i}=w.useContext(Ac),{matches:a}=w.useContext(Ec),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=od(),d;if(t){var f;let y=typeof t=="string"?Vf(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||gr(!1),d=y}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Rie(e,{pathname:g}),v=mae(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:hc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:hc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?w.createElement(hb.Provider,{value:{location:ng({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ec.Pop}},v):v}function uae(){let e=xae(),t=rae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const dae=w.createElement(uae,null);class hae extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Ec.Provider,{value:this.props.routeContext},w.createElement(tB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fae(e){let{routeContext:t,match:n,children:s}=e,i=w.useContext(KA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ec.Provider,{value:t},s)}function mae(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||gr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,x=!1,v=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||dae,c&&(u<0&&m===0?(x=!0,y=null):u===m&&(x=!0,y=f.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,m+1)),j=()=>{let b;return g?b=v:x?b=y:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(fae,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(hae,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var sB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sB||{}),y0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(y0||{});function pae(e){let t=w.useContext(KA);return t||gr(!1),t}function gae(e){let t=w.useContext(iae);return t||gr(!1),t}function vae(e){let t=w.useContext(Ec);return t||gr(!1),t}function iB(e){let t=vae(),n=t.matches[t.matches.length-1];return n.route.id||gr(!1),n.route.id}function xae(){var e;let t=w.useContext(tB),n=gae(y0.UseRouteError),s=iB(y0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function yae(){let{router:e}=pae(sB.UseNavigateStable),t=iB(y0.UseNavigateStable),n=w.useRef(!1);return nB(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ng({fromRouteId:t},a)))},[e,t])}function jae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function x2(e){let{to:t,replace:n,state:s,relative:i}=e;Uf()||gr(!1);let{future:a,static:o}=w.useContext(Ac),{matches:l}=w.useContext(Ec),{pathname:c}=od(),u=fb(),d=GA(t,HA(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function dr(e){gr(!1)}function bae(e){let{basename:t="/",children:n=null,location:s,navigationType:i=ec.Pop,navigator:a,static:o=!1,future:l}=e;Uf()&&gr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:ng({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Vf(s));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=s,v=w.useMemo(()=>{let y=WA(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:g,key:x},navigationType:i}},[c,d,f,m,g,x,i]);return v==null?null:w.createElement(Ac.Provider,{value:u},w.createElement(hb.Provider,{children:n,value:v}))}function wae(e){let{children:t,location:n}=e;return lae(y2(t),n)}new Promise(()=>{});function y2(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let a=[...t,i];if(s.type===w.Fragment){n.push.apply(n,y2(s.props.children,a));return}s.type!==dr&&gr(!1),!s.props.index||!s.props.children||gr(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=y2(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j2.apply(this,arguments)}function Nae(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Sae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cae(e,t){return e.button===0&&(!t||t==="_self")&&!Sae(e)}const Pae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_ae="6";try{window.__reactRouterVersion=_ae}catch{}const Aae="startTransition",WM=E_[Aae];function Eae(e){let{basename:t,children:n,future:s,window:i}=e,a=w.useRef();a.current==null&&(a.current=Mie({window:i,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=w.useCallback(f=>{u&&WM?WM(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>jae(s),[s]),w.createElement(bae,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const kae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ja=w.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Nae(t,Pae),{basename:g}=w.useContext(Ac),x,v=!1;if(typeof u=="string"&&Tae.test(u)&&(x=u,kae))try{let b=new URL(window.location.href),P=u.startsWith("//")?new URL(b.protocol+u):new URL(u),C=WA(P.pathname,g);P.origin===b.origin&&C!=null?u=C+P.search+P.hash:v=!0}catch{}let y=aae(u,{relative:i}),N=Oae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function j(b){s&&s(b),b.defaultPrevented||N(b)}return w.createElement("a",j2({},m,{href:x||y,onClick:v||a?s:j,ref:n,target:c}))});var HM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(HM||(HM={}));var GM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(GM||(GM={}));function Oae(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=fb(),u=od(),d=rB(e,{relative:o});return w.useCallback(f=>{if(Cae(f,n)){f.preventDefault();let m=s!==void 0?s:x0(u)===x0(d);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}const Dae=ev("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=w.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?Bee:"button";return r.jsx(o,{className:Ze(Dae({variant:t,size:n,className:e})),ref:a,...i})});H.displayName="Button";const aB=w.createContext(void 0);function Mae({children:e}){const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{localStorage.setItem("theme",t);const i=document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[t]);const s=()=>{n(i=>i==="light"?"dark":"light")};return r.jsx(aB.Provider,{value:{theme:t,setTheme:n,toggleTheme:s},children:e})}function oB(){const e=w.useContext(aB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function KM(){const{theme:e,toggleTheme:t}=oB();return r.jsxs(H,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?r.jsx(Hte,{className:"h-4 w-4"}):r.jsx(Qte,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var Iae=w.createContext(void 0);function mb(e){const t=w.useContext(Iae);return e||t||"ltr"}var eS=0;function pb(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YM()),document.body.insertAdjacentElement("beforeend",e[1]??YM()),eS++,()=>{eS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eS--}},[])}function YM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tS="focusScope.autoFocusOnMount",nS="focusScope.autoFocusOnUnmount",QM={bubbles:!1,cancelable:!0},$ae="FocusScope",sv=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=w.useState(null),u=Ts(i),d=Ts(a),f=w.useRef(null),m=Qt(t,v=>c(v)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let v=function(b){if(g.paused||!l)return;const P=b.target;l.contains(P)?f.current=P:Ol(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const P=b.relatedTarget;P!==null&&(l.contains(P)||Ol(f.current,{select:!0}))},N=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Ol(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const j=new MutationObserver(N);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),j.disconnect()}}},[s,l,g.paused]),w.useEffect(()=>{if(l){JM.add(g);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(tS,QM);l.addEventListener(tS,u),l.dispatchEvent(N),N.defaultPrevented||(Rae(Vae(lB(l)),{select:!0}),document.activeElement===v&&Ol(l))}return()=>{l.removeEventListener(tS,u),setTimeout(()=>{const N=new CustomEvent(nS,QM);l.addEventListener(nS,d),l.dispatchEvent(N),N.defaultPrevented||Ol(v??document.body,{select:!0}),l.removeEventListener(nS,d),JM.remove(g)},0)}}},[l,u,d,g]);const x=w.useCallback(v=>{if(!n&&!s||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const j=v.currentTarget,[b,P]=Lae(j);b&&P?!v.shiftKey&&N===P?(v.preventDefault(),n&&Ol(b,{select:!0})):v.shiftKey&&N===b&&(v.preventDefault(),n&&Ol(P,{select:!0})):N===j&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(it.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});sv.displayName=$ae;function Rae(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ol(s,{select:t}),document.activeElement!==n)return}function Lae(e){const t=lB(e),n=XM(t,e),s=XM(t.reverse(),e);return[n,s]}function lB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function XM(e,t){for(const n of e)if(!Fae(n,{upTo:t}))return n}function Fae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bae(e){return e instanceof HTMLInputElement&&"select"in e}function Ol(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Bae(e)&&t&&e.select()}}var JM=zae();function zae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ZM(e,t),e.unshift(t)},remove(t){var n;e=ZM(e,t),(n=e[0])==null||n.resume()}}}function ZM(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Vae(e){return e.filter(t=>t.tagName!=="A")}var rS="rovingFocusGroup.onEntryFocus",Uae={bubbles:!1,cancelable:!0},iv="RovingFocusGroup",[b2,cB,qae]=Jj(iv),[Wae,gb]=Xs(iv,[qae]),[Hae,Gae]=Wae(iv),uB=w.forwardRef((e,t)=>r.jsx(b2.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(b2.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Kae,{...e,ref:t})})}));uB.displayName=iv;var Kae=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=w.useRef(null),g=Qt(t,m),x=mb(a),[v,y]=ho({prop:o,defaultProp:l??null,onChange:c,caller:iv}),[N,j]=w.useState(!1),b=Ts(u),P=cB(n),C=w.useRef(!1),[A,_]=w.useState(0);return w.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(rS,b),()=>E.removeEventListener(rS,b)},[b]),r.jsx(Hae,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:w.useCallback(E=>y(E),[y]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:w.useCallback(()=>_(E=>E-1),[]),children:r.jsx(it.div,{tabIndex:N||A===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{C.current=!0}),onFocus:He(e.onFocus,E=>{const O=!C.current;if(E.target===E.currentTarget&&O&&!N){const I=new CustomEvent(rS,Uae);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const D=P().filter(U=>U.focusable),k=D.find(U=>U.active),F=D.find(U=>U.id===v),Q=[k,F,...D].filter(Boolean).map(U=>U.ref.current);fB(Q,d)}}C.current=!1}),onBlur:He(e.onBlur,()=>j(!1))})})}),dB="RovingFocusGroupItem",hB=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=Zr(),u=a||c,d=Gae(dB,n),f=d.currentTabStopId===u,m=cB(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=d;return w.useEffect(()=>{if(s)return g(),()=>x()},[s,g,x]),r.jsx(b2.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(it.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:He(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:He(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=Xae(y,d.orientation,d.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(P=>P.focusable).map(P=>P.ref.current);if(N==="last")b.reverse();else if(N==="prev"||N==="next"){N==="prev"&&b.reverse();const P=b.indexOf(y.currentTarget);b=d.loop?Jae(b,P+1):b.slice(P+1)}setTimeout(()=>fB(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});hB.displayName=dB;var Yae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Xae(e,t,n){const s=Qae(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Yae[s]}function fB(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function Jae(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var mB=uB,pB=hB,Zae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$d=new WeakMap,Vx=new WeakMap,Ux={},sS=0,gB=function(e){return e&&(e.host||gB(e.parentNode))},eoe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=gB(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},toe=function(e,t,n,s){var i=eoe(t,Array.isArray(e)?e:[e]);Ux[n]||(Ux[n]=new WeakMap);var a=Ux[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),x=g!==null&&g!=="false",v=($d.get(m)||0)+1,y=(a.get(m)||0)+1;$d.set(m,v),a.set(m,y),o.push(m),v===1&&x&&Vx.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return d(t),l.clear(),sS++,function(){o.forEach(function(f){var m=$d.get(f)-1,g=a.get(f)-1;$d.set(f,m),a.set(f,g),m||(Vx.has(f)||f.removeAttribute(s),Vx.delete(f)),g||f.removeAttribute(n)}),sS--,sS||($d=new WeakMap,$d=new WeakMap,Vx=new WeakMap,Ux={})}},vb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=Zae(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),toe(s,i,n,"aria-hidden")):function(){return null}},Xa=function(){return Xa=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Xa.apply(this,arguments)};function vB(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function noe(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var $y="right-scroll-bar-position",Ry="width-before-scroll-bar",roe="with-scroll-bars-hidden",soe="--removed-body-scroll-bar-size";function iS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ioe(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var aoe=typeof window<"u"?w.useLayoutEffect:w.useEffect,eI=new WeakMap;function ooe(e,t){var n=ioe(null,function(s){return e.forEach(function(i){return iS(i,s)})});return aoe(function(){var s=eI.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||iS(l,null)}),a.forEach(function(l){i.has(l)||iS(l,o)})}eI.set(n,e)},[e]),n}function loe(e){return e}function coe(e,t){t===void 0&&(t=loe);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function uoe(e){e===void 0&&(e={});var t=coe(null);return t.options=Xa({async:!0,ssr:!1},e),t}var xB=function(e){var t=e.sideCar,n=vB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Xa({},n))};xB.isSideCarExport=!0;function doe(e,t){return e.useMedium(t),xB}var yB=uoe(),aS=function(){},xb=w.forwardRef(function(e,t){var n=w.useRef(null),s=w.useState({onScrollCapture:aS,onWheelCapture:aS,onTouchMoveCapture:aS}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,b=e.gapMode,P=vB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,A=ooe([n,t]),_=Xa(Xa({},P),i);return w.createElement(w.Fragment,null,d&&w.createElement(C,{sideCar:yB,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?w.cloneElement(w.Children.only(l),Xa(Xa({},_),{ref:A})):w.createElement(j,Xa({},_,{className:c,ref:A}),l))});xb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xb.classNames={fullWidth:Ry,zeroRight:$y};var hoe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function foe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hoe();return t&&e.setAttribute("nonce",t),e}function moe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function poe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var goe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=foe())&&(moe(t,n),poe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},voe=function(){var e=goe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},jB=function(){var e=voe(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},xoe={left:0,top:0,right:0,gap:0},oS=function(e){return parseInt(e||"",10)||0},yoe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[oS(n),oS(s),oS(i)]},joe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xoe;var t=yoe(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},boe=jB(),Ph="data-scroll-locked",woe=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(roe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ph,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($y,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ry,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat($y," .").concat($y,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ry," .").concat(Ry,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ph,`] {
    `).concat(soe,": ").concat(l,`px;
  }
`)},tI=function(){var e=parseInt(document.body.getAttribute(Ph)||"0",10);return isFinite(e)?e:0},Noe=function(){w.useEffect(function(){return document.body.setAttribute(Ph,(tI()+1).toString()),function(){var e=tI()-1;e<=0?document.body.removeAttribute(Ph):document.body.setAttribute(Ph,e.toString())}},[])},Soe=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;Noe();var a=w.useMemo(function(){return joe(i)},[i]);return w.createElement(boe,{styles:woe(a,!t,i,n?"":"!important")})},w2=!1;if(typeof window<"u")try{var qx=Object.defineProperty({},"passive",{get:function(){return w2=!0,!0}});window.addEventListener("test",qx,qx),window.removeEventListener("test",qx,qx)}catch{w2=!1}var Rd=w2?{passive:!1}:!1,Coe=function(e){return e.tagName==="TEXTAREA"},bB=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Coe(e)&&n[t]==="visible")},Poe=function(e){return bB(e,"overflowY")},_oe=function(e){return bB(e,"overflowX")},nI=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=wB(e,s);if(i){var a=NB(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Aoe=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Eoe=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},wB=function(e,t){return e==="v"?Poe(t):_oe(t)},NB=function(e,t){return e==="v"?Aoe(t):Eoe(t)},koe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Toe=function(e,t,n,s,i){var a=koe(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var g=NB(e,l),x=g[0],v=g[1],y=g[2],N=v-y-a*x;(x||N)&&wB(e,l)&&(f+=N,m+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},Wx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rI=function(e){return[e.deltaX,e.deltaY]},sI=function(e){return e&&"current"in e?e.current:e},Ooe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Doe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Moe=0,Ld=[];function Ioe(e){var t=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(Moe++)[0],a=w.useState(jB)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=noe([e.lockRef.current],(e.shards||[]).map(sI),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=Wx(v),j=n.current,b="deltaX"in v?v.deltaX:j[0]-N[0],P="deltaY"in v?v.deltaY:j[1]-N[1],C,A=v.target,_=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&_==="h"&&A.type==="range")return!1;var E=nI(_,A);if(!E)return!0;if(E?C=_:(C=_==="v"?"h":"v",E=nI(_,A)),!E)return!1;if(!s.current&&"changedTouches"in v&&(b||P)&&(s.current=C),!C)return!0;var O=s.current||C;return Toe(O,y,v,O==="h"?b:P,!0)},[]),c=w.useCallback(function(v){var y=v;if(!(!Ld.length||Ld[Ld.length-1]!==a)){var N="deltaY"in y?rI(y):Wx(y),j=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Ooe(C.delta,N)})[0];if(j&&j.should){y.cancelable&&y.preventDefault();return}if(!j){var b=(o.current.shards||[]).map(sI).filter(Boolean).filter(function(C){return C.contains(y.target)}),P=b.length>0?l(y,b[0]):!o.current.noIsolation;P&&y.cancelable&&y.preventDefault()}}},[]),u=w.useCallback(function(v,y,N,j){var b={name:v,delta:y,target:N,should:j,shadowParent:$oe(N)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(P){return P!==b})},1)},[]),d=w.useCallback(function(v){n.current=Wx(v),s.current=void 0},[]),f=w.useCallback(function(v){u(v.type,rI(v),v.target,l(v,e.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,Wx(v),v.target,l(v,e.lockRef.current))},[]);w.useEffect(function(){return Ld.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Rd),document.addEventListener("touchmove",c,Rd),document.addEventListener("touchstart",d,Rd),function(){Ld=Ld.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Rd),document.removeEventListener("touchmove",c,Rd),document.removeEventListener("touchstart",d,Rd)}},[]);var g=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(a,{styles:Doe(i)}):null,g?w.createElement(Soe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $oe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Roe=doe(yB,Ioe);var av=w.forwardRef(function(e,t){return w.createElement(xb,Xa({},e,{ref:t,sideCar:Roe}))});av.classNames=xb.classNames;var N2=["Enter"," "],Loe=["ArrowDown","PageUp","Home"],SB=["ArrowUp","PageDown","End"],Foe=[...Loe,...SB],Boe={ltr:[...N2,"ArrowRight"],rtl:[...N2,"ArrowLeft"]},zoe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ov="Menu",[rg,Voe,Uoe]=Jj(ov),[ld,CB]=Xs(ov,[Uoe,Pc,gb]),yb=Pc(),PB=gb(),[qoe,cd]=ld(ov),[Woe,lv]=ld(ov),_B=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,l=yb(t),[c,u]=w.useState(null),d=w.useRef(!1),f=Ts(a),m=mb(i);return w.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(FA,{...l,children:r.jsx(qoe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(Woe,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};_B.displayName=ov;var Hoe="MenuAnchor",YA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=yb(n);return r.jsx(nv,{...i,...s,ref:t})});YA.displayName=Hoe;var QA="MenuPortal",[Goe,AB]=ld(QA,{forceMount:void 0}),EB=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=cd(QA,t);return r.jsx(Goe,{scope:t,forceMount:n,children:r.jsx(Js,{present:n||a.open,children:r.jsx(If,{asChild:!0,container:i,children:s})})})};EB.displayName=QA;var Hi="MenuContent",[Koe,XA]=ld(Hi),kB=w.forwardRef((e,t)=>{const n=AB(Hi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=cd(Hi,e.__scopeMenu),o=lv(Hi,e.__scopeMenu);return r.jsx(rg.Provider,{scope:e.__scopeMenu,children:r.jsx(Js,{present:s||a.open,children:r.jsx(rg.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(Yoe,{...i,ref:t}):r.jsx(Qoe,{...i,ref:t})})})})}),Yoe=w.forwardRef((e,t)=>{const n=cd(Hi,e.__scopeMenu),s=w.useRef(null),i=Qt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return vb(a)},[]),r.jsx(JA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Qoe=w.forwardRef((e,t)=>{const n=cd(Hi,e.__scopeMenu);return r.jsx(JA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Xoe=vc("MenuContent.ScrollLock"),JA=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,y=cd(Hi,n),N=lv(Hi,n),j=yb(n),b=PB(n),P=Voe(n),[C,A]=w.useState(null),_=w.useRef(null),E=Qt(t,_,y.onContentChange),O=w.useRef(0),I=w.useRef(""),D=w.useRef(0),k=w.useRef(null),F=w.useRef("right"),$=w.useRef(0),Q=x?av:w.Fragment,U=x?{as:Xoe,allowPinchZoom:!0}:void 0,ie=z=>{var re,B;const le=I.current+z,pe=P().filter(X=>!X.disabled),ee=document.activeElement,J=(re=pe.find(X=>X.ref.current===ee))==null?void 0:re.textValue,te=pe.map(X=>X.textValue),xe=cle(te,le,J),ve=(B=pe.find(X=>X.textValue===xe))==null?void 0:B.ref.current;(function X(ye){I.current=ye,window.clearTimeout(O.current),ye!==""&&(O.current=window.setTimeout(()=>X(""),1e3))})(le),ve&&setTimeout(()=>ve.focus())};w.useEffect(()=>()=>window.clearTimeout(O.current),[]),pb();const L=w.useCallback(z=>{var pe,ee;return F.current===((pe=k.current)==null?void 0:pe.side)&&dle(z,(ee=k.current)==null?void 0:ee.area)},[]);return r.jsx(Koe,{scope:n,searchRef:I,onItemEnter:w.useCallback(z=>{L(z)&&z.preventDefault()},[L]),onItemLeave:w.useCallback(z=>{var le;L(z)||((le=_.current)==null||le.focus(),A(null))},[L]),onTriggerLeave:w.useCallback(z=>{L(z)&&z.preventDefault()},[L]),pointerGraceTimerRef:D,onPointerGraceIntentChange:w.useCallback(z=>{k.current=z},[]),children:r.jsx(Q,{...U,children:r.jsx(sv,{asChild:!0,trapped:i,onMountAutoFocus:He(a,z=>{var le;z.preventDefault(),(le=_.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(id,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:r.jsx(mB,{asChild:!0,...b,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:A,onEntryFocus:He(c,z=>{N.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(ob,{role:"menu","aria-orientation":"vertical","data-state":HB(y.open),"data-radix-menu-content":"",dir:N.dir,...j,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:He(v.onKeyDown,z=>{const pe=z.target.closest("[data-radix-menu-content]")===z.currentTarget,ee=z.ctrlKey||z.altKey||z.metaKey,J=z.key.length===1;pe&&(z.key==="Tab"&&z.preventDefault(),!ee&&J&&ie(z.key));const te=_.current;if(z.target!==te||!Foe.includes(z.key))return;z.preventDefault();const ve=P().filter(re=>!re.disabled).map(re=>re.ref.current);SB.includes(z.key)&&ve.reverse(),ole(ve)}),onBlur:He(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(O.current),I.current="")}),onPointerMove:He(e.onPointerMove,sg(z=>{const le=z.target,pe=$.current!==z.clientX;if(z.currentTarget.contains(le)&&pe){const ee=z.clientX>$.current?"right":"left";F.current=ee,$.current=z.clientX}}))})})})})})})});kB.displayName=Hi;var Joe="MenuGroup",ZA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{role:"group",...s,ref:t})});ZA.displayName=Joe;var Zoe="MenuLabel",TB=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});TB.displayName=Zoe;var j0="MenuItem",iI="menu.itemSelect",jb=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=w.useRef(null),o=lv(j0,e.__scopeMenu),l=XA(j0,e.__scopeMenu),c=Qt(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(iI,{bubbles:!0,cancelable:!0});f.addEventListener(iI,g=>s==null?void 0:s(g),{once:!0}),jA(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(OB,{...i,ref:c,disabled:n,onClick:He(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:He(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:He(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||N2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jb.displayName=j0;var OB=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=XA(j0,n),l=PB(n),c=w.useRef(null),u=Qt(t,c),[d,f]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[a.children]),r.jsx(rg.ItemSlot,{scope:n,disabled:s,textValue:i??m,children:r.jsx(pB,{asChild:!0,...l,focusable:!s,children:r.jsx(it.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:He(e.onPointerMove,sg(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,sg(x=>o.onItemLeave(x))),onFocus:He(e.onFocus,()=>f(!0)),onBlur:He(e.onBlur,()=>f(!1))})})})}),ele="MenuCheckboxItem",DB=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(LB,{scope:e.__scopeMenu,checked:n,children:r.jsx(jb,{role:"menuitemcheckbox","aria-checked":b0(n)?"mixed":n,...i,ref:t,"data-state":tE(n),onSelect:He(i.onSelect,()=>s==null?void 0:s(b0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});DB.displayName=ele;var MB="MenuRadioGroup",[tle,nle]=ld(MB,{value:void 0,onValueChange:()=>{}}),IB=w.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=Ts(s);return r.jsx(tle,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(ZA,{...i,ref:t})})});IB.displayName=MB;var $B="MenuRadioItem",RB=w.forwardRef((e,t)=>{const{value:n,...s}=e,i=nle($B,e.__scopeMenu),a=n===i.value;return r.jsx(LB,{scope:e.__scopeMenu,checked:a,children:r.jsx(jb,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":tE(a),onSelect:He(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});RB.displayName=$B;var eE="MenuItemIndicator",[LB,rle]=ld(eE,{checked:!1}),FB=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=rle(eE,n);return r.jsx(Js,{present:s||b0(a.checked)||a.checked===!0,children:r.jsx(it.span,{...i,ref:t,"data-state":tE(a.checked)})})});FB.displayName=eE;var sle="MenuSeparator",BB=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});BB.displayName=sle;var ile="MenuArrow",zB=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=yb(n);return r.jsx(lb,{...i,...s,ref:t})});zB.displayName=ile;var ale="MenuSub",[e6e,VB]=ld(ale),lp="MenuSubTrigger",UB=w.forwardRef((e,t)=>{const n=cd(lp,e.__scopeMenu),s=lv(lp,e.__scopeMenu),i=VB(lp,e.__scopeMenu),a=XA(lp,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(YA,{asChild:!0,...u,children:r.jsx(OB,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":HB(n.open),...e,ref:el(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,sg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:He(e.onPointerLeave,sg(f=>{var g,x;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",N=y?-5:5,j=m[y?"left":"right"],b=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:j,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:j,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,f=>{var g;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||Boe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});UB.displayName=lp;var qB="MenuSubContent",WB=w.forwardRef((e,t)=>{const n=AB(Hi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=cd(Hi,e.__scopeMenu),o=lv(Hi,e.__scopeMenu),l=VB(qB,e.__scopeMenu),c=w.useRef(null),u=Qt(t,c);return r.jsx(rg.Provider,{scope:e.__scopeMenu,children:r.jsx(Js,{present:s||a.open,children:r.jsx(rg.Slot,{scope:e.__scopeMenu,children:r.jsx(JA,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:He(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:He(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=zoe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});WB.displayName=qB;function HB(e){return e?"open":"closed"}function b0(e){return e==="indeterminate"}function tE(e){return b0(e)?"indeterminate":e?"checked":"unchecked"}function ole(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function lle(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function cle(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=lle(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function ule(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function dle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ule(n,t)}function sg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var hle=_B,fle=YA,mle=EB,ple=kB,gle=ZA,vle=TB,xle=jb,yle=DB,jle=IB,ble=RB,wle=FB,Nle=BB,Sle=zB,Cle=UB,Ple=WB,bb="DropdownMenu",[_le,t6e]=Xs(bb,[CB]),Ms=CB(),[Ale,GB]=_le(bb),KB=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Ms(t),u=w.useRef(null),[d,f]=ho({prop:i,defaultProp:a??!1,onChange:o,caller:bb});return r.jsx(Ale,{scope:t,triggerId:Zr(),triggerRef:u,contentId:Zr(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:l,children:r.jsx(hle,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};KB.displayName=bb;var YB="DropdownMenuTrigger",QB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=GB(YB,n),o=Ms(n);return r.jsx(fle,{asChild:!0,...o,children:r.jsx(it.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:el(t,a.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});QB.displayName=YB;var Ele="DropdownMenuPortal",XB=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Ms(t);return r.jsx(mle,{...s,...n})};XB.displayName=Ele;var JB="DropdownMenuContent",ZB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=GB(JB,n),a=Ms(n),o=w.useRef(!1);return r.jsx(ple,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZB.displayName=JB;var kle="DropdownMenuGroup",Tle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(gle,{...i,...s,ref:t})});Tle.displayName=kle;var Ole="DropdownMenuLabel",e8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(vle,{...i,...s,ref:t})});e8.displayName=Ole;var Dle="DropdownMenuItem",t8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(xle,{...i,...s,ref:t})});t8.displayName=Dle;var Mle="DropdownMenuCheckboxItem",n8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(yle,{...i,...s,ref:t})});n8.displayName=Mle;var Ile="DropdownMenuRadioGroup",$le=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(jle,{...i,...s,ref:t})});$le.displayName=Ile;var Rle="DropdownMenuRadioItem",r8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(ble,{...i,...s,ref:t})});r8.displayName=Rle;var Lle="DropdownMenuItemIndicator",s8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(wle,{...i,...s,ref:t})});s8.displayName=Lle;var Fle="DropdownMenuSeparator",i8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(Nle,{...i,...s,ref:t})});i8.displayName=Fle;var Ble="DropdownMenuArrow",zle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(Sle,{...i,...s,ref:t})});zle.displayName=Ble;var Vle="DropdownMenuSubTrigger",a8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(Cle,{...i,...s,ref:t})});a8.displayName=Vle;var Ule="DropdownMenuSubContent",o8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Ms(n);return r.jsx(Ple,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o8.displayName=Ule;var qle=KB,Wle=QB,Hle=XB,l8=ZB,c8=e8,u8=t8,d8=n8,h8=r8,f8=s8,m8=i8,p8=a8,g8=o8;const Gle=qle,Kle=Wle,Yle=w.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(p8,{ref:i,className:Ze("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx($te,{className:"ml-auto h-4 w-4"})]}));Yle.displayName=p8.displayName;const Qle=w.forwardRef(({className:e,...t},n)=>r.jsx(g8,{ref:n,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Qle.displayName=g8.displayName;const v8=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Hle,{children:r.jsx(l8,{ref:s,sideOffset:t,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));v8.displayName=l8.displayName;const Ly=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(u8,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ly.displayName=u8.displayName;const Xle=w.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(d8,{ref:i,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(f8,{children:r.jsx(SA,{className:"h-4 w-4"})})}),t]}));Xle.displayName=d8.displayName;const Jle=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(h8,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(f8,{children:r.jsx(Lte,{className:"h-2 w-2 fill-current"})})}),t]}));Jle.displayName=h8.displayName;const x8=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(c8,{ref:s,className:Ze("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));x8.displayName=c8.displayName;const S2=w.forwardRef(({className:e,...t},n)=>r.jsx(m8,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));S2.displayName=m8.displayName;var y8={exports:{}},j8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=w;function Zle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ece=typeof Object.is=="function"?Object.is:Zle,tce=ef.useState,nce=ef.useEffect,rce=ef.useLayoutEffect,sce=ef.useDebugValue;function ice(e,t){var n=t(),s=tce({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return rce(function(){i.value=n,i.getSnapshot=t,lS(i)&&a({inst:i})},[e,n,t]),nce(function(){return lS(i)&&a({inst:i}),e(function(){lS(i)&&a({inst:i})})},[e]),sce(n),n}function lS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ece(e,n)}catch{return!0}}function ace(e,t){return t()}var oce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ace:ice;j8.useSyncExternalStore=ef.useSyncExternalStore!==void 0?ef.useSyncExternalStore:oce;y8.exports=j8;var lce=y8.exports;function cce(){return lce.useSyncExternalStore(uce,()=>!0,()=>!1)}function uce(){return()=>{}}var nE="Avatar",[dce,n6e]=Xs(nE),[hce,b8]=dce(nE),w8=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=w.useState("idle");return r.jsx(hce,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(it.span,{...s,ref:t})})});w8.displayName=nE;var N8="AvatarImage",S8=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=b8(N8,n),l=fce(s,a),c=Ts(u=>{i(u),o.onImageLoadingStatusChange(u)});return br(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(it.img,{...a,ref:t,src:s}):null});S8.displayName=N8;var C8="AvatarFallback",P8=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=b8(C8,n),[o,l]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(it.span,{...i,ref:t}):null});P8.displayName=C8;function aI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fce(e,{referrerPolicy:t,crossOrigin:n}){const s=cce(),i=w.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>aI(a,e));return br(()=>{l(aI(a,e))},[a,e]),br(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var _8=w8,A8=S8,E8=P8;const ts=w.forwardRef(({className:e,...t},n)=>r.jsx(_8,{ref:n,className:Ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ts.displayName=_8.displayName;const jc=w.forwardRef(({className:e,...t},n)=>r.jsx(A8,{ref:n,className:Ze("aspect-square h-full w-full",e),...t}));jc.displayName=A8.displayName;const ns=w.forwardRef(({className:e,...t},n)=>r.jsx(E8,{ref:n,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ns.displayName=E8.displayName;const mce="modulepreload",pce=function(e){return"/"+e},oI={},cv=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=pce(c),c in oI)return;oI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":mce,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},gce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cv(async()=>{const{default:s}=await Promise.resolve().then(()=>qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class rE extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class vce extends rE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lI extends rE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cI extends rE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var C2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(C2||(C2={}));var xce=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class yce{constructor(t,{headers:n={},customFetch:s,region:i=C2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=gce(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return xce(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new vce(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new lI(f);if(!f.ok)throw new cI(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield f.json():g==="application/octet-stream"?x=yield f.blob():g==="text/event-stream"?x=f:g==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof cI||i instanceof lI?i.context:void 0}}})}}var Ws={},sE={},wb={},uv={},Nb={},Sb={},jce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tf=jce();const bce=tf.fetch,k8=tf.fetch.bind(tf),T8=tf.Headers,wce=tf.Request,Nce=tf.Response,qf=Object.freeze(Object.defineProperty({__proto__:null,Headers:T8,Request:wce,Response:Nce,default:k8,fetch:bce},Symbol.toStringTag,{value:"Module"})),Sce=oJ(qf);var Cb={};Object.defineProperty(Cb,"__esModule",{value:!0});let Cce=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Cb.default=Cce;var O8=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sb,"__esModule",{value:!0});const Pce=O8(Sce),_ce=O8(Cb);let Ace=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Pce.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,f=null,m=null,g=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),N=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,g=200,x="OK")}catch{a.status===404&&y===""?(g=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&this.shouldThrowOnError)throw new _ce.default(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Sb.default=Ace;var Ece=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nb,"__esModule",{value:!0});const kce=Ece(Sb);let Tce=class extends kce.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Nb.default=Tce;var Oce=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uv,"__esModule",{value:!0});const Dce=Oce(Nb);let Mce=class extends Dce.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};uv.default=Mce;var Ice=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wb,"__esModule",{value:!0});const zm=Ice(uv);let $ce=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new zm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new zm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new zm.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new zm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new zm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};wb.default=$ce;var D8=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sE,"__esModule",{value:!0});const Rce=D8(wb),Lce=D8(uv);let Fce=class M8{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Rce.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new M8(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;s||i?(l=s?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Lce.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};sE.default=Fce;var Wf=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.PostgrestError=Ws.PostgrestBuilder=Ws.PostgrestTransformBuilder=Ws.PostgrestFilterBuilder=Ws.PostgrestQueryBuilder=Ws.PostgrestClient=void 0;const I8=Wf(sE);Ws.PostgrestClient=I8.default;const $8=Wf(wb);Ws.PostgrestQueryBuilder=$8.default;const R8=Wf(uv);Ws.PostgrestFilterBuilder=R8.default;const L8=Wf(Nb);Ws.PostgrestTransformBuilder=L8.default;const F8=Wf(Sb);Ws.PostgrestBuilder=F8.default;const B8=Wf(Cb);Ws.PostgrestError=B8.default;var Bce=Ws.default={PostgrestClient:I8.default,PostgrestQueryBuilder:$8.default,PostgrestFilterBuilder:R8.default,PostgrestTransformBuilder:L8.default,PostgrestBuilder:F8.default,PostgrestError:B8.default};const{PostgrestClient:zce,PostgrestQueryBuilder:l6e,PostgrestFilterBuilder:c6e,PostgrestTransformBuilder:u6e,PostgrestBuilder:d6e,PostgrestError:h6e}=Bce;class Vce{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Uce="2.15.5",qce=`realtime-js/${Uce}`,Wce="1.0.0",P2=1e4,Hce=1e3,Gce=100;var Np;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Np||(Np={}));var Pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pr||(Pr={}));var ga;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ga||(ga={}));var _2;(function(e){e.websocket="websocket"})(_2||(_2={}));var lu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lu||(lu={}));class Kce{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class z8{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var An;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(An||(An={}));const uI=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=Yce(o,e,t,i),a),{})},Yce=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?V8(a,o):A2(o)},V8=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Zce(t,n)}switch(e){case An.bool:return Qce(t);case An.float4:case An.float8:case An.int2:case An.int4:case An.int8:case An.numeric:case An.oid:return Xce(t);case An.json:case An.jsonb:return Jce(t);case An.timestamp:return eue(t);case An.abstime:case An.date:case An.daterange:case An.int4range:case An.int8range:case An.money:case An.reltime:case An.text:case An.time:case An.timestamptz:case An.timetz:case An.tsrange:case An.tstzrange:return A2(t);default:return A2(t)}},A2=e=>e,Qce=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Xce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Jce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Zce=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>V8(t,l))}return e},eue=e=>typeof e=="string"?e.replace(" ","T"):e,U8=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class cS{constructor(t,n,s={},i=P2){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dI||(dI={}));class Sp{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Sp.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sp.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hI||(hI={}));var Cp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cp||(Cp={}));var Do;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Do||(Do={}));class iE{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cS(this,ga.join,this.params,this.timeout),this.rejoinTimer=new z8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ga.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Sp(this),this.broadcastEndpointURL=U8(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Cp.PRESENCE]&&this.bindings[Cp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Do.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Do.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(Do.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,N=[];for(let j=0;j<y;j++){const b=v[j],{filter:{event:P,schema:C,table:A,filter:_}}=b,E=g&&g[j];if(E&&E.event===P&&E.schema===C&&E.table===A&&E.filter===_)N.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Pr.errored,t==null||t(Do.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Do.SUBSCRIBED);return}}).receive("error",g=>{this.state=Pr.errored,t==null||t(Do.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Do.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Pr.joined&&t===Cp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ga.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new cS(this,ga.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pr.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new cS(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Gce){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ga;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var x,v,y,N,j,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const P=g.id,C=(x=g.filter)===null||x===void 0?void 0:x.event;return P&&((v=n.ids)===null||v===void 0?void 0:v.includes(P))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const P=(j=(N=g==null?void 0:g.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return P==="*"||P===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:y,commit_timestamp:N,type:j,errors:b}=x;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:N,eventType:j,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(m,s)})}_isClosed(){return this.state===Pr.closed}_isJoined(){return this.state===Pr.joined}_isJoining(){return this.state===Pr.joining}_isLeaving(){return this.state===Pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&iE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ga.close,{},t)}_onError(t){this._on(ga.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=uI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=uI(t.columns,t.old_record)),n}}const uS=()=>{},Hx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tue=[1e3,2e3,5e3,1e4],nue=1e4,rue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sue{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=P2,this.transport=null,this.heartbeatIntervalMs=Hx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uS,this.ref=0,this.reconnectTimer=null,this.logger=uS,this.conn=null,this.sendBuffer=[],this.serializer=new Kce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>cv(async()=>{const{default:l}=await Promise.resolve().then(()=>qf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${_2.websocket}`,this.httpEndpoint=U8(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vce.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wce}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Np.connecting:return lu.Connecting;case Np.open:return lu.Open;case Np.closing:return lu.Closing;default:return lu.Closed}}isConnected(){return this.connectionState()===lu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new iE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Hce,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Hx.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${s} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ga.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([rue],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:qce};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ga.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new z8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:P2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Hx.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:uS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>tue[f-1]||nue,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class aE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _r(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iue extends aE{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class E2 extends aE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var aue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const q8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cv(async()=>{const{default:s}=await Promise.resolve().then(()=>qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},oue=()=>aue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cv(()=>Promise.resolve().then(()=>qf),void 0)).Response:Response}),k2=e=>{if(Array.isArray(e))return e.map(n=>k2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=k2(s)}),t},lue=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ud=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const dS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cue=(e,t,n)=>ud(void 0,void 0,void 0,function*(){const s=yield oue();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new iue(dS(i),a,o))}).catch(i=>{t(new E2(dS(i),i))}):t(new E2(dS(e),e))}),uue=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?i:(lue(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function dv(e,t,n,s,i,a){return ud(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,uue(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>cue(c,l,s))})})}function w0(e,t,n,s){return ud(this,void 0,void 0,function*(){return dv(e,"GET",t,n,s)})}function Wa(e,t,n,s,i){return ud(this,void 0,void 0,function*(){return dv(e,"POST",t,s,i,n)})}function T2(e,t,n,s,i){return ud(this,void 0,void 0,function*(){return dv(e,"PUT",t,s,i,n)})}function due(e,t,n,s){return ud(this,void 0,void 0,function*(){return dv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function W8(e,t,n,s,i){return ud(this,void 0,void 0,function*(){return dv(e,"DELETE",t,s,i,n)})}var bs=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const hue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fue{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=q8(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return bs(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},fI),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?T2:Wa)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}upload(t,n,s){return bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return bs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:fI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield T2(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_r(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return bs(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Wa(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new aE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}update(t,n,s){return bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return bs(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}copy(t,n,s){return bs(this,void 0,void 0,function*(){try{return{data:{path:(yield Wa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return bs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Wa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return bs(this,void 0,void 0,function*(){try{const i=yield Wa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}download(t,n){return bs(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield w0(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_r(l))return{data:null,error:l};throw l}})}info(t){return bs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield w0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:k2(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}exists(t){return bs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield due(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s)&&s instanceof E2){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return bs(this,void 0,void 0,function*(){try{return{data:yield W8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}list(t,n,s){return bs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},hue),n),{prefix:t||""});return{data:yield Wa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}listV2(t,n){return bs(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Wa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const mue="2.12.1",pue={"X-Client-Info":`storage-js/${mue}`};var Fd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class gue{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},pue),n),this.fetch=q8(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Fd(this,void 0,void 0,function*(){try{return{data:yield w0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}getBucket(t){return Fd(this,void 0,void 0,function*(){try{return{data:yield w0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Fd(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Fd(this,void 0,void 0,function*(){try{return{data:yield T2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Fd(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Fd(this,void 0,void 0,function*(){try{return{data:yield W8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}}class vue extends gue{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new fue(this.url,this.headers,t,this.fetch)}}const xue="2.57.4";let cp="";typeof Deno<"u"?cp="deno":typeof document<"u"?cp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cp="react-native":cp="node";const yue={"X-Client-Info":`supabase-js-${cp}/${xue}`},jue={headers:yue},bue={schema:"public"},wue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nue={};var Sue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Cue=e=>{let t;return e?t=e:typeof fetch>"u"?t=k8:t=fetch,(...n)=>t(...n)},Pue=()=>typeof Headers>"u"?T8:Headers,_ue=(e,t,n)=>{const s=Cue(n),i=Pue();return(a,o)=>Sue(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var Aue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function Eue(e){return e.endsWith("/")?e:e+"/"}function kue(e,t){var n,s;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Aue(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Tue(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Eue(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const H8="2.71.1",Yd=30*1e3,O2=3,hS=O2*Yd,Oue="http://localhost:9999",Due="supabase.auth.token",Mue={"X-Client-Info":`gotrue-js/${H8}`},D2="X-Supabase-Api-Version",G8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$ue=10*60*1e3;class oE extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function $t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Rue extends oE{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Lue(e){return $t(e)&&e.name==="AuthApiError"}class K8 extends oE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class kc extends oE{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Dl extends kc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fue(e){return $t(e)&&e.name==="AuthSessionMissingError"}class Gx extends kc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kx extends kc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yx extends kc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bue(e){return $t(e)&&e.name==="AuthImplicitGrantRedirectError"}class mI extends kc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class M2 extends kc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fS(e){return $t(e)&&e.name==="AuthRetryableFetchError"}class pI extends kc{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class I2 extends kc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const N0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gI=` 	
\r=`.split(""),zue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gI.length;t+=1)e[gI[t].charCodeAt(0)]=-2;for(let t=0;t<N0.length;t+=1)e[N0[t].charCodeAt(0)]=t;return e})();function vI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(N0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(N0[s]),t.queuedBits-=6}}function Y8(e,t,n){const s=zue[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xI(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{que(o,s,n)};for(let o=0;o<e.length;o+=1)Y8(e.charCodeAt(o),i,a);return t.join("")}function Vue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Uue(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Vue(s,t)}}function que(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Wue(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Y8(e.charCodeAt(i),n,s);return new Uint8Array(t)}function Hue(e){const t=[];return Uue(e,n=>t.push(n)),new Uint8Array(t)}function Gue(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>vI(i,n,s)),vI(null,n,s),t.join("")}function Kue(e){return Math.round(Date.now()/1e3)+e}function Yue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ua=()=>typeof window<"u"&&typeof document<"u",Qc={tested:!1,writable:!1},Q8=()=>{if(!ua())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qc.tested)return Qc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qc.tested=!0,Qc.writable=!0}catch{Qc.tested=!0,Qc.writable=!1}return Qc.writable};function Que(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const X8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cv(async()=>{const{default:s}=await Promise.resolve().then(()=>qf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},Xue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Al=async(e,t)=>{await e.removeItem(t)};class Pb{constructor(){this.promise=new Pb.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Pb.promiseConstructor=Promise;function mS(e){const t=e.split(".");if(t.length!==3)throw new I2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Iue.test(t[s]))throw new I2("JWT not in base64url format");return{header:JSON.parse(xI(t[0])),payload:JSON.parse(xI(t[1])),signature:Wue(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jue(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Zue(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function ede(e){return("0"+e.toString(16)).substr(-2)}function tde(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,ede).join("")}async function nde(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function rde(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await nde(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bd(e,t,n=!1){const s=tde();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Qd(e,`${t}-code-verifier`,i);const a=await rde(s);return[a,s===a?"plain":"s256"]}const sde=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ide(e){const t=e.headers.get(D2);if(!t||!t.match(sde))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ade(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ode(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zd(e){if(!lde.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yI(e){return JSON.parse(JSON.stringify(e))}var cde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const ru=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ude=[502,503,504];async function jI(e){var t;if(!Xue(e))throw new M2(ru(e),0);if(ude.includes(e.status))throw new M2(ru(e),e.status);let n;try{n=await e.json()}catch(a){throw new K8(ru(a),a)}let s;const i=ide(e);if(i&&i.getTime()>=G8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new pI(ru(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Dl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new pI(ru(n),e.status,n.weak_password.reasons);throw new Rue(ru(n),e.status||500,s)}const dde=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Kt(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[D2]||(a[D2]=G8["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await hde(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function hde(e,t,n,s,i,a){const o=dde(t,s,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new M2(ru(c),0)}if(l.ok||await jI(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await jI(c)}}function To(e){var t;let n=null;gde(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Kue(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function bI(e){const t=To(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fde(e){return{data:e,error:null}}function mde(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=cde(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function pde(e){return e}function gde(e){return e.access_token&&e.refresh_token&&e.expires_in}const gS=["global","local","others"];var vde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class xde{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=X8(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=gS[0]){if(gS.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gS.join(", ")}`);try{return await Kt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bl})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=vde(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mde,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bl})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:pde});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($t(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zd(t);try{return await Kt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bl})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){zd(t);try{return await Kt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Bl})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){zd(t);try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bl})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){zd(t.userId);try{const{data:n,error:s}=await Kt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if($t(n))return{data:null,error:n};throw n}}async _deleteFactor(t){zd(t.userId),zd(t.id);try{return{data:await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}}function wI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function yde(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vd={debug:!!(globalThis&&Q8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jde extends J8{}async function bde(e,t,n){Vd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Vd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Vd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Vd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jde(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}yde();const wde={url:Oue,storageKey:Due,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NI(e,t,n){return await n()}const Ud={};class ig{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ig.nextInstanceID,ig.nextInstanceID+=1,this.instanceID>0&&ua()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},wde),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xde({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=X8(i.fetch),this.lock=i.lock||NI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ua()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bde:this.lock=NI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Q8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=wI(this.memoryStorage)),ua()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ud[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ud[this.storageKey]=Object.assign(Object.assign({},Ud[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ud[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ud[this.storageKey]=Object.assign(Object.assign({},Ud[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${H8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Que(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ua()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Bue(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $t(n)?{error:n}:{error:new K8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:To}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Bd(this.storage,this.storageKey)),a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:To})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:To})}else throw new Kx("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bI})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bI})}else throw new Kx("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Gx}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,o,l,c,u,d,f,m,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:N,statement:j,options:b}=t;let P;if(ua())if(typeof N=="object")P=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))P=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const C=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const A=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),j?{statement:j}:null));let _;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")_=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)_=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)x=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const A=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:y,error:N}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Gue(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:To});if(N)throw N;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Gx}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:N})}catch(y){if($t(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await Xc(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:To});if(await Al(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Gx}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if($t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:To}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Gx}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bd(this.storage,this.storageKey));const{error:f}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Kx("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:To});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Bd(this.storage,this.storageKey)),await Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:fde})}catch(a){if($t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Dl;const{error:i}=await Kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await Kt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await Kt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Kx("You must provide either an email or phone number and a type")}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<hS:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Xc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=pS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bl}):await this._useSession(async n=>{var s,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dl}:await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Bl})})}catch(n){if($t(n))return Fue(n)&&(await this._removeSession(),await Al(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Dl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Bd(this.storage,this.storageKey));const{data:u,error:d}=await Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Bl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dl;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=mS(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if($t(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Dl;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ua())throw new Yx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yx("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mI("No code detected.");const{data:j,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Yx("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=Yd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const N={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(s){if($t(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Lue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Al(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Yue(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Bd(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if($t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ua()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if($t(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await Kt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Zue(async i=>(i>0&&await Jue(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:To})),(i,a)=>{const o=200*Math.pow(2,i);return a&&fS(a)&&Date.now()+o-s<Yd})}catch(s){if(this._debug(n,"error",s),$t(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),ua()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Xc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Xc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Qd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:pS()}else if(i&&!i.user&&!i.user){const o=await Xc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Al(this.storage,this.storageKey+"-user"),await Qd(this.storage,this.storageKey,i)):i.user=pS()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hS;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${hS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),fS(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Dl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pb;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Dl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),$t(a)){const o={session:null,error:a};return fS(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Qd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=yI(i);await Qd(this.storage,this.storageKey,a)}else{const i=yI(n);await Qd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Al(this.storage,this.storageKey),await Al(this.storage,this.storageKey+"-code-verifier"),await Al(this.storage,this.storageKey+"-user"),this.userStorage&&await Al(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ua()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Yd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yd}ms, refresh threshold is ${O2} ticks`),i<=O2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof J8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ua()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Bd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Kt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if($t(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($t(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+$ue>i)return s;const{data:a,error:o}=await Kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};s=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=mS(s);n!=null&&n.allowExpired||ade(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=ode(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Hue(`${l}.${c}`)))throw new I2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}}ig.nextInstanceID=0;const Nde=ig;class Sde extends Nde{constructor(t){super(t)}}var Cde=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Pde{constructor(t,n,s){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const l=Tue(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:bue,realtime:Nue,auth:Object.assign(Object.assign({},wue),{storageKey:c}),global:jue},d=kue(s??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=_ue(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new zce(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new vue(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new yce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Cde(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sde({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new sue(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _de=(e,t,n)=>new Pde(e,t,n);function Ade(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ade()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ede="https://fqmeqckchbppabetefuk.supabase.co",kde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",ks=_de(Ede,kde,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Z8=async()=>{const{data:{user:e},error:t}=await ks.auth.getUser();if(t)throw t;return e},_b=async()=>{const e=await Z8();if(!e)return null;const{data:t,error:n}=await ks.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},Tde=async(e,t,n,s,i="assistant")=>{const{data:a,error:o}=await ks.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:s,role:i}}});if(o)throw o;return a},Ode=async()=>{const{error:e}=await ks.auth.signOut();if(e)throw e},Dde=async e=>{const t=await Z8();if(!t)throw new Error("No authenticated user");const{data:n,error:s}=await ks.from("user_profiles").select("*").eq("id",t.id).single();n||await ez(t);const i=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:a,error:o}=await ks.from("user_profiles").update(i).eq("id",t.id).select().single();if(o){const l={id:t.id,email:t.email,username:(n==null?void 0:n.username)||t.email.split("@")[0],full_name:(n==null?void 0:n.full_name)||"",role:(n==null?void 0:n.role)||"assistant",...i},{data:c,error:u}=await ks.from("user_profiles").upsert(l).select().single();if(u)throw new Error(`Profile update failed: ${u.message}`);return c}return a},ez=async e=>{var t,n,s;try{const i=await _b();if(i)return i;const{data:a,error:o}=await ks.from("user_profiles").insert({id:e.id,email:e.email,username:((t=e.user_metadata)==null?void 0:t.username)||e.email.split("@")[0],full_name:((n=e.user_metadata)==null?void 0:n.full_name)||"",role:((s=e.user_metadata)==null?void 0:s.role)||"assistant"}).select().single();if(o)throw o;return a}catch(i){throw i}},wa={all:["auth"],session:()=>[...wa.all,"session"]},Mde=async()=>{try{const{data:{session:e},error:t}=await ks.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await _b()}catch{try{n=await ez(e.user)}catch(i){console.error("Failed to create user profile:",i)}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},Ide=()=>db({queryKey:wa.session(),queryFn:Mde,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),$de=()=>{const e=_c();return rv({mutationFn:async({email:t,password:n})=>{try{const{data:s,error:i}=await ks.auth.signInWithPassword({email:t,password:n});if(i){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez ressayer plus tard"}[i.message]||i.message;throw new Error(o)}if(!s.user||!s.session)throw new Error("chec de connexion - session invalide");return s.user}catch(s){throw s}},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:wa.session()})},onError:()=>{e.setQueryData(wa.session(),null)}})},Rde=()=>{const e=_c();return rv({mutationFn:async()=>{await Ode()},onSuccess:()=>{e.setQueryData(wa.session(),null),e.removeQueries({queryKey:wa.session()})}})},Lde=()=>{const e=_c();return rv({mutationFn:async()=>{const t=await _b();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:wa.session()})}})},tz=w.createContext(void 0);function Fde({children:e}){const{data:t,isLoading:n,error:s}=Ide(),i=$de(),a=Rde(),o=Lde(),l=_c(),[c,u]=w.useState(!1),d=w.useRef(!1);w.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:N}}=ks.auth.onAuthStateChange((b,P)=>{b==="SIGNED_OUT"?(l.setQueryData(wa.session(),null),l.removeQueries({queryKey:wa.session()})):b==="TOKEN_REFRESHED"&&P&&l.invalidateQueries({queryKey:wa.session()}),c||u(!0)}),j=setTimeout(()=>{c||u(!0)},2e3);return()=>{N.unsubscribe(),clearTimeout(j),d.current=!1}},[l,c]);const f=async(N,j)=>{try{return await i.mutateAsync({email:N,password:j}),!0}catch(b){return console.error("Login error:",b),!1}},m=async()=>{try{await a.mutateAsync()}catch(N){console.error("Logout error:",N),l.setQueryData(wa.session(),null)}},g=async()=>{await o.mutateAsync()},x=!c||n&&!s&&t===void 0,v=i.isPending||a.isPending,y={user:t||null,isAuthenticated:!!t&&c,isLoading:x||v,login:f,logout:m,refreshProfile:g};return r.jsx(tz.Provider,{value:y,children:e})}function Tc(){const e=w.useContext(tz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function SI(){const{user:e,logout:t}=Tc(),{toast:n}=Ut(),s=fb(),[i,a]=w.useState(!1),o=async()=>{a(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs."}),a(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return r.jsx(vi,{className:"h-3 w-3"});case"assistant":return r.jsx(Jr,{className:"h-3 w-3"});default:return r.jsx(Jr,{className:"h-3 w-3"})}};return r.jsxs(Gle,{children:[r.jsx(Kle,{asChild:!0,children:r.jsx(H,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:r.jsx(ts,{className:"h-8 w-8",children:r.jsx(ns,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),r.jsxs(v8,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(x8,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),r.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),r.jsx(S2,{}),r.jsxs(Ly,{className:"cursor-pointer",onClick:()=>s("/profile"),children:[r.jsx(Jr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profil"})]}),r.jsxs(Ly,{className:"cursor-pointer",onClick:()=>s("/auth-settings"),children:[r.jsx(Gte,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Paramtres de connexion"})]}),r.jsx(S2,{}),r.jsxs(Ly,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:i,children:[r.jsx(J5,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:i?"Dconnexion...":"Se dconnecter"})]})]})]})}const nz=[{icon:qte,label:"Dashboard",path:"/dashboard"},{icon:Ea,label:"Clients",path:"/clients"},{icon:Zt,label:"Animaux",path:"/pets"},{icon:kt,label:"RDV",path:"/appointments"},{icon:zr,label:"Consultations",path:"/consultations"},{icon:hi,label:"Vaccinations",path:"/vaccinations"},{icon:Zl,label:"Antiparasites",path:"/antiparasites"},{icon:X5,label:"Historiques",path:"/history"},{icon:KC,label:"Farm Mgmt",path:"/farm"}],rz=[{icon:Hn,label:"Stock",path:"/stock"},{icon:Q5,label:"Comptabilit",path:"/accounting"},{icon:Fte,label:"Paramtres",path:"/settings"}],Bde=[...nz,...rz];function ls(){const e=od(),[t,n]=w.useState(!1);return r.jsx("nav",{className:"bg-card border-b shadow-card",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[r.jsxs(ja,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(Zt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),r.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),r.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),r.jsx("div",{className:"hidden sm:block",children:r.jsx(KM,{})})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[nz.map(s=>r.jsx(H,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:r.jsxs(ja,{to:s.path,children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:s.label})]})},s.path)),r.jsxs("div",{className:"relative group",children:[r.jsxs(H,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[r.jsx(hM,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),r.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.jsx("div",{className:"py-1",children:rz.map(s=>r.jsxs(ja,{to:s.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===s.path?"bg-primary text-primary-foreground":""}`,children:[r.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.path))})})]})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-2",children:r.jsx(SI,{})}),r.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[r.jsx("div",{className:"sm:hidden",children:r.jsx(KM,{})}),r.jsx(SI,{}),r.jsx(H,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?r.jsx(rb,{className:"h-4 w-4"}):r.jsx(hM,{className:"h-4 w-4"})})]})]}),t&&r.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:Bde.map(s=>r.jsx(H,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:r.jsxs(ja,{to:s.path,children:[r.jsx(s.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"truncate",children:s.label})]})},s.path))})})]})})}class zde extends w.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:r.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:" Erreur dans l'application"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),r.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const sz=w.createContext(void 0),CI=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Dor",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crme et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],Vm=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Dor",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],Qx=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrle annuel, bonne sant gnrale",diagnosis:"Aucun problme dtect",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrle dans 1 an",cost:"85.00",notes:"Animal en excellente sant",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'apptit, lthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],Xx=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrle post-traitement",notes:"Vrifier l'amlioration de l'apptit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Strilisation",notes:"Jene 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],Jx=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprims",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la temprature et l'apptit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon apptit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprims",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amlioration progressive",createdAt:"2024-01-10T14:15:00Z"}],Zx=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orlans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Gnisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gre, animaux en bonne sant",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"table moderne 850m, stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank  lait 2000L, Systme de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"pouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pr",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"table moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"levage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau systme de ventilation install",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m, nurserie 200m, systme de ventilation automatique",equipmentDetails:"Systme d'alimentation automatique, Pompe  lisier, Gnrateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crdit Agricole Assurances - Police n987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problme de ventilation dtect, surveillance renforce",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatis 1200m, aire de parcours 5000m",equipmentDetails:"Systme de ramassage automatique des ufs, Ventilation programmable, clairage LED",certifications:["ufs de France","Bien-tre animal"],insuranceDetails:"MMA - Police n555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme quine du Val",owner:"Sophie Moreau",address:"12 Chemin des curies, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["quin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle franais","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"curie de prestige, chevaux de comptition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"curies 800m, mange couvert 1200m, carrire extrieure 2000m",equipmentDetails:"Tracteur, Systme d'arrosage automatique, clairage LED, Systme de scurit",certifications:["Bien-tre animal","quitation de tradition franaise"],insuranceDetails:"Allianz - Police n781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"poux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrires (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualit, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m, entrept 150m, zone de conditionnement 100m",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matriel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"pouse"},createdAt:"2024-01-05T11:15:00Z"}],ey=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fivre aphteuse",status:"completed",followUp:"Contrle dans 6 mois",cost:450,notes:"Intervention russie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"levage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrle sanitaire trimestriel",status:"completed",followUp:"Prochain contrle en avril",cost:280,notes:"Tous les paramtres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],ty=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Premire vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],El=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprim",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donn avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],Um=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complte contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Ds 8 semaines",seasonalTreatment:!0,notes:"viter le bain 48h avant et aprs application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cur, Vers ronds, Vers plats",description:"Protection combine externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Premire dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Ds 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Premire vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Ds 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin  jeun, rpter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combine mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Ds 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Ds 8 semaines",seasonalTreatment:!0,notes:"Attention aux ractions cutanes, surveiller 24h aprs application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combine mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Ds 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cur",description:"Vermifugation complte pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Premire vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Ds 6 semaines",seasonalTreatment:!1,notes:"Comprims apptents, peut tre donn avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systmique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous ges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Ds 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Ds 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],PI=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique  large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vtrinaire Centrale",location:"Armoire A - tagre 1",notes:"Stockage  temprature ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - tagre 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hpatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vtrinaires SA",location:"Rfrigrateur - tagre 1",notes:"Conservation 2-8C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vtrinaires SA",location:"Rfrigrateur - tagre 2",notes:"Conservation 2-8C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matriel d'injection",description:"Seringues striles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matriel Mdical Pro",location:"Armoire C - tagre 1",notes:"Striles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unit",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Mdicale",location:"Armoire D - tagre 1",notes:"Type IIR, bote de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrs",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Mdicale",location:"Armoire D - tagre 2",notes:"Taille M, bote de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomtre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomtre digital vtrinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unit",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"quipement Vtrinaire",location:"Bureau - Tiroir 1",notes:"Rsistant  l'eau, cran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Supplments Vtrinaires",location:"Armoire A - tagre 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],ny=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adnovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (premire injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu' 16 semaines)",notes:"Protocole d'initiation  6-8-12-16 semaines puis rappel  1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la lgislation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:" l'ge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon rglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommande pour chiens en collectivit",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les srovars pathognes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double srovariels recommand",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopnie, Rhinotrachite virale fline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement  1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon rglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon rglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carr)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carr)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire  celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hmorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function lE({children:e}){const t=()=>{try{const K=localStorage.getItem("vetpro-clients"),ue=localStorage.getItem("vetpro-pets"),me=localStorage.getItem("vetpro-consultations"),qe=localStorage.getItem("vetpro-appointments"),Je=localStorage.getItem("vetpro-prescriptions"),ze=localStorage.getItem("vetpro-farms"),et=localStorage.getItem("vetpro-farmInterventions"),pn=localStorage.getItem("vetpro-vaccinations"),sn=localStorage.getItem("vetpro-vaccinationProtocols"),dt=localStorage.getItem("vetpro-antiparasitics"),$n=localStorage.getItem("vetpro-antiparasiticProtocols"),Wr=localStorage.getItem("vetpro-stockItems"),na=localStorage.getItem("vetpro-stockAlerts"),Fa=localStorage.getItem("vetpro-stockMovements"),bd=localStorage.getItem("vetpro-accountingEntries");if(K&&ue){const n1=JSON.parse(K),mm=JSON.parse(ue),r1=me?JSON.parse(me):Qx,s1=qe?JSON.parse(qe):Xx,i1=Je?JSON.parse(Je):Jx,a1=ze?JSON.parse(ze):Zx,pm=et?JSON.parse(et):ey,o1=pn?JSON.parse(pn):ty,l1=sn?JSON.parse(sn):ny,c1=dt?JSON.parse(dt):El,u1=$n?JSON.parse($n):Um,d1=Wr?JSON.parse(Wr):PI,Nn=na?JSON.parse(na):[],bn=Fa?JSON.parse(Fa):[],h1=bd?JSON.parse(bd):[];return console.log("   Should use initial?",!dt),console.log("   initialAntiparasitics length:",El.length),{clients:n1.map(Dv=>({...Dv,pets:mm.filter(f1=>f1.ownerId===Dv.id)})),pets:mm,consultations:r1,appointments:s1,prescriptions:i1,farms:a1,farmInterventions:pm,vaccinations:o1,vaccinationProtocols:l1,antiparasitics:c1,antiparasiticProtocols:u1,stockItems:d1,stockAlerts:Nn,stockMovements:bn,accountingEntries:h1}}}catch(K){console.error("Erreur lors du chargement des donnes:",K)}return{clients:CI.map(K=>({...K,pets:Vm.filter(ue=>ue.ownerId===K.id)})),pets:Vm,consultations:Qx,appointments:Xx,prescriptions:Jx,farms:Zx,farmInterventions:ey,vaccinations:ty,vaccinationProtocols:ny,antiparasitics:El,antiparasiticProtocols:Um,stockItems:PI,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(ne,K,ue,me=d,qe=m,Je=x,ze=y,et=j,pn=P,sn=A,dt=E,$n=I,Wr=k,na=$,Fa=U)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(ne)),localStorage.setItem("vetpro-pets",JSON.stringify(K)),localStorage.setItem("vetpro-consultations",JSON.stringify(ue)),localStorage.setItem("vetpro-appointments",JSON.stringify(me)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(qe)),localStorage.setItem("vetpro-farms",JSON.stringify(Je)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(ze)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(et)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(pn)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(sn)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(dt)),localStorage.setItem("vetpro-stockItems",JSON.stringify($n)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Wr)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(na)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(Fa)),console.log("saveDataToStorage - antiparasitics saved:",sn)}catch(bd){console.error("Erreur lors de la sauvegarde des donnes:",bd)}},s=t(),[i,a]=w.useState(s.clients),[o,l]=w.useState(s.pets),[c,u]=w.useState(s.consultations),[d,f]=w.useState(s.appointments),[m,g]=w.useState(s.prescriptions),[x,v]=w.useState(s.farms),[y,N]=w.useState(s.farmInterventions),[j,b]=w.useState(s.vaccinations),[P,C]=w.useState(s.vaccinationProtocols),[A,_]=w.useState(s.antiparasitics),[E,O]=w.useState(s.antiparasiticProtocols),[I,D]=w.useState(s.stockItems||[]),[k,F]=w.useState(s.stockAlerts||[]),[$,Q]=w.useState(s.stockMovements||[]),[U,ie]=w.useState(s.accountingEntries||[]);console.log(" ClientContext - ANTIPARASITICS DEBUG:"),console.log("   Initial antiparasitics from storage:",s.antiparasitics),console.log("   Current antiparasitics state:",A),console.log("   State length:",(A==null?void 0:A.length)||0),w.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Um)),localStorage.getItem("vetpro-antiparasitics")||(console.log(" Initialisation des antiparasitaires d'exemple dans localStorage"),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(El)),_(El))},[]),w.useEffect(()=>{const ne=new Date;new Date(ne.getFullYear(),ne.getMonth(),1),new Date(ne.getFullYear(),ne.getMonth()+1,0)},[]),w.useEffect(()=>{const ne=new Date,K=new Date(ne.getFullYear(),ne.getMonth(),1),ue=new Date(ne.getFullYear(),ne.getMonth()+1,0);jd(K.toISOString().split("T")[0],ue.toISOString().split("T")[0]),fm(K.toISOString().split("T")[0],ue.toISOString().split("T")[0])},[c,j,A,m,$]),w.useEffect(()=>{console.log(" ANTIPARASITICS STATE CHANGED:"),console.log("   New length:",A.length),console.log("   Data:",A)},[A]),w.useEffect(()=>{i.length>0&&c.length>=0&&j.length>=0&&A.length>=0&&d.length>=0&&i.forEach(ne=>{ee(ne.id)})},[i.length,c.length,j.length,A.length,d.length]);const L=ne=>{const K={...ne,name:`${ne.firstName} ${ne.lastName}`,id:Math.max(...i.map(me=>me.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},ue=[...i,K];a(ue),n(ue,o,c,d,m,x,y,j)},z=ne=>{const K={...ne,id:Math.max(...o.map(qe=>qe.id),0)+1,status:ne.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},ue=[...o,K];l(ue);const me=i.map(qe=>qe.id===ne.ownerId?{...qe,pets:[...qe.pets,{id:K.id,name:K.name,type:K.type,breed:K.breed,birthDate:K.birthDate,weight:K.weight,color:K.color,microchip:K.microchip,medicalNotes:K.medicalNotes,photo:K.photo,ownerId:K.ownerId,owner:K.owner,status:K.status,lastVisit:K.lastVisit,nextAppointment:K.nextAppointment,vaccinations:K.vaccinations}]}:qe);a(me),n(me,ue,c,d,m,x,y,j)},le=(ne,K)=>{const ue=i.map(me=>me.id===ne?{...me,...K,name:K.firstName&&K.lastName?`${K.firstName} ${K.lastName}`:me.name}:me);a(ue),n(ue,o,c,d,m,x,y,j)},pe=(ne,K)=>{({...o.find(qe=>qe.id===ne),...K});const ue=o.map(qe=>qe.id===ne?{...qe,...K}:qe);l(ue);const me=i.map(qe=>({...qe,pets:qe.pets.map(Je=>Je.id===ne?{...Je,...K}:Je)}));a(me),n(me,ue,c)},ee=ne=>{const K=i.find(dt=>dt.id===ne);if(!K)return;const ue=c.filter(dt=>dt.clientId===ne),me=j.filter(dt=>dt.clientId===ne),qe=A.filter(dt=>dt.clientId===ne),Je=d.filter(dt=>dt.clientId===ne&&dt.status==="completed"),ze=ue.length+me.length+qe.length+Je.length,et=[...ue.map(dt=>({date:dt.date,type:"consultation"})),...me.map(dt=>({date:dt.dateGiven,type:"vaccination"})),...qe.map(dt=>({date:dt.dateGiven,type:"antiparasitic"})),...Je.map(dt=>({date:dt.date,type:"appointment"}))],pn=et.length>0?et.reduce((dt,$n)=>new Date($n.date)>new Date(dt.date)?$n:dt).date:K.lastVisit,sn=i.map(dt=>dt.id===ne?{...dt,totalVisits:ze,lastVisit:pn}:dt);return a(sn),{totalVisits:ze,lastVisit:pn}},J=ne=>{const K={...ne,id:Math.max(...I.map(me=>me.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:ne.currentStock*ne.purchasePrice},ue=[...I,K];return D(ue),n(i,o,c,d,m,x,y,j,P,A,E,ue,k,$),K},te=(ne,K)=>{const ue=I.map(me=>{if(me.id===ne){const qe={...me,...K};return(K.currentStock!==void 0||K.purchasePrice!==void 0)&&(qe.totalValue=qe.currentStock*qe.purchasePrice),qe.lastUpdated=new Date().toISOString(),qe}return me});return D(ue),n(i,o,c,d,m,x,y,j,P,A,E,ue,k,$),ue.find(me=>me.id===ne)},xe=ne=>{const K=I.filter(ue=>ue.id!==ne);D(K),n(i,o,c,d,m,x,y,j,P,A,E,K,k,$)},ve=ne=>{const K={...ne,id:Math.max(...$.map(me=>me.id),0)+1},ue=[...$,K];return Q(ue),n(i,o,c,d,m,x,y,j,P,A,E,I,k,ue),K},re=()=>{const ne=[],K=new Date().toISOString().split("T")[0],ue=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return I.forEach(me=>{me.currentStock<=me.minimumStock&&ne.push({id:ne.length+1,itemId:me.id,itemName:me.name,type:"low_stock",message:`Stock bas: ${me.currentStock} ${me.unit} restant(s)`,severity:me.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),me.expirationDate&&(me.expirationDate<K?ne.push({id:ne.length+1,itemId:me.id,itemName:me.name,type:"expired",message:`Expir le ${me.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):me.expirationDate<=ue&&ne.push({id:ne.length+1,itemId:me.id,itemName:me.name,type:"expiring_soon",message:`Expire le ${me.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),ne},B=ne=>{const K={...ne,id:Math.max(...c.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString(),photos:ne.photos||[]},ue=[...c,K];u(ue);const me=o.map(Je=>Je.id===ne.petId?{...Je,lastVisit:ne.date}:Je);l(me);const qe=i.map(Je=>({...Je,pets:Je.pets.map(ze=>ze.id===ne.petId?{...ze,lastVisit:ne.date}:ze)}));a(qe),ee(ne.clientId),n(qe,me,ue)},X=ne=>{if(!o.find(qe=>qe.id===ne))return;const ue=o.filter(qe=>qe.id!==ne);l(ue);const me=i.map(qe=>({...qe,pets:qe.pets.filter(Je=>Je.id!==ne)}));a(me),n(me,ue,c)},ye=()=>{console.log(" RESET DATA - Remise  zro complte des donnes"),localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const ne=CI.map(K=>({...K,pets:Vm.filter(ue=>ue.ownerId===K.id)}));a(ne),l(Vm),u(Qx),f(Xx),g(Jx),v(Zx),N(ey),b(ty),C(ny),_(El),O(Um),n(ne,Vm,Qx,Xx,Jx,Zx,ey,ty,ny,El,Um),console.log(" Reset termin avec antiparasitaires d'exemple:",El.length)},Z=()=>{const ne={clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:P,antiparasitics:A,antiparasiticProtocols:E},K=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"}),ue=URL.createObjectURL(K),me=document.createElement("a");me.href=ue,me.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(ue)},M=ne=>{const K=ne.clients.map(ue=>({...ue,pets:ne.pets.filter(me=>me.ownerId===ue.id)}));a(K),l(ne.pets),u(ne.consultations||[]),f(ne.appointments||[]),g(ne.prescriptions||[]),v(ne.farms||[]),N(ne.farmInterventions||[]),b(ne.vaccinations||[]),C(ne.vaccinationProtocols||[]),_(ne.antiparasitics||[]),O(ne.antiparasiticProtocols||[]),n(K,ne.pets,ne.consultations||[],ne.appointments||[],ne.prescriptions||[],ne.farms||[],ne.farmInterventions||[],ne.vaccinations||[],ne.vaccinationProtocols||[],ne.antiparasitics||[],ne.antiparasiticProtocols||[])},je=(ne,K)=>{const ue=c.map(me=>me.id===ne?{...me,...K}:me);u(ue),n(i,o,ue)},we=ne=>{const K=c.filter(ue=>ue.id!==ne);u(K),n(i,o,K)},Fe=ne=>{const K=I.find(ue=>ue.name.toLowerCase()===ne.productName.toLowerCase()&&ue.category==="medication"&&ue.isActive);return K&&K.currentStock>=1?{...ne,stockItemId:K.id,isInStock:!0,stockQuantity:K.currentStock,stockDeducted:!0}:K&&K.currentStock>0?{...ne,stockItemId:K.id,isInStock:!0,stockQuantity:K.currentStock,stockDeducted:!1}:{...ne,isInStock:!1,stockQuantity:0,stockDeducted:!1}},Be=ne=>{const K=Fe(ne);let ue=[...I];if(K.stockDeducted&&K.stockItemId){const ze=ue.findIndex(et=>et.id===K.stockItemId);if(ze!==-1){const et=ue[ze];ue[ze]={...et,currentStock:et.currentStock-1,lastUpdated:new Date().toISOString()};const pn=ve({itemId:K.stockItemId,itemName:K.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,...A.map(sn=>sn.id))+1}`,performedBy:K.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${K.petName} - ${K.productName}`});console.log("Mouvement de stock antiparasitaire enregistr:",pn)}}const me={...K,id:Math.max(0,...A.map(ze=>ze.id))+1,createdAt:new Date().toISOString()},qe=[...A,me];_(qe),D(ue),console.log(" Antiparasitaire ajout avec succs:",me),console.log(" Total antiparasitaires aprs ajout:",qe.length),console.log(" Synchronisation dans le dossier mdical..."),ee(ne.clientId),n(i,o,c,d,m,x,y,j,P,qe,E,ue,k,$);const Je=localStorage.getItem("vetpro-antiparasitics");console.log(" Donnes sauvegardes dans localStorage:",Je?JSON.parse(Je).length:0,"antiparasitaires")},at=(ne,K)=>{const ue=A.map(me=>me.id===ne?{...me,...K}:me);_(ue),n(i,o,c,d,m,x,y,j,P,ue,E)},lt=ne=>{const K=A.filter(ue=>ue.id!==ne);_(K),n(i,o,c,d,m,x,y,j,P,K,E)},ut=ne=>{const K={...ne,id:Math.max(0,...E.map(me=>me.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ue=[...E,K];O(ue),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ue))},Ne=(ne,K)=>{const ue=E.map(me=>me.id===ne?{...me,...K,updatedAt:new Date().toISOString()}:me);O(ue),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ue))},Ge=ne=>{const K=E.filter(ue=>ue.id!==ne);O(K),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(K))},Ke=ne=>A.find(K=>K.id===ne),qt=ne=>{const K=A.filter(ue=>ue.petId===ne);return console.log("getAntiparasiticsByPetId - petId:",ne,"result:",K),console.log("getAntiparasiticsByPetId - all antiparasitics:",A),K},Kn=ne=>A.filter(K=>K.clientId===ne),Pt=()=>{const ne=new Date().toISOString().split("T")[0];return A.filter(K=>K.nextDueDate&&K.nextDueDate<ne&&K.status!=="completed")},jn=(ne=7)=>{const K=new Date,ue=new Date(K.getTime()+ne*24*60*60*1e3);return A.filter(me=>{if(!me.nextDueDate)return!1;const qe=new Date(me.nextDueDate);return qe>=K&&qe<=ue})},lr=ne=>A.filter(K=>K.status===ne),Yn=ne=>E.find(K=>K.id===ne),ms=ne=>E.filter(K=>K.species===ne&&K.isActive),Se=()=>E.filter(ne=>ne.isActive),zt=ne=>i.find(K=>K.id===ne),nt=ne=>o.find(K=>K.id===ne),mt=ne=>c.find(K=>K.id===ne),rn=ne=>o.filter(K=>K.ownerId===ne),rs=ne=>c.filter(K=>K.petId===ne),qr=ne=>c.filter(K=>K.clientId===ne),Is=ne=>{const K={...ne,id:Math.max(...d.map(me=>me.id),0)+1,createdAt:new Date().toISOString()},ue=[...d,K];f(ue),ee(ne.clientId),n(i,o,c,ue,m)},ml=(ne,K)=>{const ue=d.map(me=>me.id===ne?{...me,...K}:me);f(ue),n(i,o,c,ue,m)},oe=ne=>{const K=d.filter(ue=>ue.id!==ne);f(K),n(i,o,c,K,m)},We=ne=>d.find(K=>K.id===ne),Le=ne=>d.filter(K=>K.clientId===ne),_n=ne=>d.filter(K=>K.petId===ne),Qn=ne=>d.filter(K=>K.date===ne),ta=()=>{const ne=new Date().toISOString().split("T")[0];return d.filter(K=>K.date>=ne&&K.status!=="cancelled"&&K.status!=="completed").sort((K,ue)=>new Date(K.date+"T"+K.time).getTime()-new Date(ue.date+"T"+ue.time).getTime())},jt=()=>{const ne=new Date().toISOString().split("T")[0];return d.filter(K=>K.date<ne&&K.status==="scheduled").sort((K,ue)=>new Date(K.date+"T"+K.time).getTime()-new Date(ue.date+"T"+ue.time).getTime())},on=ne=>ne.map(K=>{const ue=I.find(me=>me.name.toLowerCase()===K.name.toLowerCase()&&me.category==="medication"&&me.isActive);return ue&&ue.currentStock>=K.quantity?{...K,stockItemId:ue.id,isInStock:!0,stockQuantity:ue.currentStock,stockDeducted:!0}:ue&&ue.currentStock>0?{...K,stockItemId:ue.id,isInStock:!0,stockQuantity:ue.currentStock,stockDeducted:!1}:{...K,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),mn=ne=>{const K=on(ne.medications);let ue=[...I];K.forEach(Je=>{if(Je.stockDeducted&&Je.stockItemId){const ze=ue.findIndex(et=>et.id===Je.stockItemId);if(ze!==-1){const et=ue[ze];ue[ze]={...et,currentStock:et.currentStock-Je.quantity,lastUpdated:new Date().toISOString()};const pn=ve({itemId:Je.stockItemId,itemName:Je.name,type:"out",quantity:Je.quantity,reason:"Prescription mdicale",reference:`Prescription #${Math.max(...m.map(sn=>sn.id),0)+1}`,performedBy:ne.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${ne.petName} - ${ne.diagnosis}`});console.log("Mouvement de stock enregistr:",pn)}}});const me={...ne,medications:K,id:Math.max(...m.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString()},qe=[...m,me];g(qe),D(ue),n(i,o,c,d,qe,x,y,j,P,A,E,ue,k,$,U)},ps=(ne,K)=>{const ue=m.map(me=>me.id===ne?{...me,...K}:me);g(ue),n(i,o,c,d,ue,x,y,j,P,A,E,I,k,$,U)},gs=ne=>{const K=m.filter(ue=>ue.id!==ne);g(K),n(i,o,c,d,K,x,y,j,P,A,E,I,k,$,U)},Si=ne=>m.find(K=>K.id===ne),ti=ne=>m.filter(K=>K.petId===ne),vs=ne=>m.filter(K=>K.consultationId===ne),$s=()=>m.filter(ne=>ne.status==="active").sort((ne,K)=>new Date(K.date).getTime()-new Date(ne.date).getTime()),$w=ne=>{const K={...ne,id:Math.max(...x.map(me=>me.id),0)+1,createdAt:new Date().toISOString()},ue=[...x,K];v(ue),n(i,o,c,d,m,ue,y)},Rw=(ne,K)=>{const ue=x.map(me=>me.id===ne?{...me,...K}:me);v(ue),n(i,o,c,d,m,ue,y)},Lw=ne=>{const K=x.filter(ue=>ue.id!==ne);v(K),n(i,o,c,d,m,K,y)},Fw=ne=>{const K={...ne,id:Math.max(...y.map(me=>me.id),0)+1,createdAt:new Date().toISOString()},ue=[...y,K];N(ue),n(i,o,c,d,m,x,ue)},Bw=(ne,K)=>{const ue=y.map(me=>me.id===ne?{...me,...K}:me);N(ue),n(i,o,c,d,m,x,ue)},zw=ne=>{const K=y.filter(ue=>ue.id!==ne);N(K),n(i,o,c,d,m,x,K)},Vw=ne=>x.find(K=>K.id===ne),Uw=ne=>y.find(K=>K.id===ne),Sv=ne=>y.filter(K=>K.farmId===ne),qw=()=>{const ne=new Date().toISOString().split("T")[0];return y.filter(K=>K.date>=ne&&K.status!=="cancelled").sort((K,ue)=>new Date(K.date).getTime()-new Date(ue.date).getTime())},Ww=ne=>x.filter(K=>K.status===ne),Hw=ne=>{const K=I.find(ue=>ue.name.toLowerCase()===ne.vaccineName.toLowerCase()&&ue.category==="vaccine"&&ue.isActive);return K&&K.currentStock>=1?{...ne,stockItemId:K.id,isInStock:!0,stockQuantity:K.currentStock,stockDeducted:!0}:K&&K.currentStock>0?{...ne,stockItemId:K.id,isInStock:!0,stockQuantity:K.currentStock,stockDeducted:!1}:{...ne,isInStock:!1,stockQuantity:0,stockDeducted:!1}},dm=ne=>{const K=Hw(ne);let ue=[...I];if(K.stockDeducted&&K.stockItemId){const qe=ue.findIndex(Je=>Je.id===K.stockItemId);if(qe!==-1){const Je=ue[qe];ue[qe]={...Je,currentStock:Je.currentStock-1,lastUpdated:new Date().toISOString()};const ze=ve({itemId:K.stockItemId,itemName:K.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...j.map(et=>et.id),0)+1}`,performedBy:K.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${K.petName} - ${K.vaccineName}`});console.log("Mouvement de stock vaccin enregistr:",ze)}}const me={...K,id:Math.max(...j.map(qe=>qe.id),0)+1,createdAt:new Date().toISOString()};return b(qe=>{const Je=[...qe,me];return ee(ne.clientId),n(i,o,c,d,m,x,y,Je,P,A,E,ue,k,$),console.log(" addVaccination - total vaccinations after add:",Je.length,Je.map(ze=>({id:ze.id,category:ze.vaccinationCategory}))),Je}),D(ue),me.id},vd=(ne,K)=>{const ue=j.map(me=>me.id===ne?{...me,...K}:me);b(ue),n(i,o,c,d,m,x,y,ue)},Gw=ne=>{console.log(" deleteVaccination - ID  supprimer:",ne),console.log(" deleteVaccination - Vaccinations avant suppression:",j.length);const K=j.find(me=>me.id===ne);if(!K){console.log(" deleteVaccination - Vaccination non trouve");return}console.log(" deleteVaccination - Vaccination  supprimer:",{id:K.id,vaccineName:K.vaccineName,vaccinationCategory:K.vaccinationCategory,originalVaccinationId:K.originalVaccinationId});let ue=[...j];if(K.vaccinationCategory==="new"){console.log(" deleteVaccination - Suppression d'une vaccination originale, recherche des rappels lis...");const me=j.filter(qe=>qe.originalVaccinationId===ne);console.log(" deleteVaccination - Rappels lis trouvs:",me.length),ue=j.filter(qe=>qe.id!==ne&&qe.originalVaccinationId!==ne)}else console.log(" deleteVaccination - Suppression d'un rappel uniquement"),ue=j.filter(me=>me.id!==ne);console.log(" deleteVaccination - Vaccinations aprs suppression:",ue.length),console.log(" deleteVaccination - Vaccinations supprimes:",j.length-ue.length),b(ue),n(i,o,c,d,m,x,y,ue)},xo=ne=>j.find(K=>K.id===ne),Kw=ne=>j.filter(K=>K.petId===ne),xd=ne=>j.filter(K=>K.clientId===ne),Yw=()=>{const ne=new Date().toISOString().split("T")[0];return j.filter(K=>K.nextDueDate<ne&&K.status!=="completed").sort((K,ue)=>new Date(K.nextDueDate).getTime()-new Date(ue.nextDueDate).getTime())},Qw=()=>{const ne=new Date,K=new Date(ne.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],ue=ne.toISOString().split("T")[0];return j.filter(me=>me.nextDueDate>=ue&&me.nextDueDate<=K&&me.status!=="completed").sort((me,qe)=>new Date(me.nextDueDate).getTime()-new Date(qe.nextDueDate).getTime())},Xw=ne=>j.filter(K=>K.status===ne),Cv=()=>{const ne=new Date().toISOString().split("T")[0];let K=!1;const ue=j.map(me=>me.status==="completed"?me:me.nextDueDate<ne&&me.status!=="overdue"?(K=!0,{...me,status:"overdue"}):me.nextDueDate>=ne&&me.status!=="scheduled"?(K=!0,{...me,status:"scheduled"}):me);return K&&(b(ue),n(i,o,c,d,m,x,y,ue)),ue},Pv=ne=>{const K={...ne,id:Math.max(...P.map(me=>me.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ue=[...P,K];C(ue),n(i,o,c,d,m,x,y,j,ue)},_v=(ne,K)=>{const ue=P.map(me=>me.id===ne?{...me,...K,updatedAt:new Date().toISOString()}:me);C(ue),n(i,o,c,d,m,x,y,j,ue)},Jw=ne=>{const K=P.filter(ue=>ue.id!==ne);C(K),n(i,o,c,d,m,x,y,j,K)},Zw=ne=>P.find(K=>K.id===ne),e1=ne=>P.filter(K=>K.species===ne&&K.isActive),t1=()=>P.filter(ne=>ne.isActive),Av=(ne,K,ue)=>{const me=P.find(ze=>ze.name===ne&&ze.species===K&&ze.isActive);if(!me||!me.intervals.length)return null;const qe=me.intervals[me.intervals.length-1],Je=new Date(ue);return Je.setDate(Je.getDate()+qe.offsetDays),Je.toISOString().split("T")[0]},Ev=(ne,K,ue)=>{var sn;const me=xo(ne);if(!me)return;const qe={clientId:me.clientId,clientName:me.clientName,petId:me.petId,petName:me.petName,date:K,time:ue,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${me.vaccineName}`,notes:`Rappel pour ${me.vaccineName} (vaccination originale ID: ${ne})`,status:"scheduled",reminderSent:!1};Is(qe);const Je=Math.max(...d.map(dt=>dt.id),0)+1,ze={petId:me.petId,petName:me.petName,clientId:me.clientId,clientName:me.clientName,vaccineName:me.vaccineName,vaccineType:me.vaccineType,vaccinationCategory:"reminder",dateGiven:K,nextDueDate:me.nextDueDate,batchNumber:me.batchNumber,veterinarian:me.veterinarian,notes:`Rappel de ${me.vaccineName} (original: ${ne})`,status:"scheduled",cost:me.cost,location:me.location,manufacturer:me.manufacturer,originalVaccinationId:ne,reminderAppointmentId:Je,isReminder:!0};dm(ze);const et={id:Math.max(...((sn=me.reminderHistory)==null?void 0:sn.map(dt=>dt.id))||[0],0)+1,vaccinationId:ne,appointmentId:Je,scheduledDate:K,status:"scheduled",notes:`Rappel programm pour ${me.vaccineName}`,createdAt:new Date().toISOString()},pn=[...me.reminderHistory||[],et];return vd(ne,{reminderHistory:pn}),{appointment:qe,reminderVaccination:ze,reminder:et}},kv=(ne,K,ue)=>{var ze;const me=xo(ne);if(!me)return;const Je={status:"completed",reminderHistory:((ze=me.reminderHistory)==null?void 0:ze.map(et=>et.appointmentId===K?{...et,status:"completed"}:et))||[],reminderAppointmentId:void 0};return ue&&(Je.nextDueDate=ue),vd(ne,Je),ml(K,{status:"completed"}),me},hm=(ne,K)=>{const ue=xo(ne);if(!ue)return null;const me={petId:ue.petId,petName:ue.petName,clientId:ue.clientId,clientName:ue.clientName,vaccineName:ue.vaccineName,vaccineType:ue.vaccineType,vaccinationCategory:"reminder",dateGiven:K.datePerformed,nextDueDate:K.newNextDueDate||ue.nextDueDate,calculatedDueDate:ue.calculatedDueDate,batchNumber:K.batchNumber||ue.batchNumber,veterinarian:K.veterinarian,notes:K.notes||`Rappel effectu - ${ue.vaccineName}`,status:"completed",cost:ue.cost,location:ue.location,manufacturer:ue.manufacturer,expirationDate:ue.expirationDate,adverseReactions:ue.adverseReactions,originalVaccinationId:ne,isReminder:!0};dm(me);const qe={status:"completed",reminderAppointmentId:void 0};return K.newNextDueDate&&(qe.nextDueDate=K.newNextDueDate),vd(ne,qe),me},pl=ne=>{const K={...ne,id:Math.max(...U.map(me=>me.id),0)+1,createdAt:new Date().toISOString()},ue=[...U,K];return ie(ue),n(i,o,c,d,m,x,y,j,P,A,E,I,k,$,ue),K},Tv=(ne,K)=>{const ue=U.map(me=>me.id===ne?{...me,...K}:me);ie(ue),n(i,o,c,d,m,x,y,j,P,A,E,I,k,$,ue)},yd=ne=>{const K=U.filter(ue=>ue.id!==ne);ie(K),n(i,o,c,d,m,x,y,j,P,A,E,I,k,$,K)},jd=(ne,K)=>{const ue=new Date(ne),me=new Date(K);let qe=0;const Je={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(ze=>{const et=new Date(ze.date);return et>=ue&&et<=me}).forEach(ze=>{var sn;const et=parseFloat(((sn=ze.cost)==null?void 0:sn.toString())||"0");qe+=et,Je.consultations+=et,U.find(dt=>dt.source==="consultation"&&dt.sourceId===ze.id)||pl({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${ze.petName}`,amount:et,date:ze.date,reference:`Consultation #${ze.id}`,source:"consultation",sourceId:ze.id,notes:`Consultation automatique pour ${ze.petName}`})}),j.filter(ze=>{const et=new Date(ze.dateGiven);return et>=ue&&et<=me}).forEach(ze=>{var sn;const et=parseFloat(((sn=ze.cost)==null?void 0:sn.toString())||"0");qe+=et,Je.vaccinations+=et,U.find(dt=>dt.source==="vaccination"&&dt.sourceId===ze.id)||pl({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${ze.vaccineName}`,amount:et,date:ze.dateGiven,reference:`Vaccination #${ze.id}`,source:"vaccination",sourceId:ze.id,notes:`Vaccination automatique pour ${ze.petName}`})}),A.filter(ze=>{const et=new Date(ze.dateGiven);return et>=ue&&et<=me}).forEach(ze=>{var sn;const et=parseFloat(((sn=ze.cost)==null?void 0:sn.toString())||"0");qe+=et,Je.antiparasitics+=et,U.find(dt=>dt.source==="antiparasitic"&&dt.sourceId===ze.id)||pl({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${ze.productName}`,amount:et,date:ze.dateGiven,reference:`Antiparasitaire #${ze.id}`,source:"antiparasitic",sourceId:ze.id,notes:`Antiparasitaire automatique pour ${ze.petName}`})}),m.filter(ze=>{const et=new Date(ze.createdAt);return et>=ue&&et<=me}).forEach(ze=>{const et=ze.medications.reduce((sn,dt)=>{var $n;return sn+parseFloat((($n=dt.cost)==null?void 0:$n.toString())||"0")*dt.quantity},0);qe+=et,Je.prescriptions+=et,!U.find(sn=>sn.source==="prescription"&&sn.sourceId===ze.id)&&et>0&&pl({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${ze.petName}`,amount:et,date:ze.createdAt,reference:`Prescription #${ze.id}`,source:"prescription",sourceId:ze.id,notes:`Prescription automatique pour ${ze.petName}`})}),{totalRevenue:qe,revenueBreakdown:Je}},fm=(ne,K)=>{const ue=new Date(ne),me=new Date(K);let qe=0;const Je={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return $.filter(ze=>{const et=new Date(ze.date);return et>=ue&&et<=me&&ze.type==="in"&&ze.reason==="Achat fournisseur"}).forEach(ze=>{const et=I.find(pn=>pn.id===ze.itemId);if(et){const pn=et.purchasePrice*ze.quantity;qe+=pn,Je.stockPurchases+=pn,U.find(dt=>dt.source==="stock_purchase"&&dt.reference===ze.reference)||pl({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${ze.itemName}`,amount:pn,date:ze.date,reference:ze.reference,source:"stock_purchase",notes:`Achat automatique de ${ze.quantity} ${ze.itemName}`})}}),{totalExpenses:qe,expenseBreakdown:Je}},Ov=(ne,K,ue)=>{const{totalRevenue:me,revenueBreakdown:qe}=jd(K,ue),{totalExpenses:Je,expenseBreakdown:ze}=fm(K,ue),et=U.filter($n=>{const Wr=new Date($n.date),na=new Date(K),Fa=new Date(ue);return Wr>=na&&Wr<=Fa&&$n.category==="manual"&&$n.type==="revenue"}).reduce(($n,Wr)=>$n+Wr.amount,0),pn=U.filter($n=>{const Wr=new Date($n.date),na=new Date(K),Fa=new Date(ue);return Wr>=na&&Wr<=Fa&&$n.category==="manual"&&$n.type==="expense"}).reduce(($n,Wr)=>$n+Wr.amount,0);qe.manualEntries=et,ze.manualEntries=pn;const sn=me+et,dt=Je+pn;return{period:ne,totalRevenue:sn,totalExpenses:dt,netIncome:sn-dt,revenueBreakdown:qe,expenseBreakdown:ze}};return r.jsx(sz.Provider,{value:{clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:P,antiparasitics:A,antiparasiticProtocols:E,stockItems:I,stockAlerts:k,stockMovements:$,accountingEntries:U,addClient:L,addPet:z,addConsultation:B,addAppointment:Is,addPrescription:mn,addFarm:$w,addFarmIntervention:Fw,addVaccination:dm,addVaccinationProtocol:Pv,addAntiparasitic:Be,addAntiparasiticProtocol:ut,addStockItem:J,addStockMovement:ve,addAccountingEntry:pl,updateAccountingEntry:Tv,deleteAccountingEntry:yd,calculateAutomaticRevenue:jd,calculateAutomaticExpenses:fm,generateAccountingSummary:Ov,updateClient:le,updatePet:pe,updateConsultation:je,updateAppointment:ml,updatePrescription:ps,updateFarm:Rw,updateFarmIntervention:Bw,updateVaccination:vd,updateVaccinationProtocol:_v,updateAntiparasitic:at,updateAntiparasiticProtocol:Ne,updateStockItem:te,deletePet:X,deleteConsultation:we,deleteAppointment:oe,deletePrescription:gs,deleteFarm:Lw,deleteFarmIntervention:zw,deleteVaccination:Gw,deleteVaccinationProtocol:Jw,deleteAntiparasitic:lt,deleteAntiparasiticProtocol:Ge,deleteStockItem:xe,resetData:ye,exportData:Z,importData:M,getClientById:zt,getPetById:nt,getConsultationById:mt,getAppointmentById:We,getPrescriptionById:Si,getFarmById:Vw,getFarmInterventionById:Uw,getVaccinationById:xo,getVaccinationProtocolById:Zw,getVaccinationProtocolsBySpecies:e1,getActiveVaccinationProtocols:t1,getAntiparasiticById:Ke,getAntiparasiticsByPetId:qt,getAntiparasiticsByClientId:Kn,getOverdueAntiparasitics:Pt,getUpcomingAntiparasitics:jn,getAntiparasiticsByStatus:lr,getAntiparasiticProtocolById:Yn,getAntiparasiticProtocolsBySpecies:ms,getActiveAntiparasiticProtocols:Se,getPetsByOwnerId:rn,getConsultationsByPetId:rs,getConsultationsByClientId:qr,getAppointmentsByClientId:Le,getAppointmentsByPetId:_n,getAppointmentsByDate:Qn,getUpcomingAppointments:ta,getOverdueAppointments:jt,getPrescriptionsByPetId:ti,getPrescriptionsByConsultationId:vs,getActivePrescriptions:$s,getFarmInterventionsByFarmId:Sv,getUpcomingFarmInterventions:qw,getFarmsByStatus:Ww,getVaccinationsByPetId:Kw,getVaccinationsByClientId:xd,getOverdueVaccinations:Yw,getUpcomingVaccinations:Qw,getVaccinationsByStatus:Xw,createVaccinationReminder:Ev,completeVaccinationReminder:kv,confirmVaccinationReminder:hm,updateVaccinationStatuses:Cv,calculateDueDateFromProtocol:Av,updateClientStats:ee,getStockAlerts:re},children:e})}const ft=()=>{const e=w.useContext(sz);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},se=w.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));se.displayName="Input";var Vde="Label",iz=w.forwardRef((e,t)=>r.jsx(it.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iz.displayName=Vde;var az=iz;const Ude=ev("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),V=w.forwardRef(({className:e,...t},n)=>r.jsx(az,{ref:n,className:Ze(Ude(),e),...t}));V.displayName=az.displayName;const he=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));he.displayName="Card";const Ee=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",e),...t}));Ee.displayName="CardHeader";const Te=w.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",e),...t}));Te.displayName="CardTitle";const ag=w.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));ag.displayName="CardDescription";const fe=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("p-6 pt-0",e),...t}));fe.displayName="CardContent";const qde=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",e),...t}));qde.displayName="CardFooter";const Wde=ev("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),oz=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Ze(Wde({variant:t}),e),...n}));oz.displayName="Alert";const Hde=w.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Ze("mb-1 font-medium leading-none tracking-tight",e),...t}));Hde.displayName="AlertTitle";const lz=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("text-sm [&_p]:leading-relaxed",e),...t}));lz.displayName="AlertDescription";function Gde(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(""),{login:c,isLoading:u}=Tc(),d=async f=>{if(f.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await c(e,n)||l("Email ou mot de passe incorrect, ou email non confirm")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(he,{className:"w-full max-w-md",children:[r.jsxs(Ee,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(Zt,{className:"h-8 w-8 text-primary"})})}),r.jsx(Te,{className:"text-2xl font-bold",children:"VetPro CRM"}),r.jsx(ag,{children:"Connectez-vous  votre espace vtrinaire"})]}),r.jsxs(fe,{children:[r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o&&r.jsx(oz,{variant:"destructive",children:r.jsx(lz,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:f=>t(f.target.value),disabled:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"password",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(se,{id:"password",type:i?"text":"password",placeholder:"",value:n,onChange:f=>s(f.target.value),disabled:u,required:!0}),r.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),disabled:u,children:i?r.jsx(Vte,{className:"h-4 w-4"}):r.jsx(Xr,{className:"h-4 w-4"})})]})]}),r.jsx(H,{type:"submit",className:"w-full",disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx(u0,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",r.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})]})})}function cs({children:e}){const{isAuthenticated:t,isLoading:n,user:s}=Tc(),[i,a]=w.useState(!1);return w.useEffect(()=>{if(n){const o=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(o)}else a(!1)},[n]),i?r.jsx(x2,{to:"/login",replace:!0}):n&&!i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Vrification de l'authentification..."})]})}):!t||!s?r.jsx(x2,{to:"/login",replace:!0}):r.jsx(r.Fragment,{children:e})}function Kde({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:s,user:i}=Tc(),[a,o]=w.useState(!1);return w.useEffect(()=>{if(s){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[s]),a?r.jsx(r.Fragment,{children:e}):s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&i?r.jsx(x2,{to:t,replace:!0}):r.jsx(r.Fragment,{children:e})}const cz="/assets/vet-hero-UFBVcjRL.jpg";function Yde(){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b",children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(H,{variant:"ghost",asChild:!0,children:r.jsx(ja,{to:"/login",children:"Se connecter"})}),r.jsx(H,{asChild:!0,children:r.jsx(ja,{to:"/register",children:"Commencer"})})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vtrinaire Complte"})]}),r.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Grez votre pratique",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vtrinaire efficacement"})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide  grer vos clients, leurs animaux, les rendez-vous, consultations et l'historique mdical. Optimisez votre pratique avec notre solution tout-en-un."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(H,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(ja,{to:"/register",children:["Commencer gratuitement",r.jsx(GC,{className:"h-4 w-4"})]})}),r.jsx(H,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:r.jsx(ja,{to:"/login",children:"Voir la dmo"})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:cz,alt:"Vtrinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complte pour moderniser et optimiser votre pratique vtrinaire"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Ea,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground",children:"Grez facilement vos clients et leurs animaux avec un systme intuitif et complet."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(kt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground",children:"Planifiez et grez vos rendez-vous avec un calendrier intelligent et flexible."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(zr,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique mdical dtaill."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(X5,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),r.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activit avec des rapports dtaills et des tableaux de bord."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(vi,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Scuris"}),r.jsx("p",{className:"text-muted-foreground",children:"Vos donnes sont protges avec les plus hauts standards de scurit."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Zt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Grez les exploitations agricoles et suivez la sant des troupeaux."})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Prt  moderniser votre pratique ?"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vtrinaires qui font confiance  VetPro pour grer leur clinique efficacement."}),r.jsx("div",{className:"flex gap-4 justify-center",children:r.jsx(H,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(ja,{to:"/register",children:["Commencer maintenant",r.jsx(GC,{className:"h-4 w-4"})]})})})]})})}),r.jsx("footer",{className:"border-t py-8",children:r.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," VetPro. Tous droits rservs."]})})})]})}const Qde=()=>{const e=fb(),{toast:t}=Ut(),[n,s]=w.useState(!1),[i,a]=w.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=c=>{a(u=>({...u,[c.target.id]:c.target.value}))},l=async c=>{if(c.preventDefault(),s(!0),i.password!==i.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),s(!1);return}if(i.password.length<6){t({title:"Erreur",description:"Le mot de passe doit comporter au moins 6 caractres",variant:"destructive"}),s(!1);return}try{await Tde(i.email,i.password,i.username,i.fullName,"assistant"),t({title:"Inscription russie",description:"Votre compte a t cr avec succs. Veuillez vrifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(u){t({title:"Erreur d'inscription",description:u.message||"Une erreur est survenue lors de l'inscription",variant:"destructive"})}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:r.jsxs(he,{className:"w-full max-w-md",children:[r.jsxs(Ee,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Zt,{className:"h-12 w-12 text-primary"})}),r.jsx(Te,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),r.jsx(ag,{children:"Crez votre compte vtrinaire"})]}),r.jsxs(fe,{children:[r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(se,{id:"username",placeholder:"martin.dubois",value:i.username,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"fullName",children:"Nom complet"}),r.jsx(se,{id:"fullName",placeholder:"Dr. Martin Dubois",value:i.fullName,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",placeholder:"votre.email@example.com",value:i.email,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"password",children:"Mot de passe"}),r.jsx(se,{id:"password",type:"password",placeholder:"Minimum 6 caractres",value:i.password,onChange:o,required:!0,minLength:6})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(se,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:i.confirmPassword,onChange:o,required:!0,minLength:6})]}),r.jsx(H,{type:"submit",className:"w-full",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(u0,{className:"mr-2 h-4 w-4 animate-spin"}),"Cration en cours..."]}):"Crer le compte"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dj un compte ?"," ",r.jsx(ja,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r.jsx(ja,{to:"/",className:"hover:underline",children:"Retour  l'accueil"})})]})]})]})})};var Ab="Dialog",[uz,f6e]=Xs(Ab),[Xde,$a]=uz(Ab),dz=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=ho({prop:s,defaultProp:i??!1,onChange:a,caller:Ab});return r.jsx(Xde,{scope:t,triggerRef:l,contentRef:c,contentId:Zr(),titleId:Zr(),descriptionId:Zr(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};dz.displayName=Ab;var hz="DialogTrigger",fz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=$a(hz,n),a=Qt(t,i.triggerRef);return r.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dE(i.open),...s,ref:a,onClick:He(e.onClick,i.onOpenToggle)})});fz.displayName=hz;var cE="DialogPortal",[Jde,mz]=uz(cE,{forceMount:void 0}),pz=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=$a(cE,t);return r.jsx(Jde,{scope:t,forceMount:n,children:w.Children.map(s,o=>r.jsx(Js,{present:n||a.open,children:r.jsx(If,{asChild:!0,container:i,children:o})}))})};pz.displayName=cE;var S0="DialogOverlay",gz=w.forwardRef((e,t)=>{const n=mz(S0,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=$a(S0,e.__scopeDialog);return a.modal?r.jsx(Js,{present:s||a.open,children:r.jsx(ehe,{...i,ref:t})}):null});gz.displayName=S0;var Zde=vc("DialogOverlay.RemoveScroll"),ehe=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=$a(S0,n);return r.jsx(av,{as:Zde,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(it.div,{"data-state":dE(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Uu="DialogContent",vz=w.forwardRef((e,t)=>{const n=mz(Uu,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=$a(Uu,e.__scopeDialog);return r.jsx(Js,{present:s||a.open,children:a.modal?r.jsx(the,{...i,ref:t}):r.jsx(nhe,{...i,ref:t})})});vz.displayName=Uu;var the=w.forwardRef((e,t)=>{const n=$a(Uu,e.__scopeDialog),s=w.useRef(null),i=Qt(t,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return vb(a)},[]),r.jsx(xz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault())})}),nhe=w.forwardRef((e,t)=>{const n=$a(Uu,e.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(xz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),xz=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=$a(Uu,n),c=w.useRef(null),u=Qt(t,c);return pb(),r.jsxs(r.Fragment,{children:[r.jsx(sv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(id,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(rhe,{titleId:l.titleId}),r.jsx(ihe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),uE="DialogTitle",yz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=$a(uE,n);return r.jsx(it.h2,{id:i.titleId,...s,ref:t})});yz.displayName=uE;var jz="DialogDescription",bz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=$a(jz,n);return r.jsx(it.p,{id:i.descriptionId,...s,ref:t})});bz.displayName=jz;var wz="DialogClose",Nz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=$a(wz,n);return r.jsx(it.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});Nz.displayName=wz;function dE(e){return e?"open":"closed"}var Sz="DialogTitleWarning",[m6e,Cz]=Lee(Sz,{contentName:Uu,titleName:uE,docsSlug:"dialog"}),rhe=({titleId:e})=>{const t=Cz(Sz),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},she="DialogDescriptionWarning",ihe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Cz(she).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Pz=dz,ahe=fz,_z=pz,hE=gz,fE=vz,Az=yz,Ez=bz,ohe=Nz;const Tt=Pz,Oc=ahe,lhe=_z,kz=w.forwardRef(({className:e,...t},n)=>r.jsx(hE,{ref:n,className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kz.displayName=hE.displayName;const Nt=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(lhe,{children:[r.jsx(kz,{}),r.jsxs(fE,{ref:s,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(ohe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(rb,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nt.displayName=fE.displayName;const Ot=({className:e,...t})=>r.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ot.displayName="DialogHeader";const Dt=w.forwardRef(({className:e,...t},n)=>r.jsx(Az,{ref:n,className:Ze("text-lg font-semibold leading-none tracking-tight",e),...t}));Dt.displayName=Az.displayName;const Cn=w.forwardRef(({className:e,...t},n)=>r.jsx(Ez,{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));Cn.displayName=Ez.displayName;const St=w.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));St.displayName="Textarea";function hv({open:e,onOpenChange:t}){const{addClient:n}=ft(),{toast:s}=Ut(),[i,a]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""}),o=c=>{a(u=>({...u,[c.target.id]:c.target.value}))},l=c=>{c.preventDefault(),n({...i,name:`${i.firstName} ${i.lastName}`}),s({title:"Client ajout",description:`${i.firstName} ${i.lastName} a t ajout et sauvegard avec succs.`}),a({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""}),t(!1)};return r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[500px]",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Nouveau Client"}),r.jsx(Cn,{children:"Ajoutez un nouveau client  votre base de donnes."})]}),r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"firstName",children:"Prnom *"}),r.jsx(se,{id:"firstName",value:i.firstName,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"lastName",children:"Nom *"}),r.jsx(se,{id:"lastName",value:i.lastName,onChange:o,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:i.email,onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"phone",children:"Tlphone *"}),r.jsx(se,{id:"phone",value:i.phone,onChange:o,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:i.address,onChange:o})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"city",children:"Ville"}),r.jsx(se,{id:"city",value:i.city,onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"postalCode",children:"Code postal"}),r.jsx(se,{id:"postalCode",value:i.postalCode,onChange:o})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"idNumber",children:"N pice d'identit"}),r.jsx(se,{id:"idNumber",value:i.idNumber,onChange:o,placeholder:"Numro de carte d'identit, passeport, etc."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:i.notes,onChange:o,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Ajouter Client"})]})]})]})})}function _I(e,[t,n]){return Math.min(n,Math.max(t,e))}function mE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var che=[" ","Enter","ArrowUp","ArrowDown"],uhe=[" ","Enter"],qu="Select",[Eb,kb,dhe]=Jj(qu),[Hf,p6e]=Xs(qu,[dhe,Pc]),Tb=Pc(),[hhe,Dc]=Hf(qu),[fhe,mhe]=Hf(qu),Tz=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=e,v=Tb(t),[y,N]=w.useState(null),[j,b]=w.useState(null),[P,C]=w.useState(!1),A=mb(u),[_,E]=ho({prop:s,defaultProp:i??!1,onChange:a,caller:qu}),[O,I]=ho({prop:o,defaultProp:l,onChange:c,caller:qu}),D=w.useRef(null),k=y?x||!!y.closest("form"):!0,[F,$]=w.useState(new Set),Q=Array.from(F).map(U=>U.props.value).join(";");return r.jsx(FA,{...v,children:r.jsxs(hhe,{required:g,scope:t,trigger:y,onTriggerChange:N,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:P,onValueNodeHasChildrenChange:C,contentId:Zr(),value:O,onValueChange:I,open:_,onOpenChange:E,dir:A,triggerPointerDownPosRef:D,disabled:m,children:[r.jsx(Eb.Provider,{scope:t,children:r.jsx(fhe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(U=>{$(ie=>new Set(ie).add(U))},[]),onNativeOptionRemove:w.useCallback(U=>{$(ie=>{const L=new Set(ie);return L.delete(U),L})},[]),children:n})}),k?r.jsxs(tV,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:U=>I(U.target.value),disabled:m,form:x,children:[O===void 0?r.jsx("option",{value:""}):null,Array.from(F)]},Q):null]})})};Tz.displayName=qu;var Oz="SelectTrigger",Dz=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Tb(n),o=Dc(Oz,n),l=o.disabled||s,c=Qt(t,o.onTriggerChange),u=kb(n),d=w.useRef("touch"),[f,m,g]=rV(v=>{const y=u().filter(b=>!b.disabled),N=y.find(b=>b.value===o.value),j=sV(y,v,N);j!==void 0&&o.onValueChange(j.value)}),x=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(nv,{asChild:!0,...a,children:r.jsx(it.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":nV(o.value)?"":void 0,...i,ref:c,onClick:He(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:He(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:He(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&che.includes(v.key)&&(x(),v.preventDefault())})})})});Dz.displayName=Oz;var Mz="SelectValue",Iz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=e,c=Dc(Mz,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Qt(t,c.onValueNodeChange);return br(()=>{u(d)},[u,d]),r.jsx(it.span,{...l,ref:f,style:{pointerEvents:"none"},children:nV(c.value)?r.jsx(r.Fragment,{children:o}):a})});Iz.displayName=Mz;var phe="SelectIcon",$z=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(it.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});$z.displayName=phe;var ghe="SelectPortal",Rz=e=>r.jsx(If,{asChild:!0,...e});Rz.displayName=ghe;var Wu="SelectContent",Lz=w.forwardRef((e,t)=>{const n=Dc(Wu,e.__scopeSelect),[s,i]=w.useState();if(br(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?sd.createPortal(r.jsx(Fz,{scope:e.__scopeSelect,children:r.jsx(Eb.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(Bz,{...e,ref:t})});Lz.displayName=Wu;var da=10,[Fz,Mc]=Hf(Wu),vhe="SelectContentImpl",xhe=vc("SelectContent.RemoveScroll"),Bz=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y,...N}=e,j=Dc(Wu,n),[b,P]=w.useState(null),[C,A]=w.useState(null),_=Qt(t,re=>P(re)),[E,O]=w.useState(null),[I,D]=w.useState(null),k=kb(n),[F,$]=w.useState(!1),Q=w.useRef(!1);w.useEffect(()=>{if(b)return vb(b)},[b]),pb();const U=w.useCallback(re=>{const[B,...X]=k().map(M=>M.ref.current),[ye]=X.slice(-1),Z=document.activeElement;for(const M of re)if(M===Z||(M==null||M.scrollIntoView({block:"nearest"}),M===B&&C&&(C.scrollTop=0),M===ye&&C&&(C.scrollTop=C.scrollHeight),M==null||M.focus(),document.activeElement!==Z))return},[k,C]),ie=w.useCallback(()=>U([E,b]),[U,E,b]);w.useEffect(()=>{F&&ie()},[F,ie]);const{onOpenChange:L,triggerPointerDownPosRef:z}=j;w.useEffect(()=>{if(b){let re={x:0,y:0};const B=ye=>{var Z,M;re={x:Math.abs(Math.round(ye.pageX)-(((Z=z.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((M=z.current)==null?void 0:M.y)??0))}},X=ye=>{re.x<=10&&re.y<=10?ye.preventDefault():b.contains(ye.target)||L(!1),document.removeEventListener("pointermove",B),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",X,{capture:!0})}}},[b,L,z]),w.useEffect(()=>{const re=()=>L(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[L]);const[le,pe]=rV(re=>{const B=k().filter(Z=>!Z.disabled),X=B.find(Z=>Z.ref.current===document.activeElement),ye=sV(B,re,X);ye&&setTimeout(()=>ye.ref.current.focus())}),ee=w.useCallback((re,B,X)=>{const ye=!Q.current&&!X;(j.value!==void 0&&j.value===B||ye)&&(O(re),ye&&(Q.current=!0))},[j.value]),J=w.useCallback(()=>b==null?void 0:b.focus(),[b]),te=w.useCallback((re,B,X)=>{const ye=!Q.current&&!X;(j.value!==void 0&&j.value===B||ye)&&D(re)},[j.value]),xe=s==="popper"?$2:zz,ve=xe===$2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(Fz,{scope:n,content:b,viewport:C,onViewportChange:A,itemRefCallback:ee,selectedItem:E,onItemLeave:J,itemTextRefCallback:te,focusSelectedItem:ie,selectedItemText:I,position:s,isPositioned:F,searchRef:le,children:r.jsx(av,{as:xhe,allowPinchZoom:!0,children:r.jsx(sv,{asChild:!0,trapped:j.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:He(i,re=>{var B;(B=j.trigger)==null||B.focus({preventScroll:!0}),re.preventDefault()}),children:r.jsx(id,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:r.jsx(xe,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:re=>re.preventDefault(),...N,...ve,onPlaced:()=>$(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:He(N.onKeyDown,re=>{const B=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!B&&re.key.length===1&&pe(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ye=k().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Z=re.target,M=ye.indexOf(Z);ye=ye.slice(M+1)}setTimeout(()=>U(ye)),re.preventDefault()}})})})})})})});Bz.displayName=vhe;var yhe="SelectItemAlignedPosition",zz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=Dc(Wu,n),o=Mc(Wu,n),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Qt(t,_=>d(_)),m=kb(n),g=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:j}=o,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&N){const _=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),I=N.getBoundingClientRect();if(a.dir!=="rtl"){const Z=I.left-E.left,M=O.left-Z,je=_.left-M,we=_.width+je,Fe=Math.max(we,E.width),Be=window.innerWidth-da,at=_I(M,[da,Math.max(da,Be-Fe)]);l.style.minWidth=we+"px",l.style.left=at+"px"}else{const Z=E.right-I.right,M=window.innerWidth-O.right-Z,je=window.innerWidth-_.right-M,we=_.width+je,Fe=Math.max(we,E.width),Be=window.innerWidth-da,at=_I(M,[da,Math.max(da,Be-Fe)]);l.style.minWidth=we+"px",l.style.right=at+"px"}const D=m(),k=window.innerHeight-da*2,F=v.scrollHeight,$=window.getComputedStyle(u),Q=parseInt($.borderTopWidth,10),U=parseInt($.paddingTop,10),ie=parseInt($.borderBottomWidth,10),L=parseInt($.paddingBottom,10),z=Q+U+F+L+ie,le=Math.min(y.offsetHeight*5,z),pe=window.getComputedStyle(v),ee=parseInt(pe.paddingTop,10),J=parseInt(pe.paddingBottom,10),te=_.top+_.height/2-da,xe=k-te,ve=y.offsetHeight/2,re=y.offsetTop+ve,B=Q+U+re,X=z-B;if(B<=te){const Z=D.length>0&&y===D[D.length-1].ref.current;l.style.bottom="0px";const M=u.clientHeight-v.offsetTop-v.offsetHeight,je=Math.max(xe,ve+(Z?J:0)+M+ie),we=B+je;l.style.height=we+"px"}else{const Z=D.length>0&&y===D[0].ref.current;l.style.top="0px";const je=Math.max(te,Q+v.offsetTop+(Z?ee:0)+ve)+X;l.style.height=je+"px",v.scrollTop=B-te+v.offsetTop}l.style.margin=`${da}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=k+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,N,a.dir,s]);br(()=>b(),[b]);const[P,C]=w.useState();br(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const A=w.useCallback(_=>{_&&x.current===!0&&(b(),j==null||j(),x.current=!1)},[b,j]);return r.jsx(bhe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:r.jsx(it.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});zz.displayName=yhe;var jhe="SelectPopperPosition",$2=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=da,...a}=e,o=Tb(n);return r.jsx(ob,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$2.displayName=jhe;var[bhe,pE]=Hf(Wu,{}),R2="SelectViewport",Vz=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Mc(R2,n),o=pE(R2,n),l=Qt(t,a.onViewportChange),c=w.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Eb.Slot,{scope:n,children:r.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:He(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-da*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<x){const j=N+g,b=Math.min(x,j),P=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Vz.displayName=R2;var Uz="SelectGroup",[whe,Nhe]=Hf(Uz),She=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Zr();return r.jsx(whe,{scope:n,id:i,children:r.jsx(it.div,{role:"group","aria-labelledby":i,...s,ref:t})})});She.displayName=Uz;var qz="SelectLabel",Wz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Nhe(qz,n);return r.jsx(it.div,{id:i.id,...s,ref:t})});Wz.displayName=qz;var C0="SelectItem",[Che,Hz]=Hf(C0),Gz=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=Dc(C0,n),c=Mc(C0,n),u=l.value===s,[d,f]=w.useState(a??""),[m,g]=w.useState(!1),x=Qt(t,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,s,i)}),v=Zr(),y=w.useRef("touch"),N=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Che,{scope:n,value:s,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(j=>{f(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:r.jsx(Eb.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(it.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:He(o.onFocus,()=>g(!0)),onBlur:He(o.onBlur,()=>g(!1)),onClick:He(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:He(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:He(o.onPointerDown,j=>{y.current=j.pointerType}),onPointerMove:He(o.onPointerMove,j=>{var b;y.current=j.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:He(o.onKeyDown,j=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&j.key===" "||(uhe.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});Gz.displayName=C0;var up="SelectItemText",Kz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=Dc(up,n),l=Mc(up,n),c=Hz(up,n),u=mhe(up,n),[d,f]=w.useState(null),m=Qt(t,N=>f(N),c.onItemTextChange,N=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,N,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=w.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return br(()=>(v(x),()=>y(x)),[v,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(it.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sd.createPortal(a.children,o.valueNode):null]})});Kz.displayName=up;var Yz="SelectItemIndicator",Qz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return Hz(Yz,n).isSelected?r.jsx(it.span,{"aria-hidden":!0,...s,ref:t}):null});Qz.displayName=Yz;var L2="SelectScrollUpButton",Xz=w.forwardRef((e,t)=>{const n=Mc(L2,e.__scopeSelect),s=pE(L2,e.__scopeSelect),[i,a]=w.useState(!1),o=Qt(t,s.onScrollButtonChange);return br(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(Zz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Xz.displayName=L2;var F2="SelectScrollDownButton",Jz=w.forwardRef((e,t)=>{const n=Mc(F2,e.__scopeSelect),s=pE(F2,e.__scopeSelect),[i,a]=w.useState(!1),o=Qt(t,s.onScrollButtonChange);return br(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(Zz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Jz.displayName=F2;var Zz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Mc("SelectScrollButton",n),o=w.useRef(null),l=kb(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),br(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(it.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:He(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:He(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:He(i.onPointerLeave,()=>{c()})})}),Phe="SelectSeparator",eV=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(it.div,{"aria-hidden":!0,...s,ref:t})});eV.displayName=Phe;var B2="SelectArrow",_he=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Tb(n),a=Dc(B2,n),o=Mc(B2,n);return a.open&&o.position==="popper"?r.jsx(lb,{...i,...s,ref:t}):null});_he.displayName=B2;var Ahe="SelectBubbleInput",tV=w.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=w.useRef(null),a=Qt(s,i),o=mE(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(it.select,{...n,style:{..._5,...n.style},ref:a,defaultValue:t})});tV.displayName=Ahe;function nV(e){return e===""||e===void 0}function rV(e){const t=Ts(e),n=w.useRef(""),s=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function sV(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Ehe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Ehe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var khe=Tz,iV=Dz,The=Iz,Ohe=$z,Dhe=Rz,aV=Lz,Mhe=Vz,oV=Wz,lV=Gz,Ihe=Kz,$he=Qz,cV=Xz,uV=Jz,dV=eV;const $e=khe,Re=The,De=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(iV,{ref:s,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Ohe,{asChild:!0,children:r.jsx(nb,{className:"h-4 w-4 opacity-50"})})]}));De.displayName=iV.displayName;const hV=w.forwardRef(({className:e,...t},n)=>r.jsx(cV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Rte,{className:"h-4 w-4"})}));hV.displayName=cV.displayName;const fV=w.forwardRef(({className:e,...t},n)=>r.jsx(uV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(nb,{className:"h-4 w-4"})}));fV.displayName=uV.displayName;const Me=w.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(Dhe,{children:r.jsxs(aV,{ref:i,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(hV,{}),r.jsx(Mhe,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(fV,{})]})}));Me.displayName=aV.displayName;const Rhe=w.forwardRef(({className:e,...t},n)=>r.jsx(oV,{ref:n,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Rhe.displayName=oV.displayName;const Y=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(lV,{ref:s,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx($he,{children:r.jsx(SA,{className:"h-4 w-4"})})}),r.jsx(Ihe,{children:t})]}));Y.displayName=lV.displayName;const Lhe=w.forwardRef(({className:e,...t},n)=>r.jsx(dV,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));Lhe.displayName=dV.displayName;const Fhe=ev("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:t,...n}){return r.jsx("div",{className:Ze(Fhe({variant:t}),e),...n})}const ry="vetpro-clinicSettings",mV={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","quin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins  viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbliarde","Normande","Simmental"],"Bovins  viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Pitrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitire","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle franais","Arabe","Quarter Horse"],Lapins:["No-Zlandais","Californien","Fauve de Bourgogne","Gant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-tre animal","Global GAP","IFS Food","BRC Food","ufs de France"],equipmentTypes:["Tracteur","Moissonneuse","pandeur","Charrue","Systme de traite","Tank  lait","Systme d'alimentation automatique","Ventilation","Gnrateur","Systme d'irrigation","Matriel de rcolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},pV={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},gV={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},z2=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],sy={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:z2,farmManagement:mV,displayPreferences:pV,defaultConsultationPrice:150,scheduleSettings:gV},vV=w.createContext(void 0),Bhe=({children:e})=>{const[t,n]=w.useState(sy);w.useEffect(()=>{const i=localStorage.getItem(ry);if(i)try{const a=JSON.parse(i),o={...sy,...a,veterinarians:a.veterinarians&&a.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?z2:a.veterinarians||z2,farmManagement:{...mV,...a.farmManagement},displayPreferences:{...pV,...a.displayPreferences},scheduleSettings:{...gV,...a.scheduleSettings}};n(o),localStorage.setItem(ry,JSON.stringify(o))}catch(a){console.error("Erreur lors du chargement des paramtres:",a),n(sy)}else localStorage.setItem(ry,JSON.stringify(sy))},[]);const s=i=>{n(i),localStorage.setItem(ry,JSON.stringify(i))};return r.jsx(vV.Provider,{value:{settings:t,updateSettings:s},children:e})},Wt=()=>{const e=w.useContext(vV);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};var Ob="Checkbox",[zhe,g6e]=Xs(Ob),[Vhe,gE]=zhe(Ob);function Uhe(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,g]=ho({prop:n,defaultProp:i??!1,onChange:c,caller:Ob}),[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useRef(!1),b=x?!!o||!!x.closest("form"):!0,P={checked:m,disabled:a,setChecked:g,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:fc(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:N};return r.jsx(Vhe,{scope:t,...P,children:qhe(f)?f(P):s})}var xV="CheckboxTrigger",yV=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:x}=gE(xV,e),v=Qt(i,d),y=w.useRef(c);return w.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const j=()=>f(y.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[a,f]),r.jsx(it.button,{type:"button",role:"checkbox","aria-checked":fc(c)?"mixed":c,"aria-required":u,"data-state":SV(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:He(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:He(n,N=>{f(j=>fc(j)?!0:!j),x&&g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})})});yV.displayName=xV;var vE=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return r.jsx(Uhe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(yV,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(NV,{__scopeCheckbox:n})]})})});vE.displayName=Ob;var jV="CheckboxIndicator",bV=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=gE(jV,n);return r.jsx(Js,{present:s||fc(a.checked)||a.checked===!0,children:r.jsx(it.span,{"data-state":SV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});bV.displayName=jV;var wV="CheckboxBubbleInput",NV=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:g}=gE(wV,e),x=Qt(n,g),v=mE(a),y=$A(s);w.useEffect(()=>{const j=m;if(!j)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,A=!i.current;if(v!==a&&C){const _=new Event("click",{bubbles:A});j.indeterminate=fc(a),C.call(j,fc(a)?!1:a),j.dispatchEvent(_)}},[m,v,a,i]);const N=w.useRef(fc(a)?!1:a);return r.jsx(it.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});NV.displayName=wV;function qhe(e){return typeof e=="function"}function fc(e){return e==="indeterminate"}function SV(e){return fc(e)?"indeterminate":e?"checked":"unchecked"}const Gi=w.forwardRef(({className:e,...t},n)=>r.jsx(vE,{ref:n,className:Ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(bV,{className:Ze("flex items-center justify-center text-current"),children:r.jsx(SA,{className:"h-4 w-4"})})}));Gi.displayName=vE.displayName;const Whe=async()=>{const{data:e,error:t}=await ks.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},Hhe=async()=>{const{data:e,error:t}=await ks.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},Ghe=async e=>{const{data:{user:t}}=await ks.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await ks.from("animals").insert({...e,user_id:t.id,sterilized:e.sterilized||!1,status:"vivant"}).select(`
      *,
      client:clients(*)
    `).single();if(s)throw new Error(`Error creating animal: ${s.message}`);return n},Xd={all:["clients"],lists:()=>[...Xd.all,"list"],list:e=>[...Xd.lists(),{filters:e}],details:()=>[...Xd.all,"detail"],detail:e=>[...Xd.details(),e],search:e=>[...Xd.all,"search",e]},Ya={all:["animals"],lists:()=>[...Ya.all,"list"],list:e=>[...Ya.lists(),{filters:e}],details:()=>[...Ya.all,"detail"],detail:e=>[...Ya.details(),e],byClient:e=>[...Ya.all,"client",e],search:e=>[...Ya.all,"search",e]},CV={all:["stats"],clients:()=>[...CV.all,"clients"]},xE={all:["userProfile"],profile:()=>[...xE.all,"profile"]},yE=()=>db({queryKey:Xd.lists(),queryFn:Whe,staleTime:5*60*1e3}),PV=()=>db({queryKey:Ya.lists(),queryFn:Hhe,staleTime:5*60*1e3}),Khe=()=>{const e=_c();return rv({mutationFn:Ghe,onSuccess:t=>{e.invalidateQueries({queryKey:Ya.lists()}),e.setQueryData(Ya.detail(t.id),t),e.invalidateQueries({queryKey:Ya.byClient(t.client_id)}),e.invalidateQueries({queryKey:CV.clients()})}})},Yhe=()=>db({queryKey:xE.profile(),queryFn:_b,staleTime:5*60*1e3}),Qhe=()=>{const e=_c();return rv({mutationFn:t=>Dde(t),onSuccess:t=>{e.setQueryData(xE.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})};function fv({open:e,onOpenChange:t}){const{data:n=[]}=yE(),s=Khe(),{settings:i}=Wt(),{toast:a}=Ut(),[o,l]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),c=f=>{l(m=>({...m,[f.target.id]:f.target.value}))},u=(f,m)=>{l(g=>({...g,[f]:m}))},d=async f=>{if(f.preventDefault(),!n.find(g=>g.id===o.ownerId)){a({title:"Erreur",description:"Veuillez slectionner un propritaire valide."});return}try{const g={client_id:o.ownerId,name:o.name,species:o.type,breed:o.breed||void 0,color:o.color||void 0,sex:o.gender==="male"?"Mle":o.gender==="female"?"Femelle":"Inconnu",weight:o.weight?Number(o.weight):void 0,birth_date:o.birthDate||void 0,microchip_number:o.microchip||void 0,notes:o.medicalNotes||void 0,photo_url:o.photo||void 0};await s.mutateAsync(g),a({title:"Animal ajout",description:`${o.name} a t ajout et sauvegard avec succs.`}),l({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{a({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Nouvel Animal"}),r.jsx(Cn,{children:"Ajoutez un nouvel animal  votre base de donnes."})]}),r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(se,{id:"name",value:o.name,onChange:c,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Type d'animal *"}),r.jsxs($e,{value:o.type,onValueChange:f=>u("type",f),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner le type"})}),r.jsx(Me,{children:i.species?i.species.split(",").map((f,m)=>{const g=f.trim();return g?r.jsx(Y,{value:g,children:g},m):null}).filter(Boolean):r.jsx(Y,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"breed",children:"Race"}),r.jsx(se,{id:"breed",value:o.breed,onChange:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Sexe"}),r.jsxs($e,{value:o.gender,onValueChange:f=>u("gender",f),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner le sexe"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"male",children:"Mle"}),r.jsx(Y,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(se,{id:"birthDate",type:"date",value:o.birthDate,onChange:c,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",value:o.weight,onChange:c})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"color",children:"Couleur"}),r.jsx(se,{id:"color",value:o.color,onChange:c})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Propritaire *"}),n.length===0?r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):r.jsxs($e,{value:o.ownerId.toString(),onValueChange:f=>u("ownerId",f),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner le propritaire"})}),r.jsx(Me,{children:n.map(f=>r.jsxs(Y,{value:f.id.toString(),children:[f.first_name," ",f.last_name," - ",f.email]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"microchip",children:"Numro de puce lectronique"}),r.jsx(se,{id:"microchip",value:o.microchip,onChange:c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"medicalNotes",children:"Notes mdicales"}),r.jsx(St,{id:"medicalNotes",value:o.medicalNotes,onChange:c,placeholder:"Allergies, conditions mdicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gi,{id:"hasPedigree",checked:o.hasPedigree,onCheckedChange:f=>l(m=>({...m,hasPedigree:f}))}),r.jsx(V,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),o.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:o.officialName,onChange:c,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"pedigreeNumber",children:"N pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:o.pedigreeNumber,onChange:c,placeholder:"Numro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"breeder",children:"leveur"}),r.jsx(se,{id:"breeder",value:o.breeder,onChange:c,placeholder:"Nom de l'leveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Pre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du pre",value:o.fatherName,onChange:c}),r.jsx(se,{placeholder:"N pedigree du pre",value:o.fatherPedigree,onChange:c}),r.jsx(se,{placeholder:"Race du pre",value:o.fatherBreed,onChange:c}),r.jsx(St,{placeholder:"Titres du pre",value:o.fatherTitles,onChange:c,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mre",value:o.motherName,onChange:c}),r.jsx(se,{placeholder:"N pedigree de la mre",value:o.motherPedigree,onChange:c}),r.jsx(se,{placeholder:"Race de la mre",value:o.motherBreed,onChange:c}),r.jsx(St,{placeholder:"Titres de la mre",value:o.motherTitles,onChange:c,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async f=>{var x;const m=(x=f.target.files)==null?void 0:x[0];if(!m)return;const g=new FileReader;g.onload=()=>l(v=>({...v,pedigreePhoto:g.result})),g.readAsDataURL(m)}}),o.pedigreePhoto&&r.jsx("img",{src:o.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Photo de l'animal"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async f=>{var x;const m=(x=f.target.files)==null?void 0:x[0];if(!m)return;const g=new FileReader;g.onload=()=>l(v=>({...v,photo:g.result})),g.readAsDataURL(m)}}),o.photo&&r.jsx("img",{src:o.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Ajouter Animal"})]})]})]})})}function jE(e,t,n){const s=[],{openingTime:i,closingTime:a,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=iy(i),d=iy(a),f=l?iy(l):null,m=c?iy(c):null;for(let g=u;g<d;g+=o){const x=Jhe(g),v=f&&m&&g>=f&&g<m,y=n.some(N=>N.date===e&&N.time===x);s.push({time:x,isAvailable:!y&&!v,isLunchBreak:!!v})}return s}function Xhe(e,t,n,s){const a=jE(e,n,s).find(o=>o.time===t);return a?a.isAvailable:!1}function iy(e){const[t,n]=e.split(":").map(Number);return t*60+n}function Jhe(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function Zhe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function efe(e,t){const n=Zhe(e).toLowerCase();return t.workingDays.includes(n)}function bE({open:e,onOpenChange:t,prefillClientId:n,prefillPetId:s,prefillType:i,prefillReason:a,originalVaccinationId:o}){var ie,L;const{clients:l,pets:c,addAppointment:u,getPetsByOwnerId:d,createVaccinationReminder:f,appointments:m}=ft(),{settings:g}=Wt(),{toast:x}=Ut(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,P]=w.useState([]),[C,A]=w.useState({clientId:0,petId:0,date:"",time:"",type:"",duration:30,reason:"",notes:""}),[_,E]=w.useState([]),[O,I]=w.useState([]);w.useEffect(()=>{e&&(A({clientId:n||0,petId:s||0,date:"",time:"",type:i||"",duration:30,reason:a||"",notes:""}),E([]),I([]))},[e,n,s,i,a]),w.useEffect(()=>{if(e&&n&&s){const z=d(n);E(z);const le=z.find(pe=>pe.id===s);A(le?pe=>({...pe,petId:s}):pe=>({...pe,petId:0}))}},[e,n,s,d]),w.useEffect(()=>{if(C.clientId>0){const z=d(C.clientId);E(z),(!s||!z.find(le=>le.id===s))&&A(le=>({...le,petId:0}))}else E([])},[C.clientId,d,s]),w.useEffect(()=>{if(C.date){const z=jE(C.date,g.scheduleSettings,m);P(z),C.time&&!Xhe(C.date,C.time,g.scheduleSettings,m)&&A(le=>({...le,time:""}))}else P([])},[C.date,g.scheduleSettings,m]),w.useEffect(()=>{C.date&&C.time&&C.duration&&D()},[C.date,C.time,C.duration]);const D=()=>{const z=[],le=new Date(`${C.date}T${C.time}`),pe=new Date(le.getTime()+C.duration*6e4),ee=le.getHours(),J=pe.getHours();(ee<8||J>18)&&z.push("Le rendez-vous doit tre entre 8h00 et 18h00");const te=le.getDay();(te===0||te===6)&&z.push("Pas de rendez-vous le weekend"),I(z)},k=z=>{A(le=>({...le,[z.target.id]:z.target.value}))},F=(z,le)=>{A(pe=>({...pe,[z]:z==="clientId"||z==="petId"||z==="duration"?parseInt(le):le}))},$=z=>{if(z.preventDefault(),O.length>0){x({title:"Conflits dtects",description:O.join(", "),variant:"destructive"});return}if(!C.clientId||!C.petId||!C.date||!C.time||!C.type){x({title:"Informations manquantes",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const le=l.find(ee=>ee.id===C.clientId),pe=c.find(ee=>ee.id===C.petId);if(!le||!pe){x({title:"Erreur",description:"Client ou animal non trouv.",variant:"destructive"});return}u({clientId:C.clientId,clientName:le.name,petId:C.petId,petName:pe.name,date:C.date,time:C.time,type:C.type,duration:C.duration,reason:C.reason,notes:C.notes,status:"scheduled",reminderSent:!1}),i==="vaccination"&&o&&(f(o,C.date,C.time),x({title:"Rappel enregistr",description:"Le rappel de vaccination a t ajout."})),x({title:"Rendez-vous planifi",description:`RDV pour ${pe.name} (${le.name}) prvu le ${C.date}  ${C.time}.`}),t(!1)},Q=()=>new Date().toISOString().split("T")[0],U=z=>({consultation:"Consultation gnrale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrle post-opratoire",sterilisation:"Strilisation",dentaire:"Soins dentaires"})[z]||z;return r.jsxs(r.Fragment,{children:[r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(Cn,{children:"Planifiez un nouveau rendez-vous pour un client et son animal."})]}),r.jsxs("form",{onSubmit:$,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Client *"}),l.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible."}),r.jsxs(H,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>y(!0),children:[r.jsx(bt,{className:"h-3 w-3"}),"Ajouter Client"]})]}):r.jsxs($e,{value:C.clientId.toString(),onValueChange:z=>F("clientId",z),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner le client"})}),r.jsx(Me,{children:l.map(z=>r.jsx(Y,{value:z.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-3 w-3"}),z.name]})},z.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Animal *"}),C.clientId===0?r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:r.jsx("p",{className:"text-gray-600 text-sm",children:"Slectionnez d'abord un client"})}):_.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun animal pour ce client."}),r.jsxs(H,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>j(!0),children:[r.jsx(bt,{className:"h-3 w-3"}),"Ajouter Animal"]})]}):r.jsxs($e,{value:C.petId.toString(),onValueChange:z=>F("petId",z),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner l'animal"})}),r.jsx(Me,{children:_.map(z=>r.jsx(Y,{value:z.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-3 w-3"}),z.name," (",z.type,")"]})},z.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:C.date,onChange:k,min:Q(),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"time",children:"Heure *"}),C.date?r.jsxs("div",{className:"space-y-2",children:[r.jsxs($e,{value:C.time,onValueChange:z=>A(le=>({...le,time:z})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un crneau"})}),r.jsx(Me,{className:"max-h-60",children:b.map(z=>r.jsx(Y,{value:z.time,disabled:!z.isAvailable,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:z.time}),z.isLunchBreak&&r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Pause"}),!z.isAvailable&&r.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Occup"})]})},z.time))})]}),b.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun crneau disponible pour cette date"})]}):r.jsx(se,{id:"time",type:"time",value:C.time,onChange:k,disabled:!0,placeholder:"Slectionnez d'abord une date"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Type de consultation *"}),r.jsxs($e,{value:C.type,onValueChange:z=>F("type",z),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Type de RDV"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"consultation",children:"Consultation gnrale"}),r.jsx(Y,{value:"vaccination",children:"Vaccination"}),r.jsx(Y,{value:"chirurgie",children:"Chirurgie"}),r.jsx(Y,{value:"urgence",children:"Urgence"}),r.jsx(Y,{value:"controle",children:"Contrle post-opratoire"}),r.jsx(Y,{value:"sterilisation",children:"Strilisation"}),r.jsx(Y,{value:"dentaire",children:"Soins dentaires"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Dure (minutes)"}),r.jsxs($e,{value:C.duration.toString(),onValueChange:z=>F("duration",z),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"15",children:"15 minutes"}),r.jsx(Y,{value:"30",children:"30 minutes"}),r.jsx(Y,{value:"45",children:"45 minutes"}),r.jsx(Y,{value:"60",children:"1 heure"}),r.jsx(Y,{value:"90",children:"1h30"}),r.jsx(Y,{value:"120",children:"2 heures"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"reason",children:"Motif de consultation"}),r.jsx(se,{id:"reason",value:C.reason,onChange:k,placeholder:"ex: Vaccination annuelle, boiterie, contrle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:C.notes,onChange:k,placeholder:"Instructions spciales, prparation ncessaire..."})]}),O.length>0&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(Ri,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Conflits dtects :"})]}),r.jsx("ul",{className:"mt-2 text-sm text-red-700",children:O.map((z,le)=>r.jsxs("li",{children:[" ",z]},le))})]}),C.clientId&&C.petId&&C.date&&C.time&&C.type&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Rsum du rendez-vous :"}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Client :"})," ",(ie=l.find(z=>z.id===C.clientId))==null?void 0:ie.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animal :"})," ",(L=c.find(z=>z.id===C.petId))==null?void 0:L.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",new Date(C.date).toLocaleDateString("fr-FR")]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Heure :"})," ",C.time]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type :"})," ",U(C.type)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Dure :"})," ",C.duration," minutes"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",disabled:O.length>0,children:"Planifier RDV"})]})]})]})}),r.jsx(hv,{open:v,onOpenChange:y}),r.jsx(fv,{open:N,onOpenChange:j})]})}var AI=1,tfe=.9,nfe=.8,rfe=.17,vS=.1,xS=.999,sfe=.9999,ife=.99,afe=/[\\\/_+.#"@\[\(\{&]/,ofe=/[\\\/_+.#"@\[\(\{&]/g,lfe=/[\s-]/,_V=/[\s-]/g;function V2(e,t,n,s,i,a,o){if(a===t.length)return i===e.length?AI:ife;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(a),u=n.indexOf(c,i),d=0,f,m,g,x;u>=0;)f=V2(e,t,n,s,u+1,a+1,o),f>d&&(u===i?f*=AI:afe.test(e.charAt(u-1))?(f*=nfe,g=e.slice(i,u-1).match(ofe),g&&i>0&&(f*=Math.pow(xS,g.length))):lfe.test(e.charAt(u-1))?(f*=tfe,x=e.slice(i,u-1).match(_V),x&&i>0&&(f*=Math.pow(xS,x.length))):(f*=rfe,i>0&&(f*=Math.pow(xS,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=sfe)),(f<vS&&n.charAt(u-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(u-1)!==s.charAt(a))&&(m=V2(e,t,n,s,u+1,a+2,o),m*vS>f&&(f=m*vS)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function EI(e){return e.toLowerCase().replace(_V," ")}function cfe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,V2(e,t,EI(e),EI(t),0,0,{})}var qm='[cmdk-group=""]',yS='[cmdk-group-items=""]',ufe='[cmdk-group-heading=""]',AV='[cmdk-item=""]',kI=`${AV}:not([aria-disabled="true"])`,U2="cmdk-item-select",Jd="data-value",dfe=(e,t,n)=>cfe(e,t,n),EV=w.createContext(void 0),mv=()=>w.useContext(EV),kV=w.createContext(void 0),wE=()=>w.useContext(kV),TV=w.createContext(void 0),OV=w.forwardRef((e,t)=>{let n=Zd(()=>{var ee,J;return{search:"",value:(J=(ee=e.value)!=null?ee:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Zd(()=>new Set),i=Zd(()=>new Map),a=Zd(()=>new Map),o=Zd(()=>new Set),l=DV(e),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:g,loop:x,disablePointerSelection:v=!1,vimBindings:y=!0,...N}=e,j=Zr(),b=Zr(),P=Zr(),C=w.useRef(null),A=wfe();Hu(()=>{if(d!==void 0){let ee=d.trim();n.current.value=ee,_.emit()}},[d]),Hu(()=>{A(6,F)},[]);let _=w.useMemo(()=>({subscribe:ee=>(o.current.add(ee),()=>o.current.delete(ee)),snapshot:()=>n.current,setState:(ee,J,te)=>{var xe,ve,re,B;if(!Object.is(n.current[ee],J)){if(n.current[ee]=J,ee==="search")k(),I(),A(1,D);else if(ee==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let X=document.getElementById(P);X?X.focus():(xe=document.getElementById(j))==null||xe.focus()}if(A(7,()=>{var X;n.current.selectedItemId=(X=$())==null?void 0:X.id,_.emit()}),te||A(5,F),((ve=l.current)==null?void 0:ve.value)!==void 0){let X=J??"";(B=(re=l.current).onValueChange)==null||B.call(re,X);return}}_.emit()}},emit:()=>{o.current.forEach(ee=>ee())}}),[]),E=w.useMemo(()=>({value:(ee,J,te)=>{var xe;J!==((xe=a.current.get(ee))==null?void 0:xe.value)&&(a.current.set(ee,{value:J,keywords:te}),n.current.filtered.items.set(ee,O(J,te)),A(2,()=>{I(),_.emit()}))},item:(ee,J)=>(s.current.add(ee),J&&(i.current.has(J)?i.current.get(J).add(ee):i.current.set(J,new Set([ee]))),A(3,()=>{k(),I(),n.current.value||D(),_.emit()}),()=>{a.current.delete(ee),s.current.delete(ee),n.current.filtered.items.delete(ee);let te=$();A(4,()=>{k(),(te==null?void 0:te.getAttribute("id"))===ee&&D(),_.emit()})}),group:ee=>(i.current.has(ee)||i.current.set(ee,new Set),()=>{a.current.delete(ee),i.current.delete(ee)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:j,inputId:P,labelId:b,listInnerRef:C}),[]);function O(ee,J){var te,xe;let ve=(xe=(te=l.current)==null?void 0:te.filter)!=null?xe:dfe;return ee?ve(ee,n.current.search,J):0}function I(){if(!n.current.search||l.current.shouldFilter===!1)return;let ee=n.current.filtered.items,J=[];n.current.filtered.groups.forEach(xe=>{let ve=i.current.get(xe),re=0;ve.forEach(B=>{let X=ee.get(B);re=Math.max(X,re)}),J.push([xe,re])});let te=C.current;Q().sort((xe,ve)=>{var re,B;let X=xe.getAttribute("id"),ye=ve.getAttribute("id");return((re=ee.get(ye))!=null?re:0)-((B=ee.get(X))!=null?B:0)}).forEach(xe=>{let ve=xe.closest(yS);ve?ve.appendChild(xe.parentElement===ve?xe:xe.closest(`${yS} > *`)):te.appendChild(xe.parentElement===te?xe:xe.closest(`${yS} > *`))}),J.sort((xe,ve)=>ve[1]-xe[1]).forEach(xe=>{var ve;let re=(ve=C.current)==null?void 0:ve.querySelector(`${qm}[${Jd}="${encodeURIComponent(xe[0])}"]`);re==null||re.parentElement.appendChild(re)})}function D(){let ee=Q().find(te=>te.getAttribute("aria-disabled")!=="true"),J=ee==null?void 0:ee.getAttribute(Jd);_.setState("value",J||void 0)}function k(){var ee,J,te,xe;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ve=0;for(let re of s.current){let B=(J=(ee=a.current.get(re))==null?void 0:ee.value)!=null?J:"",X=(xe=(te=a.current.get(re))==null?void 0:te.keywords)!=null?xe:[],ye=O(B,X);n.current.filtered.items.set(re,ye),ye>0&&ve++}for(let[re,B]of i.current)for(let X of B)if(n.current.filtered.items.get(X)>0){n.current.filtered.groups.add(re);break}n.current.filtered.count=ve}function F(){var ee,J,te;let xe=$();xe&&(((ee=xe.parentElement)==null?void 0:ee.firstChild)===xe&&((te=(J=xe.closest(qm))==null?void 0:J.querySelector(ufe))==null||te.scrollIntoView({block:"nearest"})),xe.scrollIntoView({block:"nearest"}))}function $(){var ee;return(ee=C.current)==null?void 0:ee.querySelector(`${AV}[aria-selected="true"]`)}function Q(){var ee;return Array.from(((ee=C.current)==null?void 0:ee.querySelectorAll(kI))||[])}function U(ee){let J=Q()[ee];J&&_.setState("value",J.getAttribute(Jd))}function ie(ee){var J;let te=$(),xe=Q(),ve=xe.findIndex(B=>B===te),re=xe[ve+ee];(J=l.current)!=null&&J.loop&&(re=ve+ee<0?xe[xe.length-1]:ve+ee===xe.length?xe[0]:xe[ve+ee]),re&&_.setState("value",re.getAttribute(Jd))}function L(ee){let J=$(),te=J==null?void 0:J.closest(qm),xe;for(;te&&!xe;)te=ee>0?jfe(te,qm):bfe(te,qm),xe=te==null?void 0:te.querySelector(kI);xe?_.setState("value",xe.getAttribute(Jd)):ie(ee)}let z=()=>U(Q().length-1),le=ee=>{ee.preventDefault(),ee.metaKey?z():ee.altKey?L(1):ie(1)},pe=ee=>{ee.preventDefault(),ee.metaKey?U(0):ee.altKey?L(-1):ie(-1)};return w.createElement(it.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:ee=>{var J;(J=N.onKeyDown)==null||J.call(N,ee);let te=ee.nativeEvent.isComposing||ee.keyCode===229;if(!(ee.defaultPrevented||te))switch(ee.key){case"n":case"j":{y&&ee.ctrlKey&&le(ee);break}case"ArrowDown":{le(ee);break}case"p":case"k":{y&&ee.ctrlKey&&pe(ee);break}case"ArrowUp":{pe(ee);break}case"Home":{ee.preventDefault(),U(0);break}case"End":{ee.preventDefault(),z();break}case"Enter":{ee.preventDefault();let xe=$();if(xe){let ve=new Event(U2);xe.dispatchEvent(ve)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:Sfe},c),Db(e,ee=>w.createElement(kV.Provider,{value:_},w.createElement(EV.Provider,{value:E},ee))))}),hfe=w.forwardRef((e,t)=>{var n,s;let i=Zr(),a=w.useRef(null),o=w.useContext(TV),l=mv(),c=DV(e),u=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Hu(()=>{if(!u)return l.item(i,o==null?void 0:o.id)},[u]);let d=MV(i,a,[e.value,e.children,a],e.keywords),f=wE(),m=bc(A=>A.value&&A.value===d.current),g=bc(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);w.useEffect(()=>{let A=a.current;if(!(!A||e.disabled))return A.addEventListener(U2,x),()=>A.removeEventListener(U2,x)},[g,e.onSelect,e.disabled]);function x(){var A,_;v(),(_=(A=c.current).onSelect)==null||_.call(A,d.current)}function v(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:y,value:N,onSelect:j,forceMount:b,keywords:P,...C}=e;return w.createElement(it.div,{ref:el(a,t),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||l.getDisablePointerSelection()?void 0:v,onClick:y?void 0:x},e.children)}),ffe=w.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:i,...a}=e,o=Zr(),l=w.useRef(null),c=w.useRef(null),u=Zr(),d=mv(),f=bc(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Hu(()=>d.group(o),[]),MV(o,l,[e.value,e.heading,c]);let m=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(it.div,{ref:el(l,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Db(e,g=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(TV.Provider,{value:m},g))))}),mfe=w.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,i=w.useRef(null),a=bc(o=>!o.search);return!n&&!a?null:w.createElement(it.div,{ref:el(i,t),...s,"cmdk-separator":"",role:"separator"})}),pfe=w.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,i=e.value!=null,a=wE(),o=bc(u=>u.search),l=bc(u=>u.selectedItemId),c=mv();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(it.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),gfe=w.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),l=bc(u=>u.selectedItemId),c=mv();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),w.createElement(it.div,{ref:el(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},Db(e,u=>w.createElement("div",{ref:el(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),vfe=w.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:o,...l}=e;return w.createElement(Pz,{open:n,onOpenChange:s},w.createElement(_z,{container:o},w.createElement(hE,{"cmdk-overlay":"",className:i}),w.createElement(fE,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(OV,{ref:t,...l}))))}),xfe=w.forwardRef((e,t)=>bc(n=>n.filtered.count===0)?w.createElement(it.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),yfe=w.forwardRef((e,t)=>{let{progress:n,children:s,label:i="Loading...",...a}=e;return w.createElement(it.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Db(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),Zs=Object.assign(OV,{List:gfe,Item:hfe,Input:pfe,Group:ffe,Separator:mfe,Dialog:vfe,Empty:xfe,Loading:yfe});function jfe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function bfe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function DV(e){let t=w.useRef(e);return Hu(()=>{t.current=e}),t}var Hu=typeof window>"u"?w.useEffect:w.useLayoutEffect;function Zd(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function bc(e){let t=wE(),n=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,n,n)}function MV(e,t,n,s=[]){let i=w.useRef(),a=mv();return Hu(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=s.map(u=>u.trim());a.value(e,l,c),(o=t.current)==null||o.setAttribute(Jd,l),i.current=l}),i}var wfe=()=>{let[e,t]=w.useState(),n=Zd(()=>new Map);return Hu(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,i)=>{n.current.set(s,i),t({})}};function Nfe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Db({asChild:e,children:t},n){return e&&w.isValidElement(t)?w.cloneElement(Nfe(t),{ref:t.ref},n(t.props.children)):n(t)}var Sfe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Mb=w.forwardRef(({className:e,...t},n)=>r.jsx(Zs,{ref:n,className:Ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Mb.displayName=Zs.displayName;const Ib=w.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(fr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(Zs.Input,{ref:n,className:Ze("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Ib.displayName=Zs.Input.displayName;const $b=w.forwardRef(({className:e,...t},n)=>r.jsx(Zs.List,{ref:n,className:Ze("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));$b.displayName=Zs.List.displayName;const Rb=w.forwardRef((e,t)=>r.jsx(Zs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Rb.displayName=Zs.Empty.displayName;const Lb=w.forwardRef(({className:e,...t},n)=>r.jsx(Zs.Group,{ref:n,className:Ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Lb.displayName=Zs.Group.displayName;const Cfe=w.forwardRef(({className:e,...t},n)=>r.jsx(Zs.Separator,{ref:n,className:Ze("-mx-1 h-px bg-border",e),...t}));Cfe.displayName=Zs.Separator.displayName;const nf=w.forwardRef(({className:e,...t},n)=>r.jsx(Zs.Item,{ref:n,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));nf.displayName=Zs.Item.displayName;var Fb="Popover",[IV,v6e]=Xs(Fb,[Pc]),pv=Pc(),[Pfe,Ic]=IV(Fb),$V=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=pv(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,m]=ho({prop:s,defaultProp:i??!1,onChange:a,caller:Fb});return r.jsx(FA,{...l,children:r.jsx(Pfe,{scope:t,contentId:Zr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};$V.displayName=Fb;var RV="PopoverAnchor",_fe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ic(RV,n),a=pv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(nv,{...a,...s,ref:t})});_fe.displayName=RV;var LV="PopoverTrigger",FV=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ic(LV,n),a=pv(n),o=Qt(t,i.triggerRef),l=r.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qV(i.open),...s,ref:o,onClick:He(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(nv,{asChild:!0,...a,children:l})});FV.displayName=LV;var NE="PopoverPortal",[Afe,Efe]=IV(NE,{forceMount:void 0}),BV=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=Ic(NE,t);return r.jsx(Afe,{scope:t,forceMount:n,children:r.jsx(Js,{present:n||a.open,children:r.jsx(If,{asChild:!0,container:i,children:s})})})};BV.displayName=NE;var rf="PopoverContent",zV=w.forwardRef((e,t)=>{const n=Efe(rf,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=Ic(rf,e.__scopePopover);return r.jsx(Js,{present:s||a.open,children:a.modal?r.jsx(Tfe,{...i,ref:t}):r.jsx(Ofe,{...i,ref:t})})});zV.displayName=rf;var kfe=vc("PopoverContent.RemoveScroll"),Tfe=w.forwardRef((e,t)=>{const n=Ic(rf,e.__scopePopover),s=w.useRef(null),i=Qt(t,s),a=w.useRef(!1);return w.useEffect(()=>{const o=s.current;if(o)return vb(o)},[]),r.jsx(av,{as:kfe,allowPinchZoom:!0,children:r.jsx(VV,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ofe=w.forwardRef((e,t)=>{const n=Ic(rf,e.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(VV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),VV=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Ic(rf,n),g=pv(n);return pb(),r.jsx(sv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(id,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(ob,{"data-state":qV(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),UV="PopoverClose",Dfe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ic(UV,n);return r.jsx(it.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});Dfe.displayName=UV;var Mfe="PopoverArrow",Ife=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=pv(n);return r.jsx(lb,{...i,...s,ref:t})});Ife.displayName=Mfe;function qV(e){return e?"open":"closed"}var $fe=$V,Rfe=FV,Lfe=BV,WV=zV;const SE=$fe,CE=Rfe,Bb=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(Lfe,{children:r.jsx(WV,{ref:i,align:t,sideOffset:n,className:Ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Bb.displayName=WV.displayName;function zb({open:e,onOpenChange:t,petId:n,consultationId:s}){const{clients:i,pets:a,consultations:o,addPrescription:l,stockItems:c,updateStockItem:u}=ft(),{toast:d}=Ut(),{settings:f}=Wt(),[m,g]=w.useState({consultationId:s||0,clientId:0,petId:n,date:new Date().toISOString().split("T")[0],prescribedBy:f.veterinarians.length>0?f.veterinarians[0].name:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",notes:""}),[x,v]=w.useState([{name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprims",refills:0,cost:0,isInStock:!1,stockQuantity:0,stockDeducted:!1}]),[y,N]=w.useState({}),j=a.find(k=>k.id===n),b=j?i.find(k=>k.pets.some(F=>F.id===n)):null;w.useEffect(()=>{j&&b&&g(k=>({...k,clientId:b.id}))},[j,b]);const P=c.filter(k=>(k.category==="medication"||k.category==="supplement")&&(k.currentStock||0)>0),C=(k,F)=>{g($=>({...$,[k]:F}))},A=(k,F,$)=>{const Q=[...x];if(F==="quantity"||F==="refills"||F==="cost"){const U=typeof $=="string"?parseFloat($)||0:$;Q[k]={...Q[k],[F]:U}}else F==="stockDeducted"?Q[k]={...Q[k],[F]:$}:Q[k]={...Q[k],[F]:$};if(F==="name"){const U=P.find(ie=>ie.name===$);U?Q[k]={...Q[k],isInStock:!0,stockQuantity:U.currentStock||0,cost:U.sellingPrice||0,stockDeducted:!0}:Q[k]={...Q[k],isInStock:!1,stockQuantity:0,stockDeducted:!1}}v(Q)},_=()=>{v([...x,{name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprims",refills:0,cost:0,isInStock:!1,stockQuantity:0,stockDeducted:!1}])},E=k=>{x.length>1&&v(x.filter((F,$)=>$!==k))},O=(k,F)=>{A(k,"name",F.name),N($=>({...$,[k]:!1}))},I=k=>{const F=k.toLowerCase();return F.includes("vitamine")||F.includes("vitamin")?["1 comprim","2 comprims","1ml","2ml","1 goutte","2 gouttes"]:F.includes("antibiotique")||F.includes("antibiotic")?["50mg","100mg","250mg","500mg","1 comprim","2 comprims"]:F.includes("anti-inflammatoire")||F.includes("anti-inflammatory")?["25mg","50mg","100mg","1 comprim","2 comprims","1ml"]:F.includes("vermifuge")||F.includes("dewormer")?["1 comprim","2 comprims","1ml","2ml","1 pipette"]:F.includes("pommade")||F.includes("cream")||F.includes("gel")?["Fine couche","Couche mince","1 application","2 applications"]:F.includes("sirop")||F.includes("syrup")?["1ml","2ml","5ml","1 cuillre","2 cuillres"]:F.includes("goutte")||F.includes("drop")?["1 goutte","2 gouttes","3 gouttes","4 gouttes","5 gouttes"]:F.includes("injection")||F.includes("injectable")?["0.1ml","0.2ml","0.5ml","1ml","2ml"]:["1 comprim","2 comprims","1ml","2ml","50mg","100mg","250mg","500mg"]},D=async k=>{if(k.preventDefault(),!m.diagnosis.trim()){d({title:"Erreur",description:"Le diagnostic est obligatoire.",variant:"destructive"});return}const F=x.filter(U=>U.name.trim()!=="");if(F.length===0){d({title:"Erreur",description:"Au moins un mdicament doit tre spcifi.",variant:"destructive"});return}const $=F.map((U,ie)=>({...U,id:ie+1})),Q={...m,clientName:(b==null?void 0:b.name)||"",petName:(j==null?void 0:j.name)||"",status:"active",medications:$};try{l(Q);let U=0;for(const ie of F)if(ie.isInStock&&ie.stockDeducted){const L=c.find(z=>z.name===ie.name);if(L){const z=Math.max(0,(L.currentStock||0)-ie.quantity);u(L.id,{...L,currentStock:z});const le=ie.cost*ie.quantity;U+=le}}d({title:"Prescription cre",description:`La prescription a t cre avec succs.${U>0?` Cot total: ${U} ${f.currency}`:""}`}),t(!1),g({consultationId:s||0,clientId:0,petId:n,date:new Date().toISOString().split("T")[0],prescribedBy:f.veterinarians.length>0?f.veterinarians[0].name:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",notes:""}),v([{name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprims",refills:0,cost:0,isInStock:!1,stockQuantity:0,stockDeducted:!1}])}catch{d({title:"Erreur",description:"Une erreur est survenue lors de la cration de la prescription.",variant:"destructive"})}};return!j||!b?null:r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(Ho,{className:"h-5 w-5"}),"Nouvelle Prescription"]}),r.jsxs(Cn,{children:["Prescription pour ",j.name," - ",b.name]})]}),r.jsxs("form",{onSubmit:D,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Date de prescription *"}),r.jsx(se,{type:"date",value:m.date,onChange:k=>C("date",k.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Prescrit par *"}),r.jsxs($e,{value:m.prescribedBy,onValueChange:k=>C("prescribedBy",k),required:!0,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un vtrinaire"})}),r.jsx(Me,{children:f.veterinarians.length>0?f.veterinarians.map(k=>r.jsx(Y,{value:k.name,children:k.name},k.id)):r.jsx(Y,{value:"",disabled:!0,children:"Aucun vtrinaire configur"})})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Diagnostic *"}),r.jsx(St,{value:m.diagnosis,onChange:k=>C("diagnosis",k.target.value),placeholder:"Diagnostic de l'animal",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Instructions gnrales"}),r.jsx(St,{value:m.instructions,onChange:k=>C("instructions",k.target.value),placeholder:"Instructions gnrales pour le propritaire"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Dure du traitement"}),r.jsx(se,{value:m.duration,onChange:k=>C("duration",k.target.value),placeholder:"ex: 7 jours, 2 semaines..."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Date de suivi"}),r.jsx(se,{type:"date",value:m.followUpDate,onChange:k=>C("followUpDate",k.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Notes"}),r.jsx(se,{value:m.notes,onChange:k=>C("notes",k.target.value),placeholder:"Notes supplmentaires"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Mdicaments"}),r.jsxs(H,{type:"button",onClick:_,variant:"outline",size:"sm",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter un mdicament"]})]}),x.map((k,F)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Mdicament ",F+1]}),k.name&&r.jsx("div",{className:"flex items-center gap-1",children:k.isInStock?r.jsxs(Oe,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"}),"En stock (",k.stockQuantity,")"]}):r.jsxs(Oe,{variant:"destructive",className:"bg-orange-100 text-orange-800 border-orange-200",children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Non disponible en stock"]})})]}),x.length>1&&r.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>E(F),className:"text-red-600 hover:text-red-700",children:r.jsx(zn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Nom du mdicament *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{value:k.name,onChange:$=>A(F,"name",$.target.value),placeholder:"Nom du mdicament",required:!0}),P.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ou slectionner depuis le stock :"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[P.slice(0,5).map($=>r.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>O(F,$),className:"text-xs",children:[$.name,r.jsx(Oe,{variant:"secondary",className:"ml-1 text-xs",children:$.currentStock||0})]},$.id)),P.length>5&&r.jsxs(SE,{children:[r.jsx(CE,{asChild:!0,children:r.jsxs(H,{type:"button",variant:"outline",size:"sm",className:"text-xs",children:["+",P.length-5," autres"]})}),r.jsx(Bb,{className:"w-80 p-0",children:r.jsxs(Mb,{children:[r.jsx(Ib,{placeholder:"Rechercher un mdicament..."}),r.jsxs($b,{children:[r.jsx(Rb,{children:"Aucun mdicament trouv."}),r.jsx(Lb,{children:P.slice(5).map($=>r.jsx(nf,{value:$.name,onSelect:()=>O(F,$),children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{children:$.name}),r.jsxs(Oe,{variant:"outline",className:"ml-2",children:["Stock: ",$.currentStock||0]})]})},$.id))})]})]})})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Dosage *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{value:k.dosage,onChange:$=>A(F,"dosage",$.target.value),placeholder:"ex: 50mg, 100mg, 1 comprim...",required:!0}),k.name&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.jsx("p",{className:"font-medium",children:"Suggestions de dosage :"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:I(k.name).map(($,Q)=>r.jsx(H,{type:"button",variant:"outline",size:"sm",className:"h-6 text-xs px-2",onClick:()=>A(F,"dosage",$),children:$},Q))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Frquence *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{value:k.frequency,onChange:$=>A(F,"frequency",$.target.value),placeholder:"ex: 2x/jour, 3x/jour...",required:!0}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.jsx("p",{className:"font-medium",children:"Suggestions de frquence :"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:["1x/jour","2x/jour","3x/jour","1x/12h","1x/8h","Au besoin"].map($=>r.jsx(H,{type:"button",variant:"outline",size:"sm",className:"h-6 text-xs px-2",onClick:()=>A(F,"frequency",$),children:$},$))})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Quantit"}),r.jsx(se,{type:"number",value:k.quantity,onChange:$=>A(F,"quantity",$.target.value),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Unit"}),r.jsxs($e,{value:k.unit,onValueChange:$=>A(F,"unit",$),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"comprims",children:"Comprims"}),r.jsx(Y,{value:"ml",children:"ml"}),r.jsx(Y,{value:"g",children:"g"}),r.jsx(Y,{value:"mg",children:"mg"}),r.jsx(Y,{value:"ampoules",children:"Ampoules"}),r.jsx(Y,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{children:["Cot unitaire (",f.currency,")"]}),r.jsx(se,{type:"number",step:"0.01",value:k.cost,onChange:$=>A(F,"cost",$.target.value),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Instructions spcifiques"}),r.jsx(se,{value:k.instructions,onChange:$=>A(F,"instructions",$.target.value),placeholder:"ex: Donner avec de la nourriture..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Renouvellements"}),r.jsx(se,{type:"number",value:k.refills,onChange:$=>A(F,"refills",$.target.value),min:"0",placeholder:"0"})]})]}),k.isInStock&&r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[r.jsx("input",{type:"checkbox",id:`stock-deduct-${F}`,checked:k.stockDeducted,onChange:$=>A(F,"stockDeducted",$.target.checked),className:"rounded border-gray-300"}),r.jsxs(V,{htmlFor:`stock-deduct-${F}`,className:"text-sm",children:["Dduire ",k.quantity," ",k.unit," du stock"]}),k.stockDeducted&&r.jsxs(Oe,{variant:"default",className:"ml-2",children:["Stock: ",k.stockQuantity-k.quantity]})]})]},F))]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Crer la prescription"})]})]})]})})}function Gf({open:e,onOpenChange:t}){const{clients:n,pets:s,addConsultation:i}=ft(),{toast:a}=Ut(),{settings:o}=Wt(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:o.defaultConsultationPrice.toString(),notes:"",photos:[]}),v=s.filter(P=>P.ownerId===g.clientId),y=new Date().toISOString().split("T")[0];w.useEffect(()=>{o.defaultConsultationPrice&&!g.cost&&x(P=>({...P,cost:o.defaultConsultationPrice.toString()}))},[o.defaultConsultationPrice,g.cost]);const N=P=>{x(C=>({...C,[P.target.id]:P.target.value}))},j=(P,C)=>{if(P==="clientId"){const A=parseInt(C),_=n.find(E=>E.id===A);x(E=>({...E,clientId:A,clientName:(_==null?void 0:_.name)||"",petId:0,petName:""}))}else if(P==="petId"){const A=parseInt(C),_=s.find(E=>E.id===A);x(E=>({...E,petId:A,petName:(_==null?void 0:_.name)||""}))}else x(A=>({...A,[P]:C}))},b=P=>{if(P.preventDefault(),!g.clientId||!g.petId){a({title:"Erreur",description:"Veuillez slectionner un client et un animal.",variant:"destructive"});return}i({clientId:g.clientId,clientName:g.clientName,petId:g.petId,petName:g.petName,date:g.date||y,weight:g.weight,temperature:g.temperature,symptoms:g.symptoms,diagnosis:g.diagnosis,treatment:g.treatment,medications:"",followUp:g.followUp,cost:g.cost,notes:g.notes,photos:g.photos}),a({title:"Consultation enregistre",description:`Consultation pour ${g.petName} (${g.clientName}) a t enregistre et sauvegarde.`}),x({clientId:0,clientName:"",petId:0,petName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:"",notes:"",photos:[]}),t(!1)};return w.useEffect(()=>{e&&x({clientId:0,clientName:"",petId:0,petName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:"",notes:"",photos:[]})},[e,y]),r.jsxs(r.Fragment,{children:[r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Nouvelle Consultation"}),r.jsx(Cn,{children:"Enregistrez une nouvelle consultation vtrinaire."})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Client *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{value:g.clientId.toString(),onValueChange:P=>j("clientId",P),children:[r.jsx(De,{className:"flex-1",children:r.jsx(Re,{placeholder:"Slectionner le client"})}),r.jsx(Me,{children:n.map(P=>r.jsx(Y,{value:P.id.toString(),children:P.name},P.id))})]}),r.jsx(H,{type:"button",size:"sm",variant:"outline",onClick:()=>c(!0),className:"px-2",children:r.jsx(bt,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Animal *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{value:g.petId.toString(),onValueChange:P=>j("petId",P),disabled:!g.clientId,children:[r.jsx(De,{className:"flex-1",children:r.jsx(Re,{placeholder:g.clientId?"Slectionner l'animal":"Slectionnez d'abord un client"})}),r.jsx(Me,{children:v.map(P=>r.jsxs(Y,{value:P.id.toString(),children:[P.name," (",P.type,")"]},P.id))})]}),r.jsx(H,{type:"button",size:"sm",variant:"outline",onClick:()=>d(!0),className:"px-2",disabled:!g.clientId,children:r.jsx(bt,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:g.date||y,onChange:N,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",type:"number",step:"0.1",value:g.weight,onChange:N,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"temperature",children:"Temprature (C)"}),r.jsx(se,{id:"temperature",type:"number",step:"0.1",value:g.temperature,onChange:N,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"symptoms",children:"Symptmes observs"}),r.jsx(St,{id:"symptoms",value:g.symptoms,onChange:N,placeholder:"Dcrivez les symptmes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(St,{id:"diagnosis",value:g.diagnosis,onChange:N,placeholder:"Diagnostic pos...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"treatment",children:"Traitement administr"}),r.jsx(St,{id:"treatment",value:g.treatment,onChange:N,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Prescription"}),r.jsxs("div",{className:"flex items-center gap-2 p-4 border rounded-lg bg-muted/30",children:[r.jsx(Ho,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:"Crer une prescription"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Grez les mdicaments prescrits de manire spare"})]}),r.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>m(!0),disabled:!g.petId,className:"gap-2",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"followUp",children:"Suivi recommand"}),r.jsx(se,{id:"followUp",value:g.followUp,onChange:N,placeholder:"ex: Contrle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{htmlFor:"cost",children:["Cot (",o.currency,")"]}),r.jsx(se,{id:"cost",type:"number",step:"0.01",value:g.cost,onChange:N,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(St,{id:"notes",value:g.notes,onChange:N,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(V,{children:"Photos de la consultation"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async P=>{const C=Array.from(P.target.files||[]),A=await Promise.all(C.map(_=>new Promise((E,O)=>{const I=new FileReader;I.onload=()=>E(I.result),I.onerror=()=>O(),I.readAsDataURL(_)})));x(_=>({..._,photos:[..._.photos,...A]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),g.photos.length>0&&r.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:g.photos.map((P,C)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:P,alt:`photo-${C}`,className:"h-24 w-24 object-cover rounded"}),r.jsx("button",{type:"button",onClick:()=>x(A=>({...A,photos:A.photos.filter((_,E)=>E!==C)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]},C))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Enregistrer Consultation"})]})]})]})}),r.jsx(hv,{open:l,onOpenChange:c}),r.jsx(fv,{open:u,onOpenChange:d}),r.jsx(zb,{open:f,onOpenChange:m,petId:g.petId,consultationId:0})]})}const Ffe=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:s}=Tc();return!s||!t.includes(s.profile.role)?r.jsx(r.Fragment,{children:n}):r.jsx(r.Fragment,{children:e})},q2=({children:e,fallback:t=null})=>r.jsx(Ffe,{allowedRoles:["admin"],fallback:t,children:e});function Bfe(){const{clients:e,pets:t,consultations:n,vaccinations:s,antiparasitics:i,generateAccountingSummary:a}=ft(),{settings:o}=Wt(),l=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),c=l.length===1?`Bienvenue ${l[0].title} ${l[0].name}`:`Bienvenue  ${o.clinicName}`,[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(!1),N=e.length,j=t.length,b=s.length,P=i.length,C=new Date().toISOString().split("T")[0],A=n.filter(k=>k.date===C).length,_=new Date().getMonth(),E=new Date().getFullYear(),O=new Date(E,_,1).toISOString().split("T")[0],I=new Date(E,_+1,0).toISOString().split("T")[0],D=a(`${E}-${String(_+1).padStart(2,"0")}`,O,I);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[o.logo&&r.jsx("img",{src:o.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vtrinaire Complte"})]}),r.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[c,", ",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Grez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vtrinaire optimise en un seul endroit."}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsxs(H,{size:"lg",className:"gap-2 medical-glow",onClick:()=>d(!0),children:[r.jsx(Ea,{className:"h-5 w-5"}),"Nouveau Client",r.jsx(GC,{className:"h-4 w-4"})]}),r.jsxs(H,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>x(!0),children:[r.jsx(Zt,{className:"h-5 w-5"}),"Nouvel Animal"]}),r.jsxs(H,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>m(!0),children:[r.jsx(kt,{className:"h-5 w-5"}),"Planifier RDV"]}),r.jsxs(H,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>y(!0),children:[r.jsx(yr,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),r.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:N}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-secondary",children:j}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-accent",children:A}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),r.jsx(q2,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[D.totalRevenue.toFixed(0)," ",o.currency||""]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:cz,alt:"Vtrinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),r.jsx(hv,{open:u,onOpenChange:d}),r.jsx(bE,{open:f,onOpenChange:m}),r.jsx(fv,{open:g,onOpenChange:x}),r.jsx(Gf,{open:v,onOpenChange:y})]})}function zfe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,vaccinations:o,antiparasitics:l,stockItems:c,stockMovements:u,accountingEntries:d,getUpcomingAppointments:f,getOverdueAppointments:m,generateAccountingSummary:g}=ft(),{settings:x}=Wt(),v=e.length,y=t.length;n.length,s.length,i.length;const N=a.length,j=o.length,b=l.length,P=c.length,C=new Date().getMonth(),A=new Date().getFullYear(),_=n.filter(B=>{const X=new Date(B.date);return X.getMonth()===C&&X.getFullYear()===A}).length,E=o.filter(B=>{const X=new Date(B.dateGiven);return X.getMonth()===C&&X.getFullYear()===A}).length,O=l.filter(B=>{const X=new Date(B.dateGiven);return X.getMonth()===C&&X.getFullYear()===A}).length,I=new Date().toISOString().split("T")[0],D=n.filter(B=>B.date===I).length,k=s.filter(B=>B.date===I&&B.status!=="cancelled"&&B.status!=="completed").length,F=f();m();const $=c.filter(B=>B.currentStock<=B.minimumStock).length,Q=c.filter(B=>B.currentStock===0).length;c.reduce((B,X)=>B+X.currentStock*X.purchasePrice,0);const U=new Date(A,C,1).toISOString().split("T")[0],ie=new Date(A,C+1,0).toISOString().split("T")[0],L=g(`${A}-${String(C+1).padStart(2,"0")}`,U,ie),z=L.totalRevenue;L.totalExpenses;const le=L.netIncome,pe=(B,X)=>{if(X===0)return B>0?"+100%":"0%";const ye=(B-X)/X*100;return ye>=0?`+${Math.round(ye)}%`:`${Math.round(ye)}%`},ee=C===0?11:C-1,J=C===0?A-1:A,te=n.filter(B=>{const X=new Date(B.date);return X.getMonth()===ee&&X.getFullYear()===J}).length,xe=e.filter(B=>{const X=new Date(B.lastVisit);return X.getMonth()===ee&&X.getFullYear()===J}).length,ve=t.filter(B=>{if(!B.lastVisit)return!1;const X=new Date(B.lastVisit);return X.getMonth()===ee&&X.getFullYear()===J}).length;s.filter(B=>{const X=new Date(B.date);return X.getMonth()===ee&&X.getFullYear()===J}).length;const re=[{title:"Clients Total",value:v.toString(),change:pe(v,xe),icon:Ea,color:"text-blue-600",bgColor:"bg-blue-50",description:`${v>0?Math.round(v/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:y.toString(),change:pe(y,ve),icon:Zt,color:"text-red-600",bgColor:"bg-red-50",description:`${y>0?Math.round(y/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:k.toString(),change:k>0?"+"+Math.min(20,Math.floor(k*.3))+"%":"0%",icon:kt,color:"text-purple-600",bgColor:"bg-purple-50",description:`${F.length}  venir cette semaine`},{title:"Consultations",value:_.toString(),change:pe(_,te),icon:yr,color:"text-green-600",bgColor:"bg-green-50",description:`${D} aujourd'hui`},{title:"Revenus Rels",value:`${z.toFixed(0)} ${x.currency||""}`,change:z>0?"+"+Math.round(z/1e3*10)+"%":"0%",icon:$f,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bnfice: ${le.toFixed(0)} ${x.currency||""}`},{title:"Activit Ferme",value:N.toString(),change:N>0?"+"+Math.min(15,Math.floor(N*.2))+"%":"0%",icon:Aa,color:"text-orange-600",bgColor:"bg-orange-50",description:`${N} exploitations actives`},{title:"Vaccinations",value:E.toString(),change:E>0?"+"+Math.min(25,Math.floor(E*.3))+"%":"0%",icon:hi,color:"text-blue-600",bgColor:"bg-blue-50",description:`${j} total ce mois`},{title:"Antiparasitaires",value:O.toString(),change:O>0?"+"+Math.min(20,Math.floor(O*.25))+"%":"0%",icon:vi,color:"text-purple-600",bgColor:"bg-purple-50",description:`${b} total ce mois`},{title:"Stock",value:P.toString(),change:$>0?"-"+Math.min(15,Math.floor($*.2))+"%":"0%",icon:$>0?Un:Hn,color:$>0?"text-red-600":"text-green-600",bgColor:$>0?"bg-red-50":"bg-green-50",description:`${$} en rupture, ${Q} puiss`}];return r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:re.map(B=>r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-muted-foreground",children:B.title}),r.jsx("div",{className:`p-2 rounded-lg ${B.bgColor}`,children:r.jsx(B.icon,{className:`h-4 w-4 ${B.color}`})})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold",children:B.value}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.jsx("span",{className:"text-secondary font-medium",children:B.change})," vs mois dernier"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:B.description})]})]},B.title))})}function Vfe({open:e,onOpenChange:t,client:n,onEdit:s}){return n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[600px]",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Profil Client"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ts,{className:"h-20 w-20",children:r.jsx(ns,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(i=>i[0]).join("")})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rf,{className:"h-3 w-3"}),n.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xh,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Adresse"}),r.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[r.jsx(ad,{className:"h-4 w-4 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?r.jsx("div",{className:"space-y-2",children:n.pets.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:i.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.type,"  ",i.breed]})]}),r.jsx(Oe,{variant:"outline",children:i.status==="healthy"?"En bonne sant":i.status==="treatment"?"En traitement":"Urgent"})]},a))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistr"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernire visite:"}),r.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total visites:"}),r.jsx("p",{children:n.totalVisits})]})]}),n.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes"}),r.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(H,{onClick:s,className:"gap-2",children:[r.jsx(nn,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function Ufe({open:e,onOpenChange:t,client:n}){const{updateClient:s}=ft(),{toast:i}=Ut(),[a,o]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});w.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(s(n.id,a),i({title:"Client modifi",description:`Les informations de ${a.firstName} ${a.lastName} ont t mises  jour.`}),t(!1))};return n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[500px]",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Modifier Client"})}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"firstName",children:"Prnom *"}),r.jsx(se,{id:"firstName",value:a.firstName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"lastName",children:"Nom *"}),r.jsx(se,{id:"lastName",value:a.lastName,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:a.email,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"phone",children:"Tlphone *"}),r.jsx(se,{id:"phone",value:a.phone,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:a.address,onChange:l})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"city",children:"Ville"}),r.jsx(se,{id:"city",value:a.city,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"postalCode",children:"Code postal"}),r.jsx(se,{id:"postalCode",value:a.postalCode,onChange:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"idNumber",children:"N pice d'identit"}),r.jsx(se,{id:"idNumber",value:a.idNumber,onChange:l,placeholder:"Numro de carte d'identit, passeport, etc."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:a.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function qfe(){const{clients:e,pets:t,consultations:n,appointments:s}=ft();Wt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((_,E)=>new Date(E.lastVisit).getTime()-new Date(_.lastVisit).getTime()).slice(0,5),x=e.length,v=e.filter(_=>{const E=new Date(_.lastVisit),O=new Date;return O.setDate(O.getDate()-30),E>=O}).length,y=e.filter(_=>{const E=new Date(_.lastVisit),O=new Date().getMonth(),I=new Date().getFullYear();return E.getMonth()===O&&E.getFullYear()===I}).length,N=x>0?(t.length/x).toFixed(1):"0",j=_=>{f(_),l(!0)},b=_=>{f(_),u(!0)},P=()=>{l(!1),u(!0)},C=_=>{const E=new Date(_),I=Math.abs(new Date().getTime()-E.getTime()),D=Math.ceil(I/(1e3*60*60*24));return D===0?"Aujourd'hui":D===1?"Hier":D<7?`Il y a ${D} jours`:D<30?`Il y a ${Math.floor(D/7)} semaine${Math.floor(D/7)>1?"s":""}`:`Il y a ${Math.floor(D/30)} mois`},A=_=>{const E=t.filter(D=>D.ownerId===_.id),O=n.filter(D=>D.clientId===_.id),I=s.filter(D=>D.clientId===_.id);return{pets:E.length,consultations:O.length,appointments:I.length,lastActivity:O.length>0?Math.max(...O.map(D=>new Date(D.date).getTime())):new Date(_.lastVisit).getTime()}};return r.jsxs(r.Fragment,{children:[r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg font-semibold",children:"Clients Rcents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ea,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Aa,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," actifs"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(pr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",y," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(In,{className:"h-3 w-3"}),r.jsxs("span",{children:[" ",N," animaux"]})]})]})]}),r.jsxs(H,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouveau Client"]})]}),r.jsx(fe,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ea,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun client enregistr"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premier client"})]}):g.map(_=>{const E=A(_);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ts,{children:r.jsx(ns,{className:"bg-primary text-primary-foreground",children:_.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium",children:_.name}),r.jsxs(Oe,{variant:"outline",className:"text-xs",children:[E.pets," animal",E.pets>1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rf,{className:"h-3 w-3"}),_.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xh,{className:"h-3 w-3"}),_.phone]}),_.city&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ad,{className:"h-3 w-3"}),_.city]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Dernire visite: ",C(_.lastVisit)]}),r.jsxs("span",{children:["Total visites: ",_.totalVisits]}),r.jsxs("span",{children:["Consultations: ",E.consultations]}),r.jsxs("span",{children:["RDV: ",E.appointments]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(_),children:[r.jsx(Xr,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(H,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>b(_),children:[r.jsx(nn,{className:"h-4 w-4"}),"Modifier"]})]})]},_.id)})})]}),r.jsx(hv,{open:i,onOpenChange:a}),r.jsx(Vfe,{open:o,onOpenChange:l,client:d,onEdit:P}),r.jsx(Ufe,{open:c,onOpenChange:u,client:d})]})}function Wfe({open:e,onOpenChange:t,pet:n,onEdit:s,onShowDossier:i}){const{updatePet:a}=ft(),[o,l]=w.useState(null);w.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=w.useRef(null),u=d=>{var m;const f=(m=d.target.files)==null?void 0:m[0];if(f){const g=new FileReader;g.onload=x=>{var y;const v=(y=x.target)==null?void 0:y.result;l(v),a(n.id,{photo:v})},g.readAsDataURL(f)}};return n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Profil Animal"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(ts,{className:"h-24 w-24",children:o?r.jsx(jc,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):r.jsx(ns,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Zt,{className:"h-12 w-12"})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(H,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[r.jsx(tb,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&r.jsx(H,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),a(n.id,{photo:void 0})},children:"Supprimer photo"}),r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsx(Oe,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne sant":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"}),r.jsx("p",{className:"text-muted-foreground",children:n.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"}),r.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spcifie"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ge:"}),r.jsx("p",{className:"text-muted-foreground",children:n.birthDate?r.jsxs(r.Fragment,{children:[Xp(n.birthDate),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:["N(e) le ",ao(n.birthDate)]})]}):"Non spcifi"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spcifi"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"}),r.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spcifie"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propritaire:"}),r.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Puce lectronique:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernire visite:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,f)=>r.jsx(Oe,{variant:"outline",children:d},f))})]}),n.medicalNotes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes mdicales"}),r.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),r.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[r.jsxs(H,{variant:"outline",onClick:i,className:"gap-2",children:[r.jsx(zr,{className:"h-4 w-4"}),"Voir Dossier Mdical"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(H,{onClick:s,className:"gap-2",children:[r.jsx(nn,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}function Hfe({open:e,onOpenChange:t,pet:n}){const{updatePet:s,clients:i}=ft(),{settings:a}=Wt(),{toast:o}=Ut(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});w.useEffect(()=>{n&&c({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:m==="ownerId"?parseInt(g):g}))},f=m=>{if(m.preventDefault(),!n)return;const g=i.find(x=>x.id===l.ownerId);s(n.id,{...l,owner:(g==null?void 0:g.name)||n.owner}),o({title:"Animal modifi",description:`Les informations de ${l.name} ont t mises  jour.`}),t(!1)};return n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Modifier Animal"})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(se,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Type d'animal *"}),r.jsxs($e,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsx(Me,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(Y,{value:x,children:x},g):null}).filter(Boolean):r.jsx(Y,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"breed",children:"Race"}),r.jsx(se,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Sexe"}),r.jsxs($e,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner le sexe"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"male",children:"Mle"}),r.jsx(Y,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(se,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"color",children:"Couleur"}),r.jsx(se,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Propritaire *"}),r.jsxs($e,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsx(Me,{children:i.map(m=>r.jsx(Y,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Statut de sant"}),r.jsxs($e,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"healthy",children:"En bonne sant"}),r.jsx(Y,{value:"treatment",children:"En traitement"}),r.jsx(Y,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"microchip",children:"Numro de puce lectronique"}),r.jsx(se,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"medicalNotes",children:"Notes mdicales"}),r.jsx(St,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions mdicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(V,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"pedigreeNumber",children:"N pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"breeder",children:"leveur"}),r.jsx(se,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'leveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Pre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du pre",value:l.fatherName,onChange:u}),r.jsx(se,{placeholder:"N pedigree du pre",value:l.fatherPedigree,onChange:u}),r.jsx(se,{placeholder:"Race du pre",value:l.fatherBreed,onChange:u}),r.jsx(St,{placeholder:"Titres du pre",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mre",value:l.motherName,onChange:u}),r.jsx(se,{placeholder:"N pedigree de la mre",value:l.motherPedigree,onChange:u}),r.jsx(se,{placeholder:"Race de la mre",value:l.motherBreed,onChange:u}),r.jsx(St,{placeholder:"Titres de la mre",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var Vb="Tabs",[Gfe,x6e]=Xs(Vb,[gb]),HV=gb(),[Kfe,PE]=Gfe(Vb),GV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=mb(l),[f,m]=ho({prop:s,onChange:i,defaultProp:a??"",caller:Vb});return r.jsx(Kfe,{scope:n,baseId:Zr(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:r.jsx(it.div,{dir:d,"data-orientation":o,...u,ref:t})})});GV.displayName=Vb;var KV="TabsList",YV=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=PE(KV,n),o=HV(n);return r.jsx(mB,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(it.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});YV.displayName=KV;var QV="TabsTrigger",XV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=PE(QV,n),l=HV(n),c=eU(o.baseId,s),u=tU(o.baseId,s),d=s===o.value;return r.jsx(pB,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(it.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:He(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});XV.displayName=QV;var JV="TabsContent",ZV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=PE(JV,n),c=eU(l.baseId,s),u=tU(l.baseId,s),d=s===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(Js,{present:i||d,children:({present:m})=>r.jsx(it.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});ZV.displayName=JV;function eU(e,t){return`${e}-trigger-${t}`}function tU(e,t){return`${e}-content-${t}`}var Yfe=GV,nU=YV,rU=XV,sU=ZV;const $c=Yfe,ul=w.forwardRef(({className:e,...t},n)=>r.jsx(nU,{ref:n,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ul.displayName=nU.displayName;const Tn=w.forwardRef(({className:e,...t},n)=>r.jsx(rU,{ref:n,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Tn.displayName=rU.displayName;const On=w.forwardRef(({className:e,...t},n)=>r.jsx(sU,{ref:n,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));On.displayName=sU.displayName;function Ji(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function wc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function iU(e,t){const n=Ji(e);return isNaN(t)?wc(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const aU=6048e5,Qfe=864e5;let Xfe={};function Ub(){return Xfe}function og(e,t){var l,c,u,d;const n=Ub(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ji(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function P0(e){return og(e,{weekStartsOn:1})}function oU(e){const t=Ji(e),n=t.getFullYear(),s=wc(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=P0(s),a=wc(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=P0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function _0(e){const t=Ji(e);return t.setHours(0,0,0,0),t}function TI(e){const t=Ji(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Jfe(e,t){const n=_0(e),s=_0(t),i=+n-TI(n),a=+s-TI(s);return Math.round((i-a)/Qfe)}function Zfe(e){const t=oU(e),n=wc(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),P0(n)}function eme(e,t){const n=_0(e),s=_0(t);return+n==+s}function tme(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nme(e){if(!tme(e)&&typeof e!="number")return!1;const t=Ji(e);return!isNaN(Number(t))}function rme(e){const t=Ji(e),n=wc(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ime=(e,t,n)=>{let s;const i=sme[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function _h(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ame={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ome={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cme={date:_h({formats:ame,defaultWidth:"full"}),time:_h({formats:ome,defaultWidth:"full"}),dateTime:_h({formats:lme,defaultWidth:"full"})},ume={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dme=(e,t,n,s)=>ume[e];function Ja(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const hme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xme=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yme={ordinalNumber:xme,era:Ja({values:hme,defaultWidth:"wide"}),quarter:Ja({values:fme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ja({values:mme,defaultWidth:"wide"}),day:Ja({values:pme,defaultWidth:"wide"}),dayPeriod:Ja({values:gme,defaultWidth:"wide",formattingValues:vme,defaultFormattingWidth:"wide"})};function Za(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?bme(l,f=>f.test(o)):jme(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function jme(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function bme(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function lU(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const wme=/^(\d+)(th|st|nd|rd)?/i,Nme=/\d+/i,Sme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cme={any:[/^b/i,/^(a|c)/i]},Pme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_me={any:[/1/i,/2/i,/3/i,/4/i]},Ame={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Eme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ome={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mme={ordinalNumber:lU({matchPattern:wme,parsePattern:Nme,valueCallback:e=>parseInt(e,10)}),era:Za({matchPatterns:Sme,defaultMatchWidth:"wide",parsePatterns:Cme,defaultParseWidth:"any"}),quarter:Za({matchPatterns:Pme,defaultMatchWidth:"wide",parsePatterns:_me,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Za({matchPatterns:Ame,defaultMatchWidth:"wide",parsePatterns:Eme,defaultParseWidth:"any"}),day:Za({matchPatterns:kme,defaultMatchWidth:"wide",parsePatterns:Tme,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:Ome,defaultMatchWidth:"any",parsePatterns:Dme,defaultParseWidth:"any"})},Ime={code:"en-US",formatDistance:ime,formatLong:cme,formatRelative:dme,localize:yme,match:Mme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $me(e){const t=Ji(e);return Jfe(t,rme(t))+1}function Rme(e){const t=Ji(e),n=+P0(t)-+Zfe(t);return Math.round(n/aU)+1}function cU(e,t){var d,f,m,g;const n=Ji(e),s=n.getFullYear(),i=Ub(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=wc(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=og(o,t),c=wc(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=og(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function Lme(e,t){var l,c,u,d;const n=Ub(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=cU(e,t),a=wc(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),og(a,t)}function Fme(e,t){const n=Ji(e),s=+og(n,t)-+Lme(n,t);return Math.round(s/aU)+1}function vn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const kl={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return vn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):vn(n+1,2)},d(e,t){return vn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return vn(e.getHours()%12||12,t.length)},H(e,t){return vn(e.getHours(),t.length)},m(e,t){return vn(e.getMinutes(),t.length)},s(e,t){return vn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return vn(i,t.length)}},qd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OI={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return kl.y(e,t)},Y:function(e,t,n,s){const i=cU(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return vn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):vn(a,t.length)},R:function(e,t){const n=oU(e);return vn(n,t.length)},u:function(e,t){const n=e.getFullYear();return vn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return vn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return vn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return kl.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return vn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=Fme(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):vn(i,t.length)},I:function(e,t,n){const s=Rme(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):vn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):kl.d(e,t)},D:function(e,t,n){const s=$me(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):vn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return vn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return vn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return vn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=qd.noon:s===0?i=qd.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=qd.evening:s>=12?i=qd.afternoon:s>=4?i=qd.morning:i=qd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return kl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):kl.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):vn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):vn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):kl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):kl.s(e,t)},S:function(e,t){return kl.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return MI(s);case"XXXX":case"XX":return su(s);case"XXXXX":case"XXX":default:return su(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return MI(s);case"xxxx":case"xx":return su(s);case"xxxxx":case"xxx":default:return su(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+DI(s,":");case"OOOO":default:return"GMT"+su(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+DI(s,":");case"zzzz":default:return"GMT"+su(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return vn(s,t.length)},T:function(e,t,n){const s=e.getTime();return vn(s,t.length)}};function DI(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+vn(a,2)}function MI(e,t){return e%60===0?(e>0?"-":"+")+vn(Math.abs(e)/60,2):su(e,t)}function su(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=vn(Math.trunc(s/60),2),a=vn(s%60,2);return n+i+t+a}const II=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Bme=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return II(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",II(s,t)).replace("{{time}}",uU(i,t))},zme={p:uU,P:Bme},Vme=/^D+$/,Ume=/^Y+$/,qme=["D","DD","YY","YYYY"];function Wme(e){return Vme.test(e)}function Hme(e){return Ume.test(e)}function Gme(e,t,n){const s=Kme(e,t,n);if(console.warn(s),qme.includes(e))throw new RangeError(s)}function Kme(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xme=/^'([^]*?)'?$/,Jme=/''/g,Zme=/[a-zA-Z]/;function It(e,t,n){var d,f,m,g,x,v,y,N;const s=Ub(),i=(n==null?void 0:n.locale)??s.locale??Ime,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((N=(y=s.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=Ji(e);if(!nme(l))throw new RangeError("Invalid time value");let c=t.match(Qme).map(j=>{const b=j[0];if(b==="p"||b==="P"){const P=zme[b];return P(j,i.formatLong)}return j}).join("").match(Yme).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:epe(j)};if(OI[b])return{isToken:!0,value:j};if(b.match(Zme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const b=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Hme(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Wme(b))&&Gme(b,t,String(e));const P=OI[b[0]];return P(l,b,i.localize,u)}).join("")}function epe(e){const t=e.match(Xme);return t?t[1].replace(Jme,"'"):e}const tpe=[{value:"left_shoulder",label:"paule gauche"},{value:"right_shoulder",label:"paule droite"},{value:"left_hip",label:"Hanche gauche"},{value:"right_hip",label:"Hanche droite"},{value:"subcutaneous",label:"Sous-cutan"}];function A0({children:e,selectedPetId:t,selectedClientId:n,isReminder:s=!1,originalVaccinationId:i,open:a,onOpenChange:o,editingVaccination:l}){const{clients:c,pets:u,addVaccination:d,updateVaccination:f,getVaccinationProtocolsBySpecies:m,calculateDueDateFromProtocol:g,stockItems:x}=ft(),{settings:v}=Wt(),{toast:y}=Ut(),[N,j]=w.useState(!1),b=a!==void 0?a:N,P=o||j;w.useState(!1);const[C,A]=w.useState(!1),[_,E]=w.useState(!1),[O,I]=w.useState([]),[D,k]=w.useState({clientId:n||"",petId:t||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),[F,$]=w.useState([]),Q=F||[],[U,ie]=w.useState({}),[L,z]=w.useState(null),[le,pe]=w.useState("");w.useEffect(()=>{n&&k(B=>({...B,clientId:n.toString()})),t&&k(B=>({...B,petId:t.toString()}))},[n,t]),w.useEffect(()=>{const B=x.filter(X=>X.category==="vaccine"&&X.isActive&&X.currentStock>0).sort((X,ye)=>X.name.localeCompare(ye.name));I(B),console.log("Vaccins disponibles mis  jour:",B.length,"items")},[x]),w.useEffect(()=>{l&&k({clientId:l.clientId.toString(),petId:l.petId.toString(),vaccineName:l.vaccineName,vaccineType:l.vaccineType,dateGiven:l.dateGiven,nextDueDate:l.nextDueDate,batchNumber:l.batchNumber||"",veterinarian:l.veterinarian||"",notes:l.notes||"",cost:l.cost||"",location:l.location||"",manufacturer:l.manufacturer||"",injectionSite:l.injectionSite||""})},[l]),w.useEffect(()=>{if(D.vaccineName&&D.dateGiven&&D.petId){const B=u.find(X=>X.id===parseInt(D.petId));if(B){const X=g(D.vaccineName,B.type,D.dateGiven);X&&pe(X)}}},[D.vaccineName,D.dateGiven,D.petId,u,g]),w.useEffect(()=>{if(Q.length>0&&D.dateGiven){const B={};Q.forEach(X=>{X.intervals.forEach(ye=>{const Z=`${X.id}-${ye.offsetDays}`;B[Z]=It(iU(new Date(D.dateGiven),ye.offsetDays),"yyyy-MM-dd")})}),ie(B)}else ie({})},[Q,D.dateGiven]);const ee=B=>{k(X=>({...X,vaccineName:B.name,manufacturer:B.manufacturer||X.manufacturer,cost:B.sellingPrice.toString()})),A(!1),E(!1)},J=()=>{E(!0),A(!1)},te=()=>{E(!1),k(B=>({...B,vaccineName:"",manufacturer:"",cost:""}))},xe=B=>{if(B.preventDefault(),l){if(!D.clientId||!D.petId){y({title:"Erreur",description:"Client ou animal manquant",variant:"destructive"});return}}else if(!D.clientId||!D.petId||Q.length===0&&!D.vaccineName){y({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const X=c.find(M=>M.id===parseInt(D.clientId)),ye=u.find(M=>M.id===parseInt(D.petId));if(!X||!ye){y({title:"Erreur",description:"Client ou animal introuvable",variant:"destructive"});return}if(Q.length>0&&!l){Q.forEach(M=>{var je,we;if(M.intervals&&Array.isArray(M.intervals)){let Fe;const Be=M.intervals.find(at=>at.offsetDays===0);if(Be){const at=`${M.id}-${Be.offsetDays}`,lt=U[at]||"";Fe=d({clientId:parseInt(D.clientId),clientName:((je=c.find(ut=>ut.id===parseInt(D.clientId)))==null?void 0:je.name)||"",petId:parseInt(D.petId),petName:((we=u.find(ut=>ut.id===parseInt(D.petId)))==null?void 0:we.name)||"",vaccineName:`${M.name} (${Be.label})`,vaccineType:M.vaccineType,dateGiven:D.dateGiven,nextDueDate:lt,batchNumber:D.batchNumber,veterinarian:D.veterinarian,notes:D.notes,status:"completed",cost:D.cost,location:D.location,manufacturer:M.manufacturer||D.manufacturer,expirationDate:D.expirationDate,adverseReactions:D.adverseReactions,vaccinationCategory:"new",isReminder:!1})}M.intervals.forEach(at=>{var lt,ut;if(at.offsetDays>0){const Ne=`${M.id}-${at.offsetDays}`,Ge=U[Ne]||"";d({clientId:parseInt(D.clientId),clientName:((lt=c.find(Ke=>Ke.id===parseInt(D.clientId)))==null?void 0:lt.name)||"",petId:parseInt(D.petId),petName:((ut=u.find(Ke=>Ke.id===parseInt(D.petId)))==null?void 0:ut.name)||"",vaccineName:`${M.name} (${at.label})`,vaccineType:M.vaccineType,dateGiven:Ge,nextDueDate:Ge,batchNumber:D.batchNumber,veterinarian:D.veterinarian,notes:D.notes,status:"scheduled",cost:D.cost,location:D.location,manufacturer:M.manufacturer||D.manufacturer,expirationDate:D.expirationDate,adverseReactions:D.adverseReactions,vaccinationCategory:"reminder",originalVaccinationId:Fe,isReminder:!0})}})}}),y({title:"Vaccinations enregistres",description:`${Q.length} vaccinations ajoutes.`}),$([]),P(!1);return}const Z=Object.values(U).sort().pop()||le||D.dateGiven;if(l){const M=l.vaccinationCategory==="reminder"?"rappel":"vaccination";f(l.id,{clientId:parseInt(D.clientId),clientName:X.name,petId:parseInt(D.petId),petName:ye.name,vaccineName:D.vaccineName,vaccineType:D.vaccineType,vaccinationCategory:l.vaccinationCategory,dateGiven:D.dateGiven,nextDueDate:l.vaccinationCategory==="reminder"?D.dateGiven:Z,calculatedDueDate:le,batchNumber:D.batchNumber,veterinarian:D.veterinarian,notes:D.notes,status:l.status,cost:D.cost,location:D.location,manufacturer:D.manufacturer,expirationDate:D.expirationDate,adverseReactions:D.adverseReactions,originalVaccinationId:l.originalVaccinationId,isReminder:l.isReminder}),y({title:`${M.charAt(0).toUpperCase()+M.slice(1)} modifie`,description:`${M.charAt(0).toUpperCase()+M.slice(1)} ${D.vaccineName} modifie pour ${ye.name}`})}else d({clientId:parseInt(D.clientId),clientName:X.name,petId:parseInt(D.petId),petName:ye.name,vaccineName:D.vaccineName,vaccineType:D.vaccineType,vaccinationCategory:s?"reminder":"new",dateGiven:D.dateGiven,nextDueDate:Z,calculatedDueDate:le,batchNumber:D.batchNumber,veterinarian:D.veterinarian,notes:D.notes,status:"completed",cost:D.cost,location:D.location,manufacturer:D.manufacturer,expirationDate:D.expirationDate,adverseReactions:D.adverseReactions,originalVaccinationId:s?i:void 0,isReminder:s}),y({title:"Vaccination enregistre",description:`Vaccination ${D.vaccineName} ajoute pour ${ye.name}`});k({clientId:(n==null?void 0:n.toString())||"",petId:(t==null?void 0:t.toString())||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),$([]),P(!1)},ve=u.find(B=>B.id===parseInt(D.petId)),re=ve?m(ve.type):[];return r.jsxs(Tt,{open:b,onOpenChange:P,children:[r.jsx(Oc,{asChild:!0,children:e||r.jsxs(H,{className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(hi,{className:"h-5 w-5"}),l?l.vaccinationCategory==="reminder"?"Modifier le Rappel":"Modifier la Vaccination":"Nouvelle Vaccination"]}),l&&l.vaccinationCategory==="reminder"&&r.jsxs("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded-md border border-orange-200",children:[r.jsx("strong",{children:"Mode dition de rappel :"})," Vous modifiez uniquement ce rappel spcifique. Les autres rappels de la mme vaccination ne seront pas affects."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode dition :"})," Vous modifiez uniquement cette vaccination spcifique. Le client et l'animal sont verrouills. Les protocoles ne sont pas affichs car ils ne s'appliquent qu' la cration."]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"clientId",children:"Client *"}),r.jsxs($e,{value:D.clientId,onValueChange:B=>{k(X=>({...X,clientId:B,petId:""})),z(null)},disabled:!!l,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un client"})}),r.jsx(Me,{children:c&&Array.isArray(c)&&c.length>0?c.map(B=>r.jsx(Y,{value:B.id.toString(),children:B.name},B.id)):r.jsx(Y,{value:"no-clients",disabled:!0,children:"Aucun client trouv"})})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"petId",children:"Animal *"}),r.jsxs($e,{value:D.petId,onValueChange:B=>{k(X=>({...X,petId:B})),z(null)},disabled:l?!0:!D.clientId,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un animal"})}),r.jsx(Me,{children:u.filter(B=>B.ownerId===parseInt(D.clientId)).map(B=>r.jsxs(Y,{value:B.id.toString(),children:[B.name," (",B.type,")"]},B.id))})]})]})]}),re.length>0&&!l&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs(V,{children:["Protocoles suggrs pour ",ve==null?void 0:ve.type," (slection multiple)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:re.map(B=>{const X=Q.some(ye=>ye.id===B.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Gi,{id:`protocol-${B.id}`,checked:X,onCheckedChange:ye=>{$(ye?Z=>[...Z,B]:Z=>Z.filter(M=>M.id!==B.id))}}),r.jsxs("label",{htmlFor:`protocol-${B.id}`,className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:B.name}),r.jsx("div",{className:"text-xs text-gray-600",children:B.description})]})]},B.id)})})]}),Q.length>0&&!l?r.jsxs(he,{className:"mb-4",children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-sm",children:"Vaccins slectionns"})}),r.jsx(fe,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:Q.map(B=>r.jsx("li",{children:B.name},B.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs(V,{htmlFor:"vaccineName",children:["Nom du vaccin ",!l&&"*"]}),r.jsxs(Oe,{variant:"outline",className:"text-xs",children:[O.length," vaccins en stock"]})]}),_?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:te,className:"text-xs",children:"Changer"})]}),r.jsx(se,{value:D.vaccineName,onChange:B=>k(X=>({...X,vaccineName:B.target.value})),placeholder:"Nom du vaccin (non disponible en stock)",className:"bg-white",required:!l})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(SE,{open:C,onOpenChange:A,children:[r.jsx(CE,{asChild:!0,children:r.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":C,className:"flex-1 justify-between",children:[D.vaccineName||"Slectionner un vaccin...",r.jsx(nb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(Bb,{className:"w-[400px] p-0",children:r.jsxs(Mb,{children:[r.jsx(Ib,{placeholder:"Rechercher un vaccin..."}),r.jsxs($b,{children:[r.jsx(Rb,{children:"Aucun vaccin trouv."}),r.jsxs(Lb,{children:[O.map(B=>r.jsxs(nf,{value:B.name,onSelect:()=>ee(B),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:B.name})]}),r.jsxs(Oe,{variant:B.currentStock>=5?"default":"destructive",className:"ml-2",children:[B.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[B.manufacturer&&r.jsxs("span",{children:["Fabricant: ",B.manufacturer]}),r.jsxs("span",{children:["Prix: ",B.sellingPrice.toFixed(2)," ",v.currency]})]})]},B.id)),r.jsx(nf,{onSelect:J,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(fr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Vaccin non disponible en stock"})]})]})})]})]})]})})]}),D.vaccineName&&r.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:J,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(fr,{className:"h-4 w-4"})})]}),D.vaccineName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const B=O.find(X=>X.name.toLowerCase()===D.vaccineName.toLowerCase());return B?B.currentStock>=1?r.jsxs(Oe,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"}),"En stock (",B.currentStock,")"]}):r.jsxs(Oe,{variant:"destructive",children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs(Oe,{variant:"secondary",children:[r.jsx(fr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"vaccineType",children:"Type de vaccin"}),r.jsxs($e,{value:D.vaccineType,onValueChange:B=>k(X=>({...X,vaccineType:B})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Type de vaccin"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"core",children:"Essentiel"}),r.jsx(Y,{value:"non-core",children:"Optionnel"}),r.jsx(Y,{value:"rabies",children:"Rage"}),r.jsx(Y,{value:"custom",children:"Personnalis"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs(V,{htmlFor:"dateGiven",children:["Date d'administration ",!l&&"*"]}),r.jsx(se,{id:"dateGiven",type:"date",value:D.dateGiven,onChange:B=>k(X=>({...X,dateGiven:B.target.value})),required:!l})]})}),Q.length>0&&!l&&r.jsx("div",{className:"space-y-4 mb-4",children:Q.map(B=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["tapes pour ",B.name]}),B.intervals.map(X=>{const ye=`${B.id}-${X.offsetDays}`,Z=new Date(D.dateGiven);Z.setDate(Z.getDate()+X.offsetDays);const M=Z.toISOString().split("T")[0];return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[X.label," (+",X.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:ye,children:"Date de rappel"}),r.jsx(se,{id:ye,type:"date",value:U[ye]||M,onChange:je=>ie(we=>({...we,[ye]:je.target.value}))}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Suggre: ",Z.toLocaleDateString("fr-FR")]})]})]},ye)})]},B.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"veterinarian",children:"Vtrinaire"}),r.jsxs($e,{value:D.veterinarian,onValueChange:B=>k(X=>({...X,veterinarian:B})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un vtrinaire"})}),r.jsx(Me,{children:(console.log("Vtrinaires disponibles dans le formulaire:",v.veterinarians),v.veterinarians.filter(B=>B.isActive).map(B=>r.jsx(Y,{value:B.name,children:B.name},B.id)))})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"location",children:"Site d'injection"}),r.jsxs($e,{value:D.location,onValueChange:B=>k(X=>({...X,location:B})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner le site"})}),r.jsx(Me,{children:tpe.map(B=>r.jsx(Y,{value:B.value,children:B.label},B.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"batchNumber",children:"Numro de lot"}),r.jsx(se,{id:"batchNumber",value:D.batchNumber,onChange:B=>k(X=>({...X,batchNumber:B.target.value})),placeholder:"Ex: VAC2024-001"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:D.manufacturer,onChange:B=>k(X=>({...X,manufacturer:B.target.value})),placeholder:"Ex: Zoetis, Merial"})]}),r.jsxs("div",{children:[r.jsxs(V,{htmlFor:"cost",children:["Cot (",v.currency,")"]}),r.jsx(se,{id:"cost",value:D.cost,onChange:B=>k(X=>({...X,cost:B.target.value})),placeholder:"0.00",type:"number",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"expirationDate",children:"Date d'expiration du vaccin"}),r.jsx(se,{id:"expirationDate",type:"date",value:D.expirationDate,onChange:B=>k(X=>({...X,expirationDate:B.target.value}))})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:D.notes,onChange:B=>k(X=>({...X,notes:B.target.value})),placeholder:"Notes sur la vaccination...",rows:3})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"adverseReactions",children:"Ractions adverses"}),r.jsx(St,{id:"adverseReactions",value:D.adverseReactions,onChange:B=>k(X=>({...X,adverseReactions:B.target.value})),placeholder:"Dcrire toute raction adverse observe...",rows:2})]}),D.vaccineName&&r.jsxs(he,{className:"mt-4",children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"text-sm flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4"}),"Rsum du stock"]})}),r.jsx(fe,{children:(()=>{const B=O.find(X=>X.name.toLowerCase()===D.vaccineName.toLowerCase());return B?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:B.name}),r.jsxs(Oe,{variant:B.currentStock>=1?"default":"destructive",children:[B.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",B.manufacturer||"Non spcifi"]}),r.jsxs("div",{children:["Prix de vente: ",B.sellingPrice.toFixed(2)," ",v.currency]}),r.jsxs("div",{children:["Stock minimum: ",B.minimumStock]}),B.currentStock<=B.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:" Stock bas - Rapprovisionnement recommand"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-4 w-4"}),r.jsx("span",{children:"Vaccin non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"Le vaccin sera administr sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>setOpen(!1),children:"Annuler"}),r.jsxs(H,{type:"submit",children:[r.jsx(hi,{className:"h-4 w-4 mr-2"}),"Enregistrer la vaccination"]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[ve&&r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-sm",children:"Informations Animal"})}),r.jsx(fe,{className:"pt-0",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",ve.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",ve.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Race:"})," ",ve.breed||"Non spcifie"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"ge:"})," ",ve.birthDate?`${Math.floor((new Date().getTime()-new Date(ve.birthDate).getTime())/(365.25*24*60*60*1e3))} ans`:"Non spcifi"]})]})})]}),r.jsxs(he,{className:"border-amber-200 bg-amber-50",children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"text-sm text-amber-700 flex items-center gap-2",children:[r.jsx(Un,{className:"h-4 w-4"}),"Important"]})}),r.jsx(fe,{className:"pt-0",children:r.jsxs("ul",{className:"text-xs text-amber-700 space-y-1",children:[r.jsx("li",{children:" Vrifiez la date d'expiration du vaccin"}),r.jsx("li",{children:" Respectez la chane du froid"}),r.jsx("li",{children:" Surveillez les ractions dans les 24h"}),r.jsx("li",{children:" Enregistrez le numro de lot"}),r.jsx("li",{children:" Planifiez le rappel"})]})})]})]})]})]})]})}function E0({children:e,selectedClientId:t,selectedPetId:n,open:s,onOpenChange:i,editingAntiparasitic:a}){var pe,ee;const{clients:o,pets:l,addAntiparasitic:c,updateAntiparasitic:u,getAntiparasiticProtocolsBySpecies:d,addAppointment:f,stockItems:m}=ft(),{settings:g}=Wt(),{toast:x}=Ut(),[v,y]=w.useState(!1),N=s!==void 0?s:v,j=i||y,[b,P]=w.useState({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),[C,A]=w.useState([]),[_,E]=w.useState(!1),[O,I]=w.useState(!1),[D,k]=w.useState([]),F=C||[],[$,Q]=w.useState({});w.useEffect(()=>{t&&P(J=>({...J,clientId:t.toString(),petId:""})),n&&P(J=>({...J,petId:n.toString()}))},[t,n]),w.useEffect(()=>{const J=m.filter(te=>te.category==="medication"&&te.isActive&&te.currentStock>0).sort((te,xe)=>te.name.localeCompare(xe.name));k(J),console.log("Antiparasitaires disponibles mis  jour:",J.length,"items")},[m]),w.useEffect(()=>{a&&P({clientId:a.clientId.toString(),petId:a.petId.toString(),dateGiven:a.dateGiven,nextDueDate:a.nextDueDate||"",dosage:a.dosage||"",administrationRoute:a.administrationRoute||"",veterinarian:a.veterinarian||"",notes:a.notes||"",batchNumber:a.batchNumber||"",manufacturer:a.manufacturer||"",weight:a.weight||"",cost:a.cost||"",sideEffects:a.sideEffects||""})},[a]),w.useEffect(()=>{if(F.length&&b.dateGiven){const J={};F.forEach(te=>{te.intervals.forEach(xe=>{const ve=`${te.id}-${xe.offsetDays}`;J[ve]=It(iU(new Date(b.dateGiven),xe.offsetDays),"yyyy-MM-dd")})}),Q(J)}else Q({})},[F,b.dateGiven]);const U=b.petId?d(((pe=l.find(J=>J.id===parseInt(b.petId)))==null?void 0:pe.type)||""):[],ie=J=>{P(te=>({...te,productName:J.name,manufacturer:J.manufacturer||te.manufacturer,cost:J.sellingPrice.toString()})),E(!1),I(!1)},L=()=>{I(!0),E(!1)},z=()=>{I(!1),P(J=>({...J,productName:"",manufacturer:"",cost:""}))},le=J=>{if(J.preventDefault(),!b.clientId||!b.petId){x({title:"Erreur",description:"Client et animal requis.",variant:"destructive"});return}const te=o.find(ve=>ve.id===parseInt(b.clientId)),xe=l.find(ve=>ve.id===parseInt(b.petId));if(!te||!xe){x({title:"Erreur",description:"Client ou animal introuvable.",variant:"destructive"});return}if(a){u(a.id,{clientId:parseInt(b.clientId),clientName:te.name,petId:parseInt(b.petId),petName:xe.name,productName:a.productName,productType:a.productType,targetParasites:a.targetParasites,dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:a.status,cost:b.cost,sideEffects:b.sideEffects}),x({title:"Traitement modifi",description:`Le traitement ${a.productName} a t mis  jour avec succs.`}),j(!1);return}if(F.length>0)F.forEach(ve=>{ve.intervals.forEach(re=>{const B=`${ve.id}-${re.offsetDays}`,X=$[B]||"",ye=re.offsetDays===0?b.dateGiven:X;c({clientId:te.id,clientName:te.name,petId:xe.id,petName:xe.name,productName:`${ve.name} (${re.label})`,productType:ve.productType,targetParasites:ve.targetParasites,dateGiven:ye,nextDueDate:X,dosage:b.dosage,administrationRoute:b.administrationRoute||ve.productType,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer||ve.manufacturer||"",weight:b.weight,status:re.offsetDays===0?"completed":"scheduled",cost:b.cost,sideEffects:b.sideEffects})})}),F.forEach(ve=>{(ve.intervals||[]).forEach(re=>{const B=`${ve.id}-${re.offsetDays}`,X=$[B];X&&re.offsetDays>0&&f({clientId:te.id,clientName:te.name,petId:xe.id,petName:xe.name,date:X,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ve.name}`,status:"scheduled",reminderSent:!1})})}),x({title:"Traitements ajouts",description:`${F.reduce((ve,re)=>ve+re.intervals.length,0)} traitement(s) enregistr(s) dans le dossier mdical et rappels programms.`});else{const ve=b.notes||"Traitement antiparasitaire";c({clientId:te.id,clientName:te.name,petId:xe.id,petName:xe.name,productName:ve,productType:"external",targetParasites:"Non spcifi",dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:"completed",cost:b.cost,sideEffects:b.sideEffects}),b.nextDueDate&&f({clientId:te.id,clientName:te.name,petId:xe.id,petName:xe.name,date:b.nextDueDate,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ve}`,status:"scheduled",reminderSent:!1}),x({title:"Traitement ajout",description:`Traitement pour ${xe.name} enregistr dans le dossier mdical.`})}console.log("Antiparasitaire ajout avec succs - Donnes synchronises dans le dossier mdical"),A([]),P({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),j(!1)};return r.jsxs(Tt,{open:N,onOpenChange:j,children:[!a&&r.jsx(Oc,{asChild:!0,children:e||r.jsxs(H,{className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouveau traitement"]})}),r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:a?`Modifier ${a.productName}`:"Nouveau traitement antiparasitaire"})}),r.jsxs("form",{onSubmit:le,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode dition :"})," Vous modifiez uniquement ce traitement spcifique. Le client et l'animal sont verrouills. Les protocoles ne sont pas affichs car ils ne s'appliquent qu' la cration."]}),r.jsxs("div",{children:[r.jsx(V,{children:"Client *"}),r.jsxs($e,{value:b.clientId,onValueChange:J=>P(te=>({...te,clientId:J,petId:""})),disabled:a,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un client"})}),r.jsx(Me,{children:o&&Array.isArray(o)&&o.length>0?o.map(J=>r.jsx(Y,{value:J.id.toString(),children:J.name},J.id)):r.jsx(Y,{value:"no-clients",disabled:!0,children:"Aucun client trouv"})})]})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Animal *"}),r.jsxs($e,{value:b.petId,onValueChange:J=>P(te=>({...te,petId:J})),disabled:!b.clientId||a,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un animal"})}),r.jsx(Me,{children:l.filter(J=>J.ownerId===parseInt(b.clientId)).map(J=>r.jsxs(Y,{value:J.id.toString(),children:[J.name," (",J.type,")"]},J.id))})]})]})]}),U.length>0&&!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{children:["Protocoles suggrs (",(ee=l.find(J=>J.id===parseInt(b.petId)))==null?void 0:ee.type,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:U.map(J=>{const te=F.some(xe=>xe.id===J.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Gi,{checked:te,onCheckedChange:xe=>A(xe?ve=>[...ve,J]:ve=>ve.filter(re=>re.id!==J.id))}),r.jsxs("label",{className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:J.name}),r.jsx("div",{className:"text-xs text-gray-600",children:J.description})]})]},J.id)})})]}),F.length>0?r.jsxs(he,{className:"mb-4",children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-sm",children:"Protocoles slectionns"})}),r.jsx(fe,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:F.map(J=>r.jsx("li",{children:J.name},J.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(V,{children:"Produit antiparasitaire"}),r.jsxs(Oe,{variant:"outline",className:"text-xs",children:[D.length," antiparasitaires en stock"]})]}),O?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:z,className:"text-xs",children:"Changer"})]}),r.jsx(se,{value:b.productName,onChange:J=>P(te=>({...te,productName:J.target.value})),placeholder:"Nom du produit antiparasitaire (non disponible en stock)",className:"bg-white"})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(SE,{open:_,onOpenChange:E,children:[r.jsx(CE,{asChild:!0,children:r.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":_,className:"flex-1 justify-between",children:[b.productName||"Slectionner un antiparasitaire...",r.jsx(nb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(Bb,{className:"w-[400px] p-0",children:r.jsxs(Mb,{children:[r.jsx(Ib,{placeholder:"Rechercher un antiparasitaire..."}),r.jsxs($b,{children:[r.jsx(Rb,{children:"Aucun antiparasitaire trouv."}),r.jsxs(Lb,{children:[D.map(J=>r.jsxs(nf,{value:J.name,onSelect:()=>ie(J),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:J.name})]}),r.jsxs(Oe,{variant:J.currentStock>=5?"default":"destructive",className:"ml-2",children:[J.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[J.manufacturer&&r.jsxs("span",{children:["Fabricant: ",J.manufacturer]}),r.jsxs("span",{children:["Prix: ",J.sellingPrice.toFixed(2)," ",g.currency]})]})]},J.id)),r.jsx(nf,{onSelect:L,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(fr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Antiparasitaire non disponible en stock"})]})]})})]})]})]})})]}),b.productName&&r.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:L,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(fr,{className:"h-4 w-4"})})]}),b.productName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const J=D.find(te=>te.name.toLowerCase()===b.productName.toLowerCase());return J?J.currentStock>=1?r.jsxs(Oe,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"}),"En stock (",J.currentStock,")"]}):r.jsxs(Oe,{variant:"destructive",children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs(Oe,{variant:"secondary",children:[r.jsx(fr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Type"}),r.jsx(se,{value:b.administrationRoute,onChange:J=>P(te=>({...te,administrationRoute:J.target.value})),placeholder:"Type (oral, topical...)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{children:"Date d'administration *"}),r.jsx(se,{type:"date",value:b.dateGiven,onChange:J=>P(te=>({...te,dateGiven:J.target.value})),required:!0})]}),!F.length&&r.jsxs("div",{children:[r.jsx(V,{children:"Date de rappel"}),r.jsx(se,{type:"date",value:b.nextDueDate,onChange:J=>P(te=>({...te,nextDueDate:J.target.value}))})]})]}),F.length>0&&r.jsx("div",{className:"space-y-4 mb-4",children:F.map(J=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["tapes pour ",J.name]}),J.intervals.map(te=>{const xe=`${J.id}-${te.offsetDays}`;return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[te.label," (+",te.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(V,{children:"Date exacte"}),r.jsx(se,{type:"date",id:xe,value:$[xe]||"",onChange:ve=>Q(re=>({...re,[xe]:ve.target.value}))})]})]},xe)})]},J.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{children:"Dosage"}),r.jsx(se,{value:b.dosage,onChange:J=>P(te=>({...te,dosage:J.target.value})),placeholder:"Dosage"})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Vtrinaire"}),r.jsxs($e,{value:b.veterinarian,onValueChange:J=>P(te=>({...te,veterinarian:J})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un vtrinaire"})}),r.jsx(Me,{children:(g.veterinarians||[]).filter(J=>J.isActive).map(J=>r.jsx(Y,{value:J.name,children:J.name},J.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{children:"Numro de lot"}),r.jsx(se,{value:b.batchNumber,onChange:J=>P(te=>({...te,batchNumber:J.target.value})),placeholder:"Numro de lot"})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Fabricant"}),r.jsx(se,{value:b.manufacturer,onChange:J=>P(te=>({...te,manufacturer:J.target.value})),placeholder:"Fabricant"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{children:"Poids"}),r.jsx(se,{value:b.weight,onChange:J=>P(te=>({...te,weight:J.target.value})),placeholder:"Poids"})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Cot"}),r.jsx(se,{type:"number",step:"0.01",value:b.cost,onChange:J=>P(te=>({...te,cost:J.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Effets indsirables"}),r.jsx(se,{value:b.sideEffects,onChange:J=>P(te=>({...te,sideEffects:J.target.value})),placeholder:"Effets indsirables"})]}),b.productName&&r.jsxs(he,{className:"mt-4",children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"text-sm flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4"}),"Rsum du stock"]})}),r.jsx(fe,{children:(()=>{const J=D.find(te=>te.name.toLowerCase()===b.productName.toLowerCase());return J?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:J.name}),r.jsxs(Oe,{variant:J.currentStock>=1?"default":"destructive",children:[J.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",J.manufacturer||"Non spcifi"]}),r.jsxs("div",{children:["Prix de vente: ",J.sellingPrice.toFixed(2)," ",g.currency]}),r.jsxs("div",{children:["Stock minimum: ",J.minimumStock]}),J.currentStock<=J.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:" Stock bas - Rapprovisionnement recommand"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-4 w-4"}),r.jsx("span",{children:"Antiparasitaire non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"L'antiparasitaire sera administr sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{variant:"outline",type:"button",onClick:()=>i?i(!1):y(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Ajouter"})]})]})]})]})}function npe({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:s,calculateDueDateFromProtocol:i}=ft(),{toast:a}=Ut(),[o,l]=w.useState({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){a({title:"Erreur",description:"Le nom du vtrinaire est requis",variant:"destructive"});return}let f=o.newNextDueDate;!f&&n&&(f=i(n.vaccineName,"chien",o.datePerformed)||""),s(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:f})&&(a({title:"Rappel confirm",description:`Le rappel de ${n.vaccineName} a t confirm et enregistr`}),l({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(f=>({...f,[d.target.name]:d.target.value}))};return n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[500px]",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Confirmer le rappel de vaccination"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination  confirmer :"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prvu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"datePerformed",children:"Date d'administration *"}),r.jsx(se,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"veterinarian",children:"Vtrinaire *"}),r.jsx(se,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vtrinaire",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"batchNumber",children:"Numro de lot"}),r.jsx(se,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numro de lot du vaccin"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),r.jsx(se,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calcule selon le protocole"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var rpe=Array.isArray,ei=rpe,spe=typeof or=="object"&&or&&or.Object===Object&&or,dU=spe,ipe=dU,ape=typeof self=="object"&&self&&self.Object===Object&&self,ope=ipe||ape||Function("return this")(),go=ope,lpe=go,cpe=lpe.Symbol,gv=cpe,$I=gv,hU=Object.prototype,upe=hU.hasOwnProperty,dpe=hU.toString,Wm=$I?$I.toStringTag:void 0;function hpe(e){var t=upe.call(e,Wm),n=e[Wm];try{e[Wm]=void 0;var s=!0}catch{}var i=dpe.call(e);return s&&(t?e[Wm]=n:delete e[Wm]),i}var fpe=hpe,mpe=Object.prototype,ppe=mpe.toString;function gpe(e){return ppe.call(e)}var vpe=gpe,RI=gv,xpe=fpe,ype=vpe,jpe="[object Null]",bpe="[object Undefined]",LI=RI?RI.toStringTag:void 0;function wpe(e){return e==null?e===void 0?bpe:jpe:LI&&LI in Object(e)?xpe(e):ype(e)}var dl=wpe;function Npe(e){return e!=null&&typeof e=="object"}var hl=Npe,Spe=dl,Cpe=hl,Ppe="[object Symbol]";function _pe(e){return typeof e=="symbol"||Cpe(e)&&Spe(e)==Ppe}var Kf=_pe,Ape=ei,Epe=Kf,kpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tpe=/^\w*$/;function Ope(e,t){if(Ape(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Epe(e)?!0:Tpe.test(e)||!kpe.test(e)||t!=null&&e in Object(t)}var _E=Ope;function Dpe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Rc=Dpe;const Yf=fn(Rc);var Mpe=dl,Ipe=Rc,$pe="[object AsyncFunction]",Rpe="[object Function]",Lpe="[object GeneratorFunction]",Fpe="[object Proxy]";function Bpe(e){if(!Ipe(e))return!1;var t=Mpe(e);return t==Rpe||t==Lpe||t==$pe||t==Fpe}var AE=Bpe;const yt=fn(AE);var zpe=go,Vpe=zpe["__core-js_shared__"],Upe=Vpe,jS=Upe,FI=function(){var e=/[^.]+$/.exec(jS&&jS.keys&&jS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qpe(e){return!!FI&&FI in e}var Wpe=qpe,Hpe=Function.prototype,Gpe=Hpe.toString;function Kpe(e){if(e!=null){try{return Gpe.call(e)}catch{}try{return e+""}catch{}}return""}var fU=Kpe,Ype=AE,Qpe=Wpe,Xpe=Rc,Jpe=fU,Zpe=/[\\^$.*+?()[\]{}|]/g,ege=/^\[object .+?Constructor\]$/,tge=Function.prototype,nge=Object.prototype,rge=tge.toString,sge=nge.hasOwnProperty,ige=RegExp("^"+rge.call(sge).replace(Zpe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function age(e){if(!Xpe(e)||Qpe(e))return!1;var t=Ype(e)?ige:ege;return t.test(Jpe(e))}var oge=age;function lge(e,t){return e==null?void 0:e[t]}var cge=lge,uge=oge,dge=cge;function hge(e,t){var n=dge(e,t);return uge(n)?n:void 0}var dd=hge,fge=dd,mge=fge(Object,"create"),qb=mge,BI=qb;function pge(){this.__data__=BI?BI(null):{},this.size=0}var gge=pge;function vge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xge=vge,yge=qb,jge="__lodash_hash_undefined__",bge=Object.prototype,wge=bge.hasOwnProperty;function Nge(e){var t=this.__data__;if(yge){var n=t[e];return n===jge?void 0:n}return wge.call(t,e)?t[e]:void 0}var Sge=Nge,Cge=qb,Pge=Object.prototype,_ge=Pge.hasOwnProperty;function Age(e){var t=this.__data__;return Cge?t[e]!==void 0:_ge.call(t,e)}var Ege=Age,kge=qb,Tge="__lodash_hash_undefined__";function Oge(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kge&&t===void 0?Tge:t,this}var Dge=Oge,Mge=gge,Ige=xge,$ge=Sge,Rge=Ege,Lge=Dge;function Qf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Qf.prototype.clear=Mge;Qf.prototype.delete=Ige;Qf.prototype.get=$ge;Qf.prototype.has=Rge;Qf.prototype.set=Lge;var Fge=Qf;function Bge(){this.__data__=[],this.size=0}var zge=Bge;function Vge(e,t){return e===t||e!==e&&t!==t}var EE=Vge,Uge=EE;function qge(e,t){for(var n=e.length;n--;)if(Uge(e[n][0],t))return n;return-1}var Wb=qge,Wge=Wb,Hge=Array.prototype,Gge=Hge.splice;function Kge(e){var t=this.__data__,n=Wge(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Gge.call(t,n,1),--this.size,!0}var Yge=Kge,Qge=Wb;function Xge(e){var t=this.__data__,n=Qge(t,e);return n<0?void 0:t[n][1]}var Jge=Xge,Zge=Wb;function eve(e){return Zge(this.__data__,e)>-1}var tve=eve,nve=Wb;function rve(e,t){var n=this.__data__,s=nve(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var sve=rve,ive=zge,ave=Yge,ove=Jge,lve=tve,cve=sve;function Xf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Xf.prototype.clear=ive;Xf.prototype.delete=ave;Xf.prototype.get=ove;Xf.prototype.has=lve;Xf.prototype.set=cve;var Hb=Xf,uve=dd,dve=go,hve=uve(dve,"Map"),kE=hve,zI=Fge,fve=Hb,mve=kE;function pve(){this.size=0,this.__data__={hash:new zI,map:new(mve||fve),string:new zI}}var gve=pve;function vve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var xve=vve,yve=xve;function jve(e,t){var n=e.__data__;return yve(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Gb=jve,bve=Gb;function wve(e){var t=bve(this,e).delete(e);return this.size-=t?1:0,t}var Nve=wve,Sve=Gb;function Cve(e){return Sve(this,e).get(e)}var Pve=Cve,_ve=Gb;function Ave(e){return _ve(this,e).has(e)}var Eve=Ave,kve=Gb;function Tve(e,t){var n=kve(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var Ove=Tve,Dve=gve,Mve=Nve,Ive=Pve,$ve=Eve,Rve=Ove;function Jf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Jf.prototype.clear=Dve;Jf.prototype.delete=Mve;Jf.prototype.get=Ive;Jf.prototype.has=$ve;Jf.prototype.set=Rve;var TE=Jf,mU=TE,Lve="Expected a function";function OE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Lve);var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,s);return n.cache=a.set(i,o)||a,o};return n.cache=new(OE.Cache||mU),n}OE.Cache=mU;var pU=OE;const Fve=fn(pU);var Bve=pU,zve=500;function Vve(e){var t=Bve(e,function(s){return n.size===zve&&n.clear(),s}),n=t.cache;return t}var Uve=Vve,qve=Uve,Wve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hve=/\\(\\)?/g,Gve=qve(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wve,function(n,s,i,a){t.push(i?a.replace(Hve,"$1"):s||n)}),t}),Kve=Gve;function Yve(e,t){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}var DE=Yve,VI=gv,Qve=DE,Xve=ei,Jve=Kf,Zve=1/0,UI=VI?VI.prototype:void 0,qI=UI?UI.toString:void 0;function gU(e){if(typeof e=="string")return e;if(Xve(e))return Qve(e,gU)+"";if(Jve(e))return qI?qI.call(e):"";var t=e+"";return t=="0"&&1/e==-Zve?"-0":t}var exe=gU,txe=exe;function nxe(e){return e==null?"":txe(e)}var vU=nxe,rxe=ei,sxe=_E,ixe=Kve,axe=vU;function oxe(e,t){return rxe(e)?e:sxe(e,t)?[e]:ixe(axe(e))}var xU=oxe,lxe=Kf,cxe=1/0;function uxe(e){if(typeof e=="string"||lxe(e))return e;var t=e+"";return t=="0"&&1/e==-cxe?"-0":t}var Kb=uxe,dxe=xU,hxe=Kb;function fxe(e,t){t=dxe(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[hxe(t[n++])];return n&&n==s?e:void 0}var ME=fxe,mxe=ME;function pxe(e,t,n){var s=e==null?void 0:mxe(e,t);return s===void 0?n:s}var yU=pxe;const yi=fn(yU);function gxe(e){return e==null}var vxe=gxe;const wt=fn(vxe);var xxe=dl,yxe=ei,jxe=hl,bxe="[object String]";function wxe(e){return typeof e=="string"||!yxe(e)&&jxe(e)&&xxe(e)==bxe}var Nxe=wxe;const Gu=fn(Nxe);var jU={exports:{}},yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE=Symbol.for("react.element"),$E=Symbol.for("react.portal"),Yb=Symbol.for("react.fragment"),Qb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Jb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),Sxe=Symbol.for("react.server_context"),ew=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),nw=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),sw=Symbol.for("react.lazy"),Cxe=Symbol.for("react.offscreen"),bU;bU=Symbol.for("react.module.reference");function Zi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IE:switch(e=e.type,e){case Yb:case Xb:case Qb:case tw:case nw:return e;default:switch(e=e&&e.$$typeof,e){case Sxe:case Zb:case ew:case sw:case rw:case Jb:return e;default:return t}}case $E:return t}}}yn.ContextConsumer=Zb;yn.ContextProvider=Jb;yn.Element=IE;yn.ForwardRef=ew;yn.Fragment=Yb;yn.Lazy=sw;yn.Memo=rw;yn.Portal=$E;yn.Profiler=Xb;yn.StrictMode=Qb;yn.Suspense=tw;yn.SuspenseList=nw;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(e){return Zi(e)===Zb};yn.isContextProvider=function(e){return Zi(e)===Jb};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IE};yn.isForwardRef=function(e){return Zi(e)===ew};yn.isFragment=function(e){return Zi(e)===Yb};yn.isLazy=function(e){return Zi(e)===sw};yn.isMemo=function(e){return Zi(e)===rw};yn.isPortal=function(e){return Zi(e)===$E};yn.isProfiler=function(e){return Zi(e)===Xb};yn.isStrictMode=function(e){return Zi(e)===Qb};yn.isSuspense=function(e){return Zi(e)===tw};yn.isSuspenseList=function(e){return Zi(e)===nw};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yb||e===Xb||e===Qb||e===tw||e===nw||e===Cxe||typeof e=="object"&&e!==null&&(e.$$typeof===sw||e.$$typeof===rw||e.$$typeof===Jb||e.$$typeof===Zb||e.$$typeof===ew||e.$$typeof===bU||e.getModuleId!==void 0)};yn.typeOf=Zi;jU.exports=yn;var Pxe=jU.exports,_xe=dl,Axe=hl,Exe="[object Number]";function kxe(e){return typeof e=="number"||Axe(e)&&_xe(e)==Exe}var wU=kxe;const Txe=fn(wU);var Oxe=wU;function Dxe(e){return Oxe(e)&&e!=+e}var Mxe=Dxe;const Zf=fn(Mxe);var Ps=function(t){return t===0?0:t>0?1:-1},pu=function(t){return Gu(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return Txe(t)&&!Zf(t)},Ixe=function(t){return wt(t)},Or=function(t){return Ve(t)||Gu(t)},$xe=0,hd=function(t){var n=++$xe;return"".concat(t||"").concat(n)},_s=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!Gu(t))return s;var a;if(pu(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Zf(a)&&(a=s),i&&a>n&&(a=n),a},zl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Rxe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},i=0;i<n;i++)if(!s[t[i]])s[t[i]]=!0;else return!0;return!1},kr=function(t,n){return Ve(t)&&Ve(n)?function(s){return t+s*(n-t)}:function(){return n}};function k0(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):yi(s,t))===n})}var Lxe=function(t,n){return Ve(t)&&Ve(n)?t-n:Gu(t)&&Gu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Ah(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function W2(e){"@babel/helpers - typeof";return W2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W2(e)}var Fxe=["viewBox","children"],Bxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WI=["points","pathLength"],bS={svg:Fxe,polygon:WI,polyline:WI},RE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],T0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!Yf(s))return null;var i={};return Object.keys(s).forEach(function(a){RE.includes(a)&&(i[a]=n||function(o){return s[a](s,o)})}),i},zxe=function(t,n,s){return function(i){return t(n,s,i),null}},Ku=function(t,n,s){if(!Yf(t)||W2(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];RE.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=zxe(o,n,s))}),i},Vxe=["children"],Uxe=["children"];function HI(e,t){if(e==null)return{};var n=qxe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function qxe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function H2(e){"@babel/helpers - typeof";return H2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H2(e)}var GI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Go=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},KI=null,wS=null,LE=function e(t){if(t===KI&&Array.isArray(wS))return wS;var n=[];return w.Children.forEach(t,function(s){wt(s)||(Pxe.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),wS=n,KI=t,n};function ji(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(i){return Go(i)}):s=[Go(t)],LE(e).forEach(function(i){var a=yi(i,"type.displayName")||yi(i,"type.name");s.indexOf(a)!==-1&&n.push(i)}),n}function di(e,t){var n=ji(e,t);return n&&n[0]}var YI=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,i=n.height;return!(!Ve(s)||s<=0||!Ve(i)||i<=0)},Wxe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Hxe=function(t){return t&&t.type&&Gu(t.type)&&Wxe.indexOf(t.type)>=0},NU=function(t){return t&&H2(t)==="object"&&"clipDot"in t},Gxe=function(t,n,s,i){var a,o=(a=bS==null?void 0:bS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(t)&&(i&&o.includes(n)||Bxe.includes(n))||s&&RE.includes(n)},ct=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!Yf(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;Gxe((l=i)===null||l===void 0?void 0:l[o],o,n,s)&&(a[o]=i[o])}),a},G2=function e(t,n){if(t===n)return!0;var s=w.Children.count(t);if(s!==w.Children.count(n))return!1;if(s===0)return!0;if(s===1)return QI(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<s;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!QI(a,o))return!1}return!0},QI=function(t,n){if(wt(t)&&wt(n))return!0;if(!wt(t)&&!wt(n)){var s=t.props||{},i=s.children,a=HI(s,Vxe),o=n.props||{},l=o.children,c=HI(o,Uxe);return i&&l?Ah(a,c)&&G2(i,l):!i&&!l?Ah(a,c):!1}return!1},XI=function(t,n){var s=[],i={};return LE(t).forEach(function(a,o){if(Hxe(a))s.push(a);else if(a){var l=Go(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);s.push(f),i[l]=!0}}}),s},Kxe=function(t){var n=t&&t.type;return n&&GI[n]?GI[n]:null},Yxe=function(t,n){return LE(n).indexOf(t)},Qxe=["children","width","height","viewBox","className","style","title","desc"];function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K2.apply(this,arguments)}function Xxe(e,t){if(e==null)return{};var n=Jxe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jxe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Y2(e){var t=e.children,n=e.width,s=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=Xxe(e,Qxe),d=i||{width:n,height:s,x:0,y:0},f=Ct("recharts-surface",a);return q.createElement("svg",K2({},ct(u,!0,"svg"),{className:f,width:n,height:s,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),t)}var Zxe=["children","className"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q2.apply(this,arguments)}function eye(e,t){if(e==null)return{};var n=tye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function tye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Yt=q.forwardRef(function(e,t){var n=e.children,s=e.className,i=eye(e,Zxe),a=Ct("recharts-layer",s);return q.createElement("g",Q2({className:a},ct(i,!0),{ref:t}),n)}),Ca=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a]};function nye(e,t,n){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++s<i;)a[s]=e[s+t];return a}var rye=nye,sye=rye;function iye(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:sye(e,t,n)}var aye=iye,oye="\\ud800-\\udfff",lye="\\u0300-\\u036f",cye="\\ufe20-\\ufe2f",uye="\\u20d0-\\u20ff",dye=lye+cye+uye,hye="\\ufe0e\\ufe0f",fye="\\u200d",mye=RegExp("["+fye+oye+dye+hye+"]");function pye(e){return mye.test(e)}var SU=pye;function gye(e){return e.split("")}var vye=gye,CU="\\ud800-\\udfff",xye="\\u0300-\\u036f",yye="\\ufe20-\\ufe2f",jye="\\u20d0-\\u20ff",bye=xye+yye+jye,wye="\\ufe0e\\ufe0f",Nye="["+CU+"]",X2="["+bye+"]",J2="\\ud83c[\\udffb-\\udfff]",Sye="(?:"+X2+"|"+J2+")",PU="[^"+CU+"]",_U="(?:\\ud83c[\\udde6-\\uddff]){2}",AU="[\\ud800-\\udbff][\\udc00-\\udfff]",Cye="\\u200d",EU=Sye+"?",kU="["+wye+"]?",Pye="(?:"+Cye+"(?:"+[PU,_U,AU].join("|")+")"+kU+EU+")*",_ye=kU+EU+Pye,Aye="(?:"+[PU+X2+"?",X2,_U,AU,Nye].join("|")+")",Eye=RegExp(J2+"(?="+J2+")|"+Aye+_ye,"g");function kye(e){return e.match(Eye)||[]}var Tye=kye,Oye=vye,Dye=SU,Mye=Tye;function Iye(e){return Dye(e)?Mye(e):Oye(e)}var $ye=Iye,Rye=aye,Lye=SU,Fye=$ye,Bye=vU;function zye(e){return function(t){t=Bye(t);var n=Lye(t)?Fye(t):void 0,s=n?n[0]:t.charAt(0),i=n?Rye(n,1).join(""):t.slice(1);return s[e]()+i}}var Vye=zye,Uye=Vye,qye=Uye("toUpperCase"),Wye=qye;const iw=fn(Wye);function kn(e){return function(){return e}}const TU=Math.cos,O0=Math.sin,Ra=Math.sqrt,D0=Math.PI,aw=2*D0,Z2=Math.PI,eP=2*Z2,iu=1e-6,Hye=eP-iu;function OU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Gye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OU;const n=10**t;return function(s){this._+=s[0];for(let i=1,a=s.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+s[i]}}class Kye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OU:Gye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,i){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(t,n,s,i,a,o){this._append`C${+t},${+n},${+s},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,s,i,a){if(t=+t,n=+n,s=+s,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=s-t,u=i-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>iu)if(!(Math.abs(f*c-u*d)>iu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=s-o,x=i-l,v=c*c+u*u,y=g*g+x*x,N=Math.sqrt(v),j=Math.sqrt(m),b=a*Math.tan((Z2-Math.acos((v+m-y)/(2*N*j)))/2),P=b/j,C=b/N;Math.abs(P-1)>iu&&this._append`L${t+P*d},${n+P*f}`,this._append`A${a},${a},0,0,${+(f*g>d*x)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,s,i,a,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(i),c=s*Math.sin(i),u=t+l,d=n+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>iu||Math.abs(this._y1-d)>iu)&&this._append`L${u},${d}`,s&&(m<0&&(m=m%eP+eP),m>Hye?this._append`A${s},${s},0,1,${f},${t-l},${n-c}A${s},${s},0,1,${f},${this._x1=u},${this._y1=d}`:m>iu&&this._append`A${s},${s},0,${+(m>=Z2)},${f},${this._x1=t+s*Math.cos(a)},${this._y1=n+s*Math.sin(a)}`)}rect(t,n,s,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function FE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new Kye(t)}function BE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DU(e){this._context=e}DU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ow(e){return new DU(e)}function MU(e){return e[0]}function IU(e){return e[1]}function $U(e,t){var n=kn(!0),s=null,i=ow,a=null,o=FE(l);e=typeof e=="function"?e:e===void 0?MU:kn(e),t=typeof t=="function"?t:t===void 0?IU:kn(t);function l(c){var u,d=(c=BE(c)).length,f,m=!1,g;for(s==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:kn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:kn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:kn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,s!=null&&(a=i(s)),l):i},l.context=function(c){return arguments.length?(c==null?s=a=null:a=i(s=c),l):s},l}function ay(e,t,n){var s=null,i=kn(!0),a=null,o=ow,l=null,c=FE(u);e=typeof e=="function"?e:e===void 0?MU:kn(+e),t=typeof t=="function"?t:kn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?IU:kn(+n);function u(f){var m,g,x,v=(f=BE(f)).length,y,N=!1,j,b=new Array(v),P=new Array(v);for(a==null&&(l=o(j=c())),m=0;m<=v;++m){if(!(m<v&&i(y=f[m],m,f))===N)if(N=!N)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(b[x],P[x]);l.lineEnd(),l.areaEnd()}N&&(b[m]=+e(y,m,f),P[m]=+t(y,m,f),l.point(s?+s(y,m,f):b[m],n?+n(y,m,f):P[m]))}if(j)return l=null,j+""||null}function d(){return $U().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:kn(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:kn(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:kn(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:kn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:kn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:kn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:kn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class RU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Yye(e){return new RU(e,!0)}function Qye(e){return new RU(e,!1)}const zE={draw(e,t){const n=Ra(t/D0);e.moveTo(n,0),e.arc(0,0,n,0,aw)}},Xye={draw(e,t){const n=Ra(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},LU=Ra(1/3),Jye=LU*2,Zye={draw(e,t){const n=Ra(t/Jye),s=n*LU;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},e0e={draw(e,t){const n=Ra(t),s=-n/2;e.rect(s,s,n,n)}},t0e=.8908130915292852,FU=O0(D0/10)/O0(7*D0/10),n0e=O0(aw/10)*FU,r0e=-TU(aw/10)*FU,s0e={draw(e,t){const n=Ra(t*t0e),s=n0e*n,i=r0e*n;e.moveTo(0,-n),e.lineTo(s,i);for(let a=1;a<5;++a){const o=aw*a/5,l=TU(o),c=O0(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*i,c*s+l*i)}e.closePath()}},NS=Ra(3),i0e={draw(e,t){const n=-Ra(t/(NS*3));e.moveTo(0,n*2),e.lineTo(-NS*n,-n),e.lineTo(NS*n,-n),e.closePath()}},Di=-.5,Mi=Ra(3)/2,tP=1/Ra(12),a0e=(tP/2+1)*3,o0e={draw(e,t){const n=Ra(t/a0e),s=n/2,i=n*tP,a=s,o=n*tP+n,l=-a,c=o;e.moveTo(s,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Di*s-Mi*i,Mi*s+Di*i),e.lineTo(Di*a-Mi*o,Mi*a+Di*o),e.lineTo(Di*l-Mi*c,Mi*l+Di*c),e.lineTo(Di*s+Mi*i,Di*i-Mi*s),e.lineTo(Di*a+Mi*o,Di*o-Mi*a),e.lineTo(Di*l+Mi*c,Di*c-Mi*l),e.closePath()}};function l0e(e,t){let n=null,s=FE(i);e=typeof e=="function"?e:kn(e||zE),t=typeof t=="function"?t:kn(t===void 0?64:+t);function i(){let a;if(n||(n=a=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:kn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:kn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function M0(){}function I0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function BU(e){this._context=e}BU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:I0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:I0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c0e(e){return new BU(e)}function zU(e){this._context=e}zU.prototype={areaStart:M0,areaEnd:M0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:I0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u0e(e){return new zU(e)}function VU(e){this._context=e}VU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:I0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d0e(e){return new VU(e)}function UU(e){this._context=e}UU.prototype={areaStart:M0,areaEnd:M0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function h0e(e){return new UU(e)}function JI(e){return e<0?-1:1}function ZI(e,t,n){var s=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(s||i<0&&-0),o=(n-e._y1)/(i||s<0&&-0),l=(a*i+o*s)/(s+i);return(JI(a)+JI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function e$(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function SS(e,t,n){var s=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-s)/3;e._context.bezierCurveTo(s+l,i+l*t,a-l,o-l*n,a,o)}function $0(e){this._context=e}$0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SS(this,this._t0,e$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,SS(this,e$(this,n=ZI(this,e,t)),n);break;default:SS(this,this._t0,n=ZI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function qU(e){this._context=new WU(e)}(qU.prototype=Object.create($0.prototype)).point=function(e,t){$0.prototype.point.call(this,t,e)};function WU(e){this._context=e}WU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,i,a){this._context.bezierCurveTo(t,e,s,n,a,i)}};function f0e(e){return new $0(e)}function m0e(e){return new qU(e)}function HU(e){this._context=e}HU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=t$(e),i=t$(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(s[0][a],i[0][a],s[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function t$(e){var t,n=e.length-1,s,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=i[t]/a[t-1],a[t]-=s,o[t]-=s*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function p0e(e){return new HU(e)}function lw(e,t){this._context=e,this._t=t}lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function g0e(e){return new lw(e,.5)}function v0e(e){return new lw(e,0)}function x0e(e){return new lw(e,1)}function sf(e,t){if((o=e.length)>1)for(var n=1,s,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],s=0;s<l;++s)a[s][1]+=a[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function nP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function y0e(e,t){return e[t]}function j0e(e){const t=[];return t.key=e,t}function b0e(){var e=kn([]),t=nP,n=sf,s=y0e;function i(a){var o=Array.from(e.apply(this,arguments),j0e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(f,o[l].key,u,a)]).data=f;for(l=0,d=BE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:kn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(s=typeof a=="function"?a:kn(+a),i):s},i.order=function(a){return arguments.length?(t=a==null?nP:typeof a=="function"?a:kn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??sf,i):n},i}function w0e(e,t){if((s=e.length)>0){for(var n,s,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<s;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<s;++n)e[n][i][1]/=o}sf(e,t)}}function N0e(e,t){if((i=e.length)>0){for(var n=0,s=e[t[0]],i,a=s.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}sf(e,t)}}function S0e(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,s=1,i,a,o;s<a;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[s][1]||0,m=d[s-1][1]||0,g=(f-m)/2,x=0;x<l;++x){var v=e[t[x]],y=v[s][1]||0,N=v[s-1][1]||0;g+=y-N}c+=f,u+=g*f}i[s-1][1]+=i[s-1][0]=n,c&&(n-=u/c)}i[s-1][1]+=i[s-1][0]=n,sf(e,t)}}function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}var C0e=["type","size","sizeType"];function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rP.apply(this,arguments)}function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function r$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(n),!0).forEach(function(s){P0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function P0e(e,t,n){return t=_0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _0e(e){var t=A0e(e,"string");return lg(t)=="symbol"?t:t+""}function A0e(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(lg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E0e(e,t){if(e==null)return{};var n=k0e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function k0e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var GU={symbolCircle:zE,symbolCross:Xye,symbolDiamond:Zye,symbolSquare:e0e,symbolStar:s0e,symbolTriangle:i0e,symbolWye:o0e},T0e=Math.PI/180,O0e=function(t){var n="symbol".concat(iw(t));return GU[n]||zE},D0e=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*T0e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},M0e=function(t,n){GU["symbol".concat(iw(t))]=n},VE=function(t){var n=t.type,s=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=E0e(t,C0e),u=r$(r$({},c),{},{type:s,size:a,sizeType:l}),d=function(){var y=O0e(s),N=l0e().type(y).size(D0e(a,l,s));return N()},f=u.className,m=u.cx,g=u.cy,x=ct(u,!0);return m===+m&&g===+g&&a===+a?q.createElement("path",rP({},x,{className:Ct("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};VE.registerSymbol=M0e;function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sP.apply(this,arguments)}function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function I0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(n),!0).forEach(function(s){cg(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R0e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YU(s.key),s)}}function L0e(e,t,n){return t&&R0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F0e(e,t,n){return t=R0(t),B0e(e,KU()?Reflect.construct(t,n||[],R0(e).constructor):t.apply(e,n))}function B0e(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z0e(e)}function z0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(e)}function V0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iP(e,t)}function iP(e,t){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},iP(e,t)}function cg(e,t,n){return t=YU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(e){var t=U0e(e,"string");return af(t)=="symbol"?t:t+""}function U0e(e,t){if(af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ii=32,UE=function(e){function t(){return $0e(this,t),F0e(this,t,arguments)}return V0e(t,e),L0e(t,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,a=Ii/2,o=Ii/6,l=Ii/3,c=s.inactive?i:s.color;if(s.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:a,x2:Ii,y2:a,className:"recharts-legend-icon"});if(s.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ii,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(s.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ii/8,"h").concat(Ii,"v").concat(Ii*3/4,"h").concat(-Ii,"z"),className:"recharts-legend-icon"});if(q.isValidElement(s.legendIcon)){var u=I0e({},s);return delete u.legendIcon,q.cloneElement(s.legendIcon,u)}return q.createElement(VE,{fill:c,cx:a,cy:a,size:Ii,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ii,height:Ii},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,x){var v=g.formatter||c,y=Ct(cg(cg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=yt(g.value)?null:g.value;Ca(!yt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=g.inactive?u:g.color;return q.createElement("li",sP({className:y,style:f,key:"legend-item-".concat(x)},Ku(s.props,g,x)),q.createElement(Y2,{width:o,height:o,viewBox:d,style:m},s.renderIcon(g)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},v?v(N,g,x):N))})}},{key:"render",value:function(){var s=this.props,i=s.payload,a=s.layout,o=s.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);cg(UE,"displayName","Legend");cg(UE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var q0e=Hb;function W0e(){this.__data__=new q0e,this.size=0}var H0e=W0e;function G0e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var K0e=G0e;function Y0e(e){return this.__data__.get(e)}var Q0e=Y0e;function X0e(e){return this.__data__.has(e)}var J0e=X0e,Z0e=Hb,eje=kE,tje=TE,nje=200;function rje(e,t){var n=this.__data__;if(n instanceof Z0e){var s=n.__data__;if(!eje||s.length<nje-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new tje(s)}return n.set(e,t),this.size=n.size,this}var sje=rje,ije=Hb,aje=H0e,oje=K0e,lje=Q0e,cje=J0e,uje=sje;function em(e){var t=this.__data__=new ije(e);this.size=t.size}em.prototype.clear=aje;em.prototype.delete=oje;em.prototype.get=lje;em.prototype.has=cje;em.prototype.set=uje;var QU=em,dje="__lodash_hash_undefined__";function hje(e){return this.__data__.set(e,dje),this}var fje=hje;function mje(e){return this.__data__.has(e)}var pje=mje,gje=TE,vje=fje,xje=pje;function L0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gje;++t<n;)this.add(e[t])}L0.prototype.add=L0.prototype.push=vje;L0.prototype.has=xje;var XU=L0;function yje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var JU=yje;function jje(e,t){return e.has(t)}var ZU=jje,bje=XU,wje=JU,Nje=ZU,Sje=1,Cje=2;function Pje(e,t,n,s,i,a){var o=n&Sje,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,g=n&Cje?new bje:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],v=t[f];if(s)var y=o?s(v,x,f,t,e,a):s(x,v,f,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(g){if(!wje(t,function(N,j){if(!Nje(g,j)&&(x===N||i(x,N,n,s,a)))return g.push(j)})){m=!1;break}}else if(!(x===v||i(x,v,n,s,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var eq=Pje,_je=go,Aje=_je.Uint8Array,Eje=Aje;function kje(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var Tje=kje;function Oje(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var qE=Oje,i$=gv,a$=Eje,Dje=EE,Mje=eq,Ije=Tje,$je=qE,Rje=1,Lje=2,Fje="[object Boolean]",Bje="[object Date]",zje="[object Error]",Vje="[object Map]",Uje="[object Number]",qje="[object RegExp]",Wje="[object Set]",Hje="[object String]",Gje="[object Symbol]",Kje="[object ArrayBuffer]",Yje="[object DataView]",o$=i$?i$.prototype:void 0,CS=o$?o$.valueOf:void 0;function Qje(e,t,n,s,i,a,o){switch(n){case Yje:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Kje:return!(e.byteLength!=t.byteLength||!a(new a$(e),new a$(t)));case Fje:case Bje:case Uje:return Dje(+e,+t);case zje:return e.name==t.name&&e.message==t.message;case qje:case Hje:return e==t+"";case Vje:var l=Ije;case Wje:var c=s&Rje;if(l||(l=$je),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=Lje,o.set(e,t);var d=Mje(l(e),l(t),s,i,a,o);return o.delete(e),d;case Gje:if(CS)return CS.call(e)==CS.call(t)}return!1}var Xje=Qje;function Jje(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var tq=Jje,Zje=tq,ebe=ei;function tbe(e,t,n){var s=t(e);return ebe(e)?s:Zje(s,n(e))}var nbe=tbe;function rbe(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var sbe=rbe;function ibe(){return[]}var abe=ibe,obe=sbe,lbe=abe,cbe=Object.prototype,ube=cbe.propertyIsEnumerable,l$=Object.getOwnPropertySymbols,dbe=l$?function(e){return e==null?[]:(e=Object(e),obe(l$(e),function(t){return ube.call(e,t)}))}:lbe,hbe=dbe;function fbe(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var mbe=fbe,pbe=dl,gbe=hl,vbe="[object Arguments]";function xbe(e){return gbe(e)&&pbe(e)==vbe}var ybe=xbe,c$=ybe,jbe=hl,nq=Object.prototype,bbe=nq.hasOwnProperty,wbe=nq.propertyIsEnumerable,Nbe=c$(function(){return arguments}())?c$:function(e){return jbe(e)&&bbe.call(e,"callee")&&!wbe.call(e,"callee")},WE=Nbe,F0={exports:{}};function Sbe(){return!1}var Cbe=Sbe;F0.exports;(function(e,t){var n=go,s=Cbe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(F0,F0.exports);var rq=F0.exports,Pbe=9007199254740991,_be=/^(?:0|[1-9]\d*)$/;function Abe(e,t){var n=typeof e;return t=t??Pbe,!!t&&(n=="number"||n!="symbol"&&_be.test(e))&&e>-1&&e%1==0&&e<t}var HE=Abe,Ebe=9007199254740991;function kbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ebe}var GE=kbe,Tbe=dl,Obe=GE,Dbe=hl,Mbe="[object Arguments]",Ibe="[object Array]",$be="[object Boolean]",Rbe="[object Date]",Lbe="[object Error]",Fbe="[object Function]",Bbe="[object Map]",zbe="[object Number]",Vbe="[object Object]",Ube="[object RegExp]",qbe="[object Set]",Wbe="[object String]",Hbe="[object WeakMap]",Gbe="[object ArrayBuffer]",Kbe="[object DataView]",Ybe="[object Float32Array]",Qbe="[object Float64Array]",Xbe="[object Int8Array]",Jbe="[object Int16Array]",Zbe="[object Int32Array]",ewe="[object Uint8Array]",twe="[object Uint8ClampedArray]",nwe="[object Uint16Array]",rwe="[object Uint32Array]",Fn={};Fn[Ybe]=Fn[Qbe]=Fn[Xbe]=Fn[Jbe]=Fn[Zbe]=Fn[ewe]=Fn[twe]=Fn[nwe]=Fn[rwe]=!0;Fn[Mbe]=Fn[Ibe]=Fn[Gbe]=Fn[$be]=Fn[Kbe]=Fn[Rbe]=Fn[Lbe]=Fn[Fbe]=Fn[Bbe]=Fn[zbe]=Fn[Vbe]=Fn[Ube]=Fn[qbe]=Fn[Wbe]=Fn[Hbe]=!1;function swe(e){return Dbe(e)&&Obe(e.length)&&!!Fn[Tbe(e)]}var iwe=swe;function awe(e){return function(t){return e(t)}}var sq=awe,B0={exports:{}};B0.exports;(function(e,t){var n=dU,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(B0,B0.exports);var owe=B0.exports,lwe=iwe,cwe=sq,u$=owe,d$=u$&&u$.isTypedArray,uwe=d$?cwe(d$):lwe,iq=uwe,dwe=mbe,hwe=WE,fwe=ei,mwe=rq,pwe=HE,gwe=iq,vwe=Object.prototype,xwe=vwe.hasOwnProperty;function ywe(e,t){var n=fwe(e),s=!n&&hwe(e),i=!n&&!s&&mwe(e),a=!n&&!s&&!i&&gwe(e),o=n||s||i||a,l=o?dwe(e.length,String):[],c=l.length;for(var u in e)(t||xwe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||pwe(u,c)))&&l.push(u);return l}var jwe=ywe,bwe=Object.prototype;function wwe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||bwe;return e===n}var Nwe=wwe;function Swe(e,t){return function(n){return e(t(n))}}var aq=Swe,Cwe=aq,Pwe=Cwe(Object.keys,Object),_we=Pwe,Awe=Nwe,Ewe=_we,kwe=Object.prototype,Twe=kwe.hasOwnProperty;function Owe(e){if(!Awe(e))return Ewe(e);var t=[];for(var n in Object(e))Twe.call(e,n)&&n!="constructor"&&t.push(n);return t}var Dwe=Owe,Mwe=AE,Iwe=GE;function $we(e){return e!=null&&Iwe(e.length)&&!Mwe(e)}var vv=$we,Rwe=jwe,Lwe=Dwe,Fwe=vv;function Bwe(e){return Fwe(e)?Rwe(e):Lwe(e)}var cw=Bwe,zwe=nbe,Vwe=hbe,Uwe=cw;function qwe(e){return zwe(e,Uwe,Vwe)}var Wwe=qwe,h$=Wwe,Hwe=1,Gwe=Object.prototype,Kwe=Gwe.hasOwnProperty;function Ywe(e,t,n,s,i,a){var o=n&Hwe,l=h$(e),c=l.length,u=h$(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:Kwe.call(t,m)))return!1}var g=a.get(e),x=a.get(t);if(g&&x)return g==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){m=l[f];var N=e[m],j=t[m];if(s)var b=o?s(j,N,m,t,e,a):s(N,j,m,e,t,a);if(!(b===void 0?N===j||i(N,j,n,s,a):b)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var P=e.constructor,C=t.constructor;P!=C&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(e),a.delete(t),v}var Qwe=Ywe,Xwe=dd,Jwe=go,Zwe=Xwe(Jwe,"DataView"),e1e=Zwe,t1e=dd,n1e=go,r1e=t1e(n1e,"Promise"),s1e=r1e,i1e=dd,a1e=go,o1e=i1e(a1e,"Set"),oq=o1e,l1e=dd,c1e=go,u1e=l1e(c1e,"WeakMap"),d1e=u1e,aP=e1e,oP=kE,lP=s1e,cP=oq,uP=d1e,lq=dl,tm=fU,f$="[object Map]",h1e="[object Object]",m$="[object Promise]",p$="[object Set]",g$="[object WeakMap]",v$="[object DataView]",f1e=tm(aP),m1e=tm(oP),p1e=tm(lP),g1e=tm(cP),v1e=tm(uP),au=lq;(aP&&au(new aP(new ArrayBuffer(1)))!=v$||oP&&au(new oP)!=f$||lP&&au(lP.resolve())!=m$||cP&&au(new cP)!=p$||uP&&au(new uP)!=g$)&&(au=function(e){var t=lq(e),n=t==h1e?e.constructor:void 0,s=n?tm(n):"";if(s)switch(s){case f1e:return v$;case m1e:return f$;case p1e:return m$;case g1e:return p$;case v1e:return g$}return t});var x1e=au,PS=QU,y1e=eq,j1e=Xje,b1e=Qwe,x$=x1e,y$=ei,j$=rq,w1e=iq,N1e=1,b$="[object Arguments]",w$="[object Array]",oy="[object Object]",S1e=Object.prototype,N$=S1e.hasOwnProperty;function C1e(e,t,n,s,i,a){var o=y$(e),l=y$(t),c=o?w$:x$(e),u=l?w$:x$(t);c=c==b$?oy:c,u=u==b$?oy:u;var d=c==oy,f=u==oy,m=c==u;if(m&&j$(e)){if(!j$(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new PS),o||w1e(e)?y1e(e,t,n,s,i,a):j1e(e,t,c,n,s,i,a);if(!(n&N1e)){var g=d&&N$.call(e,"__wrapped__"),x=f&&N$.call(t,"__wrapped__");if(g||x){var v=g?e.value():e,y=x?t.value():t;return a||(a=new PS),i(v,y,n,s,a)}}return m?(a||(a=new PS),b1e(e,t,n,s,i,a)):!1}var P1e=C1e,_1e=P1e,S$=hl;function cq(e,t,n,s,i){return e===t?!0:e==null||t==null||!S$(e)&&!S$(t)?e!==e&&t!==t:_1e(e,t,n,s,cq,i)}var KE=cq,A1e=QU,E1e=KE,k1e=1,T1e=2;function O1e(e,t,n,s){var i=n.length,a=i,o=!s;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new A1e;if(s)var m=s(u,d,c,e,t,f);if(!(m===void 0?E1e(d,u,k1e|T1e,s,f):m))return!1}}return!0}var D1e=O1e,M1e=Rc;function I1e(e){return e===e&&!M1e(e)}var uq=I1e,$1e=uq,R1e=cw;function L1e(e){for(var t=R1e(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,$1e(i)]}return t}var F1e=L1e;function B1e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var dq=B1e,z1e=D1e,V1e=F1e,U1e=dq;function q1e(e){var t=V1e(e);return t.length==1&&t[0][2]?U1e(t[0][0],t[0][1]):function(n){return n===e||z1e(n,e,t)}}var W1e=q1e;function H1e(e,t){return e!=null&&t in Object(e)}var G1e=H1e,K1e=xU,Y1e=WE,Q1e=ei,X1e=HE,J1e=GE,Z1e=Kb;function eNe(e,t,n){t=K1e(t,e);for(var s=-1,i=t.length,a=!1;++s<i;){var o=Z1e(t[s]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++s!=i?a:(i=e==null?0:e.length,!!i&&J1e(i)&&X1e(o,i)&&(Q1e(e)||Y1e(e)))}var tNe=eNe,nNe=G1e,rNe=tNe;function sNe(e,t){return e!=null&&rNe(e,t,nNe)}var iNe=sNe,aNe=KE,oNe=yU,lNe=iNe,cNe=_E,uNe=uq,dNe=dq,hNe=Kb,fNe=1,mNe=2;function pNe(e,t){return cNe(e)&&uNe(t)?dNe(hNe(e),t):function(n){var s=oNe(n,e);return s===void 0&&s===t?lNe(n,e):aNe(t,s,fNe|mNe)}}var gNe=pNe;function vNe(e){return e}var nm=vNe;function xNe(e){return function(t){return t==null?void 0:t[e]}}var yNe=xNe,jNe=ME;function bNe(e){return function(t){return jNe(t,e)}}var wNe=bNe,NNe=yNe,SNe=wNe,CNe=_E,PNe=Kb;function _Ne(e){return CNe(e)?NNe(PNe(e)):SNe(e)}var ANe=_Ne,ENe=W1e,kNe=gNe,TNe=nm,ONe=ei,DNe=ANe;function MNe(e){return typeof e=="function"?e:e==null?TNe:typeof e=="object"?ONe(e)?kNe(e[0],e[1]):ENe(e):DNe(e)}var vo=MNe;function INe(e,t,n,s){for(var i=e.length,a=n+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var hq=INe;function $Ne(e){return e!==e}var RNe=$Ne;function LNe(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}var FNe=LNe,BNe=hq,zNe=RNe,VNe=FNe;function UNe(e,t,n){return t===t?VNe(e,t,n):BNe(e,zNe,n)}var qNe=UNe,WNe=qNe;function HNe(e,t){var n=e==null?0:e.length;return!!n&&WNe(e,t,0)>-1}var GNe=HNe;function KNe(e,t,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(t,e[s]))return!0;return!1}var YNe=KNe;function QNe(){}var XNe=QNe,_S=oq,JNe=XNe,ZNe=qE,eSe=1/0,tSe=_S&&1/ZNe(new _S([,-0]))[1]==eSe?function(e){return new _S(e)}:JNe,nSe=tSe,rSe=XU,sSe=GNe,iSe=YNe,aSe=ZU,oSe=nSe,lSe=qE,cSe=200;function uSe(e,t,n){var s=-1,i=sSe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=iSe;else if(a>=cSe){var u=t?null:oSe(e);if(u)return lSe(u);o=!1,i=aSe,c=new rSe}else c=t?[]:l;e:for(;++s<a;){var d=e[s],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var dSe=uSe,hSe=vo,fSe=dSe;function mSe(e,t){return e&&e.length?fSe(e,hSe(t)):[]}var pSe=mSe;const C$=fn(pSe);function fq(e,t,n){return t===!0?C$(e,n):yt(t)?C$(e,t):e}function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}var gSe=["ref"];function P$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(n),!0).forEach(function(s){uw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pq(s.key),s)}}function xSe(e,t,n){return t&&_$(e.prototype,t),n&&_$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ySe(e,t,n){return t=z0(t),jSe(e,mq()?Reflect.construct(t,n||[],z0(e).constructor):t.apply(e,n))}function jSe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bSe(e)}function bSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mq=function(){return!!e})()}function z0(e){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z0(e)}function wSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dP(e,t)}function dP(e,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},dP(e,t)}function uw(e,t,n){return t=pq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pq(e){var t=NSe(e,"string");return of(t)=="symbol"?t:t+""}function NSe(e,t){if(of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SSe(e,t){if(e==null)return{};var n=CSe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function CSe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function PSe(e){return e.value}function _Se(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=SSe(t,gSe);return q.createElement(UE,n)}var A$=1,Eh=function(e){function t(){var n;vSe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=ySe(this,t,[].concat(i)),uw(n,"lastBoundingBox",{width:-1,height:-1}),n}return wSe(t,e),xSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>A$||Math.abs(i.height-this.lastBoundingBox.height)>A$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,s&&s(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Eo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Eo(Eo({},f),m)}},{key:"render",value:function(){var s=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Eo(Eo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){s.wrapperNode=g}},_Se(a,Eo(Eo({},this.props),{},{payload:fq(d,u,PSe)})))}}],[{key:"getWithHeight",value:function(s,i){var a=Eo(Eo({},this.defaultProps),s.props),o=a.layout;return o==="vertical"&&Ve(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}])}(w.PureComponent);uw(Eh,"displayName","Legend");uw(Eh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var E$=gv,ASe=WE,ESe=ei,k$=E$?E$.isConcatSpreadable:void 0;function kSe(e){return ESe(e)||ASe(e)||!!(k$&&e&&e[k$])}var TSe=kSe,OSe=tq,DSe=TSe;function gq(e,t,n,s,i){var a=-1,o=e.length;for(n||(n=DSe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?gq(l,t-1,n,s,i):OSe(i,l):s||(i[i.length]=l)}return i}var vq=gq;function MSe(e){return function(t,n,s){for(var i=-1,a=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var ISe=MSe,$Se=ISe,RSe=$Se(),LSe=RSe,FSe=LSe,BSe=cw;function zSe(e,t){return e&&FSe(e,t,BSe)}var xq=zSe,VSe=vv;function USe(e,t){return function(n,s){if(n==null)return n;if(!VSe(n))return e(n,s);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&s(o[a],a,o)!==!1;);return n}}var qSe=USe,WSe=xq,HSe=qSe,GSe=HSe(WSe),YE=GSe,KSe=YE,YSe=vv;function QSe(e,t){var n=-1,s=YSe(e)?Array(e.length):[];return KSe(e,function(i,a,o){s[++n]=t(i,a,o)}),s}var yq=QSe;function XSe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var JSe=XSe,T$=Kf;function ZSe(e,t){if(e!==t){var n=e!==void 0,s=e===null,i=e===e,a=T$(e),o=t!==void 0,l=t===null,c=t===t,u=T$(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||s&&o&&c||!n&&c||!i)return 1;if(!s&&!a&&!u&&e<t||u&&n&&i&&!s&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var eCe=ZSe,tCe=eCe;function nCe(e,t,n){for(var s=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++s<o;){var c=tCe(i[s],a[s]);if(c){if(s>=l)return c;var u=n[s];return c*(u=="desc"?-1:1)}}return e.index-t.index}var rCe=nCe,AS=DE,sCe=ME,iCe=vo,aCe=yq,oCe=JSe,lCe=sq,cCe=rCe,uCe=nm,dCe=ei;function hCe(e,t,n){t.length?t=AS(t,function(a){return dCe(a)?function(o){return sCe(o,a.length===1?a[0]:a)}:a}):t=[uCe];var s=-1;t=AS(t,lCe(iCe));var i=aCe(e,function(a,o,l){var c=AS(t,function(u){return u(a)});return{criteria:c,index:++s,value:a}});return oCe(i,function(a,o){return cCe(a,o,n)})}var fCe=hCe;function mCe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var pCe=mCe,gCe=pCe,O$=Math.max;function vCe(e,t,n){return t=O$(t===void 0?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=O$(s.length-t,0),o=Array(a);++i<a;)o[i]=s[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=s[i];return l[t]=n(o),gCe(e,this,l)}}var xCe=vCe;function yCe(e){return function(){return e}}var jCe=yCe,bCe=dd,wCe=function(){try{var e=bCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jq=wCe,NCe=jCe,D$=jq,SCe=nm,CCe=D$?function(e,t){return D$(e,"toString",{configurable:!0,enumerable:!1,value:NCe(t),writable:!0})}:SCe,PCe=CCe,_Ce=800,ACe=16,ECe=Date.now;function kCe(e){var t=0,n=0;return function(){var s=ECe(),i=ACe-(s-n);if(n=s,i>0){if(++t>=_Ce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var TCe=kCe,OCe=PCe,DCe=TCe,MCe=DCe(OCe),ICe=MCe,$Ce=nm,RCe=xCe,LCe=ICe;function FCe(e,t){return LCe(RCe(e,t,$Ce),e+"")}var BCe=FCe,zCe=EE,VCe=vv,UCe=HE,qCe=Rc;function WCe(e,t,n){if(!qCe(n))return!1;var s=typeof t;return(s=="number"?VCe(n)&&UCe(t,n.length):s=="string"&&t in n)?zCe(n[t],e):!1}var dw=WCe,HCe=vq,GCe=fCe,KCe=BCe,M$=dw,YCe=KCe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&M$(e,t[0],t[1])?t=[]:n>2&&M$(t[0],t[1],t[2])&&(t=[t[0]]),GCe(e,HCe(t,1),[])}),QCe=YCe;const QE=fn(QCe);function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function hP(){return hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hP.apply(this,arguments)}function XCe(e,t){return t2e(e)||e2e(e,t)||ZCe(e,t)||JCe()}function JCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZCe(e,t){if(e){if(typeof e=="string")return I$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I$(e,t)}}function I$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function e2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function t2e(e){if(Array.isArray(e))return e}function $$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ES(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$$(Object(n),!0).forEach(function(s){n2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function n2e(e,t,n){return t=r2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r2e(e){var t=s2e(e,"string");return ug(t)=="symbol"?t:t+""}function s2e(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i2e(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var a2e=function(t){var n=t.separator,s=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,g=t.wrapperClassName,x=t.labelClassName,v=t.label,y=t.labelFormatter,N=t.accessibilityLayer,j=N===void 0?!1:N,b=function(){if(d&&d.length){var k={padding:0,margin:0},F=(m?QE(d,m):d).map(function($,Q){if($.type==="none")return null;var U=ES({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),ie=$.formatter||f||i2e,L=$.value,z=$.name,le=L,pe=z;if(ie&&le!=null&&pe!=null){var ee=ie(L,z,$,Q,d);if(Array.isArray(ee)){var J=XCe(ee,2);le=J[0],pe=J[1]}else le=ee}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:U},Or(pe)?q.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,Or(pe)?q.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,q.createElement("span",{className:"recharts-tooltip-item-value"},le),q.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:k},F)}return null},P=ES({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=ES({margin:0},u),A=!wt(v),_=A?v:"",E=Ct("recharts-default-tooltip",g),O=Ct("recharts-tooltip-label",x);A&&y&&d!==void 0&&d!==null&&(_=y(v,d));var I=j?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",hP({className:E,style:P},I),q.createElement("p",{className:O,style:C},q.isValidElement(_)?_:"".concat(_)),b())};function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function ly(e,t,n){return t=o2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o2e(e){var t=l2e(e,"string");return dg(t)=="symbol"?t:t+""}function l2e(e,t){if(dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hm="recharts-tooltip-wrapper",c2e={visibility:"hidden"};function u2e(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return Ct(Hm,ly(ly(ly(ly({},"".concat(Hm,"-right"),Ve(n)&&t&&Ve(t.x)&&n>=t.x),"".concat(Hm,"-left"),Ve(n)&&t&&Ve(t.x)&&n<t.x),"".concat(Hm,"-bottom"),Ve(s)&&t&&Ve(t.y)&&s>=t.y),"".concat(Hm,"-top"),Ve(s)&&t&&Ve(t.y)&&s<t.y))}function R$(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ve(a[s]))return a[s];var d=n[s]-l-i,f=n[s]+i;if(t[s])return o[s]?d:f;if(o[s]){var m=d,g=c[s];return m<g?Math.max(f,c[s]):Math.max(d,c[s])}var x=f+l,v=c[s]+u;return x>v?Math.max(d,c[s]):Math.max(f,c[s])}function d2e(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function h2e(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=R$({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=R$({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=d2e({translateX:d,translateY:f,useTranslate3d:l})):u=c2e,{cssProperties:u,cssClasses:u2e({translateX:d,translateY:f,coordinate:n})}}function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function L$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function F$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(n),!0).forEach(function(s){mP(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function f2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wq(s.key),s)}}function p2e(e,t,n){return t&&m2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g2e(e,t,n){return t=V0(t),v2e(e,bq()?Reflect.construct(t,n||[],V0(e).constructor):t.apply(e,n))}function v2e(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x2e(e)}function x2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!e})()}function V0(e){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(e)}function y2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}function fP(e,t){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},fP(e,t)}function mP(e,t,n){return t=wq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wq(e){var t=j2e(e,"string");return lf(t)=="symbol"?t:t+""}function j2e(e,t){if(lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(lf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B$=1,b2e=function(e){function t(){var n;f2e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=g2e(this,t,[].concat(i)),mP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return y2e(t,e),p2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>B$||Math.abs(s.height-this.state.lastBoundingBox.height)>B$)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,N=i.viewBox,j=i.wrapperStyle,b=h2e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),P=b.cssClasses,C=b.cssProperties,A=F$(F$({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return q.createElement("div",{tabIndex:-1,className:P,style:A,ref:function(E){s.wrapperNode=E}},u)}}])}(w.PureComponent),w2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pa={isSsr:w2e(),get:function(t){return Pa[t]},set:function(t,n){if(typeof t=="string")Pa[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(i){Pa[i]=t[i]})}}};function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function V$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z$(Object(n),!0).forEach(function(s){XE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function N2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Sq(s.key),s)}}function C2e(e,t,n){return t&&S2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P2e(e,t,n){return t=U0(t),_2e(e,Nq()?Reflect.construct(t,n||[],U0(e).constructor):t.apply(e,n))}function _2e(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A2e(e)}function A2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(e)}function E2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pP(e,t)}function pP(e,t){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},pP(e,t)}function XE(e,t,n){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=k2e(e,"string");return cf(t)=="symbol"?t:t+""}function k2e(e,t){if(cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T2e(e){return e.dataKey}function O2e(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(a2e,t)}var Fr=function(e){function t(){return N2e(this,t),P2e(this,t,arguments)}return E2e(t,e),C2e(t,[{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,N=i.reverseDirection,j=i.useTranslate3d,b=i.viewBox,P=i.wrapperStyle,C=x??[];f&&C.length&&(C=fq(x.filter(function(_){return _.value!=null&&(_.hide!==!0||s.props.includeHidden)}),v,T2e));var A=C.length>0;return q.createElement(b2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:A,offset:g,position:y,reverseDirection:N,useTranslate3d:j,viewBox:b,wrapperStyle:P},O2e(u,V$(V$({},this.props),{},{payload:C})))}}])}(w.PureComponent);XE(Fr,"displayName","Tooltip");XE(Fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var D2e=go,M2e=function(){return D2e.Date.now()},I2e=M2e,$2e=/\s/;function R2e(e){for(var t=e.length;t--&&$2e.test(e.charAt(t)););return t}var L2e=R2e,F2e=L2e,B2e=/^\s+/;function z2e(e){return e&&e.slice(0,F2e(e)+1).replace(B2e,"")}var V2e=z2e,U2e=V2e,U$=Rc,q2e=Kf,q$=NaN,W2e=/^[-+]0x[0-9a-f]+$/i,H2e=/^0b[01]+$/i,G2e=/^0o[0-7]+$/i,K2e=parseInt;function Y2e(e){if(typeof e=="number")return e;if(q2e(e))return q$;if(U$(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=U$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=U2e(e);var n=H2e.test(e);return n||G2e.test(e)?K2e(e.slice(2),n?2:8):W2e.test(e)?q$:+e}var Cq=Y2e,Q2e=Rc,kS=I2e,W$=Cq,X2e="Expected a function",J2e=Math.max,Z2e=Math.min;function ePe(e,t,n){var s,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(X2e);t=W$(t)||0,Q2e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?J2e(W$(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(A){var _=s,E=i;return s=i=void 0,u=A,o=e.apply(E,_),o}function x(A){return u=A,l=setTimeout(N,t),d?g(A):o}function v(A){var _=A-c,E=A-u,O=t-_;return f?Z2e(O,a-E):O}function y(A){var _=A-c,E=A-u;return c===void 0||_>=t||_<0||f&&E>=a}function N(){var A=kS();if(y(A))return j(A);l=setTimeout(N,v(A))}function j(A){return l=void 0,m&&s?g(A):(s=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,s=c=i=l=void 0}function P(){return l===void 0?o:j(kS())}function C(){var A=kS(),_=y(A);if(s=arguments,i=this,c=A,_){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(N,t),g(c)}return l===void 0&&(l=setTimeout(N,t)),o}return C.cancel=b,C.flush=P,C}var tPe=ePe,nPe=tPe,rPe=Rc,sPe="Expected a function";function iPe(e,t,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(sPe);return rPe(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),nPe(e,t,{leading:s,maxWait:t,trailing:i})}var aPe=iPe;const Pq=fn(aPe);function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function H$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(n),!0).forEach(function(s){oPe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oPe(e,t,n){return t=lPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lPe(e){var t=cPe(e,"string");return hg(t)=="symbol"?t:t+""}function cPe(e,t){if(hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uPe(e,t){return mPe(e)||fPe(e,t)||hPe(e,t)||dPe()}function dPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hPe(e,t){if(e){if(typeof e=="string")return G$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G$(e,t)}}function G$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function fPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function mPe(e){if(Array.isArray(e))return e}var il=w.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,i=s===void 0?{width:-1,height:-1}:s,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,g=e.children,x=e.debounce,v=x===void 0?0:x,y=e.id,N=e.className,j=e.onResize,b=e.style,P=b===void 0?{}:b,C=w.useRef(null),A=w.useRef();A.current=j,w.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var _=w.useState({containerWidth:i.width,containerHeight:i.height}),E=uPe(_,2),O=E[0],I=E[1],D=w.useCallback(function(F,$){I(function(Q){var U=Math.round(F),ie=Math.round($);return Q.containerWidth===U&&Q.containerHeight===ie?Q:{containerWidth:U,containerHeight:ie}})},[]);w.useEffect(function(){var F=function(z){var le,pe=z[0].contentRect,ee=pe.width,J=pe.height;D(ee,J),(le=A.current)===null||le===void 0||le.call(A,ee,J)};v>0&&(F=Pq(F,v,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),Q=C.current.getBoundingClientRect(),U=Q.width,ie=Q.height;return D(U,ie),$.observe(C.current),function(){$.disconnect()}},[D,v]);var k=w.useMemo(function(){var F=O.containerWidth,$=O.containerHeight;if(F<0||$<0)return null;Ca(pu(o)||pu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ca(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Q=pu(o)?F:o,U=pu(c)?$:c;n&&n>0&&(Q?U=Q/n:U&&(Q=U*n),m&&U>m&&(U=m)),Ca(Q>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,U,o,c,d,f,n);var ie=!Array.isArray(g)&&Go(g.type).endsWith("Chart");return q.Children.map(g,function(L){return q.isValidElement(L)?w.cloneElement(L,cy({width:Q,height:U},ie?{style:cy({height:"100%",width:"100%",maxHeight:U,maxWidth:Q},L.props.style)}:{})):L})},[n,g,c,m,f,d,O,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:Ct("recharts-responsive-container",N),style:cy(cy({},P),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},k)}),rm=function(t){return null};rm.displayName="Cell";function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(n),!0).forEach(function(s){pPe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function pPe(e,t,n){return t=gPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gPe(e){var t=vPe(e,"string");return fg(t)=="symbol"?t:t+""}function vPe(e,t){if(fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(fg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd={widthCache:{},cacheCount:0},xPe=2e3,yPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Y$="recharts_measurement_span";function jPe(e){var t=gP({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Pp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pa.isSsr)return{width:0,height:0};var s=jPe(n),i=JSON.stringify({text:t,copyStyle:s});if(Wd.widthCache[i])return Wd.widthCache[i];try{var a=document.getElementById(Y$);a||(a=document.createElement("span"),a.setAttribute("id",Y$),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=gP(gP({},yPe),s);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Wd.widthCache[i]=c,++Wd.cacheCount>xPe&&(Wd.cacheCount=0,Wd.widthCache={}),c}catch{return{width:0,height:0}}},bPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function q0(e,t){return CPe(e)||SPe(e,t)||NPe(e,t)||wPe()}function wPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NPe(e,t){if(e){if(typeof e=="string")return Q$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q$(e,t)}}function Q$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function SPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function CPe(e){if(Array.isArray(e))return e}function PPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,APe(s.key),s)}}function _Pe(e,t,n){return t&&X$(e.prototype,t),n&&X$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function APe(e){var t=EPe(e,"string");return mg(t)=="symbol"?t:t+""}function EPe(e,t){if(mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_q={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OPe=Object.keys(_q),hh="NaN";function DPe(e,t){return e*_q[t]}var uy=function(){function e(t,n){PPe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!kPe.test(n)&&(this.num=NaN,this.unit=""),OPe.includes(n)&&(this.num=DPe(t,n),this.unit="px")}return _Pe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,i=(s=TPe.exec(n))!==null&&s!==void 0?s:[],a=q0(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function Aq(e){if(e.includes(hh))return hh;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=J$.exec(t))!==null&&n!==void 0?n:[],i=q0(s,4),a=i[1],o=i[2],l=i[3],c=uy.parse(a??""),u=uy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return hh;t=t.replace(J$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=Z$.exec(t))!==null&&f!==void 0?f:[],g=q0(m,4),x=g[1],v=g[2],y=g[3],N=uy.parse(x??""),j=uy.parse(y??""),b=v==="+"?N.add(j):N.subtract(j);if(b.isNaN())return hh;t=t.replace(Z$,b.toString())}return t}var e4=/\(([^()]*)\)/;function MPe(e){for(var t=e;t.includes("(");){var n=e4.exec(t),s=q0(n,2),i=s[1];t=t.replace(e4,Aq(i))}return t}function IPe(e){var t=e.replace(/\s+/g,"");return t=MPe(t),t=Aq(t),t}function $Pe(e){try{return IPe(e)}catch{return hh}}function TS(e){var t=$Pe(e.slice(5,-1));return t===hh?"":t}var RPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LPe=["dx","dy","angle","className","breakAll"];function vP(){return vP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vP.apply(this,arguments)}function t4(e,t){if(e==null)return{};var n=FPe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function FPe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function n4(e,t){return UPe(e)||VPe(e,t)||zPe(e,t)||BPe()}function BPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zPe(e,t){if(e){if(typeof e=="string")return r4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r4(e,t)}}function r4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function VPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function UPe(e){if(Array.isArray(e))return e}var Eq=/[ \f\n\r\t\v\u2028\u2029]+/,kq=function(t){var n=t.children,s=t.breakAll,i=t.style;try{var a=[];wt(n)||(s?a=n.toString().split(""):a=n.toString().split(Eq));var o=a.map(function(c){return{word:c,width:Pp(c,i).width}}),l=s?0:Pp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},qPe=function(t,n,s,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ve(o),f=l,m=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(U,ie){var L=ie.word,z=ie.width,le=U[U.length-1];if(le&&(i==null||a||le.width+z+s<Number(i)))le.words.push(L),le.width+=z+s;else{var pe={words:[L],width:z};U.push(pe)}return U},[])},g=m(n),x=function(Q){return Q.reduce(function(U,ie){return U.width>ie.width?U:ie})};if(!d)return g;for(var v="",y=function(Q){var U=f.slice(0,Q),ie=kq({breakAll:u,style:c,children:U+v}).wordsWithComputedWidth,L=m(ie),z=L.length>o||x(L).width>Number(i);return[z,L]},N=0,j=f.length-1,b=0,P;N<=j&&b<=f.length-1;){var C=Math.floor((N+j)/2),A=C-1,_=y(A),E=n4(_,2),O=E[0],I=E[1],D=y(C),k=n4(D,1),F=k[0];if(!O&&!F&&(N=C+1),O&&F&&(j=C-1),!O&&F){P=I;break}b++}return P||g},s4=function(t){var n=wt(t)?[]:t.toString().split(Eq);return[{words:n}]},WPe=function(t){var n=t.width,s=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!Pa.isSsr){var c,u,d=kq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return s4(i);return qPe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,s)}return s4(i)},i4="#808080",Yu=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,g=m===void 0?"start":m,x=t.verticalAnchor,v=x===void 0?"end":x,y=t.fill,N=y===void 0?i4:y,j=t4(t,RPe),b=w.useMemo(function(){return WPe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),P=j.dx,C=j.dy,A=j.angle,_=j.className,E=j.breakAll,O=t4(j,LPe);if(!Or(s)||!Or(a))return null;var I=s+(Ve(P)?P:0),D=a+(Ve(C)?C:0),k;switch(v){case"start":k=TS("calc(".concat(u,")"));break;case"middle":k=TS("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=TS("calc(".concat(b.length-1," * -").concat(l,")"));break}var F=[];if(f){var $=b[0].width,Q=j.width;F.push("scale(".concat((Ve(Q)?Q/$:1)/$,")"))}return A&&F.push("rotate(".concat(A,", ").concat(I,", ").concat(D,")")),F.length&&(O.transform=F.join(" ")),q.createElement("text",vP({},ct(O,!0),{x:I,y:D,className:Ct("recharts-text",_),textAnchor:g,fill:N.includes("url")?i4:N}),b.map(function(U,ie){var L=U.words.join(E?"":" ");return q.createElement("tspan",{x:I,dy:ie===0?k:l,key:"".concat(L,"-").concat(ie)},L)}))};function mc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JE(e){let t,n,s;e.length!==2?(t=mc,n=(l,c)=>mc(e(l),c),s=(l,c)=>e(l)-c):(t=e===mc||e===HPe?e:GPe,n=e,s=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function GPe(){return 0}function Tq(e){return e===null?NaN:+e}function*KPe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const YPe=JE(mc),xv=YPe.right;JE(Tq).center;class a4 extends Map{constructor(t,n=JPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,i]of t)this.set(s,i)}get(t){return super.get(o4(this,t))}has(t){return super.has(o4(this,t))}set(t,n){return super.set(QPe(this,t),n)}delete(t){return super.delete(XPe(this,t))}}function o4({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function QPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function XPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function JPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZPe(e=mc){if(e===mc)return Oq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function Oq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const e_e=Math.sqrt(50),t_e=Math.sqrt(10),n_e=Math.sqrt(2);function W0(e,t,n){const s=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(s)),a=s/Math.pow(10,i),o=a>=e_e?10:a>=t_e?5:a>=n_e?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?W0(e,t,n*2):[l,c,u]}function xP(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[i,a,o]=s?W0(t,e,n):W0(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function yP(e,t,n){return t=+t,e=+e,n=+n,W0(e,t,n)[2]}function jP(e,t,n){t=+t,e=+e,n=+n;const s=t<e,i=s?yP(t,e,n):yP(e,t,n);return(s?-1:1)*(i<0?1/-i:i)}function l4(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function c4(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function Dq(e,t,n=0,s=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(i=i===void 0?Oq:ZPe(i);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/c+m)),x=Math.min(s,Math.floor(t+(c-u)*f/c+m));Dq(e,t,g,x,i)}const a=e[t];let o=n,l=s;for(Gm(e,n,t),i(e[s],a)>0&&Gm(e,n,s);o<l;){for(Gm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Gm(e,n,l):(++l,Gm(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function Gm(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function r_e(e,t,n){if(e=Float64Array.from(KPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return c4(e);if(t>=1)return l4(e);var s,i=(s-1)*t,a=Math.floor(i),o=l4(Dq(e,a).subarray(0,a+1)),l=c4(e.subarray(a+1));return o+(l-o)*(i-a)}}function s_e(e,t,n=Tq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,i=(s-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function i_e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var s=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++s<i;)a[s]=e+s*n;return a}function ea(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bP=Symbol("implicit");function ZE(){var e=new a4,t=[],n=[],s=bP;function i(a){let o=e.get(a);if(o===void 0){if(s!==bP)return s;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new a4;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return ZE(t,n).unknown(s)},ea.apply(i,arguments),i}function pg(){var e=ZE().unknown(void 0),t=e.domain,n=e.range,s=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,g=i<s,x=g?i:s,v=g?s:i;a=(v-x)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),x+=(v-x-a*(m-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=i_e(m).map(function(N){return x+a*N});return n(g?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,i]=m,s=+s,i=+i,f()):[s,i]},e.rangeRound=function(m){return[s,i]=m,s=+s,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return pg(t(),[s,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},ea.apply(f(),arguments)}function Mq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Mq(t())},e}function _p(){return Mq(pg.apply(null,arguments).paddingInner(1))}function ek(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Iq(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function yv(){}var gg=.7,H0=1/gg,kh="\\s*([+-]?\\d+)\\s*",vg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a_e=/^#([0-9a-f]{3,8})$/,o_e=new RegExp(`^rgb\\(${kh},${kh},${kh}\\)$`),l_e=new RegExp(`^rgb\\(${lo},${lo},${lo}\\)$`),c_e=new RegExp(`^rgba\\(${kh},${kh},${kh},${vg}\\)$`),u_e=new RegExp(`^rgba\\(${lo},${lo},${lo},${vg}\\)$`),d_e=new RegExp(`^hsl\\(${vg},${lo},${lo}\\)$`),h_e=new RegExp(`^hsla\\(${vg},${lo},${lo},${vg}\\)$`),u4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ek(yv,xg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:d4,formatHex:d4,formatHex8:f_e,formatHsl:m_e,formatRgb:h4,toString:h4});function d4(){return this.rgb().formatHex()}function f_e(){return this.rgb().formatHex8()}function m_e(){return $q(this).formatHsl()}function h4(){return this.rgb().formatRgb()}function xg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=a_e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?f4(t):n===3?new Gs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=o_e.exec(e))?new Gs(t[1],t[2],t[3],1):(t=l_e.exec(e))?new Gs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c_e.exec(e))?dy(t[1],t[2],t[3],t[4]):(t=u_e.exec(e))?dy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=d_e.exec(e))?g4(t[1],t[2]/100,t[3]/100,1):(t=h_e.exec(e))?g4(t[1],t[2]/100,t[3]/100,t[4]):u4.hasOwnProperty(e)?f4(u4[e]):e==="transparent"?new Gs(NaN,NaN,NaN,0):null}function f4(e){return new Gs(e>>16&255,e>>8&255,e&255,1)}function dy(e,t,n,s){return s<=0&&(e=t=n=NaN),new Gs(e,t,n,s)}function p_e(e){return e instanceof yv||(e=xg(e)),e?(e=e.rgb(),new Gs(e.r,e.g,e.b,e.opacity)):new Gs}function wP(e,t,n,s){return arguments.length===1?p_e(e):new Gs(e,t,n,s??1)}function Gs(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}ek(Gs,wP,Iq(yv,{brighter(e){return e=e==null?H0:Math.pow(H0,e),new Gs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gg:Math.pow(gg,e),new Gs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gs(Tu(this.r),Tu(this.g),Tu(this.b),G0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m4,formatHex:m4,formatHex8:g_e,formatRgb:p4,toString:p4}));function m4(){return`#${gu(this.r)}${gu(this.g)}${gu(this.b)}`}function g_e(){return`#${gu(this.r)}${gu(this.g)}${gu(this.b)}${gu((isNaN(this.opacity)?1:this.opacity)*255)}`}function p4(){const e=G0(this.opacity);return`${e===1?"rgb(":"rgba("}${Tu(this.r)}, ${Tu(this.g)}, ${Tu(this.b)}${e===1?")":`, ${e})`}`}function G0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gu(e){return e=Tu(e),(e<16?"0":"")+e.toString(16)}function g4(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ba(e,t,n,s)}function $q(e){if(e instanceof ba)return new ba(e.h,e.s,e.l,e.opacity);if(e instanceof yv||(e=xg(e)),!e)return new ba;if(e instanceof ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,i=Math.min(t,n,s),a=Math.max(t,n,s),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-s)/l+(n<s)*6:n===a?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new ba(o,l,c,e.opacity)}function v_e(e,t,n,s){return arguments.length===1?$q(e):new ba(e,t,n,s??1)}function ba(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}ek(ba,v_e,Iq(yv,{brighter(e){return e=e==null?H0:Math.pow(H0,e),new ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gg:Math.pow(gg,e),new ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,i=2*n-s;return new Gs(OS(e>=240?e-240:e+120,i,s),OS(e,i,s),OS(e<120?e+240:e-120,i,s),this.opacity)},clamp(){return new ba(v4(this.h),hy(this.s),hy(this.l),G0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=G0(this.opacity);return`${e===1?"hsl(":"hsla("}${v4(this.h)}, ${hy(this.s)*100}%, ${hy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function v4(e){return e=(e||0)%360,e<0?e+360:e}function hy(e){return Math.max(0,Math.min(1,e||0))}function OS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tk=e=>()=>e;function x_e(e,t){return function(n){return e+n*t}}function y_e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function j_e(e){return(e=+e)==1?Rq:function(t,n){return n-t?y_e(t,n,e):tk(isNaN(t)?n:t)}}function Rq(e,t){var n=t-e;return n?x_e(e,n):tk(isNaN(e)?t:e)}const x4=function e(t){var n=j_e(t);function s(i,a){var o=n((i=wP(i)).r,(a=wP(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Rq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return s.gamma=e,s}(1);function b_e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),i;return function(a){for(i=0;i<n;++i)s[i]=e[i]*(1-a)+t[i]*a;return s}}function w_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function N_e(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,i=new Array(s),a=new Array(n),o;for(o=0;o<s;++o)i[o]=sm(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<s;++o)a[o]=i[o](l);return a}}function S_e(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function K0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function C_e(e,t){var n={},s={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=sm(e[i],t[i]):s[i]=t[i];return function(a){for(i in n)s[i]=n[i](a);return s}}var NP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DS=new RegExp(NP.source,"g");function P_e(e){return function(){return e}}function __e(e){return function(t){return e(t)+""}}function A_e(e,t){var n=NP.lastIndex=DS.lastIndex=0,s,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=NP.exec(e))&&(i=DS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(s=s[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:K0(s,i)})),n=DS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?__e(c[0].x):P_e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function sm(e,t){var n=typeof t,s;return t==null||n==="boolean"?tk(t):(n==="number"?K0:n==="string"?(s=xg(t))?(t=s,x4):A_e:t instanceof xg?x4:t instanceof Date?S_e:w_e(t)?b_e:Array.isArray(t)?N_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?C_e:K0)(e,t)}function nk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function E_e(e,t){t===void 0&&(t=e,e=sm);for(var n=0,s=t.length-1,i=t[0],a=new Array(s<0?0:s);n<s;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return a[l](o-l)}}function k_e(e){return function(){return e}}function Y0(e){return+e}var y4=[0,1];function As(e){return e}function SP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:k_e(isNaN(t)?NaN:.5)}function T_e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function O_e(e,t,n){var s=e[0],i=e[1],a=t[0],o=t[1];return i<s?(s=SP(i,s),a=n(o,a)):(s=SP(s,i),a=n(a,o)),function(l){return a(s(l))}}function D_e(e,t,n){var s=Math.min(e.length,t.length)-1,i=new Array(s),a=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)i[o]=SP(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=xv(e,l,1,s)-1;return a[c](i[c](l))}}function jv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hw(){var e=y4,t=y4,n=sm,s,i,a,o=As,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==As&&(o=T_e(e[0],e[m-1])),l=m>2?D_e:O_e,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(s),t,n)))(s(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(s),K0)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,Y0),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=nk,d()},f.clamp=function(m){return arguments.length?(o=m?!0:As,d()):o!==As},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,g){return s=m,i=g,d()}}function rk(){return hw()(As,As)}function M_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Q0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function uf(e){return e=Q0(Math.abs(e)),e?e[1]:NaN}function I_e(e,t){return function(n,s){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function $_e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var R_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yg(e){if(!(t=R_e.exec(e)))throw new Error("invalid format: "+e);var t;return new sk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yg.prototype=sk.prototype;function sk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function L_e(e){e:for(var t=e.length,n=1,s=-1,i;n<t;++n)switch(e[n]){case".":s=i=n;break;case"0":s===0&&(s=n),i=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(i+1):e}var Lq;function F_e(e,t){var n=Q0(e,t);if(!n)return e+"";var s=n[0],i=n[1],a=i-(Lq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=s.length;return a===o?s:a>o?s+new Array(a-o+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+Q0(e,Math.max(0,t+a-1))[0]}function j4(e,t){var n=Q0(e,t);if(!n)return e+"";var s=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const b4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:M_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j4(e*100,t),r:j4,s:F_e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function w4(e){return e}var N4=Array.prototype.map,S4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function B_e(e){var t=e.grouping===void 0||e.thousands===void 0?w4:I_e(N4.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?w4:$_e(N4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=yg(f);var m=f.fill,g=f.align,x=f.sign,v=f.symbol,y=f.zero,N=f.width,j=f.comma,b=f.precision,P=f.trim,C=f.type;C==="n"?(j=!0,C="g"):b4[C]||(b===void 0&&(b=12),P=!0,C="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",_=v==="$"?s:/[%p]/.test(C)?o:"",E=b4[C],O=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(D){var k=A,F=_,$,Q,U;if(C==="c")F=E(D)+F,D="";else{D=+D;var ie=D<0||1/D<0;if(D=isNaN(D)?c:E(Math.abs(D),b),P&&(D=L_e(D)),ie&&+D==0&&x!=="+"&&(ie=!1),k=(ie?x==="("?x:l:x==="-"||x==="("?"":x)+k,F=(C==="s"?S4[8+Lq/3]:"")+F+(ie&&x==="("?")":""),O){for($=-1,Q=D.length;++$<Q;)if(U=D.charCodeAt($),48>U||U>57){F=(U===46?i+D.slice($+1):D.slice($))+F,D=D.slice(0,$);break}}}j&&!y&&(D=t(D,1/0));var L=k.length+D.length+F.length,z=L<N?new Array(N-L+1).join(m):"";switch(j&&y&&(D=t(z+D,z.length?N-F.length:1/0),z=""),g){case"<":D=k+D+F+z;break;case"=":D=k+z+D+F;break;case"^":D=z.slice(0,L=z.length>>1)+k+D+F+z.slice(L);break;default:D=z+k+D+F;break}return a(D)}return I.toString=function(){return f+""},I}function d(f,m){var g=u((f=yg(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(uf(m)/3)))*3,v=Math.pow(10,-x),y=S4[8+x/3];return function(N){return g(v*N)+y}}return{format:u,formatPrefix:d}}var fy,ik,Fq;z_e({thousands:",",grouping:[3],currency:["$",""]});function z_e(e){return fy=B_e(e),ik=fy.format,Fq=fy.formatPrefix,fy}function V_e(e){return Math.max(0,-uf(Math.abs(e)))}function U_e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uf(t)/3)))*3-uf(Math.abs(e)))}function q_e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uf(t)-uf(e))+1}function Bq(e,t,n,s){var i=jP(e,t,n),a;switch(s=yg(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(a=U_e(i,o))&&(s.precision=a),Fq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=q_e(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=V_e(i))&&(s.precision=a-(s.type==="%")*2);break}}return ik(s)}function Lc(e){var t=e.domain;return e.ticks=function(n){var s=t();return xP(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var i=t();return Bq(i[0],i[i.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),i=0,a=s.length-1,o=s[i],l=s[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=yP(o,l,n),u===c)return s[i]=o,s[a]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function X0(){var e=rk();return e.copy=function(){return jv(e,X0())},ea.apply(e,arguments),Lc(e)}function zq(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,Y0),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return zq(e).unknown(t)},e=arguments.length?Array.from(e,Y0):[0,1],Lc(n)}function Vq(e,t){e=e.slice();var n=0,s=e.length-1,i=e[n],a=e[s],o;return a<i&&(o=n,n=s,s=o,o=i,i=a,a=o),e[n]=t.floor(i),e[s]=t.ceil(a),e}function C4(e){return Math.log(e)}function P4(e){return Math.exp(e)}function W_e(e){return-Math.log(-e)}function H_e(e){return-Math.exp(-e)}function G_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function K_e(e){return e===10?G_e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Y_e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _4(e){return(t,n)=>-e(-t,n)}function ak(e){const t=e(C4,P4),n=t.domain;let s=10,i,a;function o(){return i=Y_e(s),a=K_e(s),n()[0]<0?(i=_4(i),a=_4(a),e(W_e,H_e)):e(C4,P4),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),g=i(d),x,v;const y=l==null?10:+l;let N=[];if(!(s%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<s;++x)if(v=m<0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}}else for(;m<=g;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}N.length*2<y&&(N=xP(u,d,y))}else N=xP(m,g,Math.min(g-m,y)).map(a);return f?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=yg(c)).precision==null&&(c.trim=!0),c=ik(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*s<s-.5&&(f*=s),f<=u?c(d):""}},t.nice=()=>n(Vq(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Uq(){const e=ak(hw()).domain([1,10]);return e.copy=()=>jv(e,Uq()).base(e.base()),ea.apply(e,arguments),e}function A4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function E4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ok(e){var t=1,n=e(A4(t),E4(t));return n.constant=function(s){return arguments.length?e(A4(t=+s),E4(t)):t},Lc(n)}function qq(){var e=ok(hw());return e.copy=function(){return jv(e,qq()).constant(e.constant())},ea.apply(e,arguments)}function k4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Q_e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function X_e(e){return e<0?-e*e:e*e}function lk(e){var t=e(As,As),n=1;function s(){return n===1?e(As,As):n===.5?e(Q_e,X_e):e(k4(n),k4(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,s()):n},Lc(t)}function ck(){var e=lk(hw());return e.copy=function(){return jv(e,ck()).exponent(e.exponent())},ea.apply(e,arguments),e}function J_e(){return ck.apply(null,arguments).exponent(.5)}function T4(e){return Math.sign(e)*e*e}function Z_e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Wq(){var e=rk(),t=[0,1],n=!1,s;function i(a){var o=Z_e(e(a));return isNaN(o)?s:n?Math.round(o):o}return i.invert=function(a){return e.invert(T4(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Y0)).map(T4)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return Wq(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},ea.apply(i,arguments),Lc(i)}function Hq(){var e=[],t=[],n=[],s;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=s_e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?s:t[xv(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(mc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(s=o,a):s},a.quantiles=function(){return n.slice()},a.copy=function(){return Hq().domain(e).range(t).unknown(s)},ea.apply(a,arguments)}function Gq(){var e=0,t=1,n=1,s=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[xv(s,c,0,n)]:a}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Gq().domain([e,t]).range(i).unknown(a)},ea.apply(Lc(o),arguments)}function Kq(){var e=[.5],t=[0,1],n,s=1;function i(a){return a!=null&&a<=a?t[xv(e,a,0,s)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),s=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),s=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Kq().domain(e).range(t).unknown(n)},ea.apply(i,arguments)}const MS=new Date,IS=new Date;function Dr(e,t,n,s){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Dr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(MS.setTime(+a),IS.setTime(+o),e(MS),e(IS),Math.floor(n(MS,IS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(s?o=>s(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const J0=Dr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);J0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):J0);J0.range;const Vo=1e3,Ui=Vo*60,Uo=Ui*60,al=Uo*24,uk=al*7,O4=al*30,$S=al*365,vu=Dr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vo)},(e,t)=>(t-e)/Vo,e=>e.getUTCSeconds());vu.range;const dk=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vo)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getMinutes());dk.range;const hk=Dr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCMinutes());hk.range;const fk=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vo-e.getMinutes()*Ui)},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getHours());fk.range;const mk=Dr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getUTCHours());mk.range;const bv=Dr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/al,e=>e.getDate()-1);bv.range;const fw=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/al,e=>e.getUTCDate()-1);fw.range;const Yq=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/al,e=>Math.floor(e/al));Yq.range;function fd(e){return Dr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ui)/uk)}const mw=fd(0),Z0=fd(1),eAe=fd(2),tAe=fd(3),df=fd(4),nAe=fd(5),rAe=fd(6);mw.range;Z0.range;eAe.range;tAe.range;df.range;nAe.range;rAe.range;function md(e){return Dr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/uk)}const pw=md(0),ej=md(1),sAe=md(2),iAe=md(3),hf=md(4),aAe=md(5),oAe=md(6);pw.range;ej.range;sAe.range;iAe.range;hf.range;aAe.range;oAe.range;const pk=Dr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pk.range;const gk=Dr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gk.range;const ol=Dr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ol.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ol.range;const ll=Dr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ll.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ll.range;function Qq(e,t,n,s,i,a){const o=[[vu,1,Vo],[vu,5,5*Vo],[vu,15,15*Vo],[vu,30,30*Vo],[a,1,Ui],[a,5,5*Ui],[a,15,15*Ui],[a,30,30*Ui],[i,1,Uo],[i,3,3*Uo],[i,6,6*Uo],[i,12,12*Uo],[s,1,al],[s,2,2*al],[n,1,uk],[t,1,O4],[t,3,3*O4],[e,1,$S]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),x=g?g.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,g=JE(([,,y])=>y).right(o,m);if(g===o.length)return e.every(jP(u/$S,d/$S,f));if(g===0)return J0.every(Math.max(jP(u,d,f),1));const[x,v]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return x.every(v)}return[l,c]}const[lAe,cAe]=Qq(ll,gk,pw,Yq,mk,hk),[uAe,dAe]=Qq(ol,pk,mw,bv,fk,dk);function RS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function LS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Km(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hAe(e){var t=e.dateTime,n=e.date,s=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ym(i),d=Qm(i),f=Ym(a),m=Qm(a),g=Ym(o),x=Qm(o),v=Ym(l),y=Qm(l),N=Ym(c),j=Qm(c),b={a:ie,A:L,b:z,B:le,c:null,d:L4,e:L4,f:IAe,g:WAe,G:GAe,H:OAe,I:DAe,j:MAe,L:Xq,m:$Ae,M:RAe,p:pe,q:ee,Q:z4,s:V4,S:LAe,u:FAe,U:BAe,V:zAe,w:VAe,W:UAe,x:null,X:null,y:qAe,Y:HAe,Z:KAe,"%":B4},P={a:J,A:te,b:xe,B:ve,c:null,d:F4,e:F4,f:JAe,g:lEe,G:uEe,H:YAe,I:QAe,j:XAe,L:Zq,m:ZAe,M:eEe,p:re,q:B,Q:z4,s:V4,S:tEe,u:nEe,U:rEe,V:sEe,w:iEe,W:aEe,x:null,X:null,y:oEe,Y:cEe,Z:dEe,"%":B4},C={a:I,A:D,b:k,B:F,c:$,d:$4,e:$4,f:AAe,g:I4,G:M4,H:R4,I:R4,j:SAe,L:_Ae,m:NAe,M:CAe,p:O,q:wAe,Q:kAe,s:TAe,S:PAe,u:vAe,U:xAe,V:yAe,w:gAe,W:jAe,x:Q,X:U,y:I4,Y:M4,Z:bAe,"%":EAe};b.x=A(n,b),b.X=A(s,b),b.c=A(t,b),P.x=A(n,P),P.X=A(s,P),P.c=A(t,P);function A(X,ye){return function(Z){var M=[],je=-1,we=0,Fe=X.length,Be,at,lt;for(Z instanceof Date||(Z=new Date(+Z));++je<Fe;)X.charCodeAt(je)===37&&(M.push(X.slice(we,je)),(at=D4[Be=X.charAt(++je)])!=null?Be=X.charAt(++je):at=Be==="e"?" ":"0",(lt=ye[Be])&&(Be=lt(Z,at)),M.push(Be),we=je+1);return M.push(X.slice(we,je)),M.join("")}}function _(X,ye){return function(Z){var M=Km(1900,void 0,1),je=E(M,X,Z+="",0),we,Fe;if(je!=Z.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(ye&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(we=LS(Km(M.y,0,1)),Fe=we.getUTCDay(),we=Fe>4||Fe===0?ej.ceil(we):ej(we),we=fw.offset(we,(M.V-1)*7),M.y=we.getUTCFullYear(),M.m=we.getUTCMonth(),M.d=we.getUTCDate()+(M.w+6)%7):(we=RS(Km(M.y,0,1)),Fe=we.getDay(),we=Fe>4||Fe===0?Z0.ceil(we):Z0(we),we=bv.offset(we,(M.V-1)*7),M.y=we.getFullYear(),M.m=we.getMonth(),M.d=we.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),Fe="Z"in M?LS(Km(M.y,0,1)).getUTCDay():RS(Km(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(Fe+5)%7:M.w+M.U*7-(Fe+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,LS(M)):RS(M)}}function E(X,ye,Z,M){for(var je=0,we=ye.length,Fe=Z.length,Be,at;je<we;){if(M>=Fe)return-1;if(Be=ye.charCodeAt(je++),Be===37){if(Be=ye.charAt(je++),at=C[Be in D4?ye.charAt(je++):Be],!at||(M=at(X,Z,M))<0)return-1}else if(Be!=Z.charCodeAt(M++))return-1}return M}function O(X,ye,Z){var M=u.exec(ye.slice(Z));return M?(X.p=d.get(M[0].toLowerCase()),Z+M[0].length):-1}function I(X,ye,Z){var M=g.exec(ye.slice(Z));return M?(X.w=x.get(M[0].toLowerCase()),Z+M[0].length):-1}function D(X,ye,Z){var M=f.exec(ye.slice(Z));return M?(X.w=m.get(M[0].toLowerCase()),Z+M[0].length):-1}function k(X,ye,Z){var M=N.exec(ye.slice(Z));return M?(X.m=j.get(M[0].toLowerCase()),Z+M[0].length):-1}function F(X,ye,Z){var M=v.exec(ye.slice(Z));return M?(X.m=y.get(M[0].toLowerCase()),Z+M[0].length):-1}function $(X,ye,Z){return E(X,t,ye,Z)}function Q(X,ye,Z){return E(X,n,ye,Z)}function U(X,ye,Z){return E(X,s,ye,Z)}function ie(X){return o[X.getDay()]}function L(X){return a[X.getDay()]}function z(X){return c[X.getMonth()]}function le(X){return l[X.getMonth()]}function pe(X){return i[+(X.getHours()>=12)]}function ee(X){return 1+~~(X.getMonth()/3)}function J(X){return o[X.getUTCDay()]}function te(X){return a[X.getUTCDay()]}function xe(X){return c[X.getUTCMonth()]}function ve(X){return l[X.getUTCMonth()]}function re(X){return i[+(X.getUTCHours()>=12)]}function B(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ye=A(X+="",b);return ye.toString=function(){return X},ye},parse:function(X){var ye=_(X+="",!1);return ye.toString=function(){return X},ye},utcFormat:function(X){var ye=A(X+="",P);return ye.toString=function(){return X},ye},utcParse:function(X){var ye=_(X+="",!0);return ye.toString=function(){return X},ye}}}var D4={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,fAe=/^%/,mAe=/[\\^$*+?|[\]().{}]/g;function ln(e,t,n){var s=e<0?"-":"",i=(s?-e:e)+"",a=i.length;return s+(a<n?new Array(n-a+1).join(t)+i:i)}function pAe(e){return e.replace(mAe,"\\$&")}function Ym(e){return new RegExp("^(?:"+e.map(pAe).join("|")+")","i")}function Qm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function gAe(e,t,n){var s=Ur.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function vAe(e,t,n){var s=Ur.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function xAe(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function yAe(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function jAe(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function M4(e,t,n){var s=Ur.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function I4(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function bAe(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function wAe(e,t,n){var s=Ur.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function NAe(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function $4(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function SAe(e,t,n){var s=Ur.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function R4(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function CAe(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function PAe(e,t,n){var s=Ur.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function _Ae(e,t,n){var s=Ur.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function AAe(e,t,n){var s=Ur.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function EAe(e,t,n){var s=fAe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function kAe(e,t,n){var s=Ur.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function TAe(e,t,n){var s=Ur.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function L4(e,t){return ln(e.getDate(),t,2)}function OAe(e,t){return ln(e.getHours(),t,2)}function DAe(e,t){return ln(e.getHours()%12||12,t,2)}function MAe(e,t){return ln(1+bv.count(ol(e),e),t,3)}function Xq(e,t){return ln(e.getMilliseconds(),t,3)}function IAe(e,t){return Xq(e,t)+"000"}function $Ae(e,t){return ln(e.getMonth()+1,t,2)}function RAe(e,t){return ln(e.getMinutes(),t,2)}function LAe(e,t){return ln(e.getSeconds(),t,2)}function FAe(e){var t=e.getDay();return t===0?7:t}function BAe(e,t){return ln(mw.count(ol(e)-1,e),t,2)}function Jq(e){var t=e.getDay();return t>=4||t===0?df(e):df.ceil(e)}function zAe(e,t){return e=Jq(e),ln(df.count(ol(e),e)+(ol(e).getDay()===4),t,2)}function VAe(e){return e.getDay()}function UAe(e,t){return ln(Z0.count(ol(e)-1,e),t,2)}function qAe(e,t){return ln(e.getFullYear()%100,t,2)}function WAe(e,t){return e=Jq(e),ln(e.getFullYear()%100,t,2)}function HAe(e,t){return ln(e.getFullYear()%1e4,t,4)}function GAe(e,t){var n=e.getDay();return e=n>=4||n===0?df(e):df.ceil(e),ln(e.getFullYear()%1e4,t,4)}function KAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ln(t/60|0,"0",2)+ln(t%60,"0",2)}function F4(e,t){return ln(e.getUTCDate(),t,2)}function YAe(e,t){return ln(e.getUTCHours(),t,2)}function QAe(e,t){return ln(e.getUTCHours()%12||12,t,2)}function XAe(e,t){return ln(1+fw.count(ll(e),e),t,3)}function Zq(e,t){return ln(e.getUTCMilliseconds(),t,3)}function JAe(e,t){return Zq(e,t)+"000"}function ZAe(e,t){return ln(e.getUTCMonth()+1,t,2)}function eEe(e,t){return ln(e.getUTCMinutes(),t,2)}function tEe(e,t){return ln(e.getUTCSeconds(),t,2)}function nEe(e){var t=e.getUTCDay();return t===0?7:t}function rEe(e,t){return ln(pw.count(ll(e)-1,e),t,2)}function e7(e){var t=e.getUTCDay();return t>=4||t===0?hf(e):hf.ceil(e)}function sEe(e,t){return e=e7(e),ln(hf.count(ll(e),e)+(ll(e).getUTCDay()===4),t,2)}function iEe(e){return e.getUTCDay()}function aEe(e,t){return ln(ej.count(ll(e)-1,e),t,2)}function oEe(e,t){return ln(e.getUTCFullYear()%100,t,2)}function lEe(e,t){return e=e7(e),ln(e.getUTCFullYear()%100,t,2)}function cEe(e,t){return ln(e.getUTCFullYear()%1e4,t,4)}function uEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hf(e):hf.ceil(e),ln(e.getUTCFullYear()%1e4,t,4)}function dEe(){return"+0000"}function B4(){return"%"}function z4(e){return+e}function V4(e){return Math.floor(+e/1e3)}var Hd,t7,n7;hEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hEe(e){return Hd=hAe(e),t7=Hd.format,Hd.parse,n7=Hd.utcFormat,Hd.utcParse,Hd}function fEe(e){return new Date(e)}function mEe(e){return e instanceof Date?+e:+new Date(+e)}function vk(e,t,n,s,i,a,o,l,c,u){var d=rk(),f=d.invert,m=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),j=u("%b %d"),b=u("%B"),P=u("%Y");function C(A){return(c(A)<A?g:l(A)<A?x:o(A)<A?v:a(A)<A?y:s(A)<A?i(A)<A?N:j:n(A)<A?b:P)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?m(Array.from(A,mEe)):m().map(fEe)},d.ticks=function(A){var _=m();return e(_[0],_[_.length-1],A??10)},d.tickFormat=function(A,_){return _==null?C:u(_)},d.nice=function(A){var _=m();return(!A||typeof A.range!="function")&&(A=t(_[0],_[_.length-1],A??10)),A?m(Vq(_,A)):d},d.copy=function(){return jv(d,vk(e,t,n,s,i,a,o,l,c,u))},d}function pEe(){return ea.apply(vk(uAe,dAe,ol,pk,mw,bv,fk,dk,vu,t7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gEe(){return ea.apply(vk(lAe,cAe,ll,gk,pw,fw,mk,hk,vu,n7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gw(){var e=0,t=1,n,s,i,a,o=As,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),s=a(t=+t),i=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var g,x;return arguments.length?([g,x]=m,o=f(g,x),u):[o(0),o(1)]}}return u.range=d(sm),u.rangeRound=d(nk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),s=f(t),i=n===s?0:1/(s-n),u}}function Fc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function r7(){var e=Lc(gw()(As));return e.copy=function(){return Fc(e,r7())},fl.apply(e,arguments)}function s7(){var e=ak(gw()).domain([1,10]);return e.copy=function(){return Fc(e,s7()).base(e.base())},fl.apply(e,arguments)}function i7(){var e=ok(gw());return e.copy=function(){return Fc(e,i7()).constant(e.constant())},fl.apply(e,arguments)}function xk(){var e=lk(gw());return e.copy=function(){return Fc(e,xk()).exponent(e.exponent())},fl.apply(e,arguments)}function vEe(){return xk.apply(null,arguments).exponent(.5)}function a7(){var e=[],t=As;function n(s){if(s!=null&&!isNaN(s=+s))return t((xv(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let i of s)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(mc),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,i)=>t(i/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(i,a)=>r_e(e,a/s))},n.copy=function(){return a7(t).domain(e)},fl.apply(n,arguments)}function vw(){var e=0,t=.5,n=1,s=1,i,a,o,l,c,u=As,d,f=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-a)*(s*v<s*a?l:c),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g):[e,t,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var N,j,b;return arguments.length?([N,j,b]=y,u=E_e(v,[N,j,b]),g):[u(0),u(.5),u(1)]}}return g.range=x(sm),g.rangeRound=x(nk),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return d=v,i=v(e),a=v(t),o=v(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g}}function o7(){var e=Lc(vw()(As));return e.copy=function(){return Fc(e,o7())},fl.apply(e,arguments)}function l7(){var e=ak(vw()).domain([.1,1,10]);return e.copy=function(){return Fc(e,l7()).base(e.base())},fl.apply(e,arguments)}function c7(){var e=ok(vw());return e.copy=function(){return Fc(e,c7()).constant(e.constant())},fl.apply(e,arguments)}function yk(){var e=lk(vw());return e.copy=function(){return Fc(e,yk()).exponent(e.exponent())},fl.apply(e,arguments)}function xEe(){return yk.apply(null,arguments).exponent(.5)}const U4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pg,scaleDiverging:o7,scaleDivergingLog:l7,scaleDivergingPow:yk,scaleDivergingSqrt:xEe,scaleDivergingSymlog:c7,scaleIdentity:zq,scaleImplicit:bP,scaleLinear:X0,scaleLog:Uq,scaleOrdinal:ZE,scalePoint:_p,scalePow:ck,scaleQuantile:Hq,scaleQuantize:Gq,scaleRadial:Wq,scaleSequential:r7,scaleSequentialLog:s7,scaleSequentialPow:xk,scaleSequentialQuantile:a7,scaleSequentialSqrt:vEe,scaleSequentialSymlog:i7,scaleSqrt:J_e,scaleSymlog:qq,scaleThreshold:Kq,scaleTime:pEe,scaleUtc:gEe,tickFormat:Bq},Symbol.toStringTag,{value:"Module"}));var yEe=Kf;function jEe(e,t,n){for(var s=-1,i=e.length;++s<i;){var a=e[s],o=t(a);if(o!=null&&(l===void 0?o===o&&!yEe(o):n(o,l)))var l=o,c=a}return c}var xw=jEe;function bEe(e,t){return e>t}var u7=bEe,wEe=xw,NEe=u7,SEe=nm;function CEe(e){return e&&e.length?wEe(e,SEe,NEe):void 0}var PEe=CEe;const tc=fn(PEe);function _Ee(e,t){return e<t}var d7=_Ee,AEe=xw,EEe=d7,kEe=nm;function TEe(e){return e&&e.length?AEe(e,kEe,EEe):void 0}var OEe=TEe;const yw=fn(OEe);var DEe=DE,MEe=vo,IEe=yq,$Ee=ei;function REe(e,t){var n=$Ee(e)?DEe:IEe;return n(e,MEe(t))}var LEe=REe,FEe=vq,BEe=LEe;function zEe(e,t){return FEe(BEe(e,t),1)}var VEe=zEe;const UEe=fn(VEe);var qEe=KE;function WEe(e,t){return qEe(e,t)}var HEe=WEe;const Qu=fn(HEe);var im=1e9,GEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bk,Gn=!0,Qi="[DecimalError] ",Ou=Qi+"Invalid argument: ",jk=Qi+"Exponent out of range: ",am=Math.floor,ou=Math.pow,KEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,Rr=1e7,Bn=7,h7=9007199254740991,tj=am(h7/Bn),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,n,s,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(s=a.d.length,i=e.d.length,t=0,n=s<i?s:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return s===i?0:s>i^a.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Bn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(e){return Ko(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,n=t.constructor;return Pn(Ko(t,new n(e),0,1),n.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return jr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,n=this,s=n.constructor,i=s.precision,a=i+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(mi))throw Error(Qi+"NaN");if(n.s<1)throw Error(Qi+(n.s?"NaN":"-Infinity"));return n.eq(mi)?new s(0):(Gn=!1,t=Ko(jg(n,a),jg(e,a),a),Gn=!0,Pn(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p7(t,e):f7(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,n=this,s=n.constructor,i=s.precision;if(e=new s(e),!e.s)throw Error(Qi+"NaN");return n.s?(Gn=!1,t=Ko(n,e,0,1).times(e),Gn=!0,n.minus(t)):Pn(new s(n),i)};st.naturalExponential=st.exp=function(){return m7(this)};st.naturalLogarithm=st.ln=function(){return jg(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?f7(t,e):p7(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,n,s,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ou+e);if(t=jr(i)+1,s=i.d.length-1,n=s*Bn+1,s=i.d[s],s){for(;s%10==0;s/=10)n--;for(s=i.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};st.squareRoot=st.sqrt=function(){var e,t,n,s,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Qi+"NaN")}for(e=jr(l),Gn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=to(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=am((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=s,s=a.plus(Ko(l,a,o+2)).times(.5),to(a.d).slice(0,o)===(t=to(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Pn(a,n+1,0),a.times(a).eq(l)){s=a;break}}else if(t!="9999")break;o+=4}return Gn=!0,Pn(s,n)};st.times=st.mul=function(e){var t,n,s,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,o=c,c=u,u=o),a=[],o=c+u,s=o;s--;)a.push(0);for(s=u;--s>=0;){for(t=0,i=c+s;i>s;)l=a[i]+g[s]*m[i-s-1]+t,a[i--]=l%Rr|0,t=l/Rr|0;a[i]=(a[i]+t)%Rr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Gn?Pn(e,f.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(mo(e,0,im),t===void 0?t=s.rounding:mo(t,0,8),Pn(n,e+jr(n)+1,t))};st.toExponential=function(e,t){var n,s=this,i=s.constructor;return e===void 0?n=Xu(s,!0):(mo(e,0,im),t===void 0?t=i.rounding:mo(t,0,8),s=Pn(new i(s),e+1,t),n=Xu(s,!0,e+1)),n};st.toFixed=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?Xu(i):(mo(e,0,im),t===void 0?t=a.rounding:mo(t,0,8),s=Pn(new a(i),e+jr(i)+1,t),n=Xu(s.abs(),!1,e+jr(s)+1),i.isneg()&&!i.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return Pn(new t(e),jr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,n,s,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(mi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Qi+"Infinity");return l}if(l.eq(mi))return l;if(s=c.precision,e.eq(mi))return Pn(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=h7){for(i=new c(mi),t=Math.ceil(s/Bn+4),Gn=!1;n%2&&(i=i.times(l),W4(i.d,t)),n=am(n/2),n!==0;)l=l.times(l),W4(l.d,t);return Gn=!0,e.s<0?new c(mi).div(i):Pn(i,s)}}else if(a<0)throw Error(Qi+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Gn=!1,i=e.times(jg(l,s+u)),Gn=!0,i=m7(i),i.s=a,i};st.toPrecision=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?(n=jr(i),s=Xu(i,n<=a.toExpNeg||n>=a.toExpPos)):(mo(e,1,im),t===void 0?t=a.rounding:mo(t,0,8),i=Pn(new a(i),e,t),n=jr(i),s=Xu(i,e<=n||n<=a.toExpNeg,e)),s};st.toSignificantDigits=st.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(mo(e,1,im),t===void 0?t=s.rounding:mo(t,0,8)),Pn(new s(n),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jr(e),n=e.constructor;return Xu(e,t<=n.toExpNeg||t>=n.toExpPos)};function f7(e,t){var n,s,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Gn?Pn(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(s=c,a=-a,l=u.length):(s=u,i=o,l=c.length),o=Math.ceil(f/Bn),l=o>l?o+1:l+1,a>l&&(a=l,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,s=u,u=c,c=s),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Rr|0,c[a]%=Rr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Gn?Pn(t,f):t}function mo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ou+e)}function to(e){var t,n,s,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)s=e[t]+"",n=Bn-s.length,n&&(a+=Rl(n)),a+=s;o=e[t],s=o+"",n=Bn-s.length,n&&(a+=Rl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ko=function(){function e(s,i){var a,o=0,l=s.length;for(s=s.slice();l--;)a=s[l]*i+o,s[l]=a%Rr|0,o=a/Rr|0;return o&&s.unshift(o),s}function t(s,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(s[l]!=i[l]){c=s[l]>i[l]?1:-1;break}return c}function n(s,i,a){for(var o=0;a--;)s[a]-=o,o=s[a]<i[a]?1:0,s[a]=o*Rr+s[a]-i[a];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,a,o){var l,c,u,d,f,m,g,x,v,y,N,j,b,P,C,A,_,E,O=s.constructor,I=s.s==i.s?1:-1,D=s.d,k=i.d;if(!s.s)return new O(s);if(!i.s)throw Error(Qi+"Division by zero");for(c=s.e-i.e,_=k.length,C=D.length,g=new O(I),x=g.d=[],u=0;k[u]==(D[u]||0);)++u;if(k[u]>(D[u]||0)&&--c,a==null?j=a=O.precision:o?j=a+(jr(s)-jr(i))+1:j=a,j<0)return new O(0);if(j=j/Bn+2|0,u=0,_==1)for(d=0,k=k[0],j++;(u<C||d)&&j--;u++)b=d*Rr+(D[u]||0),x[u]=b/k|0,d=b%k|0;else{for(d=Rr/(k[0]+1)|0,d>1&&(k=e(k,d),D=e(D,d),_=k.length,C=D.length),P=_,v=D.slice(0,_),y=v.length;y<_;)v[y++]=0;E=k.slice(),E.unshift(0),A=k[0],k[1]>=Rr/2&&++A;do d=0,l=t(k,v,_,y),l<0?(N=v[0],_!=y&&(N=N*Rr+(v[1]||0)),d=N/A|0,d>1?(d>=Rr&&(d=Rr-1),f=e(k,d),m=f.length,y=v.length,l=t(f,v,m,y),l==1&&(d--,n(f,_<m?E:k,m))):(d==0&&(l=d=1),f=k.slice()),m=f.length,m<y&&f.unshift(0),n(v,f,y),l==-1&&(y=v.length,l=t(k,v,_,y),l<1&&(d++,n(v,_<y?E:k,y))),y=v.length):l===0&&(d++,v=[0]),x[u++]=d,l&&v[0]?v[y++]=D[P]||0:(v=[D[P]],y=1);while((P++<C||v[0]!==void 0)&&j--)}return x[0]||x.shift(),g.e=c,Pn(g,o?a+jr(g)+1:a)}}();function m7(e,t){var n,s,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(jr(e)>16)throw Error(jk+jr(e));if(!e.s)return new d(mi);for(t==null?(Gn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(ou(2,u))/Math.LN10*2+5|0,l+=s,n=i=a=new d(mi),d.precision=l;;){if(i=Pn(i.times(e),l),n=n.times(++c),o=a.plus(Ko(i,n,l)),to(o.d).slice(0,l)===to(a.d).slice(0,l)){for(;u--;)a=Pn(a.times(a),l);return d.precision=f,t==null?(Gn=!0,Pn(a,f)):a}a=o}}function jr(e){for(var t=e.e*Bn,n=e.d[0];n>=10;n/=10)t++;return t}function FS(e,t,n){if(t>e.LN10.sd())throw Gn=!0,n&&(e.precision=n),Error(Qi+"LN10 precision limit exceeded");return Pn(new e(e.LN10),t)}function Rl(e){for(var t="";e--;)t+="0";return t}function jg(e,t){var n,s,i,a,o,l,c,u,d,f=1,m=10,g=e,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(Qi+(g.s?"NaN":"-Infinity"));if(g.eq(mi))return new v(0);if(t==null?(Gn=!1,u=y):u=t,g.eq(10))return t==null&&(Gn=!0),FS(v,u);if(u+=m,v.precision=u,n=to(x),s=n.charAt(0),a=jr(g),Math.abs(a)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(e),n=to(g.d),s=n.charAt(0),f++;a=jr(g),s>1?(g=new v("0."+n),a++):g=new v(s+"."+n.slice(1))}else return c=FS(v,u+2,y).times(a+""),g=jg(new v(s+"."+n.slice(1)),u-m).plus(c),v.precision=y,t==null?(Gn=!0,Pn(g,y)):g;for(l=o=g=Ko(g.minus(mi),g.plus(mi),u),d=Pn(g.times(g),u),i=3;;){if(o=Pn(o.times(d),u),c=l.plus(Ko(o,new v(i),u)),to(c.d).slice(0,u)===to(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(FS(v,u+2,y).times(a+""))),l=Ko(l,new v(f),u),v.precision=y,t==null?(Gn=!0,Pn(l,y)):l;l=c,i+=2}}function q4(e,t){var n,s,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(s,i),t){if(i-=s,n=n-s-1,e.e=am(n/Bn),e.d=[],s=(n+1)%Bn,n<0&&(s+=Bn),s<i){for(s&&e.d.push(+t.slice(0,s)),i-=Bn;s<i;)e.d.push(+t.slice(s,s+=Bn));t=t.slice(s),s=Bn-t.length}else s-=i;for(;s--;)t+="0";if(e.d.push(+t),Gn&&(e.e>tj||e.e<-tj))throw Error(jk+n)}else e.s=0,e.e=0,e.d=[0];return e}function Pn(e,t,n){var s,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(s=t-o,s<0)s+=Bn,i=t,u=f[d=0];else{if(d=Math.ceil((s+1)/Bn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;s%=Bn,i=s-Bn+o}if(n!==void 0&&(a=ou(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?i>0?u/ou(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=jr(e),f.length=1,t=t-a-1,f[0]=ou(10,(Bn-t%Bn)%Bn),e.e=am(-t/Bn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=d,a=1,d--):(f.length=d+1,a=ou(10,Bn-s),f[d]=i>0?(u/ou(10,o-i)%ou(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Rr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Rr)break;f[d--]=0,a=1}for(s=f.length;f[--s]===0;)f.pop();if(Gn&&(e.e>tj||e.e<-tj))throw Error(jk+jr(e));return e}function p7(e,t){var n,s,i,a,o,l,c,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Gn?Pn(t,g):t;if(c=e.d,f=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,s=u,l=c.length),i=Math.max(Math.ceil(g/Bn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Rr-1;--c[a],c[i]+=Rr}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Gn?Pn(t,g):t):new m(0)}function Xu(e,t,n){var s,i=jr(e),a=to(e.d),o=a.length;return t?(n&&(s=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Rl(s):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Rl(-i-1)+a,n&&(s=n-o)>0&&(a+=Rl(s))):i>=o?(a+=Rl(i+1-o),n&&(s=n-i-1)>0&&(a=a+"."+Rl(s))):((s=i+1)<o&&(a=a.slice(0,s)+"."+a.slice(s)),n&&(s=n-o)>0&&(i+1===o&&(a+="."),a+=Rl(s))),e.s<0?"-"+a:a}function W4(e,t){if(e.length>t)return e.length=t,!0}function g7(e){var t,n,s;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ou+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return q4(o,a.toString())}else if(typeof a!="string")throw Error(Ou+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,KEe.test(a))q4(o,a);else throw Error(Ou+a)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=g7,i.config=i.set=YEe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return i.config(e),i}function YEe(e){if(!e||typeof e!="object")throw Error(Qi+"Object expected");var t,n,s,i=["precision",1,im,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((s=e[n=i[t]])!==void 0)if(am(s)===s&&s>=i[t+1]&&s<=i[t+2])this[n]=s;else throw Error(Ou+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Ou+n+": "+s);return this}var bk=g7(GEe);mi=new bk(1);const wn=bk;function QEe(e){return eke(e)||ZEe(e)||JEe(e)||XEe()}function XEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(e,t){if(e){if(typeof e=="string")return CP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CP(e,t)}}function ZEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eke(e){if(Array.isArray(e))return CP(e)}function CP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var tke=function(t){return t},v7={"@@functional/placeholder":!0},x7=function(t){return t===v7},H4=function(t){return function n(){return arguments.length===0||arguments.length===1&&x7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},nke=function e(t,n){return t===1?n:H4(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==v7}).length;return o>=t?n.apply(void 0,i):e(t-o,H4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return x7(f)?c.shift():f});return n.apply(void 0,QEe(d).concat(c))}))})},jw=function(t){return nke(t.length,t)},PP=function(t,n){for(var s=[],i=t;i<n;++i)s[i-t]=i;return s},rke=jw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),ske=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return tke;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},_P=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},y7=function(t){var n=null,s=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,s=t.apply(void 0,a)),s}};function ike(e){var t;return e===0?t=1:t=Math.floor(new wn(e).abs().log(10).toNumber())+1,t}function ake(e,t,n){for(var s=new wn(e),i=0,a=[];s.lt(t)&&i<1e5;)a.push(s.toNumber()),s=s.add(n),i++;return a}var oke=jw(function(e,t,n){var s=+e,i=+t;return s+n*(i-s)}),lke=jw(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),cke=jw(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const bw={rangeStep:ake,getDigitCount:ike,interpolateNumber:oke,uninterpolateNumber:lke,uninterpolateTruncation:cke};function AP(e){return hke(e)||dke(e)||j7(e)||uke()}function uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hke(e){if(Array.isArray(e))return EP(e)}function bg(e,t){return pke(e)||mke(e,t)||j7(e,t)||fke()}function fke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7(e,t){if(e){if(typeof e=="string")return EP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EP(e,t)}}function EP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function mke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,a=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function pke(e){if(Array.isArray(e))return e}function b7(e){var t=bg(e,2),n=t[0],s=t[1],i=n,a=s;return n>s&&(i=s,a=n),[i,a]}function w7(e,t,n){if(e.lte(0))return new wn(0);var s=bw.getDigitCount(e.toNumber()),i=new wn(10).pow(s),a=e.div(i),o=s!==1?.05:.1,l=new wn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new wn(Math.ceil(c))}function gke(e,t,n){var s=1,i=new wn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(s=new wn(10).pow(bw.getDigitCount(e)-1),i=new wn(Math.floor(i.div(s).toNumber())).mul(s)):a>1&&(i=new wn(Math.floor(e)))}else e===0?i=new wn(Math.floor((t-1)/2)):n||(i=new wn(Math.floor(e)));var o=Math.floor((t-1)/2),l=ske(rke(function(c){return i.add(new wn(c-o).mul(s)).toNumber()}),PP);return l(0,t)}function N7(e,t,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new wn(0),tickMin:new wn(0),tickMax:new wn(0)};var a=w7(new wn(t).sub(e).div(n-1),s,i),o;e<=0&&t>=0?o=new wn(0):(o=new wn(e).add(t).div(2),o=o.sub(new wn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new wn(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?N7(e,t,n,s,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new wn(l).mul(a)),tickMax:o.add(new wn(c).mul(a))})}function vke(e){var t=bg(e,2),n=t[0],s=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=b7([n,s]),c=bg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(AP(PP(0,i-1).map(function(){return 1/0}))):[].concat(AP(PP(0,i-1).map(function(){return-1/0})),[d]);return n>s?_P(f):f}if(u===d)return gke(u,i,a);var m=N7(u,d,o,a),g=m.step,x=m.tickMin,v=m.tickMax,y=bw.rangeStep(x,v.add(new wn(.1).mul(g)),g);return n>s?_P(y):y}function xke(e,t){var n=bg(e,2),s=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=b7([s,i]),l=bg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,i];if(c===u)return[c];var d=Math.max(t,2),f=w7(new wn(u).sub(c).div(d-1),a,0),m=[].concat(AP(bw.rangeStep(new wn(c),new wn(u).sub(new wn(.99).mul(f)),f)),[u]);return s>i?_P(m):m}var yke=y7(vke),jke=y7(xke),bke="Invariant failed";function Ju(e,t){throw new Error(bke)}var wke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function nj(){return nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nj.apply(this,arguments)}function Nke(e,t){return _ke(e)||Pke(e,t)||Cke(e,t)||Ske()}function Ske(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cke(e,t){if(e){if(typeof e=="string")return G4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G4(e,t)}}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Pke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _ke(e){if(Array.isArray(e))return e}function Ake(e,t){if(e==null)return{};var n=Eke(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Eke(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function kke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tke(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,P7(s.key),s)}}function Oke(e,t,n){return t&&Tke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dke(e,t,n){return t=rj(t),Mke(e,S7()?Reflect.construct(t,n||[],rj(e).constructor):t.apply(e,n))}function Mke(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ike(e)}function Ike(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!e})()}function rj(e){return rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rj(e)}function $ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kP(e,t)}function kP(e,t){return kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},kP(e,t)}function C7(e,t,n){return t=P7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P7(e){var t=Rke(e,"string");return ff(t)=="symbol"?t:t+""}function Rke(e,t){if(ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wv=function(e){function t(){return kke(this,t),Dke(this,t,arguments)}return $ke(t,e),Oke(t,[{key:"render",value:function(){var s=this.props,i=s.offset,a=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,d=s.xAxis,f=s.yAxis,m=Ake(s,wke),g=ct(m,!1);this.props.direction==="x"&&d.type!=="number"&&Ju();var x=c.map(function(v){var y=u(v,l),N=y.x,j=y.y,b=y.value,P=y.errorVal;if(!P)return null;var C=[],A,_;if(Array.isArray(P)){var E=Nke(P,2);A=E[0],_=E[1]}else A=_=P;if(a==="vertical"){var O=d.scale,I=j+i,D=I+o,k=I-o,F=O(b-A),$=O(b+_);C.push({x1:$,y1:D,x2:$,y2:k}),C.push({x1:F,y1:I,x2:$,y2:I}),C.push({x1:F,y1:D,x2:F,y2:k})}else if(a==="horizontal"){var Q=f.scale,U=N+i,ie=U-o,L=U+o,z=Q(b-A),le=Q(b+_);C.push({x1:ie,y1:le,x2:L,y2:le}),C.push({x1:U,y1:z,x2:U,y2:le}),C.push({x1:ie,y1:z,x2:L,y2:z})}return q.createElement(Yt,nj({className:"recharts-errorBar",key:"bar-".concat(C.map(function(pe){return"".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))},g),C.map(function(pe){return q.createElement("line",nj({},pe,{key:"line-".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))}))});return q.createElement(Yt,{className:"recharts-errorBars"},x)}}])}(q.Component);C7(wv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});C7(wv,"displayName","ErrorBar");function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(s){Lke(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lke(e,t,n){return t=Fke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fke(e){var t=Bke(e,"string");return wg(t)=="symbol"?t:t+""}function Bke(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _7=function(t){var n=t.children,s=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=di(n,Eh);if(!o)return null;var l=Eh.defaultProps,c=l!==void 0?Jc(Jc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(s||[]).reduce(function(d,f){var m=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(s||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?Jc(Jc({},m),f.props):{},x=g.dataKey,v=g.name,y=g.legendType,N=g.hide;return{inactive:N,dataKey:x,type:c.iconType||y||"square",color:wk(f),value:v||x,payload:g}}),Jc(Jc(Jc({},c),Eh.getWithHeight(o,i)),{},{payload:u,item:o})};function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function Y4(e){return qke(e)||Uke(e)||Vke(e)||zke()}function zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vke(e,t){if(e){if(typeof e=="string")return TP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(e,t)}}function Uke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qke(e){if(Array.isArray(e))return TP(e)}function TP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(n),!0).forEach(function(s){Th(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Th(e,t,n){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wke(e){var t=Hke(e,"string");return Ng(t)=="symbol"?t:t+""}function Hke(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ng(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mr(e,t,n){return wt(e)||wt(t)?n:Or(t)?yi(e,t,n):yt(t)?t(e):n}function Ap(e,t,n,s){var i=UEe(e,function(l){return mr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ve(l)||parseFloat(l)});return a.length?[yw(a),tc(a)]:[1/0,-1/0]}var o=s?i.filter(function(l){return!wt(l)}):i;return o.map(function(l){return Or(l)||l instanceof Date?l:""})}var Gke=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Ps(f-d)!==Ps(m-f)){var x=[];if(Ps(m-f)===Ps(c[1]-c[0])){g=m;var v=f+c[1]-c[0];x[0]=Math.min(v,(v+d)/2),x[1]=Math.max(v,(v+d)/2)}else{g=d;var y=m+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var N=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>N[0]&&t<=N[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var j=Math.min(d,m),b=Math.max(d,m);if(t>(j+f)/2&&t<=(b+f)/2){o=i[u].index;break}}}else for(var P=0;P<l;P++)if(P===0&&t<=(s[P].coordinate+s[P+1].coordinate)/2||P>0&&P<l-1&&t>(s[P].coordinate+s[P-1].coordinate)/2&&t<=(s[P].coordinate+s[P+1].coordinate)/2||P===l-1&&t>(s[P].coordinate+s[P-1].coordinate)/2){o=s[P].index;break}return o},wk=function(t){var n,s=t,i=s.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Kke=function(t){var n=t.barSize,s=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var x=d[f[m]],v=x.items,y=x.cateAxisId,N=v.filter(function(_){return Go(_.type).indexOf("Bar")>=0});if(N&&N.length){var j=N[0].type.defaultProps,b=j!==void 0?ar(ar({},j),N[0].props):N[0].props,P=b.barSize,C=b[y];o[C]||(o[C]=[]);var A=wt(P)?n:P;o[C].push({item:N[0],stackList:N.slice(1),barSize:wt(A)?void 0:_s(A,s,0)})}}return o},Yke=function(t){var n=t.barGap,s=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=_s(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,x=o.reduce(function(P,C){return P+C.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&g>0&&(m=!0,g*=.9,x=c*g);var v=(i-x)/2>>0,y={offset:v-u,size:0};d=o.reduce(function(P,C){var A={item:C.item,position:{offset:y.offset+y.size+u,size:m?g:C.barSize}},_=[].concat(Y4(P),[A]);return y=_[_.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){_.push({item:E,position:y})}),_},f)}else{var N=_s(s,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var j=(i-2*N-(c-1)*u)/c;j>1&&(j>>=0);var b=l===+l?Math.min(j,l):j;d=o.reduce(function(P,C,A){var _=[].concat(Y4(P),[{item:C.item,position:{offset:N+(j+u)*A+(j-b)/2,size:b}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},f)}return d},Qke=function(t,n,s,i){var a=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=_7({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&Ve(t[g]))return ar(ar({},t),{},Th({},g,t[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&Ve(t[x]))return ar(ar({},t),{},Th({},x,t[x]+(m||0)))}return t},Xke=function(t,n,s){return wt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},A7=function(t,n,s,i,a){var o=n.props.children,l=ji(o,wv).filter(function(u){return Xke(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=mr(d,s);if(wt(f))return u;var m=Array.isArray(f)?[yw(f),tc(f)]:[f,f],g=c.reduce(function(x,v){var y=mr(d,v,0),N=m[0]-Math.abs(Array.isArray(y)?y[0]:y),j=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,x[0]),Math.max(j,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Jke=function(t,n,s,i,a){var o=n.map(function(l){return A7(t,l,s,a,i)}).filter(function(l){return!wt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},E7=function(t,n,s,i,a){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&A7(t,c,u,i)||Ap(t,u,s,a)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},k7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},T7=function(t,n,s,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===s&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(s),l},qo=function(t,n,s){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||s)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ps(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!Zf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!s?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:a?a[f]:f,index:m,offset:u}})},BS=new WeakMap,my=function(t,n){if(typeof n!="function")return t;BS.has(t)||BS.set(t,new WeakMap);var s=BS.get(t);if(s.has(n))return s.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,i),i},O7=function(t,n,s){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:pg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:X0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:_p(),realScaleType:"point"}:a==="category"?{scale:pg(),realScaleType:"band"}:{scale:X0(),realScaleType:"linear"};if(Gu(i)){var c="scale".concat(iw(i));return{scale:(U4[c]||_p)(),realScaleType:U4[c]?c:"point"}}return yt(i)?{scale:i}:{scale:_p(),realScaleType:"point"}},X4=1e-4,D7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,i=t.range(),a=Math.min(i[0],i[1])-X4,o=Math.max(i[0],i[1])+X4,l=t(n[0]),c=t(n[s-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[s-1]])}},Zke=function(t,n){if(!t)return null;for(var s=0,i=t.length;s<i;s++)if(t[s].item===n)return t[s].position;return null},eTe=function(t,n){if(!n||n.length!==2||!Ve(n[0])||!Ve(n[1]))return t;var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ve(t[0])||t[0]<s)&&(a[0]=s),(!Ve(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<s&&(a[1]=s),a},tTe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0,l=0;l<n;++l){var c=Zf(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=a,t[l][s][1]=a+c,a=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},nTe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0;o<n;++o){var l=Zf(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=a,t[o][s][1]=a+l,a=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},rTe={sign:tTe,expand:w0e,none:sf,silhouette:N0e,wiggle:S0e,positive:nTe},sTe=function(t,n,s){var i=n.map(function(l){return l.props.dataKey}),a=rTe[s],o=b0e().keys(i).value(function(l,c){return+mr(l,c,0)}).order(nP).offset(a);return o(t)},iTe=function(t,n,s,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?ar(ar({},m.type.defaultProps),m.props):m.props,v=x.stackId,y=x.hide;if(y)return f;var N=x[s],j=f[N]||{hasStack:!1,stackGroups:{}};if(Or(v)){var b=j.stackGroups[v]||{numericAxisId:s,cateAxisId:i,items:[]};b.items.push(m),j.hasStack=!0,j.stackGroups[v]=b}else j.stackGroups[hd("_stackId_")]={numericAxisId:s,cateAxisId:i,items:[m]};return ar(ar({},f),{},Th({},N,j))},c),d={};return Object.keys(u).reduce(function(f,m){var g=u[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var N=g.stackGroups[y];return ar(ar({},v),{},Th({},y,{numericAxisId:s,cateAxisId:i,items:N.items,stackedData:sTe(t,N.items,a)}))},x)}return ar(ar({},f),{},Th({},m,g))},d)},M7=function(t,n){var s=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=yke(u,a,l);return t.domain([yw(d),tc(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),m=jke(f,a,l);return{niceTicks:m}}return null};function sj(e){var t=e.axis,n=e.ticks,s=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wt(i[t.dataKey])){var l=k0(n,"value",i[t.dataKey]);if(l)return l.coordinate+s/2}return n[a]?n[a].coordinate+s/2:null}var c=mr(i,wt(o)?t.dataKey:o);return wt(c)?null:t.scale(c)}var J4=function(t){var n=t.axis,s=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+i:null;var c=mr(o,n.dataKey,n.domain[l]);return wt(c)?null:n.scale(c)-a/2+i},aTe=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var i=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]);return i<=0&&a>=0?0:a<0?a:i}return s[0]},oTe=function(t,n){var s,i=(s=t.type)!==null&&s!==void 0&&s.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Or(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},lTe=function(t){return t.reduce(function(n,s){return[yw(s.concat([n[0]]).filter(Ve)),tc(s.concat([n[1]]).filter(Ve))]},[1/0,-1/0])},I7=function(t,n,s){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=lTe(d.slice(n,s+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Z4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OP=function(t,n,s){if(yt(t))return t(n,s);if(!Array.isArray(t))return n;var i=[];if(Ve(t[0]))i[0]=s?t[0]:Math.min(t[0],n[0]);else if(Z4.test(t[0])){var a=+Z4.exec(t[0])[1];i[0]=n[0]-a}else yt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ve(t[1]))i[1]=s?t[1]:Math.max(t[1],n[1]);else if(eR.test(t[1])){var o=+eR.exec(t[1])[1];i[1]=n[1]+o}else yt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},ij=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!s||i>0)return i}if(t&&n&&n.length>=2){for(var a=QE(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},tR=function(t,n,s){return!t||!t.length||Qu(t,yi(s,"type.defaultProps.domain"))?n:t},$7=function(t,n){var s=t.type.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,i=s.dataKey,a=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,d=s.hide;return ar(ar({},ct(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:wk(t),value:mr(n,i),type:c,payload:n,chartType:u,hide:d})};function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(s){R7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function R7(e,t,n){return t=cTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cTe(e){var t=uTe(e,"string");return Sg(t)=="symbol"?t:t+""}function uTe(e,t){if(Sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Sg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dTe(e,t){return pTe(e)||mTe(e,t)||fTe(e,t)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fTe(e,t){if(e){if(typeof e=="string")return rR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rR(e,t)}}function rR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function mTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pTe(e){if(Array.isArray(e))return e}var aj=Math.PI/180,gTe=function(t){return t*180/Math.PI},Mn=function(t,n,s,i){return{x:t+Math.cos(-aj*i)*s,y:n+Math.sin(-aj*i)*s}},L7=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},vTe=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=_s(t.cx,o,o/2),f=_s(t.cy,l,l/2),m=L7(o,l,s),g=_s(t.innerRadius,m,0),x=_s(t.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(y,N){var j=n[N],b=j.domain,P=j.reversed,C;if(wt(j.range))i==="angleAxis"?C=[c,u]:i==="radiusAxis"&&(C=[g,x]),P&&(C=[C[1],C[0]]);else{C=j.range;var A=C,_=dTe(A,2);c=_[0],u=_[1]}var E=O7(j,a),O=E.realScaleType,I=E.scale;I.domain(b).range(C),D7(I);var D=M7(I,Mo(Mo({},j),{},{realScaleType:O})),k=Mo(Mo(Mo({},j),D),{},{range:C,radius:x,realScaleType:O,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return Mo(Mo({},y),{},R7({},N,k))},{})},xTe=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-o,2))},yTe=function(t,n){var s=t.x,i=t.y,a=n.cx,o=n.cy,l=xTe({x:s,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(s-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:gTe(u),angleInRadian:u}},jTe=function(t){var n=t.startAngle,s=t.endAngle,i=Math.floor(n/360),a=Math.floor(s/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:s-o*360}},bTe=function(t,n){var s=n.startAngle,i=n.endAngle,a=Math.floor(s/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},sR=function(t,n){var s=t.x,i=t.y,a=yTe({x:s,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=jTe(n),f=d.startAngle,m=d.endAngle,g=l,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?Mo(Mo({},n),{},{radius:o,angle:bTe(g,n)}):null},F7=function(t){return!w.isValidElement(t)&&!yt(t)&&typeof t!="boolean"?t.className:""};function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}var wTe=["offset"];function NTe(e){return _Te(e)||PTe(e)||CTe(e)||STe()}function STe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CTe(e,t){if(e){if(typeof e=="string")return DP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(e,t)}}function PTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Te(e){if(Array.isArray(e))return DP(e)}function DP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ATe(e,t){if(e==null)return{};var n=ETe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ETe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(s){kTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kTe(e,t,n){return t=TTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TTe(e){var t=OTe(e,"string");return Cg(t)=="symbol"?t:t+""}function OTe(e,t){if(Cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Cg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pg.apply(this,arguments)}var DTe=function(t){var n=t.value,s=t.formatter,i=wt(t.children)?n:t.children;return yt(s)?s(i):i},MTe=function(t,n){var s=Ps(n-t),i=Math.min(Math.abs(n-t),360);return s*i},ITe=function(t,n,s){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(f+m)/2,N=MTe(g,x),j=N>=0?1:-1,b,P;i==="insideStart"?(b=g+j*o,P=v):i==="insideEnd"?(b=x-j*o,P=!v):i==="end"&&(b=x+j*o,P=v),P=N<=0?P:!P;var C=Mn(u,d,y,b),A=Mn(u,d,y,b+(P?1:-1)*359),_="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(P?0:1,`,
    `).concat(A.x,",").concat(A.y),E=wt(t.id)?hd("recharts-radial-line-"):t.id;return q.createElement("text",Pg({},s,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:E,d:_})),q.createElement("textPath",{xlinkHref:"#".concat(E)},n))},$Te=function(t){var n=t.viewBox,s=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(i==="outside"){var g=Mn(o,l,u+s,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=Mn(o,l,y,m),j=N.x,b=N.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},RTe=function(t){var n=t.viewBox,s=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,g=f>0?"end":"start",x=f>0?"start":"end",v=u>=0?1:-1,y=v*i,N=v>0?"end":"start",j=v>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Cr(Cr({},b),s?{height:Math.max(c-s.y,0),width:u}:{})}if(a==="bottom"){var P={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:x};return Cr(Cr({},P),s?{height:Math.max(s.y+s.height-(c+d),0),width:u}:{})}if(a==="left"){var C={x:l-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return Cr(Cr({},C),s?{width:Math.max(C.x-s.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Cr(Cr({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:d}:{})}var _=s?{width:u,height:d}:{};return a==="insideLeft"?Cr({x:l+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},_):a==="insideRight"?Cr({x:l+u-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},_):a==="insideTop"?Cr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},_):a==="insideBottom"?Cr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:g},_):a==="insideTopLeft"?Cr({x:l+y,y:c+m,textAnchor:j,verticalAnchor:x},_):a==="insideTopRight"?Cr({x:l+u-y,y:c+m,textAnchor:N,verticalAnchor:x},_):a==="insideBottomLeft"?Cr({x:l+y,y:c+d-m,textAnchor:j,verticalAnchor:g},_):a==="insideBottomRight"?Cr({x:l+u-y,y:c+d-m,textAnchor:N,verticalAnchor:g},_):Yf(a)&&(Ve(a.x)||pu(a.x))&&(Ve(a.y)||pu(a.y))?Cr({x:l+_s(a.x,u),y:c+_s(a.y,d),textAnchor:"end",verticalAnchor:"end"},_):Cr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},LTe=function(t){return"cx"in t&&Ve(t.cx)};function Br(e){var t=e.offset,n=t===void 0?5:t,s=ATe(e,wTe),i=Cr({offset:n},s),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!a||wt(l)&&wt(c)&&!w.isValidElement(u)&&!yt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var g;if(yt(u)){if(g=w.createElement(u,i),w.isValidElement(g))return g}else g=DTe(i);var x=LTe(a),v=ct(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ITe(i,g,v);var y=x?$Te(i):RTe(i);return q.createElement(Yu,Pg({className:Ct("recharts-label",f)},v,y,{breakAll:m}),g)}Br.displayName="Label";var B7=function(t){var n=t.cx,s=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,g=t.top,x=t.left,v=t.width,y=t.height,N=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ve(v)&&Ve(y)){if(Ve(f)&&Ve(m))return{x:f,y:m,width:v,height:y};if(Ve(g)&&Ve(x))return{x:g,y:x,width:v,height:y}}return Ve(f)&&Ve(m)?{x:f,y:m,width:0,height:0}:Ve(n)&&Ve(s)?{cx:n,cy:s,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},FTe=function(t,n){return t?t===!0?q.createElement(Br,{key:"label-implicit",viewBox:n}):Or(t)?q.createElement(Br,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===Br?w.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(Br,{key:"label-implicit",content:t,viewBox:n}):yt(t)?q.createElement(Br,{key:"label-implicit",content:t,viewBox:n}):Yf(t)?q.createElement(Br,Pg({viewBox:n},t,{key:"label-implicit"})):null:null},BTe=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var i=t.children,a=B7(t),o=ji(i,Br).map(function(c,u){return w.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!s)return o;var l=FTe(t.label,n||a);return[l].concat(NTe(o))};Br.parseViewBox=B7;Br.renderCallByParent=BTe;function zTe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var VTe=zTe;const UTe=fn(VTe);function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}var qTe=["valueAccessor"],WTe=["data","dataKey","clockWise","id","textBreakAll"];function HTe(e){return QTe(e)||YTe(e)||KTe(e)||GTe()}function GTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KTe(e,t){if(e){if(typeof e=="string")return MP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(e,t)}}function YTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QTe(e){if(Array.isArray(e))return MP(e)}function MP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function oj(){return oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oj.apply(this,arguments)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(s){XTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function XTe(e,t,n){return t=JTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JTe(e){var t=ZTe(e,"string");return _g(t)=="symbol"?t:t+""}function ZTe(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lR(e,t){if(e==null)return{};var n=eOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function eOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var tOe=function(t){return Array.isArray(t.value)?UTe(t.value):t.value};function co(e){var t=e.valueAccessor,n=t===void 0?tOe:t,s=lR(e,qTe),i=s.data,a=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=lR(s,WTe);return!i||!i.length?null:q.createElement(Yt,{className:"recharts-label-list"},i.map(function(d,f){var m=wt(a)?n(d,f):mr(d&&d.payload,a),g=wt(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(Br,oj({},ct(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Br.parseViewBox(wt(o)?d:oR(oR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}co.displayName="LabelList";function nOe(e,t){return e?e===!0?q.createElement(co,{key:"labelList-implicit",data:t}):q.isValidElement(e)||yt(e)?q.createElement(co,{key:"labelList-implicit",data:t,content:e}):Yf(e)?q.createElement(co,oj({data:t},e,{key:"labelList-implicit"})):null:null}function rOe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=ji(s,co).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=nOe(e.label,t);return[a].concat(HTe(i))}co.renderCallByParent=rOe;function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function IP(){return IP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},IP.apply(this,arguments)}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function uR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(s){sOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function sOe(e,t,n){return t=iOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iOe(e){var t=aOe(e,"string");return Ag(t)=="symbol"?t:t+""}function aOe(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ag(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oOe=function(t,n){var s=Ps(n-t),i=Math.min(Math.abs(n-t),359.999);return s*i},py=function(t){var n=t.cx,s=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/aj,m=u?a:a+o*f,g=Mn(n,s,d,m),x=Mn(n,s,i,m),v=u?a-o*f:a,y=Mn(n,s,d*Math.cos(f*aj),v);return{center:g,circleTangency:x,lineTangency:y,theta:f}},z7=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=oOe(o,l),u=o+c,d=Mn(n,s,a,o),f=Mn(n,s,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Mn(n,s,i,o),x=Mn(n,s,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(s," Z");return m},lOe=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Ps(d-u),m=py({cx:n,cy:s,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,v=m.theta,y=py({cx:n,cy:s,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,j=y.lineTangency,b=y.theta,P=c?Math.abs(u-d):Math.abs(u-d)-v-b;if(P<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):z7({cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var A=py({cx:n,cy:s,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=A.circleTangency,E=A.lineTangency,O=A.theta,I=py({cx:n,cy:s,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=I.circleTangency,k=I.lineTangency,F=I.theta,$=c?Math.abs(u-d):Math.abs(u-d)-O-F;if($<0&&o===0)return"".concat(C,"L").concat(n,",").concat(s,"Z");C+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(n,",").concat(s,"Z");return C},cOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V7=function(t){var n=uR(uR({},cOe),t),s=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<a||d===f)return null;var g=Ct("recharts-sector",m),x=o-a,v=_s(l,x,0,!0),y;return v>0&&Math.abs(d-f)<360?y=lOe({cx:s,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=z7({cx:s,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),q.createElement("path",IP({},ct(n,!0),{className:g,d:y,role:"img"}))};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$P.apply(this,arguments)}function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function hR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(s){uOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uOe(e,t,n){return t=dOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dOe(e){var t=hOe(e,"string");return Eg(t)=="symbol"?t:t+""}function hOe(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Eg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR={curveBasisClosed:u0e,curveBasisOpen:d0e,curveBasis:c0e,curveBumpX:Yye,curveBumpY:Qye,curveLinearClosed:h0e,curveLinear:ow,curveMonotoneX:f0e,curveMonotoneY:m0e,curveNatural:p0e,curveStep:g0e,curveStepAfter:x0e,curveStepBefore:v0e},gy=function(t){return t.x===+t.x&&t.y===+t.y},Xm=function(t){return t.x},Jm=function(t){return t.y},fOe=function(t,n){if(yt(t))return t;var s="curve".concat(iw(t));return(s==="curveMonotone"||s==="curveBump")&&n?fR["".concat(s).concat(n==="vertical"?"Y":"X")]:fR[s]||ow},mOe=function(t){var n=t.type,s=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=fOe(s,l),f=u?a.filter(function(v){return gy(v)}):a,m;if(Array.isArray(o)){var g=u?o.filter(function(v){return gy(v)}):o,x=f.map(function(v,y){return hR(hR({},v),{},{base:g[y]})});return l==="vertical"?m=ay().y(Jm).x1(Xm).x0(function(v){return v.base.x}):m=ay().x(Xm).y1(Jm).y0(function(v){return v.base.y}),m.defined(gy).curve(d),m(x)}return l==="vertical"&&Ve(o)?m=ay().y(Jm).x1(Xm).x0(o):Ve(o)?m=ay().x(Xm).y1(Jm).y0(o):m=$U().x(Xm).y(Jm),m.defined(gy).curve(d),m(f)},Du=function(t){var n=t.className,s=t.points,i=t.path,a=t.pathRef;if((!s||!s.length)&&!i)return null;var o=s&&s.length?mOe(t):i;return w.createElement("path",$P({},ct(t,!1),T0(t),{className:Ct("recharts-curve",n),d:o,ref:a}))},U7={exports:{}},pOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gOe=pOe,vOe=gOe;function q7(){}function W7(){}W7.resetWarningCache=q7;var xOe=function(){function e(s,i,a,o,l,c){if(c!==vOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:W7,resetWarningCache:q7};return n.PropTypes=n,n};U7.exports=xOe();var yOe=U7.exports;const dn=fn(yOe);var jOe=Object.getOwnPropertyNames,bOe=Object.getOwnPropertySymbols,wOe=Object.prototype.hasOwnProperty;function mR(e,t){return function(s,i,a){return e(s,i,a)&&t(s,i,a)}}function vy(e){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,i);var a=i.cache,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);var c=e(n,s,i);return a.delete(n),a.delete(s),c}}function pR(e){return jOe(e).concat(bOe(e))}var NOe=Object.hasOwn||function(e,t){return wOe.call(e,t)};function pd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var SOe="__v",COe="__o",POe="_owner",gR=Object.getOwnPropertyDescriptor,vR=Object.keys;function _Oe(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function AOe(e,t){return pd(e.getTime(),t.getTime())}function EOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function kOe(e,t){return e===t}function xR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,g=l.value;if(n.equals(m[0],g[0],c,f,e,t,n)&&n.equals(m[1],g[1],m[0],g[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var TOe=pd;function OOe(e,t,n){var s=vR(e),i=s.length;if(vR(t).length!==i)return!1;for(;i-- >0;)if(!H7(e,t,n,s[i]))return!1;return!0}function Zm(e,t,n){var s=pR(e),i=s.length;if(pR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=s[i],!H7(e,t,n,a)||(o=gR(e,a),l=gR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function DOe(e,t){return pd(e.valueOf(),t.valueOf())}function MOe(e,t){return e.source===t.source&&e.flags===t.flags}function yR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function IOe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function $Oe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function H7(e,t,n,s){return(s===POe||s===COe||s===SOe)&&(e.$$typeof||t.$$typeof)?!0:NOe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var ROe="[object Arguments]",LOe="[object Boolean]",FOe="[object Date]",BOe="[object Error]",zOe="[object Map]",VOe="[object Number]",UOe="[object Object]",qOe="[object RegExp]",WOe="[object Set]",HOe="[object String]",GOe="[object URL]",KOe=Array.isArray,jR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,bR=Object.assign,YOe=Object.prototype.toString.call.bind(Object.prototype.toString);function QOe(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var N=typeof x;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?o(x,v,y):N==="function"?i(x,v,y):!1;var j=x.constructor;if(j!==v.constructor)return!1;if(j===Object)return l(x,v,y);if(KOe(x))return t(x,v,y);if(jR!=null&&jR(x))return f(x,v,y);if(j===Date)return n(x,v,y);if(j===RegExp)return u(x,v,y);if(j===Map)return a(x,v,y);if(j===Set)return d(x,v,y);var b=YOe(x);return b===FOe?n(x,v,y):b===qOe?u(x,v,y):b===zOe?a(x,v,y):b===WOe?d(x,v,y):b===UOe?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):b===GOe?m(x,v,y):b===BOe?s(x,v,y):b===ROe?l(x,v,y):b===LOe||b===VOe||b===HOe?c(x,v,y):!1}}function XOe(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,i={areArraysEqual:s?Zm:_Oe,areDatesEqual:AOe,areErrorsEqual:EOe,areFunctionsEqual:kOe,areMapsEqual:s?mR(xR,Zm):xR,areNumbersEqual:TOe,areObjectsEqual:s?Zm:OOe,arePrimitiveWrappersEqual:DOe,areRegExpsEqual:MOe,areSetsEqual:s?mR(yR,Zm):yR,areTypedArraysEqual:s?Zm:IOe,areUrlsEqual:$Oe};if(n&&(i=bR({},i,n(i))),t){var a=vy(i.areArraysEqual),o=vy(i.areMapsEqual),l=vy(i.areObjectsEqual),c=vy(i.areSetsEqual);i=bR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function JOe(e){return function(t,n,s,i,a,o,l){return e(t,n,l)}}function ZOe(e){var t=e.circular,n=e.comparator,s=e.createState,i=e.equals,a=e.strict;if(s)return function(c,u){var d=s(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return n(c,u,{cache:m,equals:i,meta:g,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var eDe=Bc();Bc({strict:!0});Bc({circular:!0});Bc({circular:!0,strict:!0});Bc({createInternalComparator:function(){return pd}});Bc({strict:!0,createInternalComparator:function(){return pd}});Bc({circular:!0,createInternalComparator:function(){return pd}});Bc({circular:!0,createInternalComparator:function(){return pd},strict:!0});function Bc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=XOe(e),c=QOe(l),u=s?s(c):JOe(c);return ZOe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function tDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function wR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):tDe(i)};requestAnimationFrame(s)}function RP(e){"@babel/helpers - typeof";return RP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RP(e)}function nDe(e){return aDe(e)||iDe(e)||sDe(e)||rDe()}function rDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(e,t){if(e){if(typeof e=="string")return NR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NR(e,t)}}function NR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function iDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aDe(e){if(Array.isArray(e))return e}function oDe(){var e={},t=function(){return null},n=!1,s=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=nDe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){wR(i.bind(null,u),c);return}i(c),wR(i.bind(null,u));return}RP(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,s(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function CR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(s){G7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function G7(e,t,n){return t=lDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lDe(e){var t=cDe(e,"string");return kg(t)==="symbol"?t:String(t)}function cDe(e,t){if(kg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uDe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,i){return s.filter(function(a){return i.includes(a)})})},dDe=function(t){return t},hDe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ep=function(t,n){return Object.keys(n).reduce(function(s,i){return CR(CR({},s),{},G7({},i,t(i,n[i])))},{})},PR=function(t,n,s){return t.map(function(i){return"".concat(hDe(i)," ").concat(n,"ms ").concat(s)}).join(",")};function fDe(e,t){return gDe(e)||pDe(e,t)||K7(e,t)||mDe()}function mDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function gDe(e){if(Array.isArray(e))return e}function vDe(e){return jDe(e)||yDe(e)||K7(e)||xDe()}function xDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7(e,t){if(e){if(typeof e=="string")return LP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(e,t)}}function yDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jDe(e){if(Array.isArray(e))return LP(e)}function LP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var lj=1e-4,Y7=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Q7=function(t,n){return t.map(function(s,i){return s*Math.pow(n,i)}).reduce(function(s,i){return s+i})},_R=function(t,n){return function(s){var i=Y7(t,n);return Q7(i,s)}},bDe=function(t,n){return function(s){var i=Y7(t,n),a=[].concat(vDe(i.map(function(o,l){return o*l}).slice(1)),[0]);return Q7(a,s)}},AR=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=fDe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=_R(i,o),m=_R(a,l),g=bDe(i,o),x=function(N){return N>1?1:N<0?0:N},v=function(N){for(var j=N>1?1:N,b=j,P=0;P<8;++P){var C=f(b)-j,A=g(b);if(Math.abs(C-j)<lj||A<lj)return m(b);b=x(b-C/A)}return m(b)};return v.isStepper=!1,v},wDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var g=-(d-f)*s,x=m*a,v=m+(g-x)*l/1e3,y=m*l/1e3+d;return Math.abs(y-f)<lj&&Math.abs(v)<lj?[f,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},NDe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AR(i);case"spring":return wDe();default:if(i.split("(")[0]==="cubic-bezier")return AR(i)}return typeof i=="function"?i:null};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function ER(e){return PDe(e)||CDe(e)||X7(e)||SDe()}function SDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PDe(e){if(Array.isArray(e))return BP(e)}function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(s){FP(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function FP(e,t,n){return t=_De(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _De(e){var t=ADe(e,"string");return Tg(t)==="symbol"?t:String(t)}function ADe(e,t){if(Tg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EDe(e,t){return ODe(e)||TDe(e,t)||X7(e,t)||kDe()}function kDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7(e,t){if(e){if(typeof e=="string")return BP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BP(e,t)}}function BP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function TDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ODe(e){if(Array.isArray(e))return e}var cj=function(t,n,s){return t+(n-t)*s},zP=function(t){var n=t.from,s=t.to;return n!==s},DDe=function e(t,n,s){var i=Ep(function(a,o){if(zP(o)){var l=t(o.from,o.to,o.velocity),c=EDe(l,2),u=c[0],d=c[1];return Kr(Kr({},o),{},{from:u,velocity:d})}return o},n);return s<1?Ep(function(a,o){return zP(o)?Kr(Kr({},o),{},{velocity:cj(o.velocity,i[a].velocity,s),from:cj(o.from,i[a].from,s)}):o},n):e(t,i,s-1)};const MDe=function(e,t,n,s,i){var a=uDe(e,t),o=a.reduce(function(y,N){return Kr(Kr({},y),{},FP({},N,[e[N],t[N]]))},{}),l=a.reduce(function(y,N){return Kr(Kr({},y),{},FP({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Ep(function(N,j){return j.from},l)},g=function(){return!Object.values(l).filter(zP).length},x=function(N){u||(u=N);var j=N-u,b=j/n.dt;l=DDe(n,l,b),i(Kr(Kr(Kr({},e),t),m())),u=N,g()||(c=requestAnimationFrame(f))},v=function(N){d||(d=N);var j=(N-d)/s,b=Ep(function(C,A){return cj.apply(void 0,ER(A).concat([n(j)]))},o);if(i(Kr(Kr(Kr({},e),t),b)),j<1)c=requestAnimationFrame(f);else{var P=Ep(function(C,A){return cj.apply(void 0,ER(A).concat([n(1)]))},o);i(Kr(Kr(Kr({},e),t),P))}};return f=n.isStepper?x:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}var IDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $De(e,t){if(e==null)return{};var n=RDe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function RDe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zS(e){return zDe(e)||BDe(e)||FDe(e)||LDe()}function LDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FDe(e,t){if(e){if(typeof e=="string")return VP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VP(e,t)}}function BDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zDe(e){if(Array.isArray(e))return VP(e)}function VP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(s){dp(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dp(e,t,n){return t=J7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UDe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,J7(s.key),s)}}function qDe(e,t,n){return t&&UDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J7(e){var t=WDe(e,"string");return mf(t)==="symbol"?t:String(t)}function WDe(e,t){if(mf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UP(e,t)}function UP(e,t){return UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},UP(e,t)}function GDe(e){var t=KDe();return function(){var s=uj(e),i;if(t){var a=uj(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return qP(this,i)}}function qP(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WP(e)}function WP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uj(e){return uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uj(e)}var Oa=function(e){HDe(n,e);var t=GDe(n);function n(s,i){var a;VDe(this,n),a=t.call(this,s,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(WP(a)),a.changeStyle=a.changeStyle.bind(WP(a)),!l||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),qP(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},qP(a);a.state={style:c?dp({},c,u):u}}else a.state={style:{}};return a}return qDe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var g={style:c?dp({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(g);return}if(!(eDe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?f:i.to;if(this.state&&m){var y={style:c?dp({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(y)}this.runAnimation(ca(ca({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,g=MDe(o,l,NDe(u),c,this.changeStyle),x=function(){a.stopJSAnimation=g()};this.manager.start([m,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,g=function(v,y,N){if(N===0)return v;var j=y.duration,b=y.easing,P=b===void 0?"ease":b,C=y.style,A=y.properties,_=y.onAnimationEnd,E=N>0?o[N-1]:y,O=A||Object.keys(C);if(typeof P=="function"||P==="spring")return[].concat(zS(v),[a.runJSAnimation.bind(a,{from:E.style,to:C,duration:j,easing:P}),j]);var I=PR(O,j,P),D=ca(ca(ca({},E.style),C),{},{transition:I});return[].concat(zS(v),[D,j,_]).filter(dDe)};return this.manager.start([c].concat(zS(o.reduce(g,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=oDe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?dp({},l,c):c,y=PR(Object.keys(v),o,u);x.start([d,a,ca(ca({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=$De(i,IDe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,N=x.className,j=w.cloneElement(g,ca(ca({},c),{},{style:ca(ca({},y),d),className:N}));return j};return u===1?f(w.Children.only(a)):q.createElement("div",null,w.Children.map(a,function(m){return f(m)}))}}]),n}(w.PureComponent);Oa.displayName="Animate";Oa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oa.propTypes={from:dn.oneOfType([dn.object,dn.string]),to:dn.oneOfType([dn.object,dn.string]),attributeName:dn.string,duration:dn.number,begin:dn.number,easing:dn.oneOfType([dn.string,dn.func]),steps:dn.arrayOf(dn.shape({duration:dn.number.isRequired,style:dn.object.isRequired,easing:dn.oneOfType([dn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dn.func]),properties:dn.arrayOf("string"),onAnimationEnd:dn.func})),children:dn.oneOfType([dn.node,dn.func]),isActive:dn.bool,canBegin:dn.bool,onAnimationEnd:dn.func,shouldReAnimate:dn.bool,onAnimationStart:dn.func,onAnimationReStart:dn.func};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dj.apply(this,arguments)}function YDe(e,t){return ZDe(e)||JDe(e,t)||XDe(e,t)||QDe()}function QDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XDe(e,t){if(e){if(typeof e=="string")return OR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function JDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ZDe(e){if(Array.isArray(e))return e}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(s){eMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function eMe(e,t,n){return t=tMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tMe(e){var t=nMe(e,"string");return Og(t)=="symbol"?t:t+""}function nMe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IR=function(t,n,s,i,a){var o=Math.min(Math.abs(s)/2,Math.abs(i)/2),l=i>=0?1:-1,c=s>=0?1:-1,u=i>=0&&s>=0||i<0&&s<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=a[m]>o?o:a[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+s-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*f[1])),d+="L ".concat(t+s,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+s-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s-c*x,",").concat(n+i,`
            L `).concat(t+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*x," Z")}else d="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(i," h ").concat(-s," Z");return d},rMe=function(t,n){if(!t||!n)return!1;var s=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=u&&s<=d&&i>=f&&i<=m}return!1},sMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nk=function(t){var n=MR(MR({},sMe),t),s=w.useRef(),i=w.useState(-1),a=YDe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var P=s.current.getTotalLength();P&&l(P)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ct("recharts-rectangle",g);return j?q.createElement(Oa,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:x,isActive:j},function(P){var C=P.width,A=P.height,_=P.x,E=P.y;return q.createElement(Oa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:N,easing:x},q.createElement("path",dj({},ct(n,!0),{className:b,d:IR(_,E,C,A,m),ref:s})))}):q.createElement("path",dj({},ct(n,!0),{className:b,d:IR(c,u,d,f,m)}))},iMe=["points","className","baseLinePoints","connectNulls"];function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fh.apply(this,arguments)}function aMe(e,t){if(e==null)return{};var n=oMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function oMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function $R(e){return dMe(e)||uMe(e)||cMe(e)||lMe()}function lMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cMe(e,t){if(e){if(typeof e=="string")return HP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(e,t)}}function uMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dMe(e){if(Array.isArray(e))return HP(e)}function HP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var RR=function(t){return t&&t.x===+t.x&&t.y===+t.y},hMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){RR(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),RR(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},kp=function(t,n){var s=hMe(t);n&&(s=[s.reduce(function(a,o){return[].concat($R(a),$R(o))},[])]);var i=s.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(i,"Z"):i},fMe=function(t,n,s){var i=kp(t,s);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(kp(n.reverse(),s).slice(1))},mMe=function(t){var n=t.points,s=t.className,i=t.baseLinePoints,a=t.connectNulls,o=aMe(t,iMe);if(!n||!n.length)return null;var l=Ct("recharts-polygon",s);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=fMe(n,i,a);return q.createElement("g",{className:l},q.createElement("path",fh({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?q.createElement("path",fh({},ct(o,!0),{fill:"none",d:kp(n,a)})):null,c?q.createElement("path",fh({},ct(o,!0),{fill:"none",d:kp(i,a)})):null)}var d=kp(n,a);return q.createElement("path",fh({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},GP.apply(this,arguments)}var Nv=function(t){var n=t.cx,s=t.cy,i=t.r,a=t.className,o=Ct("recharts-dot",a);return n===+n&&s===+s&&i===+i?w.createElement("circle",GP({},ct(t,!1),T0(t),{className:o,cx:n,cy:s,r:i})):null};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}var pMe=["x","y","top","left","width","height","className"];function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},KP.apply(this,arguments)}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function gMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(s){vMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vMe(e,t,n){return t=xMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xMe(e){var t=yMe(e,"string");return Dg(t)=="symbol"?t:t+""}function yMe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jMe(e,t){if(e==null)return{};var n=bMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var wMe=function(t,n,s,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(s)},NMe=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,g=m===void 0?0:m,x=t.className,v=jMe(t,pMe),y=gMe({x:s,y:a,top:l,left:u,width:f,height:g},v);return!Ve(s)||!Ve(a)||!Ve(f)||!Ve(g)||!Ve(l)||!Ve(u)?null:q.createElement("path",KP({},ct(y,!0),{className:Ct("recharts-cross",x),d:wMe(s,a,f,g,l,u)}))},SMe=xw,CMe=u7,PMe=vo;function _Me(e,t){return e&&e.length?SMe(e,PMe(t),CMe):void 0}var AMe=_Me;const EMe=fn(AMe);var kMe=xw,TMe=vo,OMe=d7;function DMe(e,t){return e&&e.length?kMe(e,TMe(t),OMe):void 0}var MMe=DMe;const IMe=fn(MMe);var $Me=["cx","cy","angle","ticks","axisLine"],RMe=["ticks","tick","angle","tickFormatter","stroke"];function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tp.apply(this,arguments)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(s){ww(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BR(e,t){if(e==null)return{};var n=LMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function LMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function FMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,eW(s.key),s)}}function BMe(e,t,n){return t&&zR(e.prototype,t),n&&zR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zMe(e,t,n){return t=hj(t),VMe(e,Z7()?Reflect.construct(t,n||[],hj(e).constructor):t.apply(e,n))}function VMe(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UMe(e)}function UMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!e})()}function hj(e){return hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hj(e)}function qMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YP(e,t)}function YP(e,t){return YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},YP(e,t)}function ww(e,t,n){return t=eW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){var t=WMe(e,"string");return pf(t)=="symbol"?t:t+""}function WMe(e,t){if(pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nw=function(e){function t(){return FMe(this,t),zMe(this,t,arguments)}return qMe(t,e),BMe(t,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Mn(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=EMe(l,function(d){return d.coordinate||0}),u=IMe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=BR(s,$Me),d=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),f=Mn(i,a,d[0],o),m=Mn(i,a,d[1],o),g=Zc(Zc(Zc({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return q.createElement("line",Tp({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=BR(i,RMe),f=this.getTickTextAnchor(),m=ct(d,!1),g=ct(o,!1),x=a.map(function(v,y){var N=s.getTickValueCoord(v),j=Zc(Zc(Zc(Zc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:y},N),{},{payload:v});return q.createElement(Yt,Tp({className:Ct("recharts-polar-radius-axis-tick",F7(o)),key:"tick-".concat(v.coordinate)},Ku(s.props,v,y)),t.renderTickItem(o,j,c?c(v.value,y):v.value))});return q.createElement(Yt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.axisLine,o=s.tick;return!i||!i.length?null:q.createElement(Yt,{className:Ct("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Br.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,a){var o;return q.isValidElement(s)?o=q.cloneElement(s,i):yt(s)?o=s(i):o=q.createElement(Yu,Tp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);ww(Nw,"displayName","PolarRadiusAxis");ww(Nw,"axisType","radiusAxis");ww(Nw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cu.apply(this,arguments)}function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(s){Sw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function HMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,nW(s.key),s)}}function GMe(e,t,n){return t&&UR(e.prototype,t),n&&UR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KMe(e,t,n){return t=fj(t),YMe(e,tW()?Reflect.construct(t,n||[],fj(e).constructor):t.apply(e,n))}function YMe(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QMe(e)}function QMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tW=function(){return!!e})()}function fj(e){return fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fj(e)}function XMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QP(e,t)}function QP(e,t){return QP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},QP(e,t)}function Sw(e,t,n){return t=nW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e){var t=JMe(e,"string");return gf(t)=="symbol"?t:t+""}function JMe(e,t){if(gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZMe=Math.PI/180,qR=1e-5,Cw=function(e){function t(){return HMe(this,t),KMe(this,t,arguments)}return XMe(t,e),GMe(t,[{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Mn(a,o,l,s.coordinate),m=Mn(a,o,l+(c==="inner"?-1:1)*d,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,a=Math.cos(-s.coordinate*ZMe),o;return a>qR?o=i==="outer"?"start":"end":a<-qR?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=eu(eu({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return q.createElement(Nv,cu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(m){return Mn(i,a,o,m.coordinate)});return q.createElement(mMe,cu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ct(this.props,!1),f=ct(o,!1),m=eu(eu({},d),{},{fill:"none"},ct(l,!1)),g=a.map(function(x,v){var y=s.getTickLineCoord(x),N=s.getTickTextAnchor(x),j=eu(eu(eu({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:x,x:y.x2,y:y.y2});return q.createElement(Yt,cu({className:Ct("recharts-polar-angle-axis-tick",F7(o)),key:"tick-".concat(x.coordinate)},Ku(s.props,x,v)),l&&q.createElement("line",cu({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,j,c?c(x.value,v):x.value))});return q.createElement(Yt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.radius,o=s.axisLine;return a<=0||!i||!i.length?null:q.createElement(Yt,{className:Ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,a){var o;return q.isValidElement(s)?o=q.cloneElement(s,i):yt(s)?o=s(i):o=q.createElement(Yu,cu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);Sw(Cw,"displayName","PolarAngleAxis");Sw(Cw,"axisType","angleAxis");Sw(Cw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var eIe=aq,tIe=eIe(Object.getPrototypeOf,Object),nIe=tIe,rIe=dl,sIe=nIe,iIe=hl,aIe="[object Object]",oIe=Function.prototype,lIe=Object.prototype,rW=oIe.toString,cIe=lIe.hasOwnProperty,uIe=rW.call(Object);function dIe(e){if(!iIe(e)||rIe(e)!=aIe)return!1;var t=sIe(e);if(t===null)return!0;var n=cIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&rW.call(n)==uIe}var hIe=dIe;const fIe=fn(hIe);var mIe=dl,pIe=hl,gIe="[object Boolean]";function vIe(e){return e===!0||e===!1||pIe(e)&&mIe(e)==gIe}var xIe=vIe;const yIe=fn(xIe);function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mj.apply(this,arguments)}function jIe(e,t){return SIe(e)||NIe(e,t)||wIe(e,t)||bIe()}function bIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wIe(e,t){if(e){if(typeof e=="string")return WR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WR(e,t)}}function WR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function NIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function SIe(e){if(Array.isArray(e))return e}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function GR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(s){CIe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function CIe(e,t,n){return t=PIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PIe(e){var t=_Ie(e,"string");return Mg(t)=="symbol"?t:t+""}function _Ie(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KR=function(t,n,s,i,a){var o=s-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+a),l+="L ".concat(t+s-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},AIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EIe=function(t){var n=GR(GR({},AIe),t),s=w.useRef(),i=w.useState(-1),a=jIe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=Ct("recharts-trapezoid",g);return N?q.createElement(Oa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:x,isActive:N},function(b){var P=b.upperWidth,C=b.lowerWidth,A=b.height,_=b.x,E=b.y;return q.createElement(Oa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},q.createElement("path",mj({},ct(n,!0),{className:j,d:KR(_,E,P,C,A),ref:s})))}):q.createElement("g",null,q.createElement("path",mj({},ct(n,!0),{className:j,d:KR(c,u,d,f,m)})))},kIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function TIe(e,t){if(e==null)return{};var n=OIe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function OIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function pj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(s){DIe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function DIe(e,t,n){return t=MIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MIe(e){var t=IIe(e,"string");return Ig(t)=="symbol"?t:t+""}function IIe(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ig(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Ie(e,t){return pj(pj({},t),e)}function RIe(e,t){return e==="symbols"}function QR(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(Nk,n);case"trapezoid":return q.createElement(EIe,n);case"sector":return q.createElement(V7,n);case"symbols":if(RIe(t))return q.createElement(VE,n);break;default:return null}}function LIe(e){return w.isValidElement(e)?e.props:e}function sW(e){var t=e.option,n=e.shapeType,s=e.propTransformer,i=s===void 0?$Ie:s,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=TIe(e,kIe),u;if(w.isValidElement(t))u=w.cloneElement(t,pj(pj({},c),LIe(t)));else if(yt(t))u=t(c);else if(fIe(t)&&!yIe(t)){var d=i(t,c);u=q.createElement(QR,{shapeType:n,elementProps:d})}else{var f=c;u=q.createElement(QR,{shapeType:n,elementProps:f})}return l?q.createElement(Yt,{className:o},u):u}function Pw(e,t){return t!=null&&"trapezoids"in e.props}function _w(e,t){return t!=null&&"sectors"in e.props}function $g(e,t){return t!=null&&"points"in e.props}function FIe(e,t){var n,s,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return i&&a}function BIe(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function zIe(e,t){var n=e.x===t.x,s=e.y===t.y,i=e.z===t.z;return n&&s&&i}function VIe(e,t){var n;return Pw(e,t)?n=FIe:_w(e,t)?n=BIe:$g(e,t)&&(n=zIe),n}function UIe(e,t){var n;return Pw(e,t)?n="trapezoids":_w(e,t)?n="sectors":$g(e,t)&&(n="points"),n}function qIe(e,t){if(Pw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(_w(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return $g(e,t)?t.payload:{}}function WIe(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,i=UIe(n,t),a=qIe(n,t),o=s.filter(function(c,u){var d=Qu(a,c),f=n.props[i].filter(function(x){var v=VIe(n,t);return v(x,t)}),m=n.props[i].indexOf(f[f.length-1]),g=u===m;return d&&g}),l=s.indexOf(o[o.length-1]);return l}var Fy;function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mh.apply(this,arguments)}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(s){zi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function HIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aW(s.key),s)}}function GIe(e,t,n){return t&&JR(e.prototype,t),n&&JR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KIe(e,t,n){return t=gj(t),YIe(e,iW()?Reflect.construct(t,n||[],gj(e).constructor):t.apply(e,n))}function YIe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QIe(e)}function QIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iW=function(){return!!e})()}function gj(e){return gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gj(e)}function XIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XP(e,t)}function XP(e,t){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},XP(e,t)}function zi(e,t,n){return t=aW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=JIe(e,"string");return vf(t)=="symbol"?t:t+""}function JIe(e,t){if(vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var La=function(e){function t(n){var s;return HIe(this,t),s=KIe(this,t,[n]),zi(s,"pieRef",null),zi(s,"sectorRefs",[]),zi(s,"id",hd("recharts-pie-")),zi(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),yt(i)&&i()}),zi(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),yt(i)&&i()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return XIe(t,e),GIe(t,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ct(this.props,!1),f=ct(o,!1),m=ct(l,!1),g=o&&o.offsetRadius||20,x=s.map(function(v,y){var N=(v.startAngle+v.endAngle)/2,j=Mn(v.cx,v.cy,v.outerRadius+g,N),b=En(En(En(En({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(j.x,v.cx)},j),P=En(En(En(En({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[Mn(v.cx,v.cy,v.outerRadius,N),j]}),C=c;return wt(c)&&wt(u)?C="value":wt(c)&&(C=u),q.createElement(Yt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,P,"line"),t.renderLabelItem(o,b,mr(v,C)))});return q.createElement(Yt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return s.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,g=f?o:m,x=En(En({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(Yt,mh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ku(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(sW,mh({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,g=f.prevIsAnimationActive;return q.createElement(Oa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],N=a&&a[0],j=N.startAngle;return a.forEach(function(b,P){var C=m&&m[P],A=P>0?yi(b,"paddingAngle",0):0;if(C){var _=kr(C.endAngle-C.startAngle,b.endAngle-b.startAngle),E=En(En({},b),{},{startAngle:j+A,endAngle:j+_(v)+A});y.push(E),j=E.endAngle}else{var O=b.endAngle,I=b.startAngle,D=kr(0,O-I),k=D(v),F=En(En({},b),{},{startAngle:j+A,endAngle:j+k+A});y.push(F),j=F.endAngle}}),q.createElement(Yt,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,a=s.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Qu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Ve(u)||!Ve(d)||!Ve(f)||!Ve(m))return null;var v=Ct("recharts-pie",l);return q.createElement(Yt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){s.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Br.renderCallByParent(this.props,null,!1),(!g||x)&&co.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i,a){if(q.isValidElement(s))return q.cloneElement(s,i);if(yt(s))return s(i);var o=Ct("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return q.createElement(Du,mh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,i,a){if(q.isValidElement(s))return q.cloneElement(s,i);var o=a;if(yt(s)&&(o=s(i),q.isValidElement(o)))return o;var l=Ct("recharts-pie-label-text",typeof s!="boolean"&&!yt(s)?s.className:"");return q.createElement(Yu,mh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Fy=La;zi(La,"displayName","Pie");zi(La,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Pa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zi(La,"parseDeltaAngle",function(e,t){var n=Ps(t-e),s=Math.min(Math.abs(t-e),360);return n*s});zi(La,"getRealPieData",function(e){var t=e.data,n=e.children,s=ct(e,!1),i=ji(n,rm);return t&&t.length?t.map(function(a,o){return En(En(En({payload:a},s),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return En(En({},s),a.props)}):[]});zi(La,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,i=t.width,a=t.height,o=L7(i,a),l=s+_s(e.cx,i,i/2),c=n+_s(e.cy,a,a/2),u=_s(e.innerRadius,o,0),d=_s(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});zi(La,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?En(En({},t.type.defaultProps),t.props):t.props,i=Fy.getRealPieData(s);if(!i||!i.length)return null;var a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,m=s.tooltipType,g=Math.abs(s.minAngle),x=Fy.parseCoordinateOfPie(s,n),v=Fy.parseDeltaAngle(o,l),y=Math.abs(v),N=u;wt(u)&&wt(f)?(Ca(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):wt(u)&&(Ca(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var j=i.filter(function(E){return mr(E,N,0)!==0}).length,b=(y>=360?j:j-1)*c,P=y-j*g-b,C=i.reduce(function(E,O){var I=mr(O,N,0);return E+(Ve(I)?I:0)},0),A;if(C>0){var _;A=i.map(function(E,O){var I=mr(E,N,0),D=mr(E,d,O),k=(Ve(I)?I:0)/C,F;O?F=_.endAngle+Ps(v)*c*(I!==0?1:0):F=o;var $=F+Ps(v)*((I!==0?g:0)+k*P),Q=(F+$)/2,U=(x.innerRadius+x.outerRadius)/2,ie=[{name:D,value:I,payload:E,dataKey:N,type:m}],L=Mn(x.cx,x.cy,U,Q);return _=En(En(En({percent:k,cornerRadius:a,name:D,tooltipPayload:ie,midAngle:Q,middleRadius:U,tooltipPosition:L},E),x),{},{value:mr(E,N),startAngle:F,endAngle:$,payload:E,paddingAngle:Ps(v)*c}),_})}return En(En({},x),{},{sectors:A,data:i})});var ZIe=Math.ceil,e$e=Math.max;function t$e(e,t,n,s){for(var i=-1,a=e$e(ZIe((t-e)/(n||1)),0),o=Array(a);a--;)o[s?a:++i]=e,e+=n;return o}var n$e=t$e,r$e=Cq,ZR=1/0,s$e=17976931348623157e292;function i$e(e){if(!e)return e===0?e:0;if(e=r$e(e),e===ZR||e===-ZR){var t=e<0?-1:1;return t*s$e}return e===e?e:0}var oW=i$e,a$e=n$e,o$e=dw,VS=oW;function l$e(e){return function(t,n,s){return s&&typeof s!="number"&&o$e(t,n,s)&&(n=s=void 0),t=VS(t),n===void 0?(n=t,t=0):n=VS(n),s=s===void 0?t<n?1:-1:VS(s),a$e(t,n,s,e)}}var c$e=l$e,u$e=c$e,d$e=u$e(),h$e=d$e;const vj=fn(h$e);function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function t3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(s){lW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function lW(e,t,n){return t=f$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f$e(e){var t=m$e(e,"string");return Rg(t)=="symbol"?t:t+""}function m$e(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p$e=["Webkit","Moz","O","ms"],g$e=function(t,n){var s=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=p$e.reduce(function(a,o){return t3(t3({},a),{},lW({},o+s,n))},{});return i[t]=n,i};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xj.apply(this,arguments)}function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function US(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(s){ci(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function v$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,uW(s.key),s)}}function x$e(e,t,n){return t&&r3(e.prototype,t),n&&r3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y$e(e,t,n){return t=yj(t),j$e(e,cW()?Reflect.construct(t,n||[],yj(e).constructor):t.apply(e,n))}function j$e(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b$e(e)}function b$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cW=function(){return!!e})()}function yj(e){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yj(e)}function w$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JP(e,t)}function JP(e,t){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},JP(e,t)}function ci(e,t,n){return t=uW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=N$e(e,"string");return xf(t)=="symbol"?t:t+""}function N$e(e,t){if(xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S$e=function(t){var n=t.data,s=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=_p().domain(vj(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(i),scale:u,scaleValues:d}},s3=function(t){return t.changedTouches&&!!t.changedTouches.length},yf=function(e){function t(n){var s;return v$e(this,t),s=y$e(this,t,[n]),ci(s,"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),ci(s,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),ci(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=s.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),s.detachDragEndListener()}),ci(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),ci(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),ci(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),ci(s,"handleSlideDragStart",function(i){var a=s3(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return w$e(t,e),x$e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,a=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),m=Math.max(i,a),g=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(s){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=mr(a[s],l,s);return yt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,g=c.endIndex,x=c.onChange,v=s.pageX-a;v>0?v=Math.min(v,u+d-f-l,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==m||y.endIndex!==g)&&x&&x(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var a=s3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,v=d.gap,y=d.data,N={startX:this.state.startX,endX:this.state.endX},j=s.pageX-a;j>0?j=Math.min(j,f+m-g-u):j<0&&(j=Math.max(j,f-u)),N[o]=u+j;var b=this.getIndex(N),P=b.startIndex,C=b.endIndex,A=function(){var E=y.length-1;return o==="startX"&&(l>c?P%v===0:C%v===0)||l<c&&C===E||o==="endX"&&(l>c?C%v===0:P%v===0)||l>c&&C===E};this.setState(ci(ci({},o,u+j),"brushMoveStartX",s.pageX),function(){x&&A()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(s,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(ci({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return q.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.data,u=s.children,d=s.padding,f=w.Children.only(u);return f?q.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,N=Math.max(s,this.props.x),j=US(US({},ct(this.props,!1)),{},{x:N,y:u,width:d,height:f}),b=g||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return q.createElement(Yt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,j))}},{key:"renderSlide",value:function(s,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(s,i)+u,f=Math.max(Math.abs(i-s)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,a=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,d=this.state,f=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:u};return q.createElement(Yt,{className:"recharts-brush-texts"},q.createElement(Yu,xj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:o+l/2},x),this.getTextOfTick(i)),q.createElement(Yu,xj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+g,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var s=this.props,i=s.data,a=s.className,o=s.children,l=s.x,c=s.y,u=s.width,d=s.height,f=s.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,y=m.isSlideMoving,N=m.isTravellerMoving,j=m.isTravellerFocused;if(!i||!i.length||!Ve(l)||!Ve(c)||!Ve(u)||!Ve(d)||u<=0||d<=0)return null;var b=Ct("recharts-brush",a),P=q.Children.count(o)===1,C=g$e("userSelect","none");return q.createElement(Yt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||N||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,a=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(a+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var a;return q.isValidElement(s)?a=q.cloneElement(s,i):yt(s)?a=s(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(s,i){var a=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,d=s.startIndex,f=s.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return US({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?S$e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,i){for(var a=s.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>i?l=c:o=c}return i>=s[l]?l:o}}])}(w.PureComponent);ci(yf,"displayName","Brush");ci(yf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var C$e=YE;function P$e(e,t){var n;return C$e(e,function(s,i,a){return n=t(s,i,a),!n}),!!n}var _$e=P$e,A$e=JU,E$e=vo,k$e=_$e,T$e=ei,O$e=dw;function D$e(e,t,n){var s=T$e(e)?A$e:k$e;return n&&O$e(e,t,n)&&(t=void 0),s(e,E$e(t))}var M$e=D$e;const I$e=fn(M$e);var uo=function(t,n){var s=t.alwaysShow,i=t.ifOverflow;return s&&(i="extendDomain"),i===n},i3=jq;function $$e(e,t,n){t=="__proto__"&&i3?i3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var R$e=$$e,L$e=R$e,F$e=xq,B$e=vo;function z$e(e,t){var n={};return t=B$e(t),F$e(e,function(s,i,a){L$e(n,i,t(s,i,a))}),n}var V$e=z$e;const U$e=fn(V$e);function q$e(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var W$e=q$e,H$e=YE;function G$e(e,t){var n=!0;return H$e(e,function(s,i,a){return n=!!t(s,i,a),n}),n}var K$e=G$e,Y$e=W$e,Q$e=K$e,X$e=vo,J$e=ei,Z$e=dw;function e4e(e,t,n){var s=J$e(e)?Y$e:Q$e;return n&&Z$e(e,t,n)&&(t=void 0),s(e,X$e(t))}var t4e=e4e;const dW=fn(t4e);var n4e=["x","y"];function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function ZP(){return ZP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ZP.apply(this,arguments)}function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ep(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(s){r4e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function r4e(e,t,n){return t=s4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s4e(e){var t=i4e(e,"string");return Lg(t)=="symbol"?t:t+""}function i4e(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a4e(e,t){if(e==null)return{};var n=o4e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function o4e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function l4e(e,t){var n=e.x,s=e.y,i=a4e(e,n4e),a="".concat(n),o=parseInt(a,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return ep(ep(ep(ep(ep({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function o3(e){return q.createElement(sW,ZP({shapeType:"rectangle",propTransformer:l4e,activeClassName:"recharts-active-bar"},e))}var c4e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,i){if(typeof t=="number")return t;var a=Ve(s)||Ixe(s);return a?t(s,i):(a||Ju(),n)}},u4e=["value","background"],hW;function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function d4e(e,t){if(e==null)return{};var n=h4e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function h4e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jj.apply(this,arguments)}function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(s){nc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function f4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mW(s.key),s)}}function m4e(e,t,n){return t&&c3(e.prototype,t),n&&c3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p4e(e,t,n){return t=bj(t),g4e(e,fW()?Reflect.construct(t,n||[],bj(e).constructor):t.apply(e,n))}function g4e(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v4e(e)}function v4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fW=function(){return!!e})()}function bj(e){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bj(e)}function x4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},e_(e,t)}function nc(e,t,n){return t=mW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mW(e){var t=y4e(e,"string");return jf(t)=="symbol"?t:t+""}function y4e(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var no=function(e){function t(){var n;f4e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=p4e(this,t,[].concat(i)),nc(n,"state",{isAnimationFinished:!1}),nc(n,"id",hd("recharts-bar-")),nc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),nc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return x4e(t,e),m4e(t,[{key:"renderRectanglesStatically",value:function(s){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ct(this.props,!1);return s&&s.map(function(f,m){var g=m===c,x=g?u:o,v=vr(vr(vr({},d),f),{},{isActive:g,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Yt,jj({className:"recharts-bar-rectangle"},Ku(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),q.createElement(o3,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return q.createElement(Oa,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=a.map(function(y,N){var j=m&&m[N];if(j){var b=kr(j.x,y.x),P=kr(j.y,y.y),C=kr(j.width,y.width),A=kr(j.height,y.height);return vr(vr({},y),{},{x:b(x),y:P(x),width:C(x),height:A(x)})}if(o==="horizontal"){var _=kr(0,y.height),E=_(x);return vr(vr({},y),{},{y:y.y+y.height-E,height:E})}var O=kr(0,y.width),I=O(x);return vr(vr({},y),{},{width:I})});return q.createElement(Yt,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,a=s.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Qu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=ct(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=d4e(u,u4e);if(!f)return null;var g=vr(vr(vr(vr(vr({},m),{},{fill:"#eee"},f),c),Ku(s.props,u,d)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(o3,jj({key:"background-bar-".concat(d),option:s.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ji(d,wv);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,N){var j=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:j,errorVal:mr(y,N)}},x={clipPath:s?"url(#clipPath-".concat(i,")"):null};return q.createElement(Yt,x,f.map(function(v){return q.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,a=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,d=s.top,f=s.width,m=s.height,g=s.isAnimationActive,x=s.background,v=s.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,N=Ct("recharts-bar",o),j=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,P=j||b,C=wt(v)?this.id:v;return q.createElement(Yt,{className:N},j||b?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:j?u:u-f/2,y:b?d:d-m/2,width:j?f:f*2,height:b?m:m*2}))):null,q.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(C,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,C),(!g||y)&&co.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}}])}(w.PureComponent);hW=no;nc(no,"displayName","Bar");nc(no,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nc(no,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=Zke(s,n);if(!g)return null;var x=t.layout,v=n.type.defaultProps,y=v!==void 0?vr(vr({},v),n.props):n.props,N=y.dataKey,j=y.children,b=y.minPointSize,P=x==="horizontal"?o:a,C=u?P.scale.domain():null,A=aTe({numericAxis:P}),_=ji(j,rm),E=f.map(function(O,I){var D,k,F,$,Q,U;u?D=eTe(u[d+I],C):(D=mr(O,N),Array.isArray(D)||(D=[A,D]));var ie=c4e(b,hW.defaultProps.minPointSize)(D[1],I);if(x==="horizontal"){var L,z=[o.scale(D[0]),o.scale(D[1])],le=z[0],pe=z[1];k=J4({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:O,index:I}),F=(L=pe??le)!==null&&L!==void 0?L:void 0,$=g.size;var ee=le-pe;if(Q=Number.isNaN(ee)?0:ee,U={x:k,y:o.y,width:$,height:o.height},Math.abs(ie)>0&&Math.abs(Q)<Math.abs(ie)){var J=Ps(Q||ie)*(Math.abs(ie)-Math.abs(Q));F-=J,Q+=J}}else{var te=[a.scale(D[0]),a.scale(D[1])],xe=te[0],ve=te[1];if(k=xe,F=J4({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:O,index:I}),$=ve-xe,Q=g.size,U={x:a.x,y:F,width:a.width,height:Q},Math.abs(ie)>0&&Math.abs($)<Math.abs(ie)){var re=Ps($||ie)*(Math.abs(ie)-Math.abs($));$+=re}}return vr(vr(vr({},O),{},{x:k,y:F,width:$,height:Q,value:u?D:D[1],payload:O,background:U},_&&_[I]&&_[I].props),{},{tooltipPayload:[$7(n,O)],tooltipPosition:{x:k+$/2,y:F+Q/2}})});return vr({data:E,layout:x},m)});function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function j4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pW(s.key),s)}}function b4e(e,t,n){return t&&u3(e.prototype,t),n&&u3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(s){Aw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Aw(e,t,n){return t=pW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=w4e(e,"string");return Fg(t)=="symbol"?t:t+""}function w4e(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Fg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sk=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!di(u,no);return d.reduce(function(g,x){var v=n[x],y=v.orientation,N=v.domain,j=v.padding,b=j===void 0?{}:j,P=v.mirror,C=v.reversed,A="".concat(y).concat(P?"Mirror":""),_,E,O,I,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var k=N[1]-N[0],F=1/0,$=v.categoricalDomain.sort(Lxe);if($.forEach(function(te,xe){xe>0&&(F=Math.min((te||0)-($[xe-1]||0),F))}),Number.isFinite(F)){var Q=F/k,U=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(_=Q*U/2),v.padding==="no-gap"){var ie=_s(t.barCategoryGap,Q*U),L=Q*U/2;_=L-ie-(L-ie)/U*ie}}}i==="xAxis"?E=[s.left+(b.left||0)+(_||0),s.left+s.width-(b.right||0)-(_||0)]:i==="yAxis"?E=c==="horizontal"?[s.top+s.height-(b.bottom||0),s.top+(b.top||0)]:[s.top+(b.top||0)+(_||0),s.top+s.height-(b.bottom||0)-(_||0)]:E=v.range,C&&(E=[E[1],E[0]]);var z=O7(v,a,m),le=z.scale,pe=z.realScaleType;le.domain(N).range(E),D7(le);var ee=M7(le,va(va({},v),{},{realScaleType:pe}));i==="xAxis"?(D=y==="top"&&!P||y==="bottom"&&P,O=s.left,I=f[A]-D*v.height):i==="yAxis"&&(D=y==="left"&&!P||y==="right"&&P,O=f[A]-D*v.width,I=s.top);var J=va(va(va({},v),ee),{},{realScaleType:pe,x:O,y:I,scale:le,width:i==="xAxis"?s.width:v.width,height:i==="yAxis"?s.height:v.height});return J.bandSize=ij(J,ee),!v.hide&&i==="xAxis"?f[A]+=(D?-1:1)*J.height:v.hide||(f[A]+=(D?-1:1)*J.width),va(va({},g),{},Aw({},x,J))},{})},gW=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(s,a),y:Math.min(i,o),width:Math.abs(a-s),height:Math.abs(o-i)}},N4e=function(t){var n=t.x1,s=t.y1,i=t.x2,a=t.y2;return gW({x:n,y:s},{x:i,y:a})},vW=function(){function e(t){j4e(this,e),this.scale=t}return b4e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,a=s.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),i=s[0],a=s[s.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();Aw(vW,"EPS",1e-4);var Ck=function(t){var n=Object.keys(t).reduce(function(s,i){return va(va({},s),{},Aw({},i,vW.create(t[i])))},{});return va(va({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return U$e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return dW(i,function(a,o){return n[o].isInRange(a)})}})};function S4e(e){return(e%180+180)%180}var C4e=function(t){var n=t.width,s=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=S4e(i),o=a*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},P4e=vo,_4e=vv,A4e=cw;function E4e(e){return function(t,n,s){var i=Object(t);if(!_4e(t)){var a=P4e(n);t=A4e(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,s);return o>-1?i[a?t[o]:o]:void 0}}var k4e=E4e,T4e=oW;function O4e(e){var t=T4e(e),n=t%1;return t===t?n?t-n:t:0}var D4e=O4e,M4e=hq,I4e=vo,$4e=D4e,R4e=Math.max;function L4e(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var i=n==null?0:$4e(n);return i<0&&(i=R4e(s+i,0)),M4e(e,I4e(t),i)}var F4e=L4e,B4e=k4e,z4e=F4e,V4e=B4e(z4e),U4e=V4e;const q4e=fn(U4e);var W4e=Fve(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Pk=w.createContext(void 0),_k=w.createContext(void 0),xW=w.createContext(void 0),yW=w.createContext({}),jW=w.createContext(void 0),bW=w.createContext(0),wW=w.createContext(0),h3=function(t){var n=t.state,s=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=W4e(a);return q.createElement(Pk.Provider,{value:s},q.createElement(_k.Provider,{value:i},q.createElement(yW.Provider,{value:a},q.createElement(xW.Provider,{value:d},q.createElement(jW.Provider,{value:o},q.createElement(bW.Provider,{value:u},q.createElement(wW.Provider,{value:c},l)))))))},H4e=function(){return w.useContext(jW)},NW=function(t){var n=w.useContext(Pk);n==null&&Ju();var s=n[t];return s==null&&Ju(),s},G4e=function(){var t=w.useContext(Pk);return zl(t)},K4e=function(){var t=w.useContext(_k),n=q4e(t,function(s){return dW(s.domain,Number.isFinite)});return n||zl(t)},SW=function(t){var n=w.useContext(_k);n==null&&Ju();var s=n[t];return s==null&&Ju(),s},Y4e=function(){var t=w.useContext(xW);return t},Q4e=function(){return w.useContext(yW)},Ak=function(){return w.useContext(wW)},Ek=function(){return w.useContext(bW)};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function X4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J4e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PW(s.key),s)}}function Z4e(e,t,n){return t&&J4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eRe(e,t,n){return t=wj(t),tRe(e,CW()?Reflect.construct(t,n||[],wj(e).constructor):t.apply(e,n))}function tRe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nRe(e)}function nRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CW=function(){return!!e})()}function wj(e){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wj(e)}function rRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},t_(e,t)}function f3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function m3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(n),!0).forEach(function(s){kk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kk(e,t,n){return t=PW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=sRe(e,"string");return bf(t)=="symbol"?t:t+""}function sRe(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iRe(e,t){return cRe(e)||lRe(e,t)||oRe(e,t)||aRe()}function aRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRe(e,t){if(e){if(typeof e=="string")return p3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(e,t)}}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function lRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function cRe(e){if(Array.isArray(e))return e}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},n_.apply(this,arguments)}var uRe=function(t,n){var s;return q.isValidElement(t)?s=q.cloneElement(t,n):yt(t)?s=t(n):s=q.createElement("line",n_({},n,{className:"recharts-reference-line-line"})),s},dRe=function(t,n,s,i,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,g=a.height;if(s){var x=u.y,v=t.y.apply(x,{position:o});if(uo(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(n){var N=u.x,j=t.x.apply(N,{position:o});if(uo(u,"discard")&&!t.x.isInRange(j))return null;var b=[{x:j,y:f+g},{x:j,y:f}];return l==="top"?b.reverse():b}if(i){var P=u.segment,C=P.map(function(A){return t.apply(A,{position:o})});return uo(u,"discard")&&I$e(C,function(A){return!t.isInRange(A)})?null:C}return null};function hRe(e){var t=e.x,n=e.y,s=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=H4e(),d=NW(i),f=SW(a),m=Y4e();if(!u||!m)return null;Ca(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Ck({x:d.scale,y:f.scale}),x=Or(t),v=Or(n),y=s&&s.length===2,N=dRe(g,x,v,y,m,e.position,d.orientation,f.orientation,e);if(!N)return null;var j=iRe(N,2),b=j[0],P=b.x,C=b.y,A=j[1],_=A.x,E=A.y,O=uo(e,"hidden")?"url(#".concat(u,")"):void 0,I=m3(m3({clipPath:O},ct(e,!0)),{},{x1:P,y1:C,x2:_,y2:E});return q.createElement(Yt,{className:Ct("recharts-reference-line",l)},uRe(o,I),Br.renderCallByParent(e,N4e({x1:P,y1:C,x2:_,y2:E})))}var Tk=function(e){function t(){return X4e(this,t),eRe(this,t,arguments)}return rRe(t,e),Z4e(t,[{key:"render",value:function(){return q.createElement(hRe,this.props)}}])}(q.Component);kk(Tk,"displayName","ReferenceLine");kk(Tk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r_.apply(this,arguments)}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function g3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function v3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(n),!0).forEach(function(s){Ew(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function fRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AW(s.key),s)}}function pRe(e,t,n){return t&&mRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gRe(e,t,n){return t=Nj(t),vRe(e,_W()?Reflect.construct(t,n||[],Nj(e).constructor):t.apply(e,n))}function vRe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xRe(e)}function xRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function Nj(e){return Nj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nj(e)}function yRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s_(e,t)}function s_(e,t){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},s_(e,t)}function Ew(e,t,n){return t=AW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(e){var t=jRe(e,"string");return wf(t)=="symbol"?t:t+""}function jRe(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bRe=function(t){var n=t.x,s=t.y,i=t.xAxis,a=t.yAxis,o=Ck({x:i.scale,y:a.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return uo(t,"discard")&&!o.isInRange(l)?null:l},kw=function(e){function t(){return fRe(this,t),gRe(this,t,arguments)}return yRe(t,e),pRe(t,[{key:"render",value:function(){var s=this.props,i=s.x,a=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=Or(i),d=Or(a);if(Ca(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=bRe(this.props);if(!f)return null;var m=f.x,g=f.y,x=this.props,v=x.shape,y=x.className,N=uo(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=v3(v3({clipPath:N},ct(this.props,!0)),{},{cx:m,cy:g});return q.createElement(Yt,{className:Ct("recharts-reference-dot",y)},t.renderDot(v,j),Br.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])}(q.Component);Ew(kw,"displayName","ReferenceDot");Ew(kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ew(kw,"renderDot",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):yt(e)?n=e(t):n=q.createElement(Nv,r_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i_.apply(this,arguments)}function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function x3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function y3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(n),!0).forEach(function(s){Tw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,kW(s.key),s)}}function SRe(e,t,n){return t&&NRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CRe(e,t,n){return t=Sj(t),PRe(e,EW()?Reflect.construct(t,n||[],Sj(e).constructor):t.apply(e,n))}function PRe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Re(e)}function _Re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EW=function(){return!!e})()}function Sj(e){return Sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sj(e)}function ARe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a_(e,t)}function a_(e,t){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},a_(e,t)}function Tw(e,t,n){return t=kW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=ERe(e,"string");return Nf(t)=="symbol"?t:t+""}function ERe(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Nf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kRe=function(t,n,s,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=Ck({x:d.scale,y:f.scale}),g={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return uo(a,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:gW(g,x)},Ow=function(e){function t(){return wRe(this,t),CRe(this,t,arguments)}return ARe(t,e),SRe(t,[{key:"render",value:function(){var s=this.props,i=s.x1,a=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,d=s.clipPathId;Ca(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Or(i),m=Or(a),g=Or(o),x=Or(l),v=this.props.shape;if(!f&&!m&&!g&&!x&&!v)return null;var y=kRe(f,m,g,x,this.props);if(!y&&!v)return null;var N=uo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Yt,{className:Ct("recharts-reference-area",c)},t.renderRect(v,y3(y3({clipPath:N},ct(this.props,!0)),y)),Br.renderCallByParent(this.props,y))}}])}(q.Component);Tw(Ow,"displayName","ReferenceArea");Tw(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Tw(Ow,"renderRect",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):yt(e)?n=e(t):n=q.createElement(Nk,i_({},t,{className:"recharts-reference-area-rect"})),n});function TW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],i=0;i<e.length;i+=t)s.push(e[i]);return s}function TRe(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return C4e(s,n)}function ORe(e,t,n){var s=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:s?i:a,end:s?i+o:a+l}:{start:s?i+o:a+l,end:s?i:a}}function Cj(e,t,n,s,i){if(e*t<e*s||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-s)>=0&&e*(t+e*a/2-i)<=0}function DRe(e,t){return TW(e,t+1)}function MRe(e,t,n,s,i){for(var a=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:TW(s,u)};var v=c,y,N=function(){return y===void 0&&(y=n(x,v)),y},j=x.coordinate,b=c===0||Cj(e,j,N,d,l);b||(c=0,d=o,u+=1),b&&(d=j+e*(N()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function j3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(s){IRe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function IRe(e,t,n){return t=$Re(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Re(e){var t=RRe(e,"string");return Bg(t)=="symbol"?t:t+""}function RRe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LRe(e,t,n,s,i){for(var a=(s||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(m){var g=a[m],x,v=function(){return x===void 0&&(x=n(g,m)),x};if(m===o-1){var y=e*(g.coordinate+e*v()/2-c);a[m]=g=us(us({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[m]=g=us(us({},g),{},{tickCoord:g.coordinate});var N=Cj(e,g.tickCoord,v,l,c);N&&(c=g.tickCoord-e*(v()/2+i),a[m]=us(us({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function FRe(e,t,n,s,i,a){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=s[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=us(us({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var g=Cj(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+i),o[l-1]=us(us({},d),{},{isShow:!0}))}for(var x=a?l-1:l,v=function(j){var b=o[j],P,C=function(){return P===void 0&&(P=n(b,j)),P};if(j===0){var A=e*(b.coordinate-e*C()/2-c);o[j]=b=us(us({},b),{},{tickCoord:A<0?b.coordinate-A*e:b.coordinate})}else o[j]=b=us(us({},b),{},{tickCoord:b.coordinate});var _=Cj(e,b.tickCoord,C,c,u);_&&(c=b.tickCoord+e*(C()/2+i),o[j]=us(us({},b),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function Ok(e,t,n){var s=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!s)return[];if(Ve(c)||Pa.isSsr)return DRe(i,typeof c=="number"&&Ve(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?Pp(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,P){var C=yt(u)?u(b.value,P):b.value;return g==="width"?TRe(Pp(C,{fontSize:t,letterSpacing:n}),x,f):Pp(C,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Ps(i[1].coordinate-i[0].coordinate):1,N=ORe(a,y,g);return c==="equidistantPreserveStart"?MRe(y,N,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=FRe(y,N,v,i,o,c==="preserveStartEnd"):m=LRe(y,N,v,i,o),m.filter(function(j){return j.isShow}))}var BRe=["viewBox"],zRe=["viewBox"],VRe=["ticks"];function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ph.apply(this,arguments)}function b3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(n),!0).forEach(function(s){Dk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qS(e,t){if(e==null)return{};var n=URe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function URe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function qRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,DW(s.key),s)}}function WRe(e,t,n){return t&&w3(e.prototype,t),n&&w3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HRe(e,t,n){return t=Pj(t),GRe(e,OW()?Reflect.construct(t,n||[],Pj(e).constructor):t.apply(e,n))}function GRe(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(e)}function KRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!e})()}function Pj(e){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pj(e)}function YRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},o_(e,t)}function Dk(e,t,n){return t=DW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DW(e){var t=QRe(e,"string");return Sf(t)=="symbol"?t:t+""}function QRe(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Sf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var om=function(e){function t(n){var s;return qRe(this,t),s=HRe(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return YRe(t,e),WRe(t,[{key:"shouldComponentUpdate",value:function(s,i){var a=s.viewBox,o=qS(s,BRe),l=this.props,c=l.viewBox,u=qS(l,zRe);return!Ah(a,c)||!Ah(o,u)||!Ah(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,g,x,v,y,N,j,b=f?-1:1,P=s.tickSize||d,C=Ve(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=x=s.coordinate,y=o+ +!f*c,v=y-b*P,j=v-b*m,N=C;break;case"left":v=y=s.coordinate,x=a+ +!f*l,g=x-b*P,N=g-b*m,j=C;break;case"right":v=y=s.coordinate,x=a+ +f*l,g=x+b*P,N=g+b*m,j=C;break;default:g=x=s.coordinate,y=o+ +f*c,v=y+b*P,j=v+b*m,N=C;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:N,y:j}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,d=s.axisLine,f=Sr(Sr(Sr({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Sr(Sr({},f),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=Sr(Sr({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return q.createElement("line",ph({},f,{className:Ct("recharts-cartesian-axis-line",yi(d,"className"))}))}},{key:"renderTicks",value:function(s,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,g=Ok(Sr(Sr({},this.props),{},{ticks:s}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ct(this.props,!1),N=ct(d,!1),j=Sr(Sr({},y),{},{fill:"none"},ct(c,!1)),b=g.map(function(P,C){var A=o.getTickLineCoord(P),_=A.line,E=A.tick,O=Sr(Sr(Sr(Sr({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},N),E),{},{index:C,payload:P,visibleTicksCount:g.length,tickFormatter:f});return q.createElement(Yt,ph({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Ku(o.props,P,C)),c&&q.createElement("line",ph({},j,_,{className:Ct("recharts-cartesian-axis-tick-line",yi(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(yt(f)?f(P.value,C):P.value).concat(m||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var s=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,g=qS(f,VRe),x=m;return yt(c)&&(x=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!x||!x.length?null:q.createElement(Yt,{className:Ct("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Br.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,a){var o,l=Ct(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(s)?o=q.cloneElement(s,Sr(Sr({},i),{},{className:l})):yt(s)?o=s(Sr(Sr({},i),{},{className:l})):o=q.createElement(Yu,ph({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);Dk(om,"displayName","CartesianAxis");Dk(om,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var XRe=["x1","y1","x2","y2","key"],JRe=["offset"];function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(n),!0).forEach(function(s){ZRe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ZRe(e,t,n){return t=e3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e3e(e){var t=t3e(e,"string");return Zu(t)=="symbol"?t:t+""}function t3e(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Zu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xu.apply(this,arguments)}function S3(e,t){if(e==null)return{};var n=n3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function n3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var r3e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return q.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function MW(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=S3(t,XRe),u=ct(c,!1);u.offset;var d=S3(u,JRe);n=q.createElement("line",xu({},d,{x1:s,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function s3e(e){var t=e.x,n=e.width,s=e.horizontal,i=s===void 0?!0:s,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=hs(hs({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return MW(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function i3e(e){var t=e.y,n=e.height,s=e.vertical,i=s===void 0?!0:s,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=hs(hs({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return MW(i,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function a3e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?i+o-m:d[g+1]-m;if(v<=0)return null;var y=g%t.length;return q.createElement("rect",{key:"react-".concat(g),y:m,x:s,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function o3e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?a+l-m:d[g+1]-m;if(v<=0)return null;var y=g%s.length;return q.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:v,height:c,stroke:"none",fill:s[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var l3e=function(t,n){var s=t.xAxis,i=t.width,a=t.height,o=t.offset;return T7(Ok(hs(hs(hs({},om.defaultProps),s),{},{ticks:qo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},c3e=function(t,n){var s=t.yAxis,i=t.width,a=t.height,o=t.offset;return T7(Ok(hs(hs(hs({},om.defaultProps),s),{},{ticks:qo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Gd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ed(e){var t,n,s,i,a,o,l=Ak(),c=Ek(),u=Q4e(),d=hs(hs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Gd.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Gd.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Gd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Gd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gd.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),f=d.x,m=d.y,g=d.width,x=d.height,v=d.syncWithTicks,y=d.horizontalValues,N=d.verticalValues,j=G4e(),b=K4e();if(!Ve(g)||g<=0||!Ve(x)||x<=0||!Ve(f)||f!==+f||!Ve(m)||m!==+m)return null;var P=d.verticalCoordinatesGenerator||l3e,C=d.horizontalCoordinatesGenerator||c3e,A=d.horizontalPoints,_=d.verticalPoints;if((!A||!A.length)&&yt(C)){var E=y&&y.length,O=C({yAxis:b?hs(hs({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:v);Ca(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zu(O),"]")),Array.isArray(O)&&(A=O)}if((!_||!_.length)&&yt(P)){var I=N&&N.length,D=P({xAxis:j?hs(hs({},j),{},{ticks:I?N:j.ticks}):void 0,width:l,height:c,offset:u},I?!0:v);Ca(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zu(D),"]")),Array.isArray(D)&&(_=D)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(r3e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),q.createElement(s3e,xu({},d,{offset:u,horizontalPoints:A,xAxis:j,yAxis:b})),q.createElement(i3e,xu({},d,{offset:u,verticalPoints:_,xAxis:j,yAxis:b})),q.createElement(a3e,xu({},d,{horizontalPoints:A})),q.createElement(o3e,xu({},d,{verticalPoints:_})))}ed.displayName="CartesianGrid";var u3e=["type","layout","connectNulls","ref"],d3e=["key"];function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function C3(e,t){if(e==null)return{};var n=h3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function h3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Op.apply(this,arguments)}function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(s){xa(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Kd(e){return g3e(e)||p3e(e)||m3e(e)||f3e()}function f3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m3e(e,t){if(e){if(typeof e=="string")return l_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(e,t)}}function p3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g3e(e){if(Array.isArray(e))return l_(e)}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function v3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$W(s.key),s)}}function x3e(e,t,n){return t&&_3(e.prototype,t),n&&_3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y3e(e,t,n){return t=_j(t),j3e(e,IW()?Reflect.construct(t,n||[],_j(e).constructor):t.apply(e,n))}function j3e(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b3e(e)}function b3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!e})()}function _j(e){return _j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_j(e)}function w3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c_(e,t)}function c_(e,t){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},c_(e,t)}function xa(e,t,n){return t=$W(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=N3e(e,"string");return Cf(t)=="symbol"?t:t+""}function N3e(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pf=function(e){function t(){var n;v3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=y3e(this,t,[].concat(i)),xa(n,"state",{isAnimationFinished:!0,totalLength:0}),xa(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),xa(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,j){return N+j});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>f){g=[].concat(Kd(c.slice(0,x)),[f-v]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(Kd(t.repeat(c,d)),Kd(g),y).map(function(N){return"".concat(N,"px")}).join(", ")}),xa(n,"id",hd("recharts-line-")),xa(n,"pathRef",function(o){n.mainCurve=o}),xa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),xa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return w3e(t,e),x3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ji(d,wv);if(!f)return null;var m=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:mr(v.payload,y)}},g={clipPath:s?"url(#clipPath-".concat(i,")"):null};return q.createElement(Yt,g,f.map(function(x){return q.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ct(this.props,!1),m=ct(c,!0),g=u.map(function(v,y){var N=li(li(li({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return t.renderDotItem(c,N)}),x={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(Yt,Op({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(s,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=C3(l,u3e),m=li(li(li({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:d});return q.createElement(Du,Op({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,N=this.state,j=N.prevPoints,b=N.totalLength;return q.createElement(Oa,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var C=P.t;if(j){var A=j.length/l.length,_=l.map(function(k,F){var $=Math.floor(F*A);if(j[$]){var Q=j[$],U=kr(Q.x,k.x),ie=kr(Q.y,k.y);return li(li({},k),{},{x:U(C),y:ie(C)})}if(x){var L=kr(v*2,k.x),z=kr(y/2,k.y);return li(li({},k),{},{x:L(C),y:z(C)})}return li(li({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(_,s,i)}var E=kr(0,b),O=E(C),I;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});I=a.getStrokeDasharray(O,b,D)}else I=a.generateSimpleStrokeDasharray(b,O);return a.renderCurveStatically(l,s,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(s,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Qu(u,o))?this.renderCurveWithAnimation(s,i):this.renderCurveStatically(o,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Ct("recharts-line",c),P=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,A=P||C,_=wt(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},O=E.r,I=O===void 0?3:O,D=E.strokeWidth,k=D===void 0?2:D,F=NU(o)?o:{},$=F.clipDot,Q=$===void 0?!0:$,U=I*2+k;return q.createElement(Yt,{className:b},P||C?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(_)},q.createElement("rect",{x:P?m:m-g/2,y:C?f:f-x/2,width:P?g:g*2,height:C?x:x*2})),!Q&&q.createElement("clipPath",{id:"clipPath-dots-".concat(_)},q.createElement("rect",{x:m-U/2,y:f-U/2,width:g+U,height:x+U}))):null,!j&&this.renderCurve(A,_),this.renderErrorBar(A,_),(j||o)&&this.renderDots(A,Q,_),(!v||N)&&co.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:i.curPoints}:s.points!==i.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,i){for(var a=s.length%2!==0?[].concat(Kd(s),[0]):s,o=[],l=0;l<i;++l)o=[].concat(Kd(o),Kd(a));return o}},{key:"renderDotItem",value:function(s,i){var a;if(q.isValidElement(s))a=q.cloneElement(s,i);else if(yt(s))a=s(i);else{var o=i.key,l=C3(i,d3e),c=Ct("recharts-line-dot",typeof s!="boolean"?s.className:"");a=q.createElement(Nv,Op({key:o},l,{className:c}))}return a}}])}(w.PureComponent);xa(Pf,"displayName","Line");xa(Pf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});xa(Pf,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,g){var x=mr(m,o);return d==="horizontal"?{x:sj({axis:n,ticks:i,bandSize:l,entry:m,index:g}),y:wt(x)?null:s.scale(x),value:x,payload:m}:{x:wt(x)?null:n.scale(x),y:sj({axis:s,ticks:a,bandSize:l,entry:m,index:g}),value:x,payload:m}});return li({points:f,layout:d},u)});var S3e=["layout","type","stroke","connectNulls","isRange","ref"],C3e=["key"],RW;function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function LW(e,t){if(e==null)return{};var n=P3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function P3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yu.apply(this,arguments)}function A3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(n),!0).forEach(function(s){ro(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BW(s.key),s)}}function A3e(e,t,n){return t&&E3(e.prototype,t),n&&E3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E3e(e,t,n){return t=Aj(t),k3e(e,FW()?Reflect.construct(t,n||[],Aj(e).constructor):t.apply(e,n))}function k3e(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T3e(e)}function T3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!e})()}function Aj(e){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aj(e)}function O3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},u_(e,t)}function ro(e,t,n){return t=BW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=D3e(e,"string");return _f(t)=="symbol"?t:t+""}function D3e(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xi=function(e){function t(){var n;_3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=E3e(this,t,[].concat(i)),ro(n,"state",{isAnimationFinished:!0}),ro(n,"id",hd("recharts-area-")),ro(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yt(o)&&o()}),ro(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yt(o)&&o()}),n}return O3e(t,e),A3e(t,[{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ct(this.props,!1),g=ct(u,!0),x=d.map(function(y,N){var j=Ml(Ml(Ml({key:"dot-".concat(N),r:3},m),g),{},{index:N,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,j)}),v={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return q.createElement(Yt,yu({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=s*Math.abs(c-u),f=tc(o.map(function(m){return m.y||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(tc(a.map(function(m){return m.y||0})),f)),Ve(f)?q.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=s*Math.abs(c-u),f=tc(o.map(function(m){return m.x||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(tc(a.map(function(m){return m.x||0})),f)),Ve(f)?q.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var g=LW(l,S3e);return q.createElement(Yt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},q.createElement(Du,yu({},ct(g,!0),{points:s,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&q.createElement(Du,yu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})),d!=="none"&&m&&q.createElement(Du,yu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=this.state,v=x.prevPoints,y=x.prevBaseLine;return q.createElement(Oa,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(v){var b=v.length/l.length,P=l.map(function(E,O){var I=Math.floor(O*b);if(v[I]){var D=v[I],k=kr(D.x,E.x),F=kr(D.y,E.y);return Ml(Ml({},E),{},{x:k(j),y:F(j)})}return E}),C;if(Ve(c)&&typeof c=="number"){var A=kr(y,c);C=A(j)}else if(wt(c)||Zf(c)){var _=kr(y,0);C=_(j)}else C=c.map(function(E,O){var I=Math.floor(O*b);if(y[I]){var D=y[I],k=kr(D.x,E.x),F=kr(D.y,E.y);return Ml(Ml({},E),{},{x:k(j),y:F(j)})}return E});return a.renderAreaStatically(P,C,s,i)}return q.createElement(Yt,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(j))),q.createElement(Yt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,s,i)))})}},{key:"renderArea",value:function(s,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!Qu(d,o)||!Qu(f,l))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(o,l,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Ct("recharts-area",c),P=f&&f.allowDataOverflow,C=m&&m.allowDataOverflow,A=P||C,_=wt(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},O=E.r,I=O===void 0?3:O,D=E.strokeWidth,k=D===void 0?2:D,F=NU(o)?o:{},$=F.clipDot,Q=$===void 0?!0:$,U=I*2+k;return q.createElement(Yt,{className:b},P||C?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(_)},q.createElement("rect",{x:P?d:d-g/2,y:C?u:u-x/2,width:P?g:g*2,height:C?x:x*2})),!Q&&q.createElement("clipPath",{id:"clipPath-dots-".concat(_)},q.createElement("rect",{x:d-U/2,y:u-U/2,width:g+U,height:x+U}))):null,j?null:this.renderArea(A,_),(o||j)&&this.renderDots(A,Q,_),(!v||N)&&co.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(w.PureComponent);RW=Xi;ro(Xi,"displayName","Area");ro(Xi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ro(Xi,"getBaseValue",function(e,t,n,s){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ve(l)&&typeof l=="number")return l;var c=i==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ro(Xi,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=t.layout,x=u&&u.length,v=RW.getBaseValue(t,n,s,i),y=g==="horizontal",N=!1,j=f.map(function(P,C){var A;x?A=u[d+C]:(A=mr(P,c),Array.isArray(A)?N=!0:A=[v,A]);var _=A[1]==null||x&&mr(P,c)==null;return y?{x:sj({axis:s,ticks:a,bandSize:l,entry:P,index:C}),y:_?null:i.scale(A[1]),value:A,payload:P}:{x:_?null:s.scale(A[1]),y:sj({axis:i,ticks:o,bandSize:l,entry:P,index:C}),value:A,payload:P}}),b;return x||N?b=j.map(function(P){var C=Array.isArray(P.value)?P.value[0]:null;return y?{x:P.x,y:C!=null&&P.y!=null?i.scale(C):null}:{x:C!=null?s.scale(C):null,y:P.y}}):b=y?i.scale(v):s.scale(v),Ml({points:j,baseLine:b,layout:g,isRange:N},m)});ro(Xi,"renderDotItem",function(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=Ct("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=LW(t,C3e);n=q.createElement(Nv,yu({},a,{key:i,className:s}))}return n});function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function M3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I3e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,UW(s.key),s)}}function $3e(e,t,n){return t&&I3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R3e(e,t,n){return t=Ej(t),L3e(e,zW()?Reflect.construct(t,n||[],Ej(e).constructor):t.apply(e,n))}function L3e(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F3e(e)}function F3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Ej(e){return Ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ej(e)}function B3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},d_(e,t)}function VW(e,t,n){return t=UW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=z3e(e,"string");return Af(t)=="symbol"?t:t+""}function z3e(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h_.apply(this,arguments)}function V3e(e){var t=e.xAxisId,n=Ak(),s=Ek(),i=NW(t);return i==null?null:w.createElement(om,h_({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return qo(o,!0)}}))}var Da=function(e){function t(){return M3e(this,t),R3e(this,t,arguments)}return B3e(t,e),$3e(t,[{key:"render",value:function(){return w.createElement(V3e,this.props)}}])}(w.Component);VW(Da,"displayName","XAxis");VW(Da,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function U3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q3e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,HW(s.key),s)}}function W3e(e,t,n){return t&&q3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H3e(e,t,n){return t=kj(t),G3e(e,qW()?Reflect.construct(t,n||[],kj(e).constructor):t.apply(e,n))}function G3e(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K3e(e)}function K3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function kj(e){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kj(e)}function Y3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},f_(e,t)}function WW(e,t,n){return t=HW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=Q3e(e,"string");return Ef(t)=="symbol"?t:t+""}function Q3e(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m_.apply(this,arguments)}var X3e=function(t){var n=t.yAxisId,s=Ak(),i=Ek(),a=SW(n);return a==null?null:w.createElement(om,m_({},a,{className:Ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:i},ticksGenerator:function(l){return qo(l,!0)}}))},Ma=function(e){function t(){return U3e(this,t),H3e(this,t,arguments)}return Y3e(t,e),W3e(t,[{key:"render",value:function(){return w.createElement(X3e,this.props)}}])}(w.Component);WW(Ma,"displayName","YAxis");WW(Ma,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function k3(e){return tLe(e)||eLe(e)||Z3e(e)||J3e()}function J3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3e(e,t){if(e){if(typeof e=="string")return p_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(e,t)}}function eLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tLe(e){if(Array.isArray(e))return p_(e)}function p_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var g_=function(t,n,s,i,a){var o=ji(t,Tk),l=ji(t,kw),c=[].concat(k3(o),k3(l)),u=ji(t,Ow),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,y){if(y.props[d]===s&&uo(y.props,"extendDomain")&&Ve(y.props[f])){var N=y.props[f];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},m)),u.length){var g="".concat(f,"1"),x="".concat(f,"2");m=u.reduce(function(v,y){if(y.props[d]===s&&uo(y.props,"extendDomain")&&Ve(y.props[g])&&Ve(y.props[x])){var N=y.props[g],j=y.props[x];return[Math.min(v[0],N,j),Math.max(v[1],N,j)]}return v},m)}return a&&a.length&&(m=a.reduce(function(v,y){return Ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},m)),m},GW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,g,x){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],N=arguments.length,j,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,g),!0;case 6:return y.fn.call(y.context,d,f,m,g,x),!0}for(b=1,j=new Array(N-1);b<N;b++)j[b-1]=arguments[b];y.fn.apply(y.context,j)}else{var P=y.length,C;for(b=0;b<P;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),N){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,m);break;default:if(!j)for(C=1,j=new Array(N-1);C<N;C++)j[C-1]=arguments[C];y[b].fn.apply(y[b].context,j)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,y=[],N=x.length;v<N;v++)(x[v].fn!==d||m&&!x[v].once||f&&x[v].context!==f)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(GW);var nLe=GW.exports;const rLe=fn(nLe);var WS=new rLe,HS="recharts.syncMouseEvents";function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function sLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KW(s.key),s)}}function aLe(e,t,n){return t&&iLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GS(e,t,n){return t=KW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=oLe(e,"string");return zg(t)=="symbol"?t:t+""}function oLe(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(zg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lLe=function(){function e(){sLe(this,e),GS(this,"activeIndex",0),GS(this,"coordinateList",[]),GS(this,"layout","horizontal")}return aLe(e,[{key:"setDetails",value:function(n){var s,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(s=a??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function cLe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],i=e==null?void 0:e[1];if(s&&i&&Ve(s)&&Ve(i))return!0}return!1}function uLe(e,t,n,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function YW(e){var t=e.cx,n=e.cy,s=e.radius,i=e.startAngle,a=e.endAngle,o=Mn(t,n,s,i),l=Mn(t,n,s,a);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:i,endAngle:a}}function dLe(e,t,n){var s,i,a,o;if(e==="horizontal")s=t.x,a=s,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,s=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=Mn(l,c,u,f),g=Mn(l,c,d,f);s=m.x,i=m.y,a=g.x,o=g.y}else return YW(t);return[{x:s,y:i},{x:a,y:o}]}function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(s){hLe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hLe(e,t,n){return t=fLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fLe(e){var t=mLe(e,"string");return Vg(t)=="symbol"?t:t+""}function mLe(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pLe(e){var t,n,s=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,g=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var x,v=Du;if(m==="ScatterChart")x=o,v=NMe;else if(m==="BarChart")x=uLe(f,o,c,d),v=Nk;else if(f==="radial"){var y=YW(o),N=y.cx,j=y.cy,b=y.radius,P=y.startAngle,C=y.endAngle;x={cx:N,cy:j,startAngle:P,endAngle:C,innerRadius:b,outerRadius:b},v=V7}else x={points:dLe(f,o,c)},v=Du;var A=xy(xy(xy(xy({stroke:"#ccc",pointerEvents:"none"},c),x),ct(g,!1)),{},{payload:l,payloadIndex:u,className:Ct("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,A):w.createElement(v,A)}var gLe=["item"],vLe=["children","className","width","height","style","compact","title","desc"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gh.apply(this,arguments)}function O3(e,t){return jLe(e)||yLe(e,t)||XW(e,t)||xLe()}function xLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jLe(e){if(Array.isArray(e))return e}function D3(e,t){if(e==null)return{};var n=bLe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bLe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function wLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JW(s.key),s)}}function SLe(e,t,n){return t&&NLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CLe(e,t,n){return t=Tj(t),PLe(e,QW()?Reflect.construct(t,n||[],Tj(e).constructor):t.apply(e,n))}function PLe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Le(e)}function _Le(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!e})()}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tj(e)}function ALe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},v_(e,t)}function Tf(e){return TLe(e)||kLe(e)||XW(e)||ELe()}function ELe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XW(e,t){if(e){if(typeof e=="string")return x_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(e,t)}}function kLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TLe(e){if(Array.isArray(e))return x_(e)}function x_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function M3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(n),!0).forEach(function(s){xt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xt(e,t,n){return t=JW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JW(e){var t=OLe(e,"string");return kf(t)=="symbol"?t:t+""}function OLe(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DLe={xAxis:["bottom","top"],yAxis:["left","right"]},MLe={width:"100%",height:"100%"},ZW={x:0,y:0};function yy(e){return e}var ILe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},$Le=function(t,n,s,i){var a=n.find(function(d){return d&&d.index===s});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Pe(Pe(Pe({},i),Mn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return Pe(Pe(Pe({},i),Mn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return ZW},Dw=function(t,n){var s=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Tf(l),Tf(u)):l},[]);return o.length>0?o:t&&t.length&&Ve(i)&&Ve(a)?t.slice(i,a+1):[]};function e9(e){return e==="number"?[0,"auto"]:void 0}var y_=function(t,n,s,i){var a=t.graphicalItems,o=t.tooltipAxis,l=Dw(n,t);return s<0||!a||!a.length||s>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;m=k0(g,o.dataKey,i)}else m=f&&f[s]||l[s];return m?[].concat(Tf(c),[$7(u,m)]):c},[])},I3=function(t,n,s,i){var a=i||{x:t.chartX,y:t.chartY},o=ILe(a,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Gke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=y_(t,n,d,f),g=$Le(s,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},RLe=function(t,n){var s=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,g=k7(d,a);return s.reduce(function(x,v){var y,N=v.type.defaultProps!==void 0?Pe(Pe({},v.type.defaultProps),v.props):v.props,j=N.type,b=N.dataKey,P=N.allowDataOverflow,C=N.allowDuplicatedCategory,A=N.scale,_=N.ticks,E=N.includeHidden,O=N[o];if(x[O])return x;var I=Dw(t.data,{graphicalItems:i.filter(function(ee){var J,te=o in ee.props?ee.props[o]:(J=ee.type.defaultProps)===null||J===void 0?void 0:J[o];return te===O}),dataStartIndex:c,dataEndIndex:u}),D=I.length,k,F,$;cLe(N.domain,P,j)&&(k=OP(N.domain,null,P),g&&(j==="number"||A!=="auto")&&($=Ap(I,b,"category")));var Q=e9(j);if(!k||k.length===0){var U,ie=(U=N.domain)!==null&&U!==void 0?U:Q;if(b){if(k=Ap(I,b,j),j==="category"&&g){var L=Rxe(k);C&&L?(F=k,k=vj(0,D)):C||(k=tR(ie,k,v).reduce(function(ee,J){return ee.indexOf(J)>=0?ee:[].concat(Tf(ee),[J])},[]))}else if(j==="category")C?k=k.filter(function(ee){return ee!==""&&!wt(ee)}):k=tR(ie,k,v).reduce(function(ee,J){return ee.indexOf(J)>=0||J===""||wt(J)?ee:[].concat(Tf(ee),[J])},[]);else if(j==="number"){var z=Jke(I,i.filter(function(ee){var J,te,xe=o in ee.props?ee.props[o]:(J=ee.type.defaultProps)===null||J===void 0?void 0:J[o],ve="hide"in ee.props?ee.props.hide:(te=ee.type.defaultProps)===null||te===void 0?void 0:te.hide;return xe===O&&(E||!ve)}),b,a,d);z&&(k=z)}g&&(j==="number"||A!=="auto")&&($=Ap(I,b,"category"))}else g?k=vj(0,D):l&&l[O]&&l[O].hasStack&&j==="number"?k=m==="expand"?[0,1]:I7(l[O].stackGroups,c,u):k=E7(I,i.filter(function(ee){var J=o in ee.props?ee.props[o]:ee.type.defaultProps[o],te="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return J===O&&(E||!te)}),j,d,!0);if(j==="number")k=g_(f,k,O,a,_),ie&&(k=OP(ie,k,P));else if(j==="category"&&ie){var le=ie,pe=k.every(function(ee){return le.indexOf(ee)>=0});pe&&(k=le)}}return Pe(Pe({},x),{},xt({},O,Pe(Pe({},N),{},{axisType:a,domain:k,categoricalDomain:$,duplicateDomain:F,originalDomain:(y=N.domain)!==null&&y!==void 0?y:Q,isCategorical:g,layout:d})))},{})},LLe=function(t,n){var s=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=Dw(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),g=m.length,x=k7(d,a),v=-1;return s.reduce(function(y,N){var j=N.type.defaultProps!==void 0?Pe(Pe({},N.type.defaultProps),N.props):N.props,b=j[o],P=e9("number");if(!y[b]){v++;var C;return x?C=vj(0,g):l&&l[b]&&l[b].hasStack?(C=I7(l[b].stackGroups,c,u),C=g_(f,C,b,a)):(C=OP(P,E7(m,s.filter(function(A){var _,E,O=o in A.props?A.props[o]:(_=A.type.defaultProps)===null||_===void 0?void 0:_[o],I="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return O===b&&!I}),"number",d),i.defaultProps.allowDataOverflow),C=g_(f,C,b,a)),Pe(Pe({},y),{},xt({},b,Pe(Pe({axisType:a},i.defaultProps),{},{hide:!0,orientation:yi(DLe,"".concat(a,".").concat(v%2),null),domain:C,originalDomain:P,isCategorical:x,layout:d})))}return y},{})},FLe=function(t,n){var s=n.axisType,i=s===void 0?"xAxis":s,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=ji(d,a),g={};return m&&m.length?g=RLe(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=LLe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},BLe=function(t){var n=zl(t),s=qo(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:QE(s,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ij(n,s)}},$3=function(t){var n=t.children,s=t.defaultShowTooltip,i=di(n,yf),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},zLe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Go(n&&n.type);return s&&s.indexOf("Bar")>=0})},R3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},VLe=function(t,n){var s=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,d=s.height,f=s.children,m=s.margin||{},g=di(f,yf),x=di(f,Eh),v=Object.keys(c).reduce(function(C,A){var _=c[A],E=_.orientation;return!_.mirror&&!_.hide?Pe(Pe({},C),{},xt({},E,C[E]+_.width)):C},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(C,A){var _=o[A],E=_.orientation;return!_.mirror&&!_.hide?Pe(Pe({},C),{},xt({},E,yi(C,"".concat(E))+_.height)):C},{top:m.top||0,bottom:m.bottom||0}),N=Pe(Pe({},y),v),j=N.bottom;g&&(N.bottom+=g.props.height||yf.defaultProps.height),x&&n&&(N=Qke(N,i,s,n));var b=u-N.left-N.right,P=d-N.top-N.bottom;return Pe(Pe({brushBottom:j},N),{},{width:Math.max(b,0),height:Math.max(P,0)})},ULe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Mw=function(t){var n=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(N,j){var b=j.graphicalItems,P=j.stackGroups,C=j.offset,A=j.updateId,_=j.dataStartIndex,E=j.dataEndIndex,O=N.barSize,I=N.layout,D=N.barGap,k=N.barCategoryGap,F=N.maxBarSize,$=R3(I),Q=$.numericAxisName,U=$.cateAxisName,ie=zLe(b),L=[];return b.forEach(function(z,le){var pe=Dw(N.data,{graphicalItems:[z],dataStartIndex:_,dataEndIndex:E}),ee=z.type.defaultProps!==void 0?Pe(Pe({},z.type.defaultProps),z.props):z.props,J=ee.dataKey,te=ee.maxBarSize,xe=ee["".concat(Q,"Id")],ve=ee["".concat(U,"Id")],re={},B=c.reduce(function(Ge,Ke){var qt=j["".concat(Ke.axisType,"Map")],Kn=ee["".concat(Ke.axisType,"Id")];qt&&qt[Kn]||Ke.axisType==="zAxis"||Ju();var Pt=qt[Kn];return Pe(Pe({},Ge),{},xt(xt({},Ke.axisType,Pt),"".concat(Ke.axisType,"Ticks"),qo(Pt)))},re),X=B[U],ye=B["".concat(U,"Ticks")],Z=P&&P[xe]&&P[xe].hasStack&&oTe(z,P[xe].stackGroups),M=Go(z.type).indexOf("Bar")>=0,je=ij(X,ye),we=[],Fe=ie&&Kke({barSize:O,stackGroups:P,totalSize:ULe(B,U)});if(M){var Be,at,lt=wt(te)?F:te,ut=(Be=(at=ij(X,ye,!0))!==null&&at!==void 0?at:lt)!==null&&Be!==void 0?Be:0;we=Yke({barGap:D,barCategoryGap:k,bandSize:ut!==je?ut:je,sizeList:Fe[ve],maxBarSize:lt}),ut!==je&&(we=we.map(function(Ge){return Pe(Pe({},Ge),{},{position:Pe(Pe({},Ge.position),{},{offset:Ge.position.offset-ut/2})})}))}var Ne=z&&z.type&&z.type.getComposedData;Ne&&L.push({props:Pe(Pe({},Ne(Pe(Pe({},B),{},{displayedData:pe,props:N,dataKey:J,item:z,bandSize:je,barPosition:we,offset:C,stackedData:Z,layout:I,dataStartIndex:_,dataEndIndex:E}))),{},xt(xt(xt({key:z.key||"item-".concat(le)},Q,B[Q]),U,B[U]),"animationId",A)),childIndex:Yxe(z,N.children),item:z})}),L},g=function(N,j){var b=N.props,P=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;if(!YI({props:b}))return null;var _=b.children,E=b.layout,O=b.stackOffset,I=b.data,D=b.reverseStackOrder,k=R3(E),F=k.numericAxisName,$=k.cateAxisName,Q=ji(_,s),U=iTe(I,Q,"".concat(F,"Id"),"".concat($,"Id"),O,D),ie=c.reduce(function(ee,J){var te="".concat(J.axisType,"Map");return Pe(Pe({},ee),{},xt({},te,FLe(b,Pe(Pe({},J),{},{graphicalItems:Q,stackGroups:J.axisType===F&&U,dataStartIndex:P,dataEndIndex:C}))))},{}),L=VLe(Pe(Pe({},ie),{},{props:b,graphicalItems:Q}),j==null?void 0:j.legendBBox);Object.keys(ie).forEach(function(ee){ie[ee]=d(b,ie[ee],L,ee.replace("Map",""),n)});var z=ie["".concat($,"Map")],le=BLe(z),pe=m(b,Pe(Pe({},ie),{},{dataStartIndex:P,dataEndIndex:C,updateId:A,graphicalItems:Q,stackGroups:U,offset:L}));return Pe(Pe({formattedGraphicalItems:pe,graphicalItems:Q,offset:L,stackGroups:U},le),ie)},x=function(y){function N(j){var b,P,C;return wLe(this,N),C=CLe(this,N,[j]),xt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(C,"accessibilityManager",new lLe),xt(C,"handleLegendBBoxUpdate",function(A){if(A){var _=C.state,E=_.dataStartIndex,O=_.dataEndIndex,I=_.updateId;C.setState(Pe({legendBBox:A},g({props:C.props,dataStartIndex:E,dataEndIndex:O,updateId:I},Pe(Pe({},C.state),{},{legendBBox:A}))))}}),xt(C,"handleReceiveSyncEvent",function(A,_,E){if(C.props.syncId===A){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(_)}}),xt(C,"handleBrushChange",function(A){var _=A.startIndex,E=A.endIndex;if(_!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var O=C.state.updateId;C.setState(function(){return Pe({dataStartIndex:_,dataEndIndex:E},g({props:C.props,dataStartIndex:_,dataEndIndex:E,updateId:O},C.state))}),C.triggerSyncEvent({dataStartIndex:_,dataEndIndex:E})}}),xt(C,"handleMouseEnter",function(A){var _=C.getMouseInfo(A);if(_){var E=Pe(Pe({},_),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var O=C.props.onMouseEnter;yt(O)&&O(E,A)}}),xt(C,"triggeredAfterMouseMove",function(A){var _=C.getMouseInfo(A),E=_?Pe(Pe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var O=C.props.onMouseMove;yt(O)&&O(E,A)}),xt(C,"handleItemMouseEnter",function(A){C.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),xt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),xt(C,"handleMouseMove",function(A){A.persist(),C.throttleTriggeredAfterMouseMove(A)}),xt(C,"handleMouseLeave",function(A){C.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};C.setState(_),C.triggerSyncEvent(_);var E=C.props.onMouseLeave;yt(E)&&E(_,A)}),xt(C,"handleOuterEvent",function(A){var _=Kxe(A),E=yi(C.props,"".concat(_));if(_&&yt(E)){var O,I;/.*touch.*/i.test(_)?I=C.getMouseInfo(A.changedTouches[0]):I=C.getMouseInfo(A),E((O=I)!==null&&O!==void 0?O:{},A)}}),xt(C,"handleClick",function(A){var _=C.getMouseInfo(A);if(_){var E=Pe(Pe({},_),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var O=C.props.onClick;yt(O)&&O(E,A)}}),xt(C,"handleMouseDown",function(A){var _=C.props.onMouseDown;if(yt(_)){var E=C.getMouseInfo(A);_(E,A)}}),xt(C,"handleMouseUp",function(A){var _=C.props.onMouseUp;if(yt(_)){var E=C.getMouseInfo(A);_(E,A)}}),xt(C,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),xt(C,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseDown(A.changedTouches[0])}),xt(C,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseUp(A.changedTouches[0])}),xt(C,"handleDoubleClick",function(A){var _=C.props.onDoubleClick;if(yt(_)){var E=C.getMouseInfo(A);_(E,A)}}),xt(C,"handleContextMenu",function(A){var _=C.props.onContextMenu;if(yt(_)){var E=C.getMouseInfo(A);_(E,A)}}),xt(C,"triggerSyncEvent",function(A){C.props.syncId!==void 0&&WS.emit(HS,C.props.syncId,A,C.eventEmitterSymbol)}),xt(C,"applySyncEvent",function(A){var _=C.props,E=_.layout,O=_.syncMethod,I=C.state.updateId,D=A.dataStartIndex,k=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)C.setState(Pe({dataStartIndex:D,dataEndIndex:k},g({props:C.props,dataStartIndex:D,dataEndIndex:k,updateId:I},C.state)));else if(A.activeTooltipIndex!==void 0){var F=A.chartX,$=A.chartY,Q=A.activeTooltipIndex,U=C.state,ie=U.offset,L=U.tooltipTicks;if(!ie)return;if(typeof O=="function")Q=O(L,A);else if(O==="value"){Q=-1;for(var z=0;z<L.length;z++)if(L[z].value===A.activeLabel){Q=z;break}}var le=Pe(Pe({},ie),{},{x:ie.left,y:ie.top}),pe=Math.min(F,le.x+le.width),ee=Math.min($,le.y+le.height),J=L[Q]&&L[Q].value,te=y_(C.state,C.props.data,Q),xe=L[Q]?{x:E==="horizontal"?L[Q].coordinate:pe,y:E==="horizontal"?ee:L[Q].coordinate}:ZW;C.setState(Pe(Pe({},A),{},{activeLabel:J,activeCoordinate:xe,activePayload:te,activeTooltipIndex:Q}))}else C.setState(A)}),xt(C,"renderCursor",function(A){var _,E=C.state,O=E.isTooltipActive,I=E.activeCoordinate,D=E.activePayload,k=E.offset,F=E.activeTooltipIndex,$=E.tooltipAxisBandSize,Q=C.getTooltipEventType(),U=(_=A.props.active)!==null&&_!==void 0?_:O,ie=C.props.layout,L=A.key||"_recharts-cursor";return q.createElement(pLe,{key:L,activeCoordinate:I,activePayload:D,activeTooltipIndex:F,chartName:n,element:A,isActive:U,layout:ie,offset:k,tooltipAxisBandSize:$,tooltipEventType:Q})}),xt(C,"renderPolarAxis",function(A,_,E){var O=yi(A,"type.axisType"),I=yi(C.state,"".concat(O,"Map")),D=A.type.defaultProps,k=D!==void 0?Pe(Pe({},D),A.props):A.props,F=I&&I[k["".concat(O,"Id")]];return w.cloneElement(A,Pe(Pe({},F),{},{className:Ct(O,F.className),key:A.key||"".concat(_,"-").concat(E),ticks:qo(F,!0)}))}),xt(C,"renderPolarGrid",function(A){var _=A.props,E=_.radialLines,O=_.polarAngles,I=_.polarRadius,D=C.state,k=D.radiusAxisMap,F=D.angleAxisMap,$=zl(k),Q=zl(F),U=Q.cx,ie=Q.cy,L=Q.innerRadius,z=Q.outerRadius;return w.cloneElement(A,{polarAngles:Array.isArray(O)?O:qo(Q,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(I)?I:qo($,!0).map(function(le){return le.coordinate}),cx:U,cy:ie,innerRadius:L,outerRadius:z,key:A.key||"polar-grid",radialLines:E})}),xt(C,"renderLegend",function(){var A=C.state.formattedGraphicalItems,_=C.props,E=_.children,O=_.width,I=_.height,D=C.props.margin||{},k=O-(D.left||0)-(D.right||0),F=_7({children:E,formattedGraphicalItems:A,legendWidth:k,legendContent:u});if(!F)return null;var $=F.item,Q=D3(F,gLe);return w.cloneElement($,Pe(Pe({},Q),{},{chartWidth:O,chartHeight:I,margin:D,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),xt(C,"renderTooltip",function(){var A,_=C.props,E=_.children,O=_.accessibilityLayer,I=di(E,Fr);if(!I)return null;var D=C.state,k=D.isTooltipActive,F=D.activeCoordinate,$=D.activePayload,Q=D.activeLabel,U=D.offset,ie=(A=I.props.active)!==null&&A!==void 0?A:k;return w.cloneElement(I,{viewBox:Pe(Pe({},U),{},{x:U.left,y:U.top}),active:ie,label:Q,payload:ie?$:[],coordinate:F,accessibilityLayer:O})}),xt(C,"renderBrush",function(A){var _=C.props,E=_.margin,O=_.data,I=C.state,D=I.offset,k=I.dataStartIndex,F=I.dataEndIndex,$=I.updateId;return w.cloneElement(A,{key:A.key||"_recharts-brush",onChange:my(C.handleBrushChange,A.props.onChange),data:O,x:Ve(A.props.x)?A.props.x:D.left,y:Ve(A.props.y)?A.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:Ve(A.props.width)?A.props.width:D.width,startIndex:k,endIndex:F,updateId:"brush-".concat($)})}),xt(C,"renderReferenceElement",function(A,_,E){if(!A)return null;var O=C,I=O.clipPathId,D=C.state,k=D.xAxisMap,F=D.yAxisMap,$=D.offset,Q=A.type.defaultProps||{},U=A.props,ie=U.xAxisId,L=ie===void 0?Q.xAxisId:ie,z=U.yAxisId,le=z===void 0?Q.yAxisId:z;return w.cloneElement(A,{key:A.key||"".concat(_,"-").concat(E),xAxis:k[L],yAxis:F[le],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:I})}),xt(C,"renderActivePoints",function(A){var _=A.item,E=A.activePoint,O=A.basePoint,I=A.childIndex,D=A.isRange,k=[],F=_.props.key,$=_.item.type.defaultProps!==void 0?Pe(Pe({},_.item.type.defaultProps),_.item.props):_.item.props,Q=$.activeDot,U=$.dataKey,ie=Pe(Pe({index:I,dataKey:U,cx:E.x,cy:E.y,r:4,fill:wk(_.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ct(Q,!1)),T0(Q));return k.push(N.renderActiveDot(Q,ie,"".concat(F,"-activePoint-").concat(I))),O?k.push(N.renderActiveDot(Q,Pe(Pe({},ie),{},{cx:O.x,cy:O.y}),"".concat(F,"-basePoint-").concat(I))):D&&k.push(null),k}),xt(C,"renderGraphicChild",function(A,_,E){var O=C.filterFormatItem(A,_,E);if(!O)return null;var I=C.getTooltipEventType(),D=C.state,k=D.isTooltipActive,F=D.tooltipAxis,$=D.activeTooltipIndex,Q=D.activeLabel,U=C.props.children,ie=di(U,Fr),L=O.props,z=L.points,le=L.isRange,pe=L.baseLine,ee=O.item.type.defaultProps!==void 0?Pe(Pe({},O.item.type.defaultProps),O.item.props):O.item.props,J=ee.activeDot,te=ee.hide,xe=ee.activeBar,ve=ee.activeShape,re=!!(!te&&k&&ie&&(J||xe||ve)),B={};I!=="axis"&&ie&&ie.props.trigger==="click"?B={onClick:my(C.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(B={onMouseLeave:my(C.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:my(C.handleItemMouseEnter,A.props.onMouseEnter)});var X=w.cloneElement(A,Pe(Pe({},O.props),B));function ye(Ke){return typeof F.dataKey=="function"?F.dataKey(Ke.payload):null}if(re)if($>=0){var Z,M;if(F.dataKey&&!F.allowDuplicatedCategory){var je=typeof F.dataKey=="function"?ye:"payload.".concat(F.dataKey.toString());Z=k0(z,je,Q),M=le&&pe&&k0(pe,je,Q)}else Z=z==null?void 0:z[$],M=le&&pe&&pe[$];if(ve||xe){var we=A.props.activeIndex!==void 0?A.props.activeIndex:$;return[w.cloneElement(A,Pe(Pe(Pe({},O.props),B),{},{activeIndex:we})),null,null]}if(!wt(Z))return[X].concat(Tf(C.renderActivePoints({item:O,activePoint:Z,basePoint:M,childIndex:$,isRange:le})))}else{var Fe,Be=(Fe=C.getItemByXY(C.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:X},at=Be.graphicalItem,lt=at.item,ut=lt===void 0?A:lt,Ne=at.childIndex,Ge=Pe(Pe(Pe({},O.props),B),{},{activeIndex:Ne});return[w.cloneElement(ut,Ge),null,null]}return le?[X,null,null]:[X,null]}),xt(C,"renderCustomized",function(A,_,E){return w.cloneElement(A,Pe(Pe({key:"recharts-customized-".concat(E)},C.props),C.state))}),xt(C,"renderMap",{CartesianGrid:{handler:yy,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:yy},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:yy},YAxis:{handler:yy},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:hd("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Pq(C.triggeredAfterMouseMove,(P=j.throttleDelay)!==null&&P!==void 0?P:1e3/60),C.state={},C}return ALe(N,y),SLe(N,[{key:"componentDidMount",value:function(){var b,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,P=b.children,C=b.data,A=b.height,_=b.layout,E=di(P,Fr);if(E){var O=E.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,D=y_(this.state,C,O,I),k=this.state.tooltipTicks[O].coordinate,F=(this.state.offset.top+A)/2,$=_==="horizontal",Q=$?{x:k,y:F}:{y:k,x:F},U=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});U&&(Q=Pe(Pe({},Q),U.props.points[O].tooltipPosition),D=U.props.points[O].tooltipPayload);var ie={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:I,activePayload:D,activeCoordinate:Q};this.setState(ie),this.renderCursor(E),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var C,A;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){G2([di(b.children,Fr)],[di(this.props.children,Fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=di(this.props.children,Fr);if(b&&typeof b.props.shared=="boolean"){var P=b.props.shared?"axis":"item";return l.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var P=this.container,C=P.getBoundingClientRect(),A=bPe(C),_={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},E=C.width/P.offsetWidth||1,O=this.inRange(_.chartX,_.chartY,E);if(!O)return null;var I=this.state,D=I.xAxisMap,k=I.yAxisMap,F=this.getTooltipEventType(),$=I3(this.state,this.props.data,this.props.layout,O);if(F!=="axis"&&D&&k){var Q=zl(D).scale,U=zl(k).scale,ie=Q&&Q.invert?Q.invert(_.chartX):null,L=U&&U.invert?U.invert(_.chartY):null;return Pe(Pe({},_),{},{xValue:ie,yValue:L},$)}return $?Pe(Pe({},_),$):null}},{key:"inRange",value:function(b,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,_=b/C,E=P/C;if(A==="horizontal"||A==="vertical"){var O=this.state.offset,I=_>=O.left&&_<=O.left+O.width&&E>=O.top&&E<=O.top+O.height;return I?{x:_,y:E}:null}var D=this.state,k=D.angleAxisMap,F=D.radiusAxisMap;if(k&&F){var $=zl(k);return sR({x:_,y:E},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,P=this.getTooltipEventType(),C=di(b,Fr),A={};C&&P==="axis"&&(C.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=T0(this.props,this.handleOuterEvent);return Pe(Pe({},_),A)}},{key:"addListener",value:function(){WS.on(HS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){WS.removeListener(HS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,P,C){for(var A=this.state.formattedGraphicalItems,_=0,E=A.length;_<E;_++){var O=A[_];if(O.item===b||O.props.key===b.key||P===Go(O.item.type)&&C===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,P=this.state.offset,C=P.left,A=P.top,_=P.height,E=P.width;return q.createElement("defs",null,q.createElement("clipPath",{id:b},q.createElement("rect",{x:C,y:A,height:_,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(P,C){var A=O3(C,2),_=A[0],E=A[1];return Pe(Pe({},P),{},xt({},_,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(P,C){var A=O3(C,2),_=A[0],E=A[1];return Pe(Pe({},P),{},xt({},_,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[b])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(b){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[b])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(b){var P=this.state,C=P.formattedGraphicalItems,A=P.activeItem;if(C&&C.length)for(var _=0,E=C.length;_<E;_++){var O=C[_],I=O.props,D=O.item,k=D.type.defaultProps!==void 0?Pe(Pe({},D.type.defaultProps),D.props):D.props,F=Go(D.type);if(F==="Bar"){var $=(I.data||[]).find(function(L){return rMe(b,L)});if($)return{graphicalItem:O,payload:$}}else if(F==="RadialBar"){var Q=(I.data||[]).find(function(L){return sR(b,L)});if(Q)return{graphicalItem:O,payload:Q}}else if(Pw(O,A)||_w(O,A)||$g(O,A)){var U=WIe({graphicalItem:O,activeTooltipItem:A,itemData:k.data}),ie=k.activeIndex===void 0?U:k.activeIndex;return{graphicalItem:Pe(Pe({},O),{},{childIndex:ie}),payload:$g(O,A)?k.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!YI(this))return null;var P=this.props,C=P.children,A=P.className,_=P.width,E=P.height,O=P.style,I=P.compact,D=P.title,k=P.desc,F=D3(P,vLe),$=ct(F,!1);if(I)return q.createElement(h3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Y2,gh({},$,{width:_,height:E,title:D,desc:k}),this.renderClipPath(),XI(C,this.renderMap)));if(this.props.accessibilityLayer){var Q,U;$.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},$.onFocus=function(){b.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return q.createElement(h3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",gh({className:Ct("recharts-wrapper",A),style:Pe({position:"relative",cursor:"default",width:_,height:E},O)},ie,{ref:function(z){b.container=z}}),q.createElement(Y2,gh({},$,{width:_,height:E,title:D,desc:k,style:MLe}),this.renderClipPath(),XI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);xt(x,"displayName",n),xt(x,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xt(x,"getDerivedStateFromProps",function(y,N){var j=y.dataKey,b=y.data,P=y.children,C=y.width,A=y.height,_=y.layout,E=y.stackOffset,O=y.margin,I=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var k=$3(y);return Pe(Pe(Pe({},k),{},{updateId:0},g(Pe(Pe({props:y},k),{},{updateId:0}),N)),{},{prevDataKey:j,prevData:b,prevWidth:C,prevHeight:A,prevLayout:_,prevStackOffset:E,prevMargin:O,prevChildren:P})}if(j!==N.prevDataKey||b!==N.prevData||C!==N.prevWidth||A!==N.prevHeight||_!==N.prevLayout||E!==N.prevStackOffset||!Ah(O,N.prevMargin)){var F=$3(y),$={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},Q=Pe(Pe({},I3(N,b,_)),{},{updateId:N.updateId+1}),U=Pe(Pe(Pe({},F),$),Q);return Pe(Pe(Pe({},U),g(Pe({props:y},U),N)),{},{prevDataKey:j,prevData:b,prevWidth:C,prevHeight:A,prevLayout:_,prevStackOffset:E,prevMargin:O,prevChildren:P})}if(!G2(P,N.prevChildren)){var ie,L,z,le,pe=di(P,yf),ee=pe&&(ie=(L=pe.props)===null||L===void 0?void 0:L.startIndex)!==null&&ie!==void 0?ie:I,J=pe&&(z=(le=pe.props)===null||le===void 0?void 0:le.endIndex)!==null&&z!==void 0?z:D,te=ee!==I||J!==D,xe=!wt(b),ve=xe&&!te?N.updateId:N.updateId+1;return Pe(Pe({updateId:ve},g(Pe(Pe({props:y},N),{},{updateId:ve,dataStartIndex:ee,dataEndIndex:J}),N)),{},{prevChildren:P,dataStartIndex:ee,dataEndIndex:J})}return null}),xt(x,"renderActiveDot",function(y,N,j){var b;return w.isValidElement(y)?b=w.cloneElement(y,N):yt(y)?b=y(N):b=q.createElement(Nv,N),q.createElement(Yt,{className:"recharts-active-dot",key:j},b)});var v=w.forwardRef(function(N,j){return q.createElement(x,gh({},N,{ref:j}))});return v.displayName=x.displayName,v},L3=Mw({chartName:"LineChart",GraphicalChild:Pf,axisComponents:[{axisType:"xAxis",AxisComp:Da},{axisType:"yAxis",AxisComp:Ma}],formatAxisMap:Sk}),qLe=Mw({chartName:"BarChart",GraphicalChild:no,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Da},{axisType:"yAxis",AxisComp:Ma}],formatAxisMap:Sk}),Mk=Mw({chartName:"PieChart",GraphicalChild:La,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Cw},{axisType:"radiusAxis",AxisComp:Nw}],formatAxisMap:vTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Ik=Mw({chartName:"AreaChart",GraphicalChild:Xi,axisComponents:[{axisType:"xAxis",AxisComp:Da},{axisType:"yAxis",AxisComp:Ma}],formatAxisMap:Sk});function WLe({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:s}=ft(),{toast:i}=Ut(),[a,o]=w.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=w.useState([]);w.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=y=>{o(N=>({...N,[y.target.id]:y.target.value}))},d=(y,N)=>{o(j=>({...j,[y]:N}))},f=(y,N,j)=>{const b=[...l];b[y]={...b[y],[N]:N==="quantity"||N==="refills"||N==="cost"?Number(j):j},c(b)},m=()=>{const y=Math.max(...l.map(N=>N.id),0)+1;c([...l,{id:y,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprims",refills:0,cost:0}])},g=y=>{l.length>1&&c(l.filter((N,j)=>j!==y))},x=y=>{if(y.preventDefault(),!n)return;const N=l.filter(j=>j.name.trim()!=="");if(N.length===0){i({title:"Erreur",description:"Au moins un mdicament doit tre spcifi.",variant:"destructive"});return}s(n.id,{date:a.date,prescribedBy:a.prescribedBy,diagnosis:a.diagnosis,medications:N,instructions:a.instructions,duration:a.duration,followUpDate:a.followUpDate||void 0,status:a.status,notes:a.notes}),i({title:"Prescription mise  jour",description:"La prescription a t modifie avec succs."}),t(!1)},v=()=>l.reduce((y,N)=>y+(N.cost||0),0);return n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(Ho,{className:"h-5 w-5"}),"Modifier la Prescription"]}),r.jsxs(Cn,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"date",children:"Date de prescription *"}),r.jsx(se,{id:"date",type:"date",value:a.date,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"prescribedBy",children:"Prescrit par *"}),r.jsx(se,{id:"prescribedBy",value:a.prescribedBy,onChange:u,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"diagnosis",children:"Diagnostic *"}),r.jsx(se,{id:"diagnosis",value:a.diagnosis,onChange:u,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"duration",children:"Dure du traitement"}),r.jsx(se,{id:"duration",value:a.duration,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"followUpDate",children:"Date de suivi"}),r.jsx(se,{id:"followUpDate",type:"date",value:a.followUpDate,onChange:u,min:a.date})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Statut"}),r.jsxs($e,{value:a.status,onValueChange:y=>d("status",y),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"active",children:"Active"}),r.jsx(Y,{value:"completed",children:"Termine"}),r.jsx(Y,{value:"discontinued",children:"Arrte"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(V,{className:"text-base font-medium",children:"Mdicaments prescrits"}),r.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:m,className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Ajouter mdicament"]})]}),r.jsx("div",{className:"space-y-4",children:l.map((y,N)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Mdicament ",N+1]}),l.length>1&&r.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>g(N),className:"text-red-600 hover:text-red-700",children:r.jsx(zn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Nom du mdicament *"}),r.jsx(se,{value:y.name,onChange:j=>f(N,"name",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Dosage *"}),r.jsx(se,{value:y.dosage,onChange:j=>f(N,"dosage",j.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Frquence *"}),r.jsx(se,{value:y.frequency,onChange:j=>f(N,"frequency",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Dure"}),r.jsx(se,{value:y.duration,onChange:j=>f(N,"duration",j.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Quantit"}),r.jsx(se,{type:"number",value:y.quantity,onChange:j=>f(N,"quantity",parseInt(j.target.value)),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Unit"}),r.jsxs($e,{value:y.unit,onValueChange:j=>f(N,"unit",j),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"comprims",children:"Comprims"}),r.jsx(Y,{value:"ml",children:"ml"}),r.jsx(Y,{value:"g",children:"g"}),r.jsx(Y,{value:"mg",children:"mg"}),r.jsx(Y,{value:"ampoules",children:"Ampoules"}),r.jsx(Y,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Cot ()"}),r.jsx(se,{type:"number",step:"0.01",value:y.cost,onChange:j=>f(N,"cost",parseFloat(j.target.value)),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Instructions spcifiques"}),r.jsx(se,{value:y.instructions,onChange:j=>f(N,"instructions",j.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Renouvellements"}),r.jsx(se,{type:"number",value:y.refills,onChange:j=>f(N,"refills",parseInt(j.target.value)),min:"0"})]})]})]},y.id))}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(Oe,{variant:"outline",className:"text-lg px-4 py-2",children:["Cot total: ",v().toFixed(2),""]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"instructions",children:"Instructions gnrales"}),r.jsx(St,{id:"instructions",value:a.instructions,onChange:u,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:a.notes,onChange:u,rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(H,{type:"submit",className:"gap-2",children:[r.jsx(wp,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const HLe="vetpro-veterinarians";function j_({prescription:e}){const{settings:t}=Wt();JSON.parse(localStorage.getItem(HLe)||"[]");const n=e.prescribedBy,s=()=>{const i=window.open("","_blank");if(!i)return;const a=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tl: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propritaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Dure du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Mdicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Dure</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantit</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Cot</th>
                      <td>${o.cost.toFixed(2)}</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Cot total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions gnrales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prvue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vtrinaire</p>
            <p><small>Cette prescription est valable pour la dure du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;i.document.write(a),i.document.close(),i.focus(),i.print(),i.close()};return r.jsxs(H,{size:"sm",variant:"outline",onClick:s,className:"gap-2",children:[r.jsx(_A,{className:"h-4 w-4"}),"Gnrer Ordonnance"]})}const GLe={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},KLe={active:"Active",completed:"Termine",discontinued:"Arrte"};function t9({petId:e,consultationId:t}){const{prescriptions:n,getPrescriptionsByPetId:s,getPrescriptionsByConsultationId:i,deletePrescription:a}=ft(),{toast:o}=Ut(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),g=t?i(t):s(e),x=j=>{m(j),d(!0)},v=j=>{confirm(`tes-vous sr de vouloir supprimer la prescription pour ${j.medications.map(b=>b.name).join(", ")} ?`)&&(a(j.id),o({title:"Prescription supprime",description:"La prescription a t supprime avec succs."}))},y=j=>{switch(j){case"active":return r.jsx(Ri,{className:"h-4 w-4 text-green-600"});case"completed":return r.jsx(Zn,{className:"h-4 w-4 text-gray-600"});case"discontinued":return r.jsx(Qp,{className:"h-4 w-4 text-red-600"});default:return r.jsx(In,{className:"h-4 w-4 text-gray-600"})}},N=j=>j.reduce((b,P)=>b+(P.cost||0),0);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Ho,{className:"h-5 w-5"}),"Prescriptions (",g.length,")"]}),r.jsxs(H,{size:"sm",onClick:()=>c(!0),className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),g.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Ho,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune prescription trouve"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer une nouvelle prescription"})]})}):r.jsx("div",{className:"space-y-4",children:g.sort((j,b)=>new Date(b.date).getTime()-new Date(j.date).getTime()).map(j=>r.jsxs(he,{className:"card-hover",children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[y(j.status),r.jsx(Oe,{className:GLe[j.status],children:KLe[j.status]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx(kt,{className:"h-4 w-4 inline mr-1"}),new Date(j.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(j_,{prescription:j}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>x(j),className:"h-8 w-8 p-0",title:"Modifier",children:r.jsx(nn,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>v(j),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:r.jsx(zn,{className:"h-3 w-3"})})]})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prescrit par:"}),r.jsx("p",{className:"text-muted-foreground",children:j.prescribedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-muted-foreground",children:j.diagnosis})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dure:"}),r.jsx("p",{className:"text-muted-foreground",children:j.duration})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Cot total:"}),r.jsxs("p",{className:"text-muted-foreground",children:[N(j.medications).toFixed(2),""]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Mdicaments prescrits:"}),r.jsx("div",{className:"space-y-3",children:j.medications.map(b=>r.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Posologie:"})," ",b.dosage," - ",b.frequency]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Dure:"})," ",b.duration]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Quantit:"})," ",b.quantity," ",b.unit]}),b.refills&&b.refills>0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Renouvellements:"})," ",b.refills]}),b.instructions&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Instructions:"})," ",b.instructions]})]}),b.cost&&r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"font-medium",children:[b.cost.toFixed(2),""]})})]})},b.id))})]}),j.instructions&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Instructions gnrales:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.instructions})]}),j.followUpDate&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Suivi prvu:"}),r.jsx("span",{className:"text-muted-foreground",children:new Date(j.followUpDate).toLocaleDateString("fr-FR")})]}),j.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.notes})]})]})]},j.id))})]}),r.jsx(zb,{open:l,onOpenChange:c,petId:e,consultationId:t}),r.jsx(WLe,{open:u,onOpenChange:d,prescription:f})]})}var n9={exports:{}};(function(e,t){(function(n,s){e.exports=s(w)})(typeof self<"u"?self:or,function(n){return function(){var s={155:function(N){N.exports=n}},i={};function a(N){var j=i[N];if(j!==void 0)return j.exports;var b=i[N]={exports:{}};return s[N](b,b.exports,a),b.exports}a.d=function(N,j){for(var b in j)a.o(j,b)&&!a.o(N,b)&&Object.defineProperty(N,b,{enumerable:!0,get:j[b]})},a.o=function(N,j){return Object.prototype.hasOwnProperty.call(N,j)},a.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return y}});var l=a(155);function c({level:N="error",messages:j,suppressErrors:b=!1}){b||(N==="error"?console.error(j):N==="warning"?console.warn(j):console.debug(j))}function u(N,j){if(j||!N){const b=document.getElementById("printWindow");b&&document.body.removeChild(b)}}function d(N){return N instanceof Error?N:new Error("Unknown Error")}function f(N,j){const{documentTitle:b,onAfterPrint:P,onPrintError:C,preserveAfterPrint:A,print:_,suppressErrors:E}=j;setTimeout(()=>{var O,I;if(N.contentWindow){let k=function(){P==null||P(),u(A)};var D=k;if(N.contentWindow.focus(),_)_(N).then(k).catch(F=>{C?C("print",d(F)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(N.contentWindow.print){const F=(I=(O=N.contentDocument)===null||O===void 0?void 0:O.title)!==null&&I!==void 0?I:"",$=N.ownerDocument.title;b&&(N.ownerDocument.title=b,N.contentDocument&&(N.contentDocument.title=b)),N.contentWindow.print(),b&&(N.ownerDocument.title=$,N.contentDocument&&(N.contentDocument.title=F))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(F=>{var $,Q;return((Q=($=navigator.userAgent)!==null&&$!==void 0?$:navigator.vendor)!==null&&Q!==void 0?Q:"opera"in window&&window.opera).match(F)})?setTimeout(k,500):k()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function m(N){const j=[],b=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let P=b.nextNode();for(;P;)j.push(P),P=b.nextNode();return j}function g(N,j,b){const P=m(N),C=m(j);if(P.length===C.length)for(let A=0;A<P.length;A++){const _=P[A],E=C[A],O=_.shadowRoot;if(O!==null){const I=E.attachShadow({mode:O.mode});I.innerHTML=O.innerHTML,g(O,I,b)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,j],suppressErrors:b})}const x=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function v(N,j,b,P){var C,A,_,E,O;const{contentNode:I,clonedContentNode:D,clonedImgNodes:k,clonedVideoNodes:F,numResourcesToLoad:$,originalCanvasNodes:Q}=b,{bodyClass:U,fonts:ie,ignoreGlobalStyles:L,pageStyle:z,nonce:le,suppressErrors:pe,copyShadowRoots:ee}=P;N.onload=null;const J=(C=N.contentDocument)!==null&&C!==void 0?C:(A=N.contentWindow)===null||A===void 0?void 0:A.document;if(J){const te=J.body.appendChild(D);ee&&g(I,te,!!pe),ie&&(!((_=N.contentDocument)===null||_===void 0)&&_.fonts&&(!((E=N.contentWindow)===null||E===void 0)&&E.FontFace)?ie.forEach(Z=>{const M=new FontFace(Z.family,Z.source,{weight:Z.weight,style:Z.style});N.contentDocument.fonts.add(M),M.loaded.then(()=>{j(M)}).catch(je=>{j(M,["Failed loading the font:",M,"Load error:",d(je)])})}):(ie.forEach(Z=>{j(Z)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:pe})));const xe=z??x,ve=J.createElement("style");le&&(ve.setAttribute("nonce",le),J.head.setAttribute("nonce",le)),ve.appendChild(J.createTextNode(xe)),J.head.appendChild(ve),U&&J.body.classList.add(...U.split(" "));const re=J.querySelectorAll("canvas");for(let Z=0;Z<Q.length;++Z){const M=Q[Z],je=re[Z];if(je===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",M],suppressErrors:pe});continue}const we=je.getContext("2d");we&&we.drawImage(M,0,0)}for(let Z=0;Z<k.length;Z++){const M=k[Z],je=M.getAttribute("src");if(je){const we=new Image;we.onload=()=>{j(M)},we.onerror=(Fe,Be,at,lt,ut)=>{j(M,["Error loading <img>",M,"Error",ut])},we.src=je}else j(M,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',M])}for(let Z=0;Z<F.length;Z++){const M=F[Z];M.preload="auto";const je=M.getAttribute("poster");if(je){const we=new Image;we.onload=()=>{j(M)},we.onerror=(Fe,Be,at,lt,ut)=>{j(M,["Error loading video poster",je,"for video",M,"Error:",ut])},we.src=je}else M.readyState>=2?j(M):M.src?(M.onloadeddata=()=>{j(M)},M.onerror=(we,Fe,Be,at,lt)=>{j(M,["Error loading video",M,"Error",lt])},M.onstalled=()=>{j(M,["Loading video stalled, skipping",M])}):j(M,["Error loading video, `src` is empty",M])}const B="select",X=I.querySelectorAll(B),ye=J.querySelectorAll(B);for(let Z=0;Z<X.length;Z++)ye[Z].value=X[Z].value;if(!L){const Z=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let M=0,je=Z.length;M<je;++M){const we=Z[M];if(we.tagName.toLowerCase()==="style"){const Fe=J.createElement(we.tagName),Be=we.sheet;if(Be){let at="";try{const lt=Be.cssRules.length;for(let ut=0;ut<lt;++ut)typeof Be.cssRules[ut].cssText=="string"&&(at+=`${Be.cssRules[ut].cssText}\r
`)}catch(lt){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",we,`Original error: ${d(lt).message}`],level:"warning"})}Fe.setAttribute("id",`react-to-print-${M}`),le&&Fe.setAttribute("nonce",le),Fe.appendChild(J.createTextNode(at)),J.head.appendChild(Fe)}}else if(we.getAttribute("href"))if(we.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",we],level:"warning"}),j(we);else{const Fe=J.createElement(we.tagName);for(let Be=0,at=we.attributes.length;Be<at;++Be){const lt=we.attributes[Be];lt&&Fe.setAttribute(lt.nodeName,(O=lt.nodeValue)!==null&&O!==void 0?O:"")}Fe.onload=()=>{j(Fe)},Fe.onerror=(Be,at,lt,ut,Ne)=>{j(Fe,["Failed to load",Fe,"Error:",Ne])},le&&Fe.setAttribute("nonce",le),J.head.appendChild(Fe)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",we],level:"warning"}),j(we)}}}$===0&&f(N,P)}function y({bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:P,fonts:C,ignoreGlobalStyles:A,nonce:_,onAfterPrint:E,onBeforePrint:O,onPrintError:I,pageStyle:D,preserveAfterPrint:k,print:F,suppressErrors:$}){return(0,l.useCallback)(Q=>{function U(){const ie={bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:P,fonts:C,ignoreGlobalStyles:A,nonce:_,onAfterPrint:E,onBeforePrint:O,onPrintError:I,pageStyle:D,preserveAfterPrint:k,print:F,suppressErrors:$},L=function(){const pe=document.createElement("iframe");return pe.width=`${document.documentElement.clientWidth}px`,pe.height=`${document.documentElement.clientHeight}px`,pe.style.position="absolute",pe.style.top=`-${document.documentElement.clientHeight+100}px`,pe.style.left=`-${document.documentElement.clientWidth+100}px`,pe.id="printWindow",pe.srcdoc="<!DOCTYPE html>",pe}(),z=function(pe,ee){const{contentRef:J,fonts:te,ignoreGlobalStyles:xe,suppressErrors:ve}=ee,re=function({contentRef:je,optionalContent:we,suppressErrors:Fe}){return we&&typeof we=="function"?(je&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),we()):je?je.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Fe})}({contentRef:J,optionalContent:pe,suppressErrors:ve});if(!re)return;const B=re.cloneNode(!0),X=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ye=B.querySelectorAll("img"),Z=B.querySelectorAll("video"),M=te?te.length:0;return{contentNode:re,clonedContentNode:B,clonedImgNodes:ye,clonedVideoNodes:Z,numResourcesToLoad:(xe?0:X.length)+ye.length+Z.length+M,originalCanvasNodes:re.querySelectorAll("canvas")}}(Q,ie);if(!z)return void c({messages:["There is nothing to print"],suppressErrors:$});const le=function(pe,ee,J){const{suppressErrors:te}=pe,xe=[],ve=[];return function(re,B){xe.includes(re)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",re],suppressErrors:te}):(B?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...B],suppressErrors:te}),ve.push(re)):xe.push(re),xe.length+ve.length===ee&&f(J,pe))}}(ie,z.numResourcesToLoad,L);(function(pe,ee,J,te){pe.onload=()=>{v(pe,ee,J,te)},document.body.appendChild(pe)})(L,le,z,ie)}u(k,!0),O?O().then(()=>{U()}).catch(ie=>{I==null||I("onBeforePrint",d(ie))}):U()},[N,j,b,P,C,A,_,E,O,I,D,k,F,$])}return o}()})})(n9);var $k=n9.exports,YLe=Object.defineProperty,Oj=Object.getOwnPropertySymbols,r9=Object.prototype.hasOwnProperty,s9=Object.prototype.propertyIsEnumerable,F3=(e,t,n)=>t in e?YLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b_=(e,t)=>{for(var n in t||(t={}))r9.call(t,n)&&F3(e,n,t[n]);if(Oj)for(var n of Oj(t))s9.call(t,n)&&F3(e,n,t[n]);return e},w_=(e,t)=>{var n={};for(var s in e)r9.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Oj)for(var s of Oj(e))t.indexOf(s)<0&&s9.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var td;(e=>{const t=class Gt{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Gt.MIN_VERSION||c>Gt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),f==-1){let x=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<x&&(f=v,x=y),this.applyMask(v)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Gt.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Gt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,g=!0){if(!(Gt.MIN_VERSION<=d&&d<=f&&f<=Gt.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,v;for(x=d;;x++){const b=Gt.getNumDataCodewords(x,u)*8,P=o.getTotalBits(c,x);if(P<=b){v=P;break}if(x>=f)throw new RangeError("Data too long")}for(const b of[Gt.Ecc.MEDIUM,Gt.Ecc.QUARTILE,Gt.Ecc.HIGH])g&&v<=Gt.getNumDataCodewords(x,b)*8&&(u=b);let y=[];for(const b of c){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(x),y);for(const P of b.getData())y.push(P)}i(y.length==v);const N=Gt.getNumDataCodewords(x,u)*8;i(y.length<=N),n(0,Math.min(4,N-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let b=236;y.length<N;b^=253)n(b,8,y);let j=[];for(;j.length*8<y.length;)j.push(0);return y.forEach((b,P)=>j[P>>>3]|=b<<7-(P&7)),new Gt(x,u,j,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,s(f,m));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,s(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,s(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,s(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const f=s(u,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,f),this.setFunctionModule(g,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),g=c+f,x=u+d;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Gt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Gt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Gt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(Gt.getNumRawDataModules(u)/8),x=f-g%f,v=Math.floor(g/f);let y=[];const N=Gt.reedSolomonComputeDivisor(m);for(let b=0,P=0;b<f;b++){let C=c.slice(P,P+v-m+(b<x?0:1));P+=C.length;const A=Gt.reedSolomonComputeRemainder(C,N);b<x&&C.push(0),y.push(C.concat(A))}let j=[];for(let b=0;b<y[0].length;b++)y.forEach((P,C)=>{(b!=v-m||C>=x)&&j.push(P[b])});return i(j.length==g),j}drawCodewords(c){if(c.length!=Math.floor(Gt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const g=d-m,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][g]&&u<c.length*8&&(this.modules[v][g]=s(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[m][y]==g?(x++,x==5?c+=Gt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Gt.PENALTY_N3),g=this.modules[m][y],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Gt.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][m]==g?(x++,x==5?c+=Gt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Gt.PENALTY_N3),g=this.modules[y][m],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Gt.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const x=this.modules[m][g];x==this.modules[m][g+1]&&x==this.modules[m+1][g]&&x==this.modules[m+1][g+1]&&(c+=Gt.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,x)=>g+(x?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=f&&f<=9),c+=f*Gt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Gt.MIN_VERSION||c>Gt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Gt.getNumRawDataModules(c)/8)-Gt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Gt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Gt.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Gt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((g,x)=>d[x]^=Gt.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class rr{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new rr(rr.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!rr.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new rr(rr.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!rr.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=rr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=rr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(rr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new rr(rr.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:rr.isNumeric(c)?[rr.makeNumeric(c)]:rr.isAlphanumeric(c)?[rr.makeAlphanumeric(c)]:[rr.makeBytes(rr.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new rr(rr.Mode.ECI,0,u)}static isNumeric(c){return rr.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return rr.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(td||(td={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(td||(td={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(td||(td={}));var vh=td;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var QLe={L:vh.QrCode.Ecc.LOW,M:vh.QrCode.Ecc.MEDIUM,Q:vh.QrCode.Ecc.QUARTILE,H:vh.QrCode.Ecc.HIGH},i9=128,a9="L",o9="#FFFFFF",l9="#000000",c9=!1,u9=1,XLe=4,JLe=0,ZLe=.1;function d9(e,t=0){const n=[];return e.forEach(function(s,i){let a=null;s.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===s.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function h9(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function eFe(e,t,n,s){if(s==null)return null;const i=e.length+n*2,a=Math.floor(t*ZLe),o=i/t,l=(s.width||a)*o,c=(s.height||a)*o,u=s.x==null?e.length/2-l/2:s.x*o,d=s.y==null?e.length/2-c/2:s.y*o,f=s.opacity==null?1:s.opacity;let m=null;if(s.excavate){let x=Math.floor(u),v=Math.floor(d),y=Math.ceil(l+u-x),N=Math.ceil(c+d-v);m={x,y:v,w:y,h:N}}const g=s.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:g}}function tFe(e,t){return t!=null?Math.max(Math.floor(t),0):e?XLe:JLe}function f9({value:e,level:t,minVersion:n,includeMargin:s,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=q.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((v,y)=>(v.push(...vh.QrSegment.makeSegments(y)),v),[]);return vh.QrCode.encodeSegments(x,QLe[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=q.useMemo(()=>{let g=c.getModules();const x=tFe(s,i),v=g.length+x*2,y=eFe(g,o,x,a);return{cells:g,margin:x,numCells:v,calculatedImageSettings:y}},[c,o,a,s,i]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var nFe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),m9=q.forwardRef(function(t,n){const s=t,{value:i,size:a=i9,level:o=a9,bgColor:l=o9,fgColor:c=l9,includeMargin:u=c9,minVersion:d=u9,boostLevel:f,marginSize:m,imageSettings:g}=s,v=w_(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=v,N=w_(v,["style"]),j=g==null?void 0:g.src,b=q.useRef(null),P=q.useRef(null),C=q.useCallback($=>{b.current=$,typeof n=="function"?n($):n&&(n.current=$)},[n]),[A,_]=q.useState(!1),{margin:E,cells:O,numCells:I,calculatedImageSettings:D}=f9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:a});q.useEffect(()=>{if(b.current!=null){const $=b.current,Q=$.getContext("2d");if(!Q)return;let U=O;const ie=P.current,L=D!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;L&&D.excavation!=null&&(U=h9(O,D.excavation));const z=window.devicePixelRatio||1;$.height=$.width=a*z;const le=a/I*z;Q.scale(le,le),Q.fillStyle=l,Q.fillRect(0,0,I,I),Q.fillStyle=c,nFe?Q.fill(new Path2D(d9(U,E))):O.forEach(function(pe,ee){pe.forEach(function(J,te){J&&Q.fillRect(te+E,ee+E,1,1)})}),D&&(Q.globalAlpha=D.opacity),L&&Q.drawImage(ie,D.x+E,D.y+E,D.w,D.h)}}),q.useEffect(()=>{_(!1)},[j]);const k=b_({height:a,width:a},y);let F=null;return j!=null&&(F=q.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{_(!0)},ref:P,crossOrigin:D==null?void 0:D.crossOrigin})),q.createElement(q.Fragment,null,q.createElement("canvas",b_({style:k,height:a,width:a,ref:C,role:"img"},N)),F)});m9.displayName="QRCodeCanvas";var rFe=q.forwardRef(function(t,n){const s=t,{value:i,size:a=i9,level:o=a9,bgColor:l=o9,fgColor:c=l9,includeMargin:u=c9,minVersion:d=u9,boostLevel:f,title:m,marginSize:g,imageSettings:x}=s,v=w_(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:N,numCells:j,calculatedImageSettings:b}=f9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:x,size:a});let P=N,C=null;x!=null&&b!=null&&(b.excavation!=null&&(P=h9(N,b.excavation)),C=q.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const A=d9(P,y);return q.createElement("svg",b_({height:a,width:a,viewBox:`0 0 ${j} ${j}`,ref:n,role:"img"},v),!!m&&q.createElement("title",null,m),q.createElement("path",{fill:l,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),q.createElement("path",{fill:c,d:A,shapeRendering:"crispEdges"}),C)});rFe.displayName="QRCodeSVG";var Dj={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Dj.exports;(function(e,t){(function(){var n,s="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,m=2,g=4,x=1,v=2,y=1,N=2,j=4,b=8,P=16,C=32,A=64,_=128,E=256,O=512,I=30,D="...",k=800,F=16,$=1,Q=2,U=3,ie=1/0,L=9007199254740991,z=17976931348623157e292,le=NaN,pe=4294967295,ee=pe-1,J=pe>>>1,te=[["ary",_],["bind",y],["bindKey",N],["curry",b],["curryRight",P],["flip",O],["partial",C],["partialRight",A],["rearg",E]],xe="[object Arguments]",ve="[object Array]",re="[object AsyncFunction]",B="[object Boolean]",X="[object Date]",ye="[object DOMException]",Z="[object Error]",M="[object Function]",je="[object GeneratorFunction]",we="[object Map]",Fe="[object Number]",Be="[object Null]",at="[object Object]",lt="[object Promise]",ut="[object Proxy]",Ne="[object RegExp]",Ge="[object Set]",Ke="[object String]",qt="[object Symbol]",Kn="[object Undefined]",Pt="[object WeakMap]",jn="[object WeakSet]",lr="[object ArrayBuffer]",Yn="[object DataView]",ms="[object Float32Array]",Se="[object Float64Array]",zt="[object Int8Array]",nt="[object Int16Array]",mt="[object Int32Array]",rn="[object Uint8Array]",rs="[object Uint8ClampedArray]",qr="[object Uint16Array]",Is="[object Uint32Array]",ml=/\b__p \+= '';/g,oe=/\b(__p \+=) '' \+/g,We=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,_n=/[&<>"']/g,Qn=RegExp(Le.source),ta=RegExp(_n.source),jt=/<%-([\s\S]+?)%>/g,on=/<%([\s\S]+?)%>/g,mn=/<%=([\s\S]+?)%>/g,ps=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gs=/^\w*$/,Si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ti=/[\\^$.*+?()[\]{}|]/g,vs=RegExp(ti.source),$s=/^\s+/,$w=/\s/,Rw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lw=/\{\n\/\* \[wrapped with (.+)\] \*/,Fw=/,? & /,Bw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zw=/[()=,{}\[\]\/\s]/,Vw=/\\(\\)?/g,Uw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sv=/\w*$/,qw=/^[-+]0x[0-9a-f]+$/i,Ww=/^0b[01]+$/i,Hw=/^\[object .+?Constructor\]$/,dm=/^0o[0-7]+$/i,vd=/^(?:0|[1-9]\d*)$/,Gw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xo=/($^)/,Kw=/['\n\r\u2028\u2029\\]/g,xd="\\ud800-\\udfff",Yw="\\u0300-\\u036f",Qw="\\ufe20-\\ufe2f",Xw="\\u20d0-\\u20ff",Cv=Yw+Qw+Xw,Pv="\\u2700-\\u27bf",_v="a-z\\xdf-\\xf6\\xf8-\\xff",Jw="\\xac\\xb1\\xd7\\xf7",Zw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",e1="\\u2000-\\u206f",t1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Av="A-Z\\xc0-\\xd6\\xd8-\\xde",Ev="\\ufe0e\\ufe0f",kv=Jw+Zw+e1+t1,hm="[']",pl="["+xd+"]",Tv="["+kv+"]",yd="["+Cv+"]",jd="\\d+",fm="["+Pv+"]",Ov="["+_v+"]",ne="[^"+xd+kv+jd+Pv+_v+Av+"]",K="\\ud83c[\\udffb-\\udfff]",ue="(?:"+yd+"|"+K+")",me="[^"+xd+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Av+"]",et="\\u200d",pn="(?:"+Ov+"|"+ne+")",sn="(?:"+ze+"|"+ne+")",dt="(?:"+hm+"(?:d|ll|m|re|s|t|ve))?",$n="(?:"+hm+"(?:D|LL|M|RE|S|T|VE))?",Wr=ue+"?",na="["+Ev+"]?",Fa="(?:"+et+"(?:"+[me,qe,Je].join("|")+")"+na+Wr+")*",bd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",mm=na+Wr+Fa,r1="(?:"+[fm,qe,Je].join("|")+")"+mm,s1="(?:"+[me+yd+"?",yd,qe,Je,pl].join("|")+")",i1=RegExp(hm,"g"),a1=RegExp(yd,"g"),pm=RegExp(K+"(?="+K+")|"+s1+mm,"g"),o1=RegExp([ze+"?"+Ov+"+"+dt+"(?="+[Tv,ze,"$"].join("|")+")",sn+"+"+$n+"(?="+[Tv,ze+pn,"$"].join("|")+")",ze+"?"+pn+"+"+dt,ze+"+"+$n,n1,bd,jd,r1].join("|"),"g"),l1=RegExp("["+et+xd+Cv+Ev+"]"),c1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,u1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],d1=-1,Nn={};Nn[ms]=Nn[Se]=Nn[zt]=Nn[nt]=Nn[mt]=Nn[rn]=Nn[rs]=Nn[qr]=Nn[Is]=!0,Nn[xe]=Nn[ve]=Nn[lr]=Nn[B]=Nn[Yn]=Nn[X]=Nn[Z]=Nn[M]=Nn[we]=Nn[Fe]=Nn[at]=Nn[Ne]=Nn[Ge]=Nn[Ke]=Nn[Pt]=!1;var bn={};bn[xe]=bn[ve]=bn[lr]=bn[Yn]=bn[B]=bn[X]=bn[ms]=bn[Se]=bn[zt]=bn[nt]=bn[mt]=bn[we]=bn[Fe]=bn[at]=bn[Ne]=bn[Ge]=bn[Ke]=bn[qt]=bn[rn]=bn[rs]=bn[qr]=bn[Is]=!0,bn[Z]=bn[M]=bn[Pt]=!1;var h1={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Lk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},P9=parseFloat,_9=parseInt,Fk=typeof or=="object"&&or&&or.Object===Object&&or,A9=typeof self=="object"&&self&&self.Object===Object&&self,Hr=Fk||A9||Function("return this")(),m1=t&&!t.nodeType&&t,zc=m1&&!0&&e&&!e.nodeType&&e,Bk=zc&&zc.exports===m1,p1=Bk&&Fk.process,Ci=function(){try{var ge=zc&&zc.require&&zc.require("util").types;return ge||p1&&p1.binding&&p1.binding("util")}catch{}}(),zk=Ci&&Ci.isArrayBuffer,Vk=Ci&&Ci.isDate,Uk=Ci&&Ci.isMap,qk=Ci&&Ci.isRegExp,Wk=Ci&&Ci.isSet,Hk=Ci&&Ci.isTypedArray;function ni(ge,_e,Ce){switch(Ce.length){case 0:return ge.call(_e);case 1:return ge.call(_e,Ce[0]);case 2:return ge.call(_e,Ce[0],Ce[1]);case 3:return ge.call(_e,Ce[0],Ce[1],Ce[2])}return ge.apply(_e,Ce)}function E9(ge,_e,Ce,tt){for(var _t=-1,cn=ge==null?0:ge.length;++_t<cn;){var wr=ge[_t];_e(tt,wr,Ce(wr),ge)}return tt}function Pi(ge,_e){for(var Ce=-1,tt=ge==null?0:ge.length;++Ce<tt&&_e(ge[Ce],Ce,ge)!==!1;);return ge}function k9(ge,_e){for(var Ce=ge==null?0:ge.length;Ce--&&_e(ge[Ce],Ce,ge)!==!1;);return ge}function Gk(ge,_e){for(var Ce=-1,tt=ge==null?0:ge.length;++Ce<tt;)if(!_e(ge[Ce],Ce,ge))return!1;return!0}function gl(ge,_e){for(var Ce=-1,tt=ge==null?0:ge.length,_t=0,cn=[];++Ce<tt;){var wr=ge[Ce];_e(wr,Ce,ge)&&(cn[_t++]=wr)}return cn}function Mv(ge,_e){var Ce=ge==null?0:ge.length;return!!Ce&&wd(ge,_e,0)>-1}function g1(ge,_e,Ce){for(var tt=-1,_t=ge==null?0:ge.length;++tt<_t;)if(Ce(_e,ge[tt]))return!0;return!1}function qn(ge,_e){for(var Ce=-1,tt=ge==null?0:ge.length,_t=Array(tt);++Ce<tt;)_t[Ce]=_e(ge[Ce],Ce,ge);return _t}function vl(ge,_e){for(var Ce=-1,tt=_e.length,_t=ge.length;++Ce<tt;)ge[_t+Ce]=_e[Ce];return ge}function v1(ge,_e,Ce,tt){var _t=-1,cn=ge==null?0:ge.length;for(tt&&cn&&(Ce=ge[++_t]);++_t<cn;)Ce=_e(Ce,ge[_t],_t,ge);return Ce}function T9(ge,_e,Ce,tt){var _t=ge==null?0:ge.length;for(tt&&_t&&(Ce=ge[--_t]);_t--;)Ce=_e(Ce,ge[_t],_t,ge);return Ce}function x1(ge,_e){for(var Ce=-1,tt=ge==null?0:ge.length;++Ce<tt;)if(_e(ge[Ce],Ce,ge))return!0;return!1}var O9=y1("length");function D9(ge){return ge.split("")}function M9(ge){return ge.match(Bw)||[]}function Kk(ge,_e,Ce){var tt;return Ce(ge,function(_t,cn,wr){if(_e(_t,cn,wr))return tt=cn,!1}),tt}function Iv(ge,_e,Ce,tt){for(var _t=ge.length,cn=Ce+(tt?1:-1);tt?cn--:++cn<_t;)if(_e(ge[cn],cn,ge))return cn;return-1}function wd(ge,_e,Ce){return _e===_e?H9(ge,_e,Ce):Iv(ge,Yk,Ce)}function I9(ge,_e,Ce,tt){for(var _t=Ce-1,cn=ge.length;++_t<cn;)if(tt(ge[_t],_e))return _t;return-1}function Yk(ge){return ge!==ge}function Qk(ge,_e){var Ce=ge==null?0:ge.length;return Ce?b1(ge,_e)/Ce:le}function y1(ge){return function(_e){return _e==null?n:_e[ge]}}function j1(ge){return function(_e){return ge==null?n:ge[_e]}}function Xk(ge,_e,Ce,tt,_t){return _t(ge,function(cn,wr,Sn){Ce=tt?(tt=!1,cn):_e(Ce,cn,wr,Sn)}),Ce}function $9(ge,_e){var Ce=ge.length;for(ge.sort(_e);Ce--;)ge[Ce]=ge[Ce].value;return ge}function b1(ge,_e){for(var Ce,tt=-1,_t=ge.length;++tt<_t;){var cn=_e(ge[tt]);cn!==n&&(Ce=Ce===n?cn:Ce+cn)}return Ce}function w1(ge,_e){for(var Ce=-1,tt=Array(ge);++Ce<ge;)tt[Ce]=_e(Ce);return tt}function R9(ge,_e){return qn(_e,function(Ce){return[Ce,ge[Ce]]})}function Jk(ge){return ge&&ge.slice(0,nT(ge)+1).replace($s,"")}function ri(ge){return function(_e){return ge(_e)}}function N1(ge,_e){return qn(_e,function(Ce){return ge[Ce]})}function gm(ge,_e){return ge.has(_e)}function Zk(ge,_e){for(var Ce=-1,tt=ge.length;++Ce<tt&&wd(_e,ge[Ce],0)>-1;);return Ce}function eT(ge,_e){for(var Ce=ge.length;Ce--&&wd(_e,ge[Ce],0)>-1;);return Ce}function L9(ge,_e){for(var Ce=ge.length,tt=0;Ce--;)ge[Ce]===_e&&++tt;return tt}var F9=j1(h1),B9=j1(Lk);function z9(ge){return"\\"+f1[ge]}function V9(ge,_e){return ge==null?n:ge[_e]}function Nd(ge){return l1.test(ge)}function U9(ge){return c1.test(ge)}function q9(ge){for(var _e,Ce=[];!(_e=ge.next()).done;)Ce.push(_e.value);return Ce}function S1(ge){var _e=-1,Ce=Array(ge.size);return ge.forEach(function(tt,_t){Ce[++_e]=[_t,tt]}),Ce}function tT(ge,_e){return function(Ce){return ge(_e(Ce))}}function xl(ge,_e){for(var Ce=-1,tt=ge.length,_t=0,cn=[];++Ce<tt;){var wr=ge[Ce];(wr===_e||wr===d)&&(ge[Ce]=d,cn[_t++]=Ce)}return cn}function $v(ge){var _e=-1,Ce=Array(ge.size);return ge.forEach(function(tt){Ce[++_e]=tt}),Ce}function W9(ge){var _e=-1,Ce=Array(ge.size);return ge.forEach(function(tt){Ce[++_e]=[tt,tt]}),Ce}function H9(ge,_e,Ce){for(var tt=Ce-1,_t=ge.length;++tt<_t;)if(ge[tt]===_e)return tt;return-1}function G9(ge,_e,Ce){for(var tt=Ce+1;tt--;)if(ge[tt]===_e)return tt;return tt}function Sd(ge){return Nd(ge)?Y9(ge):O9(ge)}function ra(ge){return Nd(ge)?Q9(ge):D9(ge)}function nT(ge){for(var _e=ge.length;_e--&&$w.test(ge.charAt(_e)););return _e}var K9=j1(Dv);function Y9(ge){for(var _e=pm.lastIndex=0;pm.test(ge);)++_e;return _e}function Q9(ge){return ge.match(pm)||[]}function X9(ge){return ge.match(o1)||[]}var J9=function ge(_e){_e=_e==null?Hr:Cd.defaults(Hr.Object(),_e,Cd.pick(Hr,u1));var Ce=_e.Array,tt=_e.Date,_t=_e.Error,cn=_e.Function,wr=_e.Math,Sn=_e.Object,C1=_e.RegExp,Z9=_e.String,_i=_e.TypeError,Rv=Ce.prototype,eH=cn.prototype,Pd=Sn.prototype,Lv=_e["__core-js_shared__"],Fv=eH.toString,gn=Pd.hasOwnProperty,tH=0,rT=function(){var h=/[^.]+$/.exec(Lv&&Lv.keys&&Lv.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Bv=Pd.toString,nH=Fv.call(Sn),rH=Hr._,sH=C1("^"+Fv.call(gn).replace(ti,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zv=Bk?_e.Buffer:n,yl=_e.Symbol,Vv=_e.Uint8Array,sT=zv?zv.allocUnsafe:n,Uv=tT(Sn.getPrototypeOf,Sn),iT=Sn.create,aT=Pd.propertyIsEnumerable,qv=Rv.splice,oT=yl?yl.isConcatSpreadable:n,vm=yl?yl.iterator:n,Vc=yl?yl.toStringTag:n,Wv=function(){try{var h=Gc(Sn,"defineProperty");return h({},"",{}),h}catch{}}(),iH=_e.clearTimeout!==Hr.clearTimeout&&_e.clearTimeout,aH=tt&&tt.now!==Hr.Date.now&&tt.now,oH=_e.setTimeout!==Hr.setTimeout&&_e.setTimeout,Hv=wr.ceil,Gv=wr.floor,P1=Sn.getOwnPropertySymbols,lH=zv?zv.isBuffer:n,lT=_e.isFinite,cH=Rv.join,uH=tT(Sn.keys,Sn),Nr=wr.max,ss=wr.min,dH=tt.now,hH=_e.parseInt,cT=wr.random,fH=Rv.reverse,_1=Gc(_e,"DataView"),xm=Gc(_e,"Map"),A1=Gc(_e,"Promise"),_d=Gc(_e,"Set"),ym=Gc(_e,"WeakMap"),jm=Gc(Sn,"create"),Kv=ym&&new ym,Ad={},mH=Kc(_1),pH=Kc(xm),gH=Kc(A1),vH=Kc(_d),xH=Kc(ym),Yv=yl?yl.prototype:n,bm=Yv?Yv.valueOf:n,uT=Yv?Yv.toString:n;function W(h){if(nr(h)&&!Mt(h)&&!(h instanceof Jt)){if(h instanceof Ai)return h;if(gn.call(h,"__wrapped__"))return dO(h)}return new Ai(h)}var Ed=function(){function h(){}return function(p){if(!Xn(p))return{};if(iT)return iT(p);h.prototype=p;var S=new h;return h.prototype=n,S}}();function Qv(){}function Ai(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}W.templateSettings={escape:jt,evaluate:on,interpolate:mn,variable:"",imports:{_:W}},W.prototype=Qv.prototype,W.prototype.constructor=W,Ai.prototype=Ed(Qv.prototype),Ai.prototype.constructor=Ai;function Jt(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function yH(){var h=new Jt(this.__wrapped__);return h.__actions__=Rs(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Rs(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Rs(this.__views__),h}function jH(){if(this.__filtered__){var h=new Jt(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function bH(){var h=this.__wrapped__.value(),p=this.__dir__,S=Mt(h),T=p<0,R=S?h.length:0,G=DG(0,R,this.__views__),ae=G.start,de=G.end,be=de-ae,Ae=T?de:ae-1,ke=this.__iteratees__,Ie=ke.length,Qe=0,ot=ss(be,this.__takeCount__);if(!S||!T&&R==be&&ot==be)return MT(h,this.__actions__);var gt=[];e:for(;be--&&Qe<ot;){Ae+=p;for(var Ft=-1,vt=h[Ae];++Ft<Ie;){var Ht=ke[Ft],en=Ht.iteratee,ai=Ht.type,js=en(vt);if(ai==Q)vt=js;else if(!js){if(ai==$)continue e;break e}}gt[Qe++]=vt}return gt}Jt.prototype=Ed(Qv.prototype),Jt.prototype.constructor=Jt;function Uc(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function wH(){this.__data__=jm?jm(null):{},this.size=0}function NH(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function SH(h){var p=this.__data__;if(jm){var S=p[h];return S===c?n:S}return gn.call(p,h)?p[h]:n}function CH(h){var p=this.__data__;return jm?p[h]!==n:gn.call(p,h)}function PH(h,p){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=jm&&p===n?c:p,this}Uc.prototype.clear=wH,Uc.prototype.delete=NH,Uc.prototype.get=SH,Uc.prototype.has=CH,Uc.prototype.set=PH;function yo(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function _H(){this.__data__=[],this.size=0}function AH(h){var p=this.__data__,S=Xv(p,h);if(S<0)return!1;var T=p.length-1;return S==T?p.pop():qv.call(p,S,1),--this.size,!0}function EH(h){var p=this.__data__,S=Xv(p,h);return S<0?n:p[S][1]}function kH(h){return Xv(this.__data__,h)>-1}function TH(h,p){var S=this.__data__,T=Xv(S,h);return T<0?(++this.size,S.push([h,p])):S[T][1]=p,this}yo.prototype.clear=_H,yo.prototype.delete=AH,yo.prototype.get=EH,yo.prototype.has=kH,yo.prototype.set=TH;function jo(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function OH(){this.size=0,this.__data__={hash:new Uc,map:new(xm||yo),string:new Uc}}function DH(h){var p=cx(this,h).delete(h);return this.size-=p?1:0,p}function MH(h){return cx(this,h).get(h)}function IH(h){return cx(this,h).has(h)}function $H(h,p){var S=cx(this,h),T=S.size;return S.set(h,p),this.size+=S.size==T?0:1,this}jo.prototype.clear=OH,jo.prototype.delete=DH,jo.prototype.get=MH,jo.prototype.has=IH,jo.prototype.set=$H;function qc(h){var p=-1,S=h==null?0:h.length;for(this.__data__=new jo;++p<S;)this.add(h[p])}function RH(h){return this.__data__.set(h,c),this}function LH(h){return this.__data__.has(h)}qc.prototype.add=qc.prototype.push=RH,qc.prototype.has=LH;function sa(h){var p=this.__data__=new yo(h);this.size=p.size}function FH(){this.__data__=new yo,this.size=0}function BH(h){var p=this.__data__,S=p.delete(h);return this.size=p.size,S}function zH(h){return this.__data__.get(h)}function VH(h){return this.__data__.has(h)}function UH(h,p){var S=this.__data__;if(S instanceof yo){var T=S.__data__;if(!xm||T.length<i-1)return T.push([h,p]),this.size=++S.size,this;S=this.__data__=new jo(T)}return S.set(h,p),this.size=S.size,this}sa.prototype.clear=FH,sa.prototype.delete=BH,sa.prototype.get=zH,sa.prototype.has=VH,sa.prototype.set=UH;function dT(h,p){var S=Mt(h),T=!S&&Yc(h),R=!S&&!T&&Sl(h),G=!S&&!T&&!R&&Dd(h),ae=S||T||R||G,de=ae?w1(h.length,Z9):[],be=de.length;for(var Ae in h)(p||gn.call(h,Ae))&&!(ae&&(Ae=="length"||R&&(Ae=="offset"||Ae=="parent")||G&&(Ae=="buffer"||Ae=="byteLength"||Ae=="byteOffset")||So(Ae,be)))&&de.push(Ae);return de}function hT(h){var p=h.length;return p?h[F1(0,p-1)]:n}function qH(h,p){return ux(Rs(h),Wc(p,0,h.length))}function WH(h){return ux(Rs(h))}function E1(h,p,S){(S!==n&&!ia(h[p],S)||S===n&&!(p in h))&&bo(h,p,S)}function wm(h,p,S){var T=h[p];(!(gn.call(h,p)&&ia(T,S))||S===n&&!(p in h))&&bo(h,p,S)}function Xv(h,p){for(var S=h.length;S--;)if(ia(h[S][0],p))return S;return-1}function HH(h,p,S,T){return jl(h,function(R,G,ae){p(T,R,S(R),ae)}),T}function fT(h,p){return h&&za(p,Mr(p),h)}function GH(h,p){return h&&za(p,Fs(p),h)}function bo(h,p,S){p=="__proto__"&&Wv?Wv(h,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[p]=S}function k1(h,p){for(var S=-1,T=p.length,R=Ce(T),G=h==null;++S<T;)R[S]=G?n:uN(h,p[S]);return R}function Wc(h,p,S){return h===h&&(S!==n&&(h=h<=S?h:S),p!==n&&(h=h>=p?h:p)),h}function Ei(h,p,S,T,R,G){var ae,de=p&f,be=p&m,Ae=p&g;if(S&&(ae=R?S(h,T,R,G):S(h)),ae!==n)return ae;if(!Xn(h))return h;var ke=Mt(h);if(ke){if(ae=IG(h),!de)return Rs(h,ae)}else{var Ie=is(h),Qe=Ie==M||Ie==je;if(Sl(h))return RT(h,de);if(Ie==at||Ie==xe||Qe&&!R){if(ae=be||Qe?{}:nO(h),!de)return be?SG(h,GH(ae,h)):NG(h,fT(ae,h))}else{if(!bn[Ie])return R?h:{};ae=$G(h,Ie,de)}}G||(G=new sa);var ot=G.get(h);if(ot)return ot;G.set(h,ae),TO(h)?h.forEach(function(vt){ae.add(Ei(vt,p,S,vt,h,G))}):EO(h)&&h.forEach(function(vt,Ht){ae.set(Ht,Ei(vt,p,S,Ht,h,G))});var gt=Ae?be?Q1:Y1:be?Fs:Mr,Ft=ke?n:gt(h);return Pi(Ft||h,function(vt,Ht){Ft&&(Ht=vt,vt=h[Ht]),wm(ae,Ht,Ei(vt,p,S,Ht,h,G))}),ae}function KH(h){var p=Mr(h);return function(S){return mT(S,h,p)}}function mT(h,p,S){var T=S.length;if(h==null)return!T;for(h=Sn(h);T--;){var R=S[T],G=p[R],ae=h[R];if(ae===n&&!(R in h)||!G(ae))return!1}return!0}function pT(h,p,S){if(typeof h!="function")throw new _i(o);return Em(function(){h.apply(n,S)},p)}function Nm(h,p,S,T){var R=-1,G=Mv,ae=!0,de=h.length,be=[],Ae=p.length;if(!de)return be;S&&(p=qn(p,ri(S))),T?(G=g1,ae=!1):p.length>=i&&(G=gm,ae=!1,p=new qc(p));e:for(;++R<de;){var ke=h[R],Ie=S==null?ke:S(ke);if(ke=T||ke!==0?ke:0,ae&&Ie===Ie){for(var Qe=Ae;Qe--;)if(p[Qe]===Ie)continue e;be.push(ke)}else G(p,Ie,T)||be.push(ke)}return be}var jl=VT(Ba),gT=VT(O1,!0);function YH(h,p){var S=!0;return jl(h,function(T,R,G){return S=!!p(T,R,G),S}),S}function Jv(h,p,S){for(var T=-1,R=h.length;++T<R;){var G=h[T],ae=p(G);if(ae!=null&&(de===n?ae===ae&&!ii(ae):S(ae,de)))var de=ae,be=G}return be}function QH(h,p,S,T){var R=h.length;for(S=Rt(S),S<0&&(S=-S>R?0:R+S),T=T===n||T>R?R:Rt(T),T<0&&(T+=R),T=S>T?0:DO(T);S<T;)h[S++]=p;return h}function vT(h,p){var S=[];return jl(h,function(T,R,G){p(T,R,G)&&S.push(T)}),S}function Gr(h,p,S,T,R){var G=-1,ae=h.length;for(S||(S=LG),R||(R=[]);++G<ae;){var de=h[G];p>0&&S(de)?p>1?Gr(de,p-1,S,T,R):vl(R,de):T||(R[R.length]=de)}return R}var T1=UT(),xT=UT(!0);function Ba(h,p){return h&&T1(h,p,Mr)}function O1(h,p){return h&&xT(h,p,Mr)}function Zv(h,p){return gl(p,function(S){return Co(h[S])})}function Hc(h,p){p=wl(p,h);for(var S=0,T=p.length;h!=null&&S<T;)h=h[Va(p[S++])];return S&&S==T?h:n}function yT(h,p,S){var T=p(h);return Mt(h)?T:vl(T,S(h))}function xs(h){return h==null?h===n?Kn:Be:Vc&&Vc in Sn(h)?OG(h):WG(h)}function D1(h,p){return h>p}function XH(h,p){return h!=null&&gn.call(h,p)}function JH(h,p){return h!=null&&p in Sn(h)}function ZH(h,p,S){return h>=ss(p,S)&&h<Nr(p,S)}function M1(h,p,S){for(var T=S?g1:Mv,R=h[0].length,G=h.length,ae=G,de=Ce(G),be=1/0,Ae=[];ae--;){var ke=h[ae];ae&&p&&(ke=qn(ke,ri(p))),be=ss(ke.length,be),de[ae]=!S&&(p||R>=120&&ke.length>=120)?new qc(ae&&ke):n}ke=h[0];var Ie=-1,Qe=de[0];e:for(;++Ie<R&&Ae.length<be;){var ot=ke[Ie],gt=p?p(ot):ot;if(ot=S||ot!==0?ot:0,!(Qe?gm(Qe,gt):T(Ae,gt,S))){for(ae=G;--ae;){var Ft=de[ae];if(!(Ft?gm(Ft,gt):T(h[ae],gt,S)))continue e}Qe&&Qe.push(gt),Ae.push(ot)}}return Ae}function eG(h,p,S,T){return Ba(h,function(R,G,ae){p(T,S(R),G,ae)}),T}function Sm(h,p,S){p=wl(p,h),h=aO(h,p);var T=h==null?h:h[Va(Ti(p))];return T==null?n:ni(T,h,S)}function jT(h){return nr(h)&&xs(h)==xe}function tG(h){return nr(h)&&xs(h)==lr}function nG(h){return nr(h)&&xs(h)==X}function Cm(h,p,S,T,R){return h===p?!0:h==null||p==null||!nr(h)&&!nr(p)?h!==h&&p!==p:rG(h,p,S,T,Cm,R)}function rG(h,p,S,T,R,G){var ae=Mt(h),de=Mt(p),be=ae?ve:is(h),Ae=de?ve:is(p);be=be==xe?at:be,Ae=Ae==xe?at:Ae;var ke=be==at,Ie=Ae==at,Qe=be==Ae;if(Qe&&Sl(h)){if(!Sl(p))return!1;ae=!0,ke=!1}if(Qe&&!ke)return G||(G=new sa),ae||Dd(h)?ZT(h,p,S,T,R,G):kG(h,p,be,S,T,R,G);if(!(S&x)){var ot=ke&&gn.call(h,"__wrapped__"),gt=Ie&&gn.call(p,"__wrapped__");if(ot||gt){var Ft=ot?h.value():h,vt=gt?p.value():p;return G||(G=new sa),R(Ft,vt,S,T,G)}}return Qe?(G||(G=new sa),TG(h,p,S,T,R,G)):!1}function sG(h){return nr(h)&&is(h)==we}function I1(h,p,S,T){var R=S.length,G=R,ae=!T;if(h==null)return!G;for(h=Sn(h);R--;){var de=S[R];if(ae&&de[2]?de[1]!==h[de[0]]:!(de[0]in h))return!1}for(;++R<G;){de=S[R];var be=de[0],Ae=h[be],ke=de[1];if(ae&&de[2]){if(Ae===n&&!(be in h))return!1}else{var Ie=new sa;if(T)var Qe=T(Ae,ke,be,h,p,Ie);if(!(Qe===n?Cm(ke,Ae,x|v,T,Ie):Qe))return!1}}return!0}function bT(h){if(!Xn(h)||BG(h))return!1;var p=Co(h)?sH:Hw;return p.test(Kc(h))}function iG(h){return nr(h)&&xs(h)==Ne}function aG(h){return nr(h)&&is(h)==Ge}function oG(h){return nr(h)&&gx(h.length)&&!!Nn[xs(h)]}function wT(h){return typeof h=="function"?h:h==null?Bs:typeof h=="object"?Mt(h)?CT(h[0],h[1]):ST(h):qO(h)}function $1(h){if(!Am(h))return uH(h);var p=[];for(var S in Sn(h))gn.call(h,S)&&S!="constructor"&&p.push(S);return p}function lG(h){if(!Xn(h))return qG(h);var p=Am(h),S=[];for(var T in h)T=="constructor"&&(p||!gn.call(h,T))||S.push(T);return S}function R1(h,p){return h<p}function NT(h,p){var S=-1,T=Ls(h)?Ce(h.length):[];return jl(h,function(R,G,ae){T[++S]=p(R,G,ae)}),T}function ST(h){var p=J1(h);return p.length==1&&p[0][2]?sO(p[0][0],p[0][1]):function(S){return S===h||I1(S,h,p)}}function CT(h,p){return eN(h)&&rO(p)?sO(Va(h),p):function(S){var T=uN(S,h);return T===n&&T===p?dN(S,h):Cm(p,T,x|v)}}function ex(h,p,S,T,R){h!==p&&T1(p,function(G,ae){if(R||(R=new sa),Xn(G))cG(h,p,ae,S,ex,T,R);else{var de=T?T(nN(h,ae),G,ae+"",h,p,R):n;de===n&&(de=G),E1(h,ae,de)}},Fs)}function cG(h,p,S,T,R,G,ae){var de=nN(h,S),be=nN(p,S),Ae=ae.get(be);if(Ae){E1(h,S,Ae);return}var ke=G?G(de,be,S+"",h,p,ae):n,Ie=ke===n;if(Ie){var Qe=Mt(be),ot=!Qe&&Sl(be),gt=!Qe&&!ot&&Dd(be);ke=be,Qe||ot||gt?Mt(de)?ke=de:cr(de)?ke=Rs(de):ot?(Ie=!1,ke=RT(be,!0)):gt?(Ie=!1,ke=LT(be,!0)):ke=[]:km(be)||Yc(be)?(ke=de,Yc(de)?ke=MO(de):(!Xn(de)||Co(de))&&(ke=nO(be))):Ie=!1}Ie&&(ae.set(be,ke),R(ke,be,T,G,ae),ae.delete(be)),E1(h,S,ke)}function PT(h,p){var S=h.length;if(S)return p+=p<0?S:0,So(p,S)?h[p]:n}function _T(h,p,S){p.length?p=qn(p,function(G){return Mt(G)?function(ae){return Hc(ae,G.length===1?G[0]:G)}:G}):p=[Bs];var T=-1;p=qn(p,ri(pt()));var R=NT(h,function(G,ae,de){var be=qn(p,function(Ae){return Ae(G)});return{criteria:be,index:++T,value:G}});return $9(R,function(G,ae){return wG(G,ae,S)})}function uG(h,p){return AT(h,p,function(S,T){return dN(h,T)})}function AT(h,p,S){for(var T=-1,R=p.length,G={};++T<R;){var ae=p[T],de=Hc(h,ae);S(de,ae)&&Pm(G,wl(ae,h),de)}return G}function dG(h){return function(p){return Hc(p,h)}}function L1(h,p,S,T){var R=T?I9:wd,G=-1,ae=p.length,de=h;for(h===p&&(p=Rs(p)),S&&(de=qn(h,ri(S)));++G<ae;)for(var be=0,Ae=p[G],ke=S?S(Ae):Ae;(be=R(de,ke,be,T))>-1;)de!==h&&qv.call(de,be,1),qv.call(h,be,1);return h}function ET(h,p){for(var S=h?p.length:0,T=S-1;S--;){var R=p[S];if(S==T||R!==G){var G=R;So(R)?qv.call(h,R,1):V1(h,R)}}return h}function F1(h,p){return h+Gv(cT()*(p-h+1))}function hG(h,p,S,T){for(var R=-1,G=Nr(Hv((p-h)/(S||1)),0),ae=Ce(G);G--;)ae[T?G:++R]=h,h+=S;return ae}function B1(h,p){var S="";if(!h||p<1||p>L)return S;do p%2&&(S+=h),p=Gv(p/2),p&&(h+=h);while(p);return S}function Vt(h,p){return rN(iO(h,p,Bs),h+"")}function fG(h){return hT(Md(h))}function mG(h,p){var S=Md(h);return ux(S,Wc(p,0,S.length))}function Pm(h,p,S,T){if(!Xn(h))return h;p=wl(p,h);for(var R=-1,G=p.length,ae=G-1,de=h;de!=null&&++R<G;){var be=Va(p[R]),Ae=S;if(be==="__proto__"||be==="constructor"||be==="prototype")return h;if(R!=ae){var ke=de[be];Ae=T?T(ke,be,de):n,Ae===n&&(Ae=Xn(ke)?ke:So(p[R+1])?[]:{})}wm(de,be,Ae),de=de[be]}return h}var kT=Kv?function(h,p){return Kv.set(h,p),h}:Bs,pG=Wv?function(h,p){return Wv(h,"toString",{configurable:!0,enumerable:!1,value:fN(p),writable:!0})}:Bs;function gG(h){return ux(Md(h))}function ki(h,p,S){var T=-1,R=h.length;p<0&&(p=-p>R?0:R+p),S=S>R?R:S,S<0&&(S+=R),R=p>S?0:S-p>>>0,p>>>=0;for(var G=Ce(R);++T<R;)G[T]=h[T+p];return G}function vG(h,p){var S;return jl(h,function(T,R,G){return S=p(T,R,G),!S}),!!S}function tx(h,p,S){var T=0,R=h==null?T:h.length;if(typeof p=="number"&&p===p&&R<=J){for(;T<R;){var G=T+R>>>1,ae=h[G];ae!==null&&!ii(ae)&&(S?ae<=p:ae<p)?T=G+1:R=G}return R}return z1(h,p,Bs,S)}function z1(h,p,S,T){var R=0,G=h==null?0:h.length;if(G===0)return 0;p=S(p);for(var ae=p!==p,de=p===null,be=ii(p),Ae=p===n;R<G;){var ke=Gv((R+G)/2),Ie=S(h[ke]),Qe=Ie!==n,ot=Ie===null,gt=Ie===Ie,Ft=ii(Ie);if(ae)var vt=T||gt;else Ae?vt=gt&&(T||Qe):de?vt=gt&&Qe&&(T||!ot):be?vt=gt&&Qe&&!ot&&(T||!Ft):ot||Ft?vt=!1:vt=T?Ie<=p:Ie<p;vt?R=ke+1:G=ke}return ss(G,ee)}function TT(h,p){for(var S=-1,T=h.length,R=0,G=[];++S<T;){var ae=h[S],de=p?p(ae):ae;if(!S||!ia(de,be)){var be=de;G[R++]=ae===0?0:ae}}return G}function OT(h){return typeof h=="number"?h:ii(h)?le:+h}function si(h){if(typeof h=="string")return h;if(Mt(h))return qn(h,si)+"";if(ii(h))return uT?uT.call(h):"";var p=h+"";return p=="0"&&1/h==-ie?"-0":p}function bl(h,p,S){var T=-1,R=Mv,G=h.length,ae=!0,de=[],be=de;if(S)ae=!1,R=g1;else if(G>=i){var Ae=p?null:AG(h);if(Ae)return $v(Ae);ae=!1,R=gm,be=new qc}else be=p?[]:de;e:for(;++T<G;){var ke=h[T],Ie=p?p(ke):ke;if(ke=S||ke!==0?ke:0,ae&&Ie===Ie){for(var Qe=be.length;Qe--;)if(be[Qe]===Ie)continue e;p&&be.push(Ie),de.push(ke)}else R(be,Ie,S)||(be!==de&&be.push(Ie),de.push(ke))}return de}function V1(h,p){return p=wl(p,h),h=aO(h,p),h==null||delete h[Va(Ti(p))]}function DT(h,p,S,T){return Pm(h,p,S(Hc(h,p)),T)}function nx(h,p,S,T){for(var R=h.length,G=T?R:-1;(T?G--:++G<R)&&p(h[G],G,h););return S?ki(h,T?0:G,T?G+1:R):ki(h,T?G+1:0,T?R:G)}function MT(h,p){var S=h;return S instanceof Jt&&(S=S.value()),v1(p,function(T,R){return R.func.apply(R.thisArg,vl([T],R.args))},S)}function U1(h,p,S){var T=h.length;if(T<2)return T?bl(h[0]):[];for(var R=-1,G=Ce(T);++R<T;)for(var ae=h[R],de=-1;++de<T;)de!=R&&(G[R]=Nm(G[R]||ae,h[de],p,S));return bl(Gr(G,1),p,S)}function IT(h,p,S){for(var T=-1,R=h.length,G=p.length,ae={};++T<R;){var de=T<G?p[T]:n;S(ae,h[T],de)}return ae}function q1(h){return cr(h)?h:[]}function W1(h){return typeof h=="function"?h:Bs}function wl(h,p){return Mt(h)?h:eN(h,p)?[h]:uO(un(h))}var xG=Vt;function Nl(h,p,S){var T=h.length;return S=S===n?T:S,!p&&S>=T?h:ki(h,p,S)}var $T=iH||function(h){return Hr.clearTimeout(h)};function RT(h,p){if(p)return h.slice();var S=h.length,T=sT?sT(S):new h.constructor(S);return h.copy(T),T}function H1(h){var p=new h.constructor(h.byteLength);return new Vv(p).set(new Vv(h)),p}function yG(h,p){var S=p?H1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.byteLength)}function jG(h){var p=new h.constructor(h.source,Sv.exec(h));return p.lastIndex=h.lastIndex,p}function bG(h){return bm?Sn(bm.call(h)):{}}function LT(h,p){var S=p?H1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}function FT(h,p){if(h!==p){var S=h!==n,T=h===null,R=h===h,G=ii(h),ae=p!==n,de=p===null,be=p===p,Ae=ii(p);if(!de&&!Ae&&!G&&h>p||G&&ae&&be&&!de&&!Ae||T&&ae&&be||!S&&be||!R)return 1;if(!T&&!G&&!Ae&&h<p||Ae&&S&&R&&!T&&!G||de&&S&&R||!ae&&R||!be)return-1}return 0}function wG(h,p,S){for(var T=-1,R=h.criteria,G=p.criteria,ae=R.length,de=S.length;++T<ae;){var be=FT(R[T],G[T]);if(be){if(T>=de)return be;var Ae=S[T];return be*(Ae=="desc"?-1:1)}}return h.index-p.index}function BT(h,p,S,T){for(var R=-1,G=h.length,ae=S.length,de=-1,be=p.length,Ae=Nr(G-ae,0),ke=Ce(be+Ae),Ie=!T;++de<be;)ke[de]=p[de];for(;++R<ae;)(Ie||R<G)&&(ke[S[R]]=h[R]);for(;Ae--;)ke[de++]=h[R++];return ke}function zT(h,p,S,T){for(var R=-1,G=h.length,ae=-1,de=S.length,be=-1,Ae=p.length,ke=Nr(G-de,0),Ie=Ce(ke+Ae),Qe=!T;++R<ke;)Ie[R]=h[R];for(var ot=R;++be<Ae;)Ie[ot+be]=p[be];for(;++ae<de;)(Qe||R<G)&&(Ie[ot+S[ae]]=h[R++]);return Ie}function Rs(h,p){var S=-1,T=h.length;for(p||(p=Ce(T));++S<T;)p[S]=h[S];return p}function za(h,p,S,T){var R=!S;S||(S={});for(var G=-1,ae=p.length;++G<ae;){var de=p[G],be=T?T(S[de],h[de],de,S,h):n;be===n&&(be=h[de]),R?bo(S,de,be):wm(S,de,be)}return S}function NG(h,p){return za(h,Z1(h),p)}function SG(h,p){return za(h,eO(h),p)}function rx(h,p){return function(S,T){var R=Mt(S)?E9:HH,G=p?p():{};return R(S,h,pt(T,2),G)}}function kd(h){return Vt(function(p,S){var T=-1,R=S.length,G=R>1?S[R-1]:n,ae=R>2?S[2]:n;for(G=h.length>3&&typeof G=="function"?(R--,G):n,ae&&ys(S[0],S[1],ae)&&(G=R<3?n:G,R=1),p=Sn(p);++T<R;){var de=S[T];de&&h(p,de,T,G)}return p})}function VT(h,p){return function(S,T){if(S==null)return S;if(!Ls(S))return h(S,T);for(var R=S.length,G=p?R:-1,ae=Sn(S);(p?G--:++G<R)&&T(ae[G],G,ae)!==!1;);return S}}function UT(h){return function(p,S,T){for(var R=-1,G=Sn(p),ae=T(p),de=ae.length;de--;){var be=ae[h?de:++R];if(S(G[be],be,G)===!1)break}return p}}function CG(h,p,S){var T=p&y,R=_m(h);function G(){var ae=this&&this!==Hr&&this instanceof G?R:h;return ae.apply(T?S:this,arguments)}return G}function qT(h){return function(p){p=un(p);var S=Nd(p)?ra(p):n,T=S?S[0]:p.charAt(0),R=S?Nl(S,1).join(""):p.slice(1);return T[h]()+R}}function Td(h){return function(p){return v1(VO(zO(p).replace(i1,"")),h,"")}}function _m(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=Ed(h.prototype),T=h.apply(S,p);return Xn(T)?T:S}}function PG(h,p,S){var T=_m(h);function R(){for(var G=arguments.length,ae=Ce(G),de=G,be=Od(R);de--;)ae[de]=arguments[de];var Ae=G<3&&ae[0]!==be&&ae[G-1]!==be?[]:xl(ae,be);if(G-=Ae.length,G<S)return YT(h,p,sx,R.placeholder,n,ae,Ae,n,n,S-G);var ke=this&&this!==Hr&&this instanceof R?T:h;return ni(ke,this,ae)}return R}function WT(h){return function(p,S,T){var R=Sn(p);if(!Ls(p)){var G=pt(S,3);p=Mr(p),S=function(de){return G(R[de],de,R)}}var ae=h(p,S,T);return ae>-1?R[G?p[ae]:ae]:n}}function HT(h){return No(function(p){var S=p.length,T=S,R=Ai.prototype.thru;for(h&&p.reverse();T--;){var G=p[T];if(typeof G!="function")throw new _i(o);if(R&&!ae&&lx(G)=="wrapper")var ae=new Ai([],!0)}for(T=ae?T:S;++T<S;){G=p[T];var de=lx(G),be=de=="wrapper"?X1(G):n;be&&tN(be[0])&&be[1]==(_|b|C|E)&&!be[4].length&&be[9]==1?ae=ae[lx(be[0])].apply(ae,be[3]):ae=G.length==1&&tN(G)?ae[de]():ae.thru(G)}return function(){var Ae=arguments,ke=Ae[0];if(ae&&Ae.length==1&&Mt(ke))return ae.plant(ke).value();for(var Ie=0,Qe=S?p[Ie].apply(this,Ae):ke;++Ie<S;)Qe=p[Ie].call(this,Qe);return Qe}})}function sx(h,p,S,T,R,G,ae,de,be,Ae){var ke=p&_,Ie=p&y,Qe=p&N,ot=p&(b|P),gt=p&O,Ft=Qe?n:_m(h);function vt(){for(var Ht=arguments.length,en=Ce(Ht),ai=Ht;ai--;)en[ai]=arguments[ai];if(ot)var js=Od(vt),oi=L9(en,js);if(T&&(en=BT(en,T,R,ot)),G&&(en=zT(en,G,ae,ot)),Ht-=oi,ot&&Ht<Ae){var ur=xl(en,js);return YT(h,p,sx,vt.placeholder,S,en,ur,de,be,Ae-Ht)}var aa=Ie?S:this,_o=Qe?aa[h]:h;return Ht=en.length,de?en=HG(en,de):gt&&Ht>1&&en.reverse(),ke&&be<Ht&&(en.length=be),this&&this!==Hr&&this instanceof vt&&(_o=Ft||_m(_o)),_o.apply(aa,en)}return vt}function GT(h,p){return function(S,T){return eG(S,h,p(T),{})}}function ix(h,p){return function(S,T){var R;if(S===n&&T===n)return p;if(S!==n&&(R=S),T!==n){if(R===n)return T;typeof S=="string"||typeof T=="string"?(S=si(S),T=si(T)):(S=OT(S),T=OT(T)),R=h(S,T)}return R}}function G1(h){return No(function(p){return p=qn(p,ri(pt())),Vt(function(S){var T=this;return h(p,function(R){return ni(R,T,S)})})})}function ax(h,p){p=p===n?" ":si(p);var S=p.length;if(S<2)return S?B1(p,h):p;var T=B1(p,Hv(h/Sd(p)));return Nd(p)?Nl(ra(T),0,h).join(""):T.slice(0,h)}function _G(h,p,S,T){var R=p&y,G=_m(h);function ae(){for(var de=-1,be=arguments.length,Ae=-1,ke=T.length,Ie=Ce(ke+be),Qe=this&&this!==Hr&&this instanceof ae?G:h;++Ae<ke;)Ie[Ae]=T[Ae];for(;be--;)Ie[Ae++]=arguments[++de];return ni(Qe,R?S:this,Ie)}return ae}function KT(h){return function(p,S,T){return T&&typeof T!="number"&&ys(p,S,T)&&(S=T=n),p=Po(p),S===n?(S=p,p=0):S=Po(S),T=T===n?p<S?1:-1:Po(T),hG(p,S,T,h)}}function ox(h){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=Oi(p),S=Oi(S)),h(p,S)}}function YT(h,p,S,T,R,G,ae,de,be,Ae){var ke=p&b,Ie=ke?ae:n,Qe=ke?n:ae,ot=ke?G:n,gt=ke?n:G;p|=ke?C:A,p&=~(ke?A:C),p&j||(p&=~(y|N));var Ft=[h,p,R,ot,Ie,gt,Qe,de,be,Ae],vt=S.apply(n,Ft);return tN(h)&&oO(vt,Ft),vt.placeholder=T,lO(vt,h,p)}function K1(h){var p=wr[h];return function(S,T){if(S=Oi(S),T=T==null?0:ss(Rt(T),292),T&&lT(S)){var R=(un(S)+"e").split("e"),G=p(R[0]+"e"+(+R[1]+T));return R=(un(G)+"e").split("e"),+(R[0]+"e"+(+R[1]-T))}return p(S)}}var AG=_d&&1/$v(new _d([,-0]))[1]==ie?function(h){return new _d(h)}:gN;function QT(h){return function(p){var S=is(p);return S==we?S1(p):S==Ge?W9(p):R9(p,h(p))}}function wo(h,p,S,T,R,G,ae,de){var be=p&N;if(!be&&typeof h!="function")throw new _i(o);var Ae=T?T.length:0;if(Ae||(p&=~(C|A),T=R=n),ae=ae===n?ae:Nr(Rt(ae),0),de=de===n?de:Rt(de),Ae-=R?R.length:0,p&A){var ke=T,Ie=R;T=R=n}var Qe=be?n:X1(h),ot=[h,p,S,T,R,ke,Ie,G,ae,de];if(Qe&&UG(ot,Qe),h=ot[0],p=ot[1],S=ot[2],T=ot[3],R=ot[4],de=ot[9]=ot[9]===n?be?0:h.length:Nr(ot[9]-Ae,0),!de&&p&(b|P)&&(p&=~(b|P)),!p||p==y)var gt=CG(h,p,S);else p==b||p==P?gt=PG(h,p,de):(p==C||p==(y|C))&&!R.length?gt=_G(h,p,S,T):gt=sx.apply(n,ot);var Ft=Qe?kT:oO;return lO(Ft(gt,ot),h,p)}function XT(h,p,S,T){return h===n||ia(h,Pd[S])&&!gn.call(T,S)?p:h}function JT(h,p,S,T,R,G){return Xn(h)&&Xn(p)&&(G.set(p,h),ex(h,p,n,JT,G),G.delete(p)),h}function EG(h){return km(h)?n:h}function ZT(h,p,S,T,R,G){var ae=S&x,de=h.length,be=p.length;if(de!=be&&!(ae&&be>de))return!1;var Ae=G.get(h),ke=G.get(p);if(Ae&&ke)return Ae==p&&ke==h;var Ie=-1,Qe=!0,ot=S&v?new qc:n;for(G.set(h,p),G.set(p,h);++Ie<de;){var gt=h[Ie],Ft=p[Ie];if(T)var vt=ae?T(Ft,gt,Ie,p,h,G):T(gt,Ft,Ie,h,p,G);if(vt!==n){if(vt)continue;Qe=!1;break}if(ot){if(!x1(p,function(Ht,en){if(!gm(ot,en)&&(gt===Ht||R(gt,Ht,S,T,G)))return ot.push(en)})){Qe=!1;break}}else if(!(gt===Ft||R(gt,Ft,S,T,G))){Qe=!1;break}}return G.delete(h),G.delete(p),Qe}function kG(h,p,S,T,R,G,ae){switch(S){case Yn:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case lr:return!(h.byteLength!=p.byteLength||!G(new Vv(h),new Vv(p)));case B:case X:case Fe:return ia(+h,+p);case Z:return h.name==p.name&&h.message==p.message;case Ne:case Ke:return h==p+"";case we:var de=S1;case Ge:var be=T&x;if(de||(de=$v),h.size!=p.size&&!be)return!1;var Ae=ae.get(h);if(Ae)return Ae==p;T|=v,ae.set(h,p);var ke=ZT(de(h),de(p),T,R,G,ae);return ae.delete(h),ke;case qt:if(bm)return bm.call(h)==bm.call(p)}return!1}function TG(h,p,S,T,R,G){var ae=S&x,de=Y1(h),be=de.length,Ae=Y1(p),ke=Ae.length;if(be!=ke&&!ae)return!1;for(var Ie=be;Ie--;){var Qe=de[Ie];if(!(ae?Qe in p:gn.call(p,Qe)))return!1}var ot=G.get(h),gt=G.get(p);if(ot&&gt)return ot==p&&gt==h;var Ft=!0;G.set(h,p),G.set(p,h);for(var vt=ae;++Ie<be;){Qe=de[Ie];var Ht=h[Qe],en=p[Qe];if(T)var ai=ae?T(en,Ht,Qe,p,h,G):T(Ht,en,Qe,h,p,G);if(!(ai===n?Ht===en||R(Ht,en,S,T,G):ai)){Ft=!1;break}vt||(vt=Qe=="constructor")}if(Ft&&!vt){var js=h.constructor,oi=p.constructor;js!=oi&&"constructor"in h&&"constructor"in p&&!(typeof js=="function"&&js instanceof js&&typeof oi=="function"&&oi instanceof oi)&&(Ft=!1)}return G.delete(h),G.delete(p),Ft}function No(h){return rN(iO(h,n,mO),h+"")}function Y1(h){return yT(h,Mr,Z1)}function Q1(h){return yT(h,Fs,eO)}var X1=Kv?function(h){return Kv.get(h)}:gN;function lx(h){for(var p=h.name+"",S=Ad[p],T=gn.call(Ad,p)?S.length:0;T--;){var R=S[T],G=R.func;if(G==null||G==h)return R.name}return p}function Od(h){var p=gn.call(W,"placeholder")?W:h;return p.placeholder}function pt(){var h=W.iteratee||mN;return h=h===mN?wT:h,arguments.length?h(arguments[0],arguments[1]):h}function cx(h,p){var S=h.__data__;return FG(p)?S[typeof p=="string"?"string":"hash"]:S.map}function J1(h){for(var p=Mr(h),S=p.length;S--;){var T=p[S],R=h[T];p[S]=[T,R,rO(R)]}return p}function Gc(h,p){var S=V9(h,p);return bT(S)?S:n}function OG(h){var p=gn.call(h,Vc),S=h[Vc];try{h[Vc]=n;var T=!0}catch{}var R=Bv.call(h);return T&&(p?h[Vc]=S:delete h[Vc]),R}var Z1=P1?function(h){return h==null?[]:(h=Sn(h),gl(P1(h),function(p){return aT.call(h,p)}))}:vN,eO=P1?function(h){for(var p=[];h;)vl(p,Z1(h)),h=Uv(h);return p}:vN,is=xs;(_1&&is(new _1(new ArrayBuffer(1)))!=Yn||xm&&is(new xm)!=we||A1&&is(A1.resolve())!=lt||_d&&is(new _d)!=Ge||ym&&is(new ym)!=Pt)&&(is=function(h){var p=xs(h),S=p==at?h.constructor:n,T=S?Kc(S):"";if(T)switch(T){case mH:return Yn;case pH:return we;case gH:return lt;case vH:return Ge;case xH:return Pt}return p});function DG(h,p,S){for(var T=-1,R=S.length;++T<R;){var G=S[T],ae=G.size;switch(G.type){case"drop":h+=ae;break;case"dropRight":p-=ae;break;case"take":p=ss(p,h+ae);break;case"takeRight":h=Nr(h,p-ae);break}}return{start:h,end:p}}function MG(h){var p=h.match(Lw);return p?p[1].split(Fw):[]}function tO(h,p,S){p=wl(p,h);for(var T=-1,R=p.length,G=!1;++T<R;){var ae=Va(p[T]);if(!(G=h!=null&&S(h,ae)))break;h=h[ae]}return G||++T!=R?G:(R=h==null?0:h.length,!!R&&gx(R)&&So(ae,R)&&(Mt(h)||Yc(h)))}function IG(h){var p=h.length,S=new h.constructor(p);return p&&typeof h[0]=="string"&&gn.call(h,"index")&&(S.index=h.index,S.input=h.input),S}function nO(h){return typeof h.constructor=="function"&&!Am(h)?Ed(Uv(h)):{}}function $G(h,p,S){var T=h.constructor;switch(p){case lr:return H1(h);case B:case X:return new T(+h);case Yn:return yG(h,S);case ms:case Se:case zt:case nt:case mt:case rn:case rs:case qr:case Is:return LT(h,S);case we:return new T;case Fe:case Ke:return new T(h);case Ne:return jG(h);case Ge:return new T;case qt:return bG(h)}}function RG(h,p){var S=p.length;if(!S)return h;var T=S-1;return p[T]=(S>1?"& ":"")+p[T],p=p.join(S>2?", ":" "),h.replace(Rw,`{
/* [wrapped with `+p+`] */
`)}function LG(h){return Mt(h)||Yc(h)||!!(oT&&h&&h[oT])}function So(h,p){var S=typeof h;return p=p??L,!!p&&(S=="number"||S!="symbol"&&vd.test(h))&&h>-1&&h%1==0&&h<p}function ys(h,p,S){if(!Xn(S))return!1;var T=typeof p;return(T=="number"?Ls(S)&&So(p,S.length):T=="string"&&p in S)?ia(S[p],h):!1}function eN(h,p){if(Mt(h))return!1;var S=typeof h;return S=="number"||S=="symbol"||S=="boolean"||h==null||ii(h)?!0:gs.test(h)||!ps.test(h)||p!=null&&h in Sn(p)}function FG(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function tN(h){var p=lx(h),S=W[p];if(typeof S!="function"||!(p in Jt.prototype))return!1;if(h===S)return!0;var T=X1(S);return!!T&&h===T[0]}function BG(h){return!!rT&&rT in h}var zG=Lv?Co:xN;function Am(h){var p=h&&h.constructor,S=typeof p=="function"&&p.prototype||Pd;return h===S}function rO(h){return h===h&&!Xn(h)}function sO(h,p){return function(S){return S==null?!1:S[h]===p&&(p!==n||h in Sn(S))}}function VG(h){var p=mx(h,function(T){return S.size===u&&S.clear(),T}),S=p.cache;return p}function UG(h,p){var S=h[1],T=p[1],R=S|T,G=R<(y|N|_),ae=T==_&&S==b||T==_&&S==E&&h[7].length<=p[8]||T==(_|E)&&p[7].length<=p[8]&&S==b;if(!(G||ae))return h;T&y&&(h[2]=p[2],R|=S&y?0:j);var de=p[3];if(de){var be=h[3];h[3]=be?BT(be,de,p[4]):de,h[4]=be?xl(h[3],d):p[4]}return de=p[5],de&&(be=h[5],h[5]=be?zT(be,de,p[6]):de,h[6]=be?xl(h[5],d):p[6]),de=p[7],de&&(h[7]=de),T&_&&(h[8]=h[8]==null?p[8]:ss(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=R,h}function qG(h){var p=[];if(h!=null)for(var S in Sn(h))p.push(S);return p}function WG(h){return Bv.call(h)}function iO(h,p,S){return p=Nr(p===n?h.length-1:p,0),function(){for(var T=arguments,R=-1,G=Nr(T.length-p,0),ae=Ce(G);++R<G;)ae[R]=T[p+R];R=-1;for(var de=Ce(p+1);++R<p;)de[R]=T[R];return de[p]=S(ae),ni(h,this,de)}}function aO(h,p){return p.length<2?h:Hc(h,ki(p,0,-1))}function HG(h,p){for(var S=h.length,T=ss(p.length,S),R=Rs(h);T--;){var G=p[T];h[T]=So(G,S)?R[G]:n}return h}function nN(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var oO=cO(kT),Em=oH||function(h,p){return Hr.setTimeout(h,p)},rN=cO(pG);function lO(h,p,S){var T=p+"";return rN(h,RG(T,GG(MG(T),S)))}function cO(h){var p=0,S=0;return function(){var T=dH(),R=F-(T-S);if(S=T,R>0){if(++p>=k)return arguments[0]}else p=0;return h.apply(n,arguments)}}function ux(h,p){var S=-1,T=h.length,R=T-1;for(p=p===n?T:p;++S<p;){var G=F1(S,R),ae=h[G];h[G]=h[S],h[S]=ae}return h.length=p,h}var uO=VG(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(Si,function(S,T,R,G){p.push(R?G.replace(Vw,"$1"):T||S)}),p});function Va(h){if(typeof h=="string"||ii(h))return h;var p=h+"";return p=="0"&&1/h==-ie?"-0":p}function Kc(h){if(h!=null){try{return Fv.call(h)}catch{}try{return h+""}catch{}}return""}function GG(h,p){return Pi(te,function(S){var T="_."+S[0];p&S[1]&&!Mv(h,T)&&h.push(T)}),h.sort()}function dO(h){if(h instanceof Jt)return h.clone();var p=new Ai(h.__wrapped__,h.__chain__);return p.__actions__=Rs(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function KG(h,p,S){(S?ys(h,p,S):p===n)?p=1:p=Nr(Rt(p),0);var T=h==null?0:h.length;if(!T||p<1)return[];for(var R=0,G=0,ae=Ce(Hv(T/p));R<T;)ae[G++]=ki(h,R,R+=p);return ae}function YG(h){for(var p=-1,S=h==null?0:h.length,T=0,R=[];++p<S;){var G=h[p];G&&(R[T++]=G)}return R}function QG(){var h=arguments.length;if(!h)return[];for(var p=Ce(h-1),S=arguments[0],T=h;T--;)p[T-1]=arguments[T];return vl(Mt(S)?Rs(S):[S],Gr(p,1))}var XG=Vt(function(h,p){return cr(h)?Nm(h,Gr(p,1,cr,!0)):[]}),JG=Vt(function(h,p){var S=Ti(p);return cr(S)&&(S=n),cr(h)?Nm(h,Gr(p,1,cr,!0),pt(S,2)):[]}),ZG=Vt(function(h,p){var S=Ti(p);return cr(S)&&(S=n),cr(h)?Nm(h,Gr(p,1,cr,!0),n,S):[]});function eK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),ki(h,p<0?0:p,T)):[]}function tK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),p=T-p,ki(h,0,p<0?0:p)):[]}function nK(h,p){return h&&h.length?nx(h,pt(p,3),!0,!0):[]}function rK(h,p){return h&&h.length?nx(h,pt(p,3),!0):[]}function sK(h,p,S,T){var R=h==null?0:h.length;return R?(S&&typeof S!="number"&&ys(h,p,S)&&(S=0,T=R),QH(h,p,S,T)):[]}function hO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Rt(S);return R<0&&(R=Nr(T+R,0)),Iv(h,pt(p,3),R)}function fO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T-1;return S!==n&&(R=Rt(S),R=S<0?Nr(T+R,0):ss(R,T-1)),Iv(h,pt(p,3),R,!0)}function mO(h){var p=h==null?0:h.length;return p?Gr(h,1):[]}function iK(h){var p=h==null?0:h.length;return p?Gr(h,ie):[]}function aK(h,p){var S=h==null?0:h.length;return S?(p=p===n?1:Rt(p),Gr(h,p)):[]}function oK(h){for(var p=-1,S=h==null?0:h.length,T={};++p<S;){var R=h[p];T[R[0]]=R[1]}return T}function pO(h){return h&&h.length?h[0]:n}function lK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Rt(S);return R<0&&(R=Nr(T+R,0)),wd(h,p,R)}function cK(h){var p=h==null?0:h.length;return p?ki(h,0,-1):[]}var uK=Vt(function(h){var p=qn(h,q1);return p.length&&p[0]===h[0]?M1(p):[]}),dK=Vt(function(h){var p=Ti(h),S=qn(h,q1);return p===Ti(S)?p=n:S.pop(),S.length&&S[0]===h[0]?M1(S,pt(p,2)):[]}),hK=Vt(function(h){var p=Ti(h),S=qn(h,q1);return p=typeof p=="function"?p:n,p&&S.pop(),S.length&&S[0]===h[0]?M1(S,n,p):[]});function fK(h,p){return h==null?"":cH.call(h,p)}function Ti(h){var p=h==null?0:h.length;return p?h[p-1]:n}function mK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T;return S!==n&&(R=Rt(S),R=R<0?Nr(T+R,0):ss(R,T-1)),p===p?G9(h,p,R):Iv(h,Yk,R,!0)}function pK(h,p){return h&&h.length?PT(h,Rt(p)):n}var gK=Vt(gO);function gO(h,p){return h&&h.length&&p&&p.length?L1(h,p):h}function vK(h,p,S){return h&&h.length&&p&&p.length?L1(h,p,pt(S,2)):h}function xK(h,p,S){return h&&h.length&&p&&p.length?L1(h,p,n,S):h}var yK=No(function(h,p){var S=h==null?0:h.length,T=k1(h,p);return ET(h,qn(p,function(R){return So(R,S)?+R:R}).sort(FT)),T});function jK(h,p){var S=[];if(!(h&&h.length))return S;var T=-1,R=[],G=h.length;for(p=pt(p,3);++T<G;){var ae=h[T];p(ae,T,h)&&(S.push(ae),R.push(T))}return ET(h,R),S}function sN(h){return h==null?h:fH.call(h)}function bK(h,p,S){var T=h==null?0:h.length;return T?(S&&typeof S!="number"&&ys(h,p,S)?(p=0,S=T):(p=p==null?0:Rt(p),S=S===n?T:Rt(S)),ki(h,p,S)):[]}function wK(h,p){return tx(h,p)}function NK(h,p,S){return z1(h,p,pt(S,2))}function SK(h,p){var S=h==null?0:h.length;if(S){var T=tx(h,p);if(T<S&&ia(h[T],p))return T}return-1}function CK(h,p){return tx(h,p,!0)}function PK(h,p,S){return z1(h,p,pt(S,2),!0)}function _K(h,p){var S=h==null?0:h.length;if(S){var T=tx(h,p,!0)-1;if(ia(h[T],p))return T}return-1}function AK(h){return h&&h.length?TT(h):[]}function EK(h,p){return h&&h.length?TT(h,pt(p,2)):[]}function kK(h){var p=h==null?0:h.length;return p?ki(h,1,p):[]}function TK(h,p,S){return h&&h.length?(p=S||p===n?1:Rt(p),ki(h,0,p<0?0:p)):[]}function OK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),p=T-p,ki(h,p<0?0:p,T)):[]}function DK(h,p){return h&&h.length?nx(h,pt(p,3),!1,!0):[]}function MK(h,p){return h&&h.length?nx(h,pt(p,3)):[]}var IK=Vt(function(h){return bl(Gr(h,1,cr,!0))}),$K=Vt(function(h){var p=Ti(h);return cr(p)&&(p=n),bl(Gr(h,1,cr,!0),pt(p,2))}),RK=Vt(function(h){var p=Ti(h);return p=typeof p=="function"?p:n,bl(Gr(h,1,cr,!0),n,p)});function LK(h){return h&&h.length?bl(h):[]}function FK(h,p){return h&&h.length?bl(h,pt(p,2)):[]}function BK(h,p){return p=typeof p=="function"?p:n,h&&h.length?bl(h,n,p):[]}function iN(h){if(!(h&&h.length))return[];var p=0;return h=gl(h,function(S){if(cr(S))return p=Nr(S.length,p),!0}),w1(p,function(S){return qn(h,y1(S))})}function vO(h,p){if(!(h&&h.length))return[];var S=iN(h);return p==null?S:qn(S,function(T){return ni(p,n,T)})}var zK=Vt(function(h,p){return cr(h)?Nm(h,p):[]}),VK=Vt(function(h){return U1(gl(h,cr))}),UK=Vt(function(h){var p=Ti(h);return cr(p)&&(p=n),U1(gl(h,cr),pt(p,2))}),qK=Vt(function(h){var p=Ti(h);return p=typeof p=="function"?p:n,U1(gl(h,cr),n,p)}),WK=Vt(iN);function HK(h,p){return IT(h||[],p||[],wm)}function GK(h,p){return IT(h||[],p||[],Pm)}var KK=Vt(function(h){var p=h.length,S=p>1?h[p-1]:n;return S=typeof S=="function"?(h.pop(),S):n,vO(h,S)});function xO(h){var p=W(h);return p.__chain__=!0,p}function YK(h,p){return p(h),h}function dx(h,p){return p(h)}var QK=No(function(h){var p=h.length,S=p?h[0]:0,T=this.__wrapped__,R=function(G){return k1(G,h)};return p>1||this.__actions__.length||!(T instanceof Jt)||!So(S)?this.thru(R):(T=T.slice(S,+S+(p?1:0)),T.__actions__.push({func:dx,args:[R],thisArg:n}),new Ai(T,this.__chain__).thru(function(G){return p&&!G.length&&G.push(n),G}))});function XK(){return xO(this)}function JK(){return new Ai(this.value(),this.__chain__)}function ZK(){this.__values__===n&&(this.__values__=OO(this.value()));var h=this.__index__>=this.__values__.length,p=h?n:this.__values__[this.__index__++];return{done:h,value:p}}function eY(){return this}function tY(h){for(var p,S=this;S instanceof Qv;){var T=dO(S);T.__index__=0,T.__values__=n,p?R.__wrapped__=T:p=T;var R=T;S=S.__wrapped__}return R.__wrapped__=h,p}function nY(){var h=this.__wrapped__;if(h instanceof Jt){var p=h;return this.__actions__.length&&(p=new Jt(this)),p=p.reverse(),p.__actions__.push({func:dx,args:[sN],thisArg:n}),new Ai(p,this.__chain__)}return this.thru(sN)}function rY(){return MT(this.__wrapped__,this.__actions__)}var sY=rx(function(h,p,S){gn.call(h,S)?++h[S]:bo(h,S,1)});function iY(h,p,S){var T=Mt(h)?Gk:YH;return S&&ys(h,p,S)&&(p=n),T(h,pt(p,3))}function aY(h,p){var S=Mt(h)?gl:vT;return S(h,pt(p,3))}var oY=WT(hO),lY=WT(fO);function cY(h,p){return Gr(hx(h,p),1)}function uY(h,p){return Gr(hx(h,p),ie)}function dY(h,p,S){return S=S===n?1:Rt(S),Gr(hx(h,p),S)}function yO(h,p){var S=Mt(h)?Pi:jl;return S(h,pt(p,3))}function jO(h,p){var S=Mt(h)?k9:gT;return S(h,pt(p,3))}var hY=rx(function(h,p,S){gn.call(h,S)?h[S].push(p):bo(h,S,[p])});function fY(h,p,S,T){h=Ls(h)?h:Md(h),S=S&&!T?Rt(S):0;var R=h.length;return S<0&&(S=Nr(R+S,0)),vx(h)?S<=R&&h.indexOf(p,S)>-1:!!R&&wd(h,p,S)>-1}var mY=Vt(function(h,p,S){var T=-1,R=typeof p=="function",G=Ls(h)?Ce(h.length):[];return jl(h,function(ae){G[++T]=R?ni(p,ae,S):Sm(ae,p,S)}),G}),pY=rx(function(h,p,S){bo(h,S,p)});function hx(h,p){var S=Mt(h)?qn:NT;return S(h,pt(p,3))}function gY(h,p,S,T){return h==null?[]:(Mt(p)||(p=p==null?[]:[p]),S=T?n:S,Mt(S)||(S=S==null?[]:[S]),_T(h,p,S))}var vY=rx(function(h,p,S){h[S?0:1].push(p)},function(){return[[],[]]});function xY(h,p,S){var T=Mt(h)?v1:Xk,R=arguments.length<3;return T(h,pt(p,4),S,R,jl)}function yY(h,p,S){var T=Mt(h)?T9:Xk,R=arguments.length<3;return T(h,pt(p,4),S,R,gT)}function jY(h,p){var S=Mt(h)?gl:vT;return S(h,px(pt(p,3)))}function bY(h){var p=Mt(h)?hT:fG;return p(h)}function wY(h,p,S){(S?ys(h,p,S):p===n)?p=1:p=Rt(p);var T=Mt(h)?qH:mG;return T(h,p)}function NY(h){var p=Mt(h)?WH:gG;return p(h)}function SY(h){if(h==null)return 0;if(Ls(h))return vx(h)?Sd(h):h.length;var p=is(h);return p==we||p==Ge?h.size:$1(h).length}function CY(h,p,S){var T=Mt(h)?x1:vG;return S&&ys(h,p,S)&&(p=n),T(h,pt(p,3))}var PY=Vt(function(h,p){if(h==null)return[];var S=p.length;return S>1&&ys(h,p[0],p[1])?p=[]:S>2&&ys(p[0],p[1],p[2])&&(p=[p[0]]),_T(h,Gr(p,1),[])}),fx=aH||function(){return Hr.Date.now()};function _Y(h,p){if(typeof p!="function")throw new _i(o);return h=Rt(h),function(){if(--h<1)return p.apply(this,arguments)}}function bO(h,p,S){return p=S?n:p,p=h&&p==null?h.length:p,wo(h,_,n,n,n,n,p)}function wO(h,p){var S;if(typeof p!="function")throw new _i(o);return h=Rt(h),function(){return--h>0&&(S=p.apply(this,arguments)),h<=1&&(p=n),S}}var aN=Vt(function(h,p,S){var T=y;if(S.length){var R=xl(S,Od(aN));T|=C}return wo(h,T,p,S,R)}),NO=Vt(function(h,p,S){var T=y|N;if(S.length){var R=xl(S,Od(NO));T|=C}return wo(p,T,h,S,R)});function SO(h,p,S){p=S?n:p;var T=wo(h,b,n,n,n,n,n,p);return T.placeholder=SO.placeholder,T}function CO(h,p,S){p=S?n:p;var T=wo(h,P,n,n,n,n,n,p);return T.placeholder=CO.placeholder,T}function PO(h,p,S){var T,R,G,ae,de,be,Ae=0,ke=!1,Ie=!1,Qe=!0;if(typeof h!="function")throw new _i(o);p=Oi(p)||0,Xn(S)&&(ke=!!S.leading,Ie="maxWait"in S,G=Ie?Nr(Oi(S.maxWait)||0,p):G,Qe="trailing"in S?!!S.trailing:Qe);function ot(ur){var aa=T,_o=R;return T=R=n,Ae=ur,ae=h.apply(_o,aa),ae}function gt(ur){return Ae=ur,de=Em(Ht,p),ke?ot(ur):ae}function Ft(ur){var aa=ur-be,_o=ur-Ae,WO=p-aa;return Ie?ss(WO,G-_o):WO}function vt(ur){var aa=ur-be,_o=ur-Ae;return be===n||aa>=p||aa<0||Ie&&_o>=G}function Ht(){var ur=fx();if(vt(ur))return en(ur);de=Em(Ht,Ft(ur))}function en(ur){return de=n,Qe&&T?ot(ur):(T=R=n,ae)}function ai(){de!==n&&$T(de),Ae=0,T=be=R=de=n}function js(){return de===n?ae:en(fx())}function oi(){var ur=fx(),aa=vt(ur);if(T=arguments,R=this,be=ur,aa){if(de===n)return gt(be);if(Ie)return $T(de),de=Em(Ht,p),ot(be)}return de===n&&(de=Em(Ht,p)),ae}return oi.cancel=ai,oi.flush=js,oi}var AY=Vt(function(h,p){return pT(h,1,p)}),EY=Vt(function(h,p,S){return pT(h,Oi(p)||0,S)});function kY(h){return wo(h,O)}function mx(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new _i(o);var S=function(){var T=arguments,R=p?p.apply(this,T):T[0],G=S.cache;if(G.has(R))return G.get(R);var ae=h.apply(this,T);return S.cache=G.set(R,ae)||G,ae};return S.cache=new(mx.Cache||jo),S}mx.Cache=jo;function px(h){if(typeof h!="function")throw new _i(o);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function TY(h){return wO(2,h)}var OY=xG(function(h,p){p=p.length==1&&Mt(p[0])?qn(p[0],ri(pt())):qn(Gr(p,1),ri(pt()));var S=p.length;return Vt(function(T){for(var R=-1,G=ss(T.length,S);++R<G;)T[R]=p[R].call(this,T[R]);return ni(h,this,T)})}),oN=Vt(function(h,p){var S=xl(p,Od(oN));return wo(h,C,n,p,S)}),_O=Vt(function(h,p){var S=xl(p,Od(_O));return wo(h,A,n,p,S)}),DY=No(function(h,p){return wo(h,E,n,n,n,p)});function MY(h,p){if(typeof h!="function")throw new _i(o);return p=p===n?p:Rt(p),Vt(h,p)}function IY(h,p){if(typeof h!="function")throw new _i(o);return p=p==null?0:Nr(Rt(p),0),Vt(function(S){var T=S[p],R=Nl(S,0,p);return T&&vl(R,T),ni(h,this,R)})}function $Y(h,p,S){var T=!0,R=!0;if(typeof h!="function")throw new _i(o);return Xn(S)&&(T="leading"in S?!!S.leading:T,R="trailing"in S?!!S.trailing:R),PO(h,p,{leading:T,maxWait:p,trailing:R})}function RY(h){return bO(h,1)}function LY(h,p){return oN(W1(p),h)}function FY(){if(!arguments.length)return[];var h=arguments[0];return Mt(h)?h:[h]}function BY(h){return Ei(h,g)}function zY(h,p){return p=typeof p=="function"?p:n,Ei(h,g,p)}function VY(h){return Ei(h,f|g)}function UY(h,p){return p=typeof p=="function"?p:n,Ei(h,f|g,p)}function qY(h,p){return p==null||mT(h,p,Mr(p))}function ia(h,p){return h===p||h!==h&&p!==p}var WY=ox(D1),HY=ox(function(h,p){return h>=p}),Yc=jT(function(){return arguments}())?jT:function(h){return nr(h)&&gn.call(h,"callee")&&!aT.call(h,"callee")},Mt=Ce.isArray,GY=zk?ri(zk):tG;function Ls(h){return h!=null&&gx(h.length)&&!Co(h)}function cr(h){return nr(h)&&Ls(h)}function KY(h){return h===!0||h===!1||nr(h)&&xs(h)==B}var Sl=lH||xN,YY=Vk?ri(Vk):nG;function QY(h){return nr(h)&&h.nodeType===1&&!km(h)}function XY(h){if(h==null)return!0;if(Ls(h)&&(Mt(h)||typeof h=="string"||typeof h.splice=="function"||Sl(h)||Dd(h)||Yc(h)))return!h.length;var p=is(h);if(p==we||p==Ge)return!h.size;if(Am(h))return!$1(h).length;for(var S in h)if(gn.call(h,S))return!1;return!0}function JY(h,p){return Cm(h,p)}function ZY(h,p,S){S=typeof S=="function"?S:n;var T=S?S(h,p):n;return T===n?Cm(h,p,n,S):!!T}function lN(h){if(!nr(h))return!1;var p=xs(h);return p==Z||p==ye||typeof h.message=="string"&&typeof h.name=="string"&&!km(h)}function eQ(h){return typeof h=="number"&&lT(h)}function Co(h){if(!Xn(h))return!1;var p=xs(h);return p==M||p==je||p==re||p==ut}function AO(h){return typeof h=="number"&&h==Rt(h)}function gx(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=L}function Xn(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function nr(h){return h!=null&&typeof h=="object"}var EO=Uk?ri(Uk):sG;function tQ(h,p){return h===p||I1(h,p,J1(p))}function nQ(h,p,S){return S=typeof S=="function"?S:n,I1(h,p,J1(p),S)}function rQ(h){return kO(h)&&h!=+h}function sQ(h){if(zG(h))throw new _t(a);return bT(h)}function iQ(h){return h===null}function aQ(h){return h==null}function kO(h){return typeof h=="number"||nr(h)&&xs(h)==Fe}function km(h){if(!nr(h)||xs(h)!=at)return!1;var p=Uv(h);if(p===null)return!0;var S=gn.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&Fv.call(S)==nH}var cN=qk?ri(qk):iG;function oQ(h){return AO(h)&&h>=-L&&h<=L}var TO=Wk?ri(Wk):aG;function vx(h){return typeof h=="string"||!Mt(h)&&nr(h)&&xs(h)==Ke}function ii(h){return typeof h=="symbol"||nr(h)&&xs(h)==qt}var Dd=Hk?ri(Hk):oG;function lQ(h){return h===n}function cQ(h){return nr(h)&&is(h)==Pt}function uQ(h){return nr(h)&&xs(h)==jn}var dQ=ox(R1),hQ=ox(function(h,p){return h<=p});function OO(h){if(!h)return[];if(Ls(h))return vx(h)?ra(h):Rs(h);if(vm&&h[vm])return q9(h[vm]());var p=is(h),S=p==we?S1:p==Ge?$v:Md;return S(h)}function Po(h){if(!h)return h===0?h:0;if(h=Oi(h),h===ie||h===-ie){var p=h<0?-1:1;return p*z}return h===h?h:0}function Rt(h){var p=Po(h),S=p%1;return p===p?S?p-S:p:0}function DO(h){return h?Wc(Rt(h),0,pe):0}function Oi(h){if(typeof h=="number")return h;if(ii(h))return le;if(Xn(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Xn(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=Jk(h);var S=Ww.test(h);return S||dm.test(h)?_9(h.slice(2),S?2:8):qw.test(h)?le:+h}function MO(h){return za(h,Fs(h))}function fQ(h){return h?Wc(Rt(h),-L,L):h===0?h:0}function un(h){return h==null?"":si(h)}var mQ=kd(function(h,p){if(Am(p)||Ls(p)){za(p,Mr(p),h);return}for(var S in p)gn.call(p,S)&&wm(h,S,p[S])}),IO=kd(function(h,p){za(p,Fs(p),h)}),xx=kd(function(h,p,S,T){za(p,Fs(p),h,T)}),pQ=kd(function(h,p,S,T){za(p,Mr(p),h,T)}),gQ=No(k1);function vQ(h,p){var S=Ed(h);return p==null?S:fT(S,p)}var xQ=Vt(function(h,p){h=Sn(h);var S=-1,T=p.length,R=T>2?p[2]:n;for(R&&ys(p[0],p[1],R)&&(T=1);++S<T;)for(var G=p[S],ae=Fs(G),de=-1,be=ae.length;++de<be;){var Ae=ae[de],ke=h[Ae];(ke===n||ia(ke,Pd[Ae])&&!gn.call(h,Ae))&&(h[Ae]=G[Ae])}return h}),yQ=Vt(function(h){return h.push(n,JT),ni($O,n,h)});function jQ(h,p){return Kk(h,pt(p,3),Ba)}function bQ(h,p){return Kk(h,pt(p,3),O1)}function wQ(h,p){return h==null?h:T1(h,pt(p,3),Fs)}function NQ(h,p){return h==null?h:xT(h,pt(p,3),Fs)}function SQ(h,p){return h&&Ba(h,pt(p,3))}function CQ(h,p){return h&&O1(h,pt(p,3))}function PQ(h){return h==null?[]:Zv(h,Mr(h))}function _Q(h){return h==null?[]:Zv(h,Fs(h))}function uN(h,p,S){var T=h==null?n:Hc(h,p);return T===n?S:T}function AQ(h,p){return h!=null&&tO(h,p,XH)}function dN(h,p){return h!=null&&tO(h,p,JH)}var EQ=GT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Bv.call(p)),h[p]=S},fN(Bs)),kQ=GT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Bv.call(p)),gn.call(h,p)?h[p].push(S):h[p]=[S]},pt),TQ=Vt(Sm);function Mr(h){return Ls(h)?dT(h):$1(h)}function Fs(h){return Ls(h)?dT(h,!0):lG(h)}function OQ(h,p){var S={};return p=pt(p,3),Ba(h,function(T,R,G){bo(S,p(T,R,G),T)}),S}function DQ(h,p){var S={};return p=pt(p,3),Ba(h,function(T,R,G){bo(S,R,p(T,R,G))}),S}var MQ=kd(function(h,p,S){ex(h,p,S)}),$O=kd(function(h,p,S,T){ex(h,p,S,T)}),IQ=No(function(h,p){var S={};if(h==null)return S;var T=!1;p=qn(p,function(G){return G=wl(G,h),T||(T=G.length>1),G}),za(h,Q1(h),S),T&&(S=Ei(S,f|m|g,EG));for(var R=p.length;R--;)V1(S,p[R]);return S});function $Q(h,p){return RO(h,px(pt(p)))}var RQ=No(function(h,p){return h==null?{}:uG(h,p)});function RO(h,p){if(h==null)return{};var S=qn(Q1(h),function(T){return[T]});return p=pt(p),AT(h,S,function(T,R){return p(T,R[0])})}function LQ(h,p,S){p=wl(p,h);var T=-1,R=p.length;for(R||(R=1,h=n);++T<R;){var G=h==null?n:h[Va(p[T])];G===n&&(T=R,G=S),h=Co(G)?G.call(h):G}return h}function FQ(h,p,S){return h==null?h:Pm(h,p,S)}function BQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:Pm(h,p,S,T)}var LO=QT(Mr),FO=QT(Fs);function zQ(h,p,S){var T=Mt(h),R=T||Sl(h)||Dd(h);if(p=pt(p,4),S==null){var G=h&&h.constructor;R?S=T?new G:[]:Xn(h)?S=Co(G)?Ed(Uv(h)):{}:S={}}return(R?Pi:Ba)(h,function(ae,de,be){return p(S,ae,de,be)}),S}function VQ(h,p){return h==null?!0:V1(h,p)}function UQ(h,p,S){return h==null?h:DT(h,p,W1(S))}function qQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:DT(h,p,W1(S),T)}function Md(h){return h==null?[]:N1(h,Mr(h))}function WQ(h){return h==null?[]:N1(h,Fs(h))}function HQ(h,p,S){return S===n&&(S=p,p=n),S!==n&&(S=Oi(S),S=S===S?S:0),p!==n&&(p=Oi(p),p=p===p?p:0),Wc(Oi(h),p,S)}function GQ(h,p,S){return p=Po(p),S===n?(S=p,p=0):S=Po(S),h=Oi(h),ZH(h,p,S)}function KQ(h,p,S){if(S&&typeof S!="boolean"&&ys(h,p,S)&&(p=S=n),S===n&&(typeof p=="boolean"?(S=p,p=n):typeof h=="boolean"&&(S=h,h=n)),h===n&&p===n?(h=0,p=1):(h=Po(h),p===n?(p=h,h=0):p=Po(p)),h>p){var T=h;h=p,p=T}if(S||h%1||p%1){var R=cT();return ss(h+R*(p-h+P9("1e-"+((R+"").length-1))),p)}return F1(h,p)}var YQ=Td(function(h,p,S){return p=p.toLowerCase(),h+(S?BO(p):p)});function BO(h){return hN(un(h).toLowerCase())}function zO(h){return h=un(h),h&&h.replace(Gw,F9).replace(a1,"")}function QQ(h,p,S){h=un(h),p=si(p);var T=h.length;S=S===n?T:Wc(Rt(S),0,T);var R=S;return S-=p.length,S>=0&&h.slice(S,R)==p}function XQ(h){return h=un(h),h&&ta.test(h)?h.replace(_n,B9):h}function JQ(h){return h=un(h),h&&vs.test(h)?h.replace(ti,"\\$&"):h}var ZQ=Td(function(h,p,S){return h+(S?"-":"")+p.toLowerCase()}),eX=Td(function(h,p,S){return h+(S?" ":"")+p.toLowerCase()}),tX=qT("toLowerCase");function nX(h,p,S){h=un(h),p=Rt(p);var T=p?Sd(h):0;if(!p||T>=p)return h;var R=(p-T)/2;return ax(Gv(R),S)+h+ax(Hv(R),S)}function rX(h,p,S){h=un(h),p=Rt(p);var T=p?Sd(h):0;return p&&T<p?h+ax(p-T,S):h}function sX(h,p,S){h=un(h),p=Rt(p);var T=p?Sd(h):0;return p&&T<p?ax(p-T,S)+h:h}function iX(h,p,S){return S||p==null?p=0:p&&(p=+p),hH(un(h).replace($s,""),p||0)}function aX(h,p,S){return(S?ys(h,p,S):p===n)?p=1:p=Rt(p),B1(un(h),p)}function oX(){var h=arguments,p=un(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var lX=Td(function(h,p,S){return h+(S?"_":"")+p.toLowerCase()});function cX(h,p,S){return S&&typeof S!="number"&&ys(h,p,S)&&(p=S=n),S=S===n?pe:S>>>0,S?(h=un(h),h&&(typeof p=="string"||p!=null&&!cN(p))&&(p=si(p),!p&&Nd(h))?Nl(ra(h),0,S):h.split(p,S)):[]}var uX=Td(function(h,p,S){return h+(S?" ":"")+hN(p)});function dX(h,p,S){return h=un(h),S=S==null?0:Wc(Rt(S),0,h.length),p=si(p),h.slice(S,S+p.length)==p}function hX(h,p,S){var T=W.templateSettings;S&&ys(h,p,S)&&(p=n),h=un(h),p=xx({},p,T,XT);var R=xx({},p.imports,T.imports,XT),G=Mr(R),ae=N1(R,G),de,be,Ae=0,ke=p.interpolate||xo,Ie="__p += '",Qe=C1((p.escape||xo).source+"|"+ke.source+"|"+(ke===mn?Uw:xo).source+"|"+(p.evaluate||xo).source+"|$","g"),ot="//# sourceURL="+(gn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++d1+"]")+`
`;h.replace(Qe,function(vt,Ht,en,ai,js,oi){return en||(en=ai),Ie+=h.slice(Ae,oi).replace(Kw,z9),Ht&&(de=!0,Ie+=`' +
__e(`+Ht+`) +
'`),js&&(be=!0,Ie+=`';
`+js+`;
__p += '`),en&&(Ie+=`' +
((__t = (`+en+`)) == null ? '' : __t) +
'`),Ae=oi+vt.length,vt}),Ie+=`';
`;var gt=gn.call(p,"variable")&&p.variable;if(!gt)Ie=`with (obj) {
`+Ie+`
}
`;else if(zw.test(gt))throw new _t(l);Ie=(be?Ie.replace(ml,""):Ie).replace(oe,"$1").replace(We,"$1;"),Ie="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(de?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ie+`return __p
}`;var Ft=UO(function(){return cn(G,ot+"return "+Ie).apply(n,ae)});if(Ft.source=Ie,lN(Ft))throw Ft;return Ft}function fX(h){return un(h).toLowerCase()}function mX(h){return un(h).toUpperCase()}function pX(h,p,S){if(h=un(h),h&&(S||p===n))return Jk(h);if(!h||!(p=si(p)))return h;var T=ra(h),R=ra(p),G=Zk(T,R),ae=eT(T,R)+1;return Nl(T,G,ae).join("")}function gX(h,p,S){if(h=un(h),h&&(S||p===n))return h.slice(0,nT(h)+1);if(!h||!(p=si(p)))return h;var T=ra(h),R=eT(T,ra(p))+1;return Nl(T,0,R).join("")}function vX(h,p,S){if(h=un(h),h&&(S||p===n))return h.replace($s,"");if(!h||!(p=si(p)))return h;var T=ra(h),R=Zk(T,ra(p));return Nl(T,R).join("")}function xX(h,p){var S=I,T=D;if(Xn(p)){var R="separator"in p?p.separator:R;S="length"in p?Rt(p.length):S,T="omission"in p?si(p.omission):T}h=un(h);var G=h.length;if(Nd(h)){var ae=ra(h);G=ae.length}if(S>=G)return h;var de=S-Sd(T);if(de<1)return T;var be=ae?Nl(ae,0,de).join(""):h.slice(0,de);if(R===n)return be+T;if(ae&&(de+=be.length-de),cN(R)){if(h.slice(de).search(R)){var Ae,ke=be;for(R.global||(R=C1(R.source,un(Sv.exec(R))+"g")),R.lastIndex=0;Ae=R.exec(ke);)var Ie=Ae.index;be=be.slice(0,Ie===n?de:Ie)}}else if(h.indexOf(si(R),de)!=de){var Qe=be.lastIndexOf(R);Qe>-1&&(be=be.slice(0,Qe))}return be+T}function yX(h){return h=un(h),h&&Qn.test(h)?h.replace(Le,K9):h}var jX=Td(function(h,p,S){return h+(S?" ":"")+p.toUpperCase()}),hN=qT("toUpperCase");function VO(h,p,S){return h=un(h),p=S?n:p,p===n?U9(h)?X9(h):M9(h):h.match(p)||[]}var UO=Vt(function(h,p){try{return ni(h,n,p)}catch(S){return lN(S)?S:new _t(S)}}),bX=No(function(h,p){return Pi(p,function(S){S=Va(S),bo(h,S,aN(h[S],h))}),h});function wX(h){var p=h==null?0:h.length,S=pt();return h=p?qn(h,function(T){if(typeof T[1]!="function")throw new _i(o);return[S(T[0]),T[1]]}):[],Vt(function(T){for(var R=-1;++R<p;){var G=h[R];if(ni(G[0],this,T))return ni(G[1],this,T)}})}function NX(h){return KH(Ei(h,f))}function fN(h){return function(){return h}}function SX(h,p){return h==null||h!==h?p:h}var CX=HT(),PX=HT(!0);function Bs(h){return h}function mN(h){return wT(typeof h=="function"?h:Ei(h,f))}function _X(h){return ST(Ei(h,f))}function AX(h,p){return CT(h,Ei(p,f))}var EX=Vt(function(h,p){return function(S){return Sm(S,h,p)}}),kX=Vt(function(h,p){return function(S){return Sm(h,S,p)}});function pN(h,p,S){var T=Mr(p),R=Zv(p,T);S==null&&!(Xn(p)&&(R.length||!T.length))&&(S=p,p=h,h=this,R=Zv(p,Mr(p)));var G=!(Xn(S)&&"chain"in S)||!!S.chain,ae=Co(h);return Pi(R,function(de){var be=p[de];h[de]=be,ae&&(h.prototype[de]=function(){var Ae=this.__chain__;if(G||Ae){var ke=h(this.__wrapped__),Ie=ke.__actions__=Rs(this.__actions__);return Ie.push({func:be,args:arguments,thisArg:h}),ke.__chain__=Ae,ke}return be.apply(h,vl([this.value()],arguments))})}),h}function TX(){return Hr._===this&&(Hr._=rH),this}function gN(){}function OX(h){return h=Rt(h),Vt(function(p){return PT(p,h)})}var DX=G1(qn),MX=G1(Gk),IX=G1(x1);function qO(h){return eN(h)?y1(Va(h)):dG(h)}function $X(h){return function(p){return h==null?n:Hc(h,p)}}var RX=KT(),LX=KT(!0);function vN(){return[]}function xN(){return!1}function FX(){return{}}function BX(){return""}function zX(){return!0}function VX(h,p){if(h=Rt(h),h<1||h>L)return[];var S=pe,T=ss(h,pe);p=pt(p),h-=pe;for(var R=w1(T,p);++S<h;)p(S);return R}function UX(h){return Mt(h)?qn(h,Va):ii(h)?[h]:Rs(uO(un(h)))}function qX(h){var p=++tH;return un(h)+p}var WX=ix(function(h,p){return h+p},0),HX=K1("ceil"),GX=ix(function(h,p){return h/p},1),KX=K1("floor");function YX(h){return h&&h.length?Jv(h,Bs,D1):n}function QX(h,p){return h&&h.length?Jv(h,pt(p,2),D1):n}function XX(h){return Qk(h,Bs)}function JX(h,p){return Qk(h,pt(p,2))}function ZX(h){return h&&h.length?Jv(h,Bs,R1):n}function eJ(h,p){return h&&h.length?Jv(h,pt(p,2),R1):n}var tJ=ix(function(h,p){return h*p},1),nJ=K1("round"),rJ=ix(function(h,p){return h-p},0);function sJ(h){return h&&h.length?b1(h,Bs):0}function iJ(h,p){return h&&h.length?b1(h,pt(p,2)):0}return W.after=_Y,W.ary=bO,W.assign=mQ,W.assignIn=IO,W.assignInWith=xx,W.assignWith=pQ,W.at=gQ,W.before=wO,W.bind=aN,W.bindAll=bX,W.bindKey=NO,W.castArray=FY,W.chain=xO,W.chunk=KG,W.compact=YG,W.concat=QG,W.cond=wX,W.conforms=NX,W.constant=fN,W.countBy=sY,W.create=vQ,W.curry=SO,W.curryRight=CO,W.debounce=PO,W.defaults=xQ,W.defaultsDeep=yQ,W.defer=AY,W.delay=EY,W.difference=XG,W.differenceBy=JG,W.differenceWith=ZG,W.drop=eK,W.dropRight=tK,W.dropRightWhile=nK,W.dropWhile=rK,W.fill=sK,W.filter=aY,W.flatMap=cY,W.flatMapDeep=uY,W.flatMapDepth=dY,W.flatten=mO,W.flattenDeep=iK,W.flattenDepth=aK,W.flip=kY,W.flow=CX,W.flowRight=PX,W.fromPairs=oK,W.functions=PQ,W.functionsIn=_Q,W.groupBy=hY,W.initial=cK,W.intersection=uK,W.intersectionBy=dK,W.intersectionWith=hK,W.invert=EQ,W.invertBy=kQ,W.invokeMap=mY,W.iteratee=mN,W.keyBy=pY,W.keys=Mr,W.keysIn=Fs,W.map=hx,W.mapKeys=OQ,W.mapValues=DQ,W.matches=_X,W.matchesProperty=AX,W.memoize=mx,W.merge=MQ,W.mergeWith=$O,W.method=EX,W.methodOf=kX,W.mixin=pN,W.negate=px,W.nthArg=OX,W.omit=IQ,W.omitBy=$Q,W.once=TY,W.orderBy=gY,W.over=DX,W.overArgs=OY,W.overEvery=MX,W.overSome=IX,W.partial=oN,W.partialRight=_O,W.partition=vY,W.pick=RQ,W.pickBy=RO,W.property=qO,W.propertyOf=$X,W.pull=gK,W.pullAll=gO,W.pullAllBy=vK,W.pullAllWith=xK,W.pullAt=yK,W.range=RX,W.rangeRight=LX,W.rearg=DY,W.reject=jY,W.remove=jK,W.rest=MY,W.reverse=sN,W.sampleSize=wY,W.set=FQ,W.setWith=BQ,W.shuffle=NY,W.slice=bK,W.sortBy=PY,W.sortedUniq=AK,W.sortedUniqBy=EK,W.split=cX,W.spread=IY,W.tail=kK,W.take=TK,W.takeRight=OK,W.takeRightWhile=DK,W.takeWhile=MK,W.tap=YK,W.throttle=$Y,W.thru=dx,W.toArray=OO,W.toPairs=LO,W.toPairsIn=FO,W.toPath=UX,W.toPlainObject=MO,W.transform=zQ,W.unary=RY,W.union=IK,W.unionBy=$K,W.unionWith=RK,W.uniq=LK,W.uniqBy=FK,W.uniqWith=BK,W.unset=VQ,W.unzip=iN,W.unzipWith=vO,W.update=UQ,W.updateWith=qQ,W.values=Md,W.valuesIn=WQ,W.without=zK,W.words=VO,W.wrap=LY,W.xor=VK,W.xorBy=UK,W.xorWith=qK,W.zip=WK,W.zipObject=HK,W.zipObjectDeep=GK,W.zipWith=KK,W.entries=LO,W.entriesIn=FO,W.extend=IO,W.extendWith=xx,pN(W,W),W.add=WX,W.attempt=UO,W.camelCase=YQ,W.capitalize=BO,W.ceil=HX,W.clamp=HQ,W.clone=BY,W.cloneDeep=VY,W.cloneDeepWith=UY,W.cloneWith=zY,W.conformsTo=qY,W.deburr=zO,W.defaultTo=SX,W.divide=GX,W.endsWith=QQ,W.eq=ia,W.escape=XQ,W.escapeRegExp=JQ,W.every=iY,W.find=oY,W.findIndex=hO,W.findKey=jQ,W.findLast=lY,W.findLastIndex=fO,W.findLastKey=bQ,W.floor=KX,W.forEach=yO,W.forEachRight=jO,W.forIn=wQ,W.forInRight=NQ,W.forOwn=SQ,W.forOwnRight=CQ,W.get=uN,W.gt=WY,W.gte=HY,W.has=AQ,W.hasIn=dN,W.head=pO,W.identity=Bs,W.includes=fY,W.indexOf=lK,W.inRange=GQ,W.invoke=TQ,W.isArguments=Yc,W.isArray=Mt,W.isArrayBuffer=GY,W.isArrayLike=Ls,W.isArrayLikeObject=cr,W.isBoolean=KY,W.isBuffer=Sl,W.isDate=YY,W.isElement=QY,W.isEmpty=XY,W.isEqual=JY,W.isEqualWith=ZY,W.isError=lN,W.isFinite=eQ,W.isFunction=Co,W.isInteger=AO,W.isLength=gx,W.isMap=EO,W.isMatch=tQ,W.isMatchWith=nQ,W.isNaN=rQ,W.isNative=sQ,W.isNil=aQ,W.isNull=iQ,W.isNumber=kO,W.isObject=Xn,W.isObjectLike=nr,W.isPlainObject=km,W.isRegExp=cN,W.isSafeInteger=oQ,W.isSet=TO,W.isString=vx,W.isSymbol=ii,W.isTypedArray=Dd,W.isUndefined=lQ,W.isWeakMap=cQ,W.isWeakSet=uQ,W.join=fK,W.kebabCase=ZQ,W.last=Ti,W.lastIndexOf=mK,W.lowerCase=eX,W.lowerFirst=tX,W.lt=dQ,W.lte=hQ,W.max=YX,W.maxBy=QX,W.mean=XX,W.meanBy=JX,W.min=ZX,W.minBy=eJ,W.stubArray=vN,W.stubFalse=xN,W.stubObject=FX,W.stubString=BX,W.stubTrue=zX,W.multiply=tJ,W.nth=pK,W.noConflict=TX,W.noop=gN,W.now=fx,W.pad=nX,W.padEnd=rX,W.padStart=sX,W.parseInt=iX,W.random=KQ,W.reduce=xY,W.reduceRight=yY,W.repeat=aX,W.replace=oX,W.result=LQ,W.round=nJ,W.runInContext=ge,W.sample=bY,W.size=SY,W.snakeCase=lX,W.some=CY,W.sortedIndex=wK,W.sortedIndexBy=NK,W.sortedIndexOf=SK,W.sortedLastIndex=CK,W.sortedLastIndexBy=PK,W.sortedLastIndexOf=_K,W.startCase=uX,W.startsWith=dX,W.subtract=rJ,W.sum=sJ,W.sumBy=iJ,W.template=hX,W.times=VX,W.toFinite=Po,W.toInteger=Rt,W.toLength=DO,W.toLower=fX,W.toNumber=Oi,W.toSafeInteger=fQ,W.toString=un,W.toUpper=mX,W.trim=pX,W.trimEnd=gX,W.trimStart=vX,W.truncate=xX,W.unescape=yX,W.uniqueId=qX,W.upperCase=jX,W.upperFirst=hN,W.each=yO,W.eachRight=jO,W.first=pO,pN(W,function(){var h={};return Ba(W,function(p,S){gn.call(W.prototype,S)||(h[S]=p)}),h}(),{chain:!1}),W.VERSION=s,Pi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){W[h].placeholder=W}),Pi(["drop","take"],function(h,p){Jt.prototype[h]=function(S){S=S===n?1:Nr(Rt(S),0);var T=this.__filtered__&&!p?new Jt(this):this.clone();return T.__filtered__?T.__takeCount__=ss(S,T.__takeCount__):T.__views__.push({size:ss(S,pe),type:h+(T.__dir__<0?"Right":"")}),T},Jt.prototype[h+"Right"]=function(S){return this.reverse()[h](S).reverse()}}),Pi(["filter","map","takeWhile"],function(h,p){var S=p+1,T=S==$||S==U;Jt.prototype[h]=function(R){var G=this.clone();return G.__iteratees__.push({iteratee:pt(R,3),type:S}),G.__filtered__=G.__filtered__||T,G}}),Pi(["head","last"],function(h,p){var S="take"+(p?"Right":"");Jt.prototype[h]=function(){return this[S](1).value()[0]}}),Pi(["initial","tail"],function(h,p){var S="drop"+(p?"":"Right");Jt.prototype[h]=function(){return this.__filtered__?new Jt(this):this[S](1)}}),Jt.prototype.compact=function(){return this.filter(Bs)},Jt.prototype.find=function(h){return this.filter(h).head()},Jt.prototype.findLast=function(h){return this.reverse().find(h)},Jt.prototype.invokeMap=Vt(function(h,p){return typeof h=="function"?new Jt(this):this.map(function(S){return Sm(S,h,p)})}),Jt.prototype.reject=function(h){return this.filter(px(pt(h)))},Jt.prototype.slice=function(h,p){h=Rt(h);var S=this;return S.__filtered__&&(h>0||p<0)?new Jt(S):(h<0?S=S.takeRight(-h):h&&(S=S.drop(h)),p!==n&&(p=Rt(p),S=p<0?S.dropRight(-p):S.take(p-h)),S)},Jt.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Jt.prototype.toArray=function(){return this.take(pe)},Ba(Jt.prototype,function(h,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),T=/^(?:head|last)$/.test(p),R=W[T?"take"+(p=="last"?"Right":""):p],G=T||/^find/.test(p);R&&(W.prototype[p]=function(){var ae=this.__wrapped__,de=T?[1]:arguments,be=ae instanceof Jt,Ae=de[0],ke=be||Mt(ae),Ie=function(Ht){var en=R.apply(W,vl([Ht],de));return T&&Qe?en[0]:en};ke&&S&&typeof Ae=="function"&&Ae.length!=1&&(be=ke=!1);var Qe=this.__chain__,ot=!!this.__actions__.length,gt=G&&!Qe,Ft=be&&!ot;if(!G&&ke){ae=Ft?ae:new Jt(this);var vt=h.apply(ae,de);return vt.__actions__.push({func:dx,args:[Ie],thisArg:n}),new Ai(vt,Qe)}return gt&&Ft?h.apply(this,de):(vt=this.thru(Ie),gt?T?vt.value()[0]:vt.value():vt)})}),Pi(["pop","push","shift","sort","splice","unshift"],function(h){var p=Rv[h],S=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",T=/^(?:pop|shift)$/.test(h);W.prototype[h]=function(){var R=arguments;if(T&&!this.__chain__){var G=this.value();return p.apply(Mt(G)?G:[],R)}return this[S](function(ae){return p.apply(Mt(ae)?ae:[],R)})}}),Ba(Jt.prototype,function(h,p){var S=W[p];if(S){var T=S.name+"";gn.call(Ad,T)||(Ad[T]=[]),Ad[T].push({name:p,func:S})}}),Ad[sx(n,N).name]=[{name:"wrapper",func:n}],Jt.prototype.clone=yH,Jt.prototype.reverse=jH,Jt.prototype.value=bH,W.prototype.at=QK,W.prototype.chain=XK,W.prototype.commit=JK,W.prototype.next=ZK,W.prototype.plant=tY,W.prototype.reverse=nY,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=rY,W.prototype.first=W.prototype.head,vm&&(W.prototype[vm]=eY),W},Cd=J9();zc?((zc.exports=Cd)._=Cd,m1._=Cd):Hr._=Cd}).call(or)})(Dj,Dj.exports);var KS=Dj.exports;const N_=w.forwardRef(({petId:e},t)=>{const{settings:n}=Wt(),{getPetById:s,getClientById:i,getVaccinationsByPetId:a}=ft(),o=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),l=s(e),c=l?i(l.ownerId):null,u=l?a(l.id):[],d=f=>{const m=new Date(f),g=new Date;if(KS.isNaN(m.getTime()))return"N/A";let x=g.getFullYear()-m.getFullYear(),v=g.getMonth()-m.getMonth(),y=g.getDate()-m.getDate();if(y<0){v--;const b=new Date(g.getFullYear(),g.getMonth(),0);y+=b.getDate()}v<0&&(x--,v+=12);const N=Math.floor(y/7),j=[];return x>0&&j.push(`${x} an${x>1?"s":""}`),v>0&&j.push(`${v} mois`),N>0&&j.push(`${N} semain${N>1?"es":""}`),j.join(", ")||"0 jour"};return!l||!c?null:r.jsxs("div",{ref:t,className:"p-8 bg-white text-gray-900 font-sans",children:[n.showClinicInfo&&r.jsxs("section",{className:"mb-4 text-sm",children:[r.jsx("img",{src:n.logo,alt:"Logo",className:"h-12 mb-2"}),r.jsx("p",{children:n.clinicName}),r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.phone," | ",n.email]}),n.website&&r.jsx("p",{children:n.website})]}),r.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-primary",children:"Certificat de Vaccination"}),r.jsx(m9,{value:`pet:${l.id}`,size:100})]}),n.showVetsInfo&&r.jsxs("section",{className:"mb-6 text-sm",children:[r.jsx("h2",{className:"font-medium mb-2",children:"Vtrinaires"}),o.map(f=>r.jsxs("p",{children:[f.title," ",f.name," - ",f.specialty]},f.id))]}),l.photo&&r.jsx("div",{className:"mb-6 text-center",children:r.jsx("img",{src:l.photo,alt:l.name,className:"w-32 h-32 object-cover rounded-full mx-auto"})}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Informations de l'animal"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",l.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",l.breed||"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ge:"})," ",l.birthDate?d(l.birthDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propritaire:"})," ",c.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Contact:"})," ",c.phone]})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Historique des Vaccinations"}),r.jsx("div",{className:"mt-4 space-y-4",children:u.map(f=>r.jsxs(he,{className:"border-primary/50",children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:f.vaccineName})}),r.jsxs(fe,{className:"p-4 text-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Date donne:"})," ",f.dateGiven&&!KS.isNaN(Date.parse(f.dateGiven))?It(new Date(f.dateGiven),"dd/MM/yyyy"):"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Rappel prvu:"})," ",f.nextDueDate&&!KS.isNaN(Date.parse(f.nextDueDate))?It(new Date(f.nextDueDate),"dd/MM/yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vtrinaire:"})," ",f.veterinarian]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Statut:"})," ",f.status]})]})]})]},f.id))})]}),r.jsxs("footer",{className:"mt-8 text-center text-xs text-gray-500",children:["Gnr le ",It(new Date,"dd/MM/yyyy")," - VetPro CRM"]})]})});function p9({open:e,onOpenChange:t,pet:n}){const{consultations:s,clients:i,getConsultationsByPetId:a,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:f,updateConsultation:m,updateVaccination:g,updateVaccinationStatuses:x}=ft(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,P]=w.useState(!1),[C,A]=w.useState(!1),[_,E]=w.useState("overview"),[O,I]=w.useState(!1),[D,k]=w.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[F,$]=w.useState((n==null?void 0:n.additionalPhotos)||[]),[Q,U]=w.useState({clientId:0,petId:0,type:"",reason:""}),[ie,L]=w.useState(null),[z,le]=w.useState(!1),[pe,ee]=w.useState(null),[J,te]=w.useState(null),{toast:xe}=Ut(),ve=w.useRef(null),re=$k.useReactToPrint({contentRef:ve,onAfterPrint:()=>t(!1)});w.useEffect(()=>{e&&x()},[e,x]);const B=()=>{n&&(f(n.id,{...n,...D}),Object.assign(n,D),I(!1))},X=()=>{n&&(k({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),I(!1))},ye=oe=>{n&&(U({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${oe.vaccineName}`}),L(oe),j(!0))},Z=oe=>{ee(oe),le(!0)},M=(oe,We)=>{g(oe,{status:We}),te(null),xe({title:"Statut mis  jour",description:`Le statut de la vaccination a t chang en "${{completed:"Termine",scheduled:"Planifie",overdue:"En retard",missed:"Manque"}[We]}"`})},je=(oe,We)=>{const Le=s.find(ta=>ta.id===oe);if(!Le||!Le.photos)return;const _n=Le.photos.filter((ta,jt)=>jt!==We),Qn={...Le,photos:_n};m(oe,Qn)},we=async oe=>{var _n;const We=(_n=oe.target.files)==null?void 0:_n[0];if(!We)return;const Le=new FileReader;Le.onload=()=>{const Qn=Le.result,ta=[...F,Qn];$(ta),n&&f(n.id,{...n,additionalPhotos:ta})},Le.readAsDataURL(We)},Fe=oe=>{const We=F.filter((Le,_n)=>_n!==oe);$(We),n&&f(n.id,{...n,additionalPhotos:We})};if(w.useEffect(()=>{n&&(k({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),$(n.additionalPhotos||[]))},[n]),!n)return null;const Be=o(n.ownerId),at=a(n.id),lt=u(n.id),ut=d(n.id);console.log(" PetDossierModal - DEBUG ANTIPARASITICS:"),console.log("   Pet ID:",n.id),console.log("   Pet Name:",n.name),console.log("   Antiparasitics found:",ut),console.log("   Length:",(ut==null?void 0:ut.length)||0);const Ne=[...at].sort((oe,We)=>new Date(We.date).getTime()-new Date(oe.date).getTime()),Ge=[...lt].sort((oe,We)=>new Date(We.dateGiven).getTime()-new Date(oe.dateGiven).getTime()),Ke=[...ut||[]].sort((oe,We)=>new Date(We.dateGiven).getTime()-new Date(oe.dateGiven).getTime()),qt=Ne.filter(oe=>oe.weight||oe.temperature).map(oe=>({date:new Date(oe.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:oe.weight?parseFloat(oe.weight):0,temperature:oe.temperature?parseFloat(oe.temperature):0})).reverse(),Kn=Ne.filter(oe=>oe.weight).map(oe=>parseFloat(oe.weight)),Pt=Ne.filter(oe=>oe.temperature).map(oe=>parseFloat(oe.temperature)),jn=Kn[0]||0,lr=Kn[1]||0,Yn=jn-lr,ms=Yn>0?"up":Yn<0?"down":"stable",Se=Pt[0]||0,zt=Pt.length>0?Pt.reduce((oe,We)=>oe+We,0)/Pt.length:0,nt=Ne[0],mt=nt!=null&&nt.followUp?{reason:nt.followUp,estimatedDate:new Date(nt.date)}:null,rn=[];if(nt){const oe=(new Date().getTime()-new Date(nt.date).getTime())/2592e6;oe>6&&rn.push({type:"warning",title:"Contrle de routine recommand",message:`Dernire consultation il y a ${Math.floor(oe)} mois`,action:"Planifier consultation",actionType:"consultation"})}(Se>39.5||Se<37.5)&&rn.push({type:"danger",title:"Temprature anormale",message:`Temprature actuelle: ${Se}C`,action:"Contrle urgent",actionType:"consultation"}),Yn<-2&&rn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Yn)}kg depuis la dernire consultation`,action:"Surveiller",actionType:"consultation"});const rs=new Date;new Date(rs.getTime()+7*24*60*60*1e3),lt.forEach(oe=>{if(oe.nextDueDate){const We=new Date(oe.nextDueDate),Le=Math.ceil((We.getTime()-rs.getTime())/(1e3*60*60*24));Le<0?rn.push({type:"danger",title:"Vaccination en retard",message:`${oe.vaccineName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):Le<=7&&rn.push({type:"warning",title:"Vaccination  prvoir",message:`${oe.vaccineName} - Dans ${Le} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),ut.forEach(oe=>{if(oe.nextDueDate){const We=new Date(oe.nextDueDate),Le=Math.ceil((We.getTime()-rs.getTime())/(1e3*60*60*24));Le<0?rn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${oe.productName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):Le<=7&&rn.push({type:"warning",title:"Traitement antiparasitaire  prvoir",message:`${oe.productName} - Dans ${Le} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const qr=()=>{U({clientId:(Be==null?void 0:Be.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),j(!0)},Is=oe=>{let We="consultation",Le="";switch(oe){case"consultation":We="consultation",Le="Contrle de routine recommand";break;case"vaccination":We="vaccination",Le="Vaccination  effectuer";break;case"antiparasitic":We="controle",Le="Traitement antiparasitaire  effectuer";break;default:We="consultation",Le="Rendez-vous mdical"}U({clientId:(Be==null?void 0:Be.id)||0,petId:n.id,type:We,reason:Le}),j(!0)},ml=()=>{const oe=window.open("","_blank");if(!oe)return;const We=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Mdical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Mdical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Gnr le:</strong> ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spcifie"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mle":n.gender==="female"?"Femelle":"Non spcifi"}</p>
              <p><strong>ge:</strong> ${n.birthDate?Xp(n.birthDate):"Non spcifi"}</p>
              <p><strong>Poids actuel:</strong> ${jn}kg</p>
              <p><strong>Temprature actuelle:</strong> ${Se}C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spcifie"}</p>
              <p><strong>Puce lectronique:</strong> ${n.microchip||"Non spcifie"}</p>
              ${n.medicalNotes?`<p><strong>Notes mdicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propritaire</h3>
              <p><strong>Nom:</strong> ${(Be==null?void 0:Be.name)||"Non spcifi"}</p>
              <p><strong>Email:</strong> ${(Be==null?void 0:Be.email)||"Non spcifi"}</p>
              <p><strong>Tlphone:</strong> ${(Be==null?void 0:Be.phone)||"Non spcifi"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${Ne.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${lt.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${ut.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${jn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${Ne.length})</h3>
            ${Ne.length>0?Ne.map(Le=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(Le.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${Le.weight||"Non renseign"}</p>
                    <p><strong>Temprature:</strong> ${Le.temperature||"Non renseign"}</p>
                    ${Le.symptoms?`<p><strong>Symptmes:</strong> ${Le.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${Le.diagnosis?`<p><strong>Diagnostic:</strong> ${Le.diagnosis}</p>`:""}
                    ${Le.treatment?`<p><strong>Traitement:</strong> ${Le.treatment}</p>`:""}
                    ${Le.medications?`<p><strong>Mdicaments:</strong> ${Le.medications}</p>`:""}
                  </div>
                </div>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
                ${Le.photos&&Le.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${Le.photos.map((_n,Qn)=>`
                      <div style="text-align: center;">
                        <img src="${_n}" alt="Photo consultation ${Qn+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${Qn+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistre</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${lt.length})</h3>
            ${lt.length>0?lt.map(Le=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${Le.vaccineName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${Le.vaccineType||"Non spcifi"}</p>
                <p><strong>Prochain rappel:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spcifi"}</p>
                <p><strong>Vtrinaire:</strong> ${Le.veterinarian||"Non spcifi"}</p>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistre</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${ut.length})</h3>
            ${ut.length>0?ut.map(Le=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${Le.productName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${Le.productType||"Non spcifi"}</p>
                    <p><strong>Parasites cibls:</strong> ${Le.targetParasites||"Non spcifi"}</p>
                    <p><strong>Voie d'administration:</strong> ${Le.administrationRoute||"Non spcifi"}</p>
                    <p><strong>Dosage:</strong> ${Le.dosage||"Non spcifi"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spcifi"}</p>
                <p><strong>Vtrinaire:</strong> ${Le.veterinarian||"Non spcifi"}</p>
                    <p><strong>Statut:</strong> ${Le.status==="completed"?"Termin":Le.status==="scheduled"?"Planifi":Le.status==="overdue"?"En retard":"Manqu"}</p>
                    ${Le.cost?`<p><strong>Cot:</strong> ${Le.cost} </p>`:""}
                  </div>
                </div>
                ${Le.batchNumber?`<p><strong>Numro de lot:</strong> ${Le.batchNumber}</p>`:""}
                ${Le.manufacturer?`<p><strong>Fabricant:</strong> ${Le.manufacturer}</p>`:""}
                ${Le.weight?`<p><strong>Poids de l'animal:</strong> ${Le.weight}</p>`:""}
                ${Le.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${Le.notes}</p>
                  </div>
                `:""}
                ${Le.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong> Effets indsirables:</strong> ${Le.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistr</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spcifi"}</p>
                    <p><strong>N Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spcifi"}</p>
                    <p><strong>N Puce/Tatouage:</strong> ${n.microchip||"Non spcifi"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spcifie"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mle":n.gender==="female"?"Femelle":"Non spcifi"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spcifie"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spcifi"}</p>
                    <p><strong>leveur:</strong> ${n.breeder||"Non spcifi"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Pre -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Pre</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spcifi"}</p>
                  <p><strong>N Pedigree:</strong> ${n.fatherPedigree||"Non spcifi"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spcifie"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mre -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mre</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spcifi"}</p>
                  <p><strong>N Pedigree:</strong> ${n.motherPedigree||"Non spcifi"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spcifie"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${Ne.some(Le=>Le.photos&&Le.photos.length>0)?Ne.map(Le=>Le.photos?Le.photos.map((_n,Qn)=>`
                    <div style="text-align: center;">
                      <img src="${_n}" alt="Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")} - Photo ${Qn+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!Ne.some(Le=>Le.photos&&Le.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vtrinaire Complte</p>
          </div>
        </body>
      </html>
    `;oe.document.write(We),oe.document.close(),oe.focus(),oe.print(),oe.close()};return r.jsxs(r.Fragment,{children:[r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[r.jsx(Ot,{children:r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5"}),"Dossier Mdical - ",n.name,Be&&r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propritaire: ",Be.name,")"]})]})}),r.jsxs($c,{value:_,onValueChange:E,className:"space-y-4",children:[r.jsxs(ul,{className:"grid w-full grid-cols-7",children:[r.jsxs(Tn,{value:"overview",className:"gap-2",children:[r.jsx(Aa,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(Tn,{value:"history",className:"gap-2",children:[r.jsx(yr,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(Tn,{value:"prescriptions",className:"gap-2",children:[r.jsx(hi,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(Tn,{value:"vaccinations",className:"gap-2",children:[r.jsx(hi,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(Tn,{value:"antiparasites",className:"gap-2",children:[r.jsx(Zl,{className:"h-4 w-4"}),"Antiparasitaires"]}),r.jsxs(Tn,{value:"pedigree",className:"gap-2",children:[r.jsx(cM,{className:"h-4 w-4"}),"Pedigree"]}),r.jsxs(Tn,{value:"charts",className:"gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),"volution"]}),r.jsxs(Tn,{value:"alerts",className:"gap-2",children:[r.jsx(Ri,{className:"h-4 w-4"}),"Alertes"]})]}),r.jsxs(On,{value:"overview",className:"space-y-4",children:[r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsx(Te,{className:"text-lg",children:"Galerie photos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:we,className:"hidden",id:"add-photo-input"}),r.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(bt,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),r.jsx(fe,{children:r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),F.map((oe,We)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:oe,alt:`Photo supplmentaire ${We+1}`,className:"h-32 w-32 object-cover rounded"}),r.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",We+1]}),r.jsx("button",{onClick:()=>Fe(We),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:""})]},`additional-${We}`)),Ne.map(oe=>{var We;return(We=oe.photos)==null?void 0:We.map((Le,_n)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:Le,alt:`consultation-${oe.id}-${_n}`,className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(oe.date).toLocaleDateString("fr-FR")}),r.jsx("button",{onClick:()=>je(oe.id,_n),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:""})]},`${oe.id}-${_n}`))}),!n.photo&&F.length===0&&Ne.every(oe=>!oe.photos||oe.photos.length===0)&&r.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(QC,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsxs("p",{className:"text-2xl font-bold",children:[jn,"kg"]}),Yn!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[ms==="up"?r.jsx(pr,{className:"h-3 w-3 text-green-600"}):r.jsx(Fu,{className:"h-3 w-3 text-red-600"}),r.jsxs("span",{className:ms==="up"?"text-green-600":"text-red-600",children:[Math.abs(Yn),"kg"]})]})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(d0,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Temprature"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Se,"C"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",zt.toFixed(1),"C"]})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:Ne.length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernire: ",nt?new Date(nt.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ri,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-2xl font-bold",children:rn.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:rn.length>0?" traiter":"Aucune"})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hi,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),r.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(oe=>oe.petId===n.id).length," active(s)"]})]})]})})})]}),mt&&r.jsx(he,{className:"border-primary",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommand"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:mt.reason})]}),r.jsxs(H,{size:"sm",onClick:qr,children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),rn.length>0&&r.jsxs(he,{className:"border-destructive",children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-destructive",children:"Alertes importantes"})}),r.jsx(fe,{className:"space-y-2",children:rn.slice(0,3).map((oe,We)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[r.jsx(Ri,{className:"h-4 w-4 text-destructive"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:oe.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:oe.message})]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>Is(oe.actionType),children:oe.action})]},We))})]})]}),r.jsxs(On,{value:"history",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),r.jsxs(H,{size:"sm",onClick:qr,className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),Ne.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(yr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistre"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer la premire consultation"})]})}):r.jsx("div",{className:"space-y-4",children:Ne.map(oe=>r.jsxs(he,{children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Te,{className:"text-base",children:["Consultation #",oe.id]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(kt,{className:"h-4 w-4"}),new Date(oe.date).toLocaleDateString("fr-FR")]})]})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("span",{className:"ml-2",children:oe.weight||"Non renseign"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Temprature:"}),r.jsx("span",{className:"ml-2",children:oe.temperature||"Non renseign"})]})]}),oe.symptoms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Symptmes:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.symptoms})]}),oe.diagnosis&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.diagnosis})]}),oe.treatment&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.treatment})]}),oe.medications&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Mdicaments:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.medications})]}),oe.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:oe.notes})]}),oe.followUp&&r.jsxs("div",{className:"pt-2 border-t",children:[r.jsx("span",{className:"font-medium text-primary",children:"Suivi recommand:"}),r.jsx("p",{className:"text-sm mt-1",children:oe.followUp})]})]})]},oe.id))})]}),r.jsx(On,{value:"prescriptions",className:"space-y-4",children:r.jsx(t9,{petId:n.id})}),r.jsxs(On,{value:"charts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"volution du poids et de la temprature"}),qt.length>0?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(QC,{className:"h-5 w-5"}),"volution du poids"]})}),r.jsx(fe,{children:r.jsx(il,{width:"100%",height:200,children:r.jsxs(L3,{data:qt,children:[r.jsx(ed,{strokeDasharray:"3 3"}),r.jsx(Da,{dataKey:"date"}),r.jsx(Ma,{}),r.jsx(Fr,{}),r.jsx(Pf,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(d0,{className:"h-5 w-5"}),"volution de la temprature"]})}),r.jsx(fe,{children:r.jsx(il,{width:"100%",height:200,children:r.jsxs(L3,{data:qt,children:[r.jsx(ed,{strokeDasharray:"3 3"}),r.jsx(Da,{dataKey:"date"}),r.jsx(Ma,{}),r.jsx(Fr,{}),r.jsx(Pf,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune donne disponible pour les graphiques"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et temprature"})]})})]}),r.jsxs(On,{value:"vaccinations",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),r.jsx(A0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsxs(H,{size:"sm",className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),Ge.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(hi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune vaccination enregistre"}),r.jsx("p",{className:"text-sm",children:"Commencez par ajouter la premire vaccination"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(hi,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(kt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:" jour"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(oe=>oe.status==="completed").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Ri,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(oe=>oe.status==="overdue").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(kt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifies"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(oe=>oe.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ge.map(oe=>r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsxs(fe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(hi,{className:`h-5 w-5 ${oe.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("h4",{className:"font-semibold text-lg",children:[oe.vaccineName,oe.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx(Oe,{variant:oe.vaccineType==="core"?"default":"secondary",className:"text-xs",children:oe.vaccineType==="core"?"Essentiel":oe.vaccineType==="non-core"?"Optionnel":oe.vaccineType==="rabies"?"Rage":"Personnalis"}),oe.vaccinationCategory==="reminder"&&r.jsx(Oe,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),J===oe.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs($e,{value:oe.status,onValueChange:We=>M(oe.id,We),children:[r.jsx(De,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"completed",children:"Termine"}),r.jsx(Y,{value:"scheduled",children:"Planifie"}),r.jsx(Y,{value:"overdue",children:"En retard"}),r.jsx(Y,{value:"missed",children:"Manque"})]})]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>te(null),children:"Annuler"})]}):r.jsx(Oe,{className:oe.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":oe.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":oe.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>te(oe.id),children:oe.status==="completed"?"Termine":oe.status==="overdue"?"En retard":oe.status==="scheduled"?"Planifie":"Manque"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:oe.vaccinationCategory==="reminder"?"Date du rappel":"Date administre"}),r.jsx("p",{className:"font-medium",children:ao(oe.dateGiven)})]}),oe.vaccinationCategory==="new"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Rappel prvu"}),r.jsx("p",{className:"font-medium",children:ao(oe.nextDueDate)})]}),oe.vaccinationCategory==="reminder"&&oe.originalVaccinationId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),r.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",oe.originalVaccinationId]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vtrinaire"}),r.jsx("p",{className:"font-medium",children:oe.veterinarian})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Cot"}),r.jsx("p",{className:"font-medium",children:oe.cost?`${oe.cost} `:"Non spcifi"})]})]}),oe.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numro de lot: ",r.jsx("span",{className:"font-medium",children:oe.batchNumber})]})}),oe.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:oe.manufacturer})]})}),oe.location&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",r.jsx("span",{className:"font-medium",children:oe.location==="left_shoulder"?"paule gauche":oe.location==="right_shoulder"?"paule droite":oe.location==="left_hip"?"Hanche gauche":oe.location==="right_hip"?"Hanche droite":"Sous-cutan"})]})}),oe.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",oe.notes]})}),oe.adverseReactions&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:" Ractions adverses:"})," ",oe.adverseReactions]})})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(H,{size:"sm",variant:"outline",className:"gap-2",onClick:re,children:[r.jsx(zr,{className:"h-4 w-4"}),"Certificat"]}),oe.nextDueDate&&new Date(oe.nextDueDate)<=new Date&&oe.status!=="completed"&&!oe.reminderAppointmentId&&r.jsxs(H,{size:"sm",className:"gap-2",onClick:()=>ye(oe),children:[r.jsx(bt,{className:"h-4 w-4"}),"Rappel"]}),oe.reminderAppointmentId&&r.jsx(Oe,{variant:"outline",className:"text-xs",children:"Rappel programm"}),oe.status==="overdue"&&r.jsxs(H,{size:"sm",className:"gap-2",onClick:()=>Z(oe),children:[r.jsx(Yte,{className:"h-4 w-4"}),"Confirmer"]})]})]}),oe.reminderHistory&&oe.reminderHistory.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),r.jsx("div",{className:"space-y-2",children:oe.reminderHistory.map(We=>r.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(We.scheduledDate).toLocaleDateString("fr-FR")})]}),r.jsx(Oe,{variant:We.status==="completed"?"default":We.status==="missed"?"destructive":"secondary",className:"text-xs",children:We.status==="completed"?"Complt":We.status==="missed"?"Manqu":We.status==="cancelled"?"Annul":"Programm"})]},We.id))})]})]})},oe.id))})]})]}),r.jsxs(On,{value:"antiparasites",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),r.jsx(E0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsxs(H,{size:"sm",className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),Ke.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Zl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun traitement antiparasitaire enregistr"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(Zl,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(Zn,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complts"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(oe=>oe.status==="completed").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Ri,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(oe=>oe.status==="overdue").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(kt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifis"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(oe=>oe.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ke.map(oe=>r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Zl,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-lg",children:oe.productName}),r.jsx(Oe,{className:oe.status==="completed"?"bg-green-100 text-green-800 border-green-200":oe.status==="overdue"?"bg-red-100 text-red-800 border-red-200":oe.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:oe.status==="completed"?"Termin":oe.status==="overdue"?"En retard":oe.status==="scheduled"?"Planifi":"Manqu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Date administre"}),r.jsx("p",{className:"font-medium",children:new Date(oe.dateGiven).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),r.jsx("p",{className:"font-medium",children:oe.nextDueDate?new Date(oe.nextDueDate).toLocaleDateString("fr-FR"):"Non spcifi"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium",children:oe.productType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vtrinaire"}),r.jsx("p",{className:"font-medium",children:oe.veterinarian})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Parasites cibls"}),r.jsx("p",{className:"font-medium",children:oe.targetParasites})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Dosage"}),r.jsx("p",{className:"font-medium",children:oe.dosage||"Non spcifi"})]})]}),oe.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numro de lot: ",r.jsx("span",{className:"font-medium",children:oe.batchNumber})]})}),oe.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:oe.manufacturer})]})}),oe.weight&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",r.jsx("span",{className:"font-medium",children:oe.weight})]})}),oe.cost&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Cot: ",r.jsxs("span",{className:"font-medium",children:[oe.cost," "]})]})}),oe.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",oe.notes]})}),oe.sideEffects&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:" Effets indsirables:"})," ",oe.sideEffects]})})]}),r.jsx("div",{className:"flex flex-col gap-2 ml-4",children:oe.nextDueDate&&new Date(oe.nextDueDate)<=new Date&&oe.status!=="completed"&&r.jsxs(H,{size:"sm",className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Rappel"]})})]})})},oe.id))})]})]}),r.jsxs(On,{value:"pedigree",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),r.jsxs(H,{variant:"outline",size:"sm",onClick:()=>I(!O),className:"gap-2",children:[r.jsx(nn,{className:"h-4 w-4"}),O?"Annuler":"Modifier"]})]}),r.jsx(he,{children:r.jsx(Ee,{children:r.jsxs(Te,{className:"text-lg flex items-center gap-2",children:[r.jsx(Gi,{id:"hasPedigree",checked:D.hasPedigree,onCheckedChange:oe=>k(We=>({...We,hasPedigree:oe})),disabled:!O}),r.jsx(V,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),D.hasPedigree&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Informations sur l'animal"})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(se,{id:"officialName",value:D.officialName,onChange:oe=>k(We=>({...We,officialName:oe.target.value})),disabled:!O,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"pedigreeNumber",children:"N pedigree/LOF"}),r.jsx(se,{id:"pedigreeNumber",value:D.pedigreeNumber,onChange:oe=>k(We=>({...We,pedigreeNumber:oe.target.value})),disabled:!O,placeholder:"Numro de pedigree"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"breeder",children:"leveur"}),r.jsx(se,{id:"breeder",value:D.breeder,onChange:oe=>k(We=>({...We,breeder:oe.target.value})),disabled:!O,placeholder:"Nom de l'leveur"})]})]})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Parents"})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Pre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom du pre",value:D.fatherName,onChange:oe=>k(We=>({...We,fatherName:oe.target.value})),disabled:!O}),r.jsx(se,{placeholder:"N pedigree du pre",value:D.fatherPedigree,onChange:oe=>k(We=>({...We,fatherPedigree:oe.target.value})),disabled:!O}),r.jsx(se,{placeholder:"Race du pre",value:D.fatherBreed,onChange:oe=>k(We=>({...We,fatherBreed:oe.target.value})),disabled:!O}),r.jsx(St,{placeholder:"Titres du pre",value:D.fatherTitles,onChange:oe=>k(We=>({...We,fatherTitles:oe.target.value})),disabled:!O,rows:2})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{placeholder:"Nom de la mre",value:D.motherName,onChange:oe=>k(We=>({...We,motherName:oe.target.value})),disabled:!O}),r.jsx(se,{placeholder:"N pedigree de la mre",value:D.motherPedigree,onChange:oe=>k(We=>({...We,motherPedigree:oe.target.value})),disabled:!O}),r.jsx(se,{placeholder:"Race de la mre",value:D.motherBreed,onChange:oe=>k(We=>({...We,motherBreed:oe.target.value})),disabled:!O}),r.jsx(St,{placeholder:"Titres de la mre",value:D.motherTitles,onChange:oe=>k(We=>({...We,motherTitles:oe.target.value})),disabled:!O,rows:2})]})]})]})})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Document officiel"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:async oe=>{var _n;const We=(_n=oe.target.files)==null?void 0:_n[0];if(!We)return;const Le=new FileReader;Le.onload=()=>k(Qn=>({...Qn,pedigreePhoto:Le.result})),Le.readAsDataURL(We)},disabled:!O}),D.pedigreePhoto&&r.jsx("img",{src:D.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),O&&r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:X,children:"Annuler"}),r.jsx(H,{onClick:B,children:"Sauvegarder"})]})]}),!D.hasPedigree&&r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(cM,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun pedigree officiel"}),r.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),r.jsxs(On,{value:"alerts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),rn.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Ri,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune alerte active"}),r.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):r.jsx("div",{className:"space-y-4",children:rn.map((oe,We)=>r.jsx(he,{className:oe.type==="danger"?"border-destructive":"border-accent",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ri,{className:`h-5 w-5 ${oe.type==="danger"?"text-destructive":"text-accent"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:oe.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:oe.message})]}),r.jsx(H,{size:"sm",variant:"outline",children:oe.action})]})})},We))})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(H,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(H,{onClick:ml,className:"gap-2",children:[r.jsx(_A,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),r.jsx(Gf,{open:v,onOpenChange:y}),r.jsx(bE,{open:N,onOpenChange:oe=>{j(oe),oe||(U({clientId:0,petId:0,type:"",reason:""}),L(null))},prefillClientId:Q.clientId,prefillPetId:Q.petId,prefillType:Q.type,prefillReason:Q.reason,originalVaccinationId:ie==null?void 0:ie.id}),b&&r.jsx(A0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsx(H,{onClick:()=>P(!1),children:"Fermer"})}),r.jsx(npe,{open:z,onOpenChange:oe=>{le(oe),oe||ee(null)},vaccination:pe}),C&&r.jsx(E0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsx(H,{onClick:()=>A(!1),children:"Fermer"})}),n&&r.jsx("div",{style:{display:"none"},children:r.jsx(N_,{ref:ve,petId:n.id})})]})}const sFe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function iFe(){const{pets:e,consultations:t,appointments:n,clients:s}=ft();Wt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),N=[...e].sort((k,F)=>!k.lastVisit&&!F.lastVisit?0:k.lastVisit?F.lastVisit?new Date(F.lastVisit).getTime()-new Date(k.lastVisit).getTime():-1:1).slice(0,5),j=e.length,b=e.filter(k=>k.status==="healthy").length;e.filter(k=>k.status==="treatment").length,e.filter(k=>k.status==="urgent").length;const P=e.filter(k=>{if(!k.lastVisit)return!1;const F=new Date(k.lastVisit),$=new Date().getMonth(),Q=new Date().getFullYear();return F.getMonth()===$&&F.getFullYear()===Q}).length,C=j>0?(t.length/j).toFixed(1):"0",A=k=>{v(k),l(!0)},_=k=>{v(k),u(!0)},E=k=>{v(k),f(!0)},O=k=>{v(k),g(!0)},I=k=>{const F=t.filter(U=>U.petId===k.id),$=n.filter(U=>U.petId===k.id),Q=s.find(U=>U.id===k.ownerId);return{consultations:F.length,appointments:$.length,owner:(Q==null?void 0:Q.name)||k.owner,lastConsultation:F.length>0?Math.max(...F.map(U=>new Date(U.date).getTime())):k.lastVisit?new Date(k.lastVisit).getTime():0}},D=k=>{switch(k){case"healthy":return r.jsx(Zt,{className:"h-3 w-3 text-green-600"});case"treatment":return r.jsx(yr,{className:"h-3 w-3 text-yellow-600"});case"urgent":return r.jsx(Un,{className:"h-3 w-3 text-red-600"});default:return r.jsx(Zt,{className:"h-3 w-3"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg font-semibold",children:"Animaux Rcents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Zt,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Aa,{className:"h-3 w-3"}),r.jsxs("span",{children:[b," en bonne sant"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(pr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",P," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(In,{className:"h-3 w-3"}),r.jsxs("span",{children:[" ",C," consultations"]})]})]})]}),r.jsxs(H,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),r.jsx(fe,{className:"space-y-4",children:N.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Zt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun animal enregistr"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premier animal"})]}):N.map(k=>{const F=I(k);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx(ts,{className:"h-12 w-12 flex-shrink-0",children:k.photo?r.jsx(jc,{src:k.photo,alt:k.name}):r.jsx(ns,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Zt,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium truncate",children:k.name}),r.jsxs(Oe,{variant:"outline",className:sFe[k.status],children:[D(k.status),r.jsx("span",{className:"ml-1",children:k.status==="healthy"?"En bonne sant":k.status==="treatment"?"En traitement":"Urgent"})]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium",children:k.type}),k.breed&&r.jsxs("span",{children:[" - ",k.breed]}),k.gender&&r.jsxs("span",{children:[" (",k.gender==="male"?"Mle":"Femelle",")"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kt,{className:"h-3 w-3"}),r.jsx("span",{children:k.birthDate?Xp(k.birthDate):"ge inconnu"})]})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Propritaire: ",F.owner]}),r.jsxs("span",{children:["Consultations: ",F.consultations]}),r.jsxs("span",{children:["RDV: ",F.appointments]}),k.lastVisit&&r.jsxs("span",{children:["Dernire visite: ",new Date(k.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),r.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>A(k),className:"h-8 px-2",children:r.jsx(Xr,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>_(k),className:"h-8 px-2",children:r.jsx(nn,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>E(k),className:"h-8 px-2 text-xs",children:"Dossier"}),r.jsx(H,{size:"sm",onClick:()=>O(k),className:"h-8 px-2 text-xs",children:r.jsx(yr,{className:"h-3 w-3"})})]})]},k.id)})})]}),r.jsx(fv,{open:i,onOpenChange:a}),r.jsx(Wfe,{open:o,onOpenChange:l,pet:x,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),f(!0)}}),r.jsx(Hfe,{open:c,onOpenChange:u,pet:x}),r.jsx(p9,{open:d,onOpenChange:f,pet:x}),r.jsx(Gf,{open:m,onOpenChange:g})]})}function g9({open:e,onOpenChange:t,consultation:n}){const{clients:s,pets:i,updateConsultation:a}=ft(),{toast:o}=Ut(),{settings:l}=Wt(),[c,u]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=i.filter(v=>v.ownerId===c.clientId),f=new Date().toISOString().split("T")[0],m=v=>{u(y=>({...y,[v.target.id]:v.target.value}))},g=(v,y)=>{if(v==="clientId"){const N=parseInt(y),j=s.find(b=>b.id===N);u(b=>({...b,clientId:N,clientName:(j==null?void 0:j.name)||"",petId:0,petName:""}))}else if(v==="petId"){const N=parseInt(y),j=i.find(b=>b.id===N);u(b=>({...b,petId:N,petName:(j==null?void 0:j.name)||""}))}else u(N=>({...N,[v]:y}))},x=v=>{if(v.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez slectionner un client et un animal.",variant:"destructive"});return}a(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||f,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifie",description:`Consultation pour ${c.petName} (${c.clientName}) a t modifie et sauvegarde.`}),t(!1)}};return w.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Modifier la Consultation"}),r.jsxs(Cn,{children:["Modifiez les dtails de la consultation pour ",n.petName,"."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Client *"}),r.jsxs($e,{value:c.clientId.toString(),onValueChange:v=>g("clientId",v),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner le client"})}),r.jsx(Me,{children:s.map(v=>r.jsx(Y,{value:v.id.toString(),children:v.name},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Animal *"}),r.jsxs($e,{value:c.petId.toString(),onValueChange:v=>g("petId",v),disabled:!c.clientId,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:c.clientId?"Slectionner l'animal":"Slectionnez d'abord un client"})}),r.jsx(Me,{children:d.map(v=>r.jsxs(Y,{value:v.id.toString(),children:[v.name," (",v.type,")"]},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:c.date||f,onChange:m,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(se,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:m,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"temperature",children:"Temprature (C)"}),r.jsx(se,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:m,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"symptoms",children:"Symptmes observs"}),r.jsx(St,{id:"symptoms",value:c.symptoms,onChange:m,placeholder:"Dcrivez les symptmes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(St,{id:"diagnosis",value:c.diagnosis,onChange:m,placeholder:"Diagnostic pos...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"treatment",children:"Traitement administr"}),r.jsx(St,{id:"treatment",value:c.treatment,onChange:m,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"medications",children:"Mdicaments prescrits"}),r.jsx(St,{id:"medications",value:c.medications,onChange:m,placeholder:"Liste des mdicaments avec posologie...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"followUp",children:"Suivi recommand"}),r.jsx(se,{id:"followUp",value:c.followUp,onChange:m,placeholder:"ex: Contrle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{htmlFor:"cost",children:["Cot (",l.currency,")"]}),r.jsx(se,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:m,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(St,{id:"notes",value:c.notes,onChange:m,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function Mj({consultation:e}){const{settings:t}=Wt(),n=()=>{const s=window.open("","_blank");if(!s)return;const i=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(e.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${e.weight||"Non renseign"}
              </div>
              <div class="info-item">
                <span class="info-label">Temprature:</span> ${e.temperature||"Non renseign"}
              </div>
            </div>
          </div>

          ${e.symptoms?`
            <div class="medical-section">
              <h3>Symptmes Observs</h3>
              <p>${e.symptoms}</p>
            </div>
          `:""}

          ${e.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${e.diagnosis}</p>
            </div>
          `:""}

          ${e.treatment?`
            <div class="medical-section">
              <h3>Traitement Administr</h3>
              <p>${e.treatment}</p>
            </div>
          `:""}

          ${e.medications?`
            <div class="medical-section">
              <h3>Mdicaments Prescrits</h3>
              <p>${e.medications}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommand</h3>
              <p>${e.followUp||"Aucun suivi prvu"}</p>
            </div>
            <div class="info-section">
              <h3>Cot</h3>
              <p>${e.cost?e.cost+" "+t.currency:"Non renseign"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation gnre le ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vtrinaire Complte</p>
          </div>
        </body>
      </html>
    `;s.document.write(i),s.document.close(),s.focus(),s.print(),s.close()};return r.jsxs(H,{size:"sm",variant:"outline",onClick:n,className:"gap-2",children:[r.jsx(_A,{className:"h-4 w-4"}),"Imprimer"]})}function aFe(){const{consultations:e,deleteConsultation:t,pets:n,clients:s}=ft(),{settings:i}=Wt(),{toast:a}=Ut(),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((F,$)=>new Date($.date).getTime()-new Date(F.date).getTime()).slice(0,5),x=e.length,v=e.filter(F=>F.date===new Date().toISOString().split("T")[0]).length,y=new Date().getMonth(),N=new Date().getFullYear(),j=e.filter(F=>{const $=new Date(F.date);return $.getMonth()===y&&$.getFullYear()===N}).length,b=e.filter(F=>{const $=new Date(F.date),Q=y===0?11:y-1,U=y===0?N-1:N;return $.getMonth()===Q&&$.getFullYear()===U}).length,P=b>0?Math.round((j-b)/b*100):j>0?100:0,C=j*50,A=b*50,_=A>0?Math.round((C-A)/A*100):C>0?100:0,E=F=>{f(F),u(!0)},O=F=>{confirm(`tes-vous sr de vouloir supprimer la consultation pour ${F.petName} ?`)&&(t(F.id),a({title:"Consultation supprime",description:`La consultation pour ${F.petName} a t supprime.`}))},I=F=>{const $=new Date().toISOString().split("T")[0];return F.date===$?"bg-accent text-accent-foreground":F.date<$?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},D=F=>{const $=new Date().toISOString().split("T")[0];return F.date===$?"Aujourd'hui":F.date<$?"Termine":" venir"},k=F=>{const $=n.find(U=>U.id===F.petId),Q=s.find(U=>U.id===F.clientId);return{petType:($==null?void 0:$.type)||"Inconnu",petBreed:($==null?void 0:$.breed)||"Non spcifie",clientPhone:(Q==null?void 0:Q.phone)||"Non spcifi",clientCity:(Q==null?void 0:Q.city)||"Non spcifie"}};return r.jsxs(r.Fragment,{children:[r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg font-semibold",children:"Consultations Rcentes"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(yr,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Aa,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," aujourd'hui"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(pr,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," ce mois"]}),P!==0&&r.jsxs(Oe,{variant:P>0?"default":"destructive",className:"text-xs",children:[P>0?"+":"",P,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($f,{className:"h-3 w-3"}),r.jsxs("span",{children:["~",C," ce mois"]}),_!==0&&r.jsxs(Oe,{variant:_>0?"default":"destructive",className:"text-xs",children:[_>0?"+":"",_,"%"]})]})]})]}),r.jsxs(H,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),r.jsx(fe,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(yr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistre"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premire consultation"})]}):g.map(F=>{const $=k(F);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ts,{className:"h-12 w-12",children:r.jsx(ns,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(yr,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Consultation #",F.id]}),r.jsx(Oe,{variant:"outline",className:I(F),children:D(F)}),F.cost&&r.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[F.cost," ",i.currency||""]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Zt,{className:"h-3 w-3"}),r.jsxs("span",{children:[F.petName," (",$.petType,")"]}),$.petBreed!=="Non spcifie"&&r.jsxs("span",{children:[" - ",$.petBreed]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"h-3 w-3"}),r.jsx("span",{children:F.clientName})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(F.date).toLocaleDateString("fr-FR")})]})]})}),r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[F.diagnosis&&r.jsxs("span",{children:["Diagnostic: ",F.diagnosis]}),F.weight&&r.jsxs("span",{children:["Poids: ",F.weight]}),F.temperature&&r.jsxs("span",{children:["Temprature: ",F.temperature,"C"]}),F.photos&&F.photos.length>0&&r.jsxs("span",{children:[" ",F.photos.length," photo",F.photos.length>1?"s":""]})]})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>E(F),className:"gap-2",children:[r.jsx(nn,{className:"h-4 w-4"}),"Modifier"]}),r.jsx(Mj,{consultation:F}),r.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>O(F),className:"gap-2",children:[r.jsx(zr,{className:"h-4 w-4"}),"Supprimer"]})]})]},F.id)})})]}),r.jsx(Gf,{open:o,onOpenChange:l}),r.jsx(g9,{open:c,onOpenChange:u,consultation:d})]})}function oFe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:s}=ft();Wt();const i=new Date().toISOString().split("T")[0];n();const a=s(),o=e.filter(d=>d.date===i&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:Un,title:"Stock puis",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Hn,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),a.length>0&&u.push({type:"warning",icon:In,title:"Rendez-vous en retard",message:`${a.length} rendez-vous en retard`,count:a.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:kt,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prvus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?r.jsxs(he,{className:"card-hover",children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-green-600 text-4xl mb-2",children:""}),r.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte  signaler."})]})})]}):r.jsxs(he,{className:"card-hover",children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Un,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",r.jsx(Oe,{variant:"destructive",className:"ml-2",children:u.length})]})}),r.jsx(fe,{className:"space-y-3",children:u.map((d,f)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:r.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:d.title}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),r.jsx(Oe,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},f))})]})}function lFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o}=ft();Wt();const l=e.reduce((N,j)=>N+j.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+s.length+i.length+a.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),f=new Date().toISOString().split("T")[0],m=n.filter(N=>N.date===f).length,g=s.filter(N=>N.date===f&&N.status!=="cancelled"&&N.status!=="completed").length,x=new Date().getMonth(),v=new Date().getFullYear(),y=n.filter(N=>{const j=new Date(N.date);return j.getMonth()===x&&j.getFullYear()===v}).length;return r.jsxs(he,{className:"mb-6",children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[c?r.jsx(Zn,{className:"h-5 w-5 text-green-600"}):r.jsx(Ri,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ea,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4 text-purple-600"}),r.jsxs("span",{className:"text-sm",children:["RDV: ",s.length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",m+g]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Ce mois: ",y]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-orange-600"}),r.jsxs("span",{className:"text-sm",children:["Prescriptions: ",i.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-4 w-4 text-indigo-600"}),r.jsxs("span",{className:"text-sm",children:["Fermes: ",a.length]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Intgrit des donnes:"}),r.jsxs(Oe,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ri,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-yellow-700",children:"Dsynchronisation dtecte"})]})}),!c&&r.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[r.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronis(s) entre clients et animaux"]})]})]})]})}function cFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o,resetData:l,exportData:c,importData:u}=ft(),{settings:d}=Wt(),{toast:f}=Ut(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),y=e.length+t.length+n.length+s.length+i.length+a.length+o.length,N=Math.round(y*.5),j=[...e.map(k=>k.lastVisit),...t.map(k=>k.lastVisit).filter(Boolean),...n.map(k=>k.date),...s.map(k=>k.date),...i.map(k=>k.date),...a.map(k=>k.lastVisit)].filter(Boolean),b=j.length>0?new Date(Math.max(...j.map(k=>new Date(k).getTime()))):new Date,P=new Date().toISOString().split("T")[0],C=new Date().getMonth(),A=new Date().getFullYear(),_=[...e.filter(k=>k.lastVisit===P),...t.filter(k=>k.lastVisit===P),...n.filter(k=>k.date===P),...s.filter(k=>k.date===P)].length,E=[...e.filter(k=>{const F=new Date(k.lastVisit);return F.getMonth()===C&&F.getFullYear()===A}),...t.filter(k=>{if(!k.lastVisit)return!1;const F=new Date(k.lastVisit);return F.getMonth()===C&&F.getFullYear()===A}),...n.filter(k=>{const F=new Date(k.date);return F.getMonth()===C&&F.getFullYear()===A}),...s.filter(k=>{const F=new Date(k.date);return F.getMonth()===C&&F.getFullYear()===A})].length,O=()=>{try{c(),f({title:"Donnes exportes",description:`Export de ${y} enregistrements russi.`})}catch{f({title:"Erreur d'export",description:"Impossible d'exporter les donnes.",variant:"destructive"})}},I=k=>{var Q;const F=(Q=k.target.files)==null?void 0:Q[0];if(!F)return;const $=new FileReader;$.onload=U=>{var ie,L;try{const z=JSON.parse((ie=U.target)==null?void 0:ie.result);if(z.clients&&z.pets)u(z),f({title:"Donnes importes",description:`${z.clients.length} clients, ${z.pets.length} animaux et ${((L=z.consultations)==null?void 0:L.length)||0} consultations imports avec succs.`});else throw new Error("Format de fichier invalide")}catch{f({title:"Erreur d'import",description:"Le fichier slectionn n'est pas valide.",variant:"destructive"})}},$.readAsText(F),v(!1)},D=()=>{try{l(),f({title:"Donnes rinitialises",description:"Toutes les donnes ont t remises aux valeurs par dfaut."}),g(!1)}catch{f({title:"Erreur de rinitialisation",description:"Impossible de rinitialiser les donnes.",variant:"destructive"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Bte,{className:"h-5 w-5"}),"Gestion des Donnes"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"text-muted-foreground",children:[y," enregistrements"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Taille:"}),r.jsxs("span",{className:"text-muted-foreground",children:["~",N," KB"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Dernire modif:"}),r.jsx("span",{className:"text-muted-foreground",children:b.toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),r.jsx("span",{className:"text-muted-foreground",children:_})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Ce mois:"}),r.jsx("span",{className:"text-muted-foreground",children:E})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Clinique:"}),r.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configure"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[r.jsx("div",{className:"font-medium text-blue-700",children:e.length}),r.jsx("div",{className:"text-blue-600",children:"Clients"})]}),r.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[r.jsx("div",{className:"font-medium text-red-700",children:t.length}),r.jsx("div",{className:"text-red-600",children:"Animaux"})]}),r.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[r.jsx("div",{className:"font-medium text-green-700",children:n.length}),r.jsx("div",{className:"text-green-600",children:"Consultations"})]}),r.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"font-medium text-purple-700",children:s.length}),r.jsx("div",{className:"text-purple-600",children:"RDV"})]}),r.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[r.jsx("div",{className:"font-medium text-orange-700",children:i.length}),r.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),r.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[r.jsx("div",{className:"font-medium text-indigo-700",children:a.length}),r.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:"outline",onClick:O,className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter"]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[r.jsx(YC,{className:"h-4 w-4"}),"Importer"]}),r.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>g(!0),className:"gap-2",children:[r.jsx(Z5,{className:"h-4 w-4"}),"Rinitialiser"]})]})]})]}),r.jsx(Tt,{open:m,onOpenChange:g,children:r.jsxs(Nt,{children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(Un,{className:"h-5 w-5 text-red-600"}),"Rinitialiser toutes les donnes"]}),r.jsx(Cn,{children:"Cette action supprimera dfinitivement toutes les donnes (clients, animaux, consultations, etc.) et les remettra aux valeurs par dfaut. Cette action ne peut pas tre annule."})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(H,{variant:"outline",onClick:()=>g(!1),children:"Annuler"}),r.jsx(H,{variant:"destructive",onClick:D,children:"Rinitialiser"})]})]})}),r.jsx(Tt,{open:x,onOpenChange:v,children:r.jsxs(Nt,{children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(YC,{className:"h-5 w-5"}),"Importer des donnes"]}),r.jsx(Cn,{children:"Slectionnez un fichier JSON export prcdemment pour restaurer vos donnes."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:".json",onChange:I,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Note:"})," L'import remplacera toutes les donnes existantes."]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(H,{variant:"outline",onClick:()=>v(!1),children:"Annuler"})})]})})]})}function uFe(){const{clients:e,pets:t,consultations:n,appointments:s,vaccinations:i,antiparasitics:a,stockItems:o,getUpcomingAppointments:l,getOverdueAppointments:c,generateAccountingSummary:u}=ft(),{settings:d}=Wt(),f=new Date().toISOString().split("T")[0],m=new Date().getMonth(),g=new Date().getFullYear(),x=n.filter(D=>D.date===f).length,v=s.filter(D=>D.date===f&&D.status!=="cancelled").length,N=l().filter(D=>{const k=new Date(D.date),F=new Date,$=new Date(F.getTime()+7*24*60*60*1e3);return k<=$}).length,j=c(),b=o.filter(D=>D.currentStock<=D.minimumStock).length,P=o.filter(D=>D.currentStock===0).length,C=new Date(g,m,1).toISOString().split("T")[0],A=new Date(g,m+1,0).toISOString().split("T")[0],_=u(`${g}-${String(m+1).padStart(2,"0")}`,C,A),E=e.filter(D=>{const k=new Date(D.createdAt);return k.getMonth()===m&&k.getFullYear()===g}).length,O=t.filter(D=>{const k=new Date(D.createdAt);return k.getMonth()===m&&k.getFullYear()===g}).length,I=[{title:"Consultations Aujourd'hui",value:x,icon:yr,color:"text-green-600",bgColor:"bg-green-50",trend:x>0?"up":"neutral",description:"Consultations ralises"},{title:"RDV Aujourd'hui",value:v,icon:kt,color:"text-blue-600",bgColor:"bg-blue-50",trend:v>0?"up":"neutral",description:"Rendez-vous programms"},{title:"RDV Cette Semaine",value:N,icon:In,color:"text-purple-600",bgColor:"bg-purple-50",trend:N>0?"up":"neutral",description:"Rendez-vous  venir"},{title:"RDV En Retard",value:j.length,icon:Un,color:j.length>0?"text-red-600":"text-gray-600",bgColor:j.length>0?"bg-red-50":"bg-gray-50",trend:j.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:E,icon:Ea,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:E>0?"up":"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:O,icon:Zt,color:"text-pink-600",bgColor:"bg-pink-50",trend:O>0?"up":"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${_.totalRevenue.toFixed(0)} ${d.currency||""}`,icon:$f,color:"text-green-600",bgColor:"bg-green-50",trend:_.totalRevenue>0?"up":"neutral",description:`Bnfice: ${_.netIncome.toFixed(0)} ${d.currency||""}`},{title:"Stock Critique",value:b,icon:Aa,color:b>0?"text-orange-600":"text-green-600",bgColor:b>0?"bg-orange-50":"bg-green-50",trend:b>0?"down":"neutral",description:`${P} en rupture`}];return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:I.map((D,k)=>r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-muted-foreground",children:D.title}),r.jsx("div",{className:`p-2 rounded-lg ${D.bgColor}`,children:r.jsx(D.icon,{className:`h-4 w-4 ${D.color}`})})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-2xl font-bold",children:D.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[D.trend==="up"&&r.jsxs(r.Fragment,{children:[r.jsx(pr,{className:"h-4 w-4 text-green-600"}),r.jsxs(Oe,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),D.trend==="down"&&r.jsxs(r.Fragment,{children:[r.jsx(Fu,{className:"h-4 w-4 text-red-600"}),r.jsxs(Oe,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),D.trend==="neutral"&&r.jsx(Oe,{variant:"outline",className:"text-xs",children:"0%"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:D.description})]})]},k))})}function dFe(){const{accountingEntries:e}=ft(),{settings:t}=Wt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(g=>{const x=new Date(g.date);return x>=new Date(c)&&x<=new Date(u)}),f=d.filter(g=>g.type==="revenue").reduce((g,x)=>g+x.amount,0),m=d.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(f),expenses:Math.round(m),profit:Math.round(f-m)})}return i})();return r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-base font-medium",children:"volution des Revenus"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($f,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(pr,{className:"h-4 w-4 text-green-600"})]})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(il,{width:"100%",height:"100%",children:r.jsxs(Ik,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(ed,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Da,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ma,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:i=>`${i}${t.currency||""}`}),r.jsx(Fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[`${i} ${t.currency||""}`,a==="revenue"?"Revenus":a==="expenses"?"Dpenses":"Bnfice"]}),r.jsx(Xi,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),r.jsx(Xi,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Dpenses"})]})]})]})]})}function hFe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:s}=ft(),a=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],f=e.filter(v=>v.date===d).length,m=t.filter(v=>v.date===d).length,g=n.filter(v=>v.dateGiven===d).length,x=s.filter(v=>v.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:f,appointments:m,vaccinations:g,antiparasitics:x,total:f+m+g+x})}return o})();return r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-base font-medium",children:"Activit des 7 derniers jours"}),r.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(il,{width:"100%",height:"100%",children:r.jsxs(qLe,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(ed,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Da,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ma,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),r.jsx(no,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),r.jsx(no,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),r.jsx(no,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),r.jsx(no,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function fFe(){const{stockItems:e}=ft(),t=q.useMemo(()=>{const i=e.length,a=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:i-a-o,color:"#10b981"},{name:"Stock Faible",value:a,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((i,a)=>i+a.currentStock*a.purchasePrice,0),s=e.sort((i,a)=>a.currentStock*a.purchasePrice-i.currentStock*i.purchasePrice).slice(0,5);return r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-base font-medium",children:"tat du Stock"}),r.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(il,{width:"100%",height:"100%",children:r.jsxs(Mk,{children:[r.jsx(La,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,a)=>r.jsx(rm,{fill:i.color},`cell-${a}`))}),r.jsx(Fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:i=>[i,"Articles"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),r.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," "]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus prcieux"}),s.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"truncate flex-1",children:i.name}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[(i.currentStock*i.purchasePrice).toFixed(0)," "]})]},i.id))]})]})]})]})}function mFe(){const{clients:e,pets:t}=ft(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,f=t.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,m=e.filter(x=>new Date(x.createdAt)<=u).length,g=t.filter(x=>new Date(x.createdAt)<=u).length;i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:f,totalClients:m,totalPets:g})}return i})();return r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-base font-medium",children:"Croissance des Clients"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(pr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(il,{width:"100%",height:"100%",children:r.jsxs(Ik,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(ed,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Da,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ma,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[i,a==="newClients"?"Nouveaux Clients":a==="newPets"?"Nouveaux Animaux":a==="totalClients"?"Total Clients":"Total Animaux"]}),r.jsx(Xi,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),r.jsx(Xi,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function pFe(){const{appointments:e}=ft(),t=q.useMemo(()=>{const c=e.reduce((f,m)=>(f[m.status]=(f[m.status]||0)+1,f),{}),u={scheduled:"Planifi",confirmed:"Confirm",completed:"Termin",cancelled:"Annul","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([f,m])=>({name:u[f]||f,value:m,color:d[f]||"#6b7280"}))},[e]),n=e.length,s=e.filter(c=>c.status==="completed").length,i=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,a=e.filter(c=>c.status==="cancelled").length,o=n>0?s/n*100:0,l=n>0?a/n*100:0;return r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(il,{width:"100%",height:"100%",children:r.jsxs(Mk,{children:[r.jsx(La,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>r.jsx(rm,{fill:c.color},`cell-${u}`))}),r.jsx(Fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de russite"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Termins"})]}),r.jsx("span",{className:"font-medium",children:s})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:" venir"})]}),r.jsx("span",{className:"font-medium",children:i})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qp,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{children:"Annuls"})]}),r.jsx("span",{className:"font-medium",children:a})]})]})]})]})]})}function gFe(){const{consultations:e}=ft(),n=(()=>{const s=[],i=new Date;for(let a=11;a>=0;a--){const o=new Date(i.getFullYear(),i.getMonth()-a,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(m=>{const g=new Date(m.date);return g>=l&&g<=c}),d=u.reduce((m,g)=>m+(g.cost||0),0),f=u.length>0?d/u.length:0;s.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(f)})}return s})();return r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-base font-medium",children:"Tendances des Consultations"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(pr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(il,{width:"100%",height:"100%",children:r.jsxs(Ik,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(ed,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Da,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ma,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(s,i)=>[i==="consultations"?s:`${s} `,i==="consultations"?"Consultations":i==="revenue"?"Revenus":"Revenu moyen"]}),r.jsx(Xi,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function vFe(){const{pets:e}=ft(),t=q.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,s=t.length>0?t[0]:null,i=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,a=o=>{switch(o.toLowerCase()){case"chien":case"dog":return r.jsx(zte,{className:"h-4 w-4"});case"chat":case"cat":return r.jsx(Ite,{className:"h-4 w-4"});case"poisson":case"fish":return r.jsx(Ute,{className:"h-4 w-4"});case"oiseau":case"bird":return r.jsx(Dte,{className:"h-4 w-4"});default:return r.jsx(Zt,{className:"h-4 w-4"})}};return r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-base font-medium",children:"Rpartition par Espce"}),r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(il,{width:"100%",height:"100%",children:r.jsxs(Mk,{children:[r.jsx(La,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>r.jsx(rm,{fill:o.color},`cell-${l}`))}),r.jsx(Fr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),r.jsx("span",{className:"font-medium",children:n})]}),s&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Espce la plus commune"}),r.jsxs("div",{className:"flex items-center gap-2",children:[a(s.name),r.jsx("span",{className:"font-medium",children:s.name})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"ge moyen"}),r.jsxs("span",{className:"font-medium",children:[i.toFixed(1)," ans"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Rpartition dtaille"}),t.slice(0,5).map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(o.name),r.jsx("span",{children:o.name})]}),r.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const xFe=()=>r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsx(Bfe,{}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Rel"}),r.jsx(uFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(lFe,{}),r.jsx(cFe,{}),r.jsx(oFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),r.jsx(zfe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(q2,{children:r.jsx(dFe,{})}),r.jsx(hFe,{})]})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(fFe,{}),r.jsx(mFe,{}),r.jsx(pFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(gFe,{}),r.jsx(vFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(qfe,{}),r.jsx(iFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activit Rcente"}),r.jsx(aFe,{})]}),r.jsx(q2,{children:r.jsx("section",{children:r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),gd=e=>{const{settings:t}=Wt();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},yFe=(e,t)=>{const n=t.filter(a=>a.client_id===e.id),s=Math.abs(e.id.split("").reduce((a,o)=>(a=(a<<5)-a+o.charCodeAt(0),a&a),0)),i=n.map(a=>({id:Math.abs(a.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:a.name,type:a.species,breed:a.breed||"",gender:a.sex==="Mle"?"male":a.sex==="Femelle"?"female":void 0,birthDate:a.birth_date||"",weight:a.weight?a.weight.toString():"",color:a.color||"",microchip:a.microchip_number||"",medicalNotes:a.notes||"",photo:a.photo_url||"",ownerId:s,owner:`${e.first_name} ${e.last_name}`,status:a.status==="vivant"?"healthy":a.status==="dcd"?"urgent":"treatment",lastVisit:a.updated_at?new Date(a.updated_at).toLocaleDateString("fr-FR"):void 0,vaccinations:[]}));return{id:s,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:i,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0}},jFe=()=>{const{data:e=[],isLoading:t}=yE(),{data:n=[],isLoading:s}=PV(),i=e.map(N=>yFe(N,n)),{currentView:a}=gd("clients"),[o,l]=w.useState(""),[c,u]=w.useState(a),[d,f]=w.useState(!1),[m,g]=w.useState(null);w.useState(!1),w.useState(!1);const x=i.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.email.toLowerCase().includes(o.toLowerCase())||N.city&&N.city.toLowerCase().includes(o.toLowerCase())),v=N=>{g(N)},y=N=>{g(N)};return t||s?r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Grez tous vos clients et leurs informations"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:c==="cards"?"default":"outline",onClick:()=>u("cards"),className:"gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(H,{size:"sm",variant:c==="table"?"default":"outline",onClick:()=>u("table"),className:"gap-2",children:[r.jsx(nl,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(H,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-5 w-5"}),"Rechercher un client"]})}),r.jsx(fe,{children:r.jsx(se,{placeholder:"Rechercher par nom, email ou ville...",value:o,onChange:N=>l(N.target.value),className:"max-w-md"})})]}),c==="cards"?r.jsx("div",{className:"grid gap-6",children:x.map(N=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx(ts,{className:"h-16 w-16",children:r.jsx(ns,{className:"bg-primary text-primary-foreground text-lg",children:N.name.split(" ").map(j=>j[0]).join("")})}),r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:N.name}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rf,{className:"h-3 w-3"}),N.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xh,{className:"h-3 w-3"}),N.phone]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ad,{className:"h-3 w-3"}),N.address]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-primary"}),"Animaux (",N.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:N.pets.length>0?N.pets.map((j,b)=>r.jsxs(Oe,{variant:"secondary",className:"gap-1",children:[j.name," - ",j.type," ",j.breed&&`(${j.breed})`]},j.id||b)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistr"})})]}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Dernire visite:"})," ",N.lastVisit]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Total visites:"})," ",N.totalVisits]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>v(N),children:[r.jsx(Xr,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(H,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>y(N),children:[r.jsx(nn,{className:"h-4 w-4"}),"Modifier"]})]})]})})},N.id))}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernire visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:x.map(N=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ts,{className:"h-10 w-10",children:r.jsx(ns,{className:"bg-primary text-primary-foreground text-sm",children:N.name.split(" ").map(j=>j[0]).join("")})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:N.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:N.address})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm",children:N.email}),r.jsx("div",{className:"text-sm text-muted-foreground",children:N.phone})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex gap-1 flex-wrap",children:N.pets.length>0?N.pets.map((j,b)=>r.jsx(Oe,{variant:"secondary",className:"text-xs",children:j.name},j.id||b)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),r.jsx("td",{className:"p-4",children:N.lastVisit}),r.jsx("td",{className:"p-4",children:N.totalVisits}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>v(N),children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>y(N),children:r.jsx(nn,{className:"h-4 w-4"})})]})})]},N.id))})]})})})}),r.jsx(hv,{open:d,onOpenChange:f})]})},bFe=()=>r.jsx(jFe,{});function wFe({pet:e,consultations:t}){var P,C,A;const n=[...t].sort((_,E)=>new Date(E.date).getTime()-new Date(_.date).getTime()),s=n.filter(_=>_.weight).map(_=>({date:_.date,weight:parseFloat(_.weight)})),i=n.filter(_=>_.temperature).map(_=>({date:_.date,temperature:parseFloat(_.temperature)})),a=((P=s[0])==null?void 0:P.weight)||0,o=((C=s[1])==null?void 0:C.weight)||0,l=a-o,c=l>0?"up":l<0?"down":"stable",u=((A=i[0])==null?void 0:A.temperature)||0,d=i.length>0?i.reduce((_,E)=>_+E.temperature,0)/i.length:0,f=i.length>0?Math.min(...i.map(_=>_.temperature)):0,m=i.length>0?Math.max(...i.map(_=>_.temperature)):0,g=t.length,x=new Date().getMonth(),v=new Date().getFullYear(),y=t.filter(_=>{const E=new Date(_.date);return E.getMonth()===x&&E.getFullYear()===v}).length,N=n[0],j=N?Math.floor((new Date().getTime()-new Date(N.date).getTime())/(1e3*60*60*24)):null,b=[];return u>39.5?b.push({type:"danger",message:"Temprature leve",icon:Un}):u<37.5&&b.push({type:"warning",message:"Temprature basse",icon:Un}),l<-2&&b.push({type:"warning",message:"Perte de poids",icon:Fu}),j&&j>180&&b.push({type:"info",message:"Contrle recommand",icon:kt}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques mdicales"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(he,{children:[r.jsx(Ee,{className:"pb-2",children:r.jsxs(Te,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(QC,{className:"h-4 w-4"}),"Poids actuel"]})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[a,"kg"]}),l!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?r.jsx(pr,{className:"h-3 w-3 text-green-600"}):c==="down"?r.jsx(Fu,{className:"h-3 w-3 text-red-600"}):r.jsx(Wte,{className:"h-3 w-3 text-gray-600"}),r.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{className:"pb-2",children:r.jsxs(Te,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(d0,{className:"h-4 w-4"}),"Temprature"]})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[u,"C"]}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"C"]}),i.length>1&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",f,"C | Max: ",m,"C"]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{className:"pb-2",children:r.jsxs(Te,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Aa,{className:"h-4 w-4"}),"Consultations"]})}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold",children:g}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",y]}),N&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernire: ",new Date(N.date).toLocaleDateString("fr-FR")]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{className:"pb-2",children:r.jsxs(Te,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Un,{className:"h-4 w-4"}),"Alertes"]})}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold",children:b.length}),r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:b.length>0?" traiter":"Aucune"}),b.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:b.slice(0,2).map((_,E)=>r.jsx(Oe,{variant:"outline",className:"text-xs",children:_.message},E))})]})]})]}),b.length>0&&r.jsxs(he,{className:"border-destructive/20",children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-destructive text-base",children:"Alertes mdicales"})}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-2",children:b.map((_,E)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[r.jsx(_.icon,{className:`h-4 w-4 ${_.type==="danger"?"text-destructive":_.type==="warning"?"text-yellow-600":"text-blue-600"}`}),r.jsx("span",{className:"text-sm font-medium",children:_.message})]},E))})})]}),s.length>1||i.length>1?r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-base",children:"Tendances"})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"volution du poids"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids initial:"}),r.jsxs("span",{children:[s[s.length-1].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids actuel:"}),r.jsxs("span",{children:[s[0].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"volution totale:"}),r.jsxs("span",{className:s[0].weight>s[s.length-1].weight?"text-green-600":"text-red-600",children:[s[0].weight-s[s.length-1].weight,"kg"]})]})]})]}),i.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"volution de la temprature"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Temprature moyenne:"}),r.jsxs("span",{children:[d.toFixed(1),"C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Variation:"}),r.jsxs("span",{children:[m-f,"C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Stabilit:"}),r.jsx("span",{className:m-f<1?"text-green-600":"text-yellow-600",children:m-f<1?"Stable":"Variable"})]})]})]})]})})]}):r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Aa,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"Pas assez de donnes pour afficher les tendances"}),r.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et temprature"})]})})]})}const B3={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},NFe=(e,t)=>{const n=t.find(o=>o.id===e.client_id),s=n?`${n.first_name} ${n.last_name}`:"Propritaire inconnu",i=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),a=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:i,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:a,owner:s,status:e.status==="vivant"?"healthy":e.status==="dcd"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[]}},SFe=()=>{const{data:e=[],isLoading:t}=PV(),{data:n=[],isLoading:s}=yE(),i=e.map(k=>NFe(k,n)),a=[],o=k=>[],{currentView:l}=gd("pets"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState("all"),[x,v]=w.useState(l),{settings:y}=Wt(),N=y.species.split(",").map(k=>k.trim()).filter(k=>k.length>0),[j,b]=w.useState(!1),[P,C]=w.useState(!1),[A,_]=w.useState(null);w.useState(!1),w.useState(!1),w.useState(!1);const E=i.filter(k=>{const F=k.name.toLowerCase().includes(c.toLowerCase())||k.breed&&k.breed.toLowerCase().includes(c.toLowerCase())||k.owner.toLowerCase().includes(c.toLowerCase()),$=d==="all"||k.type.toLowerCase()===d.toLowerCase(),Q=m==="all"||k.status===m;return F&&$&&Q}),O=k=>{_(k)},I=k=>{_(k)},D=k=>{_(k)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations mdicales"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(H,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(nl,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(H,{className:"gap-2 medical-glow",onClick:()=>b(!0),children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),r.jsx("p",{className:"text-2xl font-bold",children:i.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:a.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Aa,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ce mois"}),r.jsx("p",{className:"text-2xl font-bold",children:a.filter(k=>{const F=new Date(k.date),$=new Date;return F.getMonth()===$.getMonth()&&F.getFullYear()===$.getFullYear()}).length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),r.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, race ou propritaire...",value:c,onChange:k=>u(k.target.value),className:"max-w-md"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs($e,{value:d,onValueChange:f,children:[r.jsx(De,{className:"w-40",children:r.jsx(Re,{placeholder:"Tous types"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous types"}),N.map((k,F)=>r.jsx(Y,{value:k.toLowerCase(),children:k},F))]})]}),r.jsxs($e,{value:m,onValueChange:g,children:[r.jsx(De,{className:"w-40",children:r.jsx(Re,{placeholder:"Statut"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous statuts"}),r.jsx(Y,{value:"healthy",children:"En bonne sant"}),r.jsx(Y,{value:"treatment",children:"En traitement"}),r.jsx(Y,{value:"urgent",children:"Urgent"})]})]})]})]})]}),x==="cards"?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:E.map(k=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ts,{className:"h-16 w-16",children:k.photo?r.jsx(jc,{src:k.photo,alt:k.name}):r.jsx(ns,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Zt,{className:"h-8 w-8"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:k.name}),r.jsx("p",{className:"text-muted-foreground",children:k.breed}),r.jsx(Oe,{variant:"outline",className:B3[k.status],children:k.status==="healthy"?"En bonne sant":k.status==="treatment"?"En traitement":"Urgent"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",k.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ge:"})," ",k.birthDate?Xp(k.birthDate):"Non renseign"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"})," ",k.weight]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",k.color]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Propritaire: ",k.owner]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Dernire visite: ",k.lastVisit?new Date(k.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(yr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Consultations: ",o(k.id).length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:k.vaccinations&&k.vaccinations.length>0?k.vaccinations.map((F,$)=>r.jsx(Oe,{variant:"outline",className:"text-xs",children:F},$)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucune vaccination enregistre"})})]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs(H,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>O(k),children:[r.jsx(Xr,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(H,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>I(k),children:[r.jsx(nn,{className:"h-4 w-4"}),"Modifier"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>D(k),children:"Dossier Mdical"}),r.jsxs(H,{size:"sm",className:"flex-1",onClick:()=>{_(k),C(!0)},children:[r.jsx(yr,{className:"h-4 w-4 mr-2"}),"Consultation"]})]})]})})},k.id))}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"ge"}),r.jsx("th",{className:"p-4 font-medium",children:"Propritaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernire visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:E.map(k=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ts,{className:"h-10 w-10",children:k.photo?r.jsx(jc,{src:k.photo,alt:k.name}):r.jsx(ns,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Zt,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:k.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.breed})]})]})}),r.jsx("td",{className:"p-4",children:k.type}),r.jsx("td",{className:"p-4",children:k.birthDate?Xp(k.birthDate):"Non renseign"}),r.jsx("td",{className:"p-4",children:k.owner}),r.jsx("td",{className:"p-4",children:r.jsx(Oe,{variant:"outline",className:B3[k.status],children:k.status==="healthy"?"En bonne sant":k.status==="treatment"?"En traitement":"Urgent"})}),r.jsx("td",{className:"p-4",children:k.lastVisit?new Date(k.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>O(k),children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>I(k),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>D(k),children:"Dossier"})]})})]},k.id))})]})})})}),A&&r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Aa,{className:"h-5 w-5"}),"Statistiques mdicales - ",A.name]})}),r.jsx(fe,{children:r.jsx(wFe,{pet:A,consultations:o(A.id)})})]}),r.jsx(fv,{open:j,onOpenChange:b}),r.jsx(Gf,{open:P,onOpenChange:C})]})},CFe=()=>r.jsx(SFe,{}),PFe={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},_Fe=(e,t,n)=>{let s;const i=PFe[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},AFe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},EFe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},kFe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TFe={date:_h({formats:AFe,defaultWidth:"full"}),time:_h({formats:EFe,defaultWidth:"full"}),dateTime:_h({formats:kFe,defaultWidth:"full"})},OFe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},DFe=(e,t,n,s)=>OFe[e],MFe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},IFe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},$Fe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},RFe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},LFe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},FFe=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=s&&i.includes(s)?"re":"er":a="me",n+a},BFe=["MMM","MMMM"],zFe={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&BFe.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:FFe,era:Ja({values:MFe,defaultWidth:"wide"}),quarter:Ja({values:IFe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ja({values:$Fe,defaultWidth:"wide"}),day:Ja({values:RFe,defaultWidth:"wide"}),dayPeriod:Ja({values:LFe,defaultWidth:"wide"})},VFe=/^(\d+)(ime|re|me|er|e)?/i,UFe=/\d+/i,qFe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},WFe={any:[/^av/i,/^ap/i]},HFe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},GFe={any:[/1/i,/2/i,/3/i,/4/i]},KFe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},YFe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},QFe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},XFe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},JFe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},ZFe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},e5e={ordinalNumber:lU({matchPattern:VFe,parsePattern:UFe,valueCallback:e=>parseInt(e)}),era:Za({matchPatterns:qFe,defaultMatchWidth:"wide",parsePatterns:WFe,defaultParseWidth:"any"}),quarter:Za({matchPatterns:HFe,defaultMatchWidth:"wide",parsePatterns:GFe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Za({matchPatterns:KFe,defaultMatchWidth:"wide",parsePatterns:YFe,defaultParseWidth:"any"}),day:Za({matchPatterns:QFe,defaultMatchWidth:"wide",parsePatterns:XFe,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:JFe,defaultMatchWidth:"any",parsePatterns:ZFe,defaultParseWidth:"any"})},qi={code:"fr",formatDistance:_Fe,formatLong:TFe,formatRelative:DFe,localize:zFe,match:e5e,options:{weekStartsOn:1,firstWeekContainsDate:4}},z3=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},V3=(e,t)=>{switch(e){case"appointment":return r.jsx(In,{className:"h-3 w-3"});case"vaccination":return r.jsx(Zn,{className:"h-3 w-3"});case"antiparasitic":return r.jsx(Un,{className:"h-3 w-3"});default:return r.jsx(kt,{className:"h-3 w-3"})}},Rk=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:s,showTimeSlots:i=!1,title:a="Calendrier",icon:o=r.jsx(kt,{className:"h-5 w-5"})})=>{var A;const{settings:l}=Wt(),[c,u]=w.useState(new Date),[d,f]=w.useState(""),m=new Date(c.getFullYear(),c.getMonth(),1),g=new Date(c.getFullYear(),c.getMonth()+1,0),x=new Date(m);x.setDate(x.getDate()-m.getDay());const v=[],y=new Date(x);for(;y<=g||v.length<42;)v.push(new Date(y)),y.setDate(y.getDate()+1);const N=w.useMemo(()=>{const _={};return e.forEach(E=>{const O=E.date;_[O]||(_[O]=[]),_[O].push(E)}),_},[e]),j=w.useMemo(()=>!d||!i?[]:jE(d,l.scheduleSettings,[]),[d,i,l.scheduleSettings]),b=_=>{const E=new Date(c);E.setMonth(c.getMonth()+(_==="next"?1:-1)),u(E)},P=_=>{const E=It(_,"yyyy-MM-dd");f(E),n==null||n(E)},C=_=>{s&&d&&s(d,_)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ee,{className:"pb-3 sm:pb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[r.jsxs(Te,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,a]}),r.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[r.jsx(H,{variant:"outline",size:"sm",onClick:()=>b("prev"),className:"flex-1 sm:flex-none",children:""}),r.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:It(c,"MMMM yyyy",{locale:qi})}),r.jsx(H,{variant:"outline",size:"sm",onClick:()=>b("next"),className:"flex-1 sm:flex-none",children:""})]})]})}),r.jsxs(fe,{className:"p-2 sm:p-6",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(_=>r.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:_},_))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:v.map((_,E)=>{const O=It(_,"yyyy-MM-dd"),I=N[O]||[],D=_.getMonth()===c.getMonth(),k=eme(_,new Date),F=O===d,$=efe(O,l.scheduleSettings);return r.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${D?"bg-white":"bg-gray-50"}
                    ${k?"ring-2 ring-blue-500":""}
                    ${F?"bg-blue-100 border-blue-300":""}
                    ${$?"":"opacity-50"}
                  `,onClick:()=>P(_),children:[r.jsx("div",{className:`text-xs sm:text-sm font-medium ${D?"text-gray-900":"text-gray-400"}`,children:_.getDate()}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[I.slice(0,2).map((Q,U)=>r.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${z3(Q.type,Q.status)}
                        `,title:`${Q.title}${Q.time?` - ${Q.time}`:""}${Q.clientName?` (${Q.clientName})`:""}`,onClick:ie=>{ie.stopPropagation(),t==null||t(Q)},children:r.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[V3(Q.type,Q.status),r.jsx("span",{className:"truncate text-xs",children:Q.title})]})},U)),I.length>2&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",I.length-2]})]})]},E)})})]})]}),d&&r.jsxs(he,{children:[r.jsx(Ee,{className:"pb-3",children:r.jsx(Te,{className:"text-base sm:text-lg",children:It(new Date(d),"EEEE d MMMM yyyy",{locale:qi})})}),r.jsxs(fe,{className:"p-3 sm:p-6",children:[((A=N[d])==null?void 0:A.length)>0?r.jsx("div",{className:"space-y-3",children:N[d].map(_=>r.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${z3(_.type,_.status)}
                    `,onClick:()=>t==null?void 0:t(_),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[V3(_.type,_.status),r.jsx("span",{className:"font-medium",children:_.title})]}),r.jsx(Oe,{variant:"outline",className:"text-xs",children:_.status})]}),_.time&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(In,{className:"h-3 w-3"}),r.jsx("span",{children:_.time})]}),_.clientName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Jr,{className:"h-3 w-3"}),r.jsx("span",{children:_.clientName})]}),_.petName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Zt,{className:"h-3 w-3"}),r.jsx("span",{children:_.petName})]})]},_.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun vnement prvu pour cette date"}),i&&j.length>0&&r.jsxs("div",{className:"mt-4 sm:mt-6",children:[r.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Crneaux disponibles"}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:j.map(_=>r.jsxs(H,{variant:_.isAvailable?"outline":"ghost",size:"sm",disabled:!_.isAvailable,onClick:()=>C(_.time),className:"text-xs p-1 sm:p-2",children:[_.time,_.isLunchBreak&&r.jsx(Oe,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},_.time))})]})]})]})]})},U3={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},YS={scheduled:"Planifi",confirmed:"Confirm",completed:"Termin",cancelled:"Annul","no-show":"Absent"},q3={consultation:"Consultation gnrale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrle post-opratoire",sterilisation:"Strilisation",dentaire:"Soins dentaires"};function t5e(){const{appointments:e,deleteAppointment:t,updateAppointment:n,getUpcomingAppointments:s,getOverdueAppointments:i}=ft(),{toast:a}=Ut(),{currentView:o}=gd("appointments"),[l,c]=w.useState(!1),[u,d]=w.useState(""),[f,m]=w.useState("all"),[g,x]=w.useState("all"),[v,y]=w.useState("all"),[N,j]=w.useState(new Date().toISOString().split("T")[0]),[b,P]=w.useState("list"),[C,A]=w.useState(o),[_,E]=w.useState(null),[O,I]=w.useState(""),[D,k]=w.useState(()=>{const re=new Date;return new Date(re.getFullYear(),re.getMonth(),1)}),F=s(),$=i(),Q=e.filter(re=>{const B=re.clientName.toLowerCase().includes(u.toLowerCase())||re.petName.toLowerCase().includes(u.toLowerCase())||re.reason&&re.reason.toLowerCase().includes(u.toLowerCase()),X=f==="all"||re.status===f,ye=g==="all"||re.type===g;let Z=!0;if(v==="today")Z=re.date===new Date().toISOString().split("T")[0];else if(v==="week"){const M=new Date(re.date),je=new Date,we=new Date(je.getTime()+7*24*60*60*1e3);Z=M>=je&&M<=we}else if(v==="month"){const M=new Date(re.date),je=new Date,we=je.getMonth(),Fe=je.getFullYear();Z=M.getMonth()===we&&M.getFullYear()===Fe}else v==="specific"&&(Z=re.date===N);return B&&X&&ye&&Z}),U=(re,B)=>{n(re,{status:B}),a({title:"Statut mis  jour",description:`Le rendez-vous est maintenant ${YS[B].toLowerCase()}.`})},ie=()=>{if(!_)return;const{id:re,field:B}=_,X=e.find(ye=>ye.id===re);if(X){const ye={...X,[B]:O};n(re,ye),a({title:"Modifi",description:`${B} mis  jour`})}E(null)},L=re=>{confirm(`tes-vous sr de vouloir supprimer le rendez-vous pour ${re.petName} ?`)&&(t(re.id),a({title:"Rendez-vous supprim",description:`Le rendez-vous pour ${re.petName} a t supprim.`}))},z=re=>e.filter(B=>B.date===re),pe=(()=>{const re=new Date().toISOString().split("T")[0];return z(re)})(),ee=D.getFullYear(),J=D.getMonth(),te=new Date(ee,J,1).getDay(),xe=new Date(ee,J+1,0).getDate();let ve=1-te;for(;ve<=xe;){const re=[];for(let B=0;B<7;B++)ve>0&&ve<=xe?re.push(ve):re.push(0),ve++}return r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Planifiez et grez tous vos rendez-vous vtrinaires"})]}),r.jsxs(H,{onClick:()=>c(!0),className:"gap-2 w-full sm:w-auto",children:[r.jsx(bt,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nouveau Rendez-vous"}),r.jsx("span",{className:"sm:hidden",children:"Nouveau RDV"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:b==="list"?"default":"outline",onClick:()=>P("list"),size:"sm",className:"flex-1 sm:flex-none",children:"Liste"}),r.jsx(H,{variant:b==="calendar"?"default":"outline",onClick:()=>P("calendar"),size:"sm",className:"flex-1 sm:flex-none",children:"Calendrier"})]}),b==="list"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:C==="cards"?"default":"outline",onClick:()=>A("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(tl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),r.jsxs(H,{size:"sm",variant:C==="table"?"default":"outline",onClick:()=>A("table"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(nl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Tableau"})]})]})]}),b==="calendar"?r.jsx(Rk,{events:e.map(re=>({id:re.id,type:"appointment",title:`${re.clientName} - ${re.petName}`,time:re.time,date:re.date,status:re.status,clientName:re.clientName,petName:re.petName})),onEventClick:re=>{},onDateClick:re=>{j(re)},onTimeSlotClick:(re,B)=>{c(!0)},showTimeSlots:!0,title:"Calendrier des Rendez-vous",icon:r.jsx(kt,{className:"h-5 w-5"})}):r.jsxs("div",{className:"grid gap-2 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Aujourd'hui"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:pe.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:" venir"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:F.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ri,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"En retard"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:$.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e.length})]})]})})})]}),r.jsxs(he,{children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs(Te,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(PA,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filtres et Recherche"]})}),r.jsx(fe,{className:"space-y-3 sm:space-y-4",children:r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(tp,{children:"Recherche"}),r.jsxs("div",{className:"relative",children:[r.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(se,{placeholder:"Client, animal, motif...",value:u,onChange:re=>d(re.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(tp,{children:"Statut"}),r.jsxs($e,{value:f,onValueChange:m,children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous les statuts"}),r.jsx(Y,{value:"scheduled",children:"Planifi"}),r.jsx(Y,{value:"confirmed",children:"Confirm"}),r.jsx(Y,{value:"completed",children:"Termin"}),r.jsx(Y,{value:"cancelled",children:"Annul"}),r.jsx(Y,{value:"no-show",children:"Absent"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(tp,{children:"Type"}),r.jsxs($e,{value:g,onValueChange:x,children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous les types"}),r.jsx(Y,{value:"consultation",children:"Consultation"}),r.jsx(Y,{value:"vaccination",children:"Vaccination"}),r.jsx(Y,{value:"chirurgie",children:"Chirurgie"}),r.jsx(Y,{value:"urgence",children:"Urgence"}),r.jsx(Y,{value:"controle",children:"Contrle"}),r.jsx(Y,{value:"sterilisation",children:"Strilisation"}),r.jsx(Y,{value:"dentaire",children:"Dentaire"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(tp,{children:"Priode"}),r.jsxs($e,{value:v,onValueChange:y,children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Toutes les dates"}),r.jsx(Y,{value:"today",children:"Ce jour"}),r.jsx(Y,{value:"week",children:"Cette semaine"}),r.jsx(Y,{value:"month",children:"Ce mois"}),r.jsx(Y,{value:"specific",children:"Date spcifique"})]})]})]}),v==="specific"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(tp,{children:"Date"}),r.jsx(se,{type:"date",value:N,onChange:re=>j(re.target.value)})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-xl font-semibold",children:["Rendez-vous (",Q.length,")"]})}),Q.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(kt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun rendez-vous trouv"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premier rendez-vous"})]})}):C==="cards"?r.jsx("div",{className:"space-y-4",children:Q.sort((re,B)=>new Date(re.date+"T"+re.time).getTime()-new Date(B.date+"T"+B.time).getTime()).map(re=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-4 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:re.clientName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:re.petName})]}),r.jsx(Oe,{className:U3[re.status],children:YS[re.status]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:new Date(re.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:re.time})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{className:"ml-1",children:q3[re.type]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Dure:"}),r.jsxs("span",{className:"ml-1",children:[re.duration," min"]})]})]}),re.reason&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Motif:"}),r.jsx("p",{className:"text-sm mt-1",children:re.reason})]}),re.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:re.notes})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[re.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>U(re.id,"confirmed"),className:"gap-1",children:[r.jsx(Zn,{className:"h-3 w-3"}),"Confirmer"]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>U(re.id,"cancelled"),className:"gap-1 text-red-600",children:[r.jsx(Qp,{className:"h-3 w-3"}),"Annuler"]})]}),re.status==="confirmed"&&r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>U(re.id,"completed"),className:"gap-1",children:[r.jsx(Zn,{className:"h-3 w-3"}),"Terminer"]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>L(re),className:"gap-1 text-red-600",children:[r.jsx(zn,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},re.id))}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client / Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Date & Heure"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Motif"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:Q.sort((re,B)=>new Date(re.date+"T"+re.time).getTime()-new Date(B.date+"T"+B.time).getTime()).map(re=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:re.clientName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:re.petName})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:re.id,field:"date"}),I(re.date)},children:[r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),(_==null?void 0:_.id)===re.id&&_.field==="date"?r.jsx(se,{type:"date",value:O,onChange:B=>I(B.target.value),onBlur:ie,autoFocus:!0,className:"w-32"}):r.jsx("span",{children:new Date(re.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:re.id,field:"time"}),I(re.time)},children:[r.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),(_==null?void 0:_.id)===re.id&&_.field==="time"?r.jsx(se,{type:"time",value:O,onChange:B=>I(B.target.value),onBlur:ie,autoFocus:!0,className:"w-24"}):r.jsx("span",{className:"text-sm text-muted-foreground",children:re.time})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:q3[re.type]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[re.duration," min"]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"cursor-pointer",onClick:()=>{E({id:re.id,field:"status"}),I(re.status)},children:(_==null?void 0:_.id)===re.id&&_.field==="status"?r.jsxs($e,{value:O,onValueChange:B=>{I(B),n(re.id,{status:B}),E(null)},children:[r.jsx(De,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"scheduled",children:"Planifi"}),r.jsx(Y,{value:"confirmed",children:"Confirm"}),r.jsx(Y,{value:"completed",children:"Termin"}),r.jsx(Y,{value:"cancelled",children:"Annul"}),r.jsx(Y,{value:"no-show",children:"Absent"})]})]}):r.jsx(Oe,{className:U3[re.status],children:YS[re.status]})})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"max-w-xs cursor-pointer",onClick:()=>{E({id:re.id,field:"reason"}),I(re.reason||"")},children:(_==null?void 0:_.id)===re.id&&_.field==="reason"?r.jsx(se,{value:O,onChange:B=>I(B.target.value),onBlur:ie,autoFocus:!0,placeholder:"Motif du rendez-vous"}):r.jsxs(r.Fragment,{children:[re.reason&&r.jsx("div",{className:"text-sm",children:re.reason}),re.notes&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:re.notes})]})})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[re.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>U(re.id,"confirmed"),children:r.jsx(Zn,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>U(re.id,"cancelled"),className:"text-red-600",children:r.jsx(Qp,{className:"h-3 w-3"})})]}),re.status==="confirmed"&&r.jsx(H,{size:"sm",variant:"outline",onClick:()=>U(re.id,"completed"),children:r.jsx(Zn,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>L(re),className:"text-red-600",children:r.jsx(zn,{className:"h-3 w-3"})})]})})]},re.id))})]})})})})]}),r.jsx(bE,{open:l,onOpenChange:c})]})}const tp=({children:e,...t})=>r.jsx("label",{className:"text-sm font-medium",...t,children:e}),lm=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ze("w-full caption-bottom text-sm",e),...t})}));lm.displayName="Table";const cm=w.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ze("[&_tr]:border-b",e),...t}));cm.displayName="TableHeader";const um=w.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ze("[&_tr:last-child]:border-0",e),...t}));um.displayName="TableBody";const n5e=w.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));n5e.displayName="TableFooter";const Ia=w.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ia.displayName="TableRow";const At=w.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));At.displayName="TableHead";const Et=w.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ze("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Et.displayName="TableCell";const r5e=w.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ze("mt-4 text-sm text-muted-foreground",e),...t}));r5e.displayName="TableCaption";const s5e=()=>{const{consultations:e,deleteConsultation:t}=ft(),{settings:n}=Wt(),{toast:s}=Ut(),{currentView:i}=gd("consultations"),[a,o]=w.useState(""),[l,c]=w.useState("all"),[u,d]=w.useState(i),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(null),[N,j]=w.useState(!1),[b,P]=w.useState(null),[C,A]=w.useState(null),_=e.filter(k=>{const F=k.clientName.toLowerCase().includes(a.toLowerCase())||k.petName.toLowerCase().includes(a.toLowerCase())||k.symptoms&&k.symptoms.toLowerCase().includes(a.toLowerCase())||k.diagnosis&&k.diagnosis.toLowerCase().includes(a.toLowerCase());if(l==="all")return F;const $=new Date(k.date),U=(new Date().getTime()-$.getTime())/(1e3*3600*24);switch(l){case"week":return F&&U<=7;case"month":return F&&U<=30;case"quarter":return F&&U<=90;default:return F}}),E=k=>{y(k),x(!0)},O=k=>{P(k.petId),A(k.id),j(!0)},I=k=>{confirm(`tes-vous sr de vouloir supprimer la consultation pour ${k.petName} ?`)&&(t(k.id),s({title:"Consultation supprime",description:`La consultation pour ${k.petName} a t supprime.`}))},D=k=>{y({...k,id:0,date:new Date().toISOString().split("T")[0],symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),m(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Grez et consultez tous les dossiers mdicaux"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex border rounded-lg p-1",children:[r.jsx(H,{variant:u==="cards"?"default":"ghost",size:"sm",onClick:()=>d("cards"),className:"px-3",children:r.jsx(tl,{className:"h-4 w-4"})}),r.jsx(H,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>d("table"),className:"px-3",children:r.jsx(nl,{className:"h-4 w-4"})})]}),r.jsxs(H,{className:"gap-2 medical-glow",onClick:()=>m(!0),children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(se,{placeholder:"Rechercher par client, animal, symptmes ou diagnostic...",value:a,onChange:k=>o(k.target.value),className:"max-w-md"}),r.jsxs($e,{value:l,onValueChange:c,children:[r.jsx(De,{className:"w-48",children:r.jsx(Re,{placeholder:"Priode"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Toutes les priodes"}),r.jsx(Y,{value:"week",children:"Cette semaine"}),r.jsx(Y,{value:"month",children:"Ce mois"}),r.jsx(Y,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations rcentes (",_.length,")"]}),_.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(zr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation trouve"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premire consultation"})]})}):u==="cards"?_.map(k=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:k.petName}),r.jsx(Oe,{variant:"secondary",children:"Consultation"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(k.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"h-3 w-3"}),k.clientName]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zr,{className:"h-3 w-3"}),"Consultation #",k.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[k.temperature&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(d0,{className:"h-4 w-4 text-primary"}),k.temperature,"C"]}),k.weight&&r.jsxs("span",{children:[k.weight," kg"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[k.symptoms&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Symptmes:"}),r.jsx("p",{className:"text-sm",children:k.symptoms})]}),k.diagnosis&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm",children:k.diagnosis})]})]}),r.jsxs("div",{className:"space-y-2",children:[k.treatment&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm",children:k.treatment})]}),k.medications&&r.jsxs(r.Fragment,{children:[r.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Mdicaments:"]}),r.jsx("p",{className:"text-sm",children:k.medications})]})]})]}),k.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:k.notes})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.jsx(kt,{className:"h-3 w-3 inline mr-1"}),k.followUp?`Suivi: ${k.followUp}`:"Aucun suivi prvu"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Mj,{consultation:k}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>E(k),className:"gap-1",children:[r.jsx(nn,{className:"h-3 w-3"}),"Modifier"]}),r.jsxs(H,{size:"sm",variant:"default",onClick:()=>O(k),className:"gap-1",children:[r.jsx(Ho,{className:"h-3 w-3"}),"Prescription"]}),r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>I(k),className:"gap-1 text-red-600 hover:text-red-700",children:[r.jsx(zn,{className:"h-3 w-3"}),"Supprimer"]}),r.jsx(H,{size:"sm",onClick:()=>D(k),children:"Nouveau suivi"})]})]})]})})},k.id)):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsxs(lm,{children:[r.jsx(cm,{children:r.jsxs(Ia,{children:[r.jsx(At,{children:"Animal / Client"}),r.jsx(At,{children:"Date"}),r.jsx(At,{children:"Symptmes"}),r.jsx(At,{children:"Diagnostic"}),r.jsx(At,{children:"Temprature"}),r.jsx(At,{children:"Cot"}),r.jsx(At,{children:"Actions"})]})}),r.jsx(um,{children:_.map(k=>r.jsxs(Ia,{children:[r.jsx(Et,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:k.petName}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.clientName})]})}),r.jsx(Et,{children:new Date(k.date).toLocaleDateString("fr-FR")}),r.jsx(Et,{children:r.jsx("div",{className:"max-w-xs truncate",children:k.symptoms||"-"})}),r.jsx(Et,{children:r.jsx("div",{className:"max-w-xs truncate",children:k.diagnosis||"-"})}),r.jsx(Et,{children:k.temperature?`${k.temperature}C`:"-"}),r.jsx(Et,{children:k.cost?`${k.cost} ${n.currency}`:"-"}),r.jsx(Et,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Mj,{consultation:k}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>E(k),children:r.jsx(nn,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"default",onClick:()=>O(k),children:r.jsx(Ho,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>I(k),className:"text-red-600 hover:text-red-700",children:r.jsx(zn,{className:"h-3 w-3"})})]})})]},k.id))})]})})})]}),r.jsx(Gf,{open:f,onOpenChange:m}),r.jsx(g9,{open:g,onOpenChange:x,consultation:v}),b&&r.jsx(zb,{open:N,onOpenChange:j,petId:b,consultationId:C||void 0})]})},i5e=({consultation:e,open:t,onOpenChange:n,onEdit:s})=>{if(!e)return null;const{getClientById:i,getPetById:a}=ft(),o=i(e.clientId),l=a(e.petId);return r.jsx(Tt,{open:t,onOpenChange:n,children:r.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{children:["Consultation #",e.id," - ",ao(e.date)]}),r.jsx(Cn,{children:"Dtails de la consultation gnrale"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(kt,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation gnrale"})]}),r.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Zt,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(yr,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&r.jsx(he,{children:r.jsx(fe,{children:r.jsxs("p",{children:[r.jsx("strong",{children:"Symptmes:"})," ",e.symptoms]})})}),r.jsxs($c,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(ul,{className:"grid grid-cols-2",children:[r.jsx(Tn,{value:"overview",children:"Dtails"}),r.jsx(Tn,{value:"prescriptions",children:"Prescriptions"})]}),r.jsx(On,{value:"overview",children:r.jsx(he,{children:r.jsxs(fe,{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spcifi"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&r.jsxs("div",{className:"pt-4",children:[r.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>r.jsx("div",{className:"relative",children:r.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),r.jsx(On,{value:"prescriptions",children:r.jsx(t9,{petId:e.petId,consultationId:e.id})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsxs(H,{variant:"outline",onClick:s,children:[r.jsx(nn,{className:"h-4 w-4"})," Modifier"]}),r.jsx(Mj,{consultation:e})]})]})})};function a5e({prescription:e}){const{settings:t}=Wt(),{logo:n,clinicName:s,address:i,phone:a,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),f=()=>{window.print()};return r.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&r.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold",children:s}),r.jsx("p",{className:"text-sm",children:i}),r.jsxs("p",{className:"text-sm",children:[a," | ",o]}),l&&r.jsx("p",{className:"text-sm",children:l})]}),r.jsx("div",{children:r.jsx(H,{variant:"outline",onClick:f,className:"uppercase text-sm",children:"Imprimer"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",e.date]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Mdicament"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Frquence"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dure"})]})}),r.jsx("tbody",{children:e.medications.map(m=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2",children:m.dosage}),r.jsx("td",{className:"py-2",children:m.frequency}),r.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),r.jsxs("table",{className:"w-full border-collapse mb-4",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),r.jsx("th",{className:"border-b py-2 text-right",children:"Quantit"}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),r.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,x=(m.cost||0)*g;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2 text-right",children:g}),r.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),r.jsx("td",{className:"py-2 text-right",children:x.toFixed(2)})]},m.id)})}),r.jsx("tfoot",{children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),r.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const o5e=()=>{var ie;const{consultations:e,prescriptions:t,getClientById:n,getPetById:s}=ft(),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,u]=w.useState("all"),[d,f]=w.useState("all"),[m,g]=w.useState(""),[x,v]=w.useState("cards"),[y,N]=w.useState(!1),[j,b]=w.useState(null),[P,C]=w.useState(!1),[A,_]=w.useState(null),[E,O]=w.useState(!1),[I,D]=w.useState(null),k=[...e.map(L=>{var z;return{id:L.id,date:L.date,petName:L.petName,petType:((z=s(L.petId))==null?void 0:z.type)||"",client:L.clientName,type:"consultation",title:L.diagnosis||"Consultation",veterinarian:L.notes||"Non spcifi",details:L.symptoms||"",prescriptions:[],cost:L.cost,status:"completed"}})].sort((L,z)=>new Date(z.date).getTime()-new Date(L.date).getTime()),F=t.map(L=>{var z,le;return{id:L.id,date:L.date,petName:L.petName,client:L.clientName,medication:L.medications.map(pe=>pe.name).join(", "),dosage:((z=L.medications[0])==null?void 0:z.dosage)||"",frequency:((le=L.medications[0])==null?void 0:le.frequency)||"",duration:L.duration,veterinarian:L.prescribedBy,status:L.status}}),$=k.filter(L=>{const z=L.petName.toLowerCase().includes(i.toLowerCase())||L.client.toLowerCase().includes(i.toLowerCase())||L.title.toLowerCase().includes(i.toLowerCase()),le=o==="all"||L.petName.toLowerCase().includes(o.toLowerCase()),pe=c==="all"||L.type===c;let ee=!0;if(d==="today"){const J=new Date().toISOString().split("T")[0];ee=L.date===J}else if(d==="week"){const J=new Date(L.date),te=new Date,xe=te.getDay(),ve=te.getDate()-xe+(xe===0?-6:1),re=new Date(te.setDate(ve)),B=new Date(re);B.setDate(re.getDate()+6),ee=J>=re&&J<=B}else d==="specific"&&(ee=m&&L.date===m);return z&&le&&pe&&ee}),Q=F.filter(L=>{const z=L.petName.toLowerCase().includes(i.toLowerCase())||L.client.toLowerCase().includes(i.toLowerCase())||L.medication.toLowerCase().includes(i.toLowerCase()),le=o==="all"||L.petName.toLowerCase().includes(o.toLowerCase()),pe=c==="all"||!0;let ee=!0;if(d==="today"){const J=new Date().toISOString().split("T")[0];ee=L.date===J}else if(d==="week"){const J=new Date(L.date),te=new Date,xe=te.getDay(),ve=te.getDate()-xe+(xe===0?-6:1),re=new Date(te.setDate(ve)),B=new Date(re);B.setDate(re.getDate()+6),ee=J>=re&&J<=B}else d==="specific"&&(ee=m&&L.date===m);return z&&le&&pe&&ee}),U={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Historique Mdical"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(H,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(nl,{className:"h-4 w-4"}),"Tableau"]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-5 w-5"}),"Rechercher"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, animal, diagnostic...",value:i,onChange:L=>a(L.target.value)}),r.jsxs($e,{value:o,onValueChange:l,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Filtrer par animal"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous les animaux"}),Array.from(new Set(k.map(L=>L.petName))).map(L=>r.jsx(Y,{value:L,children:L},L))]})]}),r.jsxs($e,{value:c,onValueChange:u,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Filtrer par type"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous types"}),r.jsx(Y,{value:"consultation",children:"Consultations"}),r.jsx(Y,{value:"treatment",children:"Traitements"}),r.jsx(Y,{value:"surgery",children:"Chirurgies"})]})]}),r.jsxs($e,{value:d,onValueChange:f,children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Priode"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Toute priode"}),r.jsx(Y,{value:"today",children:"Aujourd'hui"}),r.jsx(Y,{value:"week",children:"Cette semaine"}),r.jsx(Y,{value:"specific",children:"Date spcifique"})]})]})]}),d==="specific"&&r.jsx(se,{type:"date",value:m,onChange:L=>g(L.target.value),className:"max-w-xs"})]})]}),r.jsxs($c,{defaultValue:"medical",className:"space-y-4",children:[r.jsxs(ul,{className:"grid w-full grid-cols-2",children:[r.jsxs(Tn,{value:"medical",className:"gap-2",children:[r.jsx(kt,{className:"h-4 w-4"}),"Historique Mdical"]}),r.jsxs(Tn,{value:"prescriptions",className:"gap-2",children:[r.jsx(Zt,{className:"h-4 w-4"}),"Prescriptions"]})]}),r.jsxs(On,{value:"medical",className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",$.length," entres)"]})}),x==="cards"?r.jsx("div",{className:"grid gap-6",children:$.map(L=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(L.date).toLocaleDateString("fr-FR")})]}),r.jsx(Oe,{variant:"outline",className:"text-xs",children:L.type})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:L.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Zt,{className:"h-3 w-3"}),L.petName]}),r.jsxs("span",{children:["Client: ",L.client]}),r.jsxs("span",{children:["Vtrinaire: ",L.veterinarian]})]})]}),L.details&&r.jsx("p",{className:"text-sm text-muted-foreground",children:L.details}),L.cost&&r.jsx("div",{className:"text-sm",children:r.jsxs("span",{className:"font-medium",children:["Cot: ",L.cost," MAD"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{b(L),N(!0)},children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",children:r.jsx(nn,{className:"h-4 w-4"})})]})]})})},L.id))}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Titre"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Vtrinaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:$.map(L=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date(L.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx(Oe,{variant:"outline",className:"text-xs",children:L.type})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:L.title}),L.details&&r.jsx("div",{className:"text-sm text-muted-foreground",children:L.details})]}),r.jsx("td",{className:"p-4",children:L.petName}),r.jsx("td",{className:"p-4",children:L.client}),r.jsx("td",{className:"p-4",children:L.veterinarian}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{b(L),N(!0)},children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",children:r.jsx(nn,{className:"h-4 w-4"})})]})})]},L.id))})]})})})})]}),r.jsxs(On,{value:"prescriptions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",Q.length," entres)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(H,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(nl,{className:"h-4 w-4"}),"Tableau"]})]})]}),x==="cards"?Q.map(L=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(L.date).toLocaleDateString("fr-FR")})]}),r.jsx(Oe,{variant:"outline",className:U[L.status],children:L.status==="active"?"Actif":L.status==="completed"?"Termin":"Arrt"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:L.medication}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Zt,{className:"h-3 w-3"}),L.petName]}),r.jsxs("span",{children:["Client: ",L.client]}),r.jsxs("span",{children:["Prescrit par: ",L.veterinarian]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dosage:"})," ",L.dosage]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Frquence:"})," ",L.frequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dure:"})," ",L.duration]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{_(L),C(!0)},children:"Renouveler"}),r.jsx(j_,{prescription:t.find(z=>z.id===L.id)}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{const z=t.find(le=>le.id===L.id);D(z),O(!0)},children:"Facture"})]})]})})},L.id)):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Mdicament"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),r.jsx("th",{className:"p-4 font-medium",children:"Dure"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:Q.map(L=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date(L.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx(Oe,{variant:"outline",className:U[L.status],children:L.status==="active"?"Actif":L.status==="completed"?"Termin":"Arrt"})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:L.medication}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",L.veterinarian]})]}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-primary"}),L.petName]})}),r.jsx("td",{className:"p-4",children:L.client}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{children:L.dosage}),r.jsx("div",{className:"text-muted-foreground",children:L.frequency})]})}),r.jsx("td",{className:"p-4",children:L.duration}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{_(L),C(!0)},children:"Renouveler"}),r.jsx(j_,{prescription:t.find(z=>z.id===L.id)}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{const z=t.find(le=>le.id===L.id);D(z),O(!0)},children:"Facture"})]})})]},L.id))})]})})})})]})]}),r.jsx(i5e,{consultation:j,open:y,onOpenChange:N,onEdit:()=>{}}),r.jsx(zb,{open:P,onOpenChange:C,petId:(ie=t.find(L=>L.id===(A==null?void 0:A.id)))==null?void 0:ie.petId,consultationId:A==null?void 0:A.id}),r.jsx(Tt,{open:E,onOpenChange:O,children:r.jsx(Nt,{children:I&&r.jsx(a5e,{prescription:I})})})]})},v9=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:s}=Ut(),i=w.useRef(null),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({description:"",category:"general"}),g=P=>{const C=P.target.files;if(!C||C.length===0)return;const A=Array.from(C).map(_=>{const E=new FileReader,O={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:f.description||`Photo de ${n}`,category:f.category,uploadedAt:new Date().toISOString()};return E.onload=I=>{var k;O.url=(k=I.target)==null?void 0:k.result;const D=[...e,O];t(D)},E.readAsDataURL(_),O});m({description:"",category:"general"}),o(!1),s({title:"Photos ajoutes",description:`${A.length} photo(s) ajoute(s)  l'exploitation ${n}`})},x=P=>{const C=e.filter(A=>A.id!==P);t(C),s({title:"Photo supprime",description:"La photo a t supprime avec succs"})},v=P=>{d(P),m({description:P.description,category:P.category}),c(!0)},y=()=>{if(!u)return;const P=e.map(C=>C.id===u.id?{...C,...f}:C);t(P),c(!1),d(null),m({description:"",category:"general"}),s({title:"Photo modifie",description:"La photo a t modifie avec succs"})},N=P=>({cheptel:"Cheptel",batiments:"Btiments",equipements:"quipements",general:"Gnral"})[P],j=P=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[P],b=e.reduce((P,C)=>(P[C.category]||(P[C.category]=[]),P[C.category].push(C),P),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Grez les photos de votre exploitation, du cheptel et des quipements"})]}),r.jsxs(Tt,{open:a,onOpenChange:o,children:[r.jsx(Oc,{asChild:!0,children:r.jsxs(H,{className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Ajouter des photos"]})}),r.jsxs(Nt,{className:"max-w-md",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Ajouter des photos"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"photo-description",children:"Description"}),r.jsx(se,{id:"photo-description",placeholder:"Description des photos",value:f.description,onChange:P=>m({...f,description:P.target.value})})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"photo-category",children:"Catgorie"}),r.jsxs($e,{value:f.category,onValueChange:P=>m({...f,category:P}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"cheptel",children:"Cheptel"}),r.jsx(Y,{value:"batiments",children:"Btiments"}),r.jsx(Y,{value:"equipements",children:"quipements"}),r.jsx(Y,{value:"general",children:"Gnral"})]})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"photo-files",children:"Slectionner des photos"}),r.jsx(se,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:i,onChange:g,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center",children:[r.jsx(tb,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoute"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):r.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([P,C])=>r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Oe,{className:j(P),children:N(P)}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",C.length," photo",C.length>1?"s":"",")"]})]})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(A=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:A.url,alt:A.description,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(H,{size:"sm",variant:"secondary",onClick:()=>d(A),children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"secondary",onClick:()=>v(A),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>x(A.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:A.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.uploadedAt).toLocaleDateString()})]})]},A.id))})})]},P))}),r.jsx(Tt,{open:l,onOpenChange:c,children:r.jsxs(Nt,{className:"max-w-md",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Modifier la photo"})}),r.jsxs("div",{className:"space-y-4",children:[u&&r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:r.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"edit-description",children:"Description"}),r.jsx(se,{id:"edit-description",value:f.description,onChange:P=>m({...f,description:P.target.value})})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"edit-category",children:"Catgorie"}),r.jsxs($e,{value:f.category,onValueChange:P=>m({...f,category:P}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"cheptel",children:"Cheptel"}),r.jsx(Y,{value:"batiments",children:"Btiments"}),r.jsx(Y,{value:"equipements",children:"quipements"}),r.jsx(Y,{value:"general",children:"Gnral"})]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(H,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(H,{onClick:y,children:"Enregistrer"})]})]})]})})]})},l5e=({open:e,onOpenChange:t})=>{var N,j,b,P,C,A;const{addFarm:n}=ft(),{settings:s}=Wt(),{toast:i}=Ut(),[a,o]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!s.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsx(Nt,{children:r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Erreur de configuration"}),r.jsx(Cn,{children:"Les paramtres de gestion des fermes ne sont pas configurs. Veuillez recharger la page ou vrifier les paramtres."})]})})});w.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(_,E)=>{if(_.includes(".")){const[O,I]=_.split(".");o(D=>{const k=D[O];return{...D,[O]:{...k,[I]:E}}})}else o(O=>({...O,[_]:E}))},d=_=>{o(E=>{var O;return{...E,types:(O=E.types)!=null&&O.includes(_)?E.types.filter(I=>I!==_):[...E.types||[],_]}})},f=_=>{o(E=>{var O;return{...E,certifications:(O=E.certifications)!=null&&O.includes(_)?E.certifications.filter(I=>I!==_):[...E.certifications||[],_]}})},m=()=>{if(!l.category){i({title:"Erreur",description:"Veuillez slectionner une catgorie d'animal",variant:"destructive"});return}o(_=>({..._,animalDetails:[..._.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=_=>{o(E=>{var O;return{...E,animalDetails:((O=E.animalDetails)==null?void 0:O.filter((I,D)=>D!==_))||[]}})},x=_=>{c(E=>({...E,breeds:[...E.breeds,_]}))},v=_=>{c(E=>({...E,breeds:E.breeds.filter(O=>O!==_)}))},y=_=>{var O;if(_.preventDefault(),!a.name||!a.owner||!a.address||!((O=a.types)!=null&&O.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const E={name:a.name,owner:a.owner,ownerIdNumber:a.ownerIdNumber||"",address:a.address,coordinates:a.coordinates||{latitude:0,longitude:0},phone:a.phone||"",email:a.email||"",types:a.types||[],totalAnimals:(a.animalDetails||[]).reduce((I,D)=>I+D.maleCount+D.femaleCount,0),animalDetails:a.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:a.status||"active",veterinarian:a.veterinarian||"",notes:a.notes||"",registrationNumber:a.registrationNumber||"",surfaceArea:a.surfaceArea||0,buildingDetails:a.buildingDetails||"",equipmentDetails:a.equipmentDetails||"",certifications:a.certifications||[],insuranceDetails:a.insuranceDetails||"",emergencyContact:a.emergencyContact||{name:"",phone:"",relation:""}};n(E),i({title:"Succs",description:"Nouvelle exploitation cre avec succs"}),t(!1)};return r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Nouvelle Exploitation Agricole"}),r.jsx(Cn,{children:"Crez une nouvelle exploitation agricole avec toutes les informations dtailles"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Informations gnrales"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(se,{id:"name",value:a.name||"",onChange:_=>u("name",_.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"owner",children:"Propritaire *"}),r.jsx(se,{id:"owner",value:a.owner||"",onChange:_=>u("owner",_.target.value),placeholder:"Nom du propritaire"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"ownerIdNumber",children:"N pice d'identit du propritaire"}),r.jsx(se,{id:"ownerIdNumber",value:a.ownerIdNumber||"",onChange:_=>u("ownerIdNumber",_.target.value),placeholder:"Numro de carte d'identit, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(V,{htmlFor:"address",children:"Adresse *"}),r.jsx(se,{id:"address",value:a.address||"",onChange:_=>u("address",_.target.value),placeholder:"Adresse complte"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"latitude",children:"Latitude"}),r.jsx(se,{id:"latitude",type:"number",step:"0.0001",value:((N=a.coordinates)==null?void 0:N.latitude)||"",onChange:_=>u("coordinates.latitude",parseFloat(_.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"longitude",children:"Longitude"}),r.jsx(se,{id:"longitude",type:"number",step:"0.0001",value:((j=a.coordinates)==null?void 0:j.longitude)||"",onChange:_=>u("coordinates.longitude",parseFloat(_.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"phone",children:"Tlphone"}),r.jsx(se,{id:"phone",value:a.phone||"",onChange:_=>u("phone",_.target.value),placeholder:"Tlphone"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:a.email||"",onChange:_=>u("email",_.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"veterinarian",children:"Vtrinaire responsable"}),r.jsx(se,{id:"veterinarian",value:a.veterinarian||"",onChange:_=>u("veterinarian",_.target.value),placeholder:"Vtrinaire"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"status",children:"Statut"}),r.jsxs($e,{value:a.status,onValueChange:_=>u("status",_),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"active",children:"Active"}),r.jsx(Y,{value:"attention",children:"Attention"}),r.jsx(Y,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Types d'levage *"})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.farmTypes.map(_=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gi,{id:`type-${_}`,checked:((E=a.types)==null?void 0:E.includes(_))||!1,onCheckedChange:()=>d(_)}),r.jsx(V,{htmlFor:`type-${_}`,children:_})]},_)})})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Dtails du cheptel"})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(V,{children:"Catgorie"}),r.jsxs($e,{value:l.category,onValueChange:_=>c(E=>({...E,category:_})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner"})}),r.jsx(Me,{children:s.farmManagement.animalCategories.map(_=>r.jsx(Y,{value:_,children:_},_))})]})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Mles"}),r.jsx(se,{type:"number",value:l.maleCount,onChange:_=>c(E=>({...E,maleCount:parseInt(_.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Femelles"}),r.jsx(se,{type:"number",value:l.femaleCount,onChange:_=>c(E=>({...E,femaleCount:parseInt(_.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(H,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),l.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(V,{children:["Races pour ",l.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(b=s.farmManagement.breedsByCategory[l.category])==null?void 0:b.map(_=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gi,{id:`breed-${_}`,checked:l.breeds.includes(_),onCheckedChange:()=>{l.breeds.includes(_)?v(_):x(_)}}),r.jsx(V,{htmlFor:`breed-${_}`,children:_})]},_))})]}),a.animalDetails&&a.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(V,{children:"Cheptel configur"}),r.jsx("div",{className:"mt-2 space-y-2",children:a.animalDetails.map((_,E)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx(Oe,{variant:"secondary",children:_.category}),r.jsxs("span",{className:"ml-2",children:[_.maleCount," mles, ",_.femaleCount," femelles"]}),_.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",_.breeds.join(", ")]})]}),r.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>g(E),children:"Supprimer"})]},E))})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Informations administratives"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"registrationNumber",children:"Numro d'immatriculation"}),r.jsx(se,{id:"registrationNumber",value:a.registrationNumber||"",onChange:_=>u("registrationNumber",_.target.value),placeholder:"Numro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(se,{id:"surfaceArea",type:"number",step:"0.1",value:a.surfaceArea||"",onChange:_=>u("surfaceArea",parseFloat(_.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(V,{htmlFor:"buildingDetails",children:"Dtails des btiments"}),r.jsx(St,{id:"buildingDetails",value:a.buildingDetails||"",onChange:_=>u("buildingDetails",_.target.value),placeholder:"Description des btiments, tables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(V,{htmlFor:"equipmentDetails",children:"quipements"}),r.jsx(St,{id:"equipmentDetails",value:a.equipmentDetails||"",onChange:_=>u("equipmentDetails",_.target.value),placeholder:"Liste des quipements disponibles"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Certifications"})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.certificationTypes.map(_=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gi,{id:`cert-${_}`,checked:((E=a.certifications)==null?void 0:E.includes(_))||!1,onCheckedChange:()=>f(_)}),r.jsx(V,{htmlFor:`cert-${_}`,children:_})]},_)})})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Assurance et contact d'urgence"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(V,{htmlFor:"insuranceDetails",children:"Dtails de l'assurance"}),r.jsx(se,{id:"insuranceDetails",value:a.insuranceDetails||"",onChange:_=>u("insuranceDetails",_.target.value),placeholder:"Compagnie d'assurance et numro de police"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(se,{id:"emergencyName",value:((P=a.emergencyContact)==null?void 0:P.name)||"",onChange:_=>u("emergencyContact.name",_.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"emergencyPhone",children:"Tlphone d'urgence"}),r.jsx(se,{id:"emergencyPhone",value:((C=a.emergencyContact)==null?void 0:C.phone)||"",onChange:_=>u("emergencyContact.phone",_.target.value),placeholder:"Tlphone"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(se,{id:"emergencyRelation",value:((A=a.emergencyContact)==null?void 0:A.relation)||"",onChange:_=>u("emergencyContact.relation",_.target.value),placeholder:"Relation (poux, fils, etc.)"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Photos de l'exploitation"})}),r.jsx(fe,{children:r.jsx(v9,{photos:a.photos||[],onPhotosChange:_=>u("photos",_),farmName:a.name||"Nouvelle exploitation"})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Notes complmentaires"})}),r.jsx(fe,{children:r.jsx(St,{value:a.notes||"",onChange:_=>u("notes",_.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Crer l'exploitation"})]})]})]})})},c5e=({open:e,onOpenChange:t,farmId:n,farmName:s})=>{const{addFarmIntervention:i,farms:a}=ft(),{toast:o}=Ut(),[l,c]=w.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});w.useEffect(()=>{if(e){const m=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:s||"",date:m,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,s]);const u=(m,g)=>{c(x=>({...x,[m]:g}))},{settings:d}=Wt(),f=m=>{if(m.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const g=a.find(v=>v.id===parseInt(l.farmId));if(!g){o({title:"Erreur",description:"Exploitation non trouve",variant:"destructive"});return}const x={farmId:parseInt(l.farmId),farmName:g.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};i(x),o({title:"Succs",description:"Intervention programme avec succs"}),t(!1)};return r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Nouvelle Intervention"}),r.jsx(Cn,{children:"Programmez une nouvelle intervention vtrinaire"})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"farmId",children:"Exploitation *"}),r.jsxs($e,{value:l.farmId,onValueChange:m=>{const g=a.find(x=>x.id===parseInt(m));u("farmId",m),u("farmName",(g==null?void 0:g.name)||"")},children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner une exploitation"})}),r.jsx(Me,{children:a.map(m=>r.jsx(Y,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:l.date,onChange:m=>u("date",m.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"type",children:"Type d'intervention *"}),r.jsxs($e,{value:l.type,onValueChange:m=>u("type",m),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner un type"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"vaccination",children:"Vaccination"}),r.jsx(Y,{value:"controle",children:"Contrle sanitaire"}),r.jsx(Y,{value:"urgence",children:"Urgence"}),r.jsx(Y,{value:"chirurgie",children:"Chirurgie"}),r.jsx(Y,{value:"prevention",children:"Prvention"}),r.jsx(Y,{value:"consultation",children:"Consultation"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"status",children:"Statut"}),r.jsxs($e,{value:l.status,onValueChange:m=>u("status",m),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"scheduled",children:"Programme"}),r.jsx(Y,{value:"ongoing",children:"En cours"}),r.jsx(Y,{value:"completed",children:"Termine"}),r.jsx(Y,{value:"cancelled",children:"Annule"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"animals",children:"Animaux concerns"}),r.jsx(se,{id:"animals",value:l.animals,onChange:m=>u("animals",m.target.value),placeholder:"15 bovins, 50 poules..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"veterinarian",children:"Vtrinaire"}),r.jsx(se,{id:"veterinarian",value:l.veterinarian,onChange:m=>u("veterinarian",m.target.value),placeholder:"Dr. Dupont"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"description",children:"Description *"}),r.jsx(St,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Dtails de l'intervention...",rows:3,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{htmlFor:"cost",children:["Cot (",d.currency,")"]}),r.jsx(se,{id:"cost",type:"number",value:l.cost,onChange:m=>u("cost",m.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"followUp",children:"Suivi"}),r.jsx(se,{id:"followUp",value:l.followUp,onChange:m=>u("followUp",m.target.value),placeholder:"Contrle dans 6 mois"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:l.notes,onChange:m=>u("notes",m.target.value),placeholder:"Informations complmentaires...",rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Programmer Intervention"})]})]})]})})},u5e=({farm:e,open:t,onOpenChange:n,onEdit:s,onNewIntervention:i})=>{var u;const{getFarmInterventionsByFarmId:a}=ft();if(!e)return null;const o=a(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return r.jsx(Zn,{className:"h-4 w-4"});case"attention":return r.jsx(Un,{className:"h-4 w-4"});case"urgent":return r.jsx(Un,{className:"h-4 w-4 text-red-600"});default:return r.jsx(In,{className:"h-4 w-4"})}};return r.jsx(Tt,{open:t,onOpenChange:n,children:r.jsxs(Nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[c(e.status),e.name,r.jsx(Oe,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),r.jsx(Cn,{children:"Dtails complets de l'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Jte,{className:"h-5 w-5"}),"Informations Gnrales"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propritaire"}),r.jsx("p",{className:"font-medium",children:e.owner})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'levage"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>r.jsx(Oe,{variant:"secondary",children:d},d))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),r.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vtrinaire"}),r.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assign"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernire visite"}),r.jsx("p",{className:"font-medium",children:ao(e.lastVisit)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de cration"}),r.jsx("p",{className:"font-medium",children:ao(e.createdAt)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(ad,{className:"h-3 w-3"}),"Adresse"]}),r.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnes GPS"}),r.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(Xh,{className:"h-3 w-3"}),"Tlphone"]}),r.jsx("p",{className:"font-medium",children:e.phone||"Non renseign"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(Rf,{className:"h-3 w-3"}),"Email"]}),r.jsx("p",{className:"font-medium",children:e.email||"Non renseign"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Zte,{className:"h-5 w-5"}),"Dtails du Cheptel"]})}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Oe,{variant:"secondary",children:d.category}),r.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Mles:"})," ",d.maleCount]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},f))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Mte,{className:"h-5 w-5"}),"Informations Administratives"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N d'immatriculation"}),r.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),r.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Btiments"}),r.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"quipements"}),r.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(vi,{className:"h-5 w-5"}),"Certifications"]})}),r.jsx(fe,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>r.jsx(Oe,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),r.jsxs(fe,{className:"space-y-4",children:[e.insuranceDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),r.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tlphone"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Notes"})}),r.jsx(fe,{children:r.jsx("p",{className:"text-sm",children:e.notes})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Dtails du Cheptel"})}),r.jsx(fe,{children:e.animalDetails&&e.animalDetails.length>0?r.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-lg",children:d.category}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Oe,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),r.jsxs(Oe,{variant:"outline",children:[d.maleCount," mles"]}),r.jsxs(Oe,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((m,g)=>r.jsx(Oe,{variant:"outline",className:"mr-1 text-xs",children:m},g))]}),d.ageGroups&&d.ageGroups.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'ge: "}),d.ageGroups.map((m,g)=>r.jsx(Oe,{variant:"outline",className:"mr-1 text-xs",children:m},g))]})]},f))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun dtail de cheptel configur pour cette exploitation"})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Photos de l'exploitation"})}),r.jsx(fe,{children:e.photos&&e.photos.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(Oe,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Btiments":d.category==="equipements"?"quipements":"Gnral"})})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(tb,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoute"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent tre ajoutes lors de la modification de l'exploitation"})]})})]}),r.jsxs($c,{defaultValue:"interventions",className:"w-full",children:[r.jsx(ul,{className:"grid w-full grid-cols-1",children:r.jsxs(Tn,{value:"interventions",children:[r.jsx(kt,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),r.jsx(On,{value:"interventions",className:"space-y-4",children:r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Interventions vtrinaires"})}),r.jsx(fe,{children:o.length>0?r.jsx("div",{className:"space-y-2",children:o.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:d.type}),r.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:ao(d.date)})]}),r.jsx(Oe,{variant:"outline",children:d.status})]},d.id))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistre pour cette exploitation"})})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(H,{onClick:i,variant:"outline",children:"Nouvelle Intervention"}),r.jsx(H,{onClick:s,children:"Modifier"})]})]})})},d5e=({open:e,onOpenChange:t,farm:n})=>{var j,b,P,C,A,_;const{updateFarm:s}=ft(),{settings:i}=Wt(),{toast:a}=Ut(),[o,l]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!i.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsx(Nt,{children:r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Erreur de configuration"}),r.jsx(Cn,{children:"Les paramtres de gestion des fermes ne sont pas configurs. Veuillez recharger la page ou vrifier les paramtres."})]})})});w.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),w.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(E,O)=>{if(E.includes(".")){const[I,D]=E.split(".");l(k=>({...k,[I]:{...k[I],[D]:O}}))}else l(I=>({...I,[E]:O}))},f=E=>{l(O=>{var I;return{...O,types:(I=O.types)!=null&&I.includes(E)?O.types.filter(D=>D!==E):[...O.types||[],E]}})},m=E=>{l(O=>{var I;return{...O,certifications:(I=O.certifications)!=null&&I.includes(E)?O.certifications.filter(D=>D!==E):[...O.certifications||[],E]}})},g=()=>{if(!c.category){a({title:"Erreur",description:"Veuillez slectionner une catgorie d'animal",variant:"destructive"});return}l(E=>({...E,animalDetails:[...E.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},x=E=>{l(O=>{var I;return{...O,animalDetails:((I=O.animalDetails)==null?void 0:I.filter((D,k)=>k!==E))||[]}})},v=E=>{u(O=>({...O,breeds:[...O.breeds,E]}))},y=E=>{u(O=>({...O,breeds:O.breeds.filter(I=>I!==E)}))},N=E=>{var I;if(E.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!((I=o.types)!=null&&I.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const O={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((D,k)=>D+k.maleCount+k.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};s(n.id,O),a({title:"Succs",description:"Exploitation mise  jour avec succs"}),t(!1)};return n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Modifier l'Exploitation"}),r.jsx(Cn,{children:"Modifiez les informations de l'exploitation agricole"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Informations gnrales"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(se,{id:"name",value:o.name||"",onChange:E=>d("name",E.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"owner",children:"Propritaire *"}),r.jsx(se,{id:"owner",value:o.owner||"",onChange:E=>d("owner",E.target.value),placeholder:"Nom du propritaire"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"ownerIdNumber",children:"N pice d'identit du propritaire"}),r.jsx(se,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:E=>d("ownerIdNumber",E.target.value),placeholder:"Numro de carte d'identit, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(V,{htmlFor:"address",children:"Adresse *"}),r.jsx(se,{id:"address",value:o.address||"",onChange:E=>d("address",E.target.value),placeholder:"Adresse complte"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"latitude",children:"Latitude"}),r.jsx(se,{id:"latitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.latitude)||"",onChange:E=>d("coordinates.latitude",parseFloat(E.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"longitude",children:"Longitude"}),r.jsx(se,{id:"longitude",type:"number",step:"0.0001",value:((b=o.coordinates)==null?void 0:b.longitude)||"",onChange:E=>d("coordinates.longitude",parseFloat(E.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"phone",children:"Tlphone"}),r.jsx(se,{id:"phone",value:o.phone||"",onChange:E=>d("phone",E.target.value),placeholder:"Tlphone"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:o.email||"",onChange:E=>d("email",E.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"veterinarian",children:"Vtrinaire responsable"}),r.jsx(se,{id:"veterinarian",value:o.veterinarian||"",onChange:E=>d("veterinarian",E.target.value),placeholder:"Vtrinaire"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"status",children:"Statut"}),r.jsxs($e,{value:o.status,onValueChange:E=>d("status",E),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"active",children:"Active"}),r.jsx(Y,{value:"attention",children:"Attention"}),r.jsx(Y,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Types d'levage *"})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.farmTypes.map(E=>{var O;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gi,{id:`type-${E}`,checked:((O=o.types)==null?void 0:O.includes(E))||!1,onCheckedChange:()=>f(E)}),r.jsx(V,{htmlFor:`type-${E}`,children:E})]},E)})})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Dtails du cheptel"})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(V,{children:"Catgorie"}),r.jsxs($e,{value:c.category,onValueChange:E=>u(O=>({...O,category:E})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner"})}),r.jsx(Me,{children:i.farmManagement.animalCategories.map(E=>r.jsx(Y,{value:E,children:E},E))})]})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Mles"}),r.jsx(se,{type:"number",value:c.maleCount,onChange:E=>u(O=>({...O,maleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(V,{children:"Femelles"}),r.jsx(se,{type:"number",value:c.femaleCount,onChange:E=>u(O=>({...O,femaleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(H,{type:"button",onClick:g,className:"w-full",children:"Ajouter"})})]}),c.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(V,{children:["Races pour ",c.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(P=i.farmManagement.breedsByCategory[c.category])==null?void 0:P.map(E=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gi,{id:`breed-${E}`,checked:c.breeds.includes(E),onCheckedChange:()=>{c.breeds.includes(E)?y(E):v(E)}}),r.jsx(V,{htmlFor:`breed-${E}`,children:E})]},E))})]}),o.animalDetails&&o.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(V,{children:"Cheptel configur"}),r.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((E,O)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx(Oe,{variant:"secondary",children:E.category}),r.jsxs("span",{className:"ml-2",children:[E.maleCount," mles, ",E.femaleCount," femelles"]}),E.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",E.breeds.join(", ")]})]}),r.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>x(O),children:"Supprimer"})]},O))})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Informations administratives"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"registrationNumber",children:"Numro d'immatriculation"}),r.jsx(se,{id:"registrationNumber",value:o.registrationNumber||"",onChange:E=>d("registrationNumber",E.target.value),placeholder:"Numro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(se,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:E=>d("surfaceArea",parseFloat(E.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(V,{htmlFor:"buildingDetails",children:"Dtails des btiments"}),r.jsx(St,{id:"buildingDetails",value:o.buildingDetails||"",onChange:E=>d("buildingDetails",E.target.value),placeholder:"Description des btiments, tables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(V,{htmlFor:"equipmentDetails",children:"quipements"}),r.jsx(St,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:E=>d("equipmentDetails",E.target.value),placeholder:"Liste des quipements disponibles"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Certifications"})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.certificationTypes.map(E=>{var O;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gi,{id:`cert-${E}`,checked:((O=o.certifications)==null?void 0:O.includes(E))||!1,onCheckedChange:()=>m(E)}),r.jsx(V,{htmlFor:`cert-${E}`,children:E})]},E)})})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Assurance et contact d'urgence"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(V,{htmlFor:"insuranceDetails",children:"Dtails de l'assurance"}),r.jsx(se,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:E=>d("insuranceDetails",E.target.value),placeholder:"Compagnie d'assurance et numro de police"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(se,{id:"emergencyName",value:((C=o.emergencyContact)==null?void 0:C.name)||"",onChange:E=>d("emergencyContact.name",E.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"emergencyPhone",children:"Tlphone d'urgence"}),r.jsx(se,{id:"emergencyPhone",value:((A=o.emergencyContact)==null?void 0:A.phone)||"",onChange:E=>d("emergencyContact.phone",E.target.value),placeholder:"Tlphone"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(se,{id:"emergencyRelation",value:((_=o.emergencyContact)==null?void 0:_.relation)||"",onChange:E=>d("emergencyContact.relation",E.target.value),placeholder:"Relation (poux, fils, etc.)"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Photos de l'exploitation"})}),r.jsx(fe,{children:r.jsx(v9,{photos:o.photos||[],onPhotosChange:E=>d("photos",E),farmName:o.name||"Exploitation"})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Notes complmentaires"})}),r.jsx(fe,{children:r.jsx(St,{value:o.notes||"",onChange:E=>d("notes",E.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Mettre  jour l'exploitation"})]})]})]})}):null},h5e=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:s,farms:i}=ft(),{toast:a}=Ut(),[o,l]=w.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});w.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=f=>{if(f.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};s(n.id,m),a({title:"Succs",description:"Intervention mise  jour avec succs"}),t(!1)};if(!n)return null;const d=i.find(f=>f.id===parseInt(o.farmId));return r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Modifier l'Intervention"}),r.jsxs(Cn,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Exploitation *"}),r.jsxs($e,{value:o.farmId,onValueChange:f=>c("farmId",f),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner l'exploitation"})}),r.jsx(Me,{children:i.map(f=>r.jsxs(Y,{value:f.id.toString(),children:[f.name," - ",f.owner]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Type d'intervention *"}),r.jsxs($e,{value:o.type,onValueChange:f=>c("type",f),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner le type"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"vaccination",children:"Vaccination"}),r.jsx(Y,{value:"controle",children:"Contrle sanitaire"}),r.jsx(Y,{value:"urgence",children:"Urgence"}),r.jsx(Y,{value:"chirurgie",children:"Chirurgie"}),r.jsx(Y,{value:"prevention",children:"Prvention"}),r.jsx(Y,{value:"consultation",children:"Consultation"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"date",children:"Date *"}),r.jsx(se,{id:"date",type:"date",value:o.date,onChange:f=>c("date",f.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Statut"}),r.jsxs($e,{value:o.status,onValueChange:f=>c("status",f),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"scheduled",children:"Programm"}),r.jsx(Y,{value:"ongoing",children:"En cours"}),r.jsx(Y,{value:"completed",children:"Termin"}),r.jsx(Y,{value:"cancelled",children:"Annul"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"animals",children:"Animaux concerns *"}),r.jsx(se,{id:"animals",value:o.animals,onChange:f=>c("animals",f.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"veterinarian",children:"Vtrinaire *"}),r.jsx(se,{id:"veterinarian",value:o.veterinarian,onChange:f=>c("veterinarian",f.target.value),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"description",children:"Description *"}),r.jsx(St,{id:"description",value:o.description,onChange:f=>c("description",f.target.value),rows:3,placeholder:"Dtails de l'intervention, observations, traitements...",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"followUp",children:"Suivi recommand"}),r.jsx(St,{id:"followUp",value:o.followUp,onChange:f=>c("followUp",f.target.value),rows:2,placeholder:"Recommandations, prochain contrle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"cost",children:"Cot ()"}),r.jsx(se,{id:"cost",type:"number",value:o.cost,onChange:f=>c("cost",f.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",d.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Propritaire:"})," ",d.owner]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",d.type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:"Mettre  jour"})]})]})]})})},f5e=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:s,getFarmsByStatus:i,getUpcomingFarmInterventions:a}=ft(),{toast:o}=Ut(),{currentView:l}=gd("farms"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState(l),[x,v]=w.useState(!1),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[P,C]=w.useState(!1),[A,_]=w.useState(!1),[E,O]=w.useState(null),[I,D]=w.useState(null),k=e.filter(te=>{var re,B;const xe=te.name.toLowerCase().includes(c.toLowerCase())||te.owner.toLowerCase().includes(c.toLowerCase())||((re=te.types)==null?void 0:re.some(X=>X.toLowerCase().includes(c.toLowerCase())))||!1,ve=d==="all"||((B=te.types)==null?void 0:B.includes(d))||!1;return xe&&ve}),F={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},$={"Bovin laitier":"levage bovin laitier","Bovin viande":"levage bovin viande",Porcin:"levage porcin",Avicole:"levage avicole",Ovin:"levage ovin",Caprin:"levage caprin",quin:"levage quin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"levage mixte"},Q={vaccination:"Vaccination",controle:"Contrle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prvention",consultation:"Consultation"},U=te=>{O(te),b(!0)},ie=te=>{O(te),C(!0)},L=te=>{confirm("tes-vous sr de vouloir supprimer cette exploitation ?")&&(n(te),o({title:"Succs",description:"Exploitation supprime"}))},z=te=>{N(!0)},le=te=>{confirm("tes-vous sr de vouloir supprimer cette intervention ?")&&(s(te),o({title:"Succs",description:"Intervention supprime"}))},pe=te=>{D(te),_(!0)},ee=i("attention").length+i("urgent").length,J=a();return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Grez les fermes, levages et interventions vtrinaires"})]}),r.jsxs(H,{className:"gap-2 medical-glow",onClick:()=>v(!0),children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center",children:[r.jsx(KC,{className:"h-12 w-12 text-primary mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center",children:[r.jsx(Un,{className:"h-12 w-12 text-accent mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:ee}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center",children:[r.jsx(kt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:J.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions  venir"})]})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(se,{placeholder:"Rechercher par nom, propritaire ou type...",value:c,onChange:te=>u(te.target.value),className:"max-w-md"}),r.jsxs($e,{value:d,onValueChange:f,children:[r.jsx(De,{className:"w-48",children:r.jsx(Re,{placeholder:"Type d'levage"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous types"}),r.jsx(Y,{value:"Bovin laitier",children:"levage bovin laitier"}),r.jsx(Y,{value:"Bovin viande",children:"levage bovin viande"}),r.jsx(Y,{value:"Porcin",children:"levage porcin"}),r.jsx(Y,{value:"Avicole",children:"levage avicole"}),r.jsx(Y,{value:"Ovin",children:"levage ovin"}),r.jsx(Y,{value:"Caprin",children:"levage caprin"}),r.jsx(Y,{value:"quin",children:"levage quin"}),r.jsx(Y,{value:"Apiculture",children:"Apiculture"}),r.jsx(Y,{value:"Aquaculture",children:"Aquaculture"}),r.jsx(Y,{value:"Cuniculture",children:"Cuniculture"}),r.jsx(Y,{value:"Mixte",children:"levage mixte"})]})]})]})})]}),r.jsxs($c,{defaultValue:"farms",className:"space-y-6",children:[r.jsxs(ul,{className:"grid w-full grid-cols-2",children:[r.jsxs(Tn,{value:"farms",className:"gap-2",children:[r.jsx(KC,{className:"h-4 w-4"}),"Exploitations"]}),r.jsxs(Tn,{value:"interventions",className:"gap-2",children:[r.jsx(kt,{className:"h-4 w-4"}),"Interventions"]})]}),r.jsxs(On,{value:"farms",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",k.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(H,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[r.jsx(nl,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(H,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(yr,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),k.length===0?r.jsx(he,{children:r.jsx(fe,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouve"})}):m==="cards"?k.map(te=>{var xe;return r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-xl font-semibold",children:te.name}),r.jsx(Oe,{variant:"outline",className:F[te.status],children:te.status==="active"?"Actif":te.status==="attention"?"Attention":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Propritaire:"})," ",te.owner]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(ad,{className:"h-3 w-3"}),te.address]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(Xh,{className:"h-3 w-3"}),te.phone]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Types:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(xe=te.types)==null?void 0:xe.map(ve=>r.jsx(Oe,{variant:"secondary",className:"text-xs",children:$[ve]||ve},ve))})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animaux:"})," ",te.totalAnimals]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vtrinaire:"})," ",te.veterinarian]})]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernire visite: ",ao(te.lastVisit)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>U(te),children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>ie(te),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",onClick:()=>z(),children:r.jsx(yr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>L(te.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})]})})},te.id)}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),r.jsx("th",{className:"p-4 font-medium",children:"Propritaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:k.map(te=>{var xe;return r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:te.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:te.address})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:te.owner}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vt: ",te.veterinarian]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:(xe=te.types)==null?void 0:xe.map(ve=>r.jsx(Oe,{variant:"secondary",className:"text-xs",children:$[ve]||ve},ve))})}),r.jsx("td",{className:"p-4",children:r.jsx(Oe,{variant:"outline",className:F[te.status],children:te.status==="active"?"Actif":te.status==="attention"?"Attention":"Urgent"})}),r.jsx("td",{className:"p-4",children:te.totalAnimals}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xh,{className:"h-3 w-3"}),te.phone]}),r.jsxs("div",{className:"text-muted-foreground",children:["Dernire visite: ",ao(te.lastVisit)]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>U(te),children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>ie(te),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",onClick:()=>z(),children:r.jsx(yr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>L(te.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})})]},te.id)})})]})})})})]}),r.jsxs(On,{value:"interventions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions rcentes (",t.length,")"]}),r.jsxs(H,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(yr,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?r.jsx(he,{children:r.jsx(fe,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistre"})}):t.map(te=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:Q[te.type]}),r.jsx(Oe,{variant:"outline",className:te.status==="completed"?"bg-green-100 text-green-800":te.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:te.status==="completed"?"Termin":te.status==="ongoing"?"En cours":te.status==="scheduled"?"Programm":"Annul"})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(kt,{className:"h-3 w-3"}),ao(te.date)]}),r.jsx("span",{children:te.farmName}),r.jsx("span",{children:te.veterinarian})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Animaux concerns:"})," ",te.animals]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Suivi:"})," ",te.followUp||"Aucun"]})]}),r.jsx("p",{className:"text-sm",children:te.description}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsx(H,{size:"sm",variant:"outline",children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>pe(te),children:r.jsx(nn,{className:"h-4 w-4"})}),te.status==="ongoing"&&r.jsx(H,{size:"sm",children:r.jsx(yr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>le(te.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})]})})},te.id))]})]}),r.jsx(l5e,{open:x,onOpenChange:v}),r.jsx(c5e,{open:y,onOpenChange:N,farmId:E==null?void 0:E.id,farmName:E==null?void 0:E.name}),r.jsx(u5e,{farm:E,open:j,onOpenChange:b,onEdit:()=>ie(E),onNewIntervention:()=>{b(!1),N(!0)}}),r.jsx(d5e,{farm:E,open:P,onOpenChange:C}),r.jsx(h5e,{intervention:I,open:A,onOpenChange:_})]})};var Iw="Switch",[m5e,b6e]=Xs(Iw),[p5e,g5e]=m5e(Iw),x9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=w.useState(null),x=Qt(t,b=>g(b)),v=w.useRef(!1),y=m?d||!!m.closest("form"):!0,[N,j]=ho({prop:i,defaultProp:a??!1,onChange:u,caller:Iw});return r.jsxs(p5e,{scope:n,checked:N,disabled:l,children:[r.jsx(it.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":w9(N),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:He(e.onClick,b=>{j(P=>!P),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&r.jsx(b9,{control:m,bubbles:!v.current,name:s,value:c,checked:N,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});x9.displayName=Iw;var y9="SwitchThumb",j9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=g5e(y9,n);return r.jsx(it.span,{"data-state":w9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});j9.displayName=y9;var v5e="SwitchBubbleInput",b9=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=w.useRef(null),l=Qt(o,a),c=mE(n),u=$A(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const x=new Event("click",{bubbles:s});g.call(d,n),d.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});b9.displayName=v5e;function w9(e){return e?"checked":"unchecked"}var N9=x9,x5e=j9;const $r=w.forwardRef(({className:e,...t},n)=>r.jsx(N9,{className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(x5e,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));$r.displayName=N9.displayName;function QS({children:e,protocol:t,mode:n}){const{addVaccinationProtocol:s,updateVaccinationProtocol:i}=ft(),{settings:a}=Wt(),{toast:o}=Ut(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par dfaut)"}],ageRequirement:"",notes:"",isActive:!0});w.useEffect(()=>{n==="edit"&&t&&d({name:t.name,species:t.species,vaccineType:t.vaccineType,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals||[],ageRequirement:t.ageRequirement||"",notes:t.notes||"",isActive:t.isActive})},[n,t]);const f=g=>{if(g.preventDefault(),!u.name||!u.species||!u.vaccineType||!u.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n==="create"?(s({name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole cr",description:`Le protocole ${u.name} a t cr avec succs`})):t&&(i(t.id,{name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole modifi",description:`Le protocole ${u.name} a t modifi avec succs`})),d({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par dfaut)"}],ageRequirement:"",notes:"",isActive:!0}),c(!1)},m=a.species?a.species.split(",").map(g=>g.trim()):["Chien","Chat","Furet","Lapin","Oiseau","Rongeur"];return r.jsxs(Tt,{open:l,onOpenChange:c,children:[r.jsx(Oc,{asChild:!0,children:e||r.jsxs(H,{className:"gap-2",children:[n==="create"?r.jsx(bt,{className:"h-4 w-4"}):r.jsx(nn,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ot,{children:r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(vi,{className:"h-5 w-5"}),n==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"name",children:"Nom du vaccin *"}),r.jsx(se,{id:"name",value:u.name,onChange:g=>d(x=>({...x,name:g.target.value})),placeholder:"Ex: DHPP, FVRCP, Rage...",required:!0})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"species",children:"Espce *"}),r.jsxs($e,{value:u.species,onValueChange:g=>d(x=>({...x,species:g})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner une espce"})}),r.jsx(Me,{children:m.map(g=>r.jsx(Y,{value:g,children:g},g))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"vaccineType",children:"Type de vaccin *"}),r.jsxs($e,{value:u.vaccineType,onValueChange:g=>d(x=>({...x,vaccineType:g})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Type de vaccin"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"core",children:"Essentiel (Core)"}),r.jsx(Y,{value:"non-core",children:"Optionnel (Non-core)"}),r.jsx(Y,{value:"rabies",children:"Rage"}),r.jsx(Y,{value:"custom",children:"Personnalis"})]})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:u.manufacturer,onChange:g=>d(x=>({...x,manufacturer:g.target.value})),placeholder:"Ex: Zoetis, Merial, Virbac..."})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"description",children:"Description *"}),r.jsx(St,{id:"description",value:u.description,onChange:g=>d(x=>({...x,description:g.target.value})),placeholder:"Description du vaccin et des maladies qu'il prvient...",rows:3,required:!0})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(V,{children:"tapes du protocole"}),(u.intervals||[]).map((g,x)=>{let v=g.offsetDays,y="days";g.offsetDays%30===0&&g.offsetDays!==0?(v=g.offsetDays/30,y="months"):g.offsetDays%7===0&&g.offsetDays!==0&&(v=g.offsetDays/7,y="weeks");const N=`${v} ${y==="weeks"?"semaine(s)":y==="months"?"mois":"jour(s)"}`;return r.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[r.jsx(se,{type:"number",min:0,value:v,onChange:j=>{const b=parseInt(j.target.value)||0,P=y==="weeks"?b*7:y==="months"?b*30:b;d(C=>{const A=[...C.intervals];return A[x].offsetDays=P,{...C,intervals:A}})}}),r.jsxs($e,{value:y,onValueChange:j=>{const b=j,P=b==="weeks"?v*7:b==="months"?v*30:v;d(C=>{const A=[...C.intervals];return A[x].offsetDays=P,{...C,intervals:A}})},children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"days",children:"Jours"}),r.jsx(Y,{value:"weeks",children:"Semaines"}),r.jsx(Y,{value:"months",children:"Mois"})]})]}),r.jsx("div",{className:"p-2",children:N}),r.jsx(H,{type:"button",variant:"outline",size:"icon",onClick:()=>{d(j=>{const b=j.intervals.filter((P,C)=>C!==x);return{...j,intervals:b}})},children:""})]},x)}),r.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>d(g=>({...g,intervals:[...g.intervals||[],{offsetDays:0}]})),children:[r.jsx(bt,{className:"h-4 w-4"})," Ajouter une tape"]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"ageRequirement",children:"ge requis"}),r.jsx(se,{id:"ageRequirement",value:u.ageRequirement,onChange:g=>d(x=>({...x,ageRequirement:g.target.value})),placeholder:"Ex:  partir de 6 semaines"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"notes",children:"Notes supplmentaires"}),r.jsx(St,{id:"notes",value:u.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),placeholder:"Informations complmentaires, contre-indications, etc...",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($r,{id:"isActive",checked:u.isActive,onCheckedChange:g=>d(x=>({...x,isActive:g}))}),r.jsx(V,{htmlFor:"isActive",children:"Protocole actif"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsxs(H,{type:"submit",children:[r.jsx(vi,{className:"h-4 w-4 mr-2"}),n==="create"?"Crer le protocole":"Modifier le protocole"]})]})]})]})]})}const W3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},H3=e=>{switch(e){case"completed":return r.jsx(Zn,{className:"h-4 w-4"});case"overdue":return r.jsx(Un,{className:"h-4 w-4"});case"scheduled":return r.jsx(In,{className:"h-4 w-4"});case"missed":return r.jsx(Un,{className:"h-4 w-4"});default:return r.jsx(In,{className:"h-4 w-4"})}},y5e=()=>{const{vaccinations:e,pets:t,clients:n}=ft(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"vaccination",title:o.vaccineName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(Rk,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Vaccinal",icon:r.jsx(kt,{className:"h-5 w-5"})})};function j5e(){var ms;const{vaccinations:e,pets:t,clients:n,vaccinationProtocols:s,getVaccinationsByPetId:i,getOverdueVaccinations:a,getUpcomingVaccinations:o,getVaccinationsByStatus:l,getActiveVaccinationProtocols:c,getVaccinationProtocolsBySpecies:u,deleteVaccinationProtocol:d,deleteVaccination:f,updateVaccination:m}=ft(),{settings:g}=Wt(),{currentView:x}=gd("vaccinations"),{toast:v}=Ut(),[y,N]=w.useState(x),[j,b]=w.useState(""),[P,C]=w.useState("all"),[A,_]=w.useState("all"),[E,O]=w.useState("all"),[I,D]=w.useState("overview"),[k,F]=w.useState(!1),[$,Q]=w.useState(null),[U,ie]=w.useState(null),[L,z]=w.useState(null),[le,pe]=w.useState(null),[ee,J]=w.useState(!1),[te,xe]=w.useState(!1),[ve,re]=w.useState(null),B=w.useRef(null),[X,ye]=w.useState(null),[Z,M]=w.useState(!1),[je,we]=w.useState(!1),[Fe,Be]=w.useState(null),[at,lt]=w.useState(""),ut=()=>{if(!Fe)return;const{id:Se,field:zt}=Fe,nt=e.find(mt=>mt.id===Se);if(nt){const mt={...nt,[zt]:at};m(Se,mt),v({title:"Modifi",description:`${zt} mis  jour`})}Be(null)},Ne=$k.useReactToPrint({contentRef:B,onAfterPrint:()=>F(!1)}),Ge=(Se,zt)=>{m(Se,{status:zt}),z(null),v({title:"Statut mis  jour",description:`Le statut de la vaccination a t chang en "${{completed:"Termine",scheduled:"Planifie",overdue:"En retard",missed:"Manque"}[zt]}"`})},Ke=Se=>{pe(Se),J(!0)},qt=Se=>{re(Se),xe(!0)},Kn=()=>{if(ve){f(ve.id);const Se=ve.vaccinationCategory==="reminder"?"rappel":"vaccination",zt=ve.vaccinationCategory==="new"?e.filter(nt=>nt.originalVaccinationId===ve.id).length:0;v({title:`${Se.charAt(0).toUpperCase()+Se.slice(1)} supprime`,description:ve.vaccinationCategory==="new"&&zt>0?`La vaccination ${ve.vaccineName} et ses ${zt} rappel(s) ont t supprims avec succs.`:`Le ${Se} ${ve.vaccineName} a t supprim avec succs.`}),xe(!1),re(null)}},Pt=()=>{J(!1),pe(null)},jn=w.useMemo(()=>{const Se=e.length,zt=l("completed").length,nt=a().length,mt=o().length,rn=l("scheduled").length,rs=e.filter(Is=>Is.vaccinationCategory==="reminder").length,qr=e.filter(Is=>Is.vaccinationCategory==="new").length;return{total:Se,completed:zt,overdue:nt,upcoming:mt,scheduled:rn,reminders:rs,originalVaccinations:qr}},[e,l,a,o]),lr=w.useMemo(()=>e.filter(Se=>{const zt=Se.petName.toLowerCase().includes(j.toLowerCase())||Se.clientName.toLowerCase().includes(j.toLowerCase())||Se.vaccineName.toLowerCase().includes(j.toLowerCase())||Se.veterinarian.toLowerCase().includes(j.toLowerCase()),nt=P==="all"||Se.status===P,mt=A==="all"||Se.vaccineType===A,rn=E==="all"||Se.vaccinationCategory===E;return zt&&nt&&mt&&rn}),[e,j,P,A,E]),Yn=()=>{const Se=JSON.stringify(e,null,2),zt=new Blob([Se],{type:"application/json"}),nt=URL.createObjectURL(zt),mt=document.createElement("a");mt.href=nt,mt.download=`vaccinations-${It(new Date,"yyyy-MM-dd")}.json`,mt.click(),URL.revokeObjectURL(nt)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(hi,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(H,{onClick:Yn,variant:"outline",className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter"]}),r.jsx(A0,{})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(hi,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:jn.total})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(Zn,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Termines"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:jn.completed})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(Un,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:jn.overdue})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx(In,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prochaines 30j"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:jn.upcoming})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(kt,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifies"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:jn.scheduled})]})]})})})]}),r.jsxs($c,{value:I,onValueChange:D,children:[r.jsxs(ul,{className:"grid w-full grid-cols-4",children:[r.jsxs(Tn,{value:"overview",className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(Tn,{value:"calendar",className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4"}),"Calendrier"]}),r.jsxs(Tn,{value:"protocols",className:"flex items-center gap-2",children:[r.jsx(vi,{className:"h-4 w-4"}),"Protocoles"]}),r.jsxs(Tn,{value:"certificates",className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-4 w-4"}),"Certificats"]})]}),r.jsxs(On,{value:"overview",className:"space-y-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(se,{placeholder:"Rechercher animal, client, vaccin...",value:j,onChange:Se=>b(Se.target.value),className:"pl-10"})]}),r.jsxs($e,{value:P,onValueChange:C,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous statuts"}),r.jsx(Y,{value:"completed",children:"Termines"}),r.jsx(Y,{value:"scheduled",children:"Planifies"}),r.jsx(Y,{value:"overdue",children:"En retard"}),r.jsx(Y,{value:"missed",children:"Manques"})]})]}),r.jsxs($e,{value:A,onValueChange:_,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous types"}),r.jsx(Y,{value:"core",children:"Essentiels"}),r.jsx(Y,{value:"non-core",children:"Optionnels"}),r.jsx(Y,{value:"rabies",children:"Rage"}),r.jsx(Y,{value:"custom",children:"Personnaliss"})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs($e,{value:E,onValueChange:O,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Toutes catgories"}),r.jsx(Y,{value:"new",children:"Vaccinations"}),r.jsx(Y,{value:"reminder",children:"Rappels"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(H,{variant:y==="cards"?"default":"outline",size:"sm",onClick:()=>N("cards"),children:r.jsx(tl,{className:"h-4 w-4"})}),r.jsx(H,{variant:y==="table"?"default":"outline",size:"sm",onClick:()=>N("table"),children:r.jsx(nl,{className:"h-4 w-4"})})]})]})})}),y==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:lr.map(Se=>{const zt=t.find(mt=>mt.id===Se.petId),nt=n.find(mt=>mt.id===Se.clientId);return r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsxs(fe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(ts,{className:"h-10 w-10",children:[r.jsx(jc,{src:zt==null?void 0:zt.photo}),r.jsx(ns,{children:r.jsx(fu,{className:"h-5 w-5"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:Se.petName}),r.jsxs("p",{className:"text-xs text-gray-600",children:[zt==null?void 0:zt.type,"  ",nt==null?void 0:nt.name]})]})]}),L===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs($e,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(De,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"completed",children:"Termine"}),r.jsx(Y,{value:"scheduled",children:"Planifie"}),r.jsx(Y,{value:"overdue",children:"En retard"}),r.jsx(Y,{value:"missed",children:"Manque"})]})]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>z(null),children:"Annuler"})]}):r.jsxs(Oe,{className:`${W3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>z(Se.id),children:[H3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hi,{className:`h-4 w-4 ${Se.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("span",{className:"font-medium text-sm",children:[Se.vaccineName,Se.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx(Oe,{variant:"outline",className:"text-xs",children:Se.vaccineType}),Se.vaccinationCategory==="reminder"&&r.jsx(Oe,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(kt,{className:"h-4 w-4"}),r.jsxs("span",{children:["Date d'administration: ",It(new Date(Se.dateGiven),"dd/MM/yyyy",{locale:qi})]})]}),Se.vaccinationCategory==="new"&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(In,{className:"h-4 w-4"}),r.jsxs("span",{children:["Prochain rappel: ",It(new Date(Se.nextDueDate),"dd/MM/yyyy",{locale:qi})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Ea,{className:"h-4 w-4"}),r.jsx("span",{children:Se.veterinarian})]}),Se.cost&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:r.jsxs("span",{className:"font-medium",children:[Se.cost," ",g.currency]})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[r.jsxs(H,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{ye(Se),M(!0)},children:[r.jsx(Xr,{className:"h-4 w-4 mr-1"}),"Dtails"]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{ye(Se),we(!0)},children:r.jsx(zr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>qt(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(zn,{className:"h-4 w-4"})})]})]})},Se.id)})}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsxs(lm,{children:[r.jsx(cm,{children:r.jsxs(Ia,{children:[r.jsx(At,{children:"Animal"}),r.jsx(At,{children:"Vaccin"}),r.jsx(At,{children:"Type"}),r.jsx(At,{children:"Date donne"}),r.jsx(At,{children:"Statut"}),r.jsx(At,{children:"Stock"}),r.jsx(At,{children:"Vtrinaire"}),r.jsx(At,{children:"Cot"}),r.jsx(At,{children:"Actions"})]})}),r.jsx(um,{children:lr.map(Se=>{const zt=t.find(mt=>mt.id===Se.petId),nt=n.find(mt=>mt.id===Se.clientId);return r.jsxs(Ia,{children:[r.jsx(Et,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(ts,{className:"h-8 w-8",children:[r.jsx(jc,{src:zt==null?void 0:zt.photo}),r.jsx(ns,{children:r.jsx(fu,{className:"h-4 w-4"})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:Se.petName}),r.jsx("div",{className:"text-xs text-gray-600",children:nt==null?void 0:nt.name})]})]})}),r.jsx(Et,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Se.vaccineName}),Se.vaccinationCategory==="reminder"&&r.jsx(Oe,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]})}),r.jsx(Et,{children:r.jsx(Oe,{variant:"outline",className:"text-xs",children:Se.vaccineType})}),r.jsx(Et,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"dateGiven"}),lt(Se.dateGiven)},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="dateGiven"?r.jsx(se,{type:"date",value:at,onChange:mt=>lt(mt.target.value),onBlur:ut,autoFocus:!0}):It(new Date(Se.dateGiven),"dd/MM/yyyy")}),r.jsx(Et,{children:L===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs($e,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(De,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"completed",children:"Termine"}),r.jsx(Y,{value:"scheduled",children:"Planifie"}),r.jsx(Y,{value:"overdue",children:"En retard"}),r.jsx(Y,{value:"missed",children:"Manque"})]})]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>z(null),children:"Annuler"})]}):r.jsxs(Oe,{className:`${W3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>z(Se.id),children:[H3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})}),r.jsx(Et,{children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Et,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"veterinarian"}),lt(Se.veterinarian)},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="veterinarian"?r.jsxs($e,{value:at,onValueChange:mt=>{lt(mt),Be(null);const rn={...e.find(rs=>rs.id===Se.id),veterinarian:mt};m(Se.id,rn)},children:[r.jsx(De,{className:"w-32",children:r.jsx(Re,{})}),r.jsx(Me,{children:g.veterinarians.filter(mt=>mt.isActive).map(mt=>r.jsx(Y,{value:mt.name,children:mt.name},mt.id))})]}):Se.veterinarian}),r.jsx(Et,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"cost"}),lt(String(Se.cost||""))},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="cost"?r.jsx(se,{type:"number",value:at,onChange:mt=>lt(mt.target.value),onBlur:()=>{ut()},autoFocus:!0}):r.jsxs(r.Fragment,{children:[" ",Se.cost," ",g.currency," "]})}),r.jsx(Et,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{ye(Se),M(!0)},children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{ye(Se),we(!0)},children:r.jsx(zr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>qt(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(zn,{className:"h-4 w-4"})})]})})]},Se.id)})})]})})})]}),r.jsx(On,{value:"calendar",children:r.jsx(y5e,{})}),r.jsxs(On,{value:"protocols",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion des Protocoles Vaccinaux"}),r.jsx(QS,{mode:"create"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(vi,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Protocoles"}),r.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(Zn,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actifs"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.isActive).length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Zt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Essentiels"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.vaccineType==="core").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(Ea,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Espces"}),r.jsx("p",{className:"text-xl font-bold",children:new Set(s.map(Se=>Se.species)).size})]})]})})})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs($e,{value:A,onValueChange:_,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous types"}),r.jsx(Y,{value:"core",children:"Essentiels"}),r.jsx(Y,{value:"non-core",children:"Optionnels"}),r.jsx(Y,{value:"rabies",children:"Rage"}),r.jsx(Y,{value:"custom",children:"Personnaliss"})]})]}),r.jsxs($e,{value:E,onValueChange:O,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Toutes catgories"}),r.jsx(Y,{value:"new",children:"Vaccinations"}),r.jsx(Y,{value:"reminder",children:"Rappels"})]})]}),r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(se,{placeholder:"Rechercher un protocole...",value:j,onChange:Se=>b(Se.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-6",children:Array.from(new Set(s.map(Se=>Se.species))).map(Se=>{const zt=s.filter(nt=>nt.species===Se).filter(nt=>{const mt=A==="all"||nt.vaccineType===A,rn=nt.name.toLowerCase().includes(j.toLowerCase())||nt.description.toLowerCase().includes(j.toLowerCase());return mt&&rn});return zt.length===0?null:r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fu,{className:"h-5 w-5"}),Se," (",zt.length," protocoles)"]})})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:zt.map(nt=>r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsxs(fe,{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:nt.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Oe,{variant:nt.vaccineType==="core"?"default":"secondary",className:"text-xs",children:nt.vaccineType==="core"?"Essentiel":nt.vaccineType==="non-core"?"Optionnel":nt.vaccineType==="rabies"?"Rage":"Personnalis"}),!nt.isActive&&r.jsx(Oe,{variant:"outline",className:"text-xs",children:"Inactif"})]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:nt.description}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rappel:"}),r.jsx("span",{className:"font-medium",children:nt.intervals&&nt.intervals.length>0?nt.intervals.map(mt=>mt.label).join(", "):"Non spcifi"})]}),nt.manufacturer&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fabricant:"}),r.jsx("span",{className:"font-medium",children:nt.manufacturer})]}),nt.ageRequirement&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"ge requis:"}),r.jsx("span",{className:"font-medium",children:nt.ageRequirement})]})]}),nt.notes&&r.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:r.jsx("p",{className:"text-xs text-gray-600",children:nt.notes})}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(QS,{mode:"edit",protocol:nt,children:r.jsxs(H,{size:"sm",variant:"outline",className:"flex-1",children:[r.jsx(nn,{className:"h-4 w-4 mr-1"}),"Modifier"]})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>{confirm(`tes-vous sr de vouloir supprimer le protocole "${nt.name}" ?`)&&d(nt.id)},className:"text-red-600 hover:text-red-700",children:""})]})]})},nt.id))})})]},Se)})}),s.length===0&&r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(vi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun protocole vaccinal configur"}),r.jsx("p",{className:"text-sm mb-4",children:"Commencez par crer votre premier protocole"}),r.jsx(QS,{mode:"create",children:r.jsxs(H,{children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Crer un protocole"]})})]})})]}),r.jsx(On,{value:"certificates",children:r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5"}),"Certificats de Vaccination"]})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Gnrez des certificats officiels de vaccination pour les voyages et comptitions."}),r.jsxs(Tt,{open:k,onOpenChange:F,children:[r.jsx(Oc,{asChild:!0,children:r.jsxs(H,{className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Gnrer un Certificat"]})}),r.jsxs(Nt,{className:"max-w-lg",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Slectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs($e,{value:(U==null?void 0:U.toString())||"",onValueChange:Se=>{ie(parseInt(Se)),Q(null)},children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Choisissez un client"})}),r.jsx(Me,{children:n.map(Se=>r.jsx(Y,{value:Se.id.toString(),children:Se.name},Se.id))})]}),r.jsxs($e,{value:($==null?void 0:$.toString())||"",onValueChange:Se=>Q(parseInt(Se)),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Choisissez un animal"})}),r.jsx(Me,{children:t.filter(Se=>U?Se.ownerId===U:!1).map(Se=>r.jsxs(Y,{value:Se.id.toString(),children:[Se.name," (",Se.type,")"]},Se.id))})]}),$&&r.jsx("div",{className:"hidden",children:r.jsx(N_,{ref:B,petId:$})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(H,{disabled:!$,onClick:Ne,children:"Gnrer PDF"})})]})]})]})]})]})})]}),r.jsx(Tt,{open:Z,onOpenChange:M,children:r.jsxs(Nt,{className:"max-w-2xl",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Dtails de la Vaccination"})}),X&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Animal:"}),r.jsx("p",{children:X.petName})]}),r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Client:"}),r.jsx("p",{children:(ms=n.find(Se=>Se.id===X.clientId))==null?void 0:ms.name})]}),r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Vaccin:"}),r.jsx("p",{children:X.vaccineName})]}),r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Type:"}),r.jsx("p",{children:X.vaccineType})]}),r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Date donne:"}),r.jsx("p",{children:It(new Date(X.dateGiven),"dd/MM/yyyy",{locale:qi})})]}),r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Rappel:"}),r.jsx("p",{children:It(new Date(X.nextDueDate),"dd/MM/yyyy",{locale:qi})})]}),r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Vtrinaire:"}),r.jsx("p",{children:X.veterinarian})]}),r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Cot:"}),r.jsxs("p",{children:[X.cost," ",g.currency]})]})]}),X.notes&&r.jsxs("div",{children:[r.jsx(V,{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground",children:X.notes})]})]})]})}),r.jsx(Tt,{open:je,onOpenChange:we,children:r.jsxs(Nt,{className:"max-w-lg",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Document de Vaccination"})}),X&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Gnrez un document officiel pour la vaccination de ",X.petName,"."]}),r.jsx("div",{className:"hidden",children:r.jsx(N_,{ref:B,petId:X.petId})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>we(!1),children:"Annuler"}),r.jsx(H,{onClick:Ne,children:"Gnrer PDF"})]})]})]})}),r.jsx(A0,{open:ee,onOpenChange:Pt,editingVaccination:le}),r.jsx(Tt,{open:te,onOpenChange:xe,children:r.jsxs(Nt,{className:"max-w-md",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Confirmer la suppression"})}),ve&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["tes-vous sr de vouloir supprimer ",ve.vaccinationCategory==="reminder"?"le rappel":"la vaccination"," ",r.jsx("strong",{children:ve.vaccineName})," pour ",r.jsx("strong",{children:ve.petName})," ?"]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Cette action est irrversible et supprimera galement l'entre du dossier mdical.",ve.vaccinationCategory==="reminder"?r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Note :"})," Seul ce rappel sera supprim, les autres rappels de la mme vaccination ne seront pas affects."]}):r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Attention :"})," La suppression de cette vaccination supprimera galement tous ses rappels associs."]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>xe(!1),children:"Annuler"}),r.jsx(H,{variant:"destructive",onClick:Kn,children:"Supprimer"})]})]})]})})]})}function G3({children:e,protocol:t,mode:n}){const{addAntiparasiticProtocol:s,updateAntiparasiticProtocol:i}=ft(),{settings:a}=Wt(),{toast:o}=Ut(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),[f,m]=w.useState(["days"]);w.useEffect(()=>{n==="edit"&&t&&(d({name:t.name,species:t.species,productType:t.productType,targetParasites:t.targetParasites,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals,weightRange:t.weightRange||"",ageRequirement:t.ageRequirement||"",seasonalTreatment:t.seasonalTreatment||!1,notes:t.notes||"",isActive:t.isActive}),m(t.intervals.map(v=>v.offsetDays%30===0?"months":v.offsetDays%7===0?"weeks":"days")))},[n,t]);const g=v=>{if(v.preventDefault(),!u.name||!u.species||!u.productType||!u.description){o({title:"Erreur",description:"Champs obligatoires manquants",variant:"destructive"});return}n==="create"?(s(u),o({title:"Protocole cr",description:`${u.name} a t ajout.`})):t&&(i(t.id,u),o({title:"Protocole mis  jour",description:`${u.name} a t modifi.`})),d({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),c(!1)},x=a.species?a.species.split(",").map(v=>v.trim()):["Chien","Chat","Bovins","Ovins"];return r.jsxs(Tt,{open:l,onOpenChange:c,children:[r.jsx(Oc,{asChild:!0,children:e||r.jsxs(H,{className:"gap-2",children:[n==="create"?r.jsx(bt,{className:"h-4 w-4"}):r.jsx(nn,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(Nt,{children:[r.jsx(Ot,{children:r.jsx(Dt,{children:n==="create"?"Nouveau Protocole Antiparasitaire":"Modifier le Protocole"})}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"name",children:"Nom du protocole *"}),r.jsx(se,{id:"name",value:u.name,onChange:v=>d(y=>({...y,name:v.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"species",children:"Espce *"}),r.jsxs($e,{value:u.species,onValueChange:v=>d(y=>({...y,species:v})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Espce"})}),r.jsx(Me,{children:x.map(v=>r.jsx(Y,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"productType",children:"Type de produit"}),r.jsxs($e,{value:u.productType,onValueChange:v=>d(y=>({...y,productType:v})),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Type"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"external",children:"Externe"}),r.jsx(Y,{value:"internal",children:"Interne"}),r.jsx(Y,{value:"combined",children:"Combin"}),r.jsx(Y,{value:"heartworm",children:"Ver du cur"}),r.jsx(Y,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(Y,{value:"worming",children:"Vermifugation"})]})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"targetParasites",children:"Parasites cibles"}),r.jsx(se,{id:"targetParasites",value:u.targetParasites,onChange:v=>d(y=>({...y,targetParasites:v.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"description",children:"Description"}),r.jsx(St,{id:"description",value:u.description,onChange:v=>d(y=>({...y,description:v.target.value})),required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($r,{checked:u.isActive,onCheckedChange:v=>d(y=>({...y,isActive:v}))}),r.jsx(V,{children:"Actif"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"tapes / Intervalles"}),u.intervals.map((v,y)=>{const N=f[y],j=N==="months"?v.offsetDays/30:N==="weeks"?v.offsetDays/7:v.offsetDays;return r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(se,{type:"number",value:j,min:0,onChange:b=>{const P=parseInt(b.target.value)||0,C=N==="months"?P*30:N==="weeks"?P*7:P;d(A=>{const _=[...A.intervals];return _[y].offsetDays=C,{...A,intervals:_}})},className:"w-20"}),r.jsxs($e,{value:N,onValueChange:b=>{m(P=>{const C=[...P];return C[y]=b,C})},children:[r.jsx(De,{className:"w-24",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"days",children:"jours"}),r.jsx(Y,{value:"weeks",children:"semaines"}),r.jsx(Y,{value:"months",children:"mois"})]})]}),r.jsxs("span",{className:"ml-2",children:[v.offsetDays," jours"]}),r.jsx(H,{type:"button",variant:"destructive",onClick:()=>{d(b=>({...b,intervals:b.intervals.filter((P,C)=>C!==y)})),m(b=>b.filter((P,C)=>C!==y))},children:"Suppr."})]},y)}),r.jsx(H,{type:"button",onClick:()=>{d(v=>({...v,intervals:[...v.intervals,{offsetDays:0,label:""}]})),m(v=>[...v,"days"])},children:"Ajouter une tape"})]}),r.jsx(H,{type:"submit",className:"w-full",children:n==="create"?"Crer":"Mettre  jour"})]})]})]})}const K3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b5e=()=>{const{antiparasitics:e,pets:t,clients:n}=ft(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"antiparasitic",title:o.productName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(Rk,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Antiparasitaire",icon:r.jsx(Zl,{className:"h-5 w-5"})})},Y3=e=>{switch(e){case"completed":return r.jsx(Zn,{className:"h-4 w-4"});case"overdue":return r.jsx(Un,{className:"h-4 w-4"});case"scheduled":return r.jsx(In,{className:"h-4 w-4"});case"missed":return r.jsx(Un,{className:"h-4 w-4"});default:return r.jsx(In,{className:"h-4 w-4"})}};function w5e(){const{antiparasitics:e,pets:t,clients:n,antiparasiticProtocols:s,getOverdueAntiparasitics:i,getUpcomingAntiparasitics:a,getAntiparasiticsByStatus:o,getActiveAntiparasiticProtocols:l,getAntiparasiticProtocolsBySpecies:c,addAntiparasitic:u,updateAntiparasitic:d,deleteAntiparasitic:f}=ft(),{settings:m}=Wt(),{currentView:g}=gd("antiparasitics"),{toast:x}=Ut(),[v,y]=w.useState(null),[N,j]=w.useState(""),[b,P]=w.useState(!1),[C,A]=w.useState(null),[_,E]=w.useState(!1),[O,I]=w.useState(null),D=()=>{if(!v)return;const{id:Ne,field:Ge}=v,Ke=e.find(qt=>qt.id===Ne);if(Ke){const qt={...Ke,[Ge]:N};d(Ne,qt),x({title:"Modifi",description:`${Ge} mis  jour`})}y(null)},[k,F]=w.useState(""),[$,Q]=w.useState("all"),[U,ie]=w.useState("all"),[L,z]=w.useState(g),[le,pe]=w.useState(!1),[ee,J]=w.useState(null),[te,xe]=w.useState(null),ve=w.useRef(null),re=$k.useReactToPrint({contentRef:ve,onAfterPrint:()=>pe(!1)}),B=e.length,X=o("completed").length,ye=i().length,Z=a().length,M=w.useMemo(()=>[...new Set(s.map(Ge=>Ge.species))].reduce((Ge,Ke)=>(Ge[Ke]=c(Ke),Ge),{}),[s]),je=w.useMemo(()=>e.filter(Ne=>{t.find(Kn=>Kn.id===Ne.petId),n.find(Kn=>Kn.id===Ne.clientId);const Ge=!k||Ne.productName.toLowerCase().includes(k.toLowerCase())||Ne.petName.toLowerCase().includes(k.toLowerCase())||Ne.clientName.toLowerCase().includes(k.toLowerCase()),Ke=$==="all"||Ne.status===$,qt=U==="all"||Ne.productType===U;return Ge&&Ke&&qt}),[e,t,n,k,$,U]),[we,Fe]=w.useState(""),[Be,at]=w.useState("all");w.useMemo(()=>s.filter(Ne=>{const Ge=!we||Ne.name.toLowerCase().includes(we.toLowerCase())||Ne.species.toLowerCase().includes(we.toLowerCase())||Ne.targetParasites.toLowerCase().includes(we.toLowerCase()),Ke=Be==="all"||Ne.productType===Be;return Ge&&Ke}),[s,we,Be]);const lt=Ne=>{I(Ne.petId),E(!0)},ut=Ne=>{A(Ne),P(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:"Gestion Antiparasitaire"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivi des traitements antiparasitaires et protocoles de prvention"})]}),r.jsx(E0,{children:r.jsxs(H,{className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Traitements"}),r.jsx("p",{className:"text-2xl font-bold",children:B})]}),r.jsx(Zl,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Complts"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:X})]}),r.jsx(Zn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:ye})]}),r.jsx(Un,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" Venir (7j)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Z})]}),r.jsx(In,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsxs($c,{defaultValue:"treatments",className:"space-y-6",children:[r.jsxs(ul,{className:"grid w-full grid-cols-4",children:[r.jsx(Tn,{value:"treatments",children:"Traitements"}),r.jsx(Tn,{value:"calendar",children:"Calendrier"}),r.jsx(Tn,{value:"protocols",children:"Protocoles"}),r.jsx(Tn,{value:"certificates",children:"Certificats"})]}),r.jsxs(On,{value:"treatments",className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(PA,{className:"h-5 w-5"}),"Filtres et Recherche"]})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(se,{placeholder:"Rechercher par produit, animal ou client...",value:k,onChange:Ne=>F(Ne.target.value),className:"pl-10"})]})}),r.jsxs($e,{value:$,onValueChange:Q,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx(Re,{placeholder:"Statut"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous statuts"}),r.jsx(Y,{value:"completed",children:"Complt"}),r.jsx(Y,{value:"scheduled",children:"Planifi"}),r.jsx(Y,{value:"overdue",children:"En retard"}),r.jsx(Y,{value:"missed",children:"Manqu"})]})]}),r.jsxs($e,{value:U,onValueChange:ie,children:[r.jsx(De,{className:"w-[150px]",children:r.jsx(Re,{placeholder:"Type"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous types"}),r.jsx(Y,{value:"external",children:"Externe"}),r.jsx(Y,{value:"internal",children:"Interne"}),r.jsx(Y,{value:"combined",children:"Combin"}),r.jsx(Y,{value:"heartworm",children:"Ver du cur"}),r.jsx(Y,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(Y,{value:"worming",children:"Vermifugation"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:L==="cards"?"default":"outline",size:"sm",onClick:()=>z("cards"),children:r.jsx(tl,{className:"h-4 w-4"})}),r.jsx(H,{variant:L==="table"?"default":"outline",size:"sm",onClick:()=>z("table"),children:r.jsx(nl,{className:"h-4 w-4"})})]})]})})]}),L==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:je.map(Ne=>{const Ge=t.find(Ke=>Ke.id===Ne.petId);return n.find(Ke=>Ke.id===Ne.clientId),r.jsxs(he,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Te,{className:"text-lg",children:Ne.productName}),r.jsxs(Oe,{className:K3(Ne.status),children:[Y3(Ne.status),r.jsx("span",{className:"ml-1",children:Ne.status==="completed"?"Complt":Ne.status==="scheduled"?"Planifi":Ne.status==="overdue"?"En retard":"Manqu"})]})]})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ts,{className:"h-10 w-10",children:Ge!=null&&Ge.photo?r.jsx(jc,{src:Ge.photo,alt:Ge.name}):r.jsx(ns,{children:r.jsx(fu,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ne.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ne.clientName})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ne.productType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ne.targetParasites})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Date donne:"}),r.jsx("span",{children:It(new Date(Ne.dateGiven),"dd/MM/yyyy")})]}),Ne.nextDueDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Prochain rappel:"}),r.jsx("span",{children:It(new Date(Ne.nextDueDate),"dd/MM/yyyy")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Vtrinaire:"}),r.jsx("span",{children:Ne.veterinarian})]}),Ne.cost&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Cot:"}),r.jsxs("span",{className:"font-medium",children:[Ne.cost," ",m.currency]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),Ne.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ne.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ne.stockQuantity,")"]})]}):Ne.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(H,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>lt(Ne),children:[r.jsx(Xr,{className:"h-4 w-4 mr-1"}),"Dtails"]}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>ut(Ne),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Ne.id),x({title:"Supprim",description:`${Ne.productName} supprim.`}))},children:r.jsx(zn,{className:"h-4 w-4"})})]})]})]},Ne.id)})}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsxs(lm,{children:[r.jsx(cm,{children:r.jsxs(Ia,{children:[r.jsx(At,{children:"Animal"}),r.jsx(At,{children:"Produit"}),r.jsx(At,{children:"Type"}),r.jsx(At,{children:"Date donne"}),r.jsx(At,{children:"Prochain rappel"}),r.jsx(At,{children:"Statut"}),r.jsx(At,{children:"Stock"}),r.jsx(At,{children:"Vtrinaire"}),r.jsx(At,{children:"Cot"}),r.jsx(At,{children:"Actions"})]})}),r.jsx(um,{children:je.map(Ne=>r.jsxs(Ia,{children:[r.jsx(Et,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ts,{className:"h-8 w-8",children:r.jsx(ns,{children:r.jsx(fu,{className:"h-4 w-4"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ne.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ne.clientName})]})]})}),r.jsx(Et,{className:"font-medium",children:Ne.productName}),r.jsx(Et,{children:Ne.productType}),r.jsx(Et,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"dateGiven"}),j(Ne.dateGiven)},children:(v==null?void 0:v.id)===Ne.id&&v.field==="dateGiven"?r.jsx(se,{type:"date",value:N,onChange:Ge=>j(Ge.target.value),onBlur:D,autoFocus:!0}):It(new Date(Ne.dateGiven),"dd/MM/yyyy")}),r.jsx(Et,{children:Ne.nextDueDate?It(new Date(Ne.nextDueDate),"dd/MM/yyyy"):"-"}),r.jsx(Et,{children:r.jsxs(Oe,{className:K3(Ne.status),children:[Y3(Ne.status),r.jsx("span",{className:"ml-1",children:Ne.status==="completed"?"Complt":Ne.status==="scheduled"?"Planifi":Ne.status==="overdue"?"En retard":"Manqu"})]})}),r.jsx(Et,{children:Ne.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-green-600"}),r.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ne.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ne.stockQuantity,")"]})]}):Ne.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Et,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"veterinarian"}),j(Ne.veterinarian)},children:(v==null?void 0:v.id)===Ne.id&&v.field==="veterinarian"?r.jsxs($e,{value:N,onValueChange:Ge=>{j(Ge),d(Ne.id,{veterinarian:Ge}),y(null)},children:[r.jsx(De,{className:"w-32",children:r.jsx(Re,{})}),r.jsx(Me,{children:m.veterinarians.filter(Ge=>Ge.isActive).map(Ge=>r.jsx(Y,{value:Ge.name,children:Ge.name},Ge.id))})]}):Ne.veterinarian}),r.jsx(Et,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"cost"}),j(Ne.cost||"")},children:(v==null?void 0:v.id)===Ne.id&&v.field==="cost"?r.jsx(se,{type:"number",value:N,onChange:Ge=>j(Ge.target.value),onBlur:D,autoFocus:!0}):Ne.cost?`${Ne.cost} ${m.currency}`:"-"}),r.jsx(Et,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>lt(Ne),children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>ut(Ne),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Ne.id),x({title:"Supprim",description:`${Ne.productName} supprim.`}))},children:r.jsx(zn,{className:"h-4 w-4"})})]})})]},Ne.id))})]})})})]}),r.jsx(On,{value:"calendar",children:r.jsx(b5e,{})}),r.jsxs(On,{value:"protocols",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Protocoles Antiparasitaires"}),r.jsx("p",{className:"text-muted-foreground",children:"Grez les protocoles de traitement par espce"})]}),r.jsx(G3,{mode:"create",children:r.jsxs(H,{className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouveau Protocole"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Protocoles"}),r.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),r.jsx(zr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actifs"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(Ne=>Ne.isActive).length})]}),r.jsx(Zn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Externes"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(Ne=>Ne.productType==="external"||Ne.productType==="flea_tick").length})]}),r.jsx(Zl,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Espces"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(M).length})]}),r.jsx(fu,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(se,{placeholder:"Rechercher un protocole...",value:we,onChange:Ne=>Fe(Ne.target.value),className:"pl-10"})]})}),r.jsxs($e,{value:Be,onValueChange:at,children:[r.jsx(De,{className:"w-[200px]",children:r.jsx(Re,{placeholder:"Type de produit"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous types"}),r.jsx(Y,{value:"external",children:"Externe"}),r.jsx(Y,{value:"internal",children:"Interne"}),r.jsx(Y,{value:"combined",children:"Combin"}),r.jsx(Y,{value:"heartworm",children:"Ver du cur"}),r.jsx(Y,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(Y,{value:"worming",children:"Vermifugation"})]})]})]})})}),r.jsx("div",{className:"space-y-6",children:Object.keys(M).map(Ne=>{const Ge=M[Ne].filter(Ke=>{const qt=!we||Ke.name.toLowerCase().includes(we.toLowerCase())||Ke.targetParasites.toLowerCase().includes(we.toLowerCase()),Kn=Be==="all"||Ke.productType===Be;return qt&&Kn});return Ge.length===0?null:r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(fu,{className:"h-5 w-5"}),Ne," (",Ge.length," protocoles)"]})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ge.map(Ke=>r.jsxs(he,{className:"border-l-4 border-l-primary",children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Te,{className:"text-base",children:Ke.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(G3,{mode:"edit",protocol:Ke,children:r.jsx(H,{size:"sm",variant:"outline",children:r.jsx(nn,{className:"h-4 w-4"})})}),r.jsx(Oe,{variant:Ke.isActive?"default":"secondary",children:Ke.isActive?"Actif":"Inactif"})]})]})}),r.jsxs(fe,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:Ke.description}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ke.productType})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ke.targetParasites})]}),Ke.weightRange&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Poids:"}),r.jsx("span",{children:Ke.weightRange})]}),Ke.ageRequirement&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"ge:"}),r.jsx("span",{children:Ke.ageRequirement})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rappels:"}),r.jsx("span",{children:Ke.intervals.map(qt=>qt.label).join(", ")})]}),Ke.manufacturer&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Fabricant:"}),r.jsx("span",{children:Ke.manufacturer})]})]}),Ke.notes&&r.jsx("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",Ke.notes]})})]})]},Ke.id))})})]},Ne)})})]}),r.jsx(On,{value:"certificates",children:r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5"}),"Certificats Antiparasitaires"]})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Gnrez des certificats officiels de traitement antiparasitaire pour les voyages et comptitions."}),r.jsxs(Tt,{open:le,onOpenChange:pe,children:[r.jsx(Oc,{asChild:!0,children:r.jsxs(H,{className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Gnrer un Certificat"]})}),r.jsxs(Nt,{className:"max-w-lg",children:[r.jsx(Ot,{children:r.jsx(Dt,{children:"Slectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs($e,{value:(ee==null?void 0:ee.toString())||"",onValueChange:Ne=>{J(parseInt(Ne)),xe(null)},children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Choisissez un client"})}),r.jsx(Me,{children:n.map(Ne=>r.jsx(Y,{value:Ne.id.toString(),children:Ne.name},Ne.id))})]}),r.jsxs($e,{value:(te==null?void 0:te.toString())||"",onValueChange:Ne=>xe(parseInt(Ne)),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Choisissez un animal"})}),r.jsx(Me,{children:t.filter(Ne=>ee?Ne.ownerId===ee:!1).map(Ne=>r.jsxs(Y,{value:Ne.id.toString(),children:[Ne.name," (",Ne.type,")"]},Ne.id))})]}),te&&r.jsx("div",{className:"hidden",children:r.jsxs("div",{ref:ve,children:["Certificat antiparasitaire pour animal ",te]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(H,{disabled:!te,onClick:re,children:"Gnrer PDF"})})]})]})]})]})]})})]}),r.jsx(E0,{open:b,onOpenChange:Ne=>{P(Ne),Ne||A(null)},editingAntiparasitic:C}),O&&r.jsx(p9,{petId:O,open:_,onOpenChange:E})]})}const N5e=[{value:"medication",label:"Mdicaments",icon:""},{value:"vaccine",label:"Vaccins",icon:""},{value:"consumable",label:"Consommables",icon:""},{value:"equipment",label:"quipement",icon:""},{value:"supplement",label:"Supplments",icon:""}],S5e=[{value:"unit",label:"Unit"},{value:"box",label:"Bote"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],C5e={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthsique","Analgsique","Antihistaminique","Corticode","Diurtique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommand","Autre"],consumable:["Matriel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Strilisation","Autre"],supplement:["Vitamines","Minraux","Probiotiques","Acides amins","Autre"]};function Q3({open:e,onOpenChange:t,editingItem:n}){var f;const{addStockItem:s,updateStockItem:i}=ft(),{settings:a}=Wt(),{toast:o}=Ut(),[l,c]=w.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});w.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=m=>{if(m.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'lment est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numriques ne peuvent pas tre ngatives.",variant:"destructive"});return}const g={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(i(n.id,g),o({title:"lment modifi",description:`"${l.name}" a t modifi avec succs.`})):(s(g),o({title:"lment ajout",description:`"${l.name}" a t ajout au stock.`})),t(!1)},d=(m,g)=>{c(x=>({...x,[m]:g}))};return r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:n?"Modifier l'lment de stock":"Nouvel lment de stock"}),r.jsx(Cn,{children:n?"Modifiez les informations de l'lment de stock.":"Ajoutez un nouvel lment  votre inventaire."})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"name",children:"Nom de l'lment *"}),r.jsx(se,{id:"name",value:l.name,onChange:m=>d("name",m.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"category",children:"Catgorie *"}),r.jsxs($e,{value:l.category,onValueChange:m=>d("category",m),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner une catgorie"})}),r.jsx(Me,{children:N5e.map(m=>r.jsxs(Y,{value:m.value,children:[m.icon," ",m.label]},m.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"subcategory",children:"Sous-catgorie"}),r.jsxs($e,{value:l.subcategory,onValueChange:m=>d("subcategory",m),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner une sous-catgorie"})}),r.jsx(Me,{children:(f=C5e[l.category])==null?void 0:f.map(m=>r.jsx(Y,{value:m,children:m},m))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(se,{id:"manufacturer",value:l.manufacturer,onChange:m=>d("manufacturer",m.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"description",children:"Description"}),r.jsx(St,{id:"description",value:l.description,onChange:m=>d("description",m.target.value),placeholder:"Description dtaille de l'lment...",rows:2})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"batchNumber",children:"Numro de lot"}),r.jsx(se,{id:"batchNumber",value:l.batchNumber,onChange:m=>d("batchNumber",m.target.value),placeholder:"ex: AMX2024001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"dosage",children:"Dosage"}),r.jsx(se,{id:"dosage",value:l.dosage,onChange:m=>d("dosage",m.target.value),placeholder:"ex: 500mg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"unit",children:"Unit"}),r.jsxs($e,{value:l.unit,onValueChange:m=>d("unit",m),children:[r.jsx(De,{children:r.jsx(Re,{placeholder:"Slectionner une unit"})}),r.jsx(Me,{children:S5e.map(m=>r.jsx(Y,{value:m.value,children:m.label},m.value))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"currentStock",children:"Stock actuel *"}),r.jsx(se,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:m=>d("currentStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"minimumStock",children:"Stock minimum *"}),r.jsx(se,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:m=>d("minimumStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"maximumStock",children:"Stock maximum"}),r.jsx(se,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:m=>d("maximumStock",parseInt(m.target.value)||0)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{htmlFor:"purchasePrice",children:["Prix d'achat (",a.currency,") *"]}),r.jsx(se,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:m=>d("purchasePrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{htmlFor:"sellingPrice",children:["Prix de vente (",a.currency,") *"]}),r.jsx(se,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:m=>d("sellingPrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calcule automatiquement : Prix d'achat  Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&r.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",a.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&r.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",a.currency]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplmentaires"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"expirationDate",children:"Date d'expiration"}),r.jsx(se,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:m=>d("expirationDate",m.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"supplier",children:"Fournisseur"}),r.jsx(se,{id:"supplier",value:l.supplier,onChange:m=>d("supplier",m.target.value),placeholder:"ex: Pharmacie Vtrinaire Centrale"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"location",children:"Emplacement"}),r.jsx(se,{id:"location",value:l.location,onChange:m=>d("location",m.target.value),placeholder:"ex: Armoire A - tagre 1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"barcode",children:"Code-barres"}),r.jsx(se,{id:"barcode",value:l.barcode,onChange:m=>d("barcode",m.target.value),placeholder:"ex: 1234567890123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"sku",children:"SKU"}),r.jsx(se,{id:"sku",value:l.sku,onChange:m=>d("sku",m.target.value),placeholder:"ex: MED-AMX-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",children:"Notes"}),r.jsx(St,{id:"notes",value:l.notes,onChange:m=>d("notes",m.target.value),placeholder:"Notes supplmentaires...",rows:3})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(H,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const P5e=[{value:"in",label:"Entre",icon:pr,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:Fu,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:Z5,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:Ote,description:"Dplacement entre emplacements"}],_5e={in:["Achat fournisseur","Retour client","Inventaire initial","Don/chantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Prim/expir","Cass/endommag","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Rorganisation stock","Autre"]};function A5e({open:e,onOpenChange:t,item:n}){var x;const{updateStockItem:s,addStockMovement:i}=ft(),{settings:a}=Wt(),{toast:o}=Ut(),[l,c]=w.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=w.useState("");w.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const f=v=>{if(v.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantit doit tre suprieure  0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let y=n.currentStock;if(l.type==="in")y+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}y-=l.quantity}else l.type==="adjustment"&&(y=l.quantity);l.type!=="transfer"&&s(n.id,{currentStock:y,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const N=l.performedBy==="Autre"?u:l.performedBy,j={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:N||void 0,date:new Date().toISOString(),notes:l.notes||void 0};i(j),o({title:"Mouvement enregistr",description:`${{in:"Entre",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistre.`}),t(!1)},m=(v,y)=>{c(N=>({...N,[v]:y}))},g=()=>{if(!n)return 0;let v=n.currentStock;return l.type==="in"?v+=l.quantity:l.type==="out"?v-=l.quantity:l.type==="adjustment"&&(v=l.quantity),Math.max(0,v)};return n?r.jsx(Tt,{open:e,onOpenChange:t,children:r.jsxs(Nt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Mouvement de stock"]}),r.jsxs(Cn,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Hn,{className:"h-5 w-5 text-blue-600"}),"lment concern"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),r.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[r.jsx(ad,{className:"h-4 w-4"}),n.location||"Non dfini"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),r.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),r.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),r.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",a.currency]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{className:"text-base font-medium",children:"Type de mouvement *"}),r.jsxs($e,{value:l.type,onValueChange:v=>m("type",v),children:[r.jsx(De,{className:"h-12",children:r.jsx(Re,{placeholder:"Slectionner le type de mouvement"})}),r.jsx(Me,{children:P5e.map(v=>{const y=v.icon;return r.jsx(Y,{value:v.value,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(y,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:v.label}),r.jsx("div",{className:"text-xs text-muted-foreground",children:v.description})]})]})},v.value)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantit *"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(se,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:v=>m("quantity",parseFloat(v.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),r.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&r.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock aprs mouvement:"}),r.jsxs("div",{className:`text-lg font-semibold ${g()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[g()," ",n.unit]}),g()<=n.minimumStock&&r.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[r.jsx(Un,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),r.jsxs($e,{value:l.reason,onValueChange:v=>m("reason",v),children:[r.jsx(De,{className:"h-12",children:r.jsx(Re,{placeholder:"Slectionner une raison"})}),r.jsx(Me,{children:(x=_5e[l.type])==null?void 0:x.map(v=>r.jsx(Y,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"reference",className:"text-base font-medium",children:"Rfrence"}),r.jsx(se,{id:"reference",value:l.reference,onChange:v=>m("reference",v.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectu par"}),r.jsxs($e,{value:l.performedBy,onValueChange:v=>m("performedBy",v),children:[r.jsx(De,{className:"h-12",children:r.jsx(Re,{placeholder:"Slectionner un vtrinaire"})}),r.jsxs(Me,{children:[a.veterinarians.filter(v=>v.isActive).map(v=>r.jsx(Y,{value:v.name,children:v.name},v.id)),r.jsx(Y,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&r.jsx(se,{placeholder:"Nom du responsable",value:u,onChange:v=>d(v.target.value),className:"h-10 mt-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),r.jsx(St,{id:"notes",value:l.notes,onChange:v=>m("notes",v.target.value),placeholder:"Notes supplmentaires...",rows:4,className:"resize-none"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[r.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),r.jsxs(H,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[r.jsx(pr,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const np={medication:{label:"Mdicaments",color:"bg-blue-100 text-blue-800",icon:""},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:""},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:""},equipment:{label:"quipement",color:"bg-purple-100 text-purple-800",icon:""},supplement:{label:"Supplments",color:"bg-yellow-100 text-yellow-800",icon:""}},E5e=[{value:"unit",label:"Unit"},{value:"box",label:"Bote"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function k5e(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:s,updateStockItem:i,deleteStockItem:a,addStockMovement:o,getStockAlerts:l}=ft(),{settings:c}=Wt(),{toast:u}=Ut(),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(null),[P,C]=w.useState(""),[A,_]=w.useState("all"),[E,O]=w.useState("all"),[I,D]=w.useState("name"),[k,F]=w.useState("asc"),[$,Q]=w.useState(null),[U,ie]=w.useState(""),L=w.useMemo(()=>{const B=e.length,X=e.reduce((je,we)=>je+we.totalValue,0),ye=e.filter(je=>je.currentStock<=je.minimumStock).length,Z=e.filter(je=>je.expirationDate&&new Date(je.expirationDate)<new Date).length,M=e.filter(je=>je.expirationDate&&new Date(je.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(je.expirationDate)>new Date).length;return{totalItems:B,totalValue:X,lowStockItems:ye,expiredItems:Z,expiringSoonItems:M}},[e]),z=w.useMemo(()=>{let B=e.filter(X=>{var je,we;const ye=X.name.toLowerCase().includes(P.toLowerCase())||((je=X.manufacturer)==null?void 0:je.toLowerCase().includes(P.toLowerCase()))||((we=X.batchNumber)==null?void 0:we.toLowerCase().includes(P.toLowerCase())),Z=A==="all"||X.category===A;let M=!0;return E==="low_stock"?M=X.currentStock<=X.minimumStock:E==="expired"?M=X.expirationDate&&new Date(X.expirationDate)<new Date:E==="expiring_soon"?M=X.expirationDate&&new Date(X.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(X.expirationDate)>new Date:E==="active"&&(M=X.isActive),ye&&Z&&M});return B.sort((X,ye)=>{let Z,M;switch(I){case"name":Z=X.name.toLowerCase(),M=ye.name.toLowerCase();break;case"currentStock":Z=X.currentStock,M=ye.currentStock;break;case"totalValue":Z=X.totalValue,M=ye.totalValue;break;case"expirationDate":Z=X.expirationDate||"9999-12-31",M=ye.expirationDate||"9999-12-31";break;default:Z=X.name.toLowerCase(),M=ye.name.toLowerCase()}return k==="asc"?Z<M?-1:Z>M?1:0:Z>M?-1:Z<M?1:0}),B},[e,P,A,E,I,k]),le=(B,X,ye)=>{const Z={};switch(X){case"currentStock":Z.currentStock=parseInt(ye)||0;break;case"minimumStock":Z.minimumStock=parseInt(ye)||0;break;case"purchasePrice":Z.purchasePrice=parseFloat(ye)||0;break;case"sellingPrice":Z.sellingPrice=parseFloat(ye)||0;break;case"location":Z.location=ye;break;case"notes":Z.notes=ye;break}i(B,Z),Q(null),u({title:"Stock mis  jour",description:"L'lment de stock a t mis  jour avec succs."})},pe=B=>{b(B),v(!0)},ee=B=>{v(B),B||b(null)},J=B=>{confirm(`tes-vous sr de vouloir supprimer "${B.name}" du stock ?`)&&(a(B.id),u({title:"lment supprim",description:`"${B.name}" a t supprim du stock.`}))},te=B=>{N(B),g(!0)},xe=()=>{const B=[["Nom","Catgorie","Sous-catgorie","Fabricant","Numro de lot","Dosage","Unit","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(M=>[`"${M.name}"`,`"${M.category}"`,`"${M.subcategory||""}"`,`"${M.manufacturer||""}"`,`"${M.batchNumber||""}"`,`"${M.dosage||""}"`,`"${M.unit}"`,M.currentStock,M.minimumStock,M.purchasePrice,M.sellingPrice,`"${M.expirationDate||""}"`,`"${M.supplier||""}"`,`"${M.location||""}"`,`"${M.notes||""}"`,`"${M.barcode||""}"`,`"${M.sku||""}"`].join(","))].join(`
`),X=new Blob([B],{type:"text/csv;charset=utf-8;"}),ye=document.createElement("a"),Z=URL.createObjectURL(X);ye.setAttribute("href",Z),ye.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),ye.style.visibility="hidden",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),u({title:"Export russi",description:"Le fichier CSV a t tlcharg avec succs."})},ve=B=>{var Z;const X=(Z=B.target.files)==null?void 0:Z[0];if(!X)return;const ye=new FileReader;ye.onload=M=>{var je;try{const Fe=((je=M.target)==null?void 0:je.result).split(`
`),Be=Fe[0].split(",").map(Ke=>Ke.replace(/"/g,"").trim()),lt=["Nom","Catgorie","Unit","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(Ke=>!Be.includes(Ke));if(lt.length>0){u({title:"Erreur d'import",description:`En-ttes manquants: ${lt.join(", ")}`,variant:"destructive"});return}const ut=[];let Ne=0,Ge=0;for(let Ke=1;Ke<Fe.length;Ke++){const qt=Fe[Ke].trim();if(qt)try{const Kn=qt.split(",").map(Yn=>Yn.replace(/"/g,"").trim()),Pt={};if(Be.forEach((Yn,ms)=>{Pt[Yn]=Kn[ms]||""}),!Pt.Nom||!Pt.Catgorie||!Pt.Unit){Ge++;continue}if(!Object.keys(np).includes(Pt.Catgorie)){Ge++;continue}const lr={id:Date.now()+Ke,name:Pt.Nom,category:Pt.Catgorie,subcategory:Pt["Sous-catgorie"]||"",manufacturer:Pt.Fabricant||"",batchNumber:Pt["Numro de lot"]||"",dosage:Pt.Dosage||"",unit:Pt.Unit,currentStock:parseInt(Pt["Stock actuel"])||0,minimumStock:parseInt(Pt["Stock minimum"])||0,purchasePrice:parseFloat(Pt["Prix d'achat"])||0,sellingPrice:parseFloat(Pt["Prix de vente"])||0,totalValue:(parseInt(Pt["Stock actuel"])||0)*(parseFloat(Pt["Prix d'achat"])||0),expirationDate:Pt["Date d'expiration"]||void 0,supplier:Pt.Fournisseur||"",location:Pt.Emplacement||"",notes:Pt.Notes||"",barcode:Pt["Code-barres"]||"",sku:Pt.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};ut.push(lr),Ne++}catch(Kn){Ge++,console.error(`Erreur ligne ${Ke+1}:`,Kn)}}ut.length>0&&ut.forEach(Ke=>{s(Ke)}),u({title:"Import termin",description:`${Ne} lments imports avec succs${Ge>0?`, ${Ge} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},ye.readAsText(X),B.target.value=""},re=()=>{const B=[["Nom","Catgorie","Sous-catgorie","Fabricant","Numro de lot","Dosage","Unit","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vtrinaire Centrale","Armoire A - tagre 1","Stockage  temprature ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combin","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Rfrigrateur - tagre 1","Conservation entre 2-8C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matriel mdical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - tagre 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),X=new Blob([B],{type:"text/csv;charset=utf-8;"}),ye=document.createElement("a"),Z=URL.createObjectURL(X);ye.setAttribute("href",Z),ye.setAttribute("download","gabarit_import_stock.csv"),ye.style.visibility="hidden",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),u({title:"Gabarit tlcharg",description:"Le fichier gabarit a t tlcharg avec succs."})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[r.jsx(Hn,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Grez votre inventaire de mdicaments, vaccins et consommables"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(H,{variant:"outline",onClick:xe,className:"gap-2",children:[r.jsx(CA,{className:"h-4 w-4"}),"Exporter CSV"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:ve,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),r.jsx(H,{variant:"outline",className:"gap-2",asChild:!0,children:r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(YC,{className:"h-4 w-4"}),"Importer CSV"]})})]}),r.jsxs(H,{variant:"outline",onClick:re,className:"gap-2",children:[r.jsx(uM,{className:"h-4 w-4"}),"Gabarit"]}),r.jsxs(H,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[r.jsx(bt,{className:"h-4 w-4"}),"Nouvel lment"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total lments"}),r.jsx("p",{className:"text-2xl font-bold",children:L.totalItems})]}),r.jsx(Hn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),r.jsxs("p",{className:"text-2xl font-bold",children:[L.totalValue.toFixed(2)," ",c.currency]})]}),r.jsx($f,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:L.lowStockItems})]}),r.jsx(Un,{className:"h-8 w-8 text-orange-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirs"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:L.expiredItems})]}),r.jsx(Qp,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientt"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:L.expiringSoonItems})]}),r.jsx(In,{className:"h-8 w-8 text-yellow-600"})]})})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(PA,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[300px]",children:r.jsx(se,{placeholder:"Rechercher par nom, fabricant, lot...",value:P,onChange:B=>C(B.target.value),className:"w-full"})}),r.jsxs($e,{value:A,onValueChange:_,children:[r.jsx(De,{className:"w-48",children:r.jsx(Re,{placeholder:"Catgorie"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Toutes les catgories"}),Object.entries(np).map(([B,X])=>r.jsxs(Y,{value:B,children:[X.icon," ",X.label]},B))]})]}),r.jsxs($e,{value:E,onValueChange:O,children:[r.jsx(De,{className:"w-48",children:r.jsx(Re,{placeholder:"Statut"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"all",children:"Tous les statuts"}),r.jsx(Y,{value:"active",children:"Actifs"}),r.jsx(Y,{value:"low_stock",children:"Stock bas"}),r.jsx(Y,{value:"expired",children:"Expirs"}),r.jsx(Y,{value:"expiring_soon",children:"Expirent bientt"})]})]}),r.jsxs($e,{value:I,onValueChange:D,children:[r.jsx(De,{className:"w-48",children:r.jsx(Re,{placeholder:"Trier par"})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"name",children:"Nom"}),r.jsx(Y,{value:"currentStock",children:"Stock actuel"}),r.jsx(Y,{value:"totalValue",children:"Valeur totale"}),r.jsx(Y,{value:"expirationDate",children:"Date d'expiration"})]})]}),r.jsx(H,{variant:"outline",onClick:()=>F(k==="asc"?"desc":"asc"),children:k==="asc"?r.jsx(pr,{className:"h-4 w-4"}):r.jsx(Fu,{className:"h-4 w-4"})})]})})]}),r.jsx(he,{className:"bg-blue-50 border-blue-200",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(uM,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),r.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour tlcharger un fichier CSV avec le format correct. Les donnes importes seront ajoutes au stock existant.'}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Catgories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Units valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{children:["Inventaire (",z.length," lments)"]})}),r.jsxs(fe,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(lm,{children:[r.jsx(cm,{children:r.jsxs(Ia,{children:[r.jsx(At,{children:"Nom"}),r.jsx(At,{children:"Catgorie"}),r.jsx(At,{children:"Fabricant"}),r.jsx(At,{children:"Stock"}),r.jsx(At,{children:"Prix d'achat"}),r.jsx(At,{children:"Prix de vente"}),r.jsx(At,{children:"Valeur totale"}),r.jsx(At,{children:"Expiration"}),r.jsx(At,{children:"Emplacement"}),r.jsx(At,{children:"Actions"})]})}),r.jsx(um,{children:z.map(B=>{var M;const X=B.currentStock<=B.minimumStock,ye=B.expirationDate&&new Date(B.expirationDate)<new Date,Z=B.expirationDate&&new Date(B.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(B.expirationDate)>new Date;return r.jsxs(Ia,{className:B.isActive?"":"opacity-50",children:[r.jsx(Et,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:B.name}),B.batchNumber&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",B.batchNumber]}),B.dosage&&r.jsx("div",{className:"text-sm text-muted-foreground",children:B.dosage})]})}),r.jsxs(Et,{children:[r.jsxs(Oe,{className:np[B.category].color,children:[np[B.category].icon," ",np[B.category].label]}),B.subcategory&&r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:B.subcategory})]}),r.jsx(Et,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{children:B.manufacturer||"-"}),B.supplier&&r.jsx("div",{className:"text-sm text-muted-foreground",children:B.supplier})]})}),r.jsx(Et,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`font-medium ${X?"text-orange-600":""}`,children:[B.currentStock," ",((M=E5e.find(je=>je.value===B.unit))==null?void 0:M.label)||B.unit]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",B.minimumStock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[X&&r.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Stock bas"}),B.lastUpdated&&new Date(B.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&r.jsx(Oe,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis  jour"})]})]})}),r.jsx(Et,{children:($==null?void 0:$.id)===B.id&&$.field==="purchasePrice"?r.jsx(se,{type:"number",step:"0.01",value:U,onChange:je=>ie(je.target.value),onBlur:()=>le(B.id,"purchasePrice",U),onKeyDown:je=>{je.key==="Enter"&&le(B.id,"purchasePrice",U)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{Q({id:B.id,field:"purchasePrice"}),ie(B.purchasePrice.toString())},children:[B.purchasePrice.toFixed(2)," ",c.currency]})}),r.jsx(Et,{children:($==null?void 0:$.id)===B.id&&$.field==="sellingPrice"?r.jsx(se,{type:"number",step:"0.01",value:U,onChange:je=>ie(je.target.value),onBlur:()=>le(B.id,"sellingPrice",U),onKeyDown:je=>{je.key==="Enter"&&le(B.id,"sellingPrice",U)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{Q({id:B.id,field:"sellingPrice"}),ie(B.sellingPrice.toString())},children:[r.jsxs("div",{className:"font-medium",children:[B.sellingPrice.toFixed(2)," ",c.currency]}),r.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((B.sellingPrice-B.purchasePrice)*B.currentStock).toFixed(2)," ",c.currency]})]})}),r.jsx(Et,{children:r.jsxs("div",{className:"font-medium",children:[B.totalValue.toFixed(2)," ",c.currency]})}),r.jsx(Et,{children:B.expirationDate?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:`text-sm ${ye?"text-red-600 font-medium":Z?"text-yellow-600 font-medium":""}`,children:It(new Date(B.expirationDate),"dd/MM/yyyy",{locale:qi})}),ye&&r.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Expir"}),Z&&!ye&&r.jsx(Oe,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientt"})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Et,{children:($==null?void 0:$.id)===B.id&&$.field==="location"?r.jsx(se,{value:U,onChange:je=>ie(je.target.value),onBlur:()=>le(B.id,"location",U),onKeyDown:je=>{je.key==="Enter"&&le(B.id,"location",U)},autoFocus:!0,className:"w-32"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{Q({id:B.id,field:"location"}),ie(B.location||"")},children:[r.jsx(ad,{className:"h-3 w-3"}),B.location||"Non dfini"]})}),r.jsx(Et,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>te(B),children:r.jsx(pr,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>pe(B),children:r.jsx(nn,{className:"h-3 w-3"})}),r.jsx(H,{size:"sm",variant:"outline",onClick:()=>J(B),children:r.jsx(zn,{className:"h-3 w-3"})})]})})]},B.id)})})]})}),z.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun lment trouv"}),r.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux lments"})]})]})]}),r.jsxs(he,{children:[r.jsxs(Ee,{children:[r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),r.jsx(fe,{children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(In,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun mouvement de stock enregistr"})]}):r.jsxs("div",{className:"space-y-4",children:[n.sort((B,X)=>new Date(X.date).getTime()-new Date(B.date).getTime()).slice(0,20).map(B=>{const ye={in:{label:"Entre",color:"text-green-600",icon:""},out:{label:B.reason==="Prescription mdicale"?"Prescription":"Sortie",color:B.reason==="Prescription mdicale"?"text-orange-600":"text-red-600",icon:B.reason==="Prescription mdicale"?"":""},adjustment:{label:"Ajustement",color:"text-blue-600",icon:""},transfer:{label:"Transfert",color:"text-purple-600",icon:""}}[B.type];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl",children:ye.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:B.itemName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[B.reason,"  ",B.performedBy||"Non spcifi"]}),B.reference&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Rfrence: ",B.reference]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-semibold ${ye.color}`,children:[B.type==="in"?"+":B.type==="out"?"-":"",B.quantity]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:It(new Date(B.date),"dd/MM/yyyy HH:mm",{locale:qi})})]})]},B.id)}),n.length>20&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs(H,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),r.jsx(Q3,{open:d,onOpenChange:f}),r.jsx(Q3,{open:x,onOpenChange:ee,editingItem:j}),r.jsx(A5e,{open:m,onOpenChange:g,item:y})]})}const T5e={monthly:[{description:"Salaire Secrtaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrtaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vtrinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et lectricit",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vtrinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance quipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matriel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},O5e=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:s,generateAccountingSummary:i,consultations:a,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=ft(),{settings:f}=Wt();Ut();const[m,g]=w.useState("month"),[x,v]=w.useState(""),[y,N]=w.useState(""),[j,b]=w.useState(!1),[P,C]=w.useState(null),[A,_]=w.useState(null),[E,O]=w.useState(!1),[I,D]=w.useState(T5e),[k,F]=w.useState(!1),[$,Q]=w.useState(null),[U,ie]=w.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[L,z]=w.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});w.useEffect(()=>{const Z=new Date,M=new Date(Z.getFullYear(),Z.getMonth(),1),je=new Date(Z.getFullYear(),Z.getMonth()+1,0);v(It(M,"yyyy-MM-dd")),N(It(je,"yyyy-MM-dd"))},[]),w.useEffect(()=>{if(x&&y){const Z=m==="month"?It(new Date(x),"yyyy-MM",{locale:qi}):m==="year"?It(new Date(x),"yyyy",{locale:qi}):m==="day"?It(new Date(x),"dd/MM/yyyy",{locale:qi}):`${It(new Date(x),"dd/MM/yyyy")} - ${It(new Date(y),"dd/MM/yyyy")}`,M=i(Z,x,y);_(M)}},[x,y,m,e,a,o,l,c,u,i]);const le=Z=>{g(Z);const M=new Date;switch(Z){case"day":const je=It(M,"yyyy-MM-dd");v(je),N(je);break;case"month":const we=new Date(M.getFullYear(),M.getMonth(),1),Fe=new Date(M.getFullYear(),M.getMonth()+1,0);v(It(we,"yyyy-MM-dd")),N(It(Fe,"yyyy-MM-dd"));break;case"quarter":const Be=Math.floor(M.getMonth()/3),at=new Date(M.getFullYear(),Be*3,1),lt=new Date(M.getFullYear(),Be*3+3,0);v(It(at,"yyyy-MM-dd")),N(It(lt,"yyyy-MM-dd"));break;case"year":const ut=new Date(M.getFullYear(),0,1),Ne=new Date(M.getFullYear(),11,31);v(It(ut,"yyyy-MM-dd")),N(It(Ne,"yyyy-MM-dd"));break}},pe=()=>{if(!L.description||!L.amount||!L.date)return;const Z={type:L.type,category:"manual",frequency:L.frequency,description:L.description,amount:parseFloat(L.amount),date:L.date,source:L.source,notes:L.notes};P?(n(P.id,Z),C(null)):t(Z),z({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),b(!1)},ee=Z=>{C(Z),z({type:Z.type,frequency:Z.frequency,description:Z.description,amount:Z.amount.toString(),date:Z.date,source:Z.source||"other",notes:Z.notes||""}),b(!0)},J=Z=>{window.confirm("tes-vous sr de vouloir supprimer cette entre ?")&&s(Z)},te=Z=>{z({...L,type:Z.type,frequency:Z.frequency||"occasional",description:Z.description,amount:Z.amount.toString(),source:Z.source,date:L.date||It(new Date,"yyyy-MM-dd")}),O(!1)},xe=()=>{if(!U.description||!U.amount)return;const Z={description:U.description,amount:parseFloat(U.amount),type:U.type,frequency:U.frequency,source:U.source};if($){const M={...I},je=$.frequency,we=M[je].findIndex(Fe=>Fe===$);we!==-1&&(M[je][we]=Z),D(M),Q(null)}else{const M={...I},je=U.frequency;M[je].push(Z),D(M)}ie({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),F(!1)},ve=Z=>{Q(Z),ie({description:Z.description,amount:Z.amount.toString(),type:Z.type,frequency:Z.frequency,source:Z.source}),F(!0)},re=Z=>{if(window.confirm("tes-vous sr de vouloir supprimer cette suggestion ?")){const M={...I},je=Z.frequency;M[je]=M[je].filter(we=>we!==Z),D(M)}},B=e.filter(Z=>{const M=new Date(Z.date),je=new Date(x),we=new Date(y);return M>=je&&M<=we}),X=Z=>`${Z.toFixed(2)} ${f.currency}`,ye=Z=>{switch(Z){case"consultation":return"";case"vaccination":return"";case"antiparasitic":return"";case"prescription":return"";case"stock_purchase":return"";case"salary":return"";case"rent":return"";case"tax":return"";case"insurance":return"";default:return""}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(Q5,{className:"h-8 w-8"}),"Gestion Comptable"]}),r.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vtrinaire"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Tt,{open:j,onOpenChange:b,children:[r.jsx(Oc,{asChild:!0,children:r.jsxs(H,{onClick:()=>{C(null),z({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter une entre"]})}),r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:P?"Modifier l'entre comptable":"Ajouter une entre comptable"}),r.jsx(Cn,{children:P?"Modifiez les informations de cette entre.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(YN,{className:"h-4 w-4 text-yellow-600"}),r.jsx(V,{className:"text-sm font-medium",children:"Suggestions prdfinies"})]}),r.jsx(H,{variant:"ghost",size:"sm",onClick:()=>O(!E),children:E?r.jsx(rb,{className:"h-4 w-4"}):r.jsx(YN,{className:"h-4 w-4"})})]}),E&&r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.monthly.map((Z,M)=>r.jsx(H,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>te(Z),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:Z.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[Z.amount," ",f.currency]})]})},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.annual.map((Z,M)=>r.jsx(H,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>te(Z),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:Z.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[Z.amount," ",f.currency]})]})},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.occasional.map((Z,M)=>r.jsx(H,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>te(Z),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:Z.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[Z.amount," ",f.currency]})]})},M))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"type",children:"Type"}),r.jsxs($e,{value:L.type,onValueChange:Z=>z({...L,type:Z}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"revenue",children:"Recette"}),r.jsx(Y,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"frequency",children:"Frquence"}),r.jsxs($e,{value:L.frequency,onValueChange:Z=>z({...L,frequency:Z}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"monthly",children:"Mensuel"}),r.jsx(Y,{value:"annual",children:"Annuel"}),r.jsx(Y,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"description",children:"Description"}),r.jsx(se,{id:"description",value:L.description,onChange:Z=>z({...L,description:Z.target.value}),placeholder:"Ex: Salaire employ, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(V,{htmlFor:"amount",children:["Montant (",f.currency,")"]}),r.jsx(se,{id:"amount",type:"number",step:"0.01",value:L.amount,onChange:Z=>z({...L,amount:Z.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"date",children:"Date"}),r.jsx(se,{id:"date",type:"date",value:L.date,onChange:Z=>z({...L,date:Z.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"source",children:"Source"}),r.jsxs($e,{value:L.source,onValueChange:Z=>z({...L,source:Z}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"salary",children:"Salaire"}),r.jsx(Y,{value:"rent",children:"Loyer"}),r.jsx(Y,{value:"tax",children:"Impts"}),r.jsx(Y,{value:"insurance",children:"Assurance"}),r.jsx(Y,{value:"other",children:"Autre"})]})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(St,{id:"notes",value:L.notes,onChange:Z=>z({...L,notes:Z.target.value}),placeholder:"Informations supplmentaires..."})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>b(!1),children:"Annuler"}),r.jsx(H,{onClick:pe,children:P?"Modifier":"Ajouter"})]})]})]})]})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5"}),"Priode d'analyse"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:m==="day"?"default":"outline",onClick:()=>le("day"),size:"sm",children:"Ce jour"}),r.jsx(H,{variant:m==="month"?"default":"outline",onClick:()=>le("month"),size:"sm",children:"Ce mois"}),r.jsx(H,{variant:m==="quarter"?"default":"outline",onClick:()=>le("quarter"),size:"sm",children:"Ce trimestre"}),r.jsx(H,{variant:m==="year"?"default":"outline",onClick:()=>le("year"),size:"sm",children:"Cette anne"})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(V,{htmlFor:"startDate",children:"Du"}),r.jsx(se,{id:"startDate",type:"date",value:x,onChange:Z=>v(Z.target.value),className:"w-40"}),r.jsx(V,{htmlFor:"endDate",children:"Au"}),r.jsx(se,{id:"endDate",type:"date",value:y,onChange:Z=>N(Z.target.value),className:"w-40"})]})]})})]}),A&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium",children:"Total Recettes"}),r.jsx(pr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:X(A.totalRevenue)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Consultations: ",X(A.revenueBreakdown.consultations)]}),r.jsxs("div",{children:["Vaccinations: ",X(A.revenueBreakdown.vaccinations)]}),r.jsxs("div",{children:["Antiparasitaires: ",X(A.revenueBreakdown.antiparasitics)]}),r.jsxs("div",{children:["Prescriptions: ",X(A.revenueBreakdown.prescriptions)]}),r.jsxs("div",{children:["Manuelles: ",X(A.revenueBreakdown.manualEntries)]})]})]})]}),r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium",children:"Total Charges"}),r.jsx(Fu,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:X(A.totalExpenses)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Achats stock: ",X(A.expenseBreakdown.stockPurchases)]}),r.jsxs("div",{children:["Salaires: ",X(A.expenseBreakdown.salaries)]}),r.jsxs("div",{children:["Loyer: ",X(A.expenseBreakdown.rent)]}),r.jsxs("div",{children:["Impts: ",X(A.expenseBreakdown.taxes)]}),r.jsxs("div",{children:["Autres: ",X(A.expenseBreakdown.other)]})]})]})]}),r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium",children:"Rsultat Net"}),r.jsx($f,{className:"h-4 w-4"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:`text-2xl font-bold ${A.netIncome>=0?"text-green-600":"text-red-600"}`,children:X(A.netIncome)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.netIncome>=0?"Bnfice":"Perte"})]})]})]}),r.jsxs($c,{defaultValue:"entries",className:"space-y-4",children:[r.jsxs(ul,{children:[r.jsx(Tn,{value:"entries",children:"Entres Comptables"}),r.jsx(Tn,{value:"configuration",children:"Configuration"})]}),r.jsx(On,{value:"entries",children:r.jsxs(he,{children:[r.jsxs(Ee,{children:[r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5"}),"Entres comptables automatiques et manuelles"]}),r.jsx(ag,{children:"Entres gnres automatiquement (consultations, vaccinations, etc.) et entres manuelles ajoutes"})]}),r.jsxs(fe,{children:[r.jsxs(lm,{children:[r.jsx(cm,{children:r.jsxs(Ia,{children:[r.jsx(At,{children:"Date"}),r.jsx(At,{children:"Type"}),r.jsx(At,{children:"Description"}),r.jsx(At,{children:"Source"}),r.jsx(At,{children:"Frquence"}),r.jsx(At,{children:"Montant"}),r.jsx(At,{children:"Actions"})]})}),r.jsx(um,{children:B.map(Z=>r.jsxs(Ia,{children:[r.jsx(Et,{children:It(new Date(Z.date),"dd/MM/yyyy",{locale:qi})}),r.jsx(Et,{children:r.jsx(Oe,{variant:Z.type==="revenue"?"default":"destructive",children:Z.type==="revenue"?"Recette":"Charge"})}),r.jsx(Et,{children:Z.description}),r.jsx(Et,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:ye(Z.source||"other")}),r.jsx("span",{className:"text-sm",children:Z.category==="automatic"?"Automatique":"Manuel"})]})}),r.jsx(Et,{children:r.jsx(Oe,{variant:"outline",children:Z.frequency==="monthly"?"Mensuel":Z.frequency==="annual"?"Annuel":"Occasionnel"})}),r.jsxs(Et,{className:`font-medium ${Z.type==="revenue"?"text-green-600":"text-red-600"}`,children:[Z.type==="revenue"?"+":"-",X(Z.amount)]}),r.jsx(Et,{children:Z.category==="manual"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:"outline",size:"sm",onClick:()=>ee(Z),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{variant:"outline",size:"sm",onClick:()=>J(Z.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})})]},Z.id))})]}),B.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entre comptable pour cette priode"})]})]})}),r.jsx(On,{value:"configuration",children:r.jsxs(he,{children:[r.jsxs(Ee,{children:[r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(YN,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),r.jsx(ag,{children:"Configurez les suggestions prdfinies pour faciliter la saisie des charges et recettes"})]}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),r.jsxs(H,{onClick:()=>{Q(null),ie({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),F(!0)},children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.monthly.map((Z,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:Z.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Z.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:"outline",size:"sm",onClick:()=>ve(Z),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{variant:"outline",size:"sm",onClick:()=>re(Z),children:r.jsx(zn,{className:"h-4 w-4"})})]})]},M))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),r.jsxs(H,{onClick:()=>{Q(null),ie({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),F(!0)},children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.annual.map((Z,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:Z.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Z.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:"outline",size:"sm",onClick:()=>ve(Z),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{variant:"outline",size:"sm",onClick:()=>re(Z),children:r.jsx(zn,{className:"h-4 w-4"})})]})]},M))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),r.jsxs(H,{onClick:()=>{Q(null),ie({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),F(!0)},children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.occasional.map((Z,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:Z.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Z.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:"outline",size:"sm",onClick:()=>ve(Z),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{variant:"outline",size:"sm",onClick:()=>re(Z),children:r.jsx(zn,{className:"h-4 w-4"})})]})]},M))})]})]})})]}),r.jsx(Tt,{open:k,onOpenChange:F,children:r.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:$?"Modifier la suggestion":"Ajouter une suggestion"}),r.jsx(Cn,{children:$?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prdfinie."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"suggestion-type",children:"Type"}),r.jsxs($e,{value:U.type,onValueChange:Z=>ie({...U,type:Z}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"revenue",children:"Recette"}),r.jsx(Y,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"suggestion-frequency",children:"Frquence"}),r.jsxs($e,{value:U.frequency,onValueChange:Z=>ie({...U,frequency:Z}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"monthly",children:"Mensuel"}),r.jsx(Y,{value:"annual",children:"Annuel"}),r.jsx(Y,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"suggestion-description",children:"Description"}),r.jsx(se,{id:"suggestion-description",value:U.description,onChange:Z=>ie({...U,description:Z.target.value}),placeholder:"Ex: Salaire employ, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(V,{htmlFor:"suggestion-amount",children:["Montant (",f.currency,")"]}),r.jsx(se,{id:"suggestion-amount",type:"number",step:"0.01",value:U.amount,onChange:Z=>ie({...U,amount:Z.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"suggestion-source",children:"Source"}),r.jsxs($e,{value:U.source,onValueChange:Z=>ie({...U,source:Z}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"salary",children:"Salaire"}),r.jsx(Y,{value:"rent",children:"Loyer"}),r.jsx(Y,{value:"tax",children:"Impts"}),r.jsx(Y,{value:"insurance",children:"Assurance"}),r.jsx(Y,{value:"other",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>F(!1),children:"Annuler"}),r.jsx(H,{onClick:xe,children:$?"Modifier":"Ajouter"})]})]})]})})]})},D5e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=ft(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs(H,{onClick:u,className:"w-full",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(H,{onClick:d,className:"w-full",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(H,{onClick:f,className:"w-full",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(H,{onClick:m,variant:"outline",className:"w-full",children:"Mettre  jour Stats"})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(fe,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Dtails des Clients"})}),r.jsx(fe,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernire visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},M5e=()=>r.jsx(lE,{children:r.jsx(D5e,{})}),I5e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=ft(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs(H,{onClick:u,className:"w-full",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(H,{onClick:d,className:"w-full",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(H,{onClick:f,className:"w-full",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(H,{onClick:m,variant:"outline",className:"w-full",children:"Mettre  jour Stats"})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(fe,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-lg",children:"Dtails des Clients"})}),r.jsx(fe,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernire visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},$5e=()=>r.jsx(lE,{children:r.jsx(I5e,{})}),R5e=()=>{const e=od();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function L5e(){const{user:e,logout:t}=Tc();console.log("user:",e);const{toast:n}=Ut();if(!e)return null;const s=l=>l?l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),i=l=>{switch(l){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},a=l=>{switch(l){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"assistant":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},o=async()=>{await t(),n({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs."})};return r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-5 w-5"}),"Profil Utilisateur"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ts,{className:"h-16 w-16",children:r.jsx(ns,{className:"bg-primary text-primary-foreground text-lg",children:s(e.profile.full_name||e.profile.username)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Rf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(vi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Oe,{className:a(e.profile.role),children:i(e.profile.role)})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Informations de session"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Nom d'utilisateur:"}),r.jsxs("span",{children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rle:"}),r.jsx("span",{children:i(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Statut:"}),r.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Connect"})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs(H,{variant:"outline",onClick:o,className:"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(J5,{className:"h-4 w-4"}),"Se dconnecter"]})})]})]})}const F5e={clinicName:"Clinique du Soleil",address:"123 Avenue Hassan II, Rabat, Maroc",phone:"+212 5 37 00 00 00",email:"contact@cliniquedusoleil.ma",website:"https://www.cliniquedusoleil.ma",footerText:"Clinique du Soleil - Soins vtrinaires  Rabat",logo:"/placeholder.svg",currency:"MAD",species:"Chien, Chat, Bovins, Porcins, Volailles",showClinicInfo:!0,showVetsInfo:!0,veterinarians:[],displayPreferences:{clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","quin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins  viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbliarde","Normande","Simmental"],"Bovins  viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Pitrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitire","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle franais","Arabe","Quarter Horse"],Lapins:["No-Zlandais","Californien","Fauve de Bourgogne","Gant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-tre animal","Global GAP","IFS Food","BRC Food","ufs de France"],equipmentTypes:["Tracteur","Moissonneuse","pandeur","Charrue","Systme de traite","Tank  lait","Systme d'alimentation automatique","Ventilation","Gnrateur","Systme d'irrigation","Matriel de rcolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},defaultConsultationPrice:150,scheduleSettings:{openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]}};function B5e(){const{toast:e}=Ut(),{settings:t,updateSettings:n}=Wt(),{theme:s,setTheme:i}=oB(),a=[{id:1,name:"Dr. Jean Dupont",title:"Dr.",specialty:"Mdecine gnrale",phone:"+212 5 37 00 00 01",email:"j.dupont@cliniquedusoleil.ma"},{id:2,name:"Dr. Marie Martin",title:"Dr.",specialty:"Chirurgie",phone:"+212 5 37 00 00 02",email:"m.martin@cliniquedusoleil.ma"},{id:3,name:"Pr. Ahmed El Alaoui",title:"Pr.",specialty:"Dermatologie",phone:"+212 5 37 00 00 03",email:"a.alaoui@cliniquedusoleil.ma"}],o=t.veterinarians.map(M=>({id:M.id,name:M.name,title:M.name.startsWith("Dr.")?"Dr.":M.name.startsWith("Pr.")?"Pr.":"Dr.",specialty:"Mdecine gnrale",phone:"",email:""})),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({name:"",title:"",specialty:"",phone:"",email:""}),[g,x]=w.useState(!1),[v,y]=w.useState(""),[N,j]=w.useState(!1),[b,P]=w.useState(""),[C,A]=w.useState(""),[_,E]=w.useState(!1),[O,I]=w.useState(""),[D,k]=w.useState(!1),[F,$]=w.useState("");w.useEffect(()=>{if(t.veterinarians.length===0){const M=a.map(je=>({id:je.id,name:je.name,isActive:!0}));n({...t,veterinarians:M})}},[t.veterinarians.length]);const{pets:Q}=ft();w.useEffect(()=>{const M=Array.from(new Set([...Q.map(we=>we.type)])),je=Array.from(new Set([...t.species.split(",").map(we=>we.trim()),...M]));n({...t,species:je.join(", ")})},[Q]);const U=(M,je)=>{n({...t,[M]:je})},ie=()=>{e({title:"Paramtres sauvegards",description:"Informations de la clinique mises  jour."})},L=M=>{var we;const je=(we=M.target.files)==null?void 0:we[0];if(je){const Fe=new FileReader;Fe.onload=()=>U("logo",Fe.result),Fe.readAsDataURL(je)}},z=(M,je)=>{const we={...t.displayPreferences,[M]:je},Fe={...t,displayPreferences:we};n(Fe),e({title:"Prfrence d'affichage mise  jour",description:`${M} s'affichera maintenant en ${je==="table"?"tableau":"cartes"}`})},le=()=>{d(null),m({name:"",title:"",specialty:"",phone:"",email:""}),c(!0)},pe=M=>{d(M),m({name:M.name,title:M.title,specialty:M.specialty||"",phone:M.phone||"",email:M.email||""}),c(!0)},ee=()=>{if(!f.name||!f.title){e({title:"Erreur",description:"Nom et titre requis",variant:"destructive"});return}const M=`${f.title} ${f.name}`;let je;if(u)je=t.veterinarians.map(we=>we.id===u.id?{...we,name:M,isActive:!0}:we);else{const we={id:Math.max(0,...t.veterinarians.map(Fe=>Fe.id))+1,name:M,isActive:!0};je=[...t.veterinarians,we]}n({...t,veterinarians:je}),e({title:"Vtrinaire enregistr"}),c(!1)},J=M=>{if(!confirm("Supprimer ce vtrinaire ?"))return;const je=t.veterinarians.filter(we=>we.id!==M);n({...t,veterinarians:je}),e({title:"Vtrinaire supprim"})},te=()=>{if(!v.trim())return;const M={...t,farmManagement:{...t.farmManagement,farmTypes:[...t.farmManagement.farmTypes,v.trim()]}};n(M),y(""),x(!1),e({title:"Type d'levage ajout"})},xe=M=>{if(!confirm(`Supprimer le type "${M}" ?`))return;const je={...t,farmManagement:{...t.farmManagement,farmTypes:t.farmManagement.farmTypes.filter(we=>we!==M)}};n(je),e({title:"Type d'levage supprim"})},ve=()=>{if(!b.trim())return;const M={...t,farmManagement:{...t.farmManagement,animalCategories:[...t.farmManagement.animalCategories,b.trim()],breedsByCategory:{...t.farmManagement.breedsByCategory,[b.trim()]:[]}}};n(M),P(""),j(!1),e({title:"Catgorie d'animal ajoute"})},re=M=>{if(!confirm(`Supprimer la catgorie "${M}" ?`))return;const je={...t.farmManagement.breedsByCategory};delete je[M];const we={...t,farmManagement:{...t.farmManagement,animalCategories:t.farmManagement.animalCategories.filter(Fe=>Fe!==M),breedsByCategory:je}};n(we),e({title:"Catgorie d'animal supprime"})},B=()=>{if(!O.trim()||!C)return;const M=t.farmManagement.breedsByCategory[C]||[],je={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[C]:[...M,O.trim()]}}};n(je),I(""),E(!1),e({title:"Race ajoute"})},X=(M,je)=>{if(!confirm(`Supprimer la race "${je}" ?`))return;const we=t.farmManagement.breedsByCategory[M]||[],Fe={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[M]:we.filter(Be=>Be!==je)}}};n(Fe),e({title:"Race supprime"})},ye=()=>{if(!F.trim())return;const M={...t,farmManagement:{...t.farmManagement,certificationTypes:[...t.farmManagement.certificationTypes,F.trim()]}};n(M),$(""),k(!1),e({title:"Certification ajoute"})},Z=M=>{if(!confirm(`Supprimer la certification "${M}" ?`))return;const je={...t,farmManagement:{...t.farmManagement,certificationTypes:t.farmManagement.certificationTypes.filter(we=>we!==M)}};n(je),e({title:"Certification supprime"})};return r.jsx("div",{className:"container mx-auto px-6 py-8 space-y-8",children:r.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Paramtres de la Clinique"})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"logo",children:"Logo de la clinique"}),r.jsx(se,{id:"logo",type:"file",accept:"image/*",onChange:L}),t.logo&&r.jsx("img",{src:t.logo,alt:"Logo",className:"h-24 mt-2"})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"clinicName",children:"Nom de la clinique"}),r.jsx(se,{id:"clinicName",value:t.clinicName,onChange:M=>U("clinicName",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:t.address,onChange:M=>U("address",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"phone",children:"Tlphone"}),r.jsx(se,{id:"phone",value:t.phone,onChange:M=>U("phone",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:t.email,onChange:M=>U("email",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"website",children:"Site web"}),r.jsx(se,{id:"website",value:t.website,onChange:M=>U("website",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"currency",children:"Devise"}),r.jsx(se,{id:"currency",value:t.currency,onChange:M=>U("currency",M.target.value)})]}),r.jsxs("div",{children:[r.jsxs(V,{htmlFor:"defaultConsultationPrice",children:["Prix de consultation par dfaut (",t.currency,")"]}),r.jsx(se,{id:"defaultConsultationPrice",type:"number",step:"0.01",min:"0",value:t.defaultConsultationPrice,onChange:M=>U("defaultConsultationPrice",parseFloat(M.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"species",children:"Liste des espces (virgule spares)"}),r.jsx(se,{id:"species",value:t.species,onChange:M=>U("species",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"footerText",children:"Texte de pied de page"}),r.jsx(se,{id:"footerText",value:t.footerText,onChange:M=>U("footerText",M.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($r,{id:"showClinicInfo",checked:t.showClinicInfo,onCheckedChange:M=>U("showClinicInfo",M)}),r.jsx(V,{htmlFor:"showClinicInfo",children:"Afficher coordonnes de la clinique sur le certificat"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($r,{id:"showVetsInfo",checked:t.showVetsInfo,onCheckedChange:M=>U("showVetsInfo",M)}),r.jsx(V,{htmlFor:"showVetsInfo",children:"Afficher liste des vtrinaires sur le certificat"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{onClick:ie,children:"Enregistrer"}),r.jsx(H,{variant:"outline",onClick:()=>{const M=a.map(we=>({id:we.id,name:we.name,isActive:!0})),je={...F5e,veterinarians:M};n(je),e({title:"Paramtres rinitialiss",description:"Valeurs par dfaut restaures."})},children:"Restaurer valeurs par dfaut"}),r.jsx(H,{variant:"outline",onClick:()=>{const je={...t,farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","quin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins  viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbliarde","Normande","Simmental"],"Bovins  viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Pitrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitire","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle franais","Arabe","Quarter Horse"],Lapins:["No-Zlandais","Californien","Fauve de Bourgogne","Gant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-tre animal","Global GAP","IFS Food","BRC Food","ufs de France"],equipmentTypes:["Tracteur","Moissonneuse","pandeur","Charrue","Systme de traite","Tank  lait","Systme d'alimentation automatique","Ventilation","Gnrateur","Systme d'irrigation","Matriel de rcolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"}};n(je),e({title:"Paramtres ferme rinitialiss",description:"Configuration des fermes restaure aux valeurs par dfaut."})},children:"Restaurer paramtres ferme"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Thme de l'application"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez le thme de l'application pour votre confort visuel."}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{htmlFor:"theme-select",children:"Thme"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s==="light"?"Mode clair":"Mode sombre"})]}),r.jsxs($e,{value:s,onValueChange:M=>{i(M),e({title:"Thme mis  jour",description:`Thme chang en mode ${M==="light"?"clair":"sombre"}`})},children:[r.jsx(De,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"light",children:"Mode clair"}),r.jsx(Y,{value:"dark",children:"Mode sombre"})]})]})]})]})})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Prfrences d'affichage"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez comment vous souhaitez afficher les diffrentes sections par dfaut."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"clients-display",children:"Clients"}),r.jsxs($e,{value:t.displayPreferences.clients,onValueChange:M=>z("clients",M),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"table",children:"Tableau"}),r.jsx(Y,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"pets-display",children:"Animaux"}),r.jsxs($e,{value:t.displayPreferences.pets,onValueChange:M=>z("pets",M),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"table",children:"Tableau"}),r.jsx(Y,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"consultations-display",children:"Consultations"}),r.jsxs($e,{value:t.displayPreferences.consultations,onValueChange:M=>z("consultations",M),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"table",children:"Tableau"}),r.jsx(Y,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"appointments-display",children:"Rendez-vous"}),r.jsxs($e,{value:t.displayPreferences.appointments,onValueChange:M=>z("appointments",M),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"table",children:"Tableau"}),r.jsx(Y,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"prescriptions-display",children:"Prescriptions"}),r.jsxs($e,{value:t.displayPreferences.prescriptions,onValueChange:M=>z("prescriptions",M),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"table",children:"Tableau"}),r.jsx(Y,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"farms-display",children:"Fermes"}),r.jsxs($e,{value:t.displayPreferences.farms,onValueChange:M=>z("farms",M),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"table",children:"Tableau"}),r.jsx(Y,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"vaccinations-display",children:"Vaccinations"}),r.jsxs($e,{value:t.displayPreferences.vaccinations,onValueChange:M=>z("vaccinations",M),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"table",children:"Tableau"}),r.jsx(Y,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"antiparasitics-display",children:"Antiparasitaires"}),r.jsxs($e,{value:t.displayPreferences.antiparasitics,onValueChange:M=>z("antiparasitics",M),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"table",children:"Tableau"}),r.jsx(Y,{value:"cards",children:"Cartes"})]})]})]})]})]})})]}),r.jsxs(he,{children:[r.jsxs(Ee,{className:"flex justify-between items-center",children:[r.jsx(Te,{children:"Vtrinaires"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>{},children:"Debug"}),r.jsxs(H,{onClick:le,className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"})," Ajouter"]})]})]}),r.jsx(fe,{className:"space-y-2",children:o.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Aucun vtrinaire configur"}):o.map(M=>r.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[M.title," ",M.name]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:M.specialty}),r.jsxs("p",{className:"text-xs",children:[M.phone," | ",M.email]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{size:"sm",variant:"outline",onClick:()=>pe(M),children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx(H,{size:"sm",variant:"destructive",onClick:()=>J(M.id),children:r.jsx(zn,{className:"h-4 w-4"})})]})]},M.id))})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Configuration des Horaires"})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"openingTime",children:"Heure d'ouverture"}),r.jsx(se,{id:"openingTime",type:"time",value:t.scheduleSettings.openingTime,onChange:M=>U("scheduleSettings",{...t.scheduleSettings,openingTime:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"closingTime",children:"Heure de fermeture"}),r.jsx(se,{id:"closingTime",type:"time",value:t.scheduleSettings.closingTime,onChange:M=>U("scheduleSettings",{...t.scheduleSettings,closingTime:M.target.value})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(V,{htmlFor:"slotDuration",children:"Dure des crneaux (minutes)"}),r.jsxs($e,{value:t.scheduleSettings.slotDuration.toString(),onValueChange:M=>U("scheduleSettings",{...t.scheduleSettings,slotDuration:parseInt(M)}),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"15",children:"15 minutes"}),r.jsx(Y,{value:"30",children:"30 minutes"}),r.jsx(Y,{value:"45",children:"45 minutes"}),r.jsx(Y,{value:"60",children:"1 heure"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Pause djeuner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"lunchBreakStart",children:"Dbut de pause"}),r.jsx(se,{id:"lunchBreakStart",type:"time",value:t.scheduleSettings.lunchBreakStart||"",onChange:M=>U("scheduleSettings",{...t.scheduleSettings,lunchBreakStart:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"lunchBreakEnd",children:"Fin de pause"}),r.jsx(se,{id:"lunchBreakEnd",type:"time",value:t.scheduleSettings.lunchBreakEnd||"",onChange:M=>U("scheduleSettings",{...t.scheduleSettings,lunchBreakEnd:M.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Jours de travail"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}].map(M=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($r,{id:M.key,checked:t.scheduleSettings.workingDays.includes(M.key),onCheckedChange:je=>{const we=je?[...t.scheduleSettings.workingDays,M.key]:t.scheduleSettings.workingDays.filter(Fe=>Fe!==M.key);U("scheduleSettings",{...t.scheduleSettings,workingDays:we})}}),r.jsx(V,{htmlFor:M.key,className:"text-sm",children:M.label})]},M.key))})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{children:"Gestion des Exploitations"})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types d'levage"}),r.jsxs(H,{size:"sm",onClick:()=>x(!0),className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.farmTypes.map(M=>r.jsxs(Oe,{variant:"secondary",className:"gap-2",children:[M,r.jsx("button",{onClick:()=>xe(M),className:"hover:text-red-500",children:r.jsx(zn,{className:"h-3 w-3"})})]},M))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Catgories d'animaux"}),r.jsxs(H,{size:"sm",onClick:()=>j(!0),className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"space-y-3",children:t.farmManagement.animalCategories.map(M=>r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h5",{className:"font-medium",children:M}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{A(M),E(!0)},children:[r.jsx(bt,{className:"h-3 w-3"})," Race"]}),r.jsx("button",{onClick:()=>re(M),className:"text-red-500 hover:text-red-700",children:r.jsx(zn,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(t.farmManagement.breedsByCategory[M]||[]).map(je=>r.jsxs(Oe,{variant:"outline",className:"text-xs gap-1",children:[je,r.jsx("button",{onClick:()=>X(M,je),className:"hover:text-red-500",children:r.jsx(zn,{className:"h-2 w-2"})})]},je))})]},M))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types de certifications"}),r.jsxs(H,{size:"sm",onClick:()=>k(!0),className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.certificationTypes.map(M=>r.jsxs(Oe,{variant:"outline",className:"gap-2",children:[M,r.jsx("button",{onClick:()=>Z(M),className:"hover:text-red-500",children:r.jsx(zn,{className:"h-3 w-3"})})]},M))})]})]})]}),r.jsx(Tt,{open:l,onOpenChange:c,children:r.jsxs(Nt,{children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:u?"Modifier vtrinaire":"Nouveau vtrinaire"}),r.jsx(Cn,{children:"Nom, titre, spcialit, contact"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(V,{htmlFor:"vetName",children:"Nom complet *"}),r.jsx(se,{id:"vetName",value:f.name,onChange:M=>m(je=>({...je,name:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"vetTitle",children:"Titre *"}),r.jsx(se,{id:"vetTitle",value:f.title,onChange:M=>m(je=>({...je,title:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"vetSpec",children:"Spcialit"}),r.jsx(se,{id:"vetSpec",value:f.specialty,onChange:M=>m(je=>({...je,specialty:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"vetPhone",children:"Tlphone"}),r.jsx(se,{id:"vetPhone",value:f.phone,onChange:M=>m(je=>({...je,phone:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(V,{htmlFor:"vetEmail",children:"Email"}),r.jsx(se,{id:"vetEmail",type:"email",value:f.email,onChange:M=>m(je=>({...je,email:M.target.value}))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(H,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(H,{onClick:ee,children:u?"Mettre  jour":"Crer"})]})]})]})}),r.jsx(Tt,{open:g,onOpenChange:x,children:r.jsxs(Nt,{children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Nouveau type d'levage"}),r.jsx(Cn,{children:"Ajouter un nouveau type d'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Apiculture, Aquaculture...",value:v,onChange:M=>y(M.target.value),onKeyPress:M=>M.key==="Enter"&&te()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>x(!1),children:"Annuler"}),r.jsx(H,{onClick:te,children:"Ajouter"})]})]})]})}),r.jsx(Tt,{open:N,onOpenChange:j,children:r.jsxs(Nt,{children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Nouvelle catgorie d'animal"}),r.jsx(Cn,{children:"Ajouter une nouvelle catgorie d'animaux d'levage"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Cochons d'Inde, Autruches...",value:b,onChange:M=>P(M.target.value),onKeyPress:M=>M.key==="Enter"&&ve()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),r.jsx(H,{onClick:ve,children:"Ajouter"})]})]})]})}),r.jsx(Tt,{open:_,onOpenChange:E,children:r.jsxs(Nt,{children:[r.jsxs(Ot,{children:[r.jsxs(Dt,{children:["Nouvelle race - ",C]}),r.jsxs(Cn,{children:["Ajouter une nouvelle race pour la catgorie ",C]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Nom de la race...",value:O,onChange:M=>I(M.target.value),onKeyPress:M=>M.key==="Enter"&&B()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>E(!1),children:"Annuler"}),r.jsx(H,{onClick:B,children:"Ajouter"})]})]})]})}),r.jsx(Tt,{open:D,onOpenChange:k,children:r.jsxs(Nt,{children:[r.jsxs(Ot,{children:[r.jsx(Dt,{children:"Nouvelle certification"}),r.jsx(Cn,{children:"Ajouter un nouveau type de certification"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(se,{placeholder:"Ex: Commerce quitable, Demeter...",value:F,onChange:M=>$(M.target.value),onKeyPress:M=>M.key==="Enter"&&ye()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>k(!1),children:"Annuler"}),r.jsx(H,{onClick:ye,children:"Ajouter"})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(L5e,{}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsx(Te,{className:"text-base",children:"Liens Rapides"})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs(H,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/profile",children:[r.jsx(Jr,{className:"h-4 w-4"}),"Mon Profil"]}),r.jsxs(H,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/auth-settings",children:[r.jsx(vi,{className:"h-4 w-4"}),"Paramtres de Connexion"]})]})]})]})]})})}var z5e="Separator",X3="horizontal",V5e=["horizontal","vertical"],S9=w.forwardRef((e,t)=>{const{decorative:n,orientation:s=X3,...i}=e,a=U5e(s)?s:X3,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(it.div,{"data-orientation":a,...l,...i,ref:t})});S9.displayName=z5e;function U5e(e){return V5e.includes(e)}var C9=S9;const Ij=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(C9,{ref:i,decorative:n,orientation:t,className:Ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Ij.displayName=C9.displayName;function q5e(){const{user:e,logout:t,refreshProfile:n}=Tc(),{toast:s}=Ut(),{data:i,isLoading:a,refetch:o}=Yhe(),l=Qhe(),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Franais","Arabe","Anglais"]});w.useEffect(()=>{i&&e&&g(E=>({...E,full_name:i.full_name||"",username:i.username||"",email:e.email||"",phone:i.phone||"",address:i.address||"",specialty:i.specialty||"",experience:i.experience||"",bio:i.bio||""}))},[i,e]);const[x,v]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[y,N]=w.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"}),j=async()=>{try{await l.mutateAsync({full_name:m.full_name,username:m.username,phone:m.phone,address:m.address,specialty:m.specialty,experience:m.experience,bio:m.bio}),await Promise.all([o(),n()]),s({title:"Profil mis  jour",description:"Vos informations personnelles ont t sauvegardes avec succs."}),u(!1)}catch(E){s({title:"Erreur",description:E instanceof Error?E.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},b=()=>{if(x.newPassword!==x.confirmPassword){s({title:"Erreur",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}s({title:"Mot de passe modifi",description:"Votre mot de passe a t mis  jour avec succs."}),f(!1),v({currentPassword:"",newPassword:"",confirmPassword:""})},P=()=>{s({title:"Prfrences sauvegardes",description:"Vos prfrences ont t mises  jour."})},C=E=>E.split(" ").map(O=>O.charAt(0)).join("").toUpperCase().slice(0,2),A=E=>{switch(E){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},_=E=>{switch(E){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?a?r.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(u0,{className:"h-8 w-8 animate-spin"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Grez vos informations personnelles et prfrences"})]}),r.jsx("div",{className:"flex gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(H,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),r.jsxs(H,{onClick:j,className:"gap-2",disabled:l.isPending,children:[l.isPending?r.jsx(u0,{className:"h-4 w-4 animate-spin"}):r.jsx(wp,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):r.jsxs(H,{onClick:()=>u(!0),className:"gap-2",children:[r.jsx(nn,{className:"h-4 w-4"}),"Modifier"]})})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ts,{className:"h-20 w-20",children:r.jsx(ns,{className:"bg-primary text-primary-foreground text-xl",children:C(e.profile.full_name)})}),c&&r.jsx(H,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:r.jsx(tb,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Rf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(vi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Oe,{className:_(e.profile.role),children:A(e.profile.role)})]})]})]}),r.jsx(Ij,{}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"full_name",children:"Nom complet"}),r.jsx(se,{id:"full_name",value:m.full_name,onChange:E=>g(O=>({...O,full_name:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(se,{id:"username",value:m.username,onChange:E=>g(O=>({...O,username:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"email",children:"Email"}),r.jsx(se,{id:"email",type:"email",value:m.email,disabled:!0,className:"bg-muted"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"phone",children:"Tlphone"}),r.jsx(se,{id:"phone",value:m.phone,onChange:E=>g(O=>({...O,phone:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"address",children:"Adresse"}),r.jsx(se,{id:"address",value:m.address,onChange:E=>g(O=>({...O,address:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"specialty",children:"Spcialit"}),r.jsx(se,{id:"specialty",value:m.specialty,onChange:E=>g(O=>({...O,specialty:E.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"experience",children:"Exprience"}),r.jsx(se,{id:"experience",value:m.experience,onChange:E=>g(O=>({...O,experience:E.target.value})),disabled:!c})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"bio",children:"Biographie"}),r.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:m.bio,onChange:E=>g(O=>({...O,bio:E.target.value})),disabled:!c})]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(dM,{className:"h-5 w-5"}),"Scurit"]})}),r.jsx(fe,{className:"space-y-4",children:d?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),r.jsx(se,{id:"currentPassword",type:"password",value:x.currentPassword,onChange:E=>v(O=>({...O,currentPassword:E.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),r.jsx(se,{id:"newPassword",type:"password",value:x.newPassword,onChange:E=>v(O=>({...O,newPassword:E.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(se,{id:"confirmPassword",type:"password",value:x.confirmPassword,onChange:E=>v(O=>({...O,confirmPassword:E.target.value}))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),r.jsx(H,{onClick:b,children:"Changer le mot de passe"})]})]}):r.jsxs(H,{variant:"outline",onClick:()=>f(!0),className:"gap-2",children:[r.jsx(dM,{className:"h-4 w-4"}),"Changer le mot de passe"]})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Y5,{className:"h-5 w-5"}),"Notifications"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(V,{htmlFor:"email-notifications",children:"Notifications par email"}),r.jsx("input",{type:"checkbox",id:"email-notifications",checked:y.notifications.email,onChange:E=>N(O=>({...O,notifications:{...O.notifications,email:E.target.checked}})),className:"h-4 w-4 rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(V,{htmlFor:"sms-notifications",children:"Notifications SMS"}),r.jsx("input",{type:"checkbox",id:"sms-notifications",checked:y.notifications.sms,onChange:E=>N(O=>({...O,notifications:{...O.notifications,sms:E.target.checked}})),className:"h-4 w-4 rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(V,{htmlFor:"push-notifications",children:"Notifications push"}),r.jsx("input",{type:"checkbox",id:"push-notifications",checked:y.notifications.push,onChange:E=>N(O=>({...O,notifications:{...O.notifications,push:E.target.checked}})),className:"h-4 w-4 rounded border-gray-300"})]})]}),r.jsx(H,{onClick:P,className:"w-full",children:"Sauvegarder les prfrences"})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5"}),"Informations du Compte"]})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rle:"}),r.jsx("span",{children:A(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Membre depuis:"}),r.jsx("span",{children:"Janvier 2024"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Dernire connexion:"}),r.jsx("span",{children:"Aujourd'hui"})]})]})]})]})]})]}):null}function W5e(){const{user:e}=Tc(),{toast:t}=Ut(),[n,s]=w.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[i,a]=w.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=w.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});w.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),w.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=w.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramtres de scurit sauvegards",description:"Vos paramtres de scurit ont t mis  jour."})},d=()=>{t({title:"Paramtres de session sauvegards",description:"Vos paramtres de session ont t mis  jour."})},f=()=>{t({title:"Paramtres de notification sauvegards",description:"Vos paramtres de notification ont t mis  jour."})},m=v=>{t({title:"Session termine",description:"La session a t ferme avec succs."})},g=()=>{t({title:"Toutes les sessions termines",description:"Toutes les autres sessions ont t fermes."})},x=v=>v.includes("iPhone")||v.includes("Android")?r.jsx(Kte,{className:"h-4 w-4"}):v.includes("iPad")||v.includes("Tablet")?r.jsx(Xte,{className:"h-4 w-4"}):r.jsx(fM,{className:"h-4 w-4"});return e?r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramtres de Connexion"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Grez vos paramtres de scurit et de session"})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(vi,{className:"h-5 w-5"}),"Scurit"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Authentification  deux facteurs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de scurit supplmentaire"})]}),r.jsx($r,{checked:n.twoFactorAuth,onCheckedChange:v=>s(y=>({...y,twoFactorAuth:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Dlai d'expiration de session (minutes)"}),r.jsxs($e,{value:n.sessionTimeout.toString(),onValueChange:v=>s(y=>({...y,sessionTimeout:parseInt(v)})),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"15",children:"15 minutes"}),r.jsx(Y,{value:"30",children:"30 minutes"}),r.jsx(Y,{value:"60",children:"1 heure"}),r.jsx(Y,{value:"120",children:"2 heures"}),r.jsx(Y,{value:"480",children:"8 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Expiration du mot de passe (jours)"}),r.jsxs($e,{value:n.passwordExpiry.toString(),onValueChange:v=>s(y=>({...y,passwordExpiry:parseInt(v)})),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"30",children:"30 jours"}),r.jsx(Y,{value:"60",children:"60 jours"}),r.jsx(Y,{value:"90",children:"90 jours"}),r.jsx(Y,{value:"180",children:"6 mois"}),r.jsx(Y,{value:"365",children:"1 an"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Notifications de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),r.jsx($r,{checked:n.loginNotifications,onCheckedChange:v=>s(y=>({...y,loginNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Suivi des appareils"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connects"})]}),r.jsx($r,{checked:n.deviceTracking,onCheckedChange:v=>s(y=>({...y,deviceTracking:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Dconnexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dconnexion aprs inactivit"})]}),r.jsx($r,{checked:n.autoLogout,onCheckedChange:v=>s(y=>({...y,autoLogout:v}))})]})]}),r.jsxs(H,{onClick:u,className:"w-full gap-2",children:[r.jsx(wp,{className:"h-4 w-4"}),"Sauvegarder les paramtres de scurit"]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(fM,{className:"h-5 w-5"}),"Sessions Actives"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:c.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[x(v.device),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.device}),v.current&&r.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.browser,"  ",v.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernire activit: ",v.lastActive]})]})]}),!v.current&&r.jsx(H,{variant:"outline",size:"sm",onClick:()=>m(v.id),children:"Terminer"})]},v.id))}),r.jsx(Ij,{}),r.jsx(H,{variant:"destructive",onClick:g,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(In,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Se souvenir de moi"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connect entre les sessions"})]}),r.jsx($r,{checked:i.rememberMe,onCheckedChange:v=>a(y=>({...y,rememberMe:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Connexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au dmarrage"})]}),r.jsx($r,{checked:i.autoLogin,onCheckedChange:v=>a(y=>({...y,autoLogin:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Dure de session (heures)"}),r.jsxs($e,{value:i.sessionDuration.toString(),onValueChange:v=>a(y=>({...y,sessionDuration:parseInt(v)})),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"1",children:"1 heure"}),r.jsx(Y,{value:"4",children:"4 heures"}),r.jsx(Y,{value:"8",children:"8 heures"}),r.jsx(Y,{value:"12",children:"12 heures"}),r.jsx(Y,{value:"24",children:"24 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{children:"Sessions simultanes maximum"}),r.jsxs($e,{value:i.maxConcurrentSessions.toString(),onValueChange:v=>a(y=>({...y,maxConcurrentSessions:parseInt(v)})),children:[r.jsx(De,{children:r.jsx(Re,{})}),r.jsxs(Me,{children:[r.jsx(Y,{value:"1",children:"1 session"}),r.jsx(Y,{value:"2",children:"2 sessions"}),r.jsx(Y,{value:"3",children:"3 sessions"}),r.jsx(Y,{value:"5",children:"5 sessions"}),r.jsx(Y,{value:"10",children:"10 sessions"})]})]})]})]}),r.jsxs(H,{onClick:d,className:"w-full gap-2",children:[r.jsx(wp,{className:"h-4 w-4"}),"Sauvegarder les paramtres de session"]})]})]}),r.jsxs(he,{children:[r.jsx(Ee,{children:r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Y5,{className:"h-5 w-5"}),"Notifications de Scurit"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Alertes de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),r.jsx($r,{checked:o.loginAlerts,onCheckedChange:v=>l(y=>({...y,loginAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Alertes de scurit"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les vnements de scurit"})]}),r.jsx($r,{checked:o.securityAlerts,onCheckedChange:v=>l(y=>({...y,securityAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Alertes d'appareil"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),r.jsx($r,{checked:o.deviceAlerts,onCheckedChange:v=>l(y=>({...y,deviceAlerts:v}))})]}),r.jsx(Ij,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Notifications par email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),r.jsx($r,{checked:o.emailNotifications,onCheckedChange:v=>l(y=>({...y,emailNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Notifications SMS"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),r.jsx($r,{checked:o.smsNotifications,onCheckedChange:v=>l(y=>({...y,smsNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(V,{children:"Notifications push"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),r.jsx($r,{checked:o.pushNotifications,onCheckedChange:v=>l(y=>({...y,pushNotifications:v}))})]})]}),r.jsxs(H,{onClick:f,className:"w-full gap-2",children:[r.jsx(wp,{className:"h-4 w-4"}),"Sauvegarder les paramtres de notification"]})]})]})]})]}):null}const H5e=new bie({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),G5e=()=>r.jsx(zde,{children:r.jsx(wie,{client:H5e,children:r.jsxs(Xse,{children:[r.jsx(Ine,{}),r.jsx(fre,{}),r.jsx(Fde,{children:r.jsx(lE,{children:r.jsx(Bhe,{children:r.jsx(Mae,{children:r.jsx(Eae,{children:r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs(wae,{children:[r.jsx(dr,{path:"/",element:r.jsx(Yde,{})}),r.jsx(dr,{path:"/login",element:r.jsx(Kde,{children:r.jsx(Gde,{})})}),r.jsx(dr,{path:"/register",element:r.jsx(Qde,{})}),r.jsx(dr,{path:"/dashboard",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(xFe,{})]})}),r.jsx(dr,{path:"/clients",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(bFe,{})]})}),r.jsx(dr,{path:"/pets",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(CFe,{})]})}),r.jsx(dr,{path:"/appointments",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(t5e,{})]})}),r.jsx(dr,{path:"/consultations",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(s5e,{})]})}),r.jsx(dr,{path:"/history",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(o5e,{})]})}),r.jsx(dr,{path:"/farm",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(f5e,{})]})}),r.jsx(dr,{path:"/vaccinations",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(j5e,{})]})}),r.jsx(dr,{path:"/antiparasites",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(w5e,{})]})}),r.jsx(dr,{path:"/stock",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(k5e,{})]})}),r.jsx(dr,{path:"/accounting",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(O5e,{})]})}),r.jsx(dr,{path:"/test-stats",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(M5e,{})]})}),r.jsx(dr,{path:"/simple-test",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx($5e,{})]})}),r.jsx(dr,{path:"/settings",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(B5e,{})]})}),r.jsx(dr,{path:"/profile",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(q5e,{})]})}),r.jsx(dr,{path:"/auth-settings",element:r.jsxs(cs,{children:[r.jsx(ls,{}),r.jsx(W5e,{})]})}),r.jsx(dr,{path:"*",element:r.jsx(R5e,{})})]})})})})})})})]})})});w5(document.getElementById("root")).render(r.jsx(G5e,{}));
