var GO=e=>{throw TypeError(e)};var gN=(e,t,n)=>t.has(e)||GO("Cannot "+n);var ue=(e,t,n)=>(gN(e,t,"read from private field"),n?n.call(e):t.get(e)),ut=(e,t,n)=>t.has(e)?GO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,s)=>(gN(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),zt=(e,t,n)=>(gN(e,t,"access private method"),n);var Cx=(e,t,n,s)=>({set _(i){Xe(e,t,i,n)},get _(){return ue(e,t,s)}});function oJ(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var lL={exports:{}},Vj={},cL={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=Symbol.for("react.element"),cJ=Symbol.for("react.portal"),uJ=Symbol.for("react.fragment"),dJ=Symbol.for("react.strict_mode"),hJ=Symbol.for("react.profiler"),fJ=Symbol.for("react.provider"),mJ=Symbol.for("react.context"),pJ=Symbol.for("react.forward_ref"),gJ=Symbol.for("react.suspense"),vJ=Symbol.for("react.memo"),xJ=Symbol.for("react.lazy"),KO=Symbol.iterator;function yJ(e){return e===null||typeof e!="object"?null:(e=KO&&e[KO]||e["@@iterator"],typeof e=="function"?e:null)}var uL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dL=Object.assign,hL={};function $f(e,t,n){this.props=e,this.context=t,this.refs=hL,this.updater=n||uL}$f.prototype.isReactComponent={};$f.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fL(){}fL.prototype=$f.prototype;function bP(e,t,n){this.props=e,this.context=t,this.refs=hL,this.updater=n||uL}var wP=bP.prototype=new fL;wP.constructor=bP;dL(wP,$f.prototype);wP.isPureReactComponent=!0;var YO=Array.isArray,mL=Object.prototype.hasOwnProperty,NP={current:null},pL={key:!0,ref:!0,__self:!0,__source:!0};function gL(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)mL.call(t,s)&&!pL.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Zg,type:e,key:a,ref:o,props:i,_owner:NP.current}}function jJ(e,t){return{$$typeof:Zg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function SP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zg}function bJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var QO=/\/+/g;function vN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bJ(""+e.key):t.toString(36)}function _y(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zg:case cJ:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+vN(o,0):s,YO(i)?(n="",e!=null&&(n=e.replace(QO,"$&/")+"/"),_y(i,t,n,"",function(u){return u})):i!=null&&(SP(i)&&(i=jJ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(QO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",YO(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+vN(a,l);o+=_y(a,t,n,c,i)}else if(c=yJ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+vN(a,l++),o+=_y(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _x(e,t,n){if(e==null)return e;var s=[],i=0;return _y(e,s,"","",function(a){return t.call(n,a,i++)}),s}function wJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ms={current:null},Py={transition:null},NJ={ReactCurrentDispatcher:Ms,ReactCurrentBatchConfig:Py,ReactCurrentOwner:NP};function vL(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:_x,forEach:function(e,t,n){_x(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _x(e,function(){t++}),t},toArray:function(e){return _x(e,function(t){return t})||[]},only:function(e){if(!SP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=$f;Xt.Fragment=uJ;Xt.Profiler=hJ;Xt.PureComponent=bP;Xt.StrictMode=dJ;Xt.Suspense=gJ;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NJ;Xt.act=vL;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=dL({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=NP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mL.call(t,c)&&!pL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Zg,type:e.type,key:i,ref:a,props:s,_owner:o}};Xt.createContext=function(e){return e={$$typeof:mJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fJ,_context:e},e.Consumer=e};Xt.createElement=gL;Xt.createFactory=function(e){var t=gL.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:pJ,render:e}};Xt.isValidElement=SP;Xt.lazy=function(e){return{$$typeof:xJ,_payload:{_status:-1,_result:e},_init:wJ}};Xt.memo=function(e,t){return{$$typeof:vJ,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=Py.transition;Py.transition={};try{e()}finally{Py.transition=t}};Xt.unstable_act=vL;Xt.useCallback=function(e,t){return Ms.current.useCallback(e,t)};Xt.useContext=function(e){return Ms.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return Ms.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return Ms.current.useEffect(e,t)};Xt.useId=function(){return Ms.current.useId()};Xt.useImperativeHandle=function(e,t,n){return Ms.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return Ms.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return Ms.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return Ms.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return Ms.current.useReducer(e,t,n)};Xt.useRef=function(e){return Ms.current.useRef(e)};Xt.useState=function(e){return Ms.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return Ms.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return Ms.current.useTransition()};Xt.version="18.3.1";cL.exports=Xt;var w=cL.exports;const U=pn(w),CP=oJ({__proto__:null,default:U},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SJ=w,CJ=Symbol.for("react.element"),_J=Symbol.for("react.fragment"),PJ=Object.prototype.hasOwnProperty,AJ=SJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EJ={key:!0,ref:!0,__self:!0,__source:!0};function xL(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)PJ.call(t,s)&&!EJ.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:CJ,type:e,key:a,ref:o,props:i,_owner:AJ.current}}Vj.Fragment=_J;Vj.jsx=xL;Vj.jsxs=xL;lL.exports=Vj;var r=lL.exports,yL={exports:{}},Ci={},jL={exports:{}},bL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,D){var ae=Q.length;Q.push(D);e:for(;0<ae;){var pe=ae-1>>>1,te=Q[pe];if(0<i(te,D))Q[pe]=D,Q[ae]=te,ae=pe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var D=Q[0],ae=Q.pop();if(ae!==D){Q[0]=ae;e:for(var pe=0,te=Q.length,Z=te>>>1;pe<Z;){var ne=2*(pe+1)-1,xe=Q[ne],ye=ne+1,se=Q[ye];if(0>i(xe,ae))ye<te&&0>i(se,xe)?(Q[pe]=se,Q[ye]=ae,pe=ye):(Q[pe]=xe,Q[ne]=ae,pe=ne);else if(ye<te&&0>i(se,ae))Q[pe]=se,Q[ye]=ae,pe=ye;else break e}}return D}function i(Q,D){var ae=Q.sortIndex-D.sortIndex;return ae!==0?ae:Q.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Q){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=Q)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function _(Q){if(v=!1,b(Q),!x)if(n(c)!==null)x=!0,H(C);else{var D=n(u);D!==null&&oe(_,D.startTime-Q)}}function C(Q,D){x=!1,v&&(v=!1,N(E),E=-1),g=!0;var ae=m;try{for(b(D),f=n(c);f!==null&&(!(f.expirationTime>D)||Q&&!k());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,m=f.priorityLevel;var te=pe(f.expirationTime<=D);D=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&s(c),b(D)}else s(c);f=n(c)}if(f!==null)var Z=!0;else{var ne=n(u);ne!==null&&oe(_,ne.startTime-D),Z=!1}return Z}finally{f=null,m=ae,g=!1}}var A=!1,P=null,E=-1,M=5,$=-1;function k(){return!(e.unstable_now()-$<M)}function O(){if(P!==null){var Q=e.unstable_now();$=Q;var D=!0;try{D=P(!0,Q)}finally{D?L():(A=!1,P=null)}}else A=!1}var L;if(typeof j=="function")L=function(){j(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=O,L=function(){J.postMessage(null)}}else L=function(){y(O,0)};function H(Q){P=Q,A||(A=!0,L())}function oe(Q,D){E=y(function(){Q(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,H(C))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var ae=m;m=D;try{return Q()}finally{m=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,D){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=m;m=Q;try{return D()}finally{m=ae}},e.unstable_scheduleCallback=function(Q,D,ae){var pe=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?pe+ae:pe):ae=pe,Q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ae+te,Q={id:d++,callback:D,priorityLevel:Q,startTime:ae,expirationTime:te,sortIndex:-1},ae>pe?(Q.sortIndex=ae,t(u,Q),n(c)===null&&Q===n(u)&&(v?(N(E),E=-1):v=!0,oe(_,ae-pe))):(Q.sortIndex=te,t(c,Q),x||g||(x=!0,H(C))),Q},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(Q){var D=m;return function(){var ae=m;m=D;try{return Q.apply(this,arguments)}finally{m=ae}}}})(bL);jL.exports=bL;var TJ=jL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kJ=w,Si=TJ;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wL=new Set,Rp={};function sd(e,t){Gh(e,t),Gh(e+"Capture",t)}function Gh(e,t){for(Rp[e]=t,e=0;e<t.length;e++)wL.add(t[e])}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),KS=Object.prototype.hasOwnProperty,OJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XO={},JO={};function DJ(e){return KS.call(JO,e)?!0:KS.call(XO,e)?!1:OJ.test(e)?JO[e]=!0:(XO[e]=!0,!1)}function MJ(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IJ(e,t,n,s){if(t===null||typeof t>"u"||MJ(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Is(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ss[e]=new Is(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ss[t]=new Is(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ss[e]=new Is(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ss[e]=new Is(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ss[e]=new Is(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ss[e]=new Is(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ss[e]=new Is(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ss[e]=new Is(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ss[e]=new Is(e,5,!1,e.toLowerCase(),null,!1,!1)});var _P=/[\-:]([a-z])/g;function PP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_P,PP);ss[t]=new Is(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_P,PP);ss[t]=new Is(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_P,PP);ss[t]=new Is(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ss[e]=new Is(e,1,!1,e.toLowerCase(),null,!1,!1)});ss.xlinkHref=new Is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ss[e]=new Is(e,1,!1,e.toLowerCase(),null,!0,!0)});function AP(e,t,n,s){var i=ss.hasOwnProperty(t)?ss[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IJ(t,n,i,s)&&(n=null),s||i===null?DJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var fl=kJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Px=Symbol.for("react.element"),nh=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),EP=Symbol.for("react.strict_mode"),YS=Symbol.for("react.profiler"),NL=Symbol.for("react.provider"),SL=Symbol.for("react.context"),TP=Symbol.for("react.forward_ref"),QS=Symbol.for("react.suspense"),XS=Symbol.for("react.suspense_list"),kP=Symbol.for("react.memo"),Ll=Symbol.for("react.lazy"),CL=Symbol.for("react.offscreen"),ZO=Symbol.iterator;function Im(e){return e===null||typeof e!="object"?null:(e=ZO&&e[ZO]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,xN;function op(e){if(xN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xN=t&&t[1]||""}return`
`+xN+e}var yN=!1;function jN(e,t){if(!e||yN)return"";yN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?op(e):""}function $J(e){switch(e.tag){case 5:return op(e.type);case 16:return op("Lazy");case 13:return op("Suspense");case 19:return op("SuspenseList");case 0:case 2:case 15:return e=jN(e.type,!1),e;case 11:return e=jN(e.type.render,!1),e;case 1:return e=jN(e.type,!0),e;default:return""}}function JS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rh:return"Fragment";case nh:return"Portal";case YS:return"Profiler";case EP:return"StrictMode";case QS:return"Suspense";case XS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SL:return(e.displayName||"Context")+".Consumer";case NL:return(e._context.displayName||"Context")+".Provider";case TP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kP:return t=e.displayName||null,t!==null?t:JS(e.type)||"Memo";case Ll:t=e._payload,e=e._init;try{return JS(e(t))}catch{}}return null}function RJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JS(t);case 8:return t===EP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _L(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LJ(e){var t=_L(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ax(e){e._valueTracker||(e._valueTracker=LJ(e))}function PL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=_L(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Hy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ZS(e,t){var n=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eD(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=xc(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AL(e,t){t=t.checked,t!=null&&AP(e,"checked",t,!1)}function eC(e,t){AL(e,t);var n=xc(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tC(e,t.type,n):t.hasOwnProperty("defaultValue")&&tC(e,t.type,xc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tD(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tC(e,t,n){(t!=="number"||Hy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lp=Array.isArray;function jh(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+xc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nD(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(lp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xc(n)}}function EL(e,t){var n=xc(t.value),s=xc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function rD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ex,kL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ex=Ex||document.createElement("div"),Ex.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ex.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FJ=["Webkit","ms","Moz","O"];Object.keys(gp).forEach(function(e){FJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gp[t]=gp[e]})});function OL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gp.hasOwnProperty(e)&&gp[e]?(""+t).trim():t+"px"}function DL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=OL(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var BJ=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sC(e,t){if(t){if(BJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function iC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aC=null;function OP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oC=null,bh=null,wh=null;function sD(e){if(e=nv(e)){if(typeof oC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Gj(t),oC(e.stateNode,e.type,t))}}function ML(e){bh?wh?wh.push(e):wh=[e]:bh=e}function IL(){if(bh){var e=bh,t=wh;if(wh=bh=null,sD(e),t)for(e=0;e<t.length;e++)sD(t[e])}}function $L(e,t){return e(t)}function RL(){}var bN=!1;function LL(e,t,n){if(bN)return e(t,n);bN=!0;try{return $L(e,t,n)}finally{bN=!1,(bh!==null||wh!==null)&&(RL(),IL())}}function Fp(e,t){var n=e.stateNode;if(n===null)return null;var s=Gj(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var lC=!1;if(Zo)try{var $m={};Object.defineProperty($m,"passive",{get:function(){lC=!0}}),window.addEventListener("test",$m,$m),window.removeEventListener("test",$m,$m)}catch{lC=!1}function zJ(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var vp=!1,Gy=null,Ky=!1,cC=null,VJ={onError:function(e){vp=!0,Gy=e}};function UJ(e,t,n,s,i,a,o,l,c){vp=!1,Gy=null,zJ.apply(VJ,arguments)}function qJ(e,t,n,s,i,a,o,l,c){if(UJ.apply(this,arguments),vp){if(vp){var u=Gy;vp=!1,Gy=null}else throw Error(Ue(198));Ky||(Ky=!0,cC=u)}}function id(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function FL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iD(e){if(id(e)!==e)throw Error(Ue(188))}function WJ(e){var t=e.alternate;if(!t){if(t=id(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return iD(i),e;if(a===s)return iD(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==s)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function BL(e){return e=WJ(e),e!==null?zL(e):null}function zL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zL(e);if(t!==null)return t;e=e.sibling}return null}var VL=Si.unstable_scheduleCallback,aD=Si.unstable_cancelCallback,HJ=Si.unstable_shouldYield,GJ=Si.unstable_requestPaint,mr=Si.unstable_now,KJ=Si.unstable_getCurrentPriorityLevel,DP=Si.unstable_ImmediatePriority,UL=Si.unstable_UserBlockingPriority,Yy=Si.unstable_NormalPriority,YJ=Si.unstable_LowPriority,qL=Si.unstable_IdlePriority,Uj=null,oo=null;function QJ(e){if(oo&&typeof oo.onCommitFiberRoot=="function")try{oo.onCommitFiberRoot(Uj,e,void 0,(e.current.flags&128)===128)}catch{}}var _a=Math.clz32?Math.clz32:ZJ,XJ=Math.log,JJ=Math.LN2;function ZJ(e){return e>>>=0,e===0?32:31-(XJ(e)/JJ|0)|0}var Tx=64,kx=4194304;function cp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qy(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=cp(l):(a&=o,a!==0&&(s=cp(a)))}else o=n&~i,o!==0?s=cp(o):a!==0&&(s=cp(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-_a(t),i=1<<n,s|=e[n],t&=~i;return s}function eZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tZ(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-_a(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=eZ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function uC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function WL(){var e=Tx;return Tx<<=1,!(Tx&4194240)&&(Tx=64),e}function wN(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ev(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_a(t),e[t]=n}function nZ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_a(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function MP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-_a(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var bn=0;function HL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GL,IP,KL,YL,QL,dC=!1,Ox=[],ac=null,oc=null,lc=null,Bp=new Map,zp=new Map,zl=[],rZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oD(e,t){switch(e){case"focusin":case"focusout":ac=null;break;case"dragenter":case"dragleave":oc=null;break;case"mouseover":case"mouseout":lc=null;break;case"pointerover":case"pointerout":Bp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zp.delete(t.pointerId)}}function Rm(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=nv(t),t!==null&&IP(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sZ(e,t,n,s,i){switch(t){case"focusin":return ac=Rm(ac,e,t,n,s,i),!0;case"dragenter":return oc=Rm(oc,e,t,n,s,i),!0;case"mouseover":return lc=Rm(lc,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Bp.set(a,Rm(Bp.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,zp.set(a,Rm(zp.get(a)||null,e,t,n,s,i)),!0}return!1}function XL(e){var t=hu(e.target);if(t!==null){var n=id(t);if(n!==null){if(t=n.tag,t===13){if(t=FL(n),t!==null){e.blockedOn=t,QL(e.priority,function(){KL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ay(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);aC=s,n.target.dispatchEvent(s),aC=null}else return t=nv(n),t!==null&&IP(t),e.blockedOn=n,!1;t.shift()}return!0}function lD(e,t,n){Ay(e)&&n.delete(t)}function iZ(){dC=!1,ac!==null&&Ay(ac)&&(ac=null),oc!==null&&Ay(oc)&&(oc=null),lc!==null&&Ay(lc)&&(lc=null),Bp.forEach(lD),zp.forEach(lD)}function Lm(e,t){e.blockedOn===t&&(e.blockedOn=null,dC||(dC=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,iZ)))}function Vp(e){function t(i){return Lm(i,e)}if(0<Ox.length){Lm(Ox[0],e);for(var n=1;n<Ox.length;n++){var s=Ox[n];s.blockedOn===e&&(s.blockedOn=null)}}for(ac!==null&&Lm(ac,e),oc!==null&&Lm(oc,e),lc!==null&&Lm(lc,e),Bp.forEach(t),zp.forEach(t),n=0;n<zl.length;n++)s=zl[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<zl.length&&(n=zl[0],n.blockedOn===null);)XL(n),n.blockedOn===null&&zl.shift()}var Nh=fl.ReactCurrentBatchConfig,Xy=!0;function aZ(e,t,n,s){var i=bn,a=Nh.transition;Nh.transition=null;try{bn=1,$P(e,t,n,s)}finally{bn=i,Nh.transition=a}}function oZ(e,t,n,s){var i=bn,a=Nh.transition;Nh.transition=null;try{bn=4,$P(e,t,n,s)}finally{bn=i,Nh.transition=a}}function $P(e,t,n,s){if(Xy){var i=hC(e,t,n,s);if(i===null)ON(e,t,s,Jy,n),oD(e,s);else if(sZ(i,e,t,n,s))s.stopPropagation();else if(oD(e,s),t&4&&-1<rZ.indexOf(e)){for(;i!==null;){var a=nv(i);if(a!==null&&GL(a),a=hC(e,t,n,s),a===null&&ON(e,t,s,Jy,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else ON(e,t,s,null,n)}}var Jy=null;function hC(e,t,n,s){if(Jy=null,e=OP(s),e=hu(e),e!==null)if(t=id(e),t===null)e=null;else if(n=t.tag,n===13){if(e=FL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jy=e,null}function JL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KJ()){case DP:return 1;case UL:return 4;case Yy:case YJ:return 16;case qL:return 536870912;default:return 16}default:return 16}}var ec=null,RP=null,Ey=null;function ZL(){if(Ey)return Ey;var e,t=RP,n=t.length,s,i="value"in ec?ec.value:ec.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Ey=i.slice(e,1<s?1-s:void 0)}function Ty(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dx(){return!0}function cD(){return!1}function _i(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Dx:cD,this.isPropagationStopped=cD,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dx)},persist:function(){},isPersistent:Dx}),t}var Rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LP=_i(Rf),tv=nr({},Rf,{view:0,detail:0}),lZ=_i(tv),NN,SN,Fm,qj=nr({},tv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fm&&(Fm&&e.type==="mousemove"?(NN=e.screenX-Fm.screenX,SN=e.screenY-Fm.screenY):SN=NN=0,Fm=e),NN)},movementY:function(e){return"movementY"in e?e.movementY:SN}}),uD=_i(qj),cZ=nr({},qj,{dataTransfer:0}),uZ=_i(cZ),dZ=nr({},tv,{relatedTarget:0}),CN=_i(dZ),hZ=nr({},Rf,{animationName:0,elapsedTime:0,pseudoElement:0}),fZ=_i(hZ),mZ=nr({},Rf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pZ=_i(mZ),gZ=nr({},Rf,{data:0}),dD=_i(gZ),vZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yZ[e])?!!t[e]:!1}function FP(){return jZ}var bZ=nr({},tv,{key:function(e){if(e.key){var t=vZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ty(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FP,charCode:function(e){return e.type==="keypress"?Ty(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ty(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wZ=_i(bZ),NZ=nr({},qj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hD=_i(NZ),SZ=nr({},tv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FP}),CZ=_i(SZ),_Z=nr({},Rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),PZ=_i(_Z),AZ=nr({},qj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EZ=_i(AZ),TZ=[9,13,27,32],BP=Zo&&"CompositionEvent"in window,xp=null;Zo&&"documentMode"in document&&(xp=document.documentMode);var kZ=Zo&&"TextEvent"in window&&!xp,eF=Zo&&(!BP||xp&&8<xp&&11>=xp),fD=" ",mD=!1;function tF(e,t){switch(e){case"keyup":return TZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sh=!1;function OZ(e,t){switch(e){case"compositionend":return nF(t);case"keypress":return t.which!==32?null:(mD=!0,fD);case"textInput":return e=t.data,e===fD&&mD?null:e;default:return null}}function DZ(e,t){if(sh)return e==="compositionend"||!BP&&tF(e,t)?(e=ZL(),Ey=RP=ec=null,sh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eF&&t.locale!=="ko"?null:t.data;default:return null}}var MZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MZ[e.type]:t==="textarea"}function rF(e,t,n,s){ML(s),t=Zy(t,"onChange"),0<t.length&&(n=new LP("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var yp=null,Up=null;function IZ(e){mF(e,0)}function Wj(e){var t=oh(e);if(PL(t))return e}function $Z(e,t){if(e==="change")return t}var sF=!1;if(Zo){var _N;if(Zo){var PN="oninput"in document;if(!PN){var gD=document.createElement("div");gD.setAttribute("oninput","return;"),PN=typeof gD.oninput=="function"}_N=PN}else _N=!1;sF=_N&&(!document.documentMode||9<document.documentMode)}function vD(){yp&&(yp.detachEvent("onpropertychange",iF),Up=yp=null)}function iF(e){if(e.propertyName==="value"&&Wj(Up)){var t=[];rF(t,Up,e,OP(e)),LL(IZ,t)}}function RZ(e,t,n){e==="focusin"?(vD(),yp=t,Up=n,yp.attachEvent("onpropertychange",iF)):e==="focusout"&&vD()}function LZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wj(Up)}function FZ(e,t){if(e==="click")return Wj(t)}function BZ(e,t){if(e==="input"||e==="change")return Wj(t)}function zZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ta=typeof Object.is=="function"?Object.is:zZ;function qp(e,t){if(Ta(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!KS.call(t,i)||!Ta(e[i],t[i]))return!1}return!0}function xD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yD(e,t){var n=xD(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xD(n)}}function aF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oF(){for(var e=window,t=Hy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hy(e.document)}return t}function zP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VZ(e){var t=oF(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aF(n.ownerDocument.documentElement,n)){if(s!==null&&zP(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=yD(n,a);var o=yD(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UZ=Zo&&"documentMode"in document&&11>=document.documentMode,ih=null,fC=null,jp=null,mC=!1;function jD(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mC||ih==null||ih!==Hy(s)||(s=ih,"selectionStart"in s&&zP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),jp&&qp(jp,s)||(jp=s,s=Zy(fC,"onSelect"),0<s.length&&(t=new LP("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ih)))}function Mx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ah={animationend:Mx("Animation","AnimationEnd"),animationiteration:Mx("Animation","AnimationIteration"),animationstart:Mx("Animation","AnimationStart"),transitionend:Mx("Transition","TransitionEnd")},AN={},lF={};Zo&&(lF=document.createElement("div").style,"AnimationEvent"in window||(delete ah.animationend.animation,delete ah.animationiteration.animation,delete ah.animationstart.animation),"TransitionEvent"in window||delete ah.transitionend.transition);function Hj(e){if(AN[e])return AN[e];if(!ah[e])return e;var t=ah[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lF)return AN[e]=t[n];return e}var cF=Hj("animationend"),uF=Hj("animationiteration"),dF=Hj("animationstart"),hF=Hj("transitionend"),fF=new Map,bD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _c(e,t){fF.set(e,t),sd(t,[e])}for(var EN=0;EN<bD.length;EN++){var TN=bD[EN],qZ=TN.toLowerCase(),WZ=TN[0].toUpperCase()+TN.slice(1);_c(qZ,"on"+WZ)}_c(cF,"onAnimationEnd");_c(uF,"onAnimationIteration");_c(dF,"onAnimationStart");_c("dblclick","onDoubleClick");_c("focusin","onFocus");_c("focusout","onBlur");_c(hF,"onTransitionEnd");Gh("onMouseEnter",["mouseout","mouseover"]);Gh("onMouseLeave",["mouseout","mouseover"]);Gh("onPointerEnter",["pointerout","pointerover"]);Gh("onPointerLeave",["pointerout","pointerover"]);sd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sd("onBeforeInput",["compositionend","keypress","textInput","paste"]);sd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(up));function wD(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,qJ(s,t,void 0,e),e.currentTarget=null}function mF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;wD(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;wD(i,l,u),a=c}}}if(Ky)throw e=cC,Ky=!1,cC=null,e}function Fn(e,t){var n=t[yC];n===void 0&&(n=t[yC]=new Set);var s=e+"__bubble";n.has(s)||(pF(t,e,2,!1),n.add(s))}function kN(e,t,n){var s=0;t&&(s|=4),pF(n,e,s,t)}var Ix="_reactListening"+Math.random().toString(36).slice(2);function Wp(e){if(!e[Ix]){e[Ix]=!0,wL.forEach(function(n){n!=="selectionchange"&&(HZ.has(n)||kN(n,!1,e),kN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ix]||(t[Ix]=!0,kN("selectionchange",!1,t))}}function pF(e,t,n,s){switch(JL(t)){case 1:var i=aZ;break;case 4:i=oZ;break;default:i=$P}n=i.bind(null,t,n,e),i=void 0,!lC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ON(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=hu(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}LL(function(){var u=a,d=OP(n),f=[];e:{var m=fF.get(e);if(m!==void 0){var g=LP,x=e;switch(e){case"keypress":if(Ty(n)===0)break e;case"keydown":case"keyup":g=wZ;break;case"focusin":x="focus",g=CN;break;case"focusout":x="blur",g=CN;break;case"beforeblur":case"afterblur":g=CN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=uD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=CZ;break;case cF:case uF:case dF:g=fZ;break;case hF:g=PZ;break;case"scroll":g=lZ;break;case"wheel":g=EZ;break;case"copy":case"cut":case"paste":g=pZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=hD}var v=(t&4)!==0,y=!v&&e==="scroll",N=v?m!==null?m+"Capture":null:m;v=[];for(var j=u,b;j!==null;){b=j;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,N!==null&&(_=Fp(j,N),_!=null&&v.push(Hp(j,_,b)))),y)break;j=j.return}0<v.length&&(m=new g(m,x,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==aC&&(x=n.relatedTarget||n.fromElement)&&(hu(x)||x[el]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?hu(x):null,x!==null&&(y=id(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=uD,_="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(v=hD,_="onPointerLeave",N="onPointerEnter",j="pointer"),y=g==null?m:oh(g),b=x==null?m:oh(x),m=new v(_,j+"leave",g,n,d),m.target=y,m.relatedTarget=b,_=null,hu(d)===u&&(v=new v(N,j+"enter",x,n,d),v.target=b,v.relatedTarget=y,_=v),y=_,g&&x)t:{for(v=g,N=x,j=0,b=v;b;b=Rd(b))j++;for(b=0,_=N;_;_=Rd(_))b++;for(;0<j-b;)v=Rd(v),j--;for(;0<b-j;)N=Rd(N),b--;for(;j--;){if(v===N||N!==null&&v===N.alternate)break t;v=Rd(v),N=Rd(N)}v=null}else v=null;g!==null&&ND(f,m,g,v,!1),x!==null&&y!==null&&ND(f,y,x,v,!0)}}e:{if(m=u?oh(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=$Z;else if(pD(m))if(sF)C=BZ;else{C=LZ;var A=RZ}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=FZ);if(C&&(C=C(e,u))){rF(f,C,n,d);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&tC(m,"number",m.value)}switch(A=u?oh(u):window,e){case"focusin":(pD(A)||A.contentEditable==="true")&&(ih=A,fC=u,jp=null);break;case"focusout":jp=fC=ih=null;break;case"mousedown":mC=!0;break;case"contextmenu":case"mouseup":case"dragend":mC=!1,jD(f,n,d);break;case"selectionchange":if(UZ)break;case"keydown":case"keyup":jD(f,n,d)}var P;if(BP)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else sh?tF(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(eF&&n.locale!=="ko"&&(sh||E!=="onCompositionStart"?E==="onCompositionEnd"&&sh&&(P=ZL()):(ec=d,RP="value"in ec?ec.value:ec.textContent,sh=!0)),A=Zy(u,E),0<A.length&&(E=new dD(E,e,null,n,d),f.push({event:E,listeners:A}),P?E.data=P:(P=nF(n),P!==null&&(E.data=P)))),(P=kZ?OZ(e,n):DZ(e,n))&&(u=Zy(u,"onBeforeInput"),0<u.length&&(d=new dD("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}mF(f,t)})}function Hp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zy(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fp(e,n),a!=null&&s.unshift(Hp(e,a,i)),a=Fp(e,t),a!=null&&s.push(Hp(e,a,i))),e=e.return}return s}function Rd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ND(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=Fp(n,a),c!=null&&o.unshift(Hp(n,c,l))):i||(c=Fp(n,a),c!=null&&o.push(Hp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GZ=/\r\n?/g,KZ=/\u0000|\uFFFD/g;function SD(e){return(typeof e=="string"?e:""+e).replace(GZ,`
`).replace(KZ,"")}function $x(e,t,n){if(t=SD(t),SD(e)!==t&&n)throw Error(Ue(425))}function e0(){}var pC=null,gC=null;function vC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xC=typeof setTimeout=="function"?setTimeout:void 0,YZ=typeof clearTimeout=="function"?clearTimeout:void 0,CD=typeof Promise=="function"?Promise:void 0,QZ=typeof queueMicrotask=="function"?queueMicrotask:typeof CD<"u"?function(e){return CD.resolve(null).then(e).catch(XZ)}:xC;function XZ(e){setTimeout(function(){throw e})}function DN(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Vp(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Vp(t)}function cc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _D(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lf=Math.random().toString(36).slice(2),Ja="__reactFiber$"+Lf,Gp="__reactProps$"+Lf,el="__reactContainer$"+Lf,yC="__reactEvents$"+Lf,JZ="__reactListeners$"+Lf,ZZ="__reactHandles$"+Lf;function hu(e){var t=e[Ja];if(t)return t;for(var n=e.parentNode;n;){if(t=n[el]||n[Ja]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_D(e);e!==null;){if(n=e[Ja])return n;e=_D(e)}return t}e=n,n=e.parentNode}return null}function nv(e){return e=e[Ja]||e[el],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Gj(e){return e[Gp]||null}var jC=[],lh=-1;function Pc(e){return{current:e}}function Un(e){0>lh||(e.current=jC[lh],jC[lh]=null,lh--)}function Mn(e,t){lh++,jC[lh]=e.current,e.current=t}var yc={},ps=Pc(yc),Qs=Pc(!1),$u=yc;function Kh(e,t){var n=e.type.contextTypes;if(!n)return yc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xs(e){return e=e.childContextTypes,e!=null}function t0(){Un(Qs),Un(ps)}function PD(e,t,n){if(ps.current!==yc)throw Error(Ue(168));Mn(ps,t),Mn(Qs,n)}function gF(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Ue(108,RJ(e)||"Unknown",i));return nr({},n,s)}function n0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yc,$u=ps.current,Mn(ps,e),Mn(Qs,Qs.current),!0}function AD(e,t,n){var s=e.stateNode;if(!s)throw Error(Ue(169));n?(e=gF(e,t,$u),s.__reactInternalMemoizedMergedChildContext=e,Un(Qs),Un(ps),Mn(ps,e)):Un(Qs),Mn(Qs,n)}var Fo=null,Kj=!1,MN=!1;function vF(e){Fo===null?Fo=[e]:Fo.push(e)}function eee(e){Kj=!0,vF(e)}function Ac(){if(!MN&&Fo!==null){MN=!0;var e=0,t=bn;try{var n=Fo;for(bn=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Fo=null,Kj=!1}catch(i){throw Fo!==null&&(Fo=Fo.slice(e+1)),VL(DP,Ac),i}finally{bn=t,MN=!1}}return null}var ch=[],uh=0,r0=null,s0=0,zi=[],Vi=0,Ru=null,qo=1,Wo="";function ru(e,t){ch[uh++]=s0,ch[uh++]=r0,r0=e,s0=t}function xF(e,t,n){zi[Vi++]=qo,zi[Vi++]=Wo,zi[Vi++]=Ru,Ru=e;var s=qo;e=Wo;var i=32-_a(s)-1;s&=~(1<<i),n+=1;var a=32-_a(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,qo=1<<32-_a(t)+i|n<<i|s,Wo=a+e}else qo=1<<a|n<<i|s,Wo=e}function VP(e){e.return!==null&&(ru(e,1),xF(e,1,0))}function UP(e){for(;e===r0;)r0=ch[--uh],ch[uh]=null,s0=ch[--uh],ch[uh]=null;for(;e===Ru;)Ru=zi[--Vi],zi[Vi]=null,Wo=zi[--Vi],zi[Vi]=null,qo=zi[--Vi],zi[Vi]=null}var yi=null,xi=null,Hn=!1,wa=null;function yF(e,t){var n=qi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ED(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yi=e,xi=cc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yi=e,xi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ru!==null?{id:qo,overflow:Wo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yi=e,xi=null,!0):!1;default:return!1}}function bC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wC(e){if(Hn){var t=xi;if(t){var n=t;if(!ED(e,t)){if(bC(e))throw Error(Ue(418));t=cc(n.nextSibling);var s=yi;t&&ED(e,t)?yF(s,n):(e.flags=e.flags&-4097|2,Hn=!1,yi=e)}}else{if(bC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Hn=!1,yi=e}}}function TD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yi=e}function Rx(e){if(e!==yi)return!1;if(!Hn)return TD(e),Hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vC(e.type,e.memoizedProps)),t&&(t=xi)){if(bC(e))throw jF(),Error(Ue(418));for(;t;)yF(e,t),t=cc(t.nextSibling)}if(TD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xi=cc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xi=null}}else xi=yi?cc(e.stateNode.nextSibling):null;return!0}function jF(){for(var e=xi;e;)e=cc(e.nextSibling)}function Yh(){xi=yi=null,Hn=!1}function qP(e){wa===null?wa=[e]:wa.push(e)}var tee=fl.ReactCurrentBatchConfig;function Bm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var s=n.stateNode}if(!s)throw Error(Ue(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function Lx(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kD(e){var t=e._init;return t(e._payload)}function bF(e){function t(N,j){if(e){var b=N.deletions;b===null?(N.deletions=[j],N.flags|=16):b.push(j)}}function n(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function s(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function i(N,j){return N=fc(N,j),N.index=0,N.sibling=null,N}function a(N,j,b){return N.index=b,e?(b=N.alternate,b!==null?(b=b.index,b<j?(N.flags|=2,j):b):(N.flags|=2,j)):(N.flags|=1048576,j)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,j,b,_){return j===null||j.tag!==6?(j=zN(b,N.mode,_),j.return=N,j):(j=i(j,b),j.return=N,j)}function c(N,j,b,_){var C=b.type;return C===rh?d(N,j,b.props.children,_,b.key):j!==null&&(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ll&&kD(C)===j.type)?(_=i(j,b.props),_.ref=Bm(N,j,b),_.return=N,_):(_=Ry(b.type,b.key,b.props,null,N.mode,_),_.ref=Bm(N,j,b),_.return=N,_)}function u(N,j,b,_){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=VN(b,N.mode,_),j.return=N,j):(j=i(j,b.children||[]),j.return=N,j)}function d(N,j,b,_,C){return j===null||j.tag!==7?(j=Ou(b,N.mode,_,C),j.return=N,j):(j=i(j,b),j.return=N,j)}function f(N,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=zN(""+j,N.mode,b),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Px:return b=Ry(j.type,j.key,j.props,null,N.mode,b),b.ref=Bm(N,null,j),b.return=N,b;case nh:return j=VN(j,N.mode,b),j.return=N,j;case Ll:var _=j._init;return f(N,_(j._payload),b)}if(lp(j)||Im(j))return j=Ou(j,N.mode,b,null),j.return=N,j;Lx(N,j)}return null}function m(N,j,b,_){var C=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(N,j,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Px:return b.key===C?c(N,j,b,_):null;case nh:return b.key===C?u(N,j,b,_):null;case Ll:return C=b._init,m(N,j,C(b._payload),_)}if(lp(b)||Im(b))return C!==null?null:d(N,j,b,_,null);Lx(N,b)}return null}function g(N,j,b,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return N=N.get(b)||null,l(j,N,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Px:return N=N.get(_.key===null?b:_.key)||null,c(j,N,_,C);case nh:return N=N.get(_.key===null?b:_.key)||null,u(j,N,_,C);case Ll:var A=_._init;return g(N,j,b,A(_._payload),C)}if(lp(_)||Im(_))return N=N.get(b)||null,d(j,N,_,C,null);Lx(j,_)}return null}function x(N,j,b,_){for(var C=null,A=null,P=j,E=j=0,M=null;P!==null&&E<b.length;E++){P.index>E?(M=P,P=null):M=P.sibling;var $=m(N,P,b[E],_);if($===null){P===null&&(P=M);break}e&&P&&$.alternate===null&&t(N,P),j=a($,j,E),A===null?C=$:A.sibling=$,A=$,P=M}if(E===b.length)return n(N,P),Hn&&ru(N,E),C;if(P===null){for(;E<b.length;E++)P=f(N,b[E],_),P!==null&&(j=a(P,j,E),A===null?C=P:A.sibling=P,A=P);return Hn&&ru(N,E),C}for(P=s(N,P);E<b.length;E++)M=g(P,N,E,b[E],_),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?E:M.key),j=a(M,j,E),A===null?C=M:A.sibling=M,A=M);return e&&P.forEach(function(k){return t(N,k)}),Hn&&ru(N,E),C}function v(N,j,b,_){var C=Im(b);if(typeof C!="function")throw Error(Ue(150));if(b=C.call(b),b==null)throw Error(Ue(151));for(var A=C=null,P=j,E=j=0,M=null,$=b.next();P!==null&&!$.done;E++,$=b.next()){P.index>E?(M=P,P=null):M=P.sibling;var k=m(N,P,$.value,_);if(k===null){P===null&&(P=M);break}e&&P&&k.alternate===null&&t(N,P),j=a(k,j,E),A===null?C=k:A.sibling=k,A=k,P=M}if($.done)return n(N,P),Hn&&ru(N,E),C;if(P===null){for(;!$.done;E++,$=b.next())$=f(N,$.value,_),$!==null&&(j=a($,j,E),A===null?C=$:A.sibling=$,A=$);return Hn&&ru(N,E),C}for(P=s(N,P);!$.done;E++,$=b.next())$=g(P,N,E,$.value,_),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?E:$.key),j=a($,j,E),A===null?C=$:A.sibling=$,A=$);return e&&P.forEach(function(O){return t(N,O)}),Hn&&ru(N,E),C}function y(N,j,b,_){if(typeof b=="object"&&b!==null&&b.type===rh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Px:e:{for(var C=b.key,A=j;A!==null;){if(A.key===C){if(C=b.type,C===rh){if(A.tag===7){n(N,A.sibling),j=i(A,b.props.children),j.return=N,N=j;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ll&&kD(C)===A.type){n(N,A.sibling),j=i(A,b.props),j.ref=Bm(N,A,b),j.return=N,N=j;break e}n(N,A);break}else t(N,A);A=A.sibling}b.type===rh?(j=Ou(b.props.children,N.mode,_,b.key),j.return=N,N=j):(_=Ry(b.type,b.key,b.props,null,N.mode,_),_.ref=Bm(N,j,b),_.return=N,N=_)}return o(N);case nh:e:{for(A=b.key;j!==null;){if(j.key===A)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){n(N,j.sibling),j=i(j,b.children||[]),j.return=N,N=j;break e}else{n(N,j);break}else t(N,j);j=j.sibling}j=VN(b,N.mode,_),j.return=N,N=j}return o(N);case Ll:return A=b._init,y(N,j,A(b._payload),_)}if(lp(b))return x(N,j,b,_);if(Im(b))return v(N,j,b,_);Lx(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(n(N,j.sibling),j=i(j,b),j.return=N,N=j):(n(N,j),j=zN(b,N.mode,_),j.return=N,N=j),o(N)):n(N,j)}return y}var Qh=bF(!0),wF=bF(!1),i0=Pc(null),a0=null,dh=null,WP=null;function HP(){WP=dh=a0=null}function GP(e){var t=i0.current;Un(i0),e._currentValue=t}function NC(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Sh(e,t){a0=e,WP=dh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ks=!0),e.firstContext=null)}function Qi(e){var t=e._currentValue;if(WP!==e)if(e={context:e,memoizedValue:t,next:null},dh===null){if(a0===null)throw Error(Ue(308));dh=e,a0.dependencies={lanes:0,firstContext:e}}else dh=dh.next=e;return t}var fu=null;function KP(e){fu===null?fu=[e]:fu.push(e)}function NF(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,KP(t)):(n.next=i.next,i.next=n),t.interleaved=n,tl(e,s)}function tl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fl=!1;function YP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uc(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,sn&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,tl(e,n)}return i=s.interleaved,i===null?(t.next=t,KP(s)):(t.next=i.next,i.next=t),s.interleaved=t,tl(e,n)}function ky(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,MP(e,n)}}function OD(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function o0(e,t,n,s){var i=e.updateQueue;Fl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,g=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(m=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=nr({},f,m);break e;case 2:Fl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function DD(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Ue(191,i));i.call(s)}}}var rv={},lo=Pc(rv),Kp=Pc(rv),Yp=Pc(rv);function mu(e){if(e===rv)throw Error(Ue(174));return e}function QP(e,t){switch(Mn(Yp,t),Mn(Kp,e),Mn(lo,rv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rC(t,e)}Un(lo),Mn(lo,t)}function Xh(){Un(lo),Un(Kp),Un(Yp)}function CF(e){mu(Yp.current);var t=mu(lo.current),n=rC(t,e.type);t!==n&&(Mn(Kp,e),Mn(lo,n))}function XP(e){Kp.current===e&&(Un(lo),Un(Kp))}var Zn=Pc(0);function l0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var IN=[];function JP(){for(var e=0;e<IN.length;e++)IN[e]._workInProgressVersionPrimary=null;IN.length=0}var Oy=fl.ReactCurrentDispatcher,$N=fl.ReactCurrentBatchConfig,Lu=0,tr=null,Tr=null,Br=null,c0=!1,bp=!1,Qp=0,nee=0;function ls(){throw Error(Ue(321))}function ZP(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ta(e[n],t[n]))return!1;return!0}function eA(e,t,n,s,i,a){if(Lu=a,tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oy.current=e===null||e.memoizedState===null?aee:oee,e=n(s,i),bp){a=0;do{if(bp=!1,Qp=0,25<=a)throw Error(Ue(301));a+=1,Br=Tr=null,t.updateQueue=null,Oy.current=lee,e=n(s,i)}while(bp)}if(Oy.current=u0,t=Tr!==null&&Tr.next!==null,Lu=0,Br=Tr=tr=null,c0=!1,t)throw Error(Ue(300));return e}function tA(){var e=Qp!==0;return Qp=0,e}function Ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?tr.memoizedState=Br=e:Br=Br.next=e,Br}function Xi(){if(Tr===null){var e=tr.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Br===null?tr.memoizedState:Br.next;if(t!==null)Br=t,Tr=e;else{if(e===null)throw Error(Ue(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Br===null?tr.memoizedState=Br=e:Br=Br.next=e}return Br}function Xp(e,t){return typeof t=="function"?t(e):t}function RN(e){var t=Xi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=Tr,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Lu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,tr.lanes|=d,Fu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Ta(s,t.memoizedState)||(Ks=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,tr.lanes|=a,Fu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function LN(e){var t=Xi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ta(a,t.memoizedState)||(Ks=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function _F(){}function PF(e,t){var n=tr,s=Xi(),i=t(),a=!Ta(s.memoizedState,i);if(a&&(s.memoizedState=i,Ks=!0),s=s.queue,nA(TF.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Br!==null&&Br.memoizedState.tag&1){if(n.flags|=2048,Jp(9,EF.bind(null,n,s,i,t),void 0,null),qr===null)throw Error(Ue(349));Lu&30||AF(n,t,i)}return i}function AF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function EF(e,t,n,s){t.value=n,t.getSnapshot=s,kF(t)&&OF(e)}function TF(e,t,n){return n(function(){kF(t)&&OF(e)})}function kF(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ta(e,n)}catch{return!0}}function OF(e){var t=tl(e,1);t!==null&&Pa(t,e,1,-1)}function MD(e){var t=Ga();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:e},t.queue=e,e=e.dispatch=iee.bind(null,tr,e),[t.memoizedState,e]}function Jp(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function DF(){return Xi().memoizedState}function Dy(e,t,n,s){var i=Ga();tr.flags|=e,i.memoizedState=Jp(1|t,n,void 0,s===void 0?null:s)}function Yj(e,t,n,s){var i=Xi();s=s===void 0?null:s;var a=void 0;if(Tr!==null){var o=Tr.memoizedState;if(a=o.destroy,s!==null&&ZP(s,o.deps)){i.memoizedState=Jp(t,n,a,s);return}}tr.flags|=e,i.memoizedState=Jp(1|t,n,a,s)}function ID(e,t){return Dy(8390656,8,e,t)}function nA(e,t){return Yj(2048,8,e,t)}function MF(e,t){return Yj(4,2,e,t)}function IF(e,t){return Yj(4,4,e,t)}function $F(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RF(e,t,n){return n=n!=null?n.concat([e]):null,Yj(4,4,$F.bind(null,t,e),n)}function rA(){}function LF(e,t){var n=Xi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ZP(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function FF(e,t){var n=Xi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ZP(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function BF(e,t,n){return Lu&21?(Ta(n,t)||(n=WL(),tr.lanes|=n,Fu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ks=!0),e.memoizedState=n)}function ree(e,t){var n=bn;bn=n!==0&&4>n?n:4,e(!0);var s=$N.transition;$N.transition={};try{e(!1),t()}finally{bn=n,$N.transition=s}}function zF(){return Xi().memoizedState}function see(e,t,n){var s=hc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},VF(e))UF(t,n);else if(n=NF(e,t,n,s),n!==null){var i=Os();Pa(n,e,s,i),qF(n,t,s)}}function iee(e,t,n){var s=hc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(VF(e))UF(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ta(l,o)){var c=t.interleaved;c===null?(i.next=i,KP(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=NF(e,t,i,s),n!==null&&(i=Os(),Pa(n,e,s,i),qF(n,t,s))}}function VF(e){var t=e.alternate;return e===tr||t!==null&&t===tr}function UF(e,t){bp=c0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qF(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,MP(e,n)}}var u0={readContext:Qi,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},aee={readContext:Qi,useCallback:function(e,t){return Ga().memoizedState=[e,t===void 0?null:t],e},useContext:Qi,useEffect:ID,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dy(4194308,4,$F.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dy(4,2,e,t)},useMemo:function(e,t){var n=Ga();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ga();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=see.bind(null,tr,e),[s.memoizedState,e]},useRef:function(e){var t=Ga();return e={current:e},t.memoizedState=e},useState:MD,useDebugValue:rA,useDeferredValue:function(e){return Ga().memoizedState=e},useTransition:function(){var e=MD(!1),t=e[0];return e=ree.bind(null,e[1]),Ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=tr,i=Ga();if(Hn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),qr===null)throw Error(Ue(349));Lu&30||AF(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ID(TF.bind(null,s,a,e),[e]),s.flags|=2048,Jp(9,EF.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Ga(),t=qr.identifierPrefix;if(Hn){var n=Wo,s=qo;n=(s&~(1<<32-_a(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oee={readContext:Qi,useCallback:LF,useContext:Qi,useEffect:nA,useImperativeHandle:RF,useInsertionEffect:MF,useLayoutEffect:IF,useMemo:FF,useReducer:RN,useRef:DF,useState:function(){return RN(Xp)},useDebugValue:rA,useDeferredValue:function(e){var t=Xi();return BF(t,Tr.memoizedState,e)},useTransition:function(){var e=RN(Xp)[0],t=Xi().memoizedState;return[e,t]},useMutableSource:_F,useSyncExternalStore:PF,useId:zF,unstable_isNewReconciler:!1},lee={readContext:Qi,useCallback:LF,useContext:Qi,useEffect:nA,useImperativeHandle:RF,useInsertionEffect:MF,useLayoutEffect:IF,useMemo:FF,useReducer:LN,useRef:DF,useState:function(){return LN(Xp)},useDebugValue:rA,useDeferredValue:function(e){var t=Xi();return Tr===null?t.memoizedState=e:BF(t,Tr.memoizedState,e)},useTransition:function(){var e=LN(Xp)[0],t=Xi().memoizedState;return[e,t]},useMutableSource:_F,useSyncExternalStore:PF,useId:zF,unstable_isNewReconciler:!1};function pa(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function SC(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:nr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qj={isMounted:function(e){return(e=e._reactInternals)?id(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Os(),i=hc(e),a=Yo(s,i);a.payload=t,n!=null&&(a.callback=n),t=uc(e,a,i),t!==null&&(Pa(t,e,i,s),ky(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Os(),i=hc(e),a=Yo(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=uc(e,a,i),t!==null&&(Pa(t,e,i,s),ky(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Os(),s=hc(e),i=Yo(n,s);i.tag=2,t!=null&&(i.callback=t),t=uc(e,i,s),t!==null&&(Pa(t,e,s,n),ky(t,e,s))}};function $D(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!qp(n,s)||!qp(i,a):!0}function WF(e,t,n){var s=!1,i=yc,a=t.contextType;return typeof a=="object"&&a!==null?a=Qi(a):(i=Xs(t)?$u:ps.current,s=t.contextTypes,a=(s=s!=null)?Kh(e,i):yc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qj,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function RD(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Qj.enqueueReplaceState(t,t.state,null)}function CC(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},YP(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Qi(a):(a=Xs(t)?$u:ps.current,i.context=Kh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(SC(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qj.enqueueReplaceState(i,i.state,null),o0(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jh(e,t){try{var n="",s=t;do n+=$J(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function FN(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _C(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cee=typeof WeakMap=="function"?WeakMap:Map;function HF(e,t,n){n=Yo(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){h0||(h0=!0,$C=s),_C(e,t)},n}function GF(e,t,n){n=Yo(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){_C(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){_C(e,t),typeof s!="function"&&(dc===null?dc=new Set([this]):dc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function LD(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new cee;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=Nee.bind(null,e,t,n),t.then(e,e))}function FD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BD(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yo(-1,1),t.tag=2,uc(n,t,1))),n.lanes|=1),e)}var uee=fl.ReactCurrentOwner,Ks=!1;function _s(e,t,n,s){t.child=e===null?wF(t,null,n,s):Qh(t,e.child,n,s)}function zD(e,t,n,s,i){n=n.render;var a=t.ref;return Sh(t,i),s=eA(e,t,n,s,a,i),n=tA(),e!==null&&!Ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i)):(Hn&&n&&VP(t),t.flags|=1,_s(e,t,s,i),t.child)}function VD(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!dA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,KF(e,t,a,s,i)):(e=Ry(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:qp,n(o,s)&&e.ref===t.ref)return nl(e,t,i)}return t.flags|=1,e=fc(a,s),e.ref=t.ref,e.return=t,t.child=e}function KF(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(qp(a,s)&&e.ref===t.ref)if(Ks=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Ks=!0);else return t.lanes=e.lanes,nl(e,t,i)}return PC(e,t,n,s,i)}function YF(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(fh,fi),fi|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mn(fh,fi),fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Mn(fh,fi),fi|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Mn(fh,fi),fi|=s;return _s(e,t,i,n),t.child}function QF(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function PC(e,t,n,s,i){var a=Xs(n)?$u:ps.current;return a=Kh(t,a),Sh(t,i),n=eA(e,t,n,s,a,i),s=tA(),e!==null&&!Ks?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i)):(Hn&&s&&VP(t),t.flags|=1,_s(e,t,n,i),t.child)}function UD(e,t,n,s,i){if(Xs(n)){var a=!0;n0(t)}else a=!1;if(Sh(t,i),t.stateNode===null)My(e,t),WF(t,n,s),CC(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qi(u):(u=Xs(n)?$u:ps.current,u=Kh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&RD(t,o,s,u),Fl=!1;var m=t.memoizedState;o.state=m,o0(t,s,o,i),c=t.memoizedState,l!==s||m!==c||Qs.current||Fl?(typeof d=="function"&&(SC(t,n,d,s),c=t.memoizedState),(l=Fl||$D(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,SF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pa(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qi(c):(c=Xs(n)?$u:ps.current,c=Kh(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&RD(t,o,s,c),Fl=!1,m=t.memoizedState,o.state=m,o0(t,s,o,i);var x=t.memoizedState;l!==f||m!==x||Qs.current||Fl?(typeof g=="function"&&(SC(t,n,g,s),x=t.memoizedState),(u=Fl||$D(t,n,u,s,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return AC(e,t,n,s,a,i)}function AC(e,t,n,s,i,a){QF(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&AD(t,n,!1),nl(e,t,a);s=t.stateNode,uee.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Qh(t,e.child,null,a),t.child=Qh(t,null,l,a)):_s(e,t,l,a),t.memoizedState=s.state,i&&AD(t,n,!0),t.child}function XF(e){var t=e.stateNode;t.pendingContext?PD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&PD(e,t.context,!1),QP(e,t.containerInfo)}function qD(e,t,n,s,i){return Yh(),qP(i),t.flags|=256,_s(e,t,n,s),t.child}var EC={dehydrated:null,treeContext:null,retryLane:0};function TC(e){return{baseLanes:e,cachePool:null,transitions:null}}function JF(e,t,n){var s=t.pendingProps,i=Zn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Mn(Zn,i&1),e===null)return wC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Zj(o,s,0,null),e=Ou(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=TC(n),t.memoizedState=EC,e):sA(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return dee(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=fc(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=fc(l,a):(a=Ou(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?TC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=EC,s}return a=e.child,e=a.sibling,s=fc(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function sA(e,t){return t=Zj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fx(e,t,n,s){return s!==null&&qP(s),Qh(t,e.child,null,n),e=sA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dee(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=FN(Error(Ue(422))),Fx(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Zj({mode:"visible",children:s.children},i,0,null),a=Ou(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Qh(t,e.child,null,o),t.child.memoizedState=TC(o),t.memoizedState=EC,a);if(!(t.mode&1))return Fx(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ue(419)),s=FN(a,s,void 0),Fx(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ks||l){if(s=qr,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,tl(e,i),Pa(s,e,i,-1))}return uA(),s=FN(Error(Ue(421))),Fx(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=See.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xi=cc(i.nextSibling),yi=t,Hn=!0,wa=null,e!==null&&(zi[Vi++]=qo,zi[Vi++]=Wo,zi[Vi++]=Ru,qo=e.id,Wo=e.overflow,Ru=t),t=sA(t,s.children),t.flags|=4096,t)}function WD(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),NC(e.return,t,n)}function BN(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function ZF(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(_s(e,t,s.children,n),s=Zn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&WD(e,n,t);else if(e.tag===19)WD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Mn(Zn,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&l0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),BN(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&l0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}BN(t,!0,n,null,a);break;case"together":BN(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function My(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=fc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hee(e,t,n){switch(t.tag){case 3:XF(t),Yh();break;case 5:CF(t);break;case 1:Xs(t.type)&&n0(t);break;case 4:QP(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Mn(i0,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Mn(Zn,Zn.current&1),t.flags|=128,null):n&t.child.childLanes?JF(e,t,n):(Mn(Zn,Zn.current&1),e=nl(e,t,n),e!==null?e.sibling:null);Mn(Zn,Zn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return ZF(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mn(Zn,Zn.current),s)break;return null;case 22:case 23:return t.lanes=0,YF(e,t,n)}return nl(e,t,n)}var e5,kC,t5,n5;e5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kC=function(){};t5=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,mu(lo.current);var a=null;switch(n){case"input":i=ZS(e,i),s=ZS(e,s),a=[];break;case"select":i=nr({},i,{value:void 0}),s=nr({},s,{value:void 0}),a=[];break;case"textarea":i=nC(e,i),s=nC(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=e0)}sC(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};n5=function(e,t,n,s){n!==s&&(t.flags|=4)};function zm(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function cs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function fee(e,t,n){var s=t.pendingProps;switch(UP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(t),null;case 1:return Xs(t.type)&&t0(),cs(t),null;case 3:return s=t.stateNode,Xh(),Un(Qs),Un(ps),JP(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Rx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wa!==null&&(FC(wa),wa=null))),kC(e,t),cs(t),null;case 5:XP(t);var i=mu(Yp.current);if(n=t.type,e!==null&&t.stateNode!=null)t5(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ue(166));return cs(t),null}if(e=mu(lo.current),Rx(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Ja]=t,s[Gp]=a,e=(t.mode&1)!==0,n){case"dialog":Fn("cancel",s),Fn("close",s);break;case"iframe":case"object":case"embed":Fn("load",s);break;case"video":case"audio":for(i=0;i<up.length;i++)Fn(up[i],s);break;case"source":Fn("error",s);break;case"img":case"image":case"link":Fn("error",s),Fn("load",s);break;case"details":Fn("toggle",s);break;case"input":eD(s,a),Fn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Fn("invalid",s);break;case"textarea":nD(s,a),Fn("invalid",s)}sC(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&$x(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&$x(s.textContent,l,e),i=["children",""+l]):Rp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Fn("scroll",s)}switch(n){case"input":Ax(s),tD(s,a,!0);break;case"textarea":Ax(s),rD(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=e0)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Ja]=t,e[Gp]=s,e5(e,t,!1,!1),t.stateNode=e;e:{switch(o=iC(n,s),n){case"dialog":Fn("cancel",e),Fn("close",e),i=s;break;case"iframe":case"object":case"embed":Fn("load",e),i=s;break;case"video":case"audio":for(i=0;i<up.length;i++)Fn(up[i],e);i=s;break;case"source":Fn("error",e),i=s;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),i=s;break;case"details":Fn("toggle",e),i=s;break;case"input":eD(e,s),i=ZS(e,s),Fn("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=nr({},s,{value:void 0}),Fn("invalid",e);break;case"textarea":nD(e,s),i=nC(e,s),Fn("invalid",e);break;default:i=s}sC(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?DL(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kL(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lp(e,c):typeof c=="number"&&Lp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Rp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Fn("scroll",e):c!=null&&AP(e,a,c,o))}switch(n){case"input":Ax(e),tD(e,s,!1);break;case"textarea":Ax(e),rD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+xc(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?jh(e,!!s.multiple,a,!1):s.defaultValue!=null&&jh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=e0)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cs(t),null;case 6:if(e&&t.stateNode!=null)n5(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=mu(Yp.current),mu(lo.current),Rx(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ja]=t,(a=s.nodeValue!==n)&&(e=yi,e!==null))switch(e.tag){case 3:$x(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$x(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ja]=t,t.stateNode=s}return cs(t),null;case 13:if(Un(Zn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Hn&&xi!==null&&t.mode&1&&!(t.flags&128))jF(),Yh(),t.flags|=98560,a=!1;else if(a=Rx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[Ja]=t}else Yh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cs(t),a=!1}else wa!==null&&(FC(wa),wa=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Zn.current&1?Dr===0&&(Dr=3):uA())),t.updateQueue!==null&&(t.flags|=4),cs(t),null);case 4:return Xh(),kC(e,t),e===null&&Wp(t.stateNode.containerInfo),cs(t),null;case 10:return GP(t.type._context),cs(t),null;case 17:return Xs(t.type)&&t0(),cs(t),null;case 19:if(Un(Zn),a=t.memoizedState,a===null)return cs(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)zm(a,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=l0(e),o!==null){for(t.flags|=128,zm(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mn(Zn,Zn.current&1|2),t.child}e=e.sibling}a.tail!==null&&mr()>Zh&&(t.flags|=128,s=!0,zm(a,!1),t.lanes=4194304)}else{if(!s)if(e=l0(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Hn)return cs(t),null}else 2*mr()-a.renderingStartTime>Zh&&n!==1073741824&&(t.flags|=128,s=!0,zm(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mr(),t.sibling=null,n=Zn.current,Mn(Zn,s?n&1|2:n&1),t):(cs(t),null);case 22:case 23:return cA(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?fi&1073741824&&(cs(t),t.subtreeFlags&6&&(t.flags|=8192)):cs(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function mee(e,t){switch(UP(t),t.tag){case 1:return Xs(t.type)&&t0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xh(),Un(Qs),Un(ps),JP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return XP(t),null;case 13:if(Un(Zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Yh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Un(Zn),null;case 4:return Xh(),null;case 10:return GP(t.type._context),null;case 22:case 23:return cA(),null;case 24:return null;default:return null}}var Bx=!1,fs=!1,pee=typeof WeakSet=="function"?WeakSet:Set,nt=null;function hh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ar(e,t,s)}else n.current=null}function OC(e,t,n){try{n()}catch(s){ar(e,t,s)}}var HD=!1;function gee(e,t){if(pC=Xy,e=oF(),zP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===s&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gC={focusedElem:e,selectionRange:n},Xy=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,N=t.stateNode,j=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:pa(t.type,v),y);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(_){ar(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return x=HD,HD=!1,x}function wp(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&OC(t,n,a)}i=i.next}while(i!==s)}}function Xj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function DC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function r5(e){var t=e.alternate;t!==null&&(e.alternate=null,r5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ja],delete t[Gp],delete t[yC],delete t[JZ],delete t[ZZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s5(e){return e.tag===5||e.tag===3||e.tag===4}function GD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function MC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=e0));else if(s!==4&&(e=e.child,e!==null))for(MC(e,t,n),e=e.sibling;e!==null;)MC(e,t,n),e=e.sibling}function IC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(IC(e,t,n),e=e.sibling;e!==null;)IC(e,t,n),e=e.sibling}var es=null,xa=!1;function El(e,t,n){for(n=n.child;n!==null;)i5(e,t,n),n=n.sibling}function i5(e,t,n){if(oo&&typeof oo.onCommitFiberUnmount=="function")try{oo.onCommitFiberUnmount(Uj,n)}catch{}switch(n.tag){case 5:fs||hh(n,t);case 6:var s=es,i=xa;es=null,El(e,t,n),es=s,xa=i,es!==null&&(xa?(e=es,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):es.removeChild(n.stateNode));break;case 18:es!==null&&(xa?(e=es,n=n.stateNode,e.nodeType===8?DN(e.parentNode,n):e.nodeType===1&&DN(e,n),Vp(e)):DN(es,n.stateNode));break;case 4:s=es,i=xa,es=n.stateNode.containerInfo,xa=!0,El(e,t,n),es=s,xa=i;break;case 0:case 11:case 14:case 15:if(!fs&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&OC(n,t,o),i=i.next}while(i!==s)}El(e,t,n);break;case 1:if(!fs&&(hh(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){ar(n,t,l)}El(e,t,n);break;case 21:El(e,t,n);break;case 22:n.mode&1?(fs=(s=fs)||n.memoizedState!==null,El(e,t,n),fs=s):El(e,t,n);break;default:El(e,t,n)}}function KD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pee),t.forEach(function(s){var i=Cee.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function ua(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:es=l.stateNode,xa=!1;break e;case 3:es=l.stateNode.containerInfo,xa=!0;break e;case 4:es=l.stateNode.containerInfo,xa=!0;break e}l=l.return}if(es===null)throw Error(Ue(160));i5(a,o,i),es=null,xa=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ar(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a5(t,e),t=t.sibling}function a5(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ua(t,e),Ha(e),s&4){try{wp(3,e,e.return),Xj(3,e)}catch(v){ar(e,e.return,v)}try{wp(5,e,e.return)}catch(v){ar(e,e.return,v)}}break;case 1:ua(t,e),Ha(e),s&512&&n!==null&&hh(n,n.return);break;case 5:if(ua(t,e),Ha(e),s&512&&n!==null&&hh(n,n.return),e.flags&32){var i=e.stateNode;try{Lp(i,"")}catch(v){ar(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&AL(i,a),iC(l,o);var u=iC(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?DL(i,f):d==="dangerouslySetInnerHTML"?kL(i,f):d==="children"?Lp(i,f):AP(i,d,f,u)}switch(l){case"input":eC(i,a);break;case"textarea":EL(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?jh(i,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?jh(i,!!a.multiple,a.defaultValue,!0):jh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Gp]=a}catch(v){ar(e,e.return,v)}}break;case 6:if(ua(t,e),Ha(e),s&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ar(e,e.return,v)}}break;case 3:if(ua(t,e),Ha(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(v){ar(e,e.return,v)}break;case 4:ua(t,e),Ha(e);break;case 13:ua(t,e),Ha(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(oA=mr())),s&4&&KD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(fs=(u=fs)||d,ua(t,e),fs=u):ua(t,e),Ha(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(nt=e,d=e.child;d!==null;){for(f=nt=d;nt!==null;){switch(m=nt,g=m.child,m.tag){case 0:case 11:case 14:case 15:wp(4,m,m.return);break;case 1:hh(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ar(s,n,v)}}break;case 5:hh(m,m.return);break;case 22:if(m.memoizedState!==null){QD(f);continue}}g!==null?(g.return=m,nt=g):QD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=OL("display",o))}catch(v){ar(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ar(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ua(t,e),Ha(e),s&4&&KD(e);break;case 21:break;default:ua(t,e),Ha(e)}}function Ha(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(s5(n)){var s=n;break e}n=n.return}throw Error(Ue(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Lp(i,""),s.flags&=-33);var a=GD(e);IC(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=GD(e);MC(e,l,o);break;default:throw Error(Ue(161))}}catch(c){ar(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vee(e,t,n){nt=e,o5(e)}function o5(e,t,n){for(var s=(e.mode&1)!==0;nt!==null;){var i=nt,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Bx;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||fs;l=Bx;var u=fs;if(Bx=o,(fs=c)&&!u)for(nt=i;nt!==null;)o=nt,c=o.child,o.tag===22&&o.memoizedState!==null?XD(i):c!==null?(c.return=o,nt=c):XD(i);for(;a!==null;)nt=a,o5(a),a=a.sibling;nt=i,Bx=l,fs=u}YD(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,nt=a):YD(e)}}function YD(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fs||Xj(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!fs)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pa(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&DD(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}DD(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}fs||t.flags&512&&DC(t)}catch(m){ar(t,t.return,m)}}if(t===e){nt=null;break}if(n=t.sibling,n!==null){n.return=t.return,nt=n;break}nt=t.return}}function QD(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,nt=n;break}nt=t.return}}function XD(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xj(4,t)}catch(c){ar(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){ar(t,i,c)}}var a=t.return;try{DC(t)}catch(c){ar(t,a,c)}break;case 5:var o=t.return;try{DC(t)}catch(c){ar(t,o,c)}}}catch(c){ar(t,t.return,c)}if(t===e){nt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,nt=l;break}nt=t.return}}var xee=Math.ceil,d0=fl.ReactCurrentDispatcher,iA=fl.ReactCurrentOwner,Gi=fl.ReactCurrentBatchConfig,sn=0,qr=null,jr=null,ts=0,fi=0,fh=Pc(0),Dr=0,Zp=null,Fu=0,Jj=0,aA=0,Np=null,Hs=null,oA=0,Zh=1/0,$o=null,h0=!1,$C=null,dc=null,zx=!1,tc=null,f0=0,Sp=0,RC=null,Iy=-1,$y=0;function Os(){return sn&6?mr():Iy!==-1?Iy:Iy=mr()}function hc(e){return e.mode&1?sn&2&&ts!==0?ts&-ts:tee.transition!==null?($y===0&&($y=WL()),$y):(e=bn,e!==0||(e=window.event,e=e===void 0?16:JL(e.type)),e):1}function Pa(e,t,n,s){if(50<Sp)throw Sp=0,RC=null,Error(Ue(185));ev(e,n,s),(!(sn&2)||e!==qr)&&(e===qr&&(!(sn&2)&&(Jj|=n),Dr===4&&Vl(e,ts)),Js(e,s),n===1&&sn===0&&!(t.mode&1)&&(Zh=mr()+500,Kj&&Ac()))}function Js(e,t){var n=e.callbackNode;tZ(e,t);var s=Qy(e,e===qr?ts:0);if(s===0)n!==null&&aD(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&aD(n),t===1)e.tag===0?eee(JD.bind(null,e)):vF(JD.bind(null,e)),QZ(function(){!(sn&6)&&Ac()}),n=null;else{switch(HL(s)){case 1:n=DP;break;case 4:n=UL;break;case 16:n=Yy;break;case 536870912:n=qL;break;default:n=Yy}n=p5(n,l5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l5(e,t){if(Iy=-1,$y=0,sn&6)throw Error(Ue(327));var n=e.callbackNode;if(Ch()&&e.callbackNode!==n)return null;var s=Qy(e,e===qr?ts:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=m0(e,s);else{t=s;var i=sn;sn|=2;var a=u5();(qr!==e||ts!==t)&&($o=null,Zh=mr()+500,ku(e,t));do try{bee();break}catch(l){c5(e,l)}while(!0);HP(),d0.current=a,sn=i,jr!==null?t=0:(qr=null,ts=0,t=Dr)}if(t!==0){if(t===2&&(i=uC(e),i!==0&&(s=i,t=LC(e,i))),t===1)throw n=Zp,ku(e,0),Vl(e,s),Js(e,mr()),n;if(t===6)Vl(e,s);else{if(i=e.current.alternate,!(s&30)&&!yee(i)&&(t=m0(e,s),t===2&&(a=uC(e),a!==0&&(s=a,t=LC(e,a))),t===1))throw n=Zp,ku(e,0),Vl(e,s),Js(e,mr()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Ue(345));case 2:su(e,Hs,$o);break;case 3:if(Vl(e,s),(s&130023424)===s&&(t=oA+500-mr(),10<t)){if(Qy(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Os(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=xC(su.bind(null,e,Hs,$o),t);break}su(e,Hs,$o);break;case 4:if(Vl(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-_a(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=mr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*xee(s/1960))-s,10<s){e.timeoutHandle=xC(su.bind(null,e,Hs,$o),s);break}su(e,Hs,$o);break;case 5:su(e,Hs,$o);break;default:throw Error(Ue(329))}}}return Js(e,mr()),e.callbackNode===n?l5.bind(null,e):null}function LC(e,t){var n=Np;return e.current.memoizedState.isDehydrated&&(ku(e,t).flags|=256),e=m0(e,t),e!==2&&(t=Hs,Hs=n,t!==null&&FC(t)),e}function FC(e){Hs===null?Hs=e:Hs.push.apply(Hs,e)}function yee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Ta(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vl(e,t){for(t&=~aA,t&=~Jj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_a(t),s=1<<n;e[n]=-1,t&=~s}}function JD(e){if(sn&6)throw Error(Ue(327));Ch();var t=Qy(e,0);if(!(t&1))return Js(e,mr()),null;var n=m0(e,t);if(e.tag!==0&&n===2){var s=uC(e);s!==0&&(t=s,n=LC(e,s))}if(n===1)throw n=Zp,ku(e,0),Vl(e,t),Js(e,mr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,su(e,Hs,$o),Js(e,mr()),null}function lA(e,t){var n=sn;sn|=1;try{return e(t)}finally{sn=n,sn===0&&(Zh=mr()+500,Kj&&Ac())}}function Bu(e){tc!==null&&tc.tag===0&&!(sn&6)&&Ch();var t=sn;sn|=1;var n=Gi.transition,s=bn;try{if(Gi.transition=null,bn=1,e)return e()}finally{bn=s,Gi.transition=n,sn=t,!(sn&6)&&Ac()}}function cA(){fi=fh.current,Un(fh)}function ku(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YZ(n)),jr!==null)for(n=jr.return;n!==null;){var s=n;switch(UP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&t0();break;case 3:Xh(),Un(Qs),Un(ps),JP();break;case 5:XP(s);break;case 4:Xh();break;case 13:Un(Zn);break;case 19:Un(Zn);break;case 10:GP(s.type._context);break;case 22:case 23:cA()}n=n.return}if(qr=e,jr=e=fc(e.current,null),ts=fi=t,Dr=0,Zp=null,aA=Jj=Fu=0,Hs=Np=null,fu!==null){for(t=0;t<fu.length;t++)if(n=fu[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}fu=null}return e}function c5(e,t){do{var n=jr;try{if(HP(),Oy.current=u0,c0){for(var s=tr.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}c0=!1}if(Lu=0,Br=Tr=tr=null,bp=!1,Qp=0,iA.current=null,n===null||n.return===null){Dr=1,Zp=t,jr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=ts,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=FD(o);if(g!==null){g.flags&=-257,BD(g,o,l,a,t),g.mode&1&&LD(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){LD(a,u,t),uA();break e}c=Error(Ue(426))}}else if(Hn&&l.mode&1){var y=FD(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),BD(y,o,l,a,t),qP(Jh(c,l));break e}}a=c=Jh(c,l),Dr!==4&&(Dr=2),Np===null?Np=[a]:Np.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=HF(a,c,t);OD(a,N);break e;case 1:l=c;var j=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(dc===null||!dc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=GF(a,l,t);OD(a,_);break e}}a=a.return}while(a!==null)}h5(n)}catch(C){t=C,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function u5(){var e=d0.current;return d0.current=u0,e===null?u0:e}function uA(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),qr===null||!(Fu&268435455)&&!(Jj&268435455)||Vl(qr,ts)}function m0(e,t){var n=sn;sn|=2;var s=u5();(qr!==e||ts!==t)&&($o=null,ku(e,t));do try{jee();break}catch(i){c5(e,i)}while(!0);if(HP(),sn=n,d0.current=s,jr!==null)throw Error(Ue(261));return qr=null,ts=0,Dr}function jee(){for(;jr!==null;)d5(jr)}function bee(){for(;jr!==null&&!HJ();)d5(jr)}function d5(e){var t=m5(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?h5(e):jr=t,iA.current=null}function h5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mee(n,t),n!==null){n.flags&=32767,jr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,jr=null;return}}else if(n=fee(n,t,fi),n!==null){jr=n;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Dr===0&&(Dr=5)}function su(e,t,n){var s=bn,i=Gi.transition;try{Gi.transition=null,bn=1,wee(e,t,n,s)}finally{Gi.transition=i,bn=s}return null}function wee(e,t,n,s){do Ch();while(tc!==null);if(sn&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(nZ(e,a),e===qr&&(jr=qr=null,ts=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zx||(zx=!0,p5(Yy,function(){return Ch(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gi.transition,Gi.transition=null;var o=bn;bn=1;var l=sn;sn|=4,iA.current=null,gee(e,n),a5(n,e),VZ(gC),Xy=!!pC,gC=pC=null,e.current=n,vee(n),GJ(),sn=l,bn=o,Gi.transition=a}else e.current=n;if(zx&&(zx=!1,tc=e,f0=i),a=e.pendingLanes,a===0&&(dc=null),QJ(n.stateNode),Js(e,mr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(h0)throw h0=!1,e=$C,$C=null,e;return f0&1&&e.tag!==0&&Ch(),a=e.pendingLanes,a&1?e===RC?Sp++:(Sp=0,RC=e):Sp=0,Ac(),null}function Ch(){if(tc!==null){var e=HL(f0),t=Gi.transition,n=bn;try{if(Gi.transition=null,bn=16>e?16:e,tc===null)var s=!1;else{if(e=tc,tc=null,f0=0,sn&6)throw Error(Ue(331));var i=sn;for(sn|=4,nt=e.current;nt!==null;){var a=nt,o=a.child;if(nt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(nt=u;nt!==null;){var d=nt;switch(d.tag){case 0:case 11:case 15:wp(8,d,a)}var f=d.child;if(f!==null)f.return=d,nt=f;else for(;nt!==null;){d=nt;var m=d.sibling,g=d.return;if(r5(d),d===u){nt=null;break}if(m!==null){m.return=g,nt=m;break}nt=g}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}nt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,nt=o;else e:for(;nt!==null;){if(a=nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wp(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,nt=N;break e}nt=a.return}}var j=e.current;for(nt=j;nt!==null;){o=nt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,nt=b;else e:for(o=j;nt!==null;){if(l=nt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xj(9,l)}}catch(C){ar(l,l.return,C)}if(l===o){nt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,nt=_;break e}nt=l.return}}if(sn=i,Ac(),oo&&typeof oo.onPostCommitFiberRoot=="function")try{oo.onPostCommitFiberRoot(Uj,e)}catch{}s=!0}return s}finally{bn=n,Gi.transition=t}}return!1}function ZD(e,t,n){t=Jh(n,t),t=HF(e,t,1),e=uc(e,t,1),t=Os(),e!==null&&(ev(e,1,t),Js(e,t))}function ar(e,t,n){if(e.tag===3)ZD(e,e,n);else for(;t!==null;){if(t.tag===3){ZD(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(dc===null||!dc.has(s))){e=Jh(n,e),e=GF(t,e,1),t=uc(t,e,1),e=Os(),t!==null&&(ev(t,1,e),Js(t,e));break}}t=t.return}}function Nee(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Os(),e.pingedLanes|=e.suspendedLanes&n,qr===e&&(ts&n)===n&&(Dr===4||Dr===3&&(ts&130023424)===ts&&500>mr()-oA?ku(e,0):aA|=n),Js(e,t)}function f5(e,t){t===0&&(e.mode&1?(t=kx,kx<<=1,!(kx&130023424)&&(kx=4194304)):t=1);var n=Os();e=tl(e,t),e!==null&&(ev(e,t,n),Js(e,n))}function See(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),f5(e,n)}function Cee(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ue(314))}s!==null&&s.delete(t),f5(e,n)}var m5;m5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qs.current)Ks=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ks=!1,hee(e,t,n);Ks=!!(e.flags&131072)}else Ks=!1,Hn&&t.flags&1048576&&xF(t,s0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;My(e,t),e=t.pendingProps;var i=Kh(t,ps.current);Sh(t,n),i=eA(null,t,s,e,i,n);var a=tA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xs(s)?(a=!0,n0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,YP(t),i.updater=Qj,t.stateNode=i,i._reactInternals=t,CC(t,s,e,n),t=AC(null,t,s,!0,a,n)):(t.tag=0,Hn&&a&&VP(t),_s(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(My(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=Pee(s),e=pa(s,e),i){case 0:t=PC(null,t,s,e,n);break e;case 1:t=UD(null,t,s,e,n);break e;case 11:t=zD(null,t,s,e,n);break e;case 14:t=VD(null,t,s,pa(s.type,e),n);break e}throw Error(Ue(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:pa(s,i),PC(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:pa(s,i),UD(e,t,s,i,n);case 3:e:{if(XF(t),e===null)throw Error(Ue(387));s=t.pendingProps,a=t.memoizedState,i=a.element,SF(e,t),o0(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Jh(Error(Ue(423)),t),t=qD(e,t,s,n,i);break e}else if(s!==i){i=Jh(Error(Ue(424)),t),t=qD(e,t,s,n,i);break e}else for(xi=cc(t.stateNode.containerInfo.firstChild),yi=t,Hn=!0,wa=null,n=wF(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yh(),s===i){t=nl(e,t,n);break e}_s(e,t,s,n)}t=t.child}return t;case 5:return CF(t),e===null&&wC(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,vC(s,i)?o=null:a!==null&&vC(s,a)&&(t.flags|=32),QF(e,t),_s(e,t,o,n),t.child;case 6:return e===null&&wC(t),null;case 13:return JF(e,t,n);case 4:return QP(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Qh(t,null,s,n):_s(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:pa(s,i),zD(e,t,s,i,n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:return _s(e,t,t.pendingProps.children,n),t.child;case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Mn(i0,s._currentValue),s._currentValue=o,a!==null)if(Ta(a.value,o)){if(a.children===i.children&&!Qs.current){t=nl(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Yo(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),NC(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),NC(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Sh(t,n),i=Qi(i),s=s(i),t.flags|=1,_s(e,t,s,n),t.child;case 14:return s=t.type,i=pa(s,t.pendingProps),i=pa(s.type,i),VD(e,t,s,i,n);case 15:return KF(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:pa(s,i),My(e,t),t.tag=1,Xs(s)?(e=!0,n0(t)):e=!1,Sh(t,n),WF(t,s,i),CC(t,s,i,n),AC(null,t,s,!0,e,n);case 19:return ZF(e,t,n);case 22:return YF(e,t,n)}throw Error(Ue(156,t.tag))};function p5(e,t){return VL(e,t)}function _ee(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(e,t,n,s){return new _ee(e,t,n,s)}function dA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pee(e){if(typeof e=="function")return dA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===TP)return 11;if(e===kP)return 14}return 2}function fc(e,t){var n=e.alternate;return n===null?(n=qi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ry(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")dA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rh:return Ou(n.children,i,a,t);case EP:o=8,i|=8;break;case YS:return e=qi(12,n,t,i|2),e.elementType=YS,e.lanes=a,e;case QS:return e=qi(13,n,t,i),e.elementType=QS,e.lanes=a,e;case XS:return e=qi(19,n,t,i),e.elementType=XS,e.lanes=a,e;case CL:return Zj(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NL:o=10;break e;case SL:o=9;break e;case TP:o=11;break e;case kP:o=14;break e;case Ll:o=16,s=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=qi(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Ou(e,t,n,s){return e=qi(7,e,s,t),e.lanes=n,e}function Zj(e,t,n,s){return e=qi(22,e,s,t),e.elementType=CL,e.lanes=n,e.stateNode={isHidden:!1},e}function zN(e,t,n){return e=qi(6,e,null,t),e.lanes=n,e}function VN(e,t,n){return t=qi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Aee(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wN(0),this.expirationTimes=wN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wN(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hA(e,t,n,s,i,a,o,l,c){return e=new Aee(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},YP(a),e}function Eee(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nh,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function g5(e){if(!e)return yc;e=e._reactInternals;e:{if(id(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Xs(n))return gF(e,n,t)}return t}function v5(e,t,n,s,i,a,o,l,c){return e=hA(n,s,!0,e,i,a,o,l,c),e.context=g5(null),n=e.current,s=Os(),i=hc(n),a=Yo(s,i),a.callback=t??null,uc(n,a,i),e.current.lanes=i,ev(e,i,s),Js(e,s),e}function eb(e,t,n,s){var i=t.current,a=Os(),o=hc(i);return n=g5(n),t.context===null?t.context=n:t.pendingContext=n,t=Yo(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=uc(i,t,o),e!==null&&(Pa(e,i,o,a),ky(e,i,o)),o}function p0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fA(e,t){eM(e,t),(e=e.alternate)&&eM(e,t)}function Tee(){return null}var x5=typeof reportError=="function"?reportError:function(e){console.error(e)};function mA(e){this._internalRoot=e}tb.prototype.render=mA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));eb(e,t,null,null)};tb.prototype.unmount=mA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bu(function(){eb(null,e,null,null)}),t[el]=null}};function tb(e){this._internalRoot=e}tb.prototype.unstable_scheduleHydration=function(e){if(e){var t=YL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zl.length&&t!==0&&t<zl[n].priority;n++);zl.splice(n,0,e),n===0&&XL(e)}};function pA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tM(){}function kee(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=p0(o);a.call(u)}}var o=v5(t,s,e,0,null,!1,!1,"",tM);return e._reactRootContainer=o,e[el]=o.current,Wp(e.nodeType===8?e.parentNode:e),Bu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=p0(c);l.call(u)}}var c=hA(e,0,!1,null,null,!1,!1,"",tM);return e._reactRootContainer=c,e[el]=c.current,Wp(e.nodeType===8?e.parentNode:e),Bu(function(){eb(t,c,n,s)}),c}function rb(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=p0(o);l.call(c)}}eb(t,o,e,i)}else o=kee(n,t,e,i,s);return p0(o)}GL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cp(t.pendingLanes);n!==0&&(MP(t,n|1),Js(t,mr()),!(sn&6)&&(Zh=mr()+500,Ac()))}break;case 13:Bu(function(){var s=tl(e,1);if(s!==null){var i=Os();Pa(s,e,1,i)}}),fA(e,1)}};IP=function(e){if(e.tag===13){var t=tl(e,134217728);if(t!==null){var n=Os();Pa(t,e,134217728,n)}fA(e,134217728)}};KL=function(e){if(e.tag===13){var t=hc(e),n=tl(e,t);if(n!==null){var s=Os();Pa(n,e,t,s)}fA(e,t)}};YL=function(){return bn};QL=function(e,t){var n=bn;try{return bn=e,t()}finally{bn=n}};oC=function(e,t,n){switch(t){case"input":if(eC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=Gj(s);if(!i)throw Error(Ue(90));PL(s),eC(s,i)}}}break;case"textarea":EL(e,n);break;case"select":t=n.value,t!=null&&jh(e,!!n.multiple,t,!1)}};$L=lA;RL=Bu;var Oee={usingClientEntryPoint:!1,Events:[nv,oh,Gj,ML,IL,lA]},Vm={findFiberByHostInstance:hu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dee={bundleType:Vm.bundleType,version:Vm.version,rendererPackageName:Vm.rendererPackageName,rendererConfig:Vm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BL(e),e===null?null:e.stateNode},findFiberByHostInstance:Vm.findFiberByHostInstance||Tee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vx.isDisabled&&Vx.supportsFiber)try{Uj=Vx.inject(Dee),oo=Vx}catch{}}Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oee;Ci.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pA(t))throw Error(Ue(200));return Eee(e,t,null,n)};Ci.createRoot=function(e,t){if(!pA(e))throw Error(Ue(299));var n=!1,s="",i=x5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hA(e,1,!1,null,null,n,!1,s,i),e[el]=t.current,Wp(e.nodeType===8?e.parentNode:e),new mA(t)};Ci.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=BL(t),e=e===null?null:e.stateNode,e};Ci.flushSync=function(e){return Bu(e)};Ci.hydrate=function(e,t,n){if(!nb(t))throw Error(Ue(200));return rb(null,e,t,!0,n)};Ci.hydrateRoot=function(e,t,n){if(!pA(e))throw Error(Ue(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=x5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=v5(t,null,e,1,n??null,i,!1,a,o),e[el]=t.current,Wp(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tb(t)};Ci.render=function(e,t,n){if(!nb(t))throw Error(Ue(200));return rb(null,e,t,!1,n)};Ci.unmountComponentAtNode=function(e){if(!nb(e))throw Error(Ue(40));return e._reactRootContainer?(Bu(function(){rb(null,null,e,!1,function(){e._reactRootContainer=null,e[el]=null})}),!0):!1};Ci.unstable_batchedUpdates=lA;Ci.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!nb(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return rb(e,t,n,!1,s)};Ci.version="18.3.1-next-f1338f8080-20240426";function y5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y5)}catch(e){console.error(e)}}y5(),yL.exports=Ci;var ad=yL.exports;const j5=pn(ad);var b5,nM=ad;b5=nM.createRoot,nM.hydrateRoot;const Mee=1,Iee=1e6;let UN=0;function $ee(){return UN=(UN+1)%Number.MAX_SAFE_INTEGER,UN.toString()}const qN=new Map,rM=e=>{if(qN.has(e))return;const t=setTimeout(()=>{qN.delete(e),Cp({type:"REMOVE_TOAST",toastId:e})},Iee);qN.set(e,t)},Ree=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Mee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rM(n):e.toasts.forEach(s=>{rM(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ly=[];let Fy={toasts:[]};function Cp(e){Fy=Ree(Fy,e),Ly.forEach(t=>{t(Fy)})}function Lee({...e}){const t=$ee(),n=i=>Cp({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Cp({type:"DISMISS_TOAST",toastId:t});return Cp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function Ft(){const[e,t]=w.useState(Fy);return w.useEffect(()=>(Ly.push(t),()=>{const n=Ly.indexOf(t);n>-1&&Ly.splice(n,1)}),[e]),{...e,toast:Lee,dismiss:n=>Cp({type:"DISMISS_TOAST",toastId:n})}}function He(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function sM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rl(...e){return t=>{let n=!1;const s=e.map(i=>{const a=sM(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():sM(e[i],null)}}}}function Qt(...e){return w.useCallback(rl(...e),e)}function Fee(e,t){const n=w.createContext(t),s=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=w.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function Zs(e,t=[]){let n=[];function s(a,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{var N;const{scope:m,children:g,...x}=f,v=((N=m==null?void 0:m[e])==null?void 0:N[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=w.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,Bee(i,...t)]}function Bee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function jc(e){const t=Vee(e),n=w.forwardRef((s,i)=>{const{children:a,...o}=s,l=w.Children.toArray(a),c=l.find(qee);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var zee=jc("Slot");function Vee(e){const t=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const o=Hee(i),l=Wee(a,i.props);return i.type!==w.Fragment&&(l.ref=s?rl(s,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var w5=Symbol("radix.slottable");function Uee(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=w5,t}function qee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===w5}function Wee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Hee(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function sb(e){const t=e+"CollectionProvider",[n,s]=Zs(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:N}=v,j=U.useRef(null),b=U.useRef(new Map).current;return r.jsx(i,{scope:y,itemMap:b,collectionRef:j,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=jc(l),u=U.forwardRef((v,y)=>{const{scope:N,children:j}=v,b=a(l,N),_=Qt(y,b.collectionRef);return r.jsx(c,{ref:_,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=jc(d),g=U.forwardRef((v,y)=>{const{scope:N,children:j,...b}=v,_=U.useRef(null),C=Qt(y,_),A=a(d,N);return U.useEffect(()=>(A.itemMap.set(_,{ref:_,...b}),()=>void A.itemMap.delete(_))),r.jsx(m,{[f]:"",ref:C,children:j})});g.displayName=d;function x(v){const y=a(e+"CollectionConsumer",v);return U.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((A,P)=>b.indexOf(A.ref.current)-b.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,s]}var Gee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=Gee.reduce((e,t)=>{const n=jc(`Primitive.${t}`),s=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function gA(e,t){e&&ad.flushSync(()=>e.dispatchEvent(t))}function Ds(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Kee(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Yee="DismissableLayer",BC="dismissableLayer.update",Qee="dismissableLayer.pointerDownOutside",Xee="dismissableLayer.focusOutside",iM,N5=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),od=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(N5),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),x=Qt(t,P=>f(P)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),j=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=j>=N,C=Zee(P=>{const E=P.target,M=[...u.branches].some($=>$.contains(E));!_||M||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},m),A=ete(P=>{const E=P.target;[...u.branches].some($=>$.contains(E))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},m);return Kee(P=>{j===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(iM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),aM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=iM)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),aM())},[d,u]),w.useEffect(()=>{const P=()=>g({});return document.addEventListener(BC,P),()=>document.removeEventListener(BC,P)},[]),r.jsx(st.div,{...c,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,A.onFocusCapture),onBlurCapture:He(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,C.onPointerDownCapture)})});od.displayName=Yee;var Jee="DismissableLayerBranch",S5=w.forwardRef((e,t)=>{const n=w.useContext(N5),s=w.useRef(null),i=Qt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(st.div,{...e,ref:i})});S5.displayName=Jee;function Zee(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){C5(Qee,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function ete(e,t=globalThis==null?void 0:globalThis.document){const n=Ds(e),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&C5(Xee,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function aM(){const e=new CustomEvent(BC);document.dispatchEvent(e)}function C5(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?gA(i,a):i.dispatchEvent(a)}var tte=od,nte=S5,Nr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},rte="Portal",Ff=w.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=w.useState(!1);Nr(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?j5.createPortal(r.jsx(st.div,{...s,ref:t}),o):null});Ff.displayName=rte;function ste(e,t){return w.useReducer((n,s)=>t[n][s]??n,e)}var ei=e=>{const{present:t,children:n}=e,s=ite(t),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=Qt(s.ref,ate(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};ei.displayName="Presence";function ite(e){const[t,n]=w.useState(),s=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ste(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Ux(s.current);a.current=l==="mounted"?u:"none"},[l]),Nr(()=>{const u=s.current,d=i.current;if(d!==e){const m=a.current,g=Ux(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Nr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Ux(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=g=>{g.target===t&&(a.current=Ux(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Ux(e){return(e==null?void 0:e.animationName)||"none"}function ate(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ote=CP[" useInsertionEffect ".trim().toString()]||Nr;function po({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=lte({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=w.useCallback(d=>{var f;if(l){const m=cte(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function lte({defaultProp:e,onChange:t}){const[n,s]=w.useState(e),i=w.useRef(n),a=w.useRef(t);return ote(()=>{a.current=t},[t]),w.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function cte(e){return typeof e=="function"}var _5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ute="VisuallyHidden",ib=w.forwardRef((e,t)=>r.jsx(st.span,{...e,ref:t,style:{..._5,...e.style}}));ib.displayName=ute;var dte=ib,vA="ToastProvider",[xA,hte,fte]=sb("Toast"),[P5,d6e]=Zs("Toast",[fte]),[mte,ab]=P5(vA),A5=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vA}\`. Expected non-empty \`string\`.`),r.jsx(xA.Provider,{scope:t,children:r.jsx(mte,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};A5.displayName=vA;var E5="ToastViewport",pte=["F8"],zC="toast.viewportPause",VC="toast.viewportResume",T5=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=pte,label:i="Notifications ({hotkey})",...a}=e,o=ab(E5,n),l=hte(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Qt(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const y=N=>{var b;s.length!==0&&s.every(_=>N[_]||N.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),w.useEffect(()=>{const y=c.current,N=f.current;if(x&&y&&N){const j=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(zC);N.dispatchEvent(A),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(VC);N.dispatchEvent(A),o.isClosePausedRef.current=!1}},_=A=>{!y.contains(A.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",j),y.addEventListener("focusout",_),y.addEventListener("pointermove",j),y.addEventListener("pointerleave",C),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",j),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",j),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:y})=>{const j=l().map(b=>{const _=b.ref.current,C=[_,...Ate(_)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?j.reverse():j).flat()},[l]);return w.useEffect(()=>{const y=f.current;if(y){const N=j=>{var C,A,P;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const E=document.activeElement,M=j.shiftKey;if(j.target===y&&M){(C=u.current)==null||C.focus();return}const O=v({tabbingDirection:M?"backwards":"forwards"}),L=O.findIndex(z=>z===E);WN(O.slice(L+1))?j.preventDefault():M?(A=u.current)==null||A.focus():(P=d.current)==null||P.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,v]),r.jsxs(nte,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(UC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});WN(y)}}),r.jsx(xA.Slot,{scope:n,children:r.jsx(st.ol,{tabIndex:-1,...a,ref:m})}),x&&r.jsx(UC,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});WN(y)}})]})});T5.displayName=E5;var k5="ToastFocusProxy",UC=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=ab(k5,n);return r.jsx(ib,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});UC.displayName=k5;var sv="Toast",gte="toast.swipeStart",vte="toast.swipeMove",xte="toast.swipeCancel",yte="toast.swipeEnd",O5=w.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=po({prop:s,defaultProp:i??!0,onChange:a,caller:sv});return r.jsx(ei,{present:n||l,children:r.jsx(wte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ds(e.onPause),onResume:Ds(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});O5.displayName=sv;var[jte,bte]=P5(sv,{onClose(){}}),wte=w.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...x}=e,v=ab(sv,n),[y,N]=w.useState(null),j=Qt(t,z=>N(z)),b=w.useRef(null),_=w.useRef(null),C=i||v.duration,A=w.useRef(0),P=w.useRef(C),E=w.useRef(0),{onToastAdd:M,onToastRemove:$}=v,k=Ds(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=v.viewport)==null||J.focus()),o()}),O=w.useCallback(z=>{!z||z===1/0||(window.clearTimeout(E.current),A.current=new Date().getTime(),E.current=window.setTimeout(k,z))},[k]);w.useEffect(()=>{const z=v.viewport;if(z){const J=()=>{O(P.current),u==null||u()},H=()=>{const oe=new Date().getTime()-A.current;P.current=P.current-oe,window.clearTimeout(E.current),c==null||c()};return z.addEventListener(zC,H),z.addEventListener(VC,J),()=>{z.removeEventListener(zC,H),z.removeEventListener(VC,J)}}},[v.viewport,C,c,u,O]),w.useEffect(()=>{a&&!v.isClosePausedRef.current&&O(C)},[a,C,v.isClosePausedRef,O]),w.useEffect(()=>(M(),()=>$()),[M,$]);const L=w.useMemo(()=>y?F5(y):null,[y]);return v.viewport?r.jsxs(r.Fragment,{children:[L&&r.jsx(Nte,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),r.jsx(jte,{scope:n,onClose:k,children:ad.createPortal(r.jsx(xA.ItemSlot,{scope:n,children:r.jsx(tte,{asChild:!0,onEscapeKeyDown:He(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(st.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,z=>{z.key==="Escape"&&(l==null||l(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:He(e.onPointerDown,z=>{z.button===0&&(b.current={x:z.clientX,y:z.clientY})}),onPointerMove:He(e.onPointerMove,z=>{if(!b.current)return;const J=z.clientX-b.current.x,H=z.clientY-b.current.y,oe=!!_.current,Q=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ae=Q?D(0,J):0,pe=Q?0:D(0,H),te=z.pointerType==="touch"?10:2,Z={x:ae,y:pe},ne={originalEvent:z,delta:Z};oe?(_.current=Z,qx(vte,f,ne,{discrete:!1})):oM(Z,v.swipeDirection,te)?(_.current=Z,qx(gte,d,ne,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(J)>te||Math.abs(H)>te)&&(b.current=null)}),onPointerUp:He(e.onPointerUp,z=>{const J=_.current,H=z.target;if(H.hasPointerCapture(z.pointerId)&&H.releasePointerCapture(z.pointerId),_.current=null,b.current=null,J){const oe=z.currentTarget,Q={originalEvent:z,delta:J};oM(J,v.swipeDirection,v.swipeThreshold)?qx(yte,g,Q,{discrete:!0}):qx(xte,m,Q,{discrete:!0}),oe.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Nte=e=>{const{__scopeToast:t,children:n,...s}=e,i=ab(sv,t),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return _te(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Ff,{asChild:!0,children:r.jsx(ib,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},Ste="ToastTitle",D5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});D5.displayName=Ste;var Cte="ToastDescription",M5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});M5.displayName=Cte;var I5="ToastAction",$5=w.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(L5,{altText:n,asChild:!0,children:r.jsx(yA,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${I5}\`. Expected non-empty \`string\`.`),null)});$5.displayName=I5;var R5="ToastClose",yA=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=bte(R5,n);return r.jsx(L5,{asChild:!0,children:r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,i.onClose)})})});yA.displayName=R5;var L5=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(st.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function F5(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Pte(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...F5(s))}}),t}function qx(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?gA(i,a):i.dispatchEvent(a)}var oM=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function _te(e=()=>{}){const t=Ds(e);Nr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function Pte(e){return e.nodeType===e.ELEMENT_NODE}function Ate(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function WN(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Ete=A5,B5=T5,z5=O5,V5=D5,U5=M5,q5=$5,W5=yA;function H5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=H5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Et(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=H5(e))&&(s&&(s+=" "),s+=t);return s}const lM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cM=Et,iv=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return cM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=lM(d)||lM(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return cM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G5=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...kte,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:G5("lucide",i),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(Ote,{ref:a,iconNode:t,className:G5(`lucide-${Tte(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=Ye("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=Ye("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Ye("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=Ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Ye("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ye("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ye("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ye("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=Ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=Ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ye("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=Ye("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ye("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Ye("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ye("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Ye("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=Ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),SA="-",nne=e=>{const t=sne(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(SA);return l[0]===""&&l.length!==1&&l.shift(),J5(l,t)||rne(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},J5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?J5(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(SA);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},fM=/^\[(.+)\]$/,rne=e=>{if(fM.test(e)){const t=fM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},sne=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return ane(Object.entries(e.classGroups),n).forEach(([a,o])=>{GC(o,s,a,t)}),s},GC=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:mM(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(ine(i)){GC(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{GC(o,mM(t,a),n,s)})})},mM=(e,t)=>{let n=e;return t.split(SA).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},ine=e=>e.isThemeGetter,ane=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,one=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},Z5="!",lne=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let N=l[y];if(u===0){if(N===i&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(N==="/"){f=y;continue}}N==="["?u++:N==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(Z5),x=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},cne=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},une=e=>({cache:one(e.cacheSize),parseClassName:lne(e),...nne(e)}),dne=/\s+/,hne=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(dne);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=s(x?m.substring(0,g):m);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=cne(d).join(":"),N=f?y+Z5:y,j=N+v;if(a.includes(j))continue;a.push(j);const b=i(v,x);for(let _=0;_<b.length;++_){const C=b[_];a.push(N+C)}l=u+(l.length>0?" "+l:l)}return l};function fne(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=e6(t))&&(s&&(s+=" "),s+=n);return s}const e6=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=e6(e[s]))&&(n&&(n+=" "),n+=t);return n};function mne(e,...t){let n,s,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=une(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=hne(c,n);return i(c,d),d}return function(){return a(fne.apply(null,arguments))}}const Ln=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},t6=/^\[(?:([a-z-]+):)?(.+)\]$/i,pne=/^\d+\/\d+$/,gne=new Set(["px","full","screen"]),vne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oo=e=>Ph(e)||gne.has(e)||pne.test(e),Tl=e=>Vf(e,"length",Ene),Ph=e=>!!e&&!Number.isNaN(Number(e)),GN=e=>Vf(e,"number",Ph),Um=e=>!!e&&Number.isInteger(Number(e)),wne=e=>e.endsWith("%")&&Ph(e.slice(0,-1)),Lt=e=>t6.test(e),kl=e=>vne.test(e),Nne=new Set(["length","size","percentage"]),Sne=e=>Vf(e,Nne,n6),Cne=e=>Vf(e,"position",n6),_ne=new Set(["image","url"]),Pne=e=>Vf(e,_ne,kne),Ane=e=>Vf(e,"",Tne),qm=()=>!0,Vf=(e,t,n)=>{const s=t6.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},Ene=e=>xne.test(e)&&!yne.test(e),n6=()=>!1,Tne=e=>jne.test(e),kne=e=>bne.test(e),One=()=>{const e=Ln("colors"),t=Ln("spacing"),n=Ln("blur"),s=Ln("brightness"),i=Ln("borderColor"),a=Ln("borderRadius"),o=Ln("borderSpacing"),l=Ln("borderWidth"),c=Ln("contrast"),u=Ln("grayscale"),d=Ln("hueRotate"),f=Ln("invert"),m=Ln("gap"),g=Ln("gradientColorStops"),x=Ln("gradientColorStopPositions"),v=Ln("inset"),y=Ln("margin"),N=Ln("opacity"),j=Ln("padding"),b=Ln("saturate"),_=Ln("scale"),C=Ln("sepia"),A=Ln("skew"),P=Ln("space"),E=Ln("translate"),M=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Lt,t],O=()=>[Lt,t],L=()=>["",Oo,Tl],z=()=>["auto",Ph,Lt],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Lt],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[Ph,Lt];return{cacheSize:500,separator:":",theme:{colors:[qm],spacing:[Oo,Tl],blur:["none","",kl,Lt],brightness:pe(),borderColor:[e],borderRadius:["none","","full",kl,Lt],borderSpacing:O(),borderWidth:L(),contrast:pe(),grayscale:D(),hueRotate:pe(),invert:D(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[wne,Tl],inset:k(),margin:k(),opacity:pe(),padding:O(),saturate:pe(),scale:pe(),sepia:D(),skew:pe(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[kl]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Lt]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Um,Lt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Um,Lt]}],"grid-cols":[{"grid-cols":[qm]}],"col-start-end":[{col:["auto",{span:["full",Um,Lt]},Lt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[qm]}],"row-start-end":[{row:["auto",{span:[Um,Lt]},Lt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[kl]},kl]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kl,Tl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",GN]}],"font-family":[{font:[qm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Ph,GN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oo,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oo,Tl]}],"underline-offset":[{"underline-offset":["auto",Oo,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Cne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Oo,Lt]}],"outline-w":[{outline:[Oo,Tl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Oo,Tl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kl,Ane]}],"shadow-color":[{shadow:[qm]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kl,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Um,Lt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Oo,Tl,GN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dne=mne(One);function Ze(...e){return Dne(Et(e))}function nf(e){if(!e)return"Âge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let s=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();if((i<0||i===0&&n.getDate()<t.getDate())&&(s--,i+=12),s===0){if(i===0){const a=Math.floor((n.getTime()-t.getTime())/864e5);return`${a} jour${a>1?"s":""}`}return`${i} mois`}else return i===0?`${s} an${s>1?"s":""}`:`${s} an${s>1?"s":""} et ${i} mois`}function co(e){if(!e)return"Non renseigné";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const Mne=Ete,r6=w.forwardRef(({className:e,...t},n)=>r.jsx(B5,{ref:n,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));r6.displayName=B5.displayName;const Ine=iv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),s6=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(z5,{ref:s,className:Ze(Ine({variant:t}),e),...n}));s6.displayName=z5.displayName;const $ne=w.forwardRef(({className:e,...t},n)=>r.jsx(q5,{ref:n,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$ne.displayName=q5.displayName;const i6=w.forwardRef(({className:e,...t},n)=>r.jsx(W5,{ref:n,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(lb,{className:"h-4 w-4"})}));i6.displayName=W5.displayName;const a6=w.forwardRef(({className:e,...t},n)=>r.jsx(V5,{ref:n,className:Ze("text-sm font-semibold",e),...t}));a6.displayName=V5.displayName;const o6=w.forwardRef(({className:e,...t},n)=>r.jsx(U5,{ref:n,className:Ze("text-sm opacity-90",e),...t}));o6.displayName=U5.displayName;function Rne(){const{toasts:e}=Ft();return r.jsxs(Mne,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(s6,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(a6,{children:n}),s&&r.jsx(o6,{children:s})]}),i,r.jsx(i6,{})]},t)}),r.jsx(r6,{})]})}var pM=["light","dark"],Lne="(prefers-color-scheme: dark)",Fne=w.createContext(void 0),Bne={setTheme:e=>{},themes:[]},zne=()=>{var e;return(e=w.useContext(Fne))!=null?e:Bne};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?pM.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,v=!1,y=!0)=>{let N=o?o[x]:x,j=v?x+"|| ''":`'${N}'`,b="";return i&&y&&!v&&pM.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?v||N?b+=`c.add(${j})`:b+="null":N&&(b+=`d[s](n,${j})`),b},g=e?`!function(){${d}${m(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Lne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var Vne=e=>{switch(e){case"success":return Wne;case"info":return Gne;case"warning":return Hne;case"error":return Kne;default:return null}},Une=Array(12).fill(0),qne=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},Une.map((n,s)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Wne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Hne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Gne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Kne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Yne=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Qne=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},KC=1,Xne=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:KC++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0,a,o=s.then(async c=>{if(a=["resolve",c],U.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Zne(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||KC++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ws=new Xne,Jne=(e,t)=>{let n=(t==null?void 0:t.id)||KC++;return Ws.addToast({title:e,...t,id:n}),n},Zne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ere=Jne,tre=()=>Ws.toasts,nre=()=>Ws.getActiveToasts();Object.assign(ere,{success:Ws.success,info:Ws.info,warning:Ws.warning,error:Ws.error,custom:Ws.custom,message:Ws.message,promise:Ws.promise,dismiss:Ws.dismiss,loading:Ws.loading},{getHistory:tre,getToasts:nre});function rre(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}rre(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wx(e){return e.label!==void 0}var sre=3,ire="32px",are="16px",gM=4e3,ore=356,lre=14,cre=20,ure=200;function da(...e){return e.filter(Boolean).join(" ")}function dre(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var hre=e=>{var t,n,s,i,a,o,l,c,u,d,f;let{invert:m,toast:g,unstyled:x,interacting:v,setHeights:y,visibleToasts:N,heights:j,index:b,toasts:_,expanded:C,removeToast:A,defaultRichColors:P,closeButton:E,style:M,cancelButtonStyle:$,actionButtonStyle:k,className:O="",descriptionClassName:L="",duration:z,position:J,gap:H,loadingIcon:oe,expandByDefault:Q,classNames:D,icons:ae,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:te}=e,[Z,ne]=U.useState(null),[xe,ye]=U.useState(null),[se,F]=U.useState(!1),[Y,ee]=U.useState(!1),[G,I]=U.useState(!1),[ve,we]=U.useState(!1),[Fe,Be]=U.useState(!1),[it,lt]=U.useState(0),[ft,Ne]=U.useState(0),Ge=U.useRef(g.duration||z||gM),Ke=U.useRef(null),qt=U.useRef(null),Yn=b===0,Tt=b+1<=N,Nn=g.type,ur=g.dismissible!==!1,Qn=g.className||"",gs=g.descriptionClassName||"",Se=U.useMemo(()=>j.findIndex(bt=>bt.toastId===g.id)||0,[j,g.id]),Vt=U.useMemo(()=>{var bt;return(bt=g.closeButton)!=null?bt:E},[g.closeButton,E]),tt=U.useMemo(()=>g.duration||z||gM,[g.duration,z]),mt=U.useRef(0),rn=U.useRef(0),is=U.useRef(0),Yr=U.useRef(null),[Rs,xl]=J.split("-"),ce=U.useMemo(()=>j.reduce((bt,an,gn)=>gn>=Se?bt:bt+an.height,0),[j,Se]),qe=Qne(),Le=g.invert||m,Tn=Nn==="loading";rn.current=U.useMemo(()=>Se*H+ce,[Se,ce]),U.useEffect(()=>{Ge.current=tt},[tt]),U.useEffect(()=>{F(!0)},[]),U.useEffect(()=>{let bt=qt.current;if(bt){let an=bt.getBoundingClientRect().height;return Ne(an),y(gn=>[{toastId:g.id,height:an,position:g.position},...gn]),()=>y(gn=>gn.filter(vs=>vs.toastId!==g.id))}},[y,g.id]),U.useLayoutEffect(()=>{if(!se)return;let bt=qt.current,an=bt.style.height;bt.style.height="auto";let gn=bt.getBoundingClientRect().height;bt.style.height=an,Ne(gn),y(vs=>vs.find(xs=>xs.toastId===g.id)?vs.map(xs=>xs.toastId===g.id?{...xs,height:gn}:xs):[{toastId:g.id,height:gn,position:g.position},...vs])},[se,g.title,g.description,y,g.id]);let Xn=U.useCallback(()=>{ee(!0),lt(rn.current),y(bt=>bt.filter(an=>an.toastId!==g.id)),setTimeout(()=>{A(g)},ure)},[g,A,y,rn]);U.useEffect(()=>{if(g.promise&&Nn==="loading"||g.duration===1/0||g.type==="loading")return;let bt;return C||v||te&&qe?(()=>{if(is.current<mt.current){let an=new Date().getTime()-mt.current;Ge.current=Ge.current-an}is.current=new Date().getTime()})():Ge.current!==1/0&&(mt.current=new Date().getTime(),bt=setTimeout(()=>{var an;(an=g.onAutoClose)==null||an.call(g,g),Xn()},Ge.current)),()=>clearTimeout(bt)},[C,v,g,Nn,te,qe,Xn]),U.useEffect(()=>{g.delete&&Xn()},[Xn,g.delete]);function sa(){var bt,an,gn;return ae!=null&&ae.loading?U.createElement("div",{className:da(D==null?void 0:D.loader,(bt=g==null?void 0:g.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":Nn==="loading"},ae.loading):oe?U.createElement("div",{className:da(D==null?void 0:D.loader,(an=g==null?void 0:g.classNames)==null?void 0:an.loader,"sonner-loader"),"data-visible":Nn==="loading"},oe):U.createElement(qne,{className:da(D==null?void 0:D.loader,(gn=g==null?void 0:g.classNames)==null?void 0:gn.loader),visible:Nn==="loading"})}return U.createElement("li",{tabIndex:0,ref:qt,className:da(O,Qn,D==null?void 0:D.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Nn],(n=g==null?void 0:g.classNames)==null?void 0:n[Nn]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:P,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":se,"data-promise":!!g.promise,"data-swiped":Fe,"data-removed":Y,"data-visible":Tt,"data-y-position":Rs,"data-x-position":xl,"data-index":b,"data-front":Yn,"data-swiping":G,"data-dismissible":ur,"data-type":Nn,"data-invert":Le,"data-swipe-out":ve,"data-swipe-direction":xe,"data-expanded":!!(C||Q&&se),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Y?it:rn.current}px`,"--initial-height":Q?"auto":`${ft}px`,...M,...g.style},onDragEnd:()=>{I(!1),ne(null),Yr.current=null},onPointerDown:bt=>{Tn||!ur||(Ke.current=new Date,lt(rn.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(I(!0),Yr.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,an,gn,vs;if(ve||!ur)return;Yr.current=null;let xs=Number(((bt=qt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pi=Number(((an=qt.current)==null?void 0:an.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),si=new Date().getTime()-((gn=Ke.current)==null?void 0:gn.getTime()),ys=Z==="x"?xs:Pi,Ls=Math.abs(ys)/si;if(Math.abs(ys)>=cre||Ls>.11){lt(rn.current),(vs=g.onDismiss)==null||vs.call(g,g),ye(Z==="x"?xs>0?"right":"left":Pi>0?"down":"up"),Xn(),we(!0),Be(!1);return}I(!1),ne(null)},onPointerMove:bt=>{var an,gn,vs,xs;if(!Yr.current||!ur||((an=window.getSelection())==null?void 0:an.toString().length)>0)return;let Pi=bt.clientY-Yr.current.y,si=bt.clientX-Yr.current.x,ys=(gn=e.swipeDirections)!=null?gn:dre(J);!Z&&(Math.abs(si)>1||Math.abs(Pi)>1)&&ne(Math.abs(si)>Math.abs(Pi)?"x":"y");let Ls={x:0,y:0};Z==="y"?(ys.includes("top")||ys.includes("bottom"))&&(ys.includes("top")&&Pi<0||ys.includes("bottom")&&Pi>0)&&(Ls.y=Pi):Z==="x"&&(ys.includes("left")||ys.includes("right"))&&(ys.includes("left")&&si<0||ys.includes("right")&&si>0)&&(Ls.x=si),(Math.abs(Ls.x)>0||Math.abs(Ls.y)>0)&&Be(!0),(vs=qt.current)==null||vs.style.setProperty("--swipe-amount-x",`${Ls.x}px`),(xs=qt.current)==null||xs.style.setProperty("--swipe-amount-y",`${Ls.y}px`)}},Vt&&!g.jsx?U.createElement("button",{"aria-label":pe,"data-disabled":Tn,"data-close-button":!0,onClick:Tn||!ur?()=>{}:()=>{var bt;Xn(),(bt=g.onDismiss)==null||bt.call(g,g)},className:da(D==null?void 0:D.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(a=ae==null?void 0:ae.close)!=null?a:Yne):null,g.jsx||w.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:U.createElement(U.Fragment,null,Nn||g.icon||g.promise?U.createElement("div",{"data-icon":"",className:da(D==null?void 0:D.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||sa():null,g.type!=="loading"?g.icon||(ae==null?void 0:ae[Nn])||Vne(Nn):null):null,U.createElement("div",{"data-content":"",className:da(D==null?void 0:D.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},U.createElement("div",{"data-title":"",className:da(D==null?void 0:D.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?U.createElement("div",{"data-description":"",className:da(L,gs,D==null?void 0:D.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),w.isValidElement(g.cancel)?g.cancel:g.cancel&&Wx(g.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||$,onClick:bt=>{var an,gn;Wx(g.cancel)&&ur&&((gn=(an=g.cancel).onClick)==null||gn.call(an,bt),Xn())},className:da(D==null?void 0:D.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,w.isValidElement(g.action)?g.action:g.action&&Wx(g.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:bt=>{var an,gn;Wx(g.action)&&((gn=(an=g.action).onClick)==null||gn.call(an,bt),!bt.defaultPrevented&&Xn())},className:da(D==null?void 0:D.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function vM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function fre(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?are:ire;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var mre=w.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:x=sre,toastOptions:v,dir:y=vM(),gap:N=lre,loadingIcon:j,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=e,[A,P]=U.useState([]),E=U.useMemo(()=>Array.from(new Set([s].concat(A.filter(te=>te.position).map(te=>te.position)))),[A,s]),[M,$]=U.useState([]),[k,O]=U.useState(!1),[L,z]=U.useState(!1),[J,H]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=U.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=U.useRef(null),ae=U.useRef(!1),pe=U.useCallback(te=>{P(Z=>{var ne;return(ne=Z.find(xe=>xe.id===te.id))!=null&&ne.delete||Ws.dismiss(te.id),Z.filter(({id:xe})=>xe!==te.id)})},[]);return U.useEffect(()=>Ws.subscribe(te=>{if(te.dismiss){P(Z=>Z.map(ne=>ne.id===te.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{j5.flushSync(()=>{P(Z=>{let ne=Z.findIndex(xe=>xe.id===te.id);return ne!==-1?[...Z.slice(0,ne),{...Z[ne],...te},...Z.slice(ne+1)]:[te,...Z]})})})}),[]),U.useEffect(()=>{if(d!=="system"){H(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:Z})=>{H(Z?"dark":"light")})}catch{te.addListener(({matches:ne})=>{try{H(ne?"dark":"light")}catch(xe){console.error(xe)}})}},[d]),U.useEffect(()=>{A.length<=1&&O(!1)},[A]),U.useEffect(()=>{let te=Z=>{var ne,xe;i.every(ye=>Z[ye]||Z.code===ye)&&(O(!0),(ne=oe.current)==null||ne.focus()),Z.code==="Escape"&&(document.activeElement===oe.current||(xe=oe.current)!=null&&xe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[i]),U.useEffect(()=>{if(oe.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,ae.current=!1)}},[oe.current]),U.createElement("section",{ref:t,"aria-label":`${_} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((te,Z)=>{var ne;let[xe,ye]=te.split("-");return A.length?U.createElement("ol",{key:te,dir:y==="auto"?vM():y,tabIndex:-1,ref:oe,className:l,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":xe,"data-lifted":k&&A.length>1&&!a,"data-x-position":ye,style:{"--front-toast-height":`${((ne=M[0])==null?void 0:ne.height)||0}px`,"--width":`${ore}px`,"--gap":`${N}px`,...g,...fre(c,u)},onBlur:se=>{ae.current&&!se.currentTarget.contains(se.relatedTarget)&&(ae.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,D.current=se.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},A.filter(se=>!se.position&&Z===0||se.position===te).map((se,F)=>{var Y,ee;return U.createElement(hre,{key:se.id,icons:b,index:F,toast:se,defaultRichColors:f,duration:(Y=v==null?void 0:v.duration)!=null?Y:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ee=v==null?void 0:v.closeButton)!=null?ee:o,interacting:L,position:te,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:pe,toasts:A.filter(G=>G.position==se.position),heights:M.filter(G=>G.position==se.position),setHeights:$,expandByDefault:a,gap:N,loadingIcon:j,expanded:k,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const pre=({...e})=>{const{theme:t="system"}=zne();return r.jsx(mre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var gre=CP[" useId ".trim().toString()]||(()=>{}),vre=0;function rs(e){const[t,n]=w.useState(gre());return Nr(()=>{n(s=>s??String(vre++))},[e]),t?`radix-${t}`:""}const xre=["top","right","bottom","left"],wc=Math.min,pi=Math.max,x0=Math.round,Hx=Math.floor,uo=e=>({x:e,y:e}),yre={left:"right",right:"left",bottom:"top",top:"bottom"},jre={start:"end",end:"start"};function YC(e,t,n){return pi(e,wc(t,n))}function al(e,t){return typeof e=="function"?e(t):e}function ol(e){return e.split("-")[0]}function Uf(e){return e.split("-")[1]}function CA(e){return e==="x"?"y":"x"}function _A(e){return e==="y"?"height":"width"}const bre=new Set(["top","bottom"]);function ro(e){return bre.has(ol(e))?"y":"x"}function PA(e){return CA(ro(e))}function wre(e,t,n){n===void 0&&(n=!1);const s=Uf(e),i=PA(e),a=_A(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=y0(o)),[o,y0(o)]}function Nre(e){const t=y0(e);return[QC(e),t,QC(t)]}function QC(e){return e.replace(/start|end/g,t=>jre[t])}const xM=["left","right"],yM=["right","left"],Sre=["top","bottom"],Cre=["bottom","top"];function _re(e,t,n){switch(e){case"top":case"bottom":return n?t?yM:xM:t?xM:yM;case"left":case"right":return t?Sre:Cre;default:return[]}}function Pre(e,t,n,s){const i=Uf(e);let a=_re(ol(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(QC)))),a}function y0(e){return e.replace(/left|right|bottom|top/g,t=>yre[t])}function Are(e){return{top:0,right:0,bottom:0,left:0,...e}}function l6(e){return typeof e!="number"?Are(e):{top:e,right:e,bottom:e,left:e}}function j0(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function jM(e,t,n){let{reference:s,floating:i}=e;const a=ro(t),o=PA(t),l=_A(o),c=ol(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-i.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-i.width,y:f};break;default:g={x:s.x,y:s.y}}switch(Uf(t)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const Ere=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=jM(u,s,c),m=s,g={},x=0;for(let v=0;v<l.length;v++){const{name:y,fn:N}=l[v],{x:j,y:b,data:_,reset:C}=await N({x:d,y:f,initialPlacement:s,placement:m,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=j??d,f=b??f,g={...g,[y]:{...g[y],..._}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:d,y:f}=jM(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function ng(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=al(t,e),x=l6(g),y=l[m?f==="floating"?"reference":"floating":f],N=j0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},C=j0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(N.top-C.top+x.top)/_.y,bottom:(C.bottom-N.bottom+x.bottom)/_.y,left:(N.left-C.left+x.left)/_.x,right:(C.right-N.right+x.right)/_.x}}const Tre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=al(e,t)||{};if(u==null)return{};const f=l6(d),m={x:n,y:s},g=PA(i),x=_A(g),v=await o.getDimensions(u),y=g==="y",N=y?"top":"left",j=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=a.reference[x]+a.reference[g]-m[g]-a.floating[x],C=m[g]-a.reference[g],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=A?A[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(A)))&&(P=l.floating[b]||a.floating[x]);const E=_/2-C/2,M=P/2-v[x]/2-1,$=wc(f[N],M),k=wc(f[j],M),O=$,L=P-v[x]-k,z=P/2-v[x]/2+E,J=YC(O,z,L),H=!c.arrow&&Uf(i)!=null&&z!==J&&a.reference[x]/2-(z<O?$:k)-v[x]/2<0,oe=H?z<O?z-O:z-L:0;return{[g]:m[g]+oe,data:{[g]:J,centerOffset:z-J-oe,...H&&{alignmentOffset:oe}},reset:H}}}),kre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=al(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=ol(i),j=ro(l),b=ol(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(b||!v?[y0(l)]:Nre(l)),A=x!=="none";!m&&A&&C.push(...Pre(l,v,x,_));const P=[l,...C],E=await ng(t,y),M=[];let $=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&M.push(E[N]),f){const z=wre(i,o,_);M.push(E[z[0]],E[z[1]])}if($=[...$,{placement:i,overflows:M}],!M.every(z=>z<=0)){var k,O;const z=(((k=a.flip)==null?void 0:k.index)||0)+1,J=P[z];if(J&&(!(f==="alignment"?j!==ro(J):!1)||$.every(Q=>Q.overflows[0]>0&&ro(Q.placement)===j)))return{data:{index:z,overflows:$},reset:{placement:J}};let H=(O=$.filter(oe=>oe.overflows[0]<=0).sort((oe,Q)=>oe.overflows[1]-Q.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(g){case"bestFit":{var L;const oe=(L=$.filter(Q=>{if(A){const D=ro(Q.placement);return D===j||D==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(D=>D>0).reduce((D,ae)=>D+ae,0)]).sort((Q,D)=>Q[1]-D[1])[0])==null?void 0:L[0];oe&&(H=oe);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function bM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wM(e){return xre.some(t=>e[t]>=0)}const Ore=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=al(e,t);switch(s){case"referenceHidden":{const a=await ng(t,{...i,elementContext:"reference"}),o=bM(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wM(o)}}}case"escaped":{const a=await ng(t,{...i,altBoundary:!0}),o=bM(a,n.floating);return{data:{escapedOffsets:o,escaped:wM(o)}}}default:return{}}}}},c6=new Set(["left","top"]);async function Dre(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=ol(n),l=Uf(n),c=ro(n)==="y",u=c6.has(o)?-1:1,d=a&&c?-1:1,f=al(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const Mre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Dre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Ire=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:j}=y;return{x:N,y:j}}},...c}=al(e,t),u={x:n,y:s},d=await ng(t,c),f=ro(ol(i)),m=CA(f);let g=u[m],x=u[f];if(a){const y=m==="y"?"top":"left",N=m==="y"?"bottom":"right",j=g+d[y],b=g-d[N];g=YC(j,g,b)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",j=x+d[y],b=x-d[N];x=YC(j,x,b)}const v=l.fn({...t,[m]:g,[f]:x});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},$re=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=al(e,t),d={x:n,y:s},f=ro(i),m=CA(f);let g=d[m],x=d[f];const v=al(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",_=a.reference[m]-a.floating[b]+y.mainAxis,C=a.reference[m]+a.reference[b]-y.mainAxis;g<_?g=_:g>C&&(g=C)}if(u){var N,j;const b=m==="y"?"width":"height",_=c6.has(ol(i)),C=a.reference[f]-a.floating[b]+(_&&((N=o.offset)==null?void 0:N[f])||0)+(_?0:y.crossAxis),A=a.reference[f]+a.reference[b]+(_?0:((j=o.offset)==null?void 0:j[f])||0)-(_?y.crossAxis:0);x<C?x=C:x>A&&(x=A)}return{[m]:g,[f]:x}}}},Rre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=al(e,t),d=await ng(t,u),f=ol(i),m=Uf(i),g=ro(i)==="y",{width:x,height:v}=a.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=m==="end"?"top":"bottom");const j=v-d.top-d.bottom,b=x-d.left-d.right,_=wc(v-d[y],j),C=wc(x-d[N],b),A=!t.middlewareData.shift;let P=_,E=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=j),A&&!m){const $=pi(d.left,0),k=pi(d.right,0),O=pi(d.top,0),L=pi(d.bottom,0);g?E=x-2*($!==0||k!==0?$+k:pi(d.left,d.right)):P=v-2*(O!==0||L!==0?O+L:pi(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:P});const M=await o.getDimensions(l.floating);return x!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function cb(){return typeof window<"u"}function qf(e){return u6(e)?(e.nodeName||"").toLowerCase():"#document"}function bi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xo(e){var t;return(t=(u6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function u6(e){return cb()?e instanceof Node||e instanceof bi(e).Node:!1}function Da(e){return cb()?e instanceof Element||e instanceof bi(e).Element:!1}function go(e){return cb()?e instanceof HTMLElement||e instanceof bi(e).HTMLElement:!1}function NM(e){return!cb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bi(e).ShadowRoot}const Lre=new Set(["inline","contents"]);function av(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Lre.has(i)}const Fre=new Set(["table","td","th"]);function Bre(e){return Fre.has(qf(e))}const zre=[":popover-open",":modal"];function ub(e){return zre.some(t=>{try{return e.matches(t)}catch{return!1}})}const Vre=["transform","translate","scale","rotate","perspective"],Ure=["transform","translate","scale","rotate","perspective","filter"],qre=["paint","layout","strict","content"];function AA(e){const t=EA(),n=Da(e)?Ma(e):e;return Vre.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ure.some(s=>(n.willChange||"").includes(s))||qre.some(s=>(n.contain||"").includes(s))}function Wre(e){let t=Nc(e);for(;go(t)&&!rf(t);){if(AA(t))return t;if(ub(t))return null;t=Nc(t)}return null}function EA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hre=new Set(["html","body","#document"]);function rf(e){return Hre.has(qf(e))}function Ma(e){return bi(e).getComputedStyle(e)}function db(e){return Da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nc(e){if(qf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||NM(e)&&e.host||xo(e);return NM(t)?t.host:t}function d6(e){const t=Nc(e);return rf(t)?e.ownerDocument?e.ownerDocument.body:e.body:go(t)&&av(t)?t:d6(t)}function rg(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=d6(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=bi(i);if(a){const l=XC(o);return t.concat(o,o.visualViewport||[],av(i)?i:[],l&&n?rg(l):[])}return t.concat(i,rg(i,[],n))}function XC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function h6(e){const t=Ma(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=go(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=x0(n)!==a||x0(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function TA(e){return Da(e)?e:e.contextElement}function Ah(e){const t=TA(e);if(!go(t))return uo(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=h6(t);let o=(a?x0(n.width):n.width)/s,l=(a?x0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Gre=uo(0);function f6(e){const t=bi(e);return!EA()||!t.visualViewport?Gre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Kre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==bi(e)?!1:t}function Vu(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=TA(e);let o=uo(1);t&&(s?Da(s)&&(o=Ah(s)):o=Ah(e));const l=Kre(a,n,s)?f6(a):uo(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=bi(a),g=s&&Da(s)?bi(s):s;let x=m,v=XC(x);for(;v&&s&&g!==x;){const y=Ah(v),N=v.getBoundingClientRect(),j=Ma(v),b=N.left+(v.clientLeft+parseFloat(j.paddingLeft))*y.x,_=N.top+(v.clientTop+parseFloat(j.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=_,x=bi(v),v=XC(x)}}return j0({width:d,height:f,x:c,y:u})}function kA(e,t){const n=db(e).scrollLeft;return t?t.left+n:Vu(xo(e)).left+n}function m6(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:kA(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function Yre(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=xo(s),l=t?ub(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=uo(1);const d=uo(0),f=go(s);if((f||!f&&!a)&&((qf(s)!=="body"||av(o))&&(c=db(s)),go(s))){const g=Vu(s);u=Ah(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=o&&!f&&!a?m6(o,c,!0):uo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Qre(e){return Array.from(e.getClientRects())}function Xre(e){const t=xo(e),n=db(e),s=e.ownerDocument.body,i=pi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=pi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+kA(e);const l=-n.scrollTop;return Ma(s).direction==="rtl"&&(o+=pi(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function Jre(e,t){const n=bi(e),s=xo(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=EA();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const Zre=new Set(["absolute","fixed"]);function ese(e,t){const n=Vu(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=go(e)?Ah(e):uo(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function SM(e,t,n){let s;if(t==="viewport")s=Jre(e,n);else if(t==="document")s=Xre(xo(e));else if(Da(t))s=ese(t,n);else{const i=f6(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return j0(s)}function p6(e,t){const n=Nc(e);return n===t||!Da(n)||rf(n)?!1:Ma(n).position==="fixed"||p6(n,t)}function tse(e,t){const n=t.get(e);if(n)return n;let s=rg(e,[],!1).filter(l=>Da(l)&&qf(l)!=="body"),i=null;const a=Ma(e).position==="fixed";let o=a?Nc(e):e;for(;Da(o)&&!rf(o);){const l=Ma(o),c=AA(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&Zre.has(i.position)||av(o)&&!c&&p6(e,o))?s=s.filter(d=>d!==o):i=l,o=Nc(o)}return t.set(e,s),s}function nse(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?ub(t)?[]:tse(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=SM(t,d,i);return u.top=pi(f.top,u.top),u.right=wc(f.right,u.right),u.bottom=wc(f.bottom,u.bottom),u.left=pi(f.left,u.left),u},SM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function rse(e){const{width:t,height:n}=h6(e);return{width:t,height:n}}function sse(e,t,n){const s=go(t),i=xo(t),a=n==="fixed",o=Vu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=uo(0);function u(){c.x=kA(i)}if(s||!s&&!a)if((qf(t)!=="body"||av(i))&&(l=db(t)),s){const g=Vu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?m6(i,l):uo(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function KN(e){return Ma(e).position==="static"}function CM(e,t){if(!go(e)||Ma(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xo(e)===n&&(n=n.ownerDocument.body),n}function g6(e,t){const n=bi(e);if(ub(e))return n;if(!go(e)){let i=Nc(e);for(;i&&!rf(i);){if(Da(i)&&!KN(i))return i;i=Nc(i)}return n}let s=CM(e,t);for(;s&&Bre(s)&&KN(s);)s=CM(s,t);return s&&rf(s)&&KN(s)&&!AA(s)?n:s||Wre(e)||n}const ise=async function(e){const t=this.getOffsetParent||g6,n=this.getDimensions,s=await n(e.floating);return{reference:sse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function ase(e){return Ma(e).direction==="rtl"}const ose={convertOffsetParentRelativeRectToViewportRelativeRect:Yre,getDocumentElement:xo,getClippingRect:nse,getOffsetParent:g6,getElementRects:ise,getClientRects:Qre,getDimensions:rse,getScale:Ah,isElement:Da,isRTL:ase};function v6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lse(e,t){let n=null,s;const i=xo(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const x=Hx(f),v=Hx(i.clientWidth-(d+m)),y=Hx(i.clientHeight-(f+g)),N=Hx(d),b={rootMargin:-x+"px "+-v+"px "+-y+"px "+-N+"px",threshold:pi(0,wc(1,c))||1};let _=!0;function C(A){const P=A[0].intersectionRatio;if(P!==c){if(!_)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!v6(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return o(!0),a}function cse(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=TA(e),d=i||a?[...u?rg(u):[],...rg(t)]:[];d.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=u&&l?lse(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(N=>{let[j]=N;j&&j.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let x,v=c?Vu(e):null;c&&y();function y(){const N=Vu(e);v&&!v6(v,N)&&n(),v=N,x=requestAnimationFrame(y)}return n(),()=>{var N;d.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),f==null||f(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const use=Mre,dse=Ire,hse=kre,fse=Rre,mse=Ore,_M=Tre,pse=$re,gse=(e,t,n)=>{const s=new Map,i={platform:ose,...n},a={...i.platform,_c:s};return Ere(e,t,{...i,platform:a})};var vse=typeof document<"u",xse=function(){},By=vse?w.useLayoutEffect:xse;function b0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!b0(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!b0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function x6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PM(e,t){const n=x6(e);return Math.round(t*n)/n}function YN(e){const t=w.useRef(e);return By(()=>{t.current=e}),t}function yse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(s);b0(m,s)||g(s);const[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useCallback(Q=>{Q!==A.current&&(A.current=Q,v(Q))},[]),b=w.useCallback(Q=>{Q!==P.current&&(P.current=Q,N(Q))},[]),_=a||x,C=o||y,A=w.useRef(null),P=w.useRef(null),E=w.useRef(d),M=c!=null,$=YN(c),k=YN(i),O=YN(u),L=w.useCallback(()=>{if(!A.current||!P.current)return;const Q={placement:t,strategy:n,middleware:m};k.current&&(Q.platform=k.current),gse(A.current,P.current,Q).then(D=>{const ae={...D,isPositioned:O.current!==!1};z.current&&!b0(E.current,ae)&&(E.current=ae,ad.flushSync(()=>{f(ae)}))})},[m,t,n,k,O]);By(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(Q=>({...Q,isPositioned:!1})))},[u]);const z=w.useRef(!1);By(()=>(z.current=!0,()=>{z.current=!1}),[]),By(()=>{if(_&&(A.current=_),C&&(P.current=C),_&&C){if($.current)return $.current(_,C,L);L()}},[_,C,L,$,M]);const J=w.useMemo(()=>({reference:A,floating:P,setReference:j,setFloating:b}),[j,b]),H=w.useMemo(()=>({reference:_,floating:C}),[_,C]),oe=w.useMemo(()=>{const Q={position:n,left:0,top:0};if(!H.floating)return Q;const D=PM(H.floating,d.x),ae=PM(H.floating,d.y);return l?{...Q,transform:"translate("+D+"px, "+ae+"px)",...x6(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:ae}},[n,l,H.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:L,refs:J,elements:H,floatingStyles:oe}),[d,L,J,H,oe])}const jse=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?_M({element:s.current,padding:i}).fn(n):{}:s?_M({element:s,padding:i}).fn(n):{}}}},bse=(e,t)=>({...use(e),options:[e,t]}),wse=(e,t)=>({...dse(e),options:[e,t]}),Nse=(e,t)=>({...pse(e),options:[e,t]}),Sse=(e,t)=>({...hse(e),options:[e,t]}),Cse=(e,t)=>({...fse(e),options:[e,t]}),_se=(e,t)=>({...mse(e),options:[e,t]}),Pse=(e,t)=>({...jse(e),options:[e,t]});var Ase="Arrow",y6=w.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(st.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});y6.displayName=Ase;var Ese=y6;function OA(e){const[t,n]=w.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var DA="Popper",[j6,Ec]=Zs(DA),[Tse,b6]=j6(DA),w6=e=>{const{__scopePopper:t,children:n}=e,[s,i]=w.useState(null);return r.jsx(Tse,{scope:t,anchor:s,onAnchorChange:i,children:n})};w6.displayName=DA;var N6="PopperAnchor",S6=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=b6(N6,n),o=w.useRef(null),l=Qt(t,o);return w.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(st.div,{...i,ref:l})});S6.displayName=N6;var MA="PopperContent",[kse,Ose]=j6(MA),C6=w.forwardRef((e,t)=>{var se,F,Y,ee,G,I;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=b6(MA,n),[N,j]=w.useState(null),b=Qt(t,ve=>j(ve)),[_,C]=w.useState(null),A=OA(_),P=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,M=s+(a!=="center"?"-"+a:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,L={padding:$,boundary:k.filter(Mse),altBoundary:O},{refs:z,floatingStyles:J,placement:H,isPositioned:oe,middlewareData:Q}=yse({strategy:"fixed",placement:M,whileElementsMounted:(...ve)=>cse(...ve,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[bse({mainAxis:i+E,alignmentAxis:o}),c&&wse({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Nse():void 0,...L}),c&&Sse({...L}),Cse({...L,apply:({elements:ve,rects:we,availableWidth:Fe,availableHeight:Be})=>{const{width:it,height:lt}=we.reference,ft=ve.floating.style;ft.setProperty("--radix-popper-available-width",`${Fe}px`),ft.setProperty("--radix-popper-available-height",`${Be}px`),ft.setProperty("--radix-popper-anchor-width",`${it}px`),ft.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),_&&Pse({element:_,padding:l}),Ise({arrowWidth:P,arrowHeight:E}),m&&_se({strategy:"referenceHidden",...L})]}),[D,ae]=A6(H),pe=Ds(x);Nr(()=>{oe&&(pe==null||pe())},[oe,pe]);const te=(se=Q.arrow)==null?void 0:se.x,Z=(F=Q.arrow)==null?void 0:F.y,ne=((Y=Q.arrow)==null?void 0:Y.centerOffset)!==0,[xe,ye]=w.useState();return Nr(()=>{N&&ye(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:oe?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ee=Q.transformOrigin)==null?void 0:ee.x,(G=Q.transformOrigin)==null?void 0:G.y].join(" "),...((I=Q.hide)==null?void 0:I.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(kse,{scope:n,placedSide:D,onArrowChange:C,arrowX:te,arrowY:Z,shouldHideArrow:ne,children:r.jsx(st.div,{"data-side":D,"data-align":ae,...v,ref:b,style:{...v.style,animation:oe?void 0:"none"}})})})});C6.displayName=MA;var _6="PopperArrow",Dse={top:"bottom",right:"left",bottom:"top",left:"right"},P6=w.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=Ose(_6,s),o=Dse[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(Ese,{...i,ref:n,style:{...i.style,display:"block"}})})});P6.displayName=_6;function Mse(e){return e!==null}var Ise=e=>({name:"transformOrigin",options:e,fn(t){var y,N,j;const{placement:n,rects:s,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=A6(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,g=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?f:`${m}px`,v=`${-c}px`):u==="top"?(x=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?f:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,v=o?f:`${g}px`),{data:{x,y:v}}}});function A6(e){const[t,n="center"]=e.split("-");return[t,n]}var IA=w6,ov=S6,hb=C6,fb=P6,[mb,h6e]=Zs("Tooltip",[Ec]),$A=Ec(),E6="TooltipProvider",$se=700,AM="tooltip.open",[Rse,T6]=mb(E6),k6=e=>{const{__scopeTooltip:t,delayDuration:n=$se,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),r.jsx(Rse,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};k6.displayName=E6;var O6="Tooltip",[f6e,pb]=mb(O6),JC="TooltipTrigger",Lse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=pb(JC,n),a=T6(JC,n),o=$A(n),l=w.useRef(null),c=Qt(t,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(ov,{asChild:!0,...o,children:r.jsx(st.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:He(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:He(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:He(e.onBlur,i.onClose),onClick:He(e.onClick,i.onClose)})})});Lse.displayName=JC;var Fse="TooltipPortal",[m6e,Bse]=mb(Fse,{forceMount:void 0}),sf="TooltipContent",D6=w.forwardRef((e,t)=>{const n=Bse(sf,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=pb(sf,e.__scopeTooltip);return r.jsx(ei,{present:s||o.open,children:o.disableHoverableContent?r.jsx(M6,{side:i,...a,ref:t}):r.jsx(zse,{side:i,...a,ref:t})})}),zse=w.forwardRef((e,t)=>{const n=pb(sf,e.__scopeTooltip),s=T6(sf,e.__scopeTooltip),i=w.useRef(null),a=Qt(t,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,m=w.useCallback(()=>{l(null),f(!1)},[f]),g=w.useCallback((x,v)=>{const y=x.currentTarget,N={x:x.clientX,y:x.clientY},j=Hse(N,y.getBoundingClientRect()),b=Gse(N,j),_=Kse(v.getBoundingClientRect()),C=Qse([...b,..._]);l(C),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const x=y=>g(y,d),v=y=>g(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),w.useEffect(()=>{if(o){const x=v=>{const y=v.target,N={x:v.clientX,y:v.clientY},j=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!Yse(N,o);j?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),r.jsx(M6,{...e,ref:a})}),[Vse,Use]=mb(O6,{isInside:!1}),qse=Uee("TooltipContent"),M6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=pb(sf,n),u=$A(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(AM,d),()=>document.removeEventListener(AM,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),r.jsx(od,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(hb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(qse,{children:s}),r.jsx(Vse,{scope:n,isInside:!0,children:r.jsx(dte,{id:c.contentId,role:"tooltip",children:i||s})})]})})});D6.displayName=sf;var I6="TooltipArrow",Wse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=$A(n);return Use(I6,n).isInside?null:r.jsx(fb,{...i,...s,ref:t})});Wse.displayName=I6;function Hse(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Gse(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Kse(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function Yse(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function Qse(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Xse(t)}function Xse(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Jse=k6,$6=D6;const Zse=Jse,eie=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx($6,{ref:s,sideOffset:t,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));eie.displayName=$6.displayName;var Wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tie={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Wl,jP,X3,nie=(X3=class{constructor(){ut(this,Wl,tie);ut(this,jP,!1)}setTimeoutProvider(e){Xe(this,Wl,e)}setTimeout(e,t){return ue(this,Wl).setTimeout(e,t)}clearTimeout(e){ue(this,Wl).clearTimeout(e)}setInterval(e,t){return ue(this,Wl).setInterval(e,t)}clearInterval(e){ue(this,Wl).clearInterval(e)}},Wl=new WeakMap,jP=new WeakMap,X3),gu=new nie;function rie(e){setTimeout(e,0)}var Uu=typeof window>"u"||"Deno"in globalThis;function Ps(){}function sie(e,t){return typeof e=="function"?e(t):e}function ZC(e){return typeof e=="number"&&e>=0&&e!==1/0}function R6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mc(e,t){return typeof e=="function"?e(t):e}function Bi(e,t){return typeof e=="function"?e(t):e}function EM(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==RA(o,t.options))return!1}else if(!sg(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function TM(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(qu(t.options.mutationKey)!==qu(a))return!1}else if(!sg(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function RA(e,t){return((t==null?void 0:t.queryKeyHashFn)||qu)(e)}function qu(e){return JSON.stringify(e,(t,n)=>e2(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function sg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>sg(e[n],t[n])):!1}var iie=Object.prototype.hasOwnProperty;function L6(e,t){if(e===t)return e;const n=kM(e)&&kM(t);if(!n&&!(e2(e)&&e2(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<i:iie.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const g=L6(f,m);l[d]=g,g===f&&c++}return i===o&&c===i?e:l}function w0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function kM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function e2(e){if(!OM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!OM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function OM(e){return Object.prototype.toString.call(e)==="[object Object]"}function aie(e){return new Promise(t=>{gu.setTimeout(t,e)})}function t2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?L6(e,t):t}function oie(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function lie(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var LA=Symbol();function F6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===LA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function B6(e,t){return typeof e=="function"?e(...t):!!e}var wu,Hl,Ih,J3,cie=(J3=class extends Wf{constructor(){super();ut(this,wu);ut(this,Hl);ut(this,Ih);Xe(this,Ih,t=>{if(!Uu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,Hl)||this.setEventListener(ue(this,Ih))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Hl))==null||t.call(this),Xe(this,Hl,void 0))}setEventListener(t){var n;Xe(this,Ih,t),(n=ue(this,Hl))==null||n.call(this),Xe(this,Hl,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ue(this,wu)!==t&&(Xe(this,wu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,wu)=="boolean"?ue(this,wu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wu=new WeakMap,Hl=new WeakMap,Ih=new WeakMap,J3),FA=new cie;function n2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var uie=rie;function die(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=uie;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var kr=die(),$h,Gl,Rh,Z3,hie=(Z3=class extends Wf{constructor(){super();ut(this,$h,!0);ut(this,Gl);ut(this,Rh);Xe(this,Rh,t=>{if(!Uu&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){ue(this,Gl)||this.setEventListener(ue(this,Rh))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Gl))==null||t.call(this),Xe(this,Gl,void 0))}setEventListener(t){var n;Xe(this,Rh,t),(n=ue(this,Gl))==null||n.call(this),Xe(this,Gl,t(this.setOnline.bind(this)))}setOnline(t){ue(this,$h)!==t&&(Xe(this,$h,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ue(this,$h)}},$h=new WeakMap,Gl=new WeakMap,Rh=new WeakMap,Z3),N0=new hie;function fie(e){return Math.min(1e3*2**e,3e4)}function z6(e){return(e??"online")==="online"?N0.isOnline():!0}var r2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function V6(e){let t=!1,n=0,s;const i=n2(),a=()=>i.status!=="pending",o=v=>{var y;if(!a()){const N=new r2(v);m(N),(y=e.onCancel)==null||y.call(e,N)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>FA.isFocused()&&(e.networkMode==="always"||N0.isOnline())&&e.canRun(),d=()=>z6(e.networkMode)&&e.canRun(),f=v=>{a()||(s==null||s(),i.resolve(v))},m=v=>{a()||(s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var y;s=N=>{(a()||u())&&v(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(a())return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(f).catch(N=>{var A;if(a())return;const j=e.retry??(Uu?0:3),b=e.retryDelay??fie,_=typeof b=="function"?b(n,N):b,C=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,N);if(t||!C){m(N);return}n++,(A=e.onFail)==null||A.call(e,n,N),aie(_).then(()=>u()?void 0:g()).then(()=>{t?m(N):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),i)}}var Nu,eL,U6=(eL=class{constructor(){ut(this,Nu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZC(this.gcTime)&&Xe(this,Nu,gu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Uu?1/0:5*60*1e3))}clearGcTimeout(){ue(this,Nu)&&(gu.clearTimeout(ue(this,Nu)),Xe(this,Nu,void 0))}},Nu=new WeakMap,eL),Su,Lh,Fi,Cu,Rr,Kg,_u,ga,Mo,tL,mie=(tL=class extends U6{constructor(t){super();ut(this,ga);ut(this,Su);ut(this,Lh);ut(this,Fi);ut(this,Cu);ut(this,Rr);ut(this,Kg);ut(this,_u);Xe(this,_u,!1),Xe(this,Kg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,Cu,t.client),Xe(this,Fi,ue(this,Cu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,Su,DM(this.options)),this.state=t.state??ue(this,Su),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Rr))==null?void 0:t.promise}setOptions(t){if(this.options={...ue(this,Kg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=DM(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Xe(this,Su,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Fi).remove(this)}setData(t,n){const s=t2(this.state.data,t,this.options);return zt(this,ga,Mo).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){zt(this,ga,Mo).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=ue(this,Rr))==null?void 0:s.promise;return(i=ue(this,Rr))==null||i.cancel(t),n?n.then(Ps).catch(Ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Su))}isActive(){return this.observers.some(t=>Bi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!R6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Rr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Rr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Fi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Rr)&&(ue(this,_u)?ue(this,Rr).cancel({revert:!0}):ue(this,Rr).cancelRetry()),this.scheduleGc()),ue(this,Fi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,ga,Mo).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,g,x,v,y,N,j,b;if(this.state.fetchStatus!=="idle"&&((c=ue(this,Rr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Rr))return ue(this,Rr).continueRetry(),ue(this,Rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(C=>C.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Xe(this,_u,!0),s.signal)})},a=()=>{const _=F6(this.options,n),A=(()=>{const P={client:ue(this,Cu),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return Xe(this,_u,!1),this.options.persister?this.options.persister(_,A,this):_(A)},l=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Cu),state:this.state,fetchFn:a};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Xe(this,Lh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&zt(this,ga,Mo).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Xe(this,Rr,V6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof r2&&_.revert&&this.setState({...ue(this,Lh),fetchStatus:"idle"}),s.abort()},onFail:(_,C)=>{zt(this,ga,Mo).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{zt(this,ga,Mo).call(this,{type:"pause"})},onContinue:()=>{zt(this,ga,Mo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await ue(this,Rr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(g=(m=ue(this,Fi).config).onSuccess)==null||g.call(m,_,this),(v=(x=ue(this,Fi).config).onSettled)==null||v.call(x,_,this.state.error,this),_}catch(_){if(_ instanceof r2){if(_.silent)return ue(this,Rr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw zt(this,ga,Mo).call(this,{type:"error",error:_}),(N=(y=ue(this,Fi).config).onError)==null||N.call(y,_,this),(b=(j=ue(this,Fi).config).onSettled)==null||b.call(j,this.state.data,_,this),_}finally{this.scheduleGc()}}},Su=new WeakMap,Lh=new WeakMap,Fi=new WeakMap,Cu=new WeakMap,Rr=new WeakMap,Kg=new WeakMap,_u=new WeakMap,ga=new WeakSet,Mo=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...q6(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Xe(this,Lh,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),kr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ue(this,Fi).notify({query:this,type:"updated",action:t})})},tL);function q6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function DM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Us,nn,Yg,Ss,Pu,Fh,Bo,Kl,Qg,Bh,zh,Au,Eu,Yl,Vh,mn,dp,s2,i2,a2,o2,l2,c2,u2,W6,nL,pie=(nL=class extends Wf{constructor(t,n){super();ut(this,mn);ut(this,Us);ut(this,nn);ut(this,Yg);ut(this,Ss);ut(this,Pu);ut(this,Fh);ut(this,Bo);ut(this,Kl);ut(this,Qg);ut(this,Bh);ut(this,zh);ut(this,Au);ut(this,Eu);ut(this,Yl);ut(this,Vh,new Set);this.options=n,Xe(this,Us,t),Xe(this,Kl,null),Xe(this,Bo,n2()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,nn).addObserver(this),MM(ue(this,nn),this.options)?zt(this,mn,dp).call(this):this.updateResult(),zt(this,mn,o2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d2(ue(this,nn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d2(ue(this,nn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,zt(this,mn,l2).call(this),zt(this,mn,c2).call(this),ue(this,nn).removeObserver(this)}setOptions(t){const n=this.options,s=ue(this,nn);if(this.options=ue(this,Us).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bi(this.options.enabled,ue(this,nn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");zt(this,mn,u2).call(this),ue(this,nn).setOptions(this.options),n._defaulted&&!w0(this.options,n)&&ue(this,Us).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,nn),observer:this});const i=this.hasListeners();i&&IM(ue(this,nn),s,this.options,n)&&zt(this,mn,dp).call(this),this.updateResult(),i&&(ue(this,nn)!==s||Bi(this.options.enabled,ue(this,nn))!==Bi(n.enabled,ue(this,nn))||mc(this.options.staleTime,ue(this,nn))!==mc(n.staleTime,ue(this,nn)))&&zt(this,mn,s2).call(this);const a=zt(this,mn,i2).call(this);i&&(ue(this,nn)!==s||Bi(this.options.enabled,ue(this,nn))!==Bi(n.enabled,ue(this,nn))||a!==ue(this,Yl))&&zt(this,mn,a2).call(this,a)}getOptimisticResult(t){const n=ue(this,Us).getQueryCache().build(ue(this,Us),t),s=this.createResult(n,t);return vie(this,s)&&(Xe(this,Ss,s),Xe(this,Fh,this.options),Xe(this,Pu,ue(this,nn).state)),s}getCurrentResult(){return ue(this,Ss)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ue(this,Bo).status==="pending"&&ue(this,Bo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){ue(this,Vh).add(t)}getCurrentQuery(){return ue(this,nn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,Us).defaultQueryOptions(t),s=ue(this,Us).getQueryCache().build(ue(this,Us),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return zt(this,mn,dp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Ss)))}createResult(t,n){var M;const s=ue(this,nn),i=this.options,a=ue(this,Ss),o=ue(this,Pu),l=ue(this,Fh),u=t!==s?t.state:ue(this,Yg),{state:d}=t;let f={...d},m=!1,g;if(n._optimisticResults){const $=this.hasListeners(),k=!$&&MM(t,n),O=$&&IM(t,s,n,i);(k||O)&&(f={...f,...q6(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=f;g=f.data;let N=!1;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let $;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?($=a.data,N=!0):$=typeof n.placeholderData=="function"?n.placeholderData((M=ue(this,zh))==null?void 0:M.state.data,ue(this,zh)):n.placeholderData,$!==void 0&&(y="success",g=t2(a==null?void 0:a.data,$,n),m=!0)}if(n.select&&g!==void 0&&!N)if(a&&g===(o==null?void 0:o.data)&&n.select===ue(this,Qg))g=ue(this,Bh);else try{Xe(this,Qg,n.select),g=n.select(g),g=t2(a==null?void 0:a.data,g,n),Xe(this,Bh,g),Xe(this,Kl,null)}catch($){Xe(this,Kl,$)}ue(this,Kl)&&(x=ue(this,Kl),g=ue(this,Bh),v=Date.now(),y="error");const j=f.fetchStatus==="fetching",b=y==="pending",_=y==="error",C=b&&j,A=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:_,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!b,isLoadingError:_&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&A,isStale:BA(t,n),refetch:this.refetch,promise:ue(this,Bo),isEnabled:Bi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},k=()=>{const L=Xe(this,Bo,E.promise=n2());$(L)},O=ue(this,Bo);switch(O.status){case"pending":t.queryHash===s.queryHash&&$(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&k();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&k();break}}return E}updateResult(){const t=ue(this,Ss),n=this.createResult(ue(this,nn),this.options);if(Xe(this,Pu,ue(this,nn).state),Xe(this,Fh,this.options),ue(this,Pu).data!==void 0&&Xe(this,zh,ue(this,nn)),w0(n,t))return;Xe(this,Ss,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!ue(this,Vh).size)return!0;const o=new Set(a??ue(this,Vh));return this.options.throwOnError&&o.add("error"),Object.keys(ue(this,Ss)).some(l=>{const c=l;return ue(this,Ss)[c]!==t[c]&&o.has(c)})};zt(this,mn,W6).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&zt(this,mn,o2).call(this)}},Us=new WeakMap,nn=new WeakMap,Yg=new WeakMap,Ss=new WeakMap,Pu=new WeakMap,Fh=new WeakMap,Bo=new WeakMap,Kl=new WeakMap,Qg=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Au=new WeakMap,Eu=new WeakMap,Yl=new WeakMap,Vh=new WeakMap,mn=new WeakSet,dp=function(t){zt(this,mn,u2).call(this);let n=ue(this,nn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ps)),n},s2=function(){zt(this,mn,l2).call(this);const t=mc(this.options.staleTime,ue(this,nn));if(Uu||ue(this,Ss).isStale||!ZC(t))return;const s=R6(ue(this,Ss).dataUpdatedAt,t)+1;Xe(this,Au,gu.setTimeout(()=>{ue(this,Ss).isStale||this.updateResult()},s))},i2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,nn)):this.options.refetchInterval)??!1},a2=function(t){zt(this,mn,c2).call(this),Xe(this,Yl,t),!(Uu||Bi(this.options.enabled,ue(this,nn))===!1||!ZC(ue(this,Yl))||ue(this,Yl)===0)&&Xe(this,Eu,gu.setInterval(()=>{(this.options.refetchIntervalInBackground||FA.isFocused())&&zt(this,mn,dp).call(this)},ue(this,Yl)))},o2=function(){zt(this,mn,s2).call(this),zt(this,mn,a2).call(this,zt(this,mn,i2).call(this))},l2=function(){ue(this,Au)&&(gu.clearTimeout(ue(this,Au)),Xe(this,Au,void 0))},c2=function(){ue(this,Eu)&&(gu.clearInterval(ue(this,Eu)),Xe(this,Eu,void 0))},u2=function(){const t=ue(this,Us).getQueryCache().build(ue(this,Us),this.options);if(t===ue(this,nn))return;const n=ue(this,nn);Xe(this,nn,t),Xe(this,Yg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},W6=function(t){kr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Ss))}),ue(this,Us).getQueryCache().notify({query:ue(this,nn),type:"observerResultsUpdated"})})},nL);function gie(e,t){return Bi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function MM(e,t){return gie(e,t)||e.state.data!==void 0&&d2(e,t,t.refetchOnMount)}function d2(e,t,n){if(Bi(t.enabled,e)!==!1&&mc(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&BA(e,t)}return!1}function IM(e,t,n,s){return(e!==t||Bi(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&BA(e,n)}function BA(e,t){return Bi(t.enabled,e)!==!1&&e.isStaleByTime(mc(t.staleTime,e))}function vie(e,t){return!w0(e.getCurrentResult(),t)}function $M(e){return{onFetch:(t,n)=>{var d,f,m,g,x;const s=t.options,i=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=F6(t.options,t.fetchOptions),j=async(b,_,C)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return y(k),k})(),E=await N(P),{maxPages:M}=t.options,$=C?lie:oie;return{pages:$(b.pages,E,M),pageParams:$(b.pageParams,_,M)}};if(i&&a.length){const b=i==="backward",_=b?xie:RM,C={pages:a,pageParams:o},A=_(s,C);l=await j(C,A,b)}else{const b=e??a.length;do{const _=c===0?o[0]??s.initialPageParam:RM(s,l);if(c>0&&_==null)break;l=await j(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function RM(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function xie(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Xg,Ya,Cs,Tu,Qa,Ml,rL,yie=(rL=class extends U6{constructor(t){super();ut(this,Qa);ut(this,Xg);ut(this,Ya);ut(this,Cs);ut(this,Tu);Xe(this,Xg,t.client),this.mutationId=t.mutationId,Xe(this,Cs,t.mutationCache),Xe(this,Ya,[]),this.state=t.state||H6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Ya).includes(t)||(ue(this,Ya).push(t),this.clearGcTimeout(),ue(this,Cs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,Ya,ue(this,Ya).filter(n=>n!==t)),this.scheduleGc(),ue(this,Cs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Ya).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Cs).remove(this))}continue(){var t;return((t=ue(this,Tu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,g,x,v,y,N,j,b,_,C,A,P,E,M;const n=()=>{zt(this,Qa,Ml).call(this,{type:"continue"})},s={client:ue(this,Xg),meta:this.options.meta,mutationKey:this.options.mutationKey};Xe(this,Tu,V6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:($,k)=>{zt(this,Qa,Ml).call(this,{type:"failed",failureCount:$,error:k})},onPause:()=>{zt(this,Qa,Ml).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Cs).canRun(this)}));const i=this.state.status==="pending",a=!ue(this,Tu).canStart();try{if(i)n();else{zt(this,Qa,Ml).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=ue(this,Cs).config).onMutate)==null?void 0:l.call(o,t,this,s));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,s));k!==this.state.context&&zt(this,Qa,Ml).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const $=await ue(this,Tu).start();return await((f=(d=ue(this,Cs).config).onSuccess)==null?void 0:f.call(d,$,t,this.state.context,this,s)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,$,t,this.state.context,s)),await((v=(x=ue(this,Cs).config).onSettled)==null?void 0:v.call(x,$,null,this.state.variables,this.state.context,this,s)),await((N=(y=this.options).onSettled)==null?void 0:N.call(y,$,null,t,this.state.context,s)),zt(this,Qa,Ml).call(this,{type:"success",data:$}),$}catch($){try{throw await((b=(j=ue(this,Cs).config).onError)==null?void 0:b.call(j,$,t,this.state.context,this,s)),await((C=(_=this.options).onError)==null?void 0:C.call(_,$,t,this.state.context,s)),await((P=(A=ue(this,Cs).config).onSettled)==null?void 0:P.call(A,void 0,$,this.state.variables,this.state.context,this,s)),await((M=(E=this.options).onSettled)==null?void 0:M.call(E,void 0,$,t,this.state.context,s)),$}finally{zt(this,Qa,Ml).call(this,{type:"error",error:$})}}finally{ue(this,Cs).runNext(this)}}},Xg=new WeakMap,Ya=new WeakMap,Cs=new WeakMap,Tu=new WeakMap,Qa=new WeakSet,Ml=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kr.batch(()=>{ue(this,Ya).forEach(s=>{s.onMutationUpdate(t)}),ue(this,Cs).notify({mutation:this,type:"updated",action:t})})},rL);function H6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zo,va,Jg,sL,jie=(sL=class extends Wf{constructor(t={}){super();ut(this,zo);ut(this,va);ut(this,Jg);this.config=t,Xe(this,zo,new Set),Xe(this,va,new Map),Xe(this,Jg,0)}build(t,n,s){const i=new yie({client:t,mutationCache:this,mutationId:++Cx(this,Jg)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){ue(this,zo).add(t);const n=Gx(t);if(typeof n=="string"){const s=ue(this,va).get(n);s?s.push(t):ue(this,va).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,zo).delete(t)){const n=Gx(t);if(typeof n=="string"){const s=ue(this,va).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&ue(this,va).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Gx(t);if(typeof n=="string"){const s=ue(this,va).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=Gx(t);if(typeof n=="string"){const i=(s=ue(this,va).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kr.batch(()=>{ue(this,zo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,zo).clear(),ue(this,va).clear()})}getAll(){return Array.from(ue(this,zo))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>TM(n,s))}findAll(t={}){return this.getAll().filter(n=>TM(t,n))}notify(t){kr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ps))))}},zo=new WeakMap,va=new WeakMap,Jg=new WeakMap,sL);function Gx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Vo,Ql,qs,Uo,Jo,zy,h2,iL,bie=(iL=class extends Wf{constructor(n,s){super();ut(this,Jo);ut(this,Vo);ut(this,Ql);ut(this,qs);ut(this,Uo);Xe(this,Vo,n),this.setOptions(s),this.bindMethods(),zt(this,Jo,zy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=ue(this,Vo).defaultMutationOptions(n),w0(this.options,s)||ue(this,Vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,qs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&qu(s.mutationKey)!==qu(this.options.mutationKey)?this.reset():((i=ue(this,qs))==null?void 0:i.state.status)==="pending"&&ue(this,qs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,qs))==null||n.removeObserver(this)}onMutationUpdate(n){zt(this,Jo,zy).call(this),zt(this,Jo,h2).call(this,n)}getCurrentResult(){return ue(this,Ql)}reset(){var n;(n=ue(this,qs))==null||n.removeObserver(this),Xe(this,qs,void 0),zt(this,Jo,zy).call(this),zt(this,Jo,h2).call(this)}mutate(n,s){var i;return Xe(this,Uo,s),(i=ue(this,qs))==null||i.removeObserver(this),Xe(this,qs,ue(this,Vo).getMutationCache().build(ue(this,Vo),this.options)),ue(this,qs).addObserver(this),ue(this,qs).execute(n)}},Vo=new WeakMap,Ql=new WeakMap,qs=new WeakMap,Uo=new WeakMap,Jo=new WeakSet,zy=function(){var s;const n=((s=ue(this,qs))==null?void 0:s.state)??H6();Xe(this,Ql,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},h2=function(n){kr.batch(()=>{var s,i,a,o,l,c,u,d;if(ue(this,Uo)&&this.hasListeners()){const f=ue(this,Ql).variables,m=ue(this,Ql).context,g={client:ue(this,Vo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(s=ue(this,Uo)).onSuccess)==null||i.call(s,n.data,f,m,g),(o=(a=ue(this,Uo)).onSettled)==null||o.call(a,n.data,null,f,m,g)):(n==null?void 0:n.type)==="error"&&((c=(l=ue(this,Uo)).onError)==null||c.call(l,n.error,f,m,g),(d=(u=ue(this,Uo)).onSettled)==null||d.call(u,void 0,n.error,f,m,g))}this.listeners.forEach(f=>{f(ue(this,Ql))})})},iL),Xa,aL,wie=(aL=class extends Wf{constructor(t={}){super();ut(this,Xa);this.config=t,Xe(this,Xa,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??RA(i,n);let o=this.get(a);return o||(o=new mie({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){ue(this,Xa).has(t.queryHash)||(ue(this,Xa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,Xa).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,Xa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,Xa).get(t)}getAll(){return[...ue(this,Xa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>EM(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>EM(t,s)):n}notify(t){kr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xa=new WeakMap,aL),ir,Xl,Jl,Uh,qh,Zl,Wh,Hh,oL,Nie=(oL=class{constructor(e={}){ut(this,ir);ut(this,Xl);ut(this,Jl);ut(this,Uh);ut(this,qh);ut(this,Zl);ut(this,Wh);ut(this,Hh);Xe(this,ir,e.queryCache||new wie),Xe(this,Xl,e.mutationCache||new jie),Xe(this,Jl,e.defaultOptions||{}),Xe(this,Uh,new Map),Xe(this,qh,new Map),Xe(this,Zl,0)}mount(){Cx(this,Zl)._++,ue(this,Zl)===1&&(Xe(this,Wh,FA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,ir).onFocus())})),Xe(this,Hh,N0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,ir).onOnline())})))}unmount(){var e,t;Cx(this,Zl)._--,ue(this,Zl)===0&&((e=ue(this,Wh))==null||e.call(this),Xe(this,Wh,void 0),(t=ue(this,Hh))==null||t.call(this),Xe(this,Hh,void 0))}isFetching(e){return ue(this,ir).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Xl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,ir).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,ir).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(mc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ue(this,ir).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=ue(this,ir).get(s.queryHash),a=i==null?void 0:i.state.data,o=sie(t,a);if(o!==void 0)return ue(this,ir).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return kr.batch(()=>ue(this,ir).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,ir).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,ir);kr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,ir);return kr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=kr.batch(()=>ue(this,ir).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Ps).catch(Ps)}invalidateQueries(e,t={}){return kr.batch(()=>(ue(this,ir).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=kr.batch(()=>ue(this,ir).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ps)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ps)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,ir).build(this,t);return n.isStaleByTime(mc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ps).catch(Ps)}fetchInfiniteQuery(e){return e.behavior=$M(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ps).catch(Ps)}ensureInfiniteQueryData(e){return e.behavior=$M(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return N0.isOnline()?ue(this,Xl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,ir)}getMutationCache(){return ue(this,Xl)}getDefaultOptions(){return ue(this,Jl)}setDefaultOptions(e){Xe(this,Jl,e)}setQueryDefaults(e,t){ue(this,Uh).set(qu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,Uh).values()],n={};return t.forEach(s=>{sg(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,qh).set(qu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,qh).values()],n={};return t.forEach(s=>{sg(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Jl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=RA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===LA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Jl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,ir).clear(),ue(this,Xl).clear()}},ir=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,Uh=new WeakMap,qh=new WeakMap,Zl=new WeakMap,Wh=new WeakMap,Hh=new WeakMap,oL),G6=w.createContext(void 0),ti=e=>{const t=w.useContext(G6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Sie=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(G6.Provider,{value:e,children:t})),K6=w.createContext(!1),Cie=()=>w.useContext(K6);K6.Provider;function _ie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Pie=w.createContext(_ie()),Aie=()=>w.useContext(Pie),Eie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Tie=e=>{w.useEffect(()=>{e.clearReset()},[e])},kie=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||B6(n,[e.error,s])),Oie=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Die=(e,t)=>e.isLoading&&e.isFetching&&!t,Mie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,LM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Iie(e,t,n){var f,m,g,x,v;const s=Cie(),i=Aie(),a=ti(),o=a.defaultQueryOptions(e);(m=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",Oie(o),Eie(o,i),Tie(i);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const N=d?c.subscribe(kr.batchCalls(y)):Ps;return c.updateResult(),N},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),Mie(o,u))throw LM(o,c,i);if(kie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!Uu&&Die(u,s)){const y=l?LM(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(Ps).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Tc(e,t){return Iie(e,pie)}function ea(e,t){const n=ti(),[s]=w.useState(()=>new bie(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const i=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(kr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((o,l)=>{s.mutate(o,l).catch(Ps)},[s]);if(i.error&&B6(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ig.apply(this,arguments)}var rc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rc||(rc={}));const FM="popstate";function $ie(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return f2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:S0(i)}return Lie(t,n,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Y6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rie(){return Math.random().toString(36).substr(2,8)}function BM(e,t){return{usr:e.state,key:e.key,idx:t}}function f2(e,t,n,s){return n===void 0&&(n=null),ig({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hf(t):t,{state:n,key:t&&t.key||s||Rie()})}function S0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Hf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Lie(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=rc.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ig({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=rc.Pop;let y=d(),N=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:N})}function m(y,N){l=rc.Push;let j=f2(v.location,y,N);u=d()+1;let b=BM(j,u),_=v.createHref(j);try{o.pushState(b,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(_)}a&&c&&c({action:l,location:v.location,delta:1})}function g(y,N){l=rc.Replace;let j=f2(v.location,y,N);u=d();let b=BM(j,u),_=v.createHref(j);o.replaceState(b,"",_),a&&c&&c({action:l,location:v.location,delta:0})}function x(y){let N=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof y=="string"?y:S0(y);return j=j.replace(/ $/,"%20"),xr(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(FM,f),c=y,()=>{i.removeEventListener(FM,f),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let N=x(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(y){return o.go(y)}};return v}var zM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zM||(zM={}));function Fie(e,t,n){return n===void 0&&(n="/"),Bie(e,t,n,!1)}function Bie(e,t,n,s){let i=typeof t=="string"?Hf(t):t,a=zA(i.pathname||"/",n);if(a==null)return null;let o=Q6(e);zie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Jie(a);l=Qie(o[c],u,s)}return l}function Q6(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=pc([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(xr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q6(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Kie(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of X6(a.path))i(a,o,c)}),t}function X6(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=X6(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Yie(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Vie=/^:[\w-]+$/,Uie=3,qie=2,Wie=1,Hie=10,Gie=-2,VM=e=>e==="*";function Kie(e,t){let n=e.split("/"),s=n.length;return n.some(VM)&&(s+=Gie),t&&(s+=qie),n.filter(i=>!VM(i)).reduce((i,a)=>i+(Vie.test(a)?Uie:a===""?Wie:Hie),s)}function Yie(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Qie(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=UM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=UM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:pc([a,f.pathname]),pathnameBase:nae(pc([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=pc([a,f.pathnameBase]))}return o}function UM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Xie(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Xie(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Y6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Jie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Y6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Zie(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Hf(e):e;return{pathname:n?n.startsWith("/")?n:eae(n,t):t,search:rae(s),hash:sae(i)}}function eae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function QN(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VA(e,t){let n=tae(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function UA(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Hf(e):(i=ig({},e),xr(!i.pathname||!i.pathname.includes("?"),QN("?","pathname","search",i)),xr(!i.pathname||!i.pathname.includes("#"),QN("#","pathname","hash",i)),xr(!i.search||!i.search.includes("#"),QN("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Zie(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const pc=e=>e.join("/").replace(/\/\/+/g,"/"),nae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const J6=["post","put","patch","delete"];new Set(J6);const aae=["get",...J6];new Set(aae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ag.apply(this,arguments)}const qA=w.createContext(null),oae=w.createContext(null),kc=w.createContext(null),gb=w.createContext(null),Oc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Z6=w.createContext(null);function lae(e,t){let{relative:n}=t===void 0?{}:t;Gf()||xr(!1);let{basename:s,navigator:i}=w.useContext(kc),{hash:a,pathname:o,search:l}=t8(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:pc([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Gf(){return w.useContext(gb)!=null}function cd(){return Gf()||xr(!1),w.useContext(gb).location}function e8(e){w.useContext(kc).static||w.useLayoutEffect(e)}function vb(){let{isDataRoute:e}=w.useContext(Oc);return e?bae():cae()}function cae(){Gf()||xr(!1);let e=w.useContext(qA),{basename:t,future:n,navigator:s}=w.useContext(kc),{matches:i}=w.useContext(Oc),{pathname:a}=cd(),o=JSON.stringify(VA(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return e8(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=UA(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pc([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function t8(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(kc),{matches:i}=w.useContext(Oc),{pathname:a}=cd(),o=JSON.stringify(VA(i,s.v7_relativeSplatPath));return w.useMemo(()=>UA(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function uae(e,t){return dae(e,t)}function dae(e,t,n,s){Gf()||xr(!1);let{navigator:i}=w.useContext(kc),{matches:a}=w.useContext(Oc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=cd(),d;if(t){var f;let y=typeof t=="string"?Hf(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||xr(!1),d=y}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Fie(e,{pathname:g}),v=gae(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:pc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:pc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?w.createElement(gb.Provider,{value:{location:ag({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rc.Pop}},v):v}function hae(){let e=jae(),t=iae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const fae=w.createElement(hae,null);class mae extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Oc.Provider,{value:this.props.routeContext},w.createElement(Z6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pae(e){let{routeContext:t,match:n,children:s}=e,i=w.useContext(qA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Oc.Provider,{value:t},s)}function gae(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||xr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,x=!1,v=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||fae,c&&(u<0&&m===0?(x=!0,y=null):u===m&&(x=!0,y=f.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,m+1)),j=()=>{let b;return g?b=v:x?b=y:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(pae,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(mae,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var n8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(n8||{}),C0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C0||{});function vae(e){let t=w.useContext(qA);return t||xr(!1),t}function xae(e){let t=w.useContext(oae);return t||xr(!1),t}function yae(e){let t=w.useContext(Oc);return t||xr(!1),t}function r8(e){let t=yae(),n=t.matches[t.matches.length-1];return n.route.id||xr(!1),n.route.id}function jae(){var e;let t=w.useContext(Z6),n=xae(C0.UseRouteError),s=r8(C0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function bae(){let{router:e}=vae(n8.UseNavigateStable),t=r8(C0.UseNavigateStable),n=w.useRef(!1);return e8(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ag({fromRouteId:t},a)))},[e,t])}function wae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function m2(e){let{to:t,replace:n,state:s,relative:i}=e;Gf()||xr(!1);let{future:a,static:o}=w.useContext(kc),{matches:l}=w.useContext(Oc),{pathname:c}=cd(),u=vb(),d=UA(t,VA(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function fr(e){xr(!1)}function Nae(e){let{basename:t="/",children:n=null,location:s,navigationType:i=rc.Pop,navigator:a,static:o=!1,future:l}=e;Gf()&&xr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:ag({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Hf(s));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=s,v=w.useMemo(()=>{let y=zA(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:g,key:x},navigationType:i}},[c,d,f,m,g,x,i]);return v==null?null:w.createElement(kc.Provider,{value:u},w.createElement(gb.Provider,{children:n,value:v}))}function Sae(e){let{children:t,location:n}=e;return uae(p2(t),n)}new Promise(()=>{});function p2(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let a=[...t,i];if(s.type===w.Fragment){n.push.apply(n,p2(s.props.children,a));return}s.type!==fr&&xr(!1),!s.props.index||!s.props.children||xr(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=p2(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},g2.apply(this,arguments)}function Cae(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _ae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pae(e,t){return e.button===0&&(!t||t==="_self")&&!_ae(e)}const Aae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Eae="6";try{window.__reactRouterVersion=Eae}catch{}const Tae="startTransition",qM=CP[Tae];function kae(e){let{basename:t,children:n,future:s,window:i}=e,a=w.useRef();a.current==null&&(a.current=$ie({window:i,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=w.useCallback(f=>{u&&qM?qM(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>wae(s),[s]),w.createElement(Nae,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const Oae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=w.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Cae(t,Aae),{basename:g}=w.useContext(kc),x,v=!1;if(typeof u=="string"&&Dae.test(u)&&(x=u,Oae))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),C=zA(_.pathname,g);_.origin===b.origin&&C!=null?u=C+_.search+_.hash:v=!0}catch{}let y=lae(u,{relative:i}),N=Mae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function j(b){s&&s(b),b.defaultPrevented||N(b)}return w.createElement("a",g2({},m,{href:x||y,onClick:v||a?s:j,ref:n,target:c}))});var WM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(WM||(WM={}));var HM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(HM||(HM={}));function Mae(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=vb(),u=cd(),d=t8(e,{relative:o});return w.useCallback(f=>{if(Pae(f,n)){f.preventDefault();let m=s!==void 0?s:S0(u)===S0(d);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}const Iae=iv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=w.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?zee:"button";return r.jsx(o,{className:Ze(Iae({variant:t,size:n,className:e})),ref:a,...i})});q.displayName="Button";const s8=w.createContext(void 0);function $ae({children:e}){const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{localStorage.setItem("theme",t);const i=document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[t]);const s=()=>{n(i=>i==="light"?"dark":"light")};return r.jsx(s8.Provider,{value:{theme:t,setTheme:n,toggleTheme:s},children:e})}function i8(){const e=w.useContext(s8);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function GM(){const{theme:e,toggleTheme:t}=i8();return r.jsxs(q,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?r.jsx(Kte,{className:"h-4 w-4"}):r.jsx(Jte,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var Rae=w.createContext(void 0);function xb(e){const t=w.useContext(Rae);return e||t||"ltr"}var XN=0;function yb(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KM()),document.body.insertAdjacentElement("beforeend",e[1]??KM()),XN++,()=>{XN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),XN--}},[])}function KM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var JN="focusScope.autoFocusOnMount",ZN="focusScope.autoFocusOnUnmount",YM={bubbles:!1,cancelable:!0},Lae="FocusScope",lv=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=w.useState(null),u=Ds(i),d=Ds(a),f=w.useRef(null),m=Qt(t,v=>c(v)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let v=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Il(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Il(f.current,{select:!0}))},N=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Il(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const j=new MutationObserver(N);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),j.disconnect()}}},[s,l,g.paused]),w.useEffect(()=>{if(l){XM.add(g);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(JN,YM);l.addEventListener(JN,u),l.dispatchEvent(N),N.defaultPrevented||(Fae(qae(a8(l)),{select:!0}),document.activeElement===v&&Il(l))}return()=>{l.removeEventListener(JN,u),setTimeout(()=>{const N=new CustomEvent(ZN,YM);l.addEventListener(ZN,d),l.dispatchEvent(N),N.defaultPrevented||Il(v??document.body,{select:!0}),l.removeEventListener(ZN,d),XM.remove(g)},0)}}},[l,u,d,g]);const x=w.useCallback(v=>{if(!n&&!s||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const j=v.currentTarget,[b,_]=Bae(j);b&&_?!v.shiftKey&&N===_?(v.preventDefault(),n&&Il(b,{select:!0})):v.shiftKey&&N===b&&(v.preventDefault(),n&&Il(_,{select:!0})):N===j&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(st.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});lv.displayName=Lae;function Fae(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Il(s,{select:t}),document.activeElement!==n)return}function Bae(e){const t=a8(e),n=QM(t,e),s=QM(t.reverse(),e);return[n,s]}function a8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function QM(e,t){for(const n of e)if(!zae(n,{upTo:t}))return n}function zae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Vae(e){return e instanceof HTMLInputElement&&"select"in e}function Il(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Vae(e)&&t&&e.select()}}var XM=Uae();function Uae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=JM(e,t),e.unshift(t)},remove(t){var n;e=JM(e,t),(n=e[0])==null||n.resume()}}}function JM(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function qae(e){return e.filter(t=>t.tagName!=="A")}var eS="rovingFocusGroup.onEntryFocus",Wae={bubbles:!1,cancelable:!0},cv="RovingFocusGroup",[v2,o8,Hae]=sb(cv),[Gae,jb]=Zs(cv,[Hae]),[Kae,Yae]=Gae(cv),l8=w.forwardRef((e,t)=>r.jsx(v2.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(v2.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Qae,{...e,ref:t})})}));l8.displayName=cv;var Qae=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=w.useRef(null),g=Qt(t,m),x=xb(a),[v,y]=po({prop:o,defaultProp:l??null,onChange:c,caller:cv}),[N,j]=w.useState(!1),b=Ds(u),_=o8(n),C=w.useRef(!1),[A,P]=w.useState(0);return w.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(eS,b),()=>E.removeEventListener(eS,b)},[b]),r.jsx(Kae,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:w.useCallback(E=>y(E),[y]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(E=>E+1),[]),onFocusableItemRemove:w.useCallback(()=>P(E=>E-1),[]),children:r.jsx(st.div,{tabIndex:N||A===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{C.current=!0}),onFocus:He(e.onFocus,E=>{const M=!C.current;if(E.target===E.currentTarget&&M&&!N){const $=new CustomEvent(eS,Wae);if(E.currentTarget.dispatchEvent($),!$.defaultPrevented){const k=_().filter(H=>H.focusable),O=k.find(H=>H.active),L=k.find(H=>H.id===v),J=[O,L,...k].filter(Boolean).map(H=>H.ref.current);d8(J,d)}}C.current=!1}),onBlur:He(e.onBlur,()=>j(!1))})})}),c8="RovingFocusGroupItem",u8=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=rs(),u=a||c,d=Yae(c8,n),f=d.currentTabStopId===u,m=o8(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=d;return w.useEffect(()=>{if(s)return g(),()=>x()},[s,g,x]),r.jsx(v2.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(st.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:He(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:He(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=Zae(y,d.orientation,d.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(N==="last")b.reverse();else if(N==="prev"||N==="next"){N==="prev"&&b.reverse();const _=b.indexOf(y.currentTarget);b=d.loop?eoe(b,_+1):b.slice(_+1)}setTimeout(()=>d8(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});u8.displayName=c8;var Xae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zae(e,t,n){const s=Jae(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Xae[s]}function d8(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function eoe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var h8=l8,f8=u8,toe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ld=new WeakMap,Kx=new WeakMap,Yx={},tS=0,m8=function(e){return e&&(e.host||m8(e.parentNode))},noe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=m8(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},roe=function(e,t,n,s){var i=noe(t,Array.isArray(e)?e:[e]);Yx[n]||(Yx[n]=new WeakMap);var a=Yx[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),x=g!==null&&g!=="false",v=(Ld.get(m)||0)+1,y=(a.get(m)||0)+1;Ld.set(m,v),a.set(m,y),o.push(m),v===1&&x&&Kx.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return d(t),l.clear(),tS++,function(){o.forEach(function(f){var m=Ld.get(f)-1,g=a.get(f)-1;Ld.set(f,m),a.set(f,g),m||(Kx.has(f)||f.removeAttribute(s),Kx.delete(f)),g||f.removeAttribute(n)}),tS--,tS||(Ld=new WeakMap,Ld=new WeakMap,Kx=new WeakMap,Yx={})}},bb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=toe(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),roe(s,i,n,"aria-hidden")):function(){return null}},Za=function(){return Za=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Za.apply(this,arguments)};function p8(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function soe(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Vy="right-scroll-bar-position",Uy="width-before-scroll-bar",ioe="with-scroll-bars-hidden",aoe="--removed-body-scroll-bar-size";function nS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ooe(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var loe=typeof window<"u"?w.useLayoutEffect:w.useEffect,ZM=new WeakMap;function coe(e,t){var n=ooe(null,function(s){return e.forEach(function(i){return nS(i,s)})});return loe(function(){var s=ZM.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||nS(l,null)}),a.forEach(function(l){i.has(l)||nS(l,o)})}ZM.set(n,e)},[e]),n}function uoe(e){return e}function doe(e,t){t===void 0&&(t=uoe);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function hoe(e){e===void 0&&(e={});var t=doe(null);return t.options=Za({async:!0,ssr:!1},e),t}var g8=function(e){var t=e.sideCar,n=p8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Za({},n))};g8.isSideCarExport=!0;function foe(e,t){return e.useMedium(t),g8}var v8=hoe(),rS=function(){},wb=w.forwardRef(function(e,t){var n=w.useRef(null),s=w.useState({onScrollCapture:rS,onWheelCapture:rS,onTouchMoveCapture:rS}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,b=e.gapMode,_=p8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,A=coe([n,t]),P=Za(Za({},_),i);return w.createElement(w.Fragment,null,d&&w.createElement(C,{sideCar:v8,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?w.cloneElement(w.Children.only(l),Za(Za({},P),{ref:A})):w.createElement(j,Za({},P,{className:c,ref:A}),l))});wb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wb.classNames={fullWidth:Uy,zeroRight:Vy};var moe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function poe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=moe();return t&&e.setAttribute("nonce",t),e}function goe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function voe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xoe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=poe())&&(goe(t,n),voe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yoe=function(){var e=xoe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},x8=function(){var e=yoe(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},joe={left:0,top:0,right:0,gap:0},sS=function(e){return parseInt(e||"",10)||0},boe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[sS(n),sS(s),sS(i)]},woe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return joe;var t=boe(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Noe=x8(),Eh="data-scroll-locked",Soe=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ioe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Eh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vy,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Uy,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Vy," .").concat(Vy,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Uy," .").concat(Uy,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Eh,`] {
    `).concat(aoe,": ").concat(l,`px;
  }
`)},eI=function(){var e=parseInt(document.body.getAttribute(Eh)||"0",10);return isFinite(e)?e:0},Coe=function(){w.useEffect(function(){return document.body.setAttribute(Eh,(eI()+1).toString()),function(){var e=eI()-1;e<=0?document.body.removeAttribute(Eh):document.body.setAttribute(Eh,e.toString())}},[])},_oe=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;Coe();var a=w.useMemo(function(){return woe(i)},[i]);return w.createElement(Noe,{styles:Soe(a,!t,i,n?"":"!important")})},x2=!1;if(typeof window<"u")try{var Qx=Object.defineProperty({},"passive",{get:function(){return x2=!0,!0}});window.addEventListener("test",Qx,Qx),window.removeEventListener("test",Qx,Qx)}catch{x2=!1}var Fd=x2?{passive:!1}:!1,Poe=function(e){return e.tagName==="TEXTAREA"},y8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Poe(e)&&n[t]==="visible")},Aoe=function(e){return y8(e,"overflowY")},Eoe=function(e){return y8(e,"overflowX")},tI=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=j8(e,s);if(i){var a=b8(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Toe=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},koe=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},j8=function(e,t){return e==="v"?Aoe(t):Eoe(t)},b8=function(e,t){return e==="v"?Toe(t):koe(t)},Ooe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Doe=function(e,t,n,s,i){var a=Ooe(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var g=b8(e,l),x=g[0],v=g[1],y=g[2],N=v-y-a*x;(x||N)&&j8(e,l)&&(f+=N,m+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},Xx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nI=function(e){return[e.deltaX,e.deltaY]},rI=function(e){return e&&"current"in e?e.current:e},Moe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ioe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$oe=0,Bd=[];function Roe(e){var t=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState($oe++)[0],a=w.useState(x8)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=soe([e.lockRef.current],(e.shards||[]).map(rI),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=Xx(v),j=n.current,b="deltaX"in v?v.deltaX:j[0]-N[0],_="deltaY"in v?v.deltaY:j[1]-N[1],C,A=v.target,P=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&P==="h"&&A.type==="range")return!1;var E=tI(P,A);if(!E)return!0;if(E?C=P:(C=P==="v"?"h":"v",E=tI(P,A)),!E)return!1;if(!s.current&&"changedTouches"in v&&(b||_)&&(s.current=C),!C)return!0;var M=s.current||C;return Doe(M,y,v,M==="h"?b:_,!0)},[]),c=w.useCallback(function(v){var y=v;if(!(!Bd.length||Bd[Bd.length-1]!==a)){var N="deltaY"in y?nI(y):Xx(y),j=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Moe(C.delta,N)})[0];if(j&&j.should){y.cancelable&&y.preventDefault();return}if(!j){var b=(o.current.shards||[]).map(rI).filter(Boolean).filter(function(C){return C.contains(y.target)}),_=b.length>0?l(y,b[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=w.useCallback(function(v,y,N,j){var b={name:v,delta:y,target:N,should:j,shadowParent:Loe(N)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=w.useCallback(function(v){n.current=Xx(v),s.current=void 0},[]),f=w.useCallback(function(v){u(v.type,nI(v),v.target,l(v,e.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,Xx(v),v.target,l(v,e.lockRef.current))},[]);w.useEffect(function(){return Bd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Fd),document.addEventListener("touchmove",c,Fd),document.addEventListener("touchstart",d,Fd),function(){Bd=Bd.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Fd),document.removeEventListener("touchmove",c,Fd),document.removeEventListener("touchstart",d,Fd)}},[]);var g=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(a,{styles:Ioe(i)}):null,g?w.createElement(_oe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Loe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Foe=foe(v8,Roe);var uv=w.forwardRef(function(e,t){return w.createElement(wb,Za({},e,{ref:t,sideCar:Foe}))});uv.classNames=wb.classNames;var y2=["Enter"," "],Boe=["ArrowDown","PageUp","Home"],w8=["ArrowUp","PageDown","End"],zoe=[...Boe,...w8],Voe={ltr:[...y2,"ArrowRight"],rtl:[...y2,"ArrowLeft"]},Uoe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dv="Menu",[og,qoe,Woe]=sb(dv),[ud,N8]=Zs(dv,[Woe,Ec,jb]),Nb=Ec(),S8=jb(),[Hoe,dd]=ud(dv),[Goe,hv]=ud(dv),C8=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,l=Nb(t),[c,u]=w.useState(null),d=w.useRef(!1),f=Ds(a),m=xb(i);return w.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(IA,{...l,children:r.jsx(Hoe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(Goe,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};C8.displayName=dv;var Koe="MenuAnchor",WA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Nb(n);return r.jsx(ov,{...i,...s,ref:t})});WA.displayName=Koe;var HA="MenuPortal",[Yoe,_8]=ud(HA,{forceMount:void 0}),P8=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=dd(HA,t);return r.jsx(Yoe,{scope:t,forceMount:n,children:r.jsx(ei,{present:n||a.open,children:r.jsx(Ff,{asChild:!0,container:i,children:s})})})};P8.displayName=HA;var Ki="MenuContent",[Qoe,GA]=ud(Ki),A8=w.forwardRef((e,t)=>{const n=_8(Ki,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=dd(Ki,e.__scopeMenu),o=hv(Ki,e.__scopeMenu);return r.jsx(og.Provider,{scope:e.__scopeMenu,children:r.jsx(ei,{present:s||a.open,children:r.jsx(og.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(Xoe,{...i,ref:t}):r.jsx(Joe,{...i,ref:t})})})})}),Xoe=w.forwardRef((e,t)=>{const n=dd(Ki,e.__scopeMenu),s=w.useRef(null),i=Qt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return bb(a)},[]),r.jsx(KA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Joe=w.forwardRef((e,t)=>{const n=dd(Ki,e.__scopeMenu);return r.jsx(KA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Zoe=jc("MenuContent.ScrollLock"),KA=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,y=dd(Ki,n),N=hv(Ki,n),j=Nb(n),b=S8(n),_=qoe(n),[C,A]=w.useState(null),P=w.useRef(null),E=Qt(t,P,y.onContentChange),M=w.useRef(0),$=w.useRef(""),k=w.useRef(0),O=w.useRef(null),L=w.useRef("right"),z=w.useRef(0),J=x?uv:w.Fragment,H=x?{as:Zoe,allowPinchZoom:!0}:void 0,oe=D=>{var se,F;const ae=$.current+D,pe=_().filter(Y=>!Y.disabled),te=document.activeElement,Z=(se=pe.find(Y=>Y.ref.current===te))==null?void 0:se.textValue,ne=pe.map(Y=>Y.textValue),xe=dle(ne,ae,Z),ye=(F=pe.find(Y=>Y.textValue===xe))==null?void 0:F.ref.current;(function Y(ee){$.current=ee,window.clearTimeout(M.current),ee!==""&&(M.current=window.setTimeout(()=>Y(""),1e3))})(ae),ye&&setTimeout(()=>ye.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),yb();const Q=w.useCallback(D=>{var pe,te;return L.current===((pe=O.current)==null?void 0:pe.side)&&fle(D,(te=O.current)==null?void 0:te.area)},[]);return r.jsx(Qoe,{scope:n,searchRef:$,onItemEnter:w.useCallback(D=>{Q(D)&&D.preventDefault()},[Q]),onItemLeave:w.useCallback(D=>{var ae;Q(D)||((ae=P.current)==null||ae.focus(),A(null))},[Q]),onTriggerLeave:w.useCallback(D=>{Q(D)&&D.preventDefault()},[Q]),pointerGraceTimerRef:k,onPointerGraceIntentChange:w.useCallback(D=>{O.current=D},[]),children:r.jsx(J,{...H,children:r.jsx(lv,{asChild:!0,trapped:i,onMountAutoFocus:He(a,D=>{var ae;D.preventDefault(),(ae=P.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(od,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:r.jsx(h8,{asChild:!0,...b,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:A,onEntryFocus:He(c,D=>{N.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(hb,{role:"menu","aria-orientation":"vertical","data-state":q8(y.open),"data-radix-menu-content":"",dir:N.dir,...j,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:He(v.onKeyDown,D=>{const pe=D.target.closest("[data-radix-menu-content]")===D.currentTarget,te=D.ctrlKey||D.altKey||D.metaKey,Z=D.key.length===1;pe&&(D.key==="Tab"&&D.preventDefault(),!te&&Z&&oe(D.key));const ne=P.current;if(D.target!==ne||!zoe.includes(D.key))return;D.preventDefault();const ye=_().filter(se=>!se.disabled).map(se=>se.ref.current);w8.includes(D.key)&&ye.reverse(),cle(ye)}),onBlur:He(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(M.current),$.current="")}),onPointerMove:He(e.onPointerMove,lg(D=>{const ae=D.target,pe=z.current!==D.clientX;if(D.currentTarget.contains(ae)&&pe){const te=D.clientX>z.current?"right":"left";L.current=te,z.current=D.clientX}}))})})})})})})});A8.displayName=Ki;var ele="MenuGroup",YA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{role:"group",...s,ref:t})});YA.displayName=ele;var tle="MenuLabel",E8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{...s,ref:t})});E8.displayName=tle;var _0="MenuItem",sI="menu.itemSelect",Sb=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=w.useRef(null),o=hv(_0,e.__scopeMenu),l=GA(_0,e.__scopeMenu),c=Qt(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(sI,{bubbles:!0,cancelable:!0});f.addEventListener(sI,g=>s==null?void 0:s(g),{once:!0}),gA(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(T8,{...i,ref:c,disabled:n,onClick:He(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:He(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:He(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||y2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Sb.displayName=_0;var T8=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=GA(_0,n),l=S8(n),c=w.useRef(null),u=Qt(t,c),[d,f]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[a.children]),r.jsx(og.ItemSlot,{scope:n,disabled:s,textValue:i??m,children:r.jsx(f8,{asChild:!0,...l,focusable:!s,children:r.jsx(st.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:He(e.onPointerMove,lg(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,lg(x=>o.onItemLeave(x))),onFocus:He(e.onFocus,()=>f(!0)),onBlur:He(e.onBlur,()=>f(!1))})})})}),nle="MenuCheckboxItem",k8=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx($8,{scope:e.__scopeMenu,checked:n,children:r.jsx(Sb,{role:"menuitemcheckbox","aria-checked":P0(n)?"mixed":n,...i,ref:t,"data-state":XA(n),onSelect:He(i.onSelect,()=>s==null?void 0:s(P0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});k8.displayName=nle;var O8="MenuRadioGroup",[rle,sle]=ud(O8,{value:void 0,onValueChange:()=>{}}),D8=w.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=Ds(s);return r.jsx(rle,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(YA,{...i,ref:t})})});D8.displayName=O8;var M8="MenuRadioItem",I8=w.forwardRef((e,t)=>{const{value:n,...s}=e,i=sle(M8,e.__scopeMenu),a=n===i.value;return r.jsx($8,{scope:e.__scopeMenu,checked:a,children:r.jsx(Sb,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":XA(a),onSelect:He(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});I8.displayName=M8;var QA="MenuItemIndicator",[$8,ile]=ud(QA,{checked:!1}),R8=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=ile(QA,n);return r.jsx(ei,{present:s||P0(a.checked)||a.checked===!0,children:r.jsx(st.span,{...i,ref:t,"data-state":XA(a.checked)})})});R8.displayName=QA;var ale="MenuSeparator",L8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});L8.displayName=ale;var ole="MenuArrow",F8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Nb(n);return r.jsx(fb,{...i,...s,ref:t})});F8.displayName=ole;var lle="MenuSub",[g6e,B8]=ud(lle),hp="MenuSubTrigger",z8=w.forwardRef((e,t)=>{const n=dd(hp,e.__scopeMenu),s=hv(hp,e.__scopeMenu),i=B8(hp,e.__scopeMenu),a=GA(hp,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(WA,{asChild:!0,...u,children:r.jsx(T8,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":q8(n.open),...e,ref:rl(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,lg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:He(e.onPointerLeave,lg(f=>{var g,x;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",N=y?-5:5,j=m[y?"left":"right"],b=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:j,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:j,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,f=>{var g;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||Voe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});z8.displayName=hp;var V8="MenuSubContent",U8=w.forwardRef((e,t)=>{const n=_8(Ki,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=dd(Ki,e.__scopeMenu),o=hv(Ki,e.__scopeMenu),l=B8(V8,e.__scopeMenu),c=w.useRef(null),u=Qt(t,c);return r.jsx(og.Provider,{scope:e.__scopeMenu,children:r.jsx(ei,{present:s||a.open,children:r.jsx(og.Slot,{scope:e.__scopeMenu,children:r.jsx(KA,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:He(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:He(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=Uoe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});U8.displayName=V8;function q8(e){return e?"open":"closed"}function P0(e){return e==="indeterminate"}function XA(e){return P0(e)?"indeterminate":e?"checked":"unchecked"}function cle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ule(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function dle(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=ule(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function hle(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function fle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return hle(n,t)}function lg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var mle=C8,ple=WA,gle=P8,vle=A8,xle=YA,yle=E8,jle=Sb,ble=k8,wle=D8,Nle=I8,Sle=R8,Cle=L8,_le=F8,Ple=z8,Ale=U8,Cb="DropdownMenu",[Ele,v6e]=Zs(Cb,[N8]),$s=N8(),[Tle,W8]=Ele(Cb),H8=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=$s(t),u=w.useRef(null),[d,f]=po({prop:i,defaultProp:a??!1,onChange:o,caller:Cb});return r.jsx(Tle,{scope:t,triggerId:rs(),triggerRef:u,contentId:rs(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:l,children:r.jsx(mle,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};H8.displayName=Cb;var G8="DropdownMenuTrigger",K8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=W8(G8,n),o=$s(n);return r.jsx(ple,{asChild:!0,...o,children:r.jsx(st.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:rl(t,a.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});K8.displayName=G8;var kle="DropdownMenuPortal",Y8=e=>{const{__scopeDropdownMenu:t,...n}=e,s=$s(t);return r.jsx(gle,{...s,...n})};Y8.displayName=kle;var Q8="DropdownMenuContent",X8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=W8(Q8,n),a=$s(n),o=w.useRef(!1);return r.jsx(vle,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});X8.displayName=Q8;var Ole="DropdownMenuGroup",Dle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(xle,{...i,...s,ref:t})});Dle.displayName=Ole;var Mle="DropdownMenuLabel",J8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(yle,{...i,...s,ref:t})});J8.displayName=Mle;var Ile="DropdownMenuItem",Z8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(jle,{...i,...s,ref:t})});Z8.displayName=Ile;var $le="DropdownMenuCheckboxItem",eB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(ble,{...i,...s,ref:t})});eB.displayName=$le;var Rle="DropdownMenuRadioGroup",Lle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(wle,{...i,...s,ref:t})});Lle.displayName=Rle;var Fle="DropdownMenuRadioItem",tB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Nle,{...i,...s,ref:t})});tB.displayName=Fle;var Ble="DropdownMenuItemIndicator",nB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Sle,{...i,...s,ref:t})});nB.displayName=Ble;var zle="DropdownMenuSeparator",rB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Cle,{...i,...s,ref:t})});rB.displayName=zle;var Vle="DropdownMenuArrow",Ule=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(_le,{...i,...s,ref:t})});Ule.displayName=Vle;var qle="DropdownMenuSubTrigger",sB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Ple,{...i,...s,ref:t})});sB.displayName=qle;var Wle="DropdownMenuSubContent",iB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=$s(n);return r.jsx(Ale,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iB.displayName=Wle;var Hle=H8,Gle=K8,Kle=Y8,aB=X8,oB=J8,lB=Z8,cB=eB,uB=tB,dB=nB,hB=rB,fB=sB,mB=iB;const Yle=Hle,Qle=Gle,Xle=w.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(fB,{ref:i,className:Ze("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Lte,{className:"ml-auto h-4 w-4"})]}));Xle.displayName=fB.displayName;const Jle=w.forwardRef(({className:e,...t},n)=>r.jsx(mB,{ref:n,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Jle.displayName=mB.displayName;const pB=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Kle,{children:r.jsx(aB,{ref:s,sideOffset:t,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));pB.displayName=aB.displayName;const qy=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(lB,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));qy.displayName=lB.displayName;const Zle=w.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(cB,{ref:i,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(dB,{children:r.jsx(jA,{className:"h-4 w-4"})})}),t]}));Zle.displayName=cB.displayName;const ece=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(uB,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(dB,{children:r.jsx(Bte,{className:"h-2 w-2 fill-current"})})}),t]}));ece.displayName=uB.displayName;const gB=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(oB,{ref:s,className:Ze("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));gB.displayName=oB.displayName;const j2=w.forwardRef(({className:e,...t},n)=>r.jsx(hB,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));j2.displayName=hB.displayName;var vB={exports:{}},xB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=w;function tce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nce=typeof Object.is=="function"?Object.is:tce,rce=af.useState,sce=af.useEffect,ice=af.useLayoutEffect,ace=af.useDebugValue;function oce(e,t){var n=t(),s=rce({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return ice(function(){i.value=n,i.getSnapshot=t,iS(i)&&a({inst:i})},[e,n,t]),sce(function(){return iS(i)&&a({inst:i}),e(function(){iS(i)&&a({inst:i})})},[e]),ace(n),n}function iS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nce(e,n)}catch{return!0}}function lce(e,t){return t()}var cce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lce:oce;xB.useSyncExternalStore=af.useSyncExternalStore!==void 0?af.useSyncExternalStore:cce;vB.exports=xB;var uce=vB.exports;function dce(){return uce.useSyncExternalStore(hce,()=>!0,()=>!1)}function hce(){return()=>{}}var JA="Avatar",[fce,x6e]=Zs(JA),[mce,yB]=fce(JA),jB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=w.useState("idle");return r.jsx(mce,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(st.span,{...s,ref:t})})});jB.displayName=JA;var bB="AvatarImage",wB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=yB(bB,n),l=pce(s,a),c=Ds(u=>{i(u),o.onImageLoadingStatusChange(u)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(st.img,{...a,ref:t,src:s}):null});wB.displayName=bB;var NB="AvatarFallback",SB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=yB(NB,n),[o,l]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(st.span,{...i,ref:t}):null});SB.displayName=NB;function iI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function pce(e,{referrerPolicy:t,crossOrigin:n}){const s=dce(),i=w.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>iI(a,e));return Nr(()=>{l(iI(a,e))},[a,e]),Nr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var CB=jB,_B=wB,PB=SB;const Hr=w.forwardRef(({className:e,...t},n)=>r.jsx(CB,{ref:n,className:Ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Hr.displayName=CB.displayName;const ll=w.forwardRef(({className:e,...t},n)=>r.jsx(_B,{ref:n,className:Ze("aspect-square h-full w-full",e),...t}));ll.displayName=_B.displayName;const Gr=w.forwardRef(({className:e,...t},n)=>r.jsx(PB,{ref:n,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Gr.displayName=PB.displayName;const gce="modulepreload",vce=function(e){return"/"+e},aI={},fv=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=vce(c),c in aI)return;aI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":gce,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},xce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fv(async()=>{const{default:s}=await Promise.resolve().then(()=>Kf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class ZA extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class yce extends ZA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oI extends ZA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lI extends ZA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var b2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(b2||(b2={}));var jce=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class bce{constructor(t,{headers:n={},customFetch:s,region:i=b2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=xce(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return jce(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new yce(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new oI(f);if(!f.ok)throw new lI(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield f.json():g==="application/octet-stream"?x=yield f.blob():g==="text/event-stream"?x=f:g==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof lI||i instanceof oI?i.context:void 0}}})}}var Gs={},eE={},_b={},mv={},Pb={},Ab={},wce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},of=wce();const Nce=of.fetch,AB=of.fetch.bind(of),EB=of.Headers,Sce=of.Request,Cce=of.Response,Kf=Object.freeze(Object.defineProperty({__proto__:null,Headers:EB,Request:Sce,Response:Cce,default:AB,fetch:Nce},Symbol.toStringTag,{value:"Module"})),_ce=lJ(Kf);var Eb={};Object.defineProperty(Eb,"__esModule",{value:!0});let Pce=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Eb.default=Pce;var TB=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ab,"__esModule",{value:!0});const Ace=TB(_ce),Ece=TB(Eb);let Tce=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ace.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,f=null,m=null,g=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),N=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,g=200,x="OK")}catch{a.status===404&&y===""?(g=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&this.shouldThrowOnError)throw new Ece.default(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Ab.default=Tce;var kce=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pb,"__esModule",{value:!0});const Oce=kce(Ab);let Dce=class extends Oce.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Pb.default=Dce;var Mce=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mv,"__esModule",{value:!0});const Ice=Mce(Pb);let $ce=class extends Ice.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};mv.default=$ce;var Rce=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_b,"__esModule",{value:!0});const Wm=Rce(mv);let Lce=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Wm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Wm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wm.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Wm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Wm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};_b.default=Lce;var kB=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eE,"__esModule",{value:!0});const Fce=kB(_b),Bce=kB(mv);let zce=class OB{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Fce.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new OB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;s||i?(l=s?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Bce.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};eE.default=zce;var Yf=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.PostgrestError=Gs.PostgrestBuilder=Gs.PostgrestTransformBuilder=Gs.PostgrestFilterBuilder=Gs.PostgrestQueryBuilder=Gs.PostgrestClient=void 0;const DB=Yf(eE);Gs.PostgrestClient=DB.default;const MB=Yf(_b);Gs.PostgrestQueryBuilder=MB.default;const IB=Yf(mv);Gs.PostgrestFilterBuilder=IB.default;const $B=Yf(Pb);Gs.PostgrestTransformBuilder=$B.default;const RB=Yf(Ab);Gs.PostgrestBuilder=RB.default;const LB=Yf(Eb);Gs.PostgrestError=LB.default;var Vce=Gs.default={PostgrestClient:DB.default,PostgrestQueryBuilder:MB.default,PostgrestFilterBuilder:IB.default,PostgrestTransformBuilder:$B.default,PostgrestBuilder:RB.default,PostgrestError:LB.default};const{PostgrestClient:Uce,PostgrestQueryBuilder:S6e,PostgrestFilterBuilder:C6e,PostgrestTransformBuilder:_6e,PostgrestBuilder:P6e,PostgrestError:A6e}=Vce;class qce{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Wce="2.15.5",Hce=`realtime-js/${Wce}`,Gce="1.0.0",w2=1e4,Kce=1e3,Yce=100;var Pp;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pp||(Pp={}));var Ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ar||(Ar={}));var ya;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ya||(ya={}));var N2;(function(e){e.websocket="websocket"})(N2||(N2={}));var uu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(uu||(uu={}));class Qce{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class FB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kn||(kn={}));const cI=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=Xce(o,e,t,i),a),{})},Xce=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?BB(a,o):S2(o)},BB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return tue(t,n)}switch(e){case kn.bool:return Jce(t);case kn.float4:case kn.float8:case kn.int2:case kn.int4:case kn.int8:case kn.numeric:case kn.oid:return Zce(t);case kn.json:case kn.jsonb:return eue(t);case kn.timestamp:return nue(t);case kn.abstime:case kn.date:case kn.daterange:case kn.int4range:case kn.int8range:case kn.money:case kn.reltime:case kn.text:case kn.time:case kn.timestamptz:case kn.timetz:case kn.tsrange:case kn.tstzrange:return S2(t);default:return S2(t)}},S2=e=>e,Jce=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Zce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eue=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tue=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>BB(t,l))}return e},nue=e=>typeof e=="string"?e.replace(" ","T"):e,zB=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class aS{constructor(t,n,s={},i=w2){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uI||(uI={}));class Ap{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ap.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Ap.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ap.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dI||(dI={}));var Ep;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ep||(Ep={}));var Ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ro||(Ro={}));class tE{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new aS(this,ya.join,this.params,this.timeout),this.rejoinTimer=new FB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ya.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ap(this),this.broadcastEndpointURL=zB(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ep.PRESENCE]&&this.bindings[Ep.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Ro.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Ro.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(Ro.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,N=[];for(let j=0;j<y;j++){const b=v[j],{filter:{event:_,schema:C,table:A,filter:P}}=b,E=g&&g[j];if(E&&E.event===_&&E.schema===C&&E.table===A&&E.filter===P)N.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Ar.errored,t==null||t(Ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ro.SUBSCRIBED);return}}).receive("error",g=>{this.state=Ar.errored,t==null||t(Ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Ar.joined&&t===Ep.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ar.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ya.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new aS(this,ya.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new aS(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Yce){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ya;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var x,v,y,N,j,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,C=(x=g.filter)===null||x===void 0?void 0:x.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(j=(N=g==null?void 0:g.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return _==="*"||_===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:y,commit_timestamp:N,type:j,errors:b}=x;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:N,eventType:j,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(m,s)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&tE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ya.close,{},t)}_onError(t){this._on(ya.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cI(t.columns,t.old_record)),n}}const oS=()=>{},Jx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rue=[1e3,2e3,5e3,1e4],sue=1e4,iue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aue{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=w2,this.transport=null,this.heartbeatIntervalMs=Jx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oS,this.ref=0,this.reconnectTimer=null,this.logger=oS,this.conn=null,this.sendBuffer=[],this.serializer=new Qce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>fv(async()=>{const{default:l}=await Promise.resolve().then(()=>Kf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${N2.websocket}`,this.httpEndpoint=zB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qce.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gce}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Pp.connecting:return uu.Connecting;case Pp.open:return uu.Open;case Pp.closing:return uu.Closing;default:return uu.Closed}}isConnected(){return this.connectionState()===uu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new tE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Kce,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Jx.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${s} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ya.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([iue],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Hce};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ya.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new FB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:w2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Jx.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:oS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>rue[f-1]||sue,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class nE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oue extends nE{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class C2 extends nE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var lue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const VB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fv(async()=>{const{default:s}=await Promise.resolve().then(()=>Kf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},cue=()=>lue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fv(()=>Promise.resolve().then(()=>Kf),void 0)).Response:Response}),_2=e=>{if(Array.isArray(e))return e.map(n=>_2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=_2(s)}),t},uue=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var hd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const lS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),due=(e,t,n)=>hd(void 0,void 0,void 0,function*(){const s=yield cue();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new oue(lS(i),a,o))}).catch(i=>{t(new C2(lS(i),i))}):t(new C2(lS(e),e))}),hue=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?i:(uue(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function pv(e,t,n,s,i,a){return hd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,hue(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>due(c,l,s))})})}function A0(e,t,n,s){return hd(this,void 0,void 0,function*(){return pv(e,"GET",t,n,s)})}function Ka(e,t,n,s,i){return hd(this,void 0,void 0,function*(){return pv(e,"POST",t,s,i,n)})}function P2(e,t,n,s,i){return hd(this,void 0,void 0,function*(){return pv(e,"PUT",t,s,i,n)})}function fue(e,t,n,s){return hd(this,void 0,void 0,function*(){return pv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function UB(e,t,n,s,i){return hd(this,void 0,void 0,function*(){return pv(e,"DELETE",t,s,i,n)})}var Ns=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const mue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pue{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=VB(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return Ns(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},hI),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?P2:Ka)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Ns(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Ns(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:hI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield P2(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Er(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ns(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ka(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new nE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}update(t,n,s){return Ns(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Ns(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Ns(this,void 0,void 0,function*(){try{return{data:{path:(yield Ka(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Ns(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ka(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Ns(this,void 0,void 0,function*(){try{const i=yield Ka(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}download(t,n){return Ns(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield A0(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Er(l))return{data:null,error:l};throw l}})}info(t){return Ns(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield A0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_2(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}exists(t){return Ns(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield fue(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s)&&s instanceof C2){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return Ns(this,void 0,void 0,function*(){try{return{data:yield UB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}list(t,n,s){return Ns(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mue),n),{prefix:t||""});return{data:yield Ka(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ns(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Ka(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const gue="2.12.1",vue={"X-Client-Info":`storage-js/${gue}`};var zd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class xue{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},vue),n),this.fetch=VB(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zd(this,void 0,void 0,function*(){try{return{data:yield A0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}})}getBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield A0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return zd(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return zd(this,void 0,void 0,function*(){try{return{data:yield P2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}emptyBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}deleteBucket(t){return zd(this,void 0,void 0,function*(){try{return{data:yield UB(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}}class yue extends xue{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new pue(this.url,this.headers,t,this.fetch)}}const jue="2.57.4";let fp="";typeof Deno<"u"?fp="deno":typeof document<"u"?fp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fp="react-native":fp="node";const bue={"X-Client-Info":`supabase-js-${fp}/${jue}`},wue={headers:bue},Nue={schema:"public"},Sue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cue={};var _ue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Pue=e=>{let t;return e?t=e:typeof fetch>"u"?t=AB:t=fetch,(...n)=>t(...n)},Aue=()=>typeof Headers>"u"?EB:Headers,Eue=(e,t,n)=>{const s=Pue(n),i=Aue();return(a,o)=>_ue(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var Tue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function kue(e){return e.endsWith("/")?e:e+"/"}function Oue(e,t){var n,s;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Tue(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Due(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kue(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qB="2.71.1",Jd=30*1e3,A2=3,cS=A2*Jd,Mue="http://localhost:9999",Iue="supabase.auth.token",$ue={"X-Client-Info":`gotrue-js/${qB}`},E2="X-Supabase-Api-Version",WB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lue=10*60*1e3;class rE extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function $t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Fue extends rE{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Bue(e){return $t(e)&&e.name==="AuthApiError"}class HB extends rE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Dc extends rE{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class $l extends Dc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zue(e){return $t(e)&&e.name==="AuthSessionMissingError"}class Zx extends Dc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ey extends Dc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ty extends Dc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vue(e){return $t(e)&&e.name==="AuthImplicitGrantRedirectError"}class fI extends Dc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class T2 extends Dc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function uS(e){return $t(e)&&e.name==="AuthRetryableFetchError"}class mI extends Dc{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class k2 extends Dc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pI=` 	
\r=`.split(""),Uue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pI.length;t+=1)e[pI[t].charCodeAt(0)]=-2;for(let t=0;t<E0.length;t+=1)e[E0[t].charCodeAt(0)]=t;return e})();function gI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(E0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(E0[s]),t.queuedBits-=6}}function GB(e,t,n){const s=Uue[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vI(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Hue(o,s,n)};for(let o=0;o<e.length;o+=1)GB(e.charCodeAt(o),i,a);return t.join("")}function que(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wue(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}que(s,t)}}function Hue(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Gue(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)GB(e.charCodeAt(i),n,s);return new Uint8Array(t)}function Kue(e){const t=[];return Wue(e,n=>t.push(n)),new Uint8Array(t)}function Yue(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>gI(i,n,s)),gI(null,n,s),t.join("")}function Que(e){return Math.round(Date.now()/1e3)+e}function Xue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fa=()=>typeof window<"u"&&typeof document<"u",Jc={tested:!1,writable:!1},KB=()=>{if(!fa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jc.tested)return Jc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jc.tested=!0,Jc.writable=!0}catch{Jc.tested=!0,Jc.writable=!1}return Jc.writable};function Jue(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const YB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fv(async()=>{const{default:s}=await Promise.resolve().then(()=>Kf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},Zue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ol=async(e,t)=>{await e.removeItem(t)};class Tb{constructor(){this.promise=new Tb.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Tb.promiseConstructor=Promise;function dS(e){const t=e.split(".");if(t.length!==3)throw new k2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Rue.test(t[s]))throw new k2("JWT not in base64url format");return{header:JSON.parse(vI(t[0])),payload:JSON.parse(vI(t[1])),signature:Gue(t[2]),raw:{header:t[0],payload:t[1]}}}async function ede(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tde(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function nde(e){return("0"+e.toString(16)).substr(-2)}function rde(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,nde).join("")}async function sde(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function ide(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sde(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vd(e,t,n=!1){const s=rde();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Zd(e,`${t}-code-verifier`,i);const a=await ide(s);return[a,s===a?"plain":"s256"]}const ade=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ode(e){const t=e.headers.get(E2);if(!t||!t.match(ade))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lde(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cde(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ude=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ud(e){if(!ude.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xI(e){return JSON.parse(JSON.stringify(e))}var dde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const iu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hde=[502,503,504];async function yI(e){var t;if(!Zue(e))throw new T2(iu(e),0);if(hde.includes(e.status))throw new T2(iu(e),e.status);let n;try{n=await e.json()}catch(a){throw new HB(iu(a),a)}let s;const i=ode(e);if(i&&i.getTime()>=WB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new mI(iu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new $l}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new mI(iu(n),e.status,n.weak_password.reasons);throw new Fue(iu(n),e.status||500,s)}const fde=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Gt(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[E2]||(a[E2]=WB["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await mde(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function mde(e,t,n,s,i,a){const o=fde(t,s,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new T2(iu(c),0)}if(l.ok||await yI(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await yI(c)}}function Io(e){var t;let n=null;xde(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Que(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function jI(e){const t=Io(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ul(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pde(e){return{data:e,error:null}}function gde(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=dde(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function vde(e){return e}function xde(e){return e.access_token&&e.refresh_token&&e.expires_in}const fS=["global","local","others"];var yde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class jde{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=YB(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=fS[0]){if(fS.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fS.join(", ")}`);try{return await Gt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ul})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=yde(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gde,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ul})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:vde});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($t(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ud(t);try{return await Gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ul})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ud(t);try{return await Gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ul})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ud(t);try{return await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ul})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ud(t.userId);try{const{data:n,error:s}=await Gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if($t(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ud(t.userId),Ud(t.id);try{return{data:await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}}function bI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function bde(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qd={debug:!!(globalThis&&KB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wde extends QB{}async function Nde(e,t,n){qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),qd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wde(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}bde();const Sde={url:Mue,storageKey:Iue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$ue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wI(e,t,n){return await n()}const Wd={};class cg{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cg.nextInstanceID,cg.nextInstanceID+=1,this.instanceID>0&&fa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Sde),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jde({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=YB(i.fetch),this.lock=i.lock||wI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:fa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Nde:this.lock=wI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:KB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=bI(this.memoryStorage)),fa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Wd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Wd[this.storageKey]=Object.assign(Object.assign({},Wd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Wd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wd[this.storageKey]=Object.assign(Object.assign({},Wd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qB}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Jue(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),fa()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Vue(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $t(n)?{error:n}:{error:new HB("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Io}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Vd(this.storage,this.storageKey)),a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:Io})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Io})}else throw new ey("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jI})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jI})}else throw new ey("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Zx}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,o,l,c,u,d,f,m,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:N,statement:j,options:b}=t;let _;if(fa())if(typeof N=="object")_=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=N}const C=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),j?{statement:j}:null));let P;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")P=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)P=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:y,error:N}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Yue(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Io});if(N)throw N;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Zx}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:N})}catch(y){if($t(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await Zc(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Io});if(await Ol(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Zx}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if($t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Io}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zx}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vd(this.storage,this.storageKey));const{error:f}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ey("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Io});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Vd(this.storage,this.storageKey)),await Gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:pde})}catch(a){if($t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new $l;const{error:i}=await Gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await Gt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await Gt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ey("You must provide either an email or phone number and a type")}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<cS:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Zc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=hS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ul}):await this._useSession(async n=>{var s,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $l}:await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ul})})}catch(n){if($t(n))return zue(n)&&(await this._removeSession(),await Ol(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new $l;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Vd(this.storage,this.storageKey));const{data:u,error:d}=await Gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ul});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $l;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=dS(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if($t(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new $l;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($t(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!fa())throw new ty("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ty(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ty("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fI("No code detected.");const{data:j,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new ty("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=Jd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const N={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(s){if($t(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Bue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ol(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Xue(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Vd(this.storage,this.storageKey,!0));try{return await Gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if($t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Gt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return fa()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if($t(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await Gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await tde(async i=>(i>0&&await ede(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Io})),(i,a)=>{const o=200*Math.pow(2,i);return a&&uS(a)&&Date.now()+o-s<Jd})}catch(s){if(this._debug(n,"error",s),$t(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),fa()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Zc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Zc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Zd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:hS()}else if(i&&!i.user&&!i.user){const o=await Zc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ol(this.storage,this.storageKey+"-user"),await Zd(this.storage,this.storageKey,i)):i.user=hS()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cS;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${cS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),uS(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new $l;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tb;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new $l;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),$t(a)){const o={session:null,error:a};return uS(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Zd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=xI(i);await Zd(this.storage,this.storageKey,a)}else{const i=xI(n);await Zd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ol(this.storage,this.storageKey),await Ol(this.storage,this.storageKey+"-code-verifier"),await Ol(this.storage,this.storageKey+"-user"),this.userStorage&&await Ol(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Jd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jd}ms, refresh threshold is ${A2} ticks`),i<=A2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof QB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Vd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Gt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if($t(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if($t(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($t(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Lue>i)return s;const{data:a,error:o}=await Gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};s=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=dS(s);n!=null&&n.allowExpired||lde(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=cde(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Kue(`${l}.${c}`)))throw new k2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}}cg.nextInstanceID=0;const Cde=cg;class _de extends Cde{constructor(t){super(t)}}var Pde=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Ade{constructor(t,n,s){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const l=Due(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Nue,realtime:Cue,auth:Object.assign(Object.assign({},Sue),{storageKey:c}),global:wue},d=Oue(s??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Eue(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Uce(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new yue(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new bce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Pde(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _de({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new aue(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ede=(e,t,n)=>new Ade(e,t,n);function Tde(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Tde()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kde="https://fqmeqckchbppabetefuk.supabase.co",Ode="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",cn=Ede(kde,Ode,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),XB=async()=>{const{data:{user:e},error:t}=await cn.auth.getUser();if(t)throw t;return e},kb=async()=>{const e=await XB();if(!e)return null;const{data:t,error:n}=await cn.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},Dde=async(e,t,n,s,i="assistant")=>{const{data:a,error:o}=await cn.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:s,role:i}}});if(o)throw o;return a},Mde=async()=>{const{error:e}=await cn.auth.signOut();if(e)throw e},Ide=async e=>{const t=await XB();if(!t)throw new Error("No authenticated user");const{data:n,error:s}=await cn.from("user_profiles").select("*").eq("id",t.id).single();n||await JB(t);const i=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:a,error:o}=await cn.from("user_profiles").update(i).eq("id",t.id).select().single();if(o){const l=t.user_metadata||{},c=l.full_name||l.name||"",u=(n==null?void 0:n.username)||l.username||t.email.split("@")[0],d=(n==null?void 0:n.role)||l.role||"assistant",f={id:t.id,email:t.email,username:u,full_name:c,role:d,...i},{data:m,error:g}=await cn.from("user_profiles").upsert(f).select().single();if(g)throw new Error(`Profile update failed: ${g.message}`);return m}return a},JB=async e=>{const t=await kb();if(t)return t;const n=e.user_metadata||{},s=n.full_name||n.name||"",i=n.username||e.email.split("@")[0],a=n.role||"assistant",{data:o,error:l}=await cn.from("user_profiles").insert({id:e.id,email:e.email,username:i,full_name:s,role:a}).select().single();if(l)throw l;return o},Ca={all:["auth"],session:()=>[...Ca.all,"session"]},$de=async()=>{try{const{data:{session:e},error:t}=await cn.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await kb()}catch{try{n=await JB(e.user)}catch(i){console.error("Failed to create user profile:",i);const a=e.user.user_metadata||{},o=a.full_name||a.name||"",l=a.username||e.user.email.split("@")[0];n={id:e.user.id,email:e.user.email,username:l,full_name:o,role:"assistant",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:a.avatar_url||a.picture||null}}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},Rde=()=>Tc({queryKey:Ca.session(),queryFn:$de,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),Lde=()=>{const e=ti();return ea({mutationFn:async({email:t,password:n})=>{const{data:s,error:i}=await cn.auth.signInWithPassword({email:t,password:n});if(i){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez réessayer plus tard"}[i.message]||i.message;throw new Error(o)}if(!s.user||!s.session)throw new Error("Échec de connexion - session invalide");return s.user},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:Ca.session()})},onError:()=>{e.setQueryData(Ca.session(),null)}})},Fde=()=>{const e=ti();return ea({mutationFn:async()=>{await Mde()},onSuccess:()=>{e.setQueryData(Ca.session(),null),e.removeQueries({queryKey:Ca.session()})}})},Bde=()=>{const e=ti();return ea({mutationFn:async()=>{const t=await kb();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:Ca.session()})}})},zde=()=>ea({mutationFn:async()=>{const{data:e,error:t}=await cn.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});if(t)throw t;return e}}),ZB=w.createContext(void 0);function Vde({children:e}){const{data:t,isLoading:n,error:s}=Rde(),i=Lde(),a=Fde(),o=Bde(),l=ti(),[c,u]=w.useState(!1),d=w.useRef(!1);w.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:N}}=cn.auth.onAuthStateChange((b,_)=>{b==="SIGNED_OUT"?(l.setQueryData(Ca.session(),null),l.removeQueries({queryKey:Ca.session()})):b==="TOKEN_REFRESHED"&&_&&l.invalidateQueries({queryKey:Ca.session()}),c||u(!0)}),j=setTimeout(()=>{c||u(!0)},2e3);return()=>{N.unsubscribe(),clearTimeout(j),d.current=!1}},[l,c]);const f=async(N,j)=>{try{return await i.mutateAsync({email:N,password:j}),!0}catch(b){return console.error("Login error:",b),!1}},m=async()=>{try{await a.mutateAsync()}catch(N){console.error("Logout error:",N),l.setQueryData(Ca.session(),null)}},g=async()=>{await o.mutateAsync()},x=!c||n&&!s&&t===void 0,v=i.isPending||a.isPending,y={user:t||null,isAuthenticated:!!t&&c,isLoading:x||v,login:f,logout:m,refreshProfile:g};return r.jsx(ZB.Provider,{value:y,children:e})}function Mc(){const e=w.useContext(ZB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function NI(){const{user:e,logout:t}=Mc(),{toast:n}=Ft(),s=vb(),[i,a]=w.useState(!1),o=async()=>{a(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),a(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return r.jsx(ji,{className:"h-3 w-3"});case"assistant":return r.jsx(Wr,{className:"h-3 w-3"});default:return r.jsx(Wr,{className:"h-3 w-3"})}};return r.jsxs(Yle,{children:[r.jsx(Qle,{asChild:!0,children:r.jsx(q,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:r.jsx(Hr,{className:"h-8 w-8",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),r.jsxs(pB,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(gB,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),r.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),r.jsx(j2,{}),r.jsxs(qy,{className:"cursor-pointer",onClick:()=>s("/profile"),children:[r.jsx(Wr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profil"})]}),r.jsxs(qy,{className:"cursor-pointer",onClick:()=>s("/auth-settings"),children:[r.jsx(Yte,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Paramètres de connexion"})]}),r.jsx(j2,{}),r.jsxs(qy,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:i,children:[r.jsx(Q5,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:i?"Déconnexion...":"Se déconnecter"})]})]})]})}const ez=[{icon:Hte,label:"Dashboard",path:"/dashboard"},{icon:Oa,label:"Clients",path:"/clients"},{icon:Kt,label:"Animaux",path:"/pets"},{icon:Pt,label:"RDV",path:"/appointments"},{icon:cr,label:"Consultations",path:"/consultations"},{icon:As,label:"Vaccinations",path:"/vaccinations"},{icon:nc,label:"Antiparasites",path:"/antiparasites"},{icon:Y5,label:"Historiques",path:"/history"},{icon:WC,label:"Farm Mgmt",path:"/farm"}],tz=[{icon:Gn,label:"Stock",path:"/stock"},{icon:K5,label:"Comptabilité",path:"/accounting"},{icon:zte,label:"Paramètres",path:"/settings"}],Ude=[...ez,...tz];function us(){const e=cd(),[t,n]=w.useState(!1);return r.jsx("nav",{className:"bg-card border-b shadow-card",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[r.jsxs(Na,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(Kt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),r.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),r.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),r.jsx("div",{className:"hidden sm:block",children:r.jsx(GM,{})})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[ez.map(s=>r.jsx(q,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:r.jsxs(Na,{to:s.path,children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:s.label})]})},s.path)),r.jsxs("div",{className:"relative group",children:[r.jsxs(q,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[r.jsx(dM,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),r.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.jsx("div",{className:"py-1",children:tz.map(s=>r.jsxs(Na,{to:s.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===s.path?"bg-primary text-primary-foreground":""}`,children:[r.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.path))})})]})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-2",children:r.jsx(NI,{})}),r.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[r.jsx("div",{className:"sm:hidden",children:r.jsx(GM,{})}),r.jsx(NI,{}),r.jsx(q,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?r.jsx(lb,{className:"h-4 w-4"}):r.jsx(dM,{className:"h-4 w-4"})})]})]}),t&&r.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:Ude.map(s=>r.jsx(q,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:r.jsxs(Na,{to:s.path,children:[r.jsx(s.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"truncate",children:s.label})]})},s.path))})})]})})}class qde extends w.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:r.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"🚨 Erreur dans l'application"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),r.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const nz=w.createContext(void 0),SI=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crème et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],Hm=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],ny=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrôle annuel, bonne santé générale",diagnosis:"Aucun problème détecté",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrôle dans 1 an",cost:"85.00",notes:"Animal en excellente santé",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'appétit, léthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrôle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],ry=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrôle post-traitement",notes:"Vérifier l'amélioration de l'appétit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Stérilisation",notes:"Jeûne 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],sy=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachéobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la température et l'appétit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon appétit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amélioration progressive",createdAt:"2024-01-10T14:15:00Z"}],iy=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orléans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Génisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gérée, animaux en bonne santé",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"Étable moderne 850m², stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank à lait 2000L, Système de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n°123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"Épouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pré",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"Étable moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"Élevage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau système de ventilation installé",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m², nurserie 200m², système de ventilation automatique",equipmentDetails:"Système d'alimentation automatique, Pompe à lisier, Générateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crédit Agricole Assurances - Police n°987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sœur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problème de ventilation détecté, surveillance renforcée",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatisé 1200m², aire de parcours 5000m²",equipmentDetails:"Système de ramassage automatique des œufs, Ventilation programmable, Éclairage LED",certifications:["Œufs de France","Bien-être animal"],insuranceDetails:"MMA - Police n°555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme Équine du Val",owner:"Sophie Moreau",address:"12 Chemin des Écuries, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["Équin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle français","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"Écurie de prestige, chevaux de compétition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"Écuries 800m², manège couvert 1200m², carrière extérieure 2000m²",equipmentDetails:"Tracteur, Système d'arrosage automatique, Éclairage LED, Système de sécurité",certifications:["Bien-être animal","Équitation de tradition française"],insuranceDetails:"Allianz - Police n°781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"Époux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrières (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualité, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m², entrepôt 150m², zone de conditionnement 100m²",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matériel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n°131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"Épouse"},createdAt:"2024-01-05T11:15:00Z"}],ay=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fièvre aphteuse",status:"completed",followUp:"Contrôle dans 6 mois",cost:450,notes:"Intervention réussie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"Élevage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrôle sanitaire trimestriel",status:"completed",followUp:"Prochain contrôle en avril",cost:280,notes:"Tous les paramètres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],oy=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Première vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],Hd=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprimé",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donné avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],Gm=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complète contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Éviter le bain 48h avant et après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cœur, Vers ronds, Vers plats",description:"Protection combinée externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Première dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin à jeun, répéter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combinée mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Dès 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sèche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Attention aux réactions cutanées, surveiller 24h après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combinée mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",description:"Vermifugation complète pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Comprimés appétents, peut être donné avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systémique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous âges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Dès 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],CI=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique à large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vétérinaire Centrale",location:"Armoire A - Étagère 1",notes:"Stockage à température ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - Étagère 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hépatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 1",notes:"Conservation 2-8°C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 2",notes:"Conservation 2-8°C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matériel d'injection",description:"Seringues stériles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matériel Médical Pro",location:"Armoire C - Étagère 1",notes:"Stériles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unité",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Médicale",location:"Armoire D - Étagère 1",notes:"Type IIR, boîte de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrés",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Médicale",location:"Armoire D - Étagère 2",notes:"Taille M, boîte de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomètre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomètre digital vétérinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unité",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"Équipement Vétérinaire",location:"Bureau - Tiroir 1",notes:"Résistant à l'eau, écran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Suppléments Vétérinaires",location:"Armoire A - Étagère 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],ly=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adénovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (première injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu'à 16 semaines)",notes:"Protocole d'initiation à 6-8-12-16 semaines puis rappel à 1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la législation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:"À l'âge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommandée pour chiens en collectivité",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les sérovars pathogènes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double sérovariels recommandé",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopénie, Rhinotrachéite virale féline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement à 1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon réglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carré)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carré)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire à celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hémorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function sE({children:e}){const t=()=>{try{const X=localStorage.getItem("vetpro-clients"),de=localStorage.getItem("vetpro-pets"),ge=localStorage.getItem("vetpro-consultations"),We=localStorage.getItem("vetpro-appointments"),Je=localStorage.getItem("vetpro-prescriptions"),ze=localStorage.getItem("vetpro-farms"),at=localStorage.getItem("vetpro-farmInterventions"),_n=localStorage.getItem("vetpro-vaccinations"),vn=localStorage.getItem("vetpro-vaccinationProtocols"),dt=localStorage.getItem("vetpro-antiparasitics"),Rn=localStorage.getItem("vetpro-antiparasiticProtocols"),Qr=localStorage.getItem("vetpro-stockItems"),ia=localStorage.getItem("vetpro-stockAlerts"),Va=localStorage.getItem("vetpro-stockMovements"),Nd=localStorage.getItem("vetpro-accountingEntries");if(X&&de){const Zw=JSON.parse(X),xm=JSON.parse(de),e1=ge?JSON.parse(ge):ny,t1=We?JSON.parse(We):ry,n1=Je?JSON.parse(Je):sy,r1=ze?JSON.parse(ze):iy,ym=at?JSON.parse(at):ay,s1=_n?JSON.parse(_n):oy,i1=vn?JSON.parse(vn):ly,a1=dt?JSON.parse(dt):Hd,o1=Rn?JSON.parse(Rn):Gm,l1=Qr?JSON.parse(Qr):CI,Pn=ia?JSON.parse(ia):[],Sn=Va?JSON.parse(Va):[],c1=Nd?JSON.parse(Nd):[];return{clients:Zw.map(Fv=>({...Fv,pets:xm.filter(u1=>u1.ownerId===Fv.id)})),pets:xm,consultations:e1,appointments:t1,prescriptions:n1,farms:r1,farmInterventions:ym,vaccinations:s1,vaccinationProtocols:i1,antiparasitics:a1,antiparasiticProtocols:o1,stockItems:l1,stockAlerts:Pn,stockMovements:Sn,accountingEntries:c1}}}catch(X){console.error("Erreur lors du chargement des données:",X)}return{clients:SI.map(X=>({...X,pets:Hm.filter(de=>de.ownerId===X.id)})),pets:Hm,consultations:ny,appointments:ry,prescriptions:sy,farms:iy,farmInterventions:ay,vaccinations:oy,vaccinationProtocols:ly,antiparasitics:Hd,antiparasiticProtocols:Gm,stockItems:CI,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(re,X,de,ge=d,We=m,Je=x,ze=y,at=j,_n=_,vn=A,dt=E,Rn=$,Qr=O,ia=z,Va=H)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(re)),localStorage.setItem("vetpro-pets",JSON.stringify(X)),localStorage.setItem("vetpro-consultations",JSON.stringify(de)),localStorage.setItem("vetpro-appointments",JSON.stringify(ge)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(We)),localStorage.setItem("vetpro-farms",JSON.stringify(Je)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(ze)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(at)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(_n)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(vn)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(dt)),localStorage.setItem("vetpro-stockItems",JSON.stringify(Rn)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Qr)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(ia)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(Va))}catch(Nd){console.error("Erreur lors de la sauvegarde des données:",Nd)}},s=t(),[i,a]=w.useState(s.clients),[o,l]=w.useState(s.pets),[c,u]=w.useState(s.consultations),[d,f]=w.useState(s.appointments),[m,g]=w.useState(s.prescriptions),[x,v]=w.useState(s.farms),[y,N]=w.useState(s.farmInterventions),[j,b]=w.useState(s.vaccinations),[_,C]=w.useState(s.vaccinationProtocols),[A,P]=w.useState(s.antiparasitics),[E,M]=w.useState(s.antiparasiticProtocols),[$,k]=w.useState(s.stockItems||[]),[O,L]=w.useState(s.stockAlerts||[]),[z,J]=w.useState(s.stockMovements||[]),[H,oe]=w.useState(s.accountingEntries||[]);w.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Gm)),localStorage.getItem("vetpro-antiparasitics")||(localStorage.setItem("vetpro-antiparasitics",JSON.stringify(Hd)),P(Hd))},[]),w.useEffect(()=>{const re=new Date;new Date(re.getFullYear(),re.getMonth(),1),new Date(re.getFullYear(),re.getMonth()+1,0)},[]),w.useEffect(()=>{const re=new Date,X=new Date(re.getFullYear(),re.getMonth(),1),de=new Date(re.getFullYear(),re.getMonth()+1,0);wd(X.toISOString().split("T")[0],de.toISOString().split("T")[0]),vm(X.toISOString().split("T")[0],de.toISOString().split("T")[0])},[c,j,A,m,z]),w.useEffect(()=>{},[A]),w.useEffect(()=>{i.length>0&&c.length>=0&&j.length>=0&&A.length>=0&&d.length>=0&&i.forEach(re=>{te(re.id)})},[i.length,c.length,j.length,A.length,d.length]);const Q=re=>{const X={...re,name:`${re.firstName} ${re.lastName}`,id:Math.max(...i.map(ge=>ge.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},de=[...i,X];a(de),n(de,o,c,d,m,x,y,j)},D=re=>{const X={...re,id:Math.max(...o.map(We=>We.id),0)+1,status:re.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},de=[...o,X];l(de);const ge=i.map(We=>We.id===re.ownerId?{...We,pets:[...We.pets,{id:X.id,name:X.name,type:X.type,breed:X.breed,birthDate:X.birthDate,weight:X.weight,color:X.color,microchip:X.microchip,medicalNotes:X.medicalNotes,photo:X.photo,ownerId:X.ownerId,owner:X.owner,status:X.status,lastVisit:X.lastVisit,nextAppointment:X.nextAppointment,vaccinations:X.vaccinations}]}:We);a(ge),n(ge,de,c,d,m,x,y,j)},ae=(re,X)=>{const de=i.map(ge=>ge.id===re?{...ge,...X,name:X.firstName&&X.lastName?`${X.firstName} ${X.lastName}`:ge.name}:ge);a(de),n(de,o,c,d,m,x,y,j)},pe=(re,X)=>{({...o.find(We=>We.id===re),...X});const de=o.map(We=>We.id===re?{...We,...X}:We);l(de);const ge=i.map(We=>({...We,pets:We.pets.map(Je=>Je.id===re?{...Je,...X}:Je)}));a(ge),n(ge,de,c)},te=re=>{const X=i.find(dt=>dt.id===re);if(!X)return;const de=c.filter(dt=>dt.clientId===re),ge=j.filter(dt=>dt.clientId===re),We=A.filter(dt=>dt.clientId===re),Je=d.filter(dt=>dt.clientId===re&&dt.status==="completed"),ze=de.length+ge.length+We.length+Je.length,at=[...de.map(dt=>({date:dt.date,type:"consultation"})),...ge.map(dt=>({date:dt.dateGiven,type:"vaccination"})),...We.map(dt=>({date:dt.dateGiven,type:"antiparasitic"})),...Je.map(dt=>({date:dt.date,type:"appointment"}))],_n=at.length>0?at.reduce((dt,Rn)=>new Date(Rn.date)>new Date(dt.date)?Rn:dt).date:X.lastVisit,vn=i.map(dt=>dt.id===re?{...dt,totalVisits:ze,lastVisit:_n}:dt);return a(vn),{totalVisits:ze,lastVisit:_n}},Z=re=>{const X={...re,id:Math.max(...$.map(ge=>ge.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:re.currentStock*re.purchasePrice},de=[...$,X];return k(de),n(i,o,c,d,m,x,y,j,_,A,E,de,O,z),X},ne=(re,X)=>{const de=$.map(ge=>{if(ge.id===re){const We={...ge,...X};return(X.currentStock!==void 0||X.purchasePrice!==void 0)&&(We.totalValue=We.currentStock*We.purchasePrice),We.lastUpdated=new Date().toISOString(),We}return ge});return k(de),n(i,o,c,d,m,x,y,j,_,A,E,de,O,z),de.find(ge=>ge.id===re)},xe=re=>{const X=$.filter(de=>de.id!==re);k(X),n(i,o,c,d,m,x,y,j,_,A,E,X,O,z)},ye=re=>{const X={...re,id:Math.max(...z.map(ge=>ge.id),0)+1},de=[...z,X];return J(de),n(i,o,c,d,m,x,y,j,_,A,E,$,O,de),X},se=()=>{const re=[],X=new Date().toISOString().split("T")[0],de=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return $.forEach(ge=>{ge.currentStock<=ge.minimumStock&&re.push({id:re.length+1,itemId:ge.id,itemName:ge.name,type:"low_stock",message:`Stock bas: ${ge.currentStock} ${ge.unit} restant(s)`,severity:ge.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),ge.expirationDate&&(ge.expirationDate<X?re.push({id:re.length+1,itemId:ge.id,itemName:ge.name,type:"expired",message:`Expiré le ${ge.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):ge.expirationDate<=de&&re.push({id:re.length+1,itemId:ge.id,itemName:ge.name,type:"expiring_soon",message:`Expire le ${ge.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),re},F=re=>{const X={...re,id:Math.max(...c.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString(),photos:re.photos||[]},de=[...c,X];u(de);const ge=o.map(Je=>Je.id===re.petId?{...Je,lastVisit:re.date}:Je);l(ge);const We=i.map(Je=>({...Je,pets:Je.pets.map(ze=>ze.id===re.petId?{...ze,lastVisit:re.date}:ze)}));a(We),te(re.clientId),n(We,ge,de)},Y=re=>{if(!o.find(We=>We.id===re))return;const de=o.filter(We=>We.id!==re);l(de);const ge=i.map(We=>({...We,pets:We.pets.filter(Je=>Je.id!==re)}));a(ge),n(ge,de,c)},ee=()=>{localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const re=SI.map(X=>({...X,pets:Hm.filter(de=>de.ownerId===X.id)}));a(re),l(Hm),u(ny),f(ry),g(sy),v(iy),N(ay),b(oy),C(ly),P(Hd),M(Gm),n(re,Hm,ny,ry,sy,iy,ay,oy,ly,Hd,Gm)},G=()=>{const re={clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:_,antiparasitics:A,antiparasiticProtocols:E},X=new Blob([JSON.stringify(re,null,2)],{type:"application/json"}),de=URL.createObjectURL(X),ge=document.createElement("a");ge.href=de,ge.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(de)},I=re=>{const X=re.clients.map(de=>({...de,pets:re.pets.filter(ge=>ge.ownerId===de.id)}));a(X),l(re.pets),u(re.consultations||[]),f(re.appointments||[]),g(re.prescriptions||[]),v(re.farms||[]),N(re.farmInterventions||[]),b(re.vaccinations||[]),C(re.vaccinationProtocols||[]),P(re.antiparasitics||[]),M(re.antiparasiticProtocols||[]),n(X,re.pets,re.consultations||[],re.appointments||[],re.prescriptions||[],re.farms||[],re.farmInterventions||[],re.vaccinations||[],re.vaccinationProtocols||[],re.antiparasitics||[],re.antiparasiticProtocols||[])},ve=(re,X)=>{const de=c.map(ge=>ge.id===re?{...ge,...X}:ge);u(de),n(i,o,de)},we=re=>{const X=c.filter(de=>de.id!==re);u(X),n(i,o,X)},Fe=re=>{const X=$.find(de=>de.name.toLowerCase()===re.productName.toLowerCase()&&de.category==="medication"&&de.isActive);return X&&X.currentStock>=1?{...re,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...re,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...re,isInStock:!1,stockQuantity:0,stockDeducted:!1}},Be=re=>{const X=Fe(re);let de=[...$];if(X.stockDeducted&&X.stockItemId){const Je=de.findIndex(ze=>ze.id===X.stockItemId);if(Je!==-1){const ze=de[Je];de[Je]={...ze,currentStock:ze.currentStock-1,lastUpdated:new Date().toISOString()},ye({itemId:X.stockItemId,itemName:X.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,...A.map(at=>at.id))+1}`,performedBy:X.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${X.petName} - ${X.productName}`})}}const ge={...X,id:Math.max(0,...A.map(Je=>Je.id))+1,createdAt:new Date().toISOString()},We=[...A,ge];P(We),k(de),te(re.clientId),n(i,o,c,d,m,x,y,j,_,We,E,de,O,z),localStorage.getItem("vetpro-antiparasitics")},it=(re,X)=>{const de=A.map(ge=>ge.id===re?{...ge,...X}:ge);P(de),n(i,o,c,d,m,x,y,j,_,de,E)},lt=re=>{const X=A.filter(de=>de.id!==re);P(X),n(i,o,c,d,m,x,y,j,_,X,E)},ft=re=>{const X={...re,id:Math.max(0,...E.map(ge=>ge.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},de=[...E,X];M(de),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(de))},Ne=(re,X)=>{const de=E.map(ge=>ge.id===re?{...ge,...X,updatedAt:new Date().toISOString()}:ge);M(de),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(de))},Ge=re=>{const X=E.filter(de=>de.id!==re);M(X),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(X))},Ke=re=>A.find(X=>X.id===re),qt=re=>A.filter(de=>de.petId===re),Yn=re=>A.filter(X=>X.clientId===re),Tt=()=>{const re=new Date().toISOString().split("T")[0];return A.filter(X=>X.nextDueDate&&X.nextDueDate<re&&X.status!=="completed")},Nn=(re=7)=>{const X=new Date,de=new Date(X.getTime()+re*24*60*60*1e3);return A.filter(ge=>{if(!ge.nextDueDate)return!1;const We=new Date(ge.nextDueDate);return We>=X&&We<=de})},ur=re=>A.filter(X=>X.status===re),Qn=re=>E.find(X=>X.id===re),gs=re=>E.filter(X=>X.species===re&&X.isActive),Se=()=>E.filter(re=>re.isActive),Vt=re=>i.find(X=>X.id===re),tt=re=>o.find(X=>X.id===re),mt=re=>c.find(X=>X.id===re),rn=re=>o.filter(X=>X.ownerId===re),is=re=>c.filter(X=>X.petId===re),Yr=re=>c.filter(X=>X.clientId===re),Rs=re=>{const X={...re,id:Math.max(...d.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},de=[...d,X];f(de),te(re.clientId),n(i,o,c,de,m)},xl=(re,X)=>{const de=d.map(ge=>ge.id===re?{...ge,...X}:ge);f(de),n(i,o,c,de,m)},ce=re=>{const X=d.filter(de=>de.id!==re);f(X),n(i,o,c,X,m)},qe=re=>d.find(X=>X.id===re),Le=re=>d.filter(X=>X.clientId===re),Tn=re=>d.filter(X=>X.petId===re),Xn=re=>d.filter(X=>X.date===re),sa=()=>{const re=new Date().toISOString().split("T")[0];return d.filter(X=>X.date>=re&&X.status!=="cancelled"&&X.status!=="completed").sort((X,de)=>new Date(X.date+"T"+X.time).getTime()-new Date(de.date+"T"+de.time).getTime())},bt=()=>{const re=new Date().toISOString().split("T")[0];return d.filter(X=>X.date<re&&X.status==="scheduled").sort((X,de)=>new Date(X.date+"T"+X.time).getTime()-new Date(de.date+"T"+de.time).getTime())},an=re=>re.map(X=>{const de=$.find(ge=>ge.name.toLowerCase()===X.name.toLowerCase()&&ge.category==="medication"&&ge.isActive);return de&&de.currentStock>=X.quantity?{...X,stockItemId:de.id,isInStock:!0,stockQuantity:de.currentStock,stockDeducted:!0}:de&&de.currentStock>0?{...X,stockItemId:de.id,isInStock:!0,stockQuantity:de.currentStock,stockDeducted:!1}:{...X,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),gn=re=>{const X=an(re.medications);let de=[...$];X.forEach(Je=>{if(Je.stockDeducted&&Je.stockItemId){const ze=de.findIndex(at=>at.id===Je.stockItemId);if(ze!==-1){const at=de[ze];de[ze]={...at,currentStock:at.currentStock-Je.quantity,lastUpdated:new Date().toISOString()},ye({itemId:Je.stockItemId,itemName:Je.name,type:"out",quantity:Je.quantity,reason:"Prescription médicale",reference:`Prescription #${Math.max(...m.map(_n=>_n.id),0)+1}`,performedBy:re.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${re.petName} - ${re.diagnosis}`})}}});const ge={...re,medications:X,id:Math.max(...m.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString()},We=[...m,ge];g(We),k(de),n(i,o,c,d,We,x,y,j,_,A,E,de,O,z,H)},vs=(re,X)=>{const de=m.map(ge=>ge.id===re?{...ge,...X}:ge);g(de),n(i,o,c,d,de,x,y,j,_,A,E,$,O,z,H)},xs=re=>{const X=m.filter(de=>de.id!==re);g(X),n(i,o,c,d,X,x,y,j,_,A,E,$,O,z,H)},Pi=re=>m.find(X=>X.id===re),si=re=>m.filter(X=>X.petId===re),ys=re=>m.filter(X=>X.consultationId===re),Ls=()=>m.filter(re=>re.status==="active").sort((re,X)=>new Date(X.date).getTime()-new Date(re.date).getTime()),Dw=re=>{const X={...re,id:Math.max(...x.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},de=[...x,X];v(de),n(i,o,c,d,m,de,y)},Mw=(re,X)=>{const de=x.map(ge=>ge.id===re?{...ge,...X}:ge);v(de),n(i,o,c,d,m,de,y)},Iw=re=>{const X=x.filter(de=>de.id!==re);v(X),n(i,o,c,d,m,X,y)},$w=re=>{const X={...re,id:Math.max(...y.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},de=[...y,X];N(de),n(i,o,c,d,m,x,de)},Rw=(re,X)=>{const de=y.map(ge=>ge.id===re?{...ge,...X}:ge);N(de),n(i,o,c,d,m,x,de)},Lw=re=>{const X=y.filter(de=>de.id!==re);N(X),n(i,o,c,d,m,x,X)},Fw=re=>x.find(X=>X.id===re),Bw=re=>y.find(X=>X.id===re),Tv=re=>y.filter(X=>X.farmId===re),zw=()=>{const re=new Date().toISOString().split("T")[0];return y.filter(X=>X.date>=re&&X.status!=="cancelled").sort((X,de)=>new Date(X.date).getTime()-new Date(de.date).getTime())},Vw=re=>x.filter(X=>X.status===re),Uw=re=>{const X=$.find(de=>de.name.toLowerCase()===re.vaccineName.toLowerCase()&&de.category==="vaccine"&&de.isActive);return X&&X.currentStock>=1?{...re,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...re,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...re,isInStock:!1,stockQuantity:0,stockDeducted:!1}},pm=re=>{const X=Uw(re);let de=[...$];if(X.stockDeducted&&X.stockItemId){const We=de.findIndex(Je=>Je.id===X.stockItemId);if(We!==-1){const Je=de[We];de[We]={...Je,currentStock:Je.currentStock-1,lastUpdated:new Date().toISOString()},ye({itemId:X.stockItemId,itemName:X.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...j.map(ze=>ze.id),0)+1}`,performedBy:X.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${X.petName} - ${X.vaccineName}`})}}const ge={...X,id:Math.max(...j.map(We=>We.id),0)+1,createdAt:new Date().toISOString()};return b(We=>{const Je=[...We,ge];return te(re.clientId),n(i,o,c,d,m,x,y,Je,_,A,E,de,O,z),Je}),k(de),ge.id},yd=(re,X)=>{const de=j.map(ge=>ge.id===re?{...ge,...X}:ge);b(de),n(i,o,c,d,m,x,y,de)},qw=re=>{const X=j.find(ge=>ge.id===re);if(!X)return;let de=[...j];X.vaccinationCategory==="new"?(j.filter(ge=>ge.originalVaccinationId===re),de=j.filter(ge=>ge.id!==re&&ge.originalVaccinationId!==re)):de=j.filter(ge=>ge.id!==re),b(de),n(i,o,c,d,m,x,y,de)},wo=re=>j.find(X=>X.id===re),Ww=re=>j.filter(X=>X.petId===re),jd=re=>j.filter(X=>X.clientId===re),Hw=()=>{const re=new Date().toISOString().split("T")[0];return j.filter(X=>X.nextDueDate<re&&X.status!=="completed").sort((X,de)=>new Date(X.nextDueDate).getTime()-new Date(de.nextDueDate).getTime())},Gw=()=>{const re=new Date,X=new Date(re.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],de=re.toISOString().split("T")[0];return j.filter(ge=>ge.nextDueDate>=de&&ge.nextDueDate<=X&&ge.status!=="completed").sort((ge,We)=>new Date(ge.nextDueDate).getTime()-new Date(We.nextDueDate).getTime())},Kw=re=>j.filter(X=>X.status===re),kv=()=>{const re=new Date().toISOString().split("T")[0];let X=!1;const de=j.map(ge=>ge.status==="completed"?ge:ge.nextDueDate<re&&ge.status!=="overdue"?(X=!0,{...ge,status:"overdue"}):ge.nextDueDate>=re&&ge.status!=="scheduled"?(X=!0,{...ge,status:"scheduled"}):ge);return X&&(b(de),n(i,o,c,d,m,x,y,de)),de},Ov=re=>{const X={...re,id:Math.max(..._.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},de=[..._,X];C(de),n(i,o,c,d,m,x,y,j,de)},Dv=(re,X)=>{const de=_.map(ge=>ge.id===re?{...ge,...X,updatedAt:new Date().toISOString()}:ge);C(de),n(i,o,c,d,m,x,y,j,de)},Yw=re=>{const X=_.filter(de=>de.id!==re);C(X),n(i,o,c,d,m,x,y,j,X)},Qw=re=>_.find(X=>X.id===re),Xw=re=>_.filter(X=>X.species===re&&X.isActive),Jw=()=>_.filter(re=>re.isActive),Mv=(re,X,de)=>{const ge=_.find(ze=>ze.name===re&&ze.species===X&&ze.isActive);if(!ge||!ge.intervals.length)return null;const We=ge.intervals[ge.intervals.length-1],Je=new Date(de);return Je.setDate(Je.getDate()+We.offsetDays),Je.toISOString().split("T")[0]},Iv=(re,X,de)=>{var vn;const ge=wo(re);if(!ge)return;const We={clientId:ge.clientId,clientName:ge.clientName,petId:ge.petId,petName:ge.petName,date:X,time:de,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${ge.vaccineName}`,notes:`Rappel pour ${ge.vaccineName} (vaccination originale ID: ${re})`,status:"scheduled",reminderSent:!1};Rs(We);const Je=Math.max(...d.map(dt=>dt.id),0)+1,ze={petId:ge.petId,petName:ge.petName,clientId:ge.clientId,clientName:ge.clientName,vaccineName:ge.vaccineName,vaccineType:ge.vaccineType,vaccinationCategory:"reminder",dateGiven:X,nextDueDate:ge.nextDueDate,batchNumber:ge.batchNumber,veterinarian:ge.veterinarian,notes:`Rappel de ${ge.vaccineName} (original: ${re})`,status:"scheduled",cost:ge.cost,location:ge.location,manufacturer:ge.manufacturer,originalVaccinationId:re,reminderAppointmentId:Je,isReminder:!0};pm(ze);const at={id:Math.max(...((vn=ge.reminderHistory)==null?void 0:vn.map(dt=>dt.id))||[0],0)+1,vaccinationId:re,appointmentId:Je,scheduledDate:X,status:"scheduled",notes:`Rappel programmé pour ${ge.vaccineName}`,createdAt:new Date().toISOString()},_n=[...ge.reminderHistory||[],at];return yd(re,{reminderHistory:_n}),{appointment:We,reminderVaccination:ze,reminder:at}},$v=(re,X,de)=>{var ze;const ge=wo(re);if(!ge)return;const Je={status:"completed",reminderHistory:((ze=ge.reminderHistory)==null?void 0:ze.map(at=>at.appointmentId===X?{...at,status:"completed"}:at))||[],reminderAppointmentId:void 0};return de&&(Je.nextDueDate=de),yd(re,Je),xl(X,{status:"completed"}),ge},gm=(re,X)=>{const de=wo(re);if(!de)return null;const ge={petId:de.petId,petName:de.petName,clientId:de.clientId,clientName:de.clientName,vaccineName:de.vaccineName,vaccineType:de.vaccineType,vaccinationCategory:"reminder",dateGiven:X.datePerformed,nextDueDate:X.newNextDueDate||de.nextDueDate,calculatedDueDate:de.calculatedDueDate,batchNumber:X.batchNumber||de.batchNumber,veterinarian:X.veterinarian,notes:X.notes||`Rappel effectué - ${de.vaccineName}`,status:"completed",cost:de.cost,location:de.location,manufacturer:de.manufacturer,expirationDate:de.expirationDate,adverseReactions:de.adverseReactions,originalVaccinationId:re,isReminder:!0};pm(ge);const We={status:"completed",reminderAppointmentId:void 0};return X.newNextDueDate&&(We.nextDueDate=X.newNextDueDate),yd(re,We),ge},yl=re=>{const X={...re,id:Math.max(...H.map(ge=>ge.id),0)+1,createdAt:new Date().toISOString()},de=[...H,X];return oe(de),n(i,o,c,d,m,x,y,j,_,A,E,$,O,z,de),X},Rv=(re,X)=>{const de=H.map(ge=>ge.id===re?{...ge,...X}:ge);oe(de),n(i,o,c,d,m,x,y,j,_,A,E,$,O,z,de)},bd=re=>{const X=H.filter(de=>de.id!==re);oe(X),n(i,o,c,d,m,x,y,j,_,A,E,$,O,z,X)},wd=(re,X)=>{const de=new Date(re),ge=new Date(X);let We=0;const Je={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(ze=>{const at=new Date(ze.date);return at>=de&&at<=ge}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.consultations+=at,H.find(dt=>dt.source==="consultation"&&dt.sourceId===ze.id)||yl({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${ze.petName}`,amount:at,date:ze.date,reference:`Consultation #${ze.id}`,source:"consultation",sourceId:ze.id,notes:`Consultation automatique pour ${ze.petName}`})}),j.filter(ze=>{const at=new Date(ze.dateGiven);return at>=de&&at<=ge}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.vaccinations+=at,H.find(dt=>dt.source==="vaccination"&&dt.sourceId===ze.id)||yl({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${ze.vaccineName}`,amount:at,date:ze.dateGiven,reference:`Vaccination #${ze.id}`,source:"vaccination",sourceId:ze.id,notes:`Vaccination automatique pour ${ze.petName}`})}),A.filter(ze=>{const at=new Date(ze.dateGiven);return at>=de&&at<=ge}).forEach(ze=>{var vn;const at=parseFloat(((vn=ze.cost)==null?void 0:vn.toString())||"0");We+=at,Je.antiparasitics+=at,H.find(dt=>dt.source==="antiparasitic"&&dt.sourceId===ze.id)||yl({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${ze.productName}`,amount:at,date:ze.dateGiven,reference:`Antiparasitaire #${ze.id}`,source:"antiparasitic",sourceId:ze.id,notes:`Antiparasitaire automatique pour ${ze.petName}`})}),m.filter(ze=>{const at=new Date(ze.createdAt);return at>=de&&at<=ge}).forEach(ze=>{const at=ze.medications.reduce((vn,dt)=>{var Rn;return vn+parseFloat(((Rn=dt.cost)==null?void 0:Rn.toString())||"0")*dt.quantity},0);We+=at,Je.prescriptions+=at,!H.find(vn=>vn.source==="prescription"&&vn.sourceId===ze.id)&&at>0&&yl({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${ze.petName}`,amount:at,date:ze.createdAt,reference:`Prescription #${ze.id}`,source:"prescription",sourceId:ze.id,notes:`Prescription automatique pour ${ze.petName}`})}),{totalRevenue:We,revenueBreakdown:Je}},vm=(re,X)=>{const de=new Date(re),ge=new Date(X);let We=0;const Je={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return z.filter(ze=>{const at=new Date(ze.date);return at>=de&&at<=ge&&ze.type==="in"&&ze.reason==="Achat fournisseur"}).forEach(ze=>{const at=$.find(_n=>_n.id===ze.itemId);if(at){const _n=at.purchasePrice*ze.quantity;We+=_n,Je.stockPurchases+=_n,H.find(dt=>dt.source==="stock_purchase"&&dt.reference===ze.reference)||yl({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${ze.itemName}`,amount:_n,date:ze.date,reference:ze.reference,source:"stock_purchase",notes:`Achat automatique de ${ze.quantity} ${ze.itemName}`})}}),{totalExpenses:We,expenseBreakdown:Je}},Lv=(re,X,de)=>{const{totalRevenue:ge,revenueBreakdown:We}=wd(X,de),{totalExpenses:Je,expenseBreakdown:ze}=vm(X,de),at=H.filter(Rn=>{const Qr=new Date(Rn.date),ia=new Date(X),Va=new Date(de);return Qr>=ia&&Qr<=Va&&Rn.category==="manual"&&Rn.type==="revenue"}).reduce((Rn,Qr)=>Rn+Qr.amount,0),_n=H.filter(Rn=>{const Qr=new Date(Rn.date),ia=new Date(X),Va=new Date(de);return Qr>=ia&&Qr<=Va&&Rn.category==="manual"&&Rn.type==="expense"}).reduce((Rn,Qr)=>Rn+Qr.amount,0);We.manualEntries=at,ze.manualEntries=_n;const vn=ge+at,dt=Je+_n;return{period:re,totalRevenue:vn,totalExpenses:dt,netIncome:vn-dt,revenueBreakdown:We,expenseBreakdown:ze}};return r.jsx(nz.Provider,{value:{clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:_,antiparasitics:A,antiparasiticProtocols:E,stockItems:$,stockAlerts:O,stockMovements:z,accountingEntries:H,addClient:Q,addPet:D,addConsultation:F,addAppointment:Rs,addPrescription:gn,addFarm:Dw,addFarmIntervention:$w,addVaccination:pm,addVaccinationProtocol:Ov,addAntiparasitic:Be,addAntiparasiticProtocol:ft,addStockItem:Z,addStockMovement:ye,addAccountingEntry:yl,updateAccountingEntry:Rv,deleteAccountingEntry:bd,calculateAutomaticRevenue:wd,calculateAutomaticExpenses:vm,generateAccountingSummary:Lv,updateClient:ae,updatePet:pe,updateConsultation:ve,updateAppointment:xl,updatePrescription:vs,updateFarm:Mw,updateFarmIntervention:Rw,updateVaccination:yd,updateVaccinationProtocol:Dv,updateAntiparasitic:it,updateAntiparasiticProtocol:Ne,updateStockItem:ne,deletePet:Y,deleteConsultation:we,deleteAppointment:ce,deletePrescription:xs,deleteFarm:Iw,deleteFarmIntervention:Lw,deleteVaccination:qw,deleteVaccinationProtocol:Yw,deleteAntiparasitic:lt,deleteAntiparasiticProtocol:Ge,deleteStockItem:xe,resetData:ee,exportData:G,importData:I,getClientById:Vt,getPetById:tt,getConsultationById:mt,getAppointmentById:qe,getPrescriptionById:Pi,getFarmById:Fw,getFarmInterventionById:Bw,getVaccinationById:wo,getVaccinationProtocolById:Qw,getVaccinationProtocolsBySpecies:Xw,getActiveVaccinationProtocols:Jw,getAntiparasiticById:Ke,getAntiparasiticsByPetId:qt,getAntiparasiticsByClientId:Yn,getOverdueAntiparasitics:Tt,getUpcomingAntiparasitics:Nn,getAntiparasiticsByStatus:ur,getAntiparasiticProtocolById:Qn,getAntiparasiticProtocolsBySpecies:gs,getActiveAntiparasiticProtocols:Se,getPetsByOwnerId:rn,getConsultationsByPetId:is,getConsultationsByClientId:Yr,getAppointmentsByClientId:Le,getAppointmentsByPetId:Tn,getAppointmentsByDate:Xn,getUpcomingAppointments:sa,getOverdueAppointments:bt,getPrescriptionsByPetId:si,getPrescriptionsByConsultationId:ys,getActivePrescriptions:Ls,getFarmInterventionsByFarmId:Tv,getUpcomingFarmInterventions:zw,getFarmsByStatus:Vw,getVaccinationsByPetId:Ww,getVaccinationsByClientId:jd,getOverdueVaccinations:Hw,getUpcomingVaccinations:Gw,getVaccinationsByStatus:Kw,createVaccinationReminder:Iv,completeVaccinationReminder:$v,confirmVaccinationReminder:gm,updateVaccinationStatuses:kv,calculateDueDateFromProtocol:Mv,updateClientStats:te,getStockAlerts:se},children:e})}const jt=()=>{const e=w.useContext(nz);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},ie=w.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ie.displayName="Input";var Wde="Label",rz=w.forwardRef((e,t)=>r.jsx(st.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));rz.displayName=Wde;var sz=rz;const Hde=iv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=w.forwardRef(({className:e,...t},n)=>r.jsx(sz,{ref:n,className:Ze(Hde(),e),...t}));B.displayName=sz.displayName;const he=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));he.displayName="Card";const Ae=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",e),...t}));Ae.displayName="CardHeader";const Ee=w.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ee.displayName="CardTitle";const ug=w.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));ug.displayName="CardDescription";const fe=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("p-6 pt-0",e),...t}));fe.displayName="CardContent";const Gde=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",e),...t}));Gde.displayName="CardFooter";const Kde=iv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),iz=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Ze(Kde({variant:t}),e),...n}));iz.displayName="Alert";const Yde=w.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Ze("mb-1 font-medium leading-none tracking-tight",e),...t}));Yde.displayName="AlertTitle";const az=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ze("text-sm [&_p]:leading-relaxed",e),...t}));az.displayName="AlertDescription";function Qde(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(""),{login:c,isLoading:u}=Mc(),d=zde(),f=async g=>{if(g.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await c(e,n)||l("Email ou mot de passe incorrect, ou email non confirmé")},m=async()=>{l("");try{await d.mutateAsync()}catch{l("Erreur lors de la connexion avec Google")}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(he,{className:"w-full max-w-md",children:[r.jsxs(Ae,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(Kt,{className:"h-8 w-8 text-primary"})})}),r.jsx(Ee,{className:"text-2xl font-bold",children:"VetPro CRM"}),r.jsx(ug,{children:"Connectez-vous à votre espace vétérinaire"})]}),r.jsxs(fe,{children:[r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o&&r.jsx(iz,{variant:"destructive",children:r.jsx(az,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:g=>t(g.target.value),disabled:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"password",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ie,{id:"password",type:i?"text":"password",placeholder:"••••••••",value:n,onChange:g=>s(g.target.value),disabled:u,required:!0}),r.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),disabled:u,children:i?r.jsx(qte,{className:"h-4 w-4"}):r.jsx(ns,{className:"h-4 w-4"})})]})]}),r.jsx(q,{type:"submit",className:"w-full",disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx(bc,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continuer avec"})})]}),r.jsx(q,{type:"button",variant:"outline",className:"w-full",onClick:m,disabled:u||d.isPending,children:d.isPending?r.jsxs(r.Fragment,{children:[r.jsx(bc,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion avec Google..."]}):r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuer avec Google"]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",r.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})]})})}function ds({children:e}){const{isAuthenticated:t,isLoading:n,user:s}=Mc(),[i,a]=w.useState(!1);return w.useEffect(()=>{if(n){const o=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(o)}else a(!1)},[n]),i?r.jsx(m2,{to:"/login",replace:!0}):n&&!i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérification de l'authentification..."})]})}):!t||!s?r.jsx(m2,{to:"/login",replace:!0}):r.jsx(r.Fragment,{children:e})}function Xde({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:s,user:i}=Mc(),[a,o]=w.useState(!1);return w.useEffect(()=>{if(s){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[s]),a?r.jsx(r.Fragment,{children:e}):s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&i?r.jsx(m2,{to:t,replace:!0}):r.jsx(r.Fragment,{children:e})}const oz="/assets/vet-hero-UFBVcjRL.jpg";function Jde(){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b",children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(q,{variant:"ghost",asChild:!0,children:r.jsx(Na,{to:"/login",children:"Se connecter"})}),r.jsx(q,{asChild:!0,children:r.jsx(Na,{to:"/register",children:"Commencer"})})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Gérez votre pratique",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vétérinaire efficacement"})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide à gérer vos clients, leurs animaux, les rendez-vous, consultations et l'historique médical. Optimisez votre pratique avec notre solution tout-en-un."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(q,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Na,{to:"/register",children:["Commencer gratuitement",r.jsx(qC,{className:"h-4 w-4"})]})}),r.jsx(q,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:r.jsx(Na,{to:"/login",children:"Voir la démo"})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:oz,alt:"Vétérinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complète pour moderniser et optimiser votre pratique vétérinaire"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Oa,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez facilement vos clients et leurs animaux avec un système intuitif et complet."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Pt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground",children:"Planifiez et gérez vos rendez-vous avec un calendrier intelligent et flexible."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(cr,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique médical détaillé."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Y5,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),r.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activité avec des rapports détaillés et des tableaux de bord."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(ji,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sécurisé"}),r.jsx("p",{className:"text-muted-foreground",children:"Vos données sont protégées avec les plus hauts standards de sécurité."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Kt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les exploitations agricoles et suivez la santé des troupeaux."})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Prêt à moderniser votre pratique ?"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vétérinaires qui font confiance à VetPro pour gérer leur clinique efficacement."}),r.jsx("div",{className:"flex gap-4 justify-center",children:r.jsx(q,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Na,{to:"/register",children:["Commencer maintenant",r.jsx(qC,{className:"h-4 w-4"})]})})})]})})}),r.jsx("footer",{className:"border-t py-8",children:r.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," VetPro. Tous droits réservés."]})})})]})}const Zde=()=>{const e=vb(),{toast:t}=Ft(),[n,s]=w.useState(!1),[i,a]=w.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=c=>{a(u=>({...u,[c.target.id]:c.target.value}))},l=async c=>{if(c.preventDefault(),s(!0),i.password!==i.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),s(!1);return}if(i.password.length<6){t({title:"Erreur",description:"Le mot de passe doit comporter au moins 6 caractères",variant:"destructive"}),s(!1);return}try{await Dde(i.email,i.password,i.username,i.fullName,"assistant"),t({title:"Inscription réussie",description:"Votre compte a été créé avec succès. Veuillez vérifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(u){t({title:"Erreur d'inscription",description:u.message||"Une erreur est survenue lors de l'inscription",variant:"destructive"})}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:r.jsxs(he,{className:"w-full max-w-md",children:[r.jsxs(Ae,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Kt,{className:"h-12 w-12 text-primary"})}),r.jsx(Ee,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),r.jsx(ug,{children:"Créez votre compte vétérinaire"})]}),r.jsxs(fe,{children:[r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(ie,{id:"username",placeholder:"martin.dubois",value:i.username,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"fullName",children:"Nom complet"}),r.jsx(ie,{id:"fullName",placeholder:"Dr. Martin Dubois",value:i.fullName,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",placeholder:"votre.email@example.com",value:i.email,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"password",children:"Mot de passe"}),r.jsx(ie,{id:"password",type:"password",placeholder:"Minimum 6 caractères",value:i.password,onChange:o,required:!0,minLength:6})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(ie,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:i.confirmPassword,onChange:o,required:!0,minLength:6})]}),r.jsx(q,{type:"submit",className:"w-full",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(bc,{className:"mr-2 h-4 w-4 animate-spin"}),"Création en cours..."]}):"Créer le compte"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",r.jsx(Na,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r.jsx(Na,{to:"/",className:"hover:underline",children:"Retour à l'accueil"})})]})]})]})})};var Ob="Dialog",[lz,E6e]=Zs(Ob),[ehe,Fa]=lz(Ob),cz=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=po({prop:s,defaultProp:i??!1,onChange:a,caller:Ob});return r.jsx(ehe,{scope:t,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};cz.displayName=Ob;var uz="DialogTrigger",dz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Fa(uz,n),a=Qt(t,i.triggerRef);return r.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oE(i.open),...s,ref:a,onClick:He(e.onClick,i.onOpenToggle)})});dz.displayName=uz;var iE="DialogPortal",[the,hz]=lz(iE,{forceMount:void 0}),fz=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Fa(iE,t);return r.jsx(the,{scope:t,forceMount:n,children:w.Children.map(s,o=>r.jsx(ei,{present:n||a.open,children:r.jsx(Ff,{asChild:!0,container:i,children:o})}))})};fz.displayName=iE;var T0="DialogOverlay",mz=w.forwardRef((e,t)=>{const n=hz(T0,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Fa(T0,e.__scopeDialog);return a.modal?r.jsx(ei,{present:s||a.open,children:r.jsx(rhe,{...i,ref:t})}):null});mz.displayName=T0;var nhe=jc("DialogOverlay.RemoveScroll"),rhe=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Fa(T0,n);return r.jsx(uv,{as:nhe,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(st.div,{"data-state":oE(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Wu="DialogContent",pz=w.forwardRef((e,t)=>{const n=hz(Wu,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Fa(Wu,e.__scopeDialog);return r.jsx(ei,{present:s||a.open,children:a.modal?r.jsx(she,{...i,ref:t}):r.jsx(ihe,{...i,ref:t})})});pz.displayName=Wu;var she=w.forwardRef((e,t)=>{const n=Fa(Wu,e.__scopeDialog),s=w.useRef(null),i=Qt(t,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return bb(a)},[]),r.jsx(gz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault())})}),ihe=w.forwardRef((e,t)=>{const n=Fa(Wu,e.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(gz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),gz=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Fa(Wu,n),c=w.useRef(null),u=Qt(t,c);return yb(),r.jsxs(r.Fragment,{children:[r.jsx(lv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(od,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(ahe,{titleId:l.titleId}),r.jsx(lhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),aE="DialogTitle",vz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Fa(aE,n);return r.jsx(st.h2,{id:i.titleId,...s,ref:t})});vz.displayName=aE;var xz="DialogDescription",yz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Fa(xz,n);return r.jsx(st.p,{id:i.descriptionId,...s,ref:t})});yz.displayName=xz;var jz="DialogClose",bz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Fa(jz,n);return r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});bz.displayName=jz;function oE(e){return e?"open":"closed"}var wz="DialogTitleWarning",[T6e,Nz]=Fee(wz,{contentName:Wu,titleName:aE,docsSlug:"dialog"}),ahe=({titleId:e})=>{const t=Nz(wz),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ohe="DialogDescriptionWarning",lhe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nz(ohe).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Sz=cz,che=dz,Cz=fz,lE=mz,cE=pz,_z=vz,Pz=yz,uhe=bz;const St=Sz,Ic=che,dhe=Cz,Az=w.forwardRef(({className:e,...t},n)=>r.jsx(lE,{ref:n,className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Az.displayName=lE.displayName;const wt=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(dhe,{children:[r.jsx(Az,{}),r.jsxs(cE,{ref:s,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(uhe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(lb,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wt.displayName=cE.displayName;const Ct=({className:e,...t})=>r.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ct.displayName="DialogHeader";const _t=w.forwardRef(({className:e,...t},n)=>r.jsx(_z,{ref:n,className:Ze("text-lg font-semibold leading-none tracking-tight",e),...t}));_t.displayName=_z.displayName;const jn=w.forwardRef(({className:e,...t},n)=>r.jsx(Pz,{ref:n,className:Ze("text-sm text-muted-foreground",e),...t}));jn.displayName=Pz.displayName;const Nt=w.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Nt.displayName="Textarea";function _I(e,[t,n]){return Math.min(n,Math.max(t,e))}function uE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var hhe=[" ","Enter","ArrowUp","ArrowDown"],fhe=[" ","Enter"],Hu="Select",[Db,Mb,mhe]=sb(Hu),[Qf,k6e]=Zs(Hu,[mhe,Ec]),Ib=Ec(),[phe,$c]=Qf(Hu),[ghe,vhe]=Qf(Hu),Ez=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=e,v=Ib(t),[y,N]=w.useState(null),[j,b]=w.useState(null),[_,C]=w.useState(!1),A=xb(u),[P,E]=po({prop:s,defaultProp:i??!1,onChange:a,caller:Hu}),[M,$]=po({prop:o,defaultProp:l,onChange:c,caller:Hu}),k=w.useRef(null),O=y?x||!!y.closest("form"):!0,[L,z]=w.useState(new Set),J=Array.from(L).map(H=>H.props.value).join(";");return r.jsx(IA,{...v,children:r.jsxs(phe,{required:g,scope:t,trigger:y,onTriggerChange:N,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:rs(),value:M,onValueChange:$,open:P,onOpenChange:E,dir:A,triggerPointerDownPosRef:k,disabled:m,children:[r.jsx(Db.Provider,{scope:t,children:r.jsx(ghe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(H=>{z(oe=>new Set(oe).add(H))},[]),onNativeOptionRemove:w.useCallback(H=>{z(oe=>{const Q=new Set(oe);return Q.delete(H),Q})},[]),children:n})}),O?r.jsxs(Zz,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:M,onChange:H=>$(H.target.value),disabled:m,form:x,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(L)]},J):null]})})};Ez.displayName=Hu;var Tz="SelectTrigger",kz=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Ib(n),o=$c(Tz,n),l=o.disabled||s,c=Qt(t,o.onTriggerChange),u=Mb(n),d=w.useRef("touch"),[f,m,g]=tV(v=>{const y=u().filter(b=>!b.disabled),N=y.find(b=>b.value===o.value),j=nV(y,v,N);j!==void 0&&o.onValueChange(j.value)}),x=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(ov,{asChild:!0,...a,children:r.jsx(st.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eV(o.value)?"":void 0,...i,ref:c,onClick:He(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:He(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:He(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&hhe.includes(v.key)&&(x(),v.preventDefault())})})})});kz.displayName=Tz;var Oz="SelectValue",Dz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=e,c=$c(Oz,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Qt(t,c.onValueNodeChange);return Nr(()=>{u(d)},[u,d]),r.jsx(st.span,{...l,ref:f,style:{pointerEvents:"none"},children:eV(c.value)?r.jsx(r.Fragment,{children:o}):a})});Dz.displayName=Oz;var xhe="SelectIcon",Mz=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(st.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});Mz.displayName=xhe;var yhe="SelectPortal",Iz=e=>r.jsx(Ff,{asChild:!0,...e});Iz.displayName=yhe;var Gu="SelectContent",$z=w.forwardRef((e,t)=>{const n=$c(Gu,e.__scopeSelect),[s,i]=w.useState();if(Nr(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?ad.createPortal(r.jsx(Rz,{scope:e.__scopeSelect,children:r.jsx(Db.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(Lz,{...e,ref:t})});$z.displayName=Gu;var ma=10,[Rz,Rc]=Qf(Gu),jhe="SelectContentImpl",bhe=jc("SelectContent.RemoveScroll"),Lz=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y,...N}=e,j=$c(Gu,n),[b,_]=w.useState(null),[C,A]=w.useState(null),P=Qt(t,se=>_(se)),[E,M]=w.useState(null),[$,k]=w.useState(null),O=Mb(n),[L,z]=w.useState(!1),J=w.useRef(!1);w.useEffect(()=>{if(b)return bb(b)},[b]),yb();const H=w.useCallback(se=>{const[F,...Y]=O().map(I=>I.ref.current),[ee]=Y.slice(-1),G=document.activeElement;for(const I of se)if(I===G||(I==null||I.scrollIntoView({block:"nearest"}),I===F&&C&&(C.scrollTop=0),I===ee&&C&&(C.scrollTop=C.scrollHeight),I==null||I.focus(),document.activeElement!==G))return},[O,C]),oe=w.useCallback(()=>H([E,b]),[H,E,b]);w.useEffect(()=>{L&&oe()},[L,oe]);const{onOpenChange:Q,triggerPointerDownPosRef:D}=j;w.useEffect(()=>{if(b){let se={x:0,y:0};const F=ee=>{var G,I;se={x:Math.abs(Math.round(ee.pageX)-(((G=D.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((I=D.current)==null?void 0:I.y)??0))}},Y=ee=>{se.x<=10&&se.y<=10?ee.preventDefault():b.contains(ee.target)||Q(!1),document.removeEventListener("pointermove",F),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",Y,{capture:!0})}}},[b,Q,D]),w.useEffect(()=>{const se=()=>Q(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[Q]);const[ae,pe]=tV(se=>{const F=O().filter(G=>!G.disabled),Y=F.find(G=>G.ref.current===document.activeElement),ee=nV(F,se,Y);ee&&setTimeout(()=>ee.ref.current.focus())}),te=w.useCallback((se,F,Y)=>{const ee=!J.current&&!Y;(j.value!==void 0&&j.value===F||ee)&&(M(se),ee&&(J.current=!0))},[j.value]),Z=w.useCallback(()=>b==null?void 0:b.focus(),[b]),ne=w.useCallback((se,F,Y)=>{const ee=!J.current&&!Y;(j.value!==void 0&&j.value===F||ee)&&k(se)},[j.value]),xe=s==="popper"?O2:Fz,ye=xe===O2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(Rz,{scope:n,content:b,viewport:C,onViewportChange:A,itemRefCallback:te,selectedItem:E,onItemLeave:Z,itemTextRefCallback:ne,focusSelectedItem:oe,selectedItemText:$,position:s,isPositioned:L,searchRef:ae,children:r.jsx(uv,{as:bhe,allowPinchZoom:!0,children:r.jsx(lv,{asChild:!0,trapped:j.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:He(i,se=>{var F;(F=j.trigger)==null||F.focus({preventScroll:!0}),se.preventDefault()}),children:r.jsx(od,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:r.jsx(xe,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:se=>se.preventDefault(),...N,...ye,onPlaced:()=>z(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:He(N.onKeyDown,se=>{const F=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!F&&se.key.length===1&&pe(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ee=O().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const G=se.target,I=ee.indexOf(G);ee=ee.slice(I+1)}setTimeout(()=>H(ee)),se.preventDefault()}})})})})})})});Lz.displayName=jhe;var whe="SelectItemAlignedPosition",Fz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=$c(Gu,n),o=Rc(Gu,n),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Qt(t,P=>d(P)),m=Mb(n),g=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:j}=o,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&N){const P=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),$=N.getBoundingClientRect();if(a.dir!=="rtl"){const G=$.left-E.left,I=M.left-G,ve=P.left-I,we=P.width+ve,Fe=Math.max(we,E.width),Be=window.innerWidth-ma,it=_I(I,[ma,Math.max(ma,Be-Fe)]);l.style.minWidth=we+"px",l.style.left=it+"px"}else{const G=E.right-$.right,I=window.innerWidth-M.right-G,ve=window.innerWidth-P.right-I,we=P.width+ve,Fe=Math.max(we,E.width),Be=window.innerWidth-ma,it=_I(I,[ma,Math.max(ma,Be-Fe)]);l.style.minWidth=we+"px",l.style.right=it+"px"}const k=m(),O=window.innerHeight-ma*2,L=v.scrollHeight,z=window.getComputedStyle(u),J=parseInt(z.borderTopWidth,10),H=parseInt(z.paddingTop,10),oe=parseInt(z.borderBottomWidth,10),Q=parseInt(z.paddingBottom,10),D=J+H+L+Q+oe,ae=Math.min(y.offsetHeight*5,D),pe=window.getComputedStyle(v),te=parseInt(pe.paddingTop,10),Z=parseInt(pe.paddingBottom,10),ne=P.top+P.height/2-ma,xe=O-ne,ye=y.offsetHeight/2,se=y.offsetTop+ye,F=J+H+se,Y=D-F;if(F<=ne){const G=k.length>0&&y===k[k.length-1].ref.current;l.style.bottom="0px";const I=u.clientHeight-v.offsetTop-v.offsetHeight,ve=Math.max(xe,ye+(G?Z:0)+I+oe),we=F+ve;l.style.height=we+"px"}else{const G=k.length>0&&y===k[0].ref.current;l.style.top="0px";const ve=Math.max(ne,J+v.offsetTop+(G?te:0)+ye)+Y;l.style.height=ve+"px",v.scrollTop=F-ne+v.offsetTop}l.style.margin=`${ma}px 0`,l.style.minHeight=ae+"px",l.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,N,a.dir,s]);Nr(()=>b(),[b]);const[_,C]=w.useState();Nr(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const A=w.useCallback(P=>{P&&x.current===!0&&(b(),j==null||j(),x.current=!1)},[b,j]);return r.jsx(She,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:r.jsx(st.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Fz.displayName=whe;var Nhe="SelectPopperPosition",O2=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=ma,...a}=e,o=Ib(n);return r.jsx(hb,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});O2.displayName=Nhe;var[She,dE]=Qf(Gu,{}),D2="SelectViewport",Bz=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Rc(D2,n),o=dE(D2,n),l=Qt(t,a.onViewportChange),c=w.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Db.Slot,{scope:n,children:r.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:He(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-ma*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<x){const j=N+g,b=Math.min(x,j),_=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Bz.displayName=D2;var zz="SelectGroup",[Che,_he]=Qf(zz),Phe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=rs();return r.jsx(Che,{scope:n,id:i,children:r.jsx(st.div,{role:"group","aria-labelledby":i,...s,ref:t})})});Phe.displayName=zz;var Vz="SelectLabel",Uz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=_he(Vz,n);return r.jsx(st.div,{id:i.id,...s,ref:t})});Uz.displayName=Vz;var k0="SelectItem",[Ahe,qz]=Qf(k0),Wz=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=$c(k0,n),c=Rc(k0,n),u=l.value===s,[d,f]=w.useState(a??""),[m,g]=w.useState(!1),x=Qt(t,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,s,i)}),v=rs(),y=w.useRef("touch"),N=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Ahe,{scope:n,value:s,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(j=>{f(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:r.jsx(Db.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(st.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:He(o.onFocus,()=>g(!0)),onBlur:He(o.onBlur,()=>g(!1)),onClick:He(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:He(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:He(o.onPointerDown,j=>{y.current=j.pointerType}),onPointerMove:He(o.onPointerMove,j=>{var b;y.current=j.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:He(o.onKeyDown,j=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&j.key===" "||(fhe.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});Wz.displayName=k0;var mp="SelectItemText",Hz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=$c(mp,n),l=Rc(mp,n),c=qz(mp,n),u=vhe(mp,n),[d,f]=w.useState(null),m=Qt(t,N=>f(N),c.onItemTextChange,N=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,N,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=w.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Nr(()=>(v(x),()=>y(x)),[v,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(st.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ad.createPortal(a.children,o.valueNode):null]})});Hz.displayName=mp;var Gz="SelectItemIndicator",Kz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return qz(Gz,n).isSelected?r.jsx(st.span,{"aria-hidden":!0,...s,ref:t}):null});Kz.displayName=Gz;var M2="SelectScrollUpButton",Yz=w.forwardRef((e,t)=>{const n=Rc(M2,e.__scopeSelect),s=dE(M2,e.__scopeSelect),[i,a]=w.useState(!1),o=Qt(t,s.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(Xz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Yz.displayName=M2;var I2="SelectScrollDownButton",Qz=w.forwardRef((e,t)=>{const n=Rc(I2,e.__scopeSelect),s=dE(I2,e.__scopeSelect),[i,a]=w.useState(!1),o=Qt(t,s.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(Xz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Qz.displayName=I2;var Xz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Rc("SelectScrollButton",n),o=w.useRef(null),l=Mb(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Nr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(st.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:He(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:He(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:He(i.onPointerLeave,()=>{c()})})}),Ehe="SelectSeparator",Jz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(st.div,{"aria-hidden":!0,...s,ref:t})});Jz.displayName=Ehe;var $2="SelectArrow",The=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Ib(n),a=$c($2,n),o=Rc($2,n);return a.open&&o.position==="popper"?r.jsx(fb,{...i,...s,ref:t}):null});The.displayName=$2;var khe="SelectBubbleInput",Zz=w.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=w.useRef(null),a=Qt(s,i),o=uE(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(st.select,{...n,style:{..._5,...n.style},ref:a,defaultValue:t})});Zz.displayName=khe;function eV(e){return e===""||e===void 0}function tV(e){const t=Ds(e),n=w.useRef(""),s=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function nV(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Ohe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Ohe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Dhe=Ez,rV=kz,Mhe=Dz,Ihe=Mz,$he=Iz,sV=$z,Rhe=Bz,iV=Uz,aV=Wz,Lhe=Hz,Fhe=Kz,oV=Yz,lV=Qz,cV=Jz;const Me=Dhe,Ie=Mhe,Oe=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(rV,{ref:s,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Ihe,{asChild:!0,children:r.jsx(ob,{className:"h-4 w-4 opacity-50"})})]}));Oe.displayName=rV.displayName;const uV=w.forwardRef(({className:e,...t},n)=>r.jsx(oV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Fte,{className:"h-4 w-4"})}));uV.displayName=oV.displayName;const dV=w.forwardRef(({className:e,...t},n)=>r.jsx(lV,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ob,{className:"h-4 w-4"})}));dV.displayName=lV.displayName;const De=w.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx($he,{children:r.jsxs(sV,{ref:i,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(uV,{}),r.jsx(Rhe,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(dV,{})]})}));De.displayName=sV.displayName;const Bhe=w.forwardRef(({className:e,...t},n)=>r.jsx(iV,{ref:n,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Bhe.displayName=iV.displayName;const V=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(aV,{ref:s,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Fhe,{children:r.jsx(jA,{className:"h-4 w-4"})})}),r.jsx(Lhe,{children:t})]}));V.displayName=aV.displayName;const zhe=w.forwardRef(({className:e,...t},n)=>r.jsx(cV,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));zhe.displayName=cV.displayName;const Vhe=async()=>{const{data:e,error:t}=await cn.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},Uhe=async e=>{const{data:{user:t}}=await cn.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await cn.from("clients").insert({...e,user_id:t.id,city:e.city||"Rabat",country:e.country||"Maroc",client_type:e.client_type||"particulier"}).select().single();if(s)throw new Error(`Error creating client: ${s.message}`);return n},qhe=async(e,t)=>{const{data:n,error:s}=await cn.from("clients").update(t).eq("id",e).select().single();if(s)throw new Error(`Error updating client: ${s.message}`);return n},Whe=async()=>{const{data:e,error:t}=await cn.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},Hhe=async e=>{var o,l,c;const{data:{user:t}}=await cn.auth.getUser();if(!t)throw new Error("User not authenticated");const n={...e};"microchip_number"in n&&!((o=n.microchip_number)!=null&&o.trim())&&delete n.microchip_number,"birth_date"in n&&!((l=n.birth_date)!=null&&l.trim())&&delete n.birth_date,"sterilization_date"in n&&!((c=n.sterilization_date)!=null&&c.trim())&&delete n.sterilization_date;const s=u=>{switch(u){case"healthy":return"vivant";case"urgent":return"décédé";case"treatment":return"perdu";default:return"vivant"}},{data:i,error:a}=await cn.from("animals").insert({...n,user_id:t.id,sterilized:n.sterilized||!1,status:s(n.status)}).select(`
      *,
      client:clients(*)
    `).single();if(a)throw new Error(`Error creating animal: ${a.message}`);return i},Ghe=async(e,t)=>{var a,o,l;const n={...t};"microchip_number"in n&&!((a=n.microchip_number)!=null&&a.trim())&&(n.microchip_number=null),"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&(n.birth_date=null),"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&(n.sterilization_date=null);const{data:s,error:i}=await cn.from("animals").update(n).eq("id",e).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error updating animal: ${i.message}`);return s},Khe=async e=>{const{data:{user:t}}=await cn.auth.getUser();if(!t)throw new Error("User not authenticated");const{medications:n,...s}=e,{data:i,error:a}=await cn.from("prescriptions").insert({...s,veterinarian_id:s.veterinarian_id||t.id}).select().single();if(a)throw new Error(`Error creating prescription: ${a.message}`);if(n&&n.length>0){const c=n.map(d=>({...d,prescription_id:i.id})),{error:u}=await cn.from("prescription_medications").insert(c);if(u)throw new Error(`Error creating prescription medications: ${u.message}`)}const{data:o,error:l}=await cn.from("prescriptions").select(`
      *,
      animal:animals(*),
      client:clients(*),
      medications:prescription_medications(*)
    `).eq("id",i.id).single();if(l)throw new Error(`Error fetching complete prescription: ${l.message}`);return o},Yhe=async()=>{const{data:e,error:t}=await cn.from("stock_items").select("*").eq("active",!0).order("name",{ascending:!0});if(t)throw new Error(`Error fetching stock items: ${t.message}`);return e||[]},eo={all:["clients"],lists:()=>[...eo.all,"list"],list:e=>[...eo.lists(),{filters:e}],details:()=>[...eo.all,"detail"],detail:e=>[...eo.details(),e],search:e=>[...eo.all,"search",e]},gi={all:["animals"],lists:()=>[...gi.all,"list"],list:e=>[...gi.lists(),{filters:e}],details:()=>[...gi.all,"detail"],detail:e=>[...gi.details(),e],byClient:e=>[...gi.all,"client",e],search:e=>[...gi.all,"search",e]},hE={all:["stats"],clients:()=>[...hE.all,"clients"]},fE={all:["userProfile"],profile:()=>[...fE.all,"profile"]},gv=()=>Tc({queryKey:eo.lists(),queryFn:Vhe,staleTime:5*60*1e3}),Qhe=()=>{const e=ti();return ea({mutationFn:Uhe,onSuccess:t=>{e.invalidateQueries({queryKey:eo.lists()}),e.setQueryData(eo.detail(t.id),t),e.invalidateQueries({queryKey:hE.clients()})}})},Xhe=()=>{const e=ti();return ea({mutationFn:({id:t,data:n})=>qhe(t,n),onSuccess:t=>{e.setQueryData(eo.detail(t.id),t),e.invalidateQueries({queryKey:eo.lists()})}})},vv=()=>Tc({queryKey:gi.lists(),queryFn:Whe,staleTime:5*60*1e3}),Jhe=()=>{const e=ti();return ea({mutationFn:Hhe,onSuccess:t=>{e.invalidateQueries({queryKey:gi.lists()}),e.setQueryData(gi.detail(t.id),t),e.invalidateQueries({queryKey:gi.byClient(t.client_id)}),e.invalidateQueries({queryKey:hE.clients()})}})},Zhe=()=>{const e=ti();return ea({mutationFn:({id:t,data:n})=>Ghe(t,n),onSuccess:t=>{e.setQueryData(gi.detail(t.id),t),e.invalidateQueries({queryKey:gi.lists()}),e.invalidateQueries({queryKey:gi.byClient(t.client_id)})}})},hV=()=>Tc({queryKey:["consultations"],queryFn:async()=>{const{data:e,error:t}=await cn.from("consultations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("consultation_date",{ascending:!1});if(t)throw t;return e||[]}}),fV=()=>{const e=ti();return ea({mutationFn:async t=>{const{data:{user:n}}=await cn.auth.getUser();if(!n)throw new Error("User not authenticated");const s={...t,veterinarian_id:n.id,consultation_date:t.consultation_date||new Date().toISOString(),status:"completed"},{data:i,error:a}=await cn.from("consultations").insert(s).select().single();if(a)throw a;return i},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},efe=()=>{const e=ti();return ea({mutationFn:async t=>{const{error:n}=await cn.from("consultations").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},tfe=()=>Tc({queryKey:["vaccinations"],queryFn:async()=>{const{data:e,error:t}=await cn.from("vaccinations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("date_vaccination",{ascending:!1});if(t)throw t;return e||[]}}),nfe=()=>Tc({queryKey:["client-stats"],queryFn:async()=>{var a,o,l,c;const[e,t]=await Promise.all([cn.from("clients").select("id, status"),cn.from("animals").select("id, status")]);if(e.error||t.error)throw new Error("Failed to fetch client stats");const n=((a=e.data)==null?void 0:a.filter(u=>u.status==="actif").length)||0;(o=e.data)!=null&&o.length;const s=((l=t.data)==null?void 0:l.length)||0,i=((c=t.data)==null?void 0:c.reduce((u,d)=>(u[d.status]=(u[d.status]||0)+1,u),{}))||{};return{totalClients:n,totalAnimals:s,animalsByStatus:i}},staleTime:5*60*1e3}),rfe=()=>{const e=ti();return ea({mutationFn:Khe,onSuccess:()=>{e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},sfe=()=>Tc({queryKey:["stock-items"],queryFn:Yhe,staleTime:5*60*1e3}),ife=()=>Tc({queryKey:fE.profile(),queryFn:kb,staleTime:5*60*1e3}),afe=()=>{const e=ti();return ea({mutationFn:t=>Ide(t),onSuccess:t=>{e.setQueryData(fE.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})};function xv({open:e,onOpenChange:t}){const n=Qhe(),{toast:s}=Ft(),[i,a]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),o=u=>{const{id:d,value:f}=u.target;a(m=>({...m,[d]:f}))},l=(u,d)=>{a(f=>({...f,[u]:d}))},c=async u=>{u.preventDefault();try{await n.mutateAsync(i),s({title:"Client ajouté",description:`${i.first_name} ${i.last_name} a été ajouté et sauvegardé avec succès.`}),a({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),t(!1)}catch{s({title:"Erreur",description:"Une erreur s'est produite lors de l'ajout du client.",variant:"destructive"})}};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[500px]",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouveau Client"}),r.jsx(jn,{children:"Ajoutez un nouveau client à votre base de données."})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"first_name",children:"Prénom *"}),r.jsx(ie,{id:"first_name",value:i.first_name,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"last_name",children:"Nom *"}),r.jsx(ie,{id:"last_name",value:i.last_name,onChange:o,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:i.email||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(ie,{id:"phone",value:i.phone||"",onChange:o,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:i.address||"",onChange:o})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"city",children:"Ville"}),r.jsx(ie,{id:"city",value:i.city||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"postal_code",children:"Code postal"}),r.jsx(ie,{id:"postal_code",value:i.postal_code||"",onChange:o})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"mobile_phone",children:"Téléphone portable"}),r.jsx(ie,{id:"mobile_phone",value:i.mobile_phone||"",onChange:o,placeholder:"Numéro de téléphone portable"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"client_type",children:"Type de client"}),r.jsxs(Me,{value:i.client_type,onValueChange:u=>l("client_type",u),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsxs(De,{children:[r.jsx(V,{value:"particulier",children:"Particulier"}),r.jsx(V,{value:"eleveur",children:"Éleveur"}),r.jsx(V,{value:"ferme",children:"Ferme"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:i.notes||"",onChange:o,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(q,{type:"submit",disabled:n.isPending,children:[n.isPending&&r.jsx(bc,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajouter Client"]})]})]})]})})}const ofe=iv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...n}){return r.jsx("div",{className:Ze(ofe({variant:t}),e),...n})}const cy="vetpro-clinicSettings",mV={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},pV={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},gV={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},R2=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],uy={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:R2,farmManagement:mV,displayPreferences:pV,defaultConsultationPrice:150,scheduleSettings:gV},vV=w.createContext(void 0),lfe=({children:e})=>{const[t,n]=w.useState(uy);w.useEffect(()=>{const i=localStorage.getItem(cy);if(i)try{const a=JSON.parse(i),o={...uy,...a,veterinarians:a.veterinarians&&a.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?R2:a.veterinarians||R2,farmManagement:{...mV,...a.farmManagement},displayPreferences:{...pV,...a.displayPreferences},scheduleSettings:{...gV,...a.scheduleSettings}};n(o),localStorage.setItem(cy,JSON.stringify(o))}catch(a){console.error("Erreur lors du chargement des paramètres:",a),n(uy)}else localStorage.setItem(cy,JSON.stringify(uy))},[]);const s=i=>{n(i),localStorage.setItem(cy,JSON.stringify(i))};return r.jsx(vV.Provider,{value:{settings:t,updateSettings:s},children:e})},Jt=()=>{const e=w.useContext(vV);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};var $b="Checkbox",[cfe,O6e]=Zs($b),[ufe,mE]=cfe($b);function dfe(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,g]=po({prop:n,defaultProp:i??!1,onChange:c,caller:$b}),[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useRef(!1),b=x?!!o||!!x.closest("form"):!0,_={checked:m,disabled:a,setChecked:g,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:gc(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:N};return r.jsx(ufe,{scope:t,..._,children:hfe(f)?f(_):s})}var xV="CheckboxTrigger",yV=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:x}=mE(xV,e),v=Qt(i,d),y=w.useRef(c);return w.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const j=()=>f(y.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[a,f]),r.jsx(st.button,{type:"button",role:"checkbox","aria-checked":gc(c)?"mixed":c,"aria-required":u,"data-state":SV(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:He(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:He(n,N=>{f(j=>gc(j)?!0:!j),x&&g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})})});yV.displayName=xV;var pE=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return r.jsx(dfe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(yV,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(NV,{__scopeCheckbox:n})]})})});pE.displayName=$b;var jV="CheckboxIndicator",bV=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=mE(jV,n);return r.jsx(ei,{present:s||gc(a.checked)||a.checked===!0,children:r.jsx(st.span,{"data-state":SV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});bV.displayName=jV;var wV="CheckboxBubbleInput",NV=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:g}=mE(wV,e),x=Qt(n,g),v=uE(a),y=OA(s);w.useEffect(()=>{const j=m;if(!j)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,A=!i.current;if(v!==a&&C){const P=new Event("click",{bubbles:A});j.indeterminate=gc(a),C.call(j,gc(a)?!1:a),j.dispatchEvent(P)}},[m,v,a,i]);const N=w.useRef(gc(a)?!1:a);return r.jsx(st.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});NV.displayName=wV;function hfe(e){return typeof e=="function"}function gc(e){return e==="indeterminate"}function SV(e){return gc(e)?"indeterminate":e?"checked":"unchecked"}const Yi=w.forwardRef(({className:e,...t},n)=>r.jsx(pE,{ref:n,className:Ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(bV,{className:Ze("flex items-center justify-center text-current"),children:r.jsx(jA,{className:"h-4 w-4"})})}));Yi.displayName=pE.displayName;function yv({open:e,onOpenChange:t}){const{data:n=[]}=gv(),{data:s=[]}=vv(),i=Jhe(),{settings:a}=Jt(),{toast:o}=Ft(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:g}))},f=async m=>{if(m.preventDefault(),!n.find(x=>x.id===l.ownerId)){o({title:"Erreur",description:"Veuillez sélectionner un propriétaire valide."});return}if(l.microchip&&l.microchip.trim()&&s.find(v=>v.microchip_number===l.microchip.trim())){o({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{const x={client_id:l.ownerId,name:l.name,species:l.type,breed:l.breed||void 0,color:l.color||void 0,sex:l.gender==="male"?"Mâle":l.gender==="female"?"Femelle":"Inconnu",weight:l.weight?Number(l.weight):void 0,birth_date:l.birthDate||void 0,...l.microchip&&l.microchip.trim()?{microchip_number:l.microchip.trim()}:{},notes:l.medicalNotes||void 0,photo_url:l.photo||void 0,status:l.status};await i.mutateAsync(x),o({title:"Animal ajouté",description:`${l.name} a été ajouté et sauvegardé avec succès.`}),c({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{o({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvel Animal"}),r.jsx(jn,{children:"Ajoutez un nouvel animal à votre base de données."})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(ie,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Type d'animal *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsx(De,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(V,{value:x,children:x},g):null}).filter(Boolean):r.jsxs(r.Fragment,{children:[r.jsx(V,{value:"Chien",children:"Chien"}),r.jsx(V,{value:"Chat",children:"Chat"}),r.jsx(V,{value:"Oiseau",children:"Oiseau"}),r.jsx(V,{value:"Lapin",children:"Lapin"}),r.jsx(V,{value:"Furet",children:"Furet"}),r.jsx(V,{value:"Souris",children:"Souris"}),r.jsx(V,{value:"Hamster",children:"Hamster"}),r.jsx(V,{value:"Reptile",children:"Reptile"}),r.jsx(V,{value:"Autre",children:"Autre"})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Sexe"}),r.jsxs(Me,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(V,{value:"male",children:"Mâle"}),r.jsx(V,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(ie,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Propriétaire *"}),n.length===0?r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):r.jsxs(Me,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(De,{children:n.map(m=>r.jsxs(V,{value:m.id.toString(),children:[m.first_name," ",m.last_name," - ",m.email]},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(ie,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(Nt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"État de santé"}),r.jsxs(Me,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'état de santé"})}),r.jsxs(De,{children:[r.jsx(V,{value:"healthy",children:"En bonne santé"}),r.jsx(V,{value:"treatment",children:"En traitement"}),r.jsx(V,{value:"urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(B,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(Nt,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(Nt,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Photo de l'animal"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,photo:x.result})),x.readAsDataURL(g)}}),l.photo&&r.jsx("img",{src:l.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Ajouter Animal"})]})]})]})})}function gE(e,t,n){const s=[],{openingTime:i,closingTime:a,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=dy(i),d=dy(a),f=l?dy(l):null,m=c?dy(c):null;for(let g=u;g<d;g+=o){const x=mfe(g),v=f&&m&&g>=f&&g<m,y=n.some(N=>N.date===e&&N.time===x);s.push({time:x,isAvailable:!y&&!v,isLunchBreak:!!v})}return s}function ffe(e,t,n,s){const a=gE(e,n,s).find(o=>o.time===t);return a?a.isAvailable:!1}function dy(e){const[t,n]=e.split(":").map(Number);return t*60+n}function mfe(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function pfe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function gfe(e,t){const n=pfe(e).toLowerCase();return t.workingDays.includes(n)}function vE({open:e,onOpenChange:t,prefillClientId:n,prefillPetId:s,prefillType:i,prefillReason:a,originalVaccinationId:o}){var oe,Q;const{clients:l,pets:c,addAppointment:u,getPetsByOwnerId:d,createVaccinationReminder:f,appointments:m}=jt(),{settings:g}=Jt(),{toast:x}=Ft(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,_]=w.useState([]),[C,A]=w.useState({clientId:0,petId:0,date:"",time:"",type:"",duration:30,reason:"",notes:""}),[P,E]=w.useState([]),[M,$]=w.useState([]);w.useEffect(()=>{e&&(A({clientId:n||0,petId:s||0,date:"",time:"",type:i||"",duration:30,reason:a||"",notes:""}),E([]),$([]))},[e,n,s,i,a]),w.useEffect(()=>{if(e&&n&&s){const D=d(n);E(D);const ae=D.find(pe=>pe.id===s);A(ae?pe=>({...pe,petId:s}):pe=>({...pe,petId:0}))}},[e,n,s,d]),w.useEffect(()=>{if(C.clientId>0){const D=d(C.clientId);E(D),(!s||!D.find(ae=>ae.id===s))&&A(ae=>({...ae,petId:0}))}else E([])},[C.clientId,d,s]),w.useEffect(()=>{if(C.date){const D=gE(C.date,g.scheduleSettings,m);_(D),C.time&&!ffe(C.date,C.time,g.scheduleSettings,m)&&A(ae=>({...ae,time:""}))}else _([])},[C.date,g.scheduleSettings,m]),w.useEffect(()=>{C.date&&C.time&&C.duration&&k()},[C.date,C.time,C.duration]);const k=()=>{const D=[],ae=new Date(`${C.date}T${C.time}`),pe=new Date(ae.getTime()+C.duration*6e4),te=ae.getHours(),Z=pe.getHours();(te<8||Z>18)&&D.push("Le rendez-vous doit être entre 8h00 et 18h00");const ne=ae.getDay();(ne===0||ne===6)&&D.push("Pas de rendez-vous le weekend"),$(D)},O=D=>{A(ae=>({...ae,[D.target.id]:D.target.value}))},L=(D,ae)=>{A(pe=>({...pe,[D]:D==="clientId"||D==="petId"||D==="duration"?parseInt(ae):ae}))},z=D=>{if(D.preventDefault(),M.length>0){x({title:"Conflits détectés",description:M.join(", "),variant:"destructive"});return}if(!C.clientId||!C.petId||!C.date||!C.time||!C.type){x({title:"Informations manquantes",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const ae=l.find(te=>te.id===C.clientId),pe=c.find(te=>te.id===C.petId);if(!ae||!pe){x({title:"Erreur",description:"Client ou animal non trouvé.",variant:"destructive"});return}u({clientId:C.clientId,clientName:ae.name,petId:C.petId,petName:pe.name,date:C.date,time:C.time,type:C.type,duration:C.duration,reason:C.reason,notes:C.notes,status:"scheduled",reminderSent:!1}),i==="vaccination"&&o&&(f(o,C.date,C.time),x({title:"Rappel enregistré",description:"Le rappel de vaccination a été ajouté."})),x({title:"Rendez-vous planifié",description:`RDV pour ${pe.name} (${ae.name}) prévu le ${C.date} à ${C.time}.`}),t(!1)},J=()=>new Date().toISOString().split("T")[0],H=D=>({consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"})[D]||D;return r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(jn,{children:"Planifiez un nouveau rendez-vous pour un client et son animal."})]}),r.jsxs("form",{onSubmit:z,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Client *"}),l.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible."}),r.jsxs(q,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>y(!0),children:[r.jsx(ht,{className:"h-3 w-3"}),"Ajouter Client"]})]}):r.jsxs(Me,{value:C.clientId.toString(),onValueChange:D=>L("clientId",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:l.map(D=>r.jsx(V,{value:D.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-3 w-3"}),D.name]})},D.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Animal *"}),C.clientId===0?r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:r.jsx("p",{className:"text-gray-600 text-sm",children:"Sélectionnez d'abord un client"})}):P.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun animal pour ce client."}),r.jsxs(q,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>j(!0),children:[r.jsx(ht,{className:"h-3 w-3"}),"Ajouter Animal"]})]}):r.jsxs(Me,{value:C.petId.toString(),onValueChange:D=>L("petId",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'animal"})}),r.jsx(De,{children:P.map(D=>r.jsx(V,{value:D.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-3 w-3"}),D.name," (",D.type,")"]})},D.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:C.date,onChange:O,min:J(),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"time",children:"Heure *"}),C.date?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Me,{value:C.time,onValueChange:D=>A(ae=>({...ae,time:D})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un créneau"})}),r.jsx(De,{className:"max-h-60",children:b.map(D=>r.jsx(V,{value:D.time,disabled:!D.isAvailable,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:D.time}),D.isLunchBreak&&r.jsx($e,{variant:"secondary",className:"text-xs",children:"Pause"}),!D.isAvailable&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Occupé"})]})},D.time))})]}),b.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun créneau disponible pour cette date"})]}):r.jsx(ie,{id:"time",type:"time",value:C.time,onChange:O,disabled:!0,placeholder:"Sélectionnez d'abord une date"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Type de consultation *"}),r.jsxs(Me,{value:C.type,onValueChange:D=>L("type",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de RDV"})}),r.jsxs(De,{children:[r.jsx(V,{value:"consultation",children:"Consultation générale"}),r.jsx(V,{value:"vaccination",children:"Vaccination"}),r.jsx(V,{value:"chirurgie",children:"Chirurgie"}),r.jsx(V,{value:"urgence",children:"Urgence"}),r.jsx(V,{value:"controle",children:"Contrôle post-opératoire"}),r.jsx(V,{value:"sterilisation",children:"Stérilisation"}),r.jsx(V,{value:"dentaire",children:"Soins dentaires"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Durée (minutes)"}),r.jsxs(Me,{value:C.duration.toString(),onValueChange:D=>L("duration",D),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"15",children:"15 minutes"}),r.jsx(V,{value:"30",children:"30 minutes"}),r.jsx(V,{value:"45",children:"45 minutes"}),r.jsx(V,{value:"60",children:"1 heure"}),r.jsx(V,{value:"90",children:"1h30"}),r.jsx(V,{value:"120",children:"2 heures"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"reason",children:"Motif de consultation"}),r.jsx(ie,{id:"reason",value:C.reason,onChange:O,placeholder:"ex: Vaccination annuelle, boiterie, contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:C.notes,onChange:O,placeholder:"Instructions spéciales, préparation nécessaire..."})]}),M.length>0&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(zr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Conflits détectés :"})]}),r.jsx("ul",{className:"mt-2 text-sm text-red-700",children:M.map((D,ae)=>r.jsxs("li",{children:["• ",D]},ae))})]}),C.clientId&&C.petId&&C.date&&C.time&&C.type&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Résumé du rendez-vous :"}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Client :"})," ",(oe=l.find(D=>D.id===C.clientId))==null?void 0:oe.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animal :"})," ",(Q=c.find(D=>D.id===C.petId))==null?void 0:Q.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",new Date(C.date).toLocaleDateString("fr-FR")]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Heure :"})," ",C.time]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type :"})," ",H(C.type)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Durée :"})," ",C.duration," minutes"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",disabled:M.length>0,children:"Planifier RDV"})]})]})]})}),r.jsx(xv,{open:v,onOpenChange:y}),r.jsx(yv,{open:N,onOpenChange:j})]})}function Xf({open:e,onOpenChange:t}){const{data:n=[],isLoading:s}=gv(),{data:i=[],isLoading:a}=vv(),o=fV(),{toast:l}=Ft(),{settings:c}=Jt(),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState({clientId:"",clientName:"",animalId:"",animalName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]}),v=i.filter(_=>_.client_id===g.clientId),y=new Date().toISOString().split("T")[0];w.useEffect(()=>{c.defaultConsultationPrice&&!g.cost&&x(_=>({..._,cost:c.defaultConsultationPrice.toString()}))},[c.defaultConsultationPrice,g.cost]);const N=_=>{x(C=>({...C,[_.target.id]:_.target.value}))},j=(_,C)=>{if(_==="clientId"){const A=n.find(P=>P.id===C);x(P=>({...P,clientId:C,clientName:A?`${A.first_name} ${A.last_name}`:"",animalId:"",animalName:""}))}else if(_==="animalId"){const A=i.find(P=>P.id===C);x(P=>({...P,animalId:C,animalName:(A==null?void 0:A.name)||""}))}else x(A=>({...A,[_]:C}))},b=async _=>{if(_.preventDefault(),!g.clientId||!g.animalId){l({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}try{const C={client_id:g.clientId,animal_id:g.animalId,consultation_type:"routine",consultation_date:g.date||y,weight:g.weight?Math.min(parseFloat(g.weight),999.9):void 0,temperature:g.temperature?Math.min(parseFloat(g.temperature),99.9):void 0,symptoms:g.symptoms,diagnosis:g.diagnosis,treatment:g.treatment,follow_up_notes:g.followUp,notes:g.notes};await o.mutateAsync(C),l({title:"Consultation enregistrée",description:`Consultation pour ${g.animalName} (${g.clientName}) a été enregistrée avec succès.`}),x({clientId:"",clientName:"",animalId:"",animalName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]}),t(!1)}catch{l({title:"Erreur",description:"Impossible d'enregistrer la consultation. Veuillez réessayer.",variant:"destructive"})}};return w.useEffect(()=>{e&&x({clientId:"",clientName:"",animalId:"",animalName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]})},[e,y]),r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Consultation"}),r.jsx(jn,{children:"Enregistrez une nouvelle consultation vétérinaire."})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Client *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Me,{value:g.clientId.toString(),onValueChange:_=>j("clientId",_),children:[r.jsx(Oe,{className:"flex-1",children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:n.map(_=>r.jsxs(V,{value:_.id,children:[_.first_name," ",_.last_name]},_.id))})]}),r.jsx(q,{type:"button",size:"sm",variant:"outline",onClick:()=>d(!0),className:"px-2",children:r.jsx(ht,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Animal *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Me,{value:g.animalId,onValueChange:_=>j("animalId",_),disabled:!g.clientId,children:[r.jsx(Oe,{className:"flex-1",children:r.jsx(Ie,{placeholder:g.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(De,{children:v.map(_=>r.jsxs(V,{value:_.id,children:[_.name," (",_.species,")"]},_.id))})]}),r.jsx(q,{type:"button",size:"sm",variant:"outline",onClick:()=>m(!0),className:"px-2",disabled:!g.clientId,children:r.jsx(ht,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:g.date||y,onChange:N,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",min:"0",max:"999.9",value:g.weight,onChange:N,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(ie,{id:"temperature",type:"number",step:"0.1",min:"0",max:"99.9",value:g.temperature,onChange:N,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(Nt,{id:"symptoms",value:g.symptoms,onChange:N,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(Nt,{id:"diagnosis",value:g.diagnosis,onChange:N,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(Nt,{id:"treatment",value:g.treatment,onChange:N,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(ie,{id:"followUp",value:g.followUp,onChange:N,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"cost",children:["Coût (",c.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",step:"0.01",value:g.cost,onChange:N,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(Nt,{id:"notes",value:g.notes,onChange:N,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(B,{children:"Photos de la consultation"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async _=>{const C=Array.from(_.target.files||[]),A=await Promise.all(C.map(P=>new Promise((E,M)=>{const $=new FileReader;$.onload=()=>E($.result),$.onerror=()=>M(),$.readAsDataURL(P)})));x(P=>({...P,photos:[...P.photos,...A]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),g.photos.length>0&&r.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:g.photos.map((_,C)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_,alt:`photo-${C}`,className:"h-24 w-24 object-cover rounded"}),r.jsx("button",{type:"button",onClick:()=>x(A=>({...A,photos:A.photos.filter((P,E)=>E!==C)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},C))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",disabled:!g.animalId||o.isPending,children:o.isPending?"Enregistrement...":"Enregistrer Consultation"})]})]})]})}),r.jsx(xv,{open:u,onOpenChange:d}),r.jsx(yv,{open:f,onOpenChange:m})]})}const vfe=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:s}=Mc();return!s||!t.includes(s.profile.role)?r.jsx(r.Fragment,{children:n}):r.jsx(r.Fragment,{children:e})},L2=({children:e,fallback:t=null})=>r.jsx(vfe,{allowedRoles:["admin"],fallback:t,children:e});function xfe(){const{clients:e,pets:t,consultations:n,vaccinations:s,antiparasitics:i,generateAccountingSummary:a}=jt(),{settings:o}=Jt(),l=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),c=l.length===1?`Bienvenue ${l[0].title} ${l[0].name}`:`Bienvenue à ${o.clinicName}`,[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(!1),N=e.length,j=t.length,b=s.length,_=i.length,C=new Date().toISOString().split("T")[0],A=n.filter(O=>O.date===C).length,P=new Date().getMonth(),E=new Date().getFullYear(),M=new Date(E,P,1).toISOString().split("T")[0],$=new Date(E,P+1,0).toISOString().split("T")[0],k=a(`${E}-${String(P+1).padStart(2,"0")}`,M,$);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[o.logo&&r.jsx("img",{src:o.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[c,", ",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Gérez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vétérinaire optimisée en un seul endroit."}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsxs(q,{size:"lg",className:"gap-2 medical-glow",onClick:()=>d(!0),children:[r.jsx(Oa,{className:"h-5 w-5"}),"Nouveau Client",r.jsx(qC,{className:"h-4 w-4"})]}),r.jsxs(q,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>x(!0),children:[r.jsx(Kt,{className:"h-5 w-5"}),"Nouvel Animal"]}),r.jsxs(q,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>m(!0),children:[r.jsx(Pt,{className:"h-5 w-5"}),"Planifier RDV"]}),r.jsxs(q,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>y(!0),children:[r.jsx(br,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),r.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:N}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-secondary",children:j}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-accent",children:A}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),r.jsx(L2,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[k.totalRevenue.toFixed(0)," ",o.currency||"€"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:oz,alt:"Vétérinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),r.jsx(xv,{open:u,onOpenChange:d}),r.jsx(vE,{open:f,onOpenChange:m}),r.jsx(yv,{open:g,onOpenChange:x}),r.jsx(Xf,{open:v,onOpenChange:y})]})}function yfe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,vaccinations:o,antiparasitics:l,stockItems:c,stockMovements:u,accountingEntries:d,getUpcomingAppointments:f,getOverdueAppointments:m,generateAccountingSummary:g}=jt(),{settings:x}=Jt(),v=e.length,y=t.length;n.length,s.length,i.length;const N=a.length,j=o.length,b=l.length,_=c.length,C=new Date().getMonth(),A=new Date().getFullYear(),P=n.filter(F=>{const Y=new Date(F.date);return Y.getMonth()===C&&Y.getFullYear()===A}).length,E=o.filter(F=>{const Y=new Date(F.dateGiven);return Y.getMonth()===C&&Y.getFullYear()===A}).length,M=l.filter(F=>{const Y=new Date(F.dateGiven);return Y.getMonth()===C&&Y.getFullYear()===A}).length,$=new Date().toISOString().split("T")[0],k=n.filter(F=>F.date===$).length,O=s.filter(F=>F.date===$&&F.status!=="cancelled"&&F.status!=="completed").length,L=f();m();const z=c.filter(F=>F.currentStock<=F.minimumStock).length,J=c.filter(F=>F.currentStock===0).length;c.reduce((F,Y)=>F+Y.currentStock*Y.purchasePrice,0);const H=new Date(A,C,1).toISOString().split("T")[0],oe=new Date(A,C+1,0).toISOString().split("T")[0],Q=g(`${A}-${String(C+1).padStart(2,"0")}`,H,oe),D=Q.totalRevenue;Q.totalExpenses;const ae=Q.netIncome,pe=(F,Y)=>{if(Y===0)return F>0?"+100%":"0%";const ee=(F-Y)/Y*100;return ee>=0?`+${Math.round(ee)}%`:`${Math.round(ee)}%`},te=C===0?11:C-1,Z=C===0?A-1:A,ne=n.filter(F=>{const Y=new Date(F.date);return Y.getMonth()===te&&Y.getFullYear()===Z}).length,xe=e.filter(F=>{const Y=new Date(F.lastVisit);return Y.getMonth()===te&&Y.getFullYear()===Z}).length,ye=t.filter(F=>{if(!F.lastVisit)return!1;const Y=new Date(F.lastVisit);return Y.getMonth()===te&&Y.getFullYear()===Z}).length;s.filter(F=>{const Y=new Date(F.date);return Y.getMonth()===te&&Y.getFullYear()===Z}).length;const se=[{title:"Clients Total",value:v.toString(),change:pe(v,xe),icon:Oa,color:"text-blue-600",bgColor:"bg-blue-50",description:`${v>0?Math.round(v/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:y.toString(),change:pe(y,ye),icon:Kt,color:"text-red-600",bgColor:"bg-red-50",description:`${y>0?Math.round(y/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:O.toString(),change:O>0?"+"+Math.min(20,Math.floor(O*.3))+"%":"0%",icon:Pt,color:"text-purple-600",bgColor:"bg-purple-50",description:`${L.length} à venir cette semaine`},{title:"Consultations",value:P.toString(),change:pe(P,ne),icon:br,color:"text-green-600",bgColor:"bg-green-50",description:`${k} aujourd'hui`},{title:"Revenus Réels",value:`${D.toFixed(0)} ${x.currency||"€"}`,change:D>0?"+"+Math.round(D/1e3*10)+"%":"0%",icon:Bf,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bénéfice: ${ae.toFixed(0)} ${x.currency||"€"}`},{title:"Activité Ferme",value:N.toString(),change:N>0?"+"+Math.min(15,Math.floor(N*.2))+"%":"0%",icon:ka,color:"text-orange-600",bgColor:"bg-orange-50",description:`${N} exploitations actives`},{title:"Vaccinations",value:E.toString(),change:E>0?"+"+Math.min(25,Math.floor(E*.3))+"%":"0%",icon:As,color:"text-blue-600",bgColor:"bg-blue-50",description:`${j} total ce mois`},{title:"Antiparasitaires",value:M.toString(),change:M>0?"+"+Math.min(20,Math.floor(M*.25))+"%":"0%",icon:ji,color:"text-purple-600",bgColor:"bg-purple-50",description:`${b} total ce mois`},{title:"Stock",value:_.toString(),change:z>0?"-"+Math.min(15,Math.floor(z*.2))+"%":"0%",icon:z>0?qn:Gn,color:z>0?"text-red-600":"text-green-600",bgColor:z>0?"bg-red-50":"bg-green-50",description:`${z} en rupture, ${J} épuisés`}];return r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:se.map(F=>r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium text-muted-foreground",children:F.title}),r.jsx("div",{className:`p-2 rounded-lg ${F.bgColor}`,children:r.jsx(F.icon,{className:`h-4 w-4 ${F.color}`})})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold",children:F.value}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.jsx("span",{className:"text-secondary font-medium",children:F.change})," vs mois dernier"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:F.description})]})]},F.title))})}function jfe({open:e,onOpenChange:t,client:n,onEdit:s}){return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[600px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Profil Client"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Hr,{className:"h-20 w-20",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(i=>i[0]).join("")})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),n.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Adresse"}),r.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[r.jsx(ld,{className:"h-4 w-4 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Kt,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?r.jsx("div",{className:"space-y-2",children:n.pets.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:i.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.type," • ",i.breed]})]}),r.jsx($e,{variant:"outline",children:i.status==="healthy"?"En bonne santé":i.status==="treatment"?"En traitement":"Urgent"})]},a))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistré"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total visites:"}),r.jsx("p",{children:n.totalVisits})]})]}),n.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes"}),r.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(q,{onClick:s,className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function bfe({open:e,onOpenChange:t,client:n}){const{updateClient:s}=jt(),{toast:i}=Ft(),[a,o]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});w.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(s(n.id,a),i({title:"Client modifié",description:`Les informations de ${a.firstName} ${a.lastName} ont été mises à jour.`}),t(!1))};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier Client"})}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"firstName",children:"Prénom *"}),r.jsx(ie,{id:"firstName",value:a.firstName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"lastName",children:"Nom *"}),r.jsx(ie,{id:"lastName",value:a.lastName,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:a.email,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(ie,{id:"phone",value:a.phone,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:a.address,onChange:l})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"city",children:"Ville"}),r.jsx(ie,{id:"city",value:a.city,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"postalCode",children:"Code postal"}),r.jsx(ie,{id:"postalCode",value:a.postalCode,onChange:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"idNumber",children:"N° pièce d'identité"}),r.jsx(ie,{id:"idNumber",value:a.idNumber,onChange:l,placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:a.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function wfe(){const{clients:e,pets:t,consultations:n,appointments:s}=jt();Jt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((P,E)=>new Date(E.lastVisit).getTime()-new Date(P.lastVisit).getTime()).slice(0,5),x=e.length,v=e.filter(P=>{const E=new Date(P.lastVisit),M=new Date;return M.setDate(M.getDate()-30),E>=M}).length,y=e.filter(P=>{const E=new Date(P.lastVisit),M=new Date().getMonth(),$=new Date().getFullYear();return E.getMonth()===M&&E.getFullYear()===$}).length,N=x>0?(t.length/x).toFixed(1):"0",j=P=>{f(P),l(!0)},b=P=>{f(P),u(!0)},_=()=>{l(!1),u(!0)},C=P=>{const E=new Date(P),$=Math.abs(new Date().getTime()-E.getTime()),k=Math.ceil($/(1e3*60*60*24));return k===0?"Aujourd'hui":k===1?"Hier":k<7?`Il y a ${k} jours`:k<30?`Il y a ${Math.floor(k/7)} semaine${Math.floor(k/7)>1?"s":""}`:`Il y a ${Math.floor(k/30)} mois`},A=P=>{const E=t.filter(k=>k.ownerId===P.id),M=n.filter(k=>k.clientId===P.id),$=s.filter(k=>k.clientId===P.id);return{pets:E.length,consultations:M.length,appointments:$.length,lastActivity:M.length>0?Math.max(...M.map(k=>new Date(k.date).getTime())):new Date(P.lastVisit).getTime()}};return r.jsxs(r.Fragment,{children:[r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ee,{className:"text-lg font-semibold",children:"Clients Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ka,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," actifs"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",y," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($n,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",N," animaux"]})]})]})]}),r.jsxs(q,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Client"]})]}),r.jsx(fe,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Oa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun client enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier client"})]}):g.map(P=>{const E=A(P);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Hr,{children:r.jsx(Gr,{className:"bg-primary text-primary-foreground",children:P.name.split(" ").map(M=>M[0]).join("")})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium",children:P.name}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[E.pets," animal",E.pets>1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),P.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),P.phone]}),P.city&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ld,{className:"h-3 w-3"}),P.city]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Dernière visite: ",C(P.lastVisit)]}),r.jsxs("span",{children:["Total visites: ",P.totalVisits]}),r.jsxs("span",{children:["Consultations: ",E.consultations]}),r.jsxs("span",{children:["RDV: ",E.appointments]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(P),children:[r.jsx(ns,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(q,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>b(P),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]},P.id)})})]}),r.jsx(xv,{open:i,onOpenChange:a}),r.jsx(jfe,{open:o,onOpenChange:l,client:d,onEdit:_}),r.jsx(bfe,{open:c,onOpenChange:u,client:d})]})}function CV({open:e,onOpenChange:t,pet:n,onEdit:s,onShowDossier:i}){const{updatePet:a}=jt(),[o,l]=w.useState(null);w.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=w.useRef(null),u=d=>{var m;const f=(m=d.target.files)==null?void 0:m[0];if(f){const g=new FileReader;g.onload=x=>{var y;const v=(y=x.target)==null?void 0:y.result;l(v),a(n.id,{photo:v})},g.readAsDataURL(f)}};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Profil Animal"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Hr,{className:"h-24 w-24",children:o?r.jsx(ll,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Kt,{className:"h-12 w-12"})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(q,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[r.jsx(ef,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&r.jsx(q,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),a(n.id,{photo:void 0})},children:"Supprimer photo"}),r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsx($e,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"}),r.jsx("p",{className:"text-muted-foreground",children:n.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"}),r.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spécifiée"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"}),r.jsx("p",{className:"text-muted-foreground",children:n.birthDate?r.jsxs(r.Fragment,{children:[nf(n.birthDate),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:["Né(e) le ",co(n.birthDate)]})]}):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spécifié"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"}),r.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spécifiée"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"}),r.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Puce électronique:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,f)=>r.jsx($e,{variant:"outline",children:d},f))})]}),n.medicalNotes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes médicales"}),r.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),r.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[r.jsxs(q,{variant:"outline",onClick:i,className:"gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Voir Dossier Médical"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(q,{onClick:s,className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}function Nfe({open:e,onOpenChange:t,pet:n}){const{updatePet:s,clients:i}=jt(),{settings:a}=Jt(),{toast:o}=Ft(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});w.useEffect(()=>{n&&c({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:m==="ownerId"?parseInt(g):g}))},f=m=>{if(m.preventDefault(),!n)return;const g=i.find(x=>x.id===l.ownerId);s(n.id,{...l,owner:(g==null?void 0:g.name)||n.owner}),o({title:"Animal modifié",description:`Les informations de ${l.name} ont été mises à jour.`}),t(!1)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier Animal"})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(ie,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Type d'animal *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsx(De,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(V,{value:x,children:x},g):null}).filter(Boolean):r.jsx(V,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Sexe"}),r.jsxs(Me,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(V,{value:"male",children:"Mâle"}),r.jsx(V,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(ie,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Propriétaire *"}),r.jsxs(Me,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsx(De,{children:i.map(m=>r.jsx(V,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Statut de santé"}),r.jsxs(Me,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"healthy",children:"En bonne santé"}),r.jsx(V,{value:"treatment",children:"En traitement"}),r.jsx(V,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(ie,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(Nt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(B,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(Nt,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(Nt,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var Rb="Tabs",[Sfe,D6e]=Zs(Rb,[jb]),_V=jb(),[Cfe,xE]=Sfe(Rb),PV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=xb(l),[f,m]=po({prop:s,onChange:i,defaultProp:a??"",caller:Rb});return r.jsx(Cfe,{scope:n,baseId:rs(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:r.jsx(st.div,{dir:d,"data-orientation":o,...u,ref:t})})});PV.displayName=Rb;var AV="TabsList",EV=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=xE(AV,n),o=_V(n);return r.jsx(h8,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(st.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});EV.displayName=AV;var TV="TabsTrigger",kV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=xE(TV,n),l=_V(n),c=MV(o.baseId,s),u=IV(o.baseId,s),d=s===o.value;return r.jsx(f8,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(st.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:He(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});kV.displayName=TV;var OV="TabsContent",DV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=xE(OV,n),c=MV(l.baseId,s),u=IV(l.baseId,s),d=s===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(ei,{present:i||d,children:({present:m})=>r.jsx(st.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});DV.displayName=OV;function MV(e,t){return`${e}-trigger-${t}`}function IV(e,t){return`${e}-content-${t}`}var _fe=PV,$V=EV,RV=kV,LV=DV;const ml=_fe,yo=w.forwardRef(({className:e,...t},n)=>r.jsx($V,{ref:n,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));yo.displayName=$V.displayName;const on=w.forwardRef(({className:e,...t},n)=>r.jsx(RV,{ref:n,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));on.displayName=RV.displayName;const ln=w.forwardRef(({className:e,...t},n)=>r.jsx(LV,{ref:n,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ln.displayName=LV.displayName;function ta(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function FV(e,t){const n=ta(e);return isNaN(t)?Sc(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const BV=6048e5,Pfe=864e5;let Afe={};function Lb(){return Afe}function dg(e,t){var l,c,u,d;const n=Lb(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=ta(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function O0(e){return dg(e,{weekStartsOn:1})}function zV(e){const t=ta(e),n=t.getFullYear(),s=Sc(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=O0(s),a=Sc(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=O0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function D0(e){const t=ta(e);return t.setHours(0,0,0,0),t}function PI(e){const t=ta(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Efe(e,t){const n=D0(e),s=D0(t),i=+n-PI(n),a=+s-PI(s);return Math.round((i-a)/Pfe)}function Tfe(e){const t=zV(e),n=Sc(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),O0(n)}function kfe(e,t){const n=D0(e),s=D0(t);return+n==+s}function Ofe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Dfe(e){if(!Ofe(e)&&typeof e!="number")return!1;const t=ta(e);return!isNaN(Number(t))}function Mfe(e){const t=ta(e),n=Sc(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ife={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$fe=(e,t,n)=>{let s;const i=Ife[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Th(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Rfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ffe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bfe={date:Th({formats:Rfe,defaultWidth:"full"}),time:Th({formats:Lfe,defaultWidth:"full"}),dateTime:Th({formats:Ffe,defaultWidth:"full"})},zfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vfe=(e,t,n,s)=>zfe[e];function to(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Ufe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yfe=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Qfe={ordinalNumber:Yfe,era:to({values:Ufe,defaultWidth:"wide"}),quarter:to({values:qfe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:to({values:Wfe,defaultWidth:"wide"}),day:to({values:Hfe,defaultWidth:"wide"}),dayPeriod:to({values:Gfe,defaultWidth:"wide",formattingValues:Kfe,defaultFormattingWidth:"wide"})};function no(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Jfe(l,f=>f.test(o)):Xfe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Xfe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Jfe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function VV(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Zfe=/^(\d+)(th|st|nd|rd)?/i,eme=/\d+/i,tme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nme={any:[/^b/i,/^(a|c)/i]},rme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sme={any:[/1/i,/2/i,/3/i,/4/i]},ime={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ame={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ome={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ume={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dme={ordinalNumber:VV({matchPattern:Zfe,parsePattern:eme,valueCallback:e=>parseInt(e,10)}),era:no({matchPatterns:tme,defaultMatchWidth:"wide",parsePatterns:nme,defaultParseWidth:"any"}),quarter:no({matchPatterns:rme,defaultMatchWidth:"wide",parsePatterns:sme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:no({matchPatterns:ime,defaultMatchWidth:"wide",parsePatterns:ame,defaultParseWidth:"any"}),day:no({matchPatterns:ome,defaultMatchWidth:"wide",parsePatterns:lme,defaultParseWidth:"any"}),dayPeriod:no({matchPatterns:cme,defaultMatchWidth:"any",parsePatterns:ume,defaultParseWidth:"any"})},hme={code:"en-US",formatDistance:$fe,formatLong:Bfe,formatRelative:Vfe,localize:Qfe,match:dme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fme(e){const t=ta(e);return Efe(t,Mfe(t))+1}function mme(e){const t=ta(e),n=+O0(t)-+Tfe(t);return Math.round(n/BV)+1}function UV(e,t){var d,f,m,g;const n=ta(e),s=n.getFullYear(),i=Lb(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=Sc(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=dg(o,t),c=Sc(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=dg(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function pme(e,t){var l,c,u,d;const n=Lb(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=UV(e,t),a=Sc(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),dg(a,t)}function gme(e,t){const n=ta(e),s=+dg(n,t)-+pme(n,t);return Math.round(s/BV)+1}function yn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Dl={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return yn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):yn(n+1,2)},d(e,t){return yn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return yn(e.getHours()%12||12,t.length)},H(e,t){return yn(e.getHours(),t.length)},m(e,t){return yn(e.getMinutes(),t.length)},s(e,t){return yn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return yn(i,t.length)}},Gd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AI={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Dl.y(e,t)},Y:function(e,t,n,s){const i=UV(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return yn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):yn(a,t.length)},R:function(e,t){const n=zV(e);return yn(n,t.length)},u:function(e,t){const n=e.getFullYear();return yn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return yn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return yn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Dl.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return yn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=gme(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):yn(i,t.length)},I:function(e,t,n){const s=mme(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):yn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Dl.d(e,t)},D:function(e,t,n){const s=fme(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):yn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return yn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Gd.noon:s===0?i=Gd.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Gd.evening:s>=12?i=Gd.afternoon:s>=4?i=Gd.morning:i=Gd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Dl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Dl.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):yn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):yn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Dl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Dl.s(e,t)},S:function(e,t){return Dl.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return TI(s);case"XXXX":case"XX":return au(s);case"XXXXX":case"XXX":default:return au(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return TI(s);case"xxxx":case"xx":return au(s);case"xxxxx":case"xxx":default:return au(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EI(s,":");case"OOOO":default:return"GMT"+au(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EI(s,":");case"zzzz":default:return"GMT"+au(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return yn(s,t.length)},T:function(e,t,n){const s=e.getTime();return yn(s,t.length)}};function EI(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+yn(a,2)}function TI(e,t){return e%60===0?(e>0?"-":"+")+yn(Math.abs(e)/60,2):au(e,t)}function au(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=yn(Math.trunc(s/60),2),a=yn(s%60,2);return n+i+t+a}const kI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vme=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return kI(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",kI(s,t)).replace("{{time}}",qV(i,t))},xme={p:qV,P:vme},yme=/^D+$/,jme=/^Y+$/,bme=["D","DD","YY","YYYY"];function wme(e){return yme.test(e)}function Nme(e){return jme.test(e)}function Sme(e,t,n){const s=Cme(e,t,n);if(console.warn(s),bme.includes(e))throw new RangeError(s)}function Cme(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _me=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ame=/^'([^]*?)'?$/,Eme=/''/g,Tme=/[a-zA-Z]/;function It(e,t,n){var d,f,m,g,x,v,y,N;const s=Lb(),i=(n==null?void 0:n.locale)??s.locale??hme,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((N=(y=s.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=ta(e);if(!Dfe(l))throw new RangeError("Invalid time value");let c=t.match(Pme).map(j=>{const b=j[0];if(b==="p"||b==="P"){const _=xme[b];return _(j,i.formatLong)}return j}).join("").match(_me).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:kme(j)};if(AI[b])return{isToken:!0,value:j};if(b.match(Tme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const b=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Nme(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&wme(b))&&Sme(b,t,String(e));const _=AI[b[0]];return _(l,b,i.localize,u)}).join("")}function kme(e){const t=e.match(Ame);return t?t[1].replace(Eme,"'"):e}var OI=1,Ome=.9,Dme=.8,Mme=.17,mS=.1,pS=.999,Ime=.9999,$me=.99,Rme=/[\\\/_+.#"@\[\(\{&]/,Lme=/[\\\/_+.#"@\[\(\{&]/g,Fme=/[\s-]/,WV=/[\s-]/g;function F2(e,t,n,s,i,a,o){if(a===t.length)return i===e.length?OI:$me;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(a),u=n.indexOf(c,i),d=0,f,m,g,x;u>=0;)f=F2(e,t,n,s,u+1,a+1,o),f>d&&(u===i?f*=OI:Rme.test(e.charAt(u-1))?(f*=Dme,g=e.slice(i,u-1).match(Lme),g&&i>0&&(f*=Math.pow(pS,g.length))):Fme.test(e.charAt(u-1))?(f*=Ome,x=e.slice(i,u-1).match(WV),x&&i>0&&(f*=Math.pow(pS,x.length))):(f*=Mme,i>0&&(f*=Math.pow(pS,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=Ime)),(f<mS&&n.charAt(u-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(u-1)!==s.charAt(a))&&(m=F2(e,t,n,s,u+1,a+2,o),m*mS>f&&(f=m*mS)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function DI(e){return e.toLowerCase().replace(WV," ")}function Bme(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,F2(e,t,DI(e),DI(t),0,0,{})}var Km='[cmdk-group=""]',gS='[cmdk-group-items=""]',zme='[cmdk-group-heading=""]',HV='[cmdk-item=""]',MI=`${HV}:not([aria-disabled="true"])`,B2="cmdk-item-select",eh="data-value",Vme=(e,t,n)=>Bme(e,t,n),GV=w.createContext(void 0),jv=()=>w.useContext(GV),KV=w.createContext(void 0),yE=()=>w.useContext(KV),YV=w.createContext(void 0),QV=w.forwardRef((e,t)=>{let n=th(()=>{var te,Z;return{search:"",value:(Z=(te=e.value)!=null?te:e.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=th(()=>new Set),i=th(()=>new Map),a=th(()=>new Map),o=th(()=>new Set),l=XV(e),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:g,loop:x,disablePointerSelection:v=!1,vimBindings:y=!0,...N}=e,j=rs(),b=rs(),_=rs(),C=w.useRef(null),A=Zme();Ku(()=>{if(d!==void 0){let te=d.trim();n.current.value=te,P.emit()}},[d]),Ku(()=>{A(6,L)},[]);let P=w.useMemo(()=>({subscribe:te=>(o.current.add(te),()=>o.current.delete(te)),snapshot:()=>n.current,setState:(te,Z,ne)=>{var xe,ye,se,F;if(!Object.is(n.current[te],Z)){if(n.current[te]=Z,te==="search")O(),$(),A(1,k);else if(te==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Y=document.getElementById(_);Y?Y.focus():(xe=document.getElementById(j))==null||xe.focus()}if(A(7,()=>{var Y;n.current.selectedItemId=(Y=z())==null?void 0:Y.id,P.emit()}),ne||A(5,L),((ye=l.current)==null?void 0:ye.value)!==void 0){let Y=Z??"";(F=(se=l.current).onValueChange)==null||F.call(se,Y);return}}P.emit()}},emit:()=>{o.current.forEach(te=>te())}}),[]),E=w.useMemo(()=>({value:(te,Z,ne)=>{var xe;Z!==((xe=a.current.get(te))==null?void 0:xe.value)&&(a.current.set(te,{value:Z,keywords:ne}),n.current.filtered.items.set(te,M(Z,ne)),A(2,()=>{$(),P.emit()}))},item:(te,Z)=>(s.current.add(te),Z&&(i.current.has(Z)?i.current.get(Z).add(te):i.current.set(Z,new Set([te]))),A(3,()=>{O(),$(),n.current.value||k(),P.emit()}),()=>{a.current.delete(te),s.current.delete(te),n.current.filtered.items.delete(te);let ne=z();A(4,()=>{O(),(ne==null?void 0:ne.getAttribute("id"))===te&&k(),P.emit()})}),group:te=>(i.current.has(te)||i.current.set(te,new Set),()=>{a.current.delete(te),i.current.delete(te)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:j,inputId:_,labelId:b,listInnerRef:C}),[]);function M(te,Z){var ne,xe;let ye=(xe=(ne=l.current)==null?void 0:ne.filter)!=null?xe:Vme;return te?ye(te,n.current.search,Z):0}function $(){if(!n.current.search||l.current.shouldFilter===!1)return;let te=n.current.filtered.items,Z=[];n.current.filtered.groups.forEach(xe=>{let ye=i.current.get(xe),se=0;ye.forEach(F=>{let Y=te.get(F);se=Math.max(Y,se)}),Z.push([xe,se])});let ne=C.current;J().sort((xe,ye)=>{var se,F;let Y=xe.getAttribute("id"),ee=ye.getAttribute("id");return((se=te.get(ee))!=null?se:0)-((F=te.get(Y))!=null?F:0)}).forEach(xe=>{let ye=xe.closest(gS);ye?ye.appendChild(xe.parentElement===ye?xe:xe.closest(`${gS} > *`)):ne.appendChild(xe.parentElement===ne?xe:xe.closest(`${gS} > *`))}),Z.sort((xe,ye)=>ye[1]-xe[1]).forEach(xe=>{var ye;let se=(ye=C.current)==null?void 0:ye.querySelector(`${Km}[${eh}="${encodeURIComponent(xe[0])}"]`);se==null||se.parentElement.appendChild(se)})}function k(){let te=J().find(ne=>ne.getAttribute("aria-disabled")!=="true"),Z=te==null?void 0:te.getAttribute(eh);P.setState("value",Z||void 0)}function O(){var te,Z,ne,xe;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ye=0;for(let se of s.current){let F=(Z=(te=a.current.get(se))==null?void 0:te.value)!=null?Z:"",Y=(xe=(ne=a.current.get(se))==null?void 0:ne.keywords)!=null?xe:[],ee=M(F,Y);n.current.filtered.items.set(se,ee),ee>0&&ye++}for(let[se,F]of i.current)for(let Y of F)if(n.current.filtered.items.get(Y)>0){n.current.filtered.groups.add(se);break}n.current.filtered.count=ye}function L(){var te,Z,ne;let xe=z();xe&&(((te=xe.parentElement)==null?void 0:te.firstChild)===xe&&((ne=(Z=xe.closest(Km))==null?void 0:Z.querySelector(zme))==null||ne.scrollIntoView({block:"nearest"})),xe.scrollIntoView({block:"nearest"}))}function z(){var te;return(te=C.current)==null?void 0:te.querySelector(`${HV}[aria-selected="true"]`)}function J(){var te;return Array.from(((te=C.current)==null?void 0:te.querySelectorAll(MI))||[])}function H(te){let Z=J()[te];Z&&P.setState("value",Z.getAttribute(eh))}function oe(te){var Z;let ne=z(),xe=J(),ye=xe.findIndex(F=>F===ne),se=xe[ye+te];(Z=l.current)!=null&&Z.loop&&(se=ye+te<0?xe[xe.length-1]:ye+te===xe.length?xe[0]:xe[ye+te]),se&&P.setState("value",se.getAttribute(eh))}function Q(te){let Z=z(),ne=Z==null?void 0:Z.closest(Km),xe;for(;ne&&!xe;)ne=te>0?Xme(ne,Km):Jme(ne,Km),xe=ne==null?void 0:ne.querySelector(MI);xe?P.setState("value",xe.getAttribute(eh)):oe(te)}let D=()=>H(J().length-1),ae=te=>{te.preventDefault(),te.metaKey?D():te.altKey?Q(1):oe(1)},pe=te=>{te.preventDefault(),te.metaKey?H(0):te.altKey?Q(-1):oe(-1)};return w.createElement(st.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:te=>{var Z;(Z=N.onKeyDown)==null||Z.call(N,te);let ne=te.nativeEvent.isComposing||te.keyCode===229;if(!(te.defaultPrevented||ne))switch(te.key){case"n":case"j":{y&&te.ctrlKey&&ae(te);break}case"ArrowDown":{ae(te);break}case"p":case"k":{y&&te.ctrlKey&&pe(te);break}case"ArrowUp":{pe(te);break}case"Home":{te.preventDefault(),H(0);break}case"End":{te.preventDefault(),D();break}case"Enter":{te.preventDefault();let xe=z();if(xe){let ye=new Event(B2);xe.dispatchEvent(ye)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:tpe},c),Fb(e,te=>w.createElement(KV.Provider,{value:P},w.createElement(GV.Provider,{value:E},te))))}),Ume=w.forwardRef((e,t)=>{var n,s;let i=rs(),a=w.useRef(null),o=w.useContext(YV),l=jv(),c=XV(e),u=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Ku(()=>{if(!u)return l.item(i,o==null?void 0:o.id)},[u]);let d=JV(i,a,[e.value,e.children,a],e.keywords),f=yE(),m=Cc(A=>A.value&&A.value===d.current),g=Cc(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);w.useEffect(()=>{let A=a.current;if(!(!A||e.disabled))return A.addEventListener(B2,x),()=>A.removeEventListener(B2,x)},[g,e.onSelect,e.disabled]);function x(){var A,P;v(),(P=(A=c.current).onSelect)==null||P.call(A,d.current)}function v(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:y,value:N,onSelect:j,forceMount:b,keywords:_,...C}=e;return w.createElement(st.div,{ref:rl(a,t),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||l.getDisablePointerSelection()?void 0:v,onClick:y?void 0:x},e.children)}),qme=w.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:i,...a}=e,o=rs(),l=w.useRef(null),c=w.useRef(null),u=rs(),d=jv(),f=Cc(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Ku(()=>d.group(o),[]),JV(o,l,[e.value,e.heading,c]);let m=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(st.div,{ref:rl(l,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Fb(e,g=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(YV.Provider,{value:m},g))))}),Wme=w.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,i=w.useRef(null),a=Cc(o=>!o.search);return!n&&!a?null:w.createElement(st.div,{ref:rl(i,t),...s,"cmdk-separator":"",role:"separator"})}),Hme=w.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,i=e.value!=null,a=yE(),o=Cc(u=>u.search),l=Cc(u=>u.selectedItemId),c=jv();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(st.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),Gme=w.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),l=Cc(u=>u.selectedItemId),c=jv();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),w.createElement(st.div,{ref:rl(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},Fb(e,u=>w.createElement("div",{ref:rl(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Kme=w.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:o,...l}=e;return w.createElement(Sz,{open:n,onOpenChange:s},w.createElement(Cz,{container:o},w.createElement(lE,{"cmdk-overlay":"",className:i}),w.createElement(cE,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(QV,{ref:t,...l}))))}),Yme=w.forwardRef((e,t)=>Cc(n=>n.filtered.count===0)?w.createElement(st.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Qme=w.forwardRef((e,t)=>{let{progress:n,children:s,label:i="Loading...",...a}=e;return w.createElement(st.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Fb(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),ni=Object.assign(QV,{List:Gme,Item:Ume,Input:Hme,Group:qme,Separator:Wme,Dialog:Kme,Empty:Yme,Loading:Qme});function Xme(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Jme(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function XV(e){let t=w.useRef(e);return Ku(()=>{t.current=e}),t}var Ku=typeof window>"u"?w.useEffect:w.useLayoutEffect;function th(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function Cc(e){let t=yE(),n=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,n,n)}function JV(e,t,n,s=[]){let i=w.useRef(),a=jv();return Ku(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=s.map(u=>u.trim());a.value(e,l,c),(o=t.current)==null||o.setAttribute(eh,l),i.current=l}),i}var Zme=()=>{let[e,t]=w.useState(),n=th(()=>new Map);return Ku(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,i)=>{n.current.set(s,i),t({})}};function epe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Fb({asChild:e,children:t},n){return e&&w.isValidElement(t)?w.cloneElement(epe(t),{ref:t.ref},n(t.props.children)):n(t)}var tpe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const jE=w.forwardRef(({className:e,...t},n)=>r.jsx(ni,{ref:n,className:Ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));jE.displayName=ni.displayName;const bE=w.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(pr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(ni.Input,{ref:n,className:Ze("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));bE.displayName=ni.Input.displayName;const wE=w.forwardRef(({className:e,...t},n)=>r.jsx(ni.List,{ref:n,className:Ze("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));wE.displayName=ni.List.displayName;const NE=w.forwardRef((e,t)=>r.jsx(ni.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));NE.displayName=ni.Empty.displayName;const SE=w.forwardRef(({className:e,...t},n)=>r.jsx(ni.Group,{ref:n,className:Ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));SE.displayName=ni.Group.displayName;const npe=w.forwardRef(({className:e,...t},n)=>r.jsx(ni.Separator,{ref:n,className:Ze("-mx-1 h-px bg-border",e),...t}));npe.displayName=ni.Separator.displayName;const hg=w.forwardRef(({className:e,...t},n)=>r.jsx(ni.Item,{ref:n,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));hg.displayName=ni.Item.displayName;var Bb="Popover",[ZV,M6e]=Zs(Bb,[Ec]),bv=Ec(),[rpe,Lc]=ZV(Bb),eU=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=bv(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,m]=po({prop:s,defaultProp:i??!1,onChange:a,caller:Bb});return r.jsx(IA,{...l,children:r.jsx(rpe,{scope:t,contentId:rs(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};eU.displayName=Bb;var tU="PopoverAnchor",spe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Lc(tU,n),a=bv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(ov,{...a,...s,ref:t})});spe.displayName=tU;var nU="PopoverTrigger",rU=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Lc(nU,n),a=bv(n),o=Qt(t,i.triggerRef),l=r.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lU(i.open),...s,ref:o,onClick:He(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(ov,{asChild:!0,...a,children:l})});rU.displayName=nU;var CE="PopoverPortal",[ipe,ape]=ZV(CE,{forceMount:void 0}),sU=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=Lc(CE,t);return r.jsx(ipe,{scope:t,forceMount:n,children:r.jsx(ei,{present:n||a.open,children:r.jsx(Ff,{asChild:!0,container:i,children:s})})})};sU.displayName=CE;var lf="PopoverContent",iU=w.forwardRef((e,t)=>{const n=ape(lf,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=Lc(lf,e.__scopePopover);return r.jsx(ei,{present:s||a.open,children:a.modal?r.jsx(lpe,{...i,ref:t}):r.jsx(cpe,{...i,ref:t})})});iU.displayName=lf;var ope=jc("PopoverContent.RemoveScroll"),lpe=w.forwardRef((e,t)=>{const n=Lc(lf,e.__scopePopover),s=w.useRef(null),i=Qt(t,s),a=w.useRef(!1);return w.useEffect(()=>{const o=s.current;if(o)return bb(o)},[]),r.jsx(uv,{as:ope,allowPinchZoom:!0,children:r.jsx(aU,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),cpe=w.forwardRef((e,t)=>{const n=Lc(lf,e.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(aU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),aU=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Lc(lf,n),g=bv(n);return yb(),r.jsx(lv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(od,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(hb,{"data-state":lU(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oU="PopoverClose",upe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Lc(oU,n);return r.jsx(st.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>i.onOpenChange(!1))})});upe.displayName=oU;var dpe="PopoverArrow",hpe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=bv(n);return r.jsx(fb,{...i,...s,ref:t})});hpe.displayName=dpe;function lU(e){return e?"open":"closed"}var fpe=eU,mpe=rU,ppe=sU,cU=iU;const uU=fpe,dU=mpe,_E=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(ppe,{children:r.jsx(cU,{ref:i,align:t,sideOffset:n,className:Ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));_E.displayName=cU.displayName;const gpe=[{value:"left_shoulder",label:"Épaule gauche"},{value:"right_shoulder",label:"Épaule droite"},{value:"left_hip",label:"Hanche gauche"},{value:"right_hip",label:"Hanche droite"},{value:"subcutaneous",label:"Sous-cutané"}];function M0({children:e,selectedPetId:t,selectedClientId:n,isReminder:s=!1,originalVaccinationId:i,open:a,onOpenChange:o,editingVaccination:l}){const{clients:c,pets:u,addVaccination:d,updateVaccination:f,getVaccinationProtocolsBySpecies:m,calculateDueDateFromProtocol:g,stockItems:x}=jt(),{settings:v}=Jt(),{toast:y}=Ft(),[N,j]=w.useState(!1),b=a!==void 0?a:N,_=o||j;w.useState(!1);const[C,A]=w.useState(!1),[P,E]=w.useState(!1),[M,$]=w.useState([]),[k,O]=w.useState({clientId:n||"",petId:t||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),[L,z]=w.useState([]),J=L||[],[H,oe]=w.useState({}),[Q,D]=w.useState(null),[ae,pe]=w.useState("");w.useEffect(()=>{n&&O(F=>({...F,clientId:n.toString()})),t&&O(F=>({...F,petId:t.toString()}))},[n,t]),w.useEffect(()=>{const F=x.filter(Y=>Y.category==="vaccine"&&Y.isActive&&Y.currentStock>0).sort((Y,ee)=>Y.name.localeCompare(ee.name));$(F)},[x]),w.useEffect(()=>{l&&O({clientId:l.clientId.toString(),petId:l.petId.toString(),vaccineName:l.vaccineName,vaccineType:l.vaccineType,dateGiven:l.dateGiven,nextDueDate:l.nextDueDate,batchNumber:l.batchNumber||"",veterinarian:l.veterinarian||"",notes:l.notes||"",cost:l.cost||"",location:l.location||"",manufacturer:l.manufacturer||"",injectionSite:l.injectionSite||""})},[l]),w.useEffect(()=>{if(k.vaccineName&&k.dateGiven&&k.petId){const F=u.find(Y=>Y.id===parseInt(k.petId));if(F){const Y=g(k.vaccineName,F.type,k.dateGiven);Y&&pe(Y)}}},[k.vaccineName,k.dateGiven,k.petId,u,g]),w.useEffect(()=>{if(J.length>0&&k.dateGiven){const F={};J.forEach(Y=>{Y.intervals.forEach(ee=>{const G=`${Y.id}-${ee.offsetDays}`;F[G]=It(FV(new Date(k.dateGiven),ee.offsetDays),"yyyy-MM-dd")})}),oe(F)}else oe({})},[J,k.dateGiven]);const te=F=>{O(Y=>({...Y,vaccineName:F.name,manufacturer:F.manufacturer||Y.manufacturer,cost:F.sellingPrice.toString()})),A(!1),E(!1)},Z=()=>{E(!0),A(!1)},ne=()=>{E(!1),O(F=>({...F,vaccineName:"",manufacturer:"",cost:""}))},xe=F=>{if(F.preventDefault(),l){if(!k.clientId||!k.petId){y({title:"Erreur",description:"Client ou animal manquant",variant:"destructive"});return}}else if(!k.clientId||!k.petId||J.length===0&&!k.vaccineName){y({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const Y=c.find(I=>I.id===parseInt(k.clientId)),ee=u.find(I=>I.id===parseInt(k.petId));if(!Y||!ee){y({title:"Erreur",description:"Client ou animal introuvable",variant:"destructive"});return}if(J.length>0&&!l){J.forEach(I=>{var ve,we;if(I.intervals&&Array.isArray(I.intervals)){let Fe;const Be=I.intervals.find(it=>it.offsetDays===0);if(Be){const it=`${I.id}-${Be.offsetDays}`,lt=H[it]||"";Fe=d({clientId:parseInt(k.clientId),clientName:((ve=c.find(ft=>ft.id===parseInt(k.clientId)))==null?void 0:ve.name)||"",petId:parseInt(k.petId),petName:((we=u.find(ft=>ft.id===parseInt(k.petId)))==null?void 0:we.name)||"",vaccineName:`${I.name} (${Be.label})`,vaccineType:I.vaccineType,dateGiven:k.dateGiven,nextDueDate:lt,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"completed",cost:k.cost,location:k.location,manufacturer:I.manufacturer||k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,vaccinationCategory:"new",isReminder:!1})}I.intervals.forEach(it=>{var lt,ft;if(it.offsetDays>0){const Ne=`${I.id}-${it.offsetDays}`,Ge=H[Ne]||"";d({clientId:parseInt(k.clientId),clientName:((lt=c.find(Ke=>Ke.id===parseInt(k.clientId)))==null?void 0:lt.name)||"",petId:parseInt(k.petId),petName:((ft=u.find(Ke=>Ke.id===parseInt(k.petId)))==null?void 0:ft.name)||"",vaccineName:`${I.name} (${it.label})`,vaccineType:I.vaccineType,dateGiven:Ge,nextDueDate:Ge,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"scheduled",cost:k.cost,location:k.location,manufacturer:I.manufacturer||k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,vaccinationCategory:"reminder",originalVaccinationId:Fe,isReminder:!0})}})}}),y({title:"Vaccinations enregistrées",description:`${J.length} vaccinations ajoutées.`}),z([]),_(!1);return}const G=Object.values(H).sort().pop()||ae||k.dateGiven;if(l){const I=l.vaccinationCategory==="reminder"?"rappel":"vaccination";f(l.id,{clientId:parseInt(k.clientId),clientName:Y.name,petId:parseInt(k.petId),petName:ee.name,vaccineName:k.vaccineName,vaccineType:k.vaccineType,vaccinationCategory:l.vaccinationCategory,dateGiven:k.dateGiven,nextDueDate:l.vaccinationCategory==="reminder"?k.dateGiven:G,calculatedDueDate:ae,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:l.status,cost:k.cost,location:k.location,manufacturer:k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,originalVaccinationId:l.originalVaccinationId,isReminder:l.isReminder}),y({title:`${I.charAt(0).toUpperCase()+I.slice(1)} modifiée`,description:`${I.charAt(0).toUpperCase()+I.slice(1)} ${k.vaccineName} modifiée pour ${ee.name}`})}else d({clientId:parseInt(k.clientId),clientName:Y.name,petId:parseInt(k.petId),petName:ee.name,vaccineName:k.vaccineName,vaccineType:k.vaccineType,vaccinationCategory:s?"reminder":"new",dateGiven:k.dateGiven,nextDueDate:G,calculatedDueDate:ae,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"completed",cost:k.cost,location:k.location,manufacturer:k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,originalVaccinationId:s?i:void 0,isReminder:s}),y({title:"Vaccination enregistrée",description:`Vaccination ${k.vaccineName} ajoutée pour ${ee.name}`});O({clientId:(n==null?void 0:n.toString())||"",petId:(t==null?void 0:t.toString())||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),z([]),_(!1)},ye=u.find(F=>F.id===parseInt(k.petId)),se=ye?m(ye.type):[];return r.jsxs(St,{open:b,onOpenChange:_,children:[r.jsx(Ic,{asChild:!0,children:e||r.jsxs(q,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(As,{className:"h-5 w-5"}),l?l.vaccinationCategory==="reminder"?"Modifier le Rappel":"Modifier la Vaccination":"Nouvelle Vaccination"]}),l&&l.vaccinationCategory==="reminder"&&r.jsxs("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded-md border border-orange-200",children:[r.jsx("strong",{children:"Mode édition de rappel :"})," Vous modifiez uniquement ce rappel spécifique. Les autres rappels de la même vaccination ne seront pas affectés."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement cette vaccination spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"clientId",children:"Client *"}),r.jsxs(Me,{value:k.clientId,onValueChange:F=>{O(Y=>({...Y,clientId:F,petId:""})),D(null)},disabled:!!l,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un client"})}),r.jsx(De,{children:c&&Array.isArray(c)&&c.length>0?c.map(F=>r.jsx(V,{value:F.id.toString(),children:F.name},F.id)):r.jsx(V,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"petId",children:"Animal *"}),r.jsxs(Me,{value:k.petId,onValueChange:F=>{O(Y=>({...Y,petId:F})),D(null)},disabled:l?!0:!k.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un animal"})}),r.jsx(De,{children:u.filter(F=>F.ownerId===parseInt(k.clientId)).map(F=>r.jsxs(V,{value:F.id.toString(),children:[F.name," (",F.type,")"]},F.id))})]})]})]}),se.length>0&&!l&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs(B,{children:["Protocoles suggérés pour ",ye==null?void 0:ye.type," (sélection multiple)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:se.map(F=>{const Y=J.some(ee=>ee.id===F.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Yi,{id:`protocol-${F.id}`,checked:Y,onCheckedChange:ee=>{z(ee?G=>[...G,F]:G=>G.filter(I=>I.id!==F.id))}}),r.jsxs("label",{htmlFor:`protocol-${F.id}`,className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:F.name}),r.jsx("div",{className:"text-xs text-gray-600",children:F.description})]})]},F.id)})})]}),J.length>0&&!l?r.jsxs(he,{className:"mb-4",children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-sm",children:"Vaccins sélectionnés"})}),r.jsx(fe,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:J.map(F=>r.jsx("li",{children:F.name},F.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs(B,{htmlFor:"vaccineName",children:["Nom du vaccin ",!l&&"*"]}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[M.length," vaccins en stock"]})]}),P?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:ne,className:"text-xs",children:"Changer"})]}),r.jsx(ie,{value:k.vaccineName,onChange:F=>O(Y=>({...Y,vaccineName:F.target.value})),placeholder:"Nom du vaccin (non disponible en stock)",className:"bg-white",required:!l})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(uU,{open:C,onOpenChange:A,children:[r.jsx(dU,{asChild:!0,children:r.jsxs(q,{variant:"outline",role:"combobox","aria-expanded":C,className:"flex-1 justify-between",children:[k.vaccineName||"Sélectionner un vaccin...",r.jsx(ob,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(_E,{className:"w-[400px] p-0",children:r.jsxs(jE,{children:[r.jsx(bE,{placeholder:"Rechercher un vaccin..."}),r.jsxs(wE,{children:[r.jsx(NE,{children:"Aucun vaccin trouvé."}),r.jsxs(SE,{children:[M.map(F=>r.jsxs(hg,{value:F.name,onSelect:()=>te(F),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:F.name})]}),r.jsxs($e,{variant:F.currentStock>=5?"default":"destructive",className:"ml-2",children:[F.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[F.manufacturer&&r.jsxs("span",{children:["Fabricant: ",F.manufacturer]}),r.jsxs("span",{children:["Prix: ",F.sellingPrice.toFixed(2)," ",v.currency]})]})]},F.id)),r.jsx(hg,{onSelect:Z,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Vaccin non disponible en stock"})]})]})})]})]})]})})]}),k.vaccineName&&r.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:Z,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(pr,{className:"h-4 w-4"})})]}),k.vaccineName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const F=M.find(Y=>Y.name.toLowerCase()===k.vaccineName.toLowerCase());return F?F.currentStock>=1?r.jsxs($e,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(er,{className:"h-3 w-3 mr-1"}),"En stock (",F.currentStock,")"]}):r.jsxs($e,{variant:"destructive",children:[r.jsx(qn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs($e,{variant:"secondary",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vaccineType",children:"Type de vaccin"}),r.jsxs(Me,{value:k.vaccineType,onValueChange:F=>O(Y=>({...Y,vaccineType:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de vaccin"})}),r.jsxs(De,{children:[r.jsx(V,{value:"core",children:"Essentiel"}),r.jsx(V,{value:"non-core",children:"Optionnel"}),r.jsx(V,{value:"rabies",children:"Rage"}),r.jsx(V,{value:"custom",children:"Personnalisé"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"dateGiven",children:["Date d'administration ",!l&&"*"]}),r.jsx(ie,{id:"dateGiven",type:"date",value:k.dateGiven,onChange:F=>O(Y=>({...Y,dateGiven:F.target.value})),required:!l})]})}),J.length>0&&!l&&r.jsx("div",{className:"space-y-4 mb-4",children:J.map(F=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",F.name]}),F.intervals.map(Y=>{const ee=`${F.id}-${Y.offsetDays}`,G=new Date(k.dateGiven);G.setDate(G.getDate()+Y.offsetDays);const I=G.toISOString().split("T")[0];return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[Y.label," (+",Y.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:ee,children:"Date de rappel"}),r.jsx(ie,{id:ee,type:"date",value:H[ee]||I,onChange:ve=>oe(we=>({...we,[ee]:ve.target.value}))}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Suggérée: ",G.toLocaleDateString("fr-FR")]})]})]},ee)})]},F.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsxs(Me,{value:k.veterinarian,onValueChange:F=>O(Y=>({...Y,veterinarian:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(De,{children:v.veterinarians.filter(F=>F.isActive).map(F=>r.jsx(V,{value:F.name,children:F.name},F.id))})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"location",children:"Site d'injection"}),r.jsxs(Me,{value:k.location,onValueChange:F=>O(Y=>({...Y,location:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le site"})}),r.jsx(De,{children:gpe.map(F=>r.jsx(V,{value:F.value,children:F.label},F.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",value:k.batchNumber,onChange:F=>O(Y=>({...Y,batchNumber:F.target.value})),placeholder:"Ex: VAC2024-001"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:k.manufacturer,onChange:F=>O(Y=>({...Y,manufacturer:F.target.value})),placeholder:"Ex: Zoetis, Merial"})]}),r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"cost",children:["Coût (",v.currency,")"]}),r.jsx(ie,{id:"cost",value:k.cost,onChange:F=>O(Y=>({...Y,cost:F.target.value})),placeholder:"0.00",type:"number",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"expirationDate",children:"Date d'expiration du vaccin"}),r.jsx(ie,{id:"expirationDate",type:"date",value:k.expirationDate,onChange:F=>O(Y=>({...Y,expirationDate:F.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:k.notes,onChange:F=>O(Y=>({...Y,notes:F.target.value})),placeholder:"Notes sur la vaccination...",rows:3})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"adverseReactions",children:"Réactions adverses"}),r.jsx(Nt,{id:"adverseReactions",value:k.adverseReactions,onChange:F=>O(Y=>({...Y,adverseReactions:F.target.value})),placeholder:"Décrire toute réaction adverse observée...",rows:2})]}),k.vaccineName&&r.jsxs(he,{className:"mt-4",children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"text-sm flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(fe,{children:(()=>{const F=M.find(Y=>Y.name.toLowerCase()===k.vaccineName.toLowerCase());return F?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:F.name}),r.jsxs($e,{variant:F.currentStock>=1?"default":"destructive",children:[F.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",F.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",F.sellingPrice.toFixed(2)," ",v.currency]}),r.jsxs("div",{children:["Stock minimum: ",F.minimumStock]}),F.currentStock<=F.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:"Vaccin non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"Le vaccin sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>setOpen(!1),children:"Annuler"}),r.jsxs(q,{type:"submit",children:[r.jsx(As,{className:"h-4 w-4 mr-2"}),"Enregistrer la vaccination"]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[ye&&r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-sm",children:"Informations Animal"})}),r.jsx(fe,{className:"pt-0",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",ye.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",ye.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Race:"})," ",ye.breed||"Non spécifiée"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Âge:"})," ",ye.birthDate?`${Math.floor((new Date().getTime()-new Date(ye.birthDate).getTime())/(365.25*24*60*60*1e3))} ans`:"Non spécifié"]})]})})]}),r.jsxs(he,{className:"border-amber-200 bg-amber-50",children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"text-sm text-amber-700 flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4"}),"Important"]})}),r.jsx(fe,{className:"pt-0",children:r.jsxs("ul",{className:"text-xs text-amber-700 space-y-1",children:[r.jsx("li",{children:"• Vérifiez la date d'expiration du vaccin"}),r.jsx("li",{children:"• Respectez la chaîne du froid"}),r.jsx("li",{children:"• Surveillez les réactions dans les 24h"}),r.jsx("li",{children:"• Enregistrez le numéro de lot"}),r.jsx("li",{children:"• Planifiez le rappel"})]})})]})]})]})]})]})}function I0({children:e,selectedClientId:t,selectedPetId:n,open:s,onOpenChange:i,editingAntiparasitic:a}){var pe,te;const{clients:o,pets:l,addAntiparasitic:c,updateAntiparasitic:u,getAntiparasiticProtocolsBySpecies:d,addAppointment:f,stockItems:m}=jt(),{settings:g}=Jt(),{toast:x}=Ft(),[v,y]=w.useState(!1),N=s!==void 0?s:v,j=i||y,[b,_]=w.useState({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),[C,A]=w.useState([]),[P,E]=w.useState(!1),[M,$]=w.useState(!1),[k,O]=w.useState([]),L=C||[],[z,J]=w.useState({});w.useEffect(()=>{t&&_(Z=>({...Z,clientId:t.toString(),petId:""})),n&&_(Z=>({...Z,petId:n.toString()}))},[t,n]),w.useEffect(()=>{const Z=m.filter(ne=>ne.category==="medication"&&ne.isActive&&ne.currentStock>0).sort((ne,xe)=>ne.name.localeCompare(xe.name));O(Z)},[m]),w.useEffect(()=>{a&&_({clientId:a.clientId.toString(),petId:a.petId.toString(),dateGiven:a.dateGiven,nextDueDate:a.nextDueDate||"",dosage:a.dosage||"",administrationRoute:a.administrationRoute||"",veterinarian:a.veterinarian||"",notes:a.notes||"",batchNumber:a.batchNumber||"",manufacturer:a.manufacturer||"",weight:a.weight||"",cost:a.cost||"",sideEffects:a.sideEffects||""})},[a]),w.useEffect(()=>{if(L.length&&b.dateGiven){const Z={};L.forEach(ne=>{ne.intervals.forEach(xe=>{const ye=`${ne.id}-${xe.offsetDays}`;Z[ye]=It(FV(new Date(b.dateGiven),xe.offsetDays),"yyyy-MM-dd")})}),J(Z)}else J({})},[L,b.dateGiven]);const H=b.petId?d(((pe=l.find(Z=>Z.id===parseInt(b.petId)))==null?void 0:pe.type)||""):[],oe=Z=>{_(ne=>({...ne,productName:Z.name,manufacturer:Z.manufacturer||ne.manufacturer,cost:Z.sellingPrice.toString()})),E(!1),$(!1)},Q=()=>{$(!0),E(!1)},D=()=>{$(!1),_(Z=>({...Z,productName:"",manufacturer:"",cost:""}))},ae=Z=>{if(Z.preventDefault(),!b.clientId||!b.petId){x({title:"Erreur",description:"Client et animal requis.",variant:"destructive"});return}const ne=o.find(ye=>ye.id===parseInt(b.clientId)),xe=l.find(ye=>ye.id===parseInt(b.petId));if(!ne||!xe){x({title:"Erreur",description:"Client ou animal introuvable.",variant:"destructive"});return}if(a){u(a.id,{clientId:parseInt(b.clientId),clientName:ne.name,petId:parseInt(b.petId),petName:xe.name,productName:a.productName,productType:a.productType,targetParasites:a.targetParasites,dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:a.status,cost:b.cost,sideEffects:b.sideEffects}),x({title:"Traitement modifié",description:`Le traitement ${a.productName} a été mis à jour avec succès.`}),j(!1);return}if(L.length>0)L.forEach(ye=>{ye.intervals.forEach(se=>{const F=`${ye.id}-${se.offsetDays}`,Y=z[F]||"",ee=se.offsetDays===0?b.dateGiven:Y;c({clientId:ne.id,clientName:ne.name,petId:xe.id,petName:xe.name,productName:`${ye.name} (${se.label})`,productType:ye.productType,targetParasites:ye.targetParasites,dateGiven:ee,nextDueDate:Y,dosage:b.dosage,administrationRoute:b.administrationRoute||ye.productType,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer||ye.manufacturer||"",weight:b.weight,status:se.offsetDays===0?"completed":"scheduled",cost:b.cost,sideEffects:b.sideEffects})})}),L.forEach(ye=>{(ye.intervals||[]).forEach(se=>{const F=`${ye.id}-${se.offsetDays}`,Y=z[F];Y&&se.offsetDays>0&&f({clientId:ne.id,clientName:ne.name,petId:xe.id,petName:xe.name,date:Y,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ye.name}`,status:"scheduled",reminderSent:!1})})}),x({title:"Traitements ajoutés",description:`${L.reduce((ye,se)=>ye+se.intervals.length,0)} traitement(s) enregistré(s) dans le dossier médical et rappels programmés.`});else{const ye=b.notes||"Traitement antiparasitaire";c({clientId:ne.id,clientName:ne.name,petId:xe.id,petName:xe.name,productName:ye,productType:"external",targetParasites:"Non spécifié",dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:"completed",cost:b.cost,sideEffects:b.sideEffects}),b.nextDueDate&&f({clientId:ne.id,clientName:ne.name,petId:xe.id,petName:xe.name,date:b.nextDueDate,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${ye}`,status:"scheduled",reminderSent:!1}),x({title:"Traitement ajouté",description:`Traitement pour ${xe.name} enregistré dans le dossier médical.`})}A([]),_({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),j(!1)};return r.jsxs(St,{open:N,onOpenChange:j,children:[!a&&r.jsx(Ic,{asChild:!0,children:e||r.jsxs(q,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau traitement"]})}),r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:a?`Modifier ${a.productName}`:"Nouveau traitement antiparasitaire"})}),r.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement ce traitement spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(B,{children:"Client *"}),r.jsxs(Me,{value:b.clientId,onValueChange:Z=>_(ne=>({...ne,clientId:Z,petId:""})),disabled:a,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un client"})}),r.jsx(De,{children:o&&Array.isArray(o)&&o.length>0?o.map(Z=>r.jsx(V,{value:Z.id.toString(),children:Z.name},Z.id)):r.jsx(V,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Animal *"}),r.jsxs(Me,{value:b.petId,onValueChange:Z=>_(ne=>({...ne,petId:Z})),disabled:!b.clientId||a,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un animal"})}),r.jsx(De,{children:l.filter(Z=>Z.ownerId===parseInt(b.clientId)).map(Z=>r.jsxs(V,{value:Z.id.toString(),children:[Z.name," (",Z.type,")"]},Z.id))})]})]})]}),H.length>0&&!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{children:["Protocoles suggérés (",(te=l.find(Z=>Z.id===parseInt(b.petId)))==null?void 0:te.type,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:H.map(Z=>{const ne=L.some(xe=>xe.id===Z.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Yi,{checked:ne,onCheckedChange:xe=>A(xe?ye=>[...ye,Z]:ye=>ye.filter(se=>se.id!==Z.id))}),r.jsxs("label",{className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:Z.name}),r.jsx("div",{className:"text-xs text-gray-600",children:Z.description})]})]},Z.id)})})]}),L.length>0?r.jsxs(he,{className:"mb-4",children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-sm",children:"Protocoles sélectionnés"})}),r.jsx(fe,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:L.map(Z=>r.jsx("li",{children:Z.name},Z.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(B,{children:"Produit antiparasitaire"}),r.jsxs($e,{variant:"outline",className:"text-xs",children:[k.length," antiparasitaires en stock"]})]}),M?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:D,className:"text-xs",children:"Changer"})]}),r.jsx(ie,{value:b.productName,onChange:Z=>_(ne=>({...ne,productName:Z.target.value})),placeholder:"Nom du produit antiparasitaire (non disponible en stock)",className:"bg-white"})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(uU,{open:P,onOpenChange:E,children:[r.jsx(dU,{asChild:!0,children:r.jsxs(q,{variant:"outline",role:"combobox","aria-expanded":P,className:"flex-1 justify-between",children:[b.productName||"Sélectionner un antiparasitaire...",r.jsx(ob,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(_E,{className:"w-[400px] p-0",children:r.jsxs(jE,{children:[r.jsx(bE,{placeholder:"Rechercher un antiparasitaire..."}),r.jsxs(wE,{children:[r.jsx(NE,{children:"Aucun antiparasitaire trouvé."}),r.jsxs(SE,{children:[k.map(Z=>r.jsxs(hg,{value:Z.name,onSelect:()=>oe(Z),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:Z.name})]}),r.jsxs($e,{variant:Z.currentStock>=5?"default":"destructive",className:"ml-2",children:[Z.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[Z.manufacturer&&r.jsxs("span",{children:["Fabricant: ",Z.manufacturer]}),r.jsxs("span",{children:["Prix: ",Z.sellingPrice.toFixed(2)," ",g.currency]})]})]},Z.id)),r.jsx(hg,{onSelect:Q,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Antiparasitaire non disponible en stock"})]})]})})]})]})]})})]}),b.productName&&r.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:Q,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(pr,{className:"h-4 w-4"})})]}),b.productName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const Z=k.find(ne=>ne.name.toLowerCase()===b.productName.toLowerCase());return Z?Z.currentStock>=1?r.jsxs($e,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(er,{className:"h-3 w-3 mr-1"}),"En stock (",Z.currentStock,")"]}):r.jsxs($e,{variant:"destructive",children:[r.jsx(qn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs($e,{variant:"secondary",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Type"}),r.jsx(ie,{value:b.administrationRoute,onChange:Z=>_(ne=>({...ne,administrationRoute:Z.target.value})),placeholder:"Type (oral, topical...)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Date d'administration *"}),r.jsx(ie,{type:"date",value:b.dateGiven,onChange:Z=>_(ne=>({...ne,dateGiven:Z.target.value})),required:!0})]}),!L.length&&r.jsxs("div",{children:[r.jsx(B,{children:"Date de rappel"}),r.jsx(ie,{type:"date",value:b.nextDueDate,onChange:Z=>_(ne=>({...ne,nextDueDate:Z.target.value}))})]})]}),L.length>0&&r.jsx("div",{className:"space-y-4 mb-4",children:L.map(Z=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",Z.name]}),Z.intervals.map(ne=>{const xe=`${Z.id}-${ne.offsetDays}`;return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[ne.label," (+",ne.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(B,{children:"Date exacte"}),r.jsx(ie,{type:"date",id:xe,value:z[xe]||"",onChange:ye=>J(se=>({...se,[xe]:ye.target.value}))})]})]},xe)})]},Z.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Dosage"}),r.jsx(ie,{value:b.dosage,onChange:Z=>_(ne=>({...ne,dosage:Z.target.value})),placeholder:"Dosage"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Vétérinaire"}),r.jsxs(Me,{value:b.veterinarian,onValueChange:Z=>_(ne=>({...ne,veterinarian:Z})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(De,{children:(g.veterinarians||[]).filter(Z=>Z.isActive).map(Z=>r.jsx(V,{value:Z.name,children:Z.name},Z.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Numéro de lot"}),r.jsx(ie,{value:b.batchNumber,onChange:Z=>_(ne=>({...ne,batchNumber:Z.target.value})),placeholder:"Numéro de lot"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Fabricant"}),r.jsx(ie,{value:b.manufacturer,onChange:Z=>_(ne=>({...ne,manufacturer:Z.target.value})),placeholder:"Fabricant"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Poids"}),r.jsx(ie,{value:b.weight,onChange:Z=>_(ne=>({...ne,weight:Z.target.value})),placeholder:"Poids"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Coût"}),r.jsx(ie,{type:"number",step:"0.01",value:b.cost,onChange:Z=>_(ne=>({...ne,cost:Z.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Effets indésirables"}),r.jsx(ie,{value:b.sideEffects,onChange:Z=>_(ne=>({...ne,sideEffects:Z.target.value})),placeholder:"Effets indésirables"})]}),b.productName&&r.jsxs(he,{className:"mt-4",children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"text-sm flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(fe,{children:(()=>{const Z=k.find(ne=>ne.name.toLowerCase()===b.productName.toLowerCase());return Z?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:Z.name}),r.jsxs($e,{variant:Z.currentStock>=1?"default":"destructive",children:[Z.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",Z.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",Z.sellingPrice.toFixed(2)," ",g.currency]}),r.jsxs("div",{children:["Stock minimum: ",Z.minimumStock]}),Z.currentStock<=Z.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:"Antiparasitaire non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"L'antiparasitaire sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{variant:"outline",type:"button",onClick:()=>i?i(!1):y(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Ajouter"})]})]})]})]})}function vpe({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:s,calculateDueDateFromProtocol:i}=jt(),{toast:a}=Ft(),[o,l]=w.useState({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){a({title:"Erreur",description:"Le nom du vétérinaire est requis",variant:"destructive"});return}let f=o.newNextDueDate;!f&&n&&(f=i(n.vaccineName,"chien",o.datePerformed)||""),s(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:f})&&(a({title:"Rappel confirmé",description:`Le rappel de ${n.vaccineName} a été confirmé et enregistré`}),l({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(f=>({...f,[d.target.name]:d.target.value}))};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Confirmer le rappel de vaccination"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination à confirmer :"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prévu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"datePerformed",children:"Date d'administration *"}),r.jsx(ie,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(ie,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vétérinaire",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numéro de lot du vaccin"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),r.jsx(ie,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calculée selon le protocole"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var xpe=Array.isArray,ri=xpe,ype=typeof lr=="object"&&lr&&lr.Object===Object&&lr,hU=ype,jpe=hU,bpe=typeof self=="object"&&self&&self.Object===Object&&self,wpe=jpe||bpe||Function("return this")(),jo=wpe,Npe=jo,Spe=Npe.Symbol,wv=Spe,II=wv,fU=Object.prototype,Cpe=fU.hasOwnProperty,_pe=fU.toString,Ym=II?II.toStringTag:void 0;function Ppe(e){var t=Cpe.call(e,Ym),n=e[Ym];try{e[Ym]=void 0;var s=!0}catch{}var i=_pe.call(e);return s&&(t?e[Ym]=n:delete e[Ym]),i}var Ape=Ppe,Epe=Object.prototype,Tpe=Epe.toString;function kpe(e){return Tpe.call(e)}var Ope=kpe,$I=wv,Dpe=Ape,Mpe=Ope,Ipe="[object Null]",$pe="[object Undefined]",RI=$I?$I.toStringTag:void 0;function Rpe(e){return e==null?e===void 0?$pe:Ipe:RI&&RI in Object(e)?Dpe(e):Mpe(e)}var pl=Rpe;function Lpe(e){return e!=null&&typeof e=="object"}var gl=Lpe,Fpe=pl,Bpe=gl,zpe="[object Symbol]";function Vpe(e){return typeof e=="symbol"||Bpe(e)&&Fpe(e)==zpe}var Jf=Vpe,Upe=ri,qpe=Jf,Wpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hpe=/^\w*$/;function Gpe(e,t){if(Upe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||qpe(e)?!0:Hpe.test(e)||!Wpe.test(e)||t!=null&&e in Object(t)}var PE=Gpe;function Kpe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fc=Kpe;const Zf=pn(Fc);var Ype=pl,Qpe=Fc,Xpe="[object AsyncFunction]",Jpe="[object Function]",Zpe="[object GeneratorFunction]",ege="[object Proxy]";function tge(e){if(!Qpe(e))return!1;var t=Ype(e);return t==Jpe||t==Zpe||t==Xpe||t==ege}var AE=tge;const yt=pn(AE);var nge=jo,rge=nge["__core-js_shared__"],sge=rge,vS=sge,LI=function(){var e=/[^.]+$/.exec(vS&&vS.keys&&vS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ige(e){return!!LI&&LI in e}var age=ige,oge=Function.prototype,lge=oge.toString;function cge(e){if(e!=null){try{return lge.call(e)}catch{}try{return e+""}catch{}}return""}var mU=cge,uge=AE,dge=age,hge=Fc,fge=mU,mge=/[\\^$.*+?()[\]{}|]/g,pge=/^\[object .+?Constructor\]$/,gge=Function.prototype,vge=Object.prototype,xge=gge.toString,yge=vge.hasOwnProperty,jge=RegExp("^"+xge.call(yge).replace(mge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bge(e){if(!hge(e)||dge(e))return!1;var t=uge(e)?jge:pge;return t.test(fge(e))}var wge=bge;function Nge(e,t){return e==null?void 0:e[t]}var Sge=Nge,Cge=wge,_ge=Sge;function Pge(e,t){var n=_ge(e,t);return Cge(n)?n:void 0}var fd=Pge,Age=fd,Ege=Age(Object,"create"),zb=Ege,FI=zb;function Tge(){this.__data__=FI?FI(null):{},this.size=0}var kge=Tge;function Oge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dge=Oge,Mge=zb,Ige="__lodash_hash_undefined__",$ge=Object.prototype,Rge=$ge.hasOwnProperty;function Lge(e){var t=this.__data__;if(Mge){var n=t[e];return n===Ige?void 0:n}return Rge.call(t,e)?t[e]:void 0}var Fge=Lge,Bge=zb,zge=Object.prototype,Vge=zge.hasOwnProperty;function Uge(e){var t=this.__data__;return Bge?t[e]!==void 0:Vge.call(t,e)}var qge=Uge,Wge=zb,Hge="__lodash_hash_undefined__";function Gge(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Wge&&t===void 0?Hge:t,this}var Kge=Gge,Yge=kge,Qge=Dge,Xge=Fge,Jge=qge,Zge=Kge;function em(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}em.prototype.clear=Yge;em.prototype.delete=Qge;em.prototype.get=Xge;em.prototype.has=Jge;em.prototype.set=Zge;var eve=em;function tve(){this.__data__=[],this.size=0}var nve=tve;function rve(e,t){return e===t||e!==e&&t!==t}var EE=rve,sve=EE;function ive(e,t){for(var n=e.length;n--;)if(sve(e[n][0],t))return n;return-1}var Vb=ive,ave=Vb,ove=Array.prototype,lve=ove.splice;function cve(e){var t=this.__data__,n=ave(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():lve.call(t,n,1),--this.size,!0}var uve=cve,dve=Vb;function hve(e){var t=this.__data__,n=dve(t,e);return n<0?void 0:t[n][1]}var fve=hve,mve=Vb;function pve(e){return mve(this.__data__,e)>-1}var gve=pve,vve=Vb;function xve(e,t){var n=this.__data__,s=vve(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var yve=xve,jve=nve,bve=uve,wve=fve,Nve=gve,Sve=yve;function tm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}tm.prototype.clear=jve;tm.prototype.delete=bve;tm.prototype.get=wve;tm.prototype.has=Nve;tm.prototype.set=Sve;var Ub=tm,Cve=fd,_ve=jo,Pve=Cve(_ve,"Map"),TE=Pve,BI=eve,Ave=Ub,Eve=TE;function Tve(){this.size=0,this.__data__={hash:new BI,map:new(Eve||Ave),string:new BI}}var kve=Tve;function Ove(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Dve=Ove,Mve=Dve;function Ive(e,t){var n=e.__data__;return Mve(t)?n[typeof t=="string"?"string":"hash"]:n.map}var qb=Ive,$ve=qb;function Rve(e){var t=$ve(this,e).delete(e);return this.size-=t?1:0,t}var Lve=Rve,Fve=qb;function Bve(e){return Fve(this,e).get(e)}var zve=Bve,Vve=qb;function Uve(e){return Vve(this,e).has(e)}var qve=Uve,Wve=qb;function Hve(e,t){var n=Wve(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var Gve=Hve,Kve=kve,Yve=Lve,Qve=zve,Xve=qve,Jve=Gve;function nm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}nm.prototype.clear=Kve;nm.prototype.delete=Yve;nm.prototype.get=Qve;nm.prototype.has=Xve;nm.prototype.set=Jve;var kE=nm,pU=kE,Zve="Expected a function";function OE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Zve);var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,s);return n.cache=a.set(i,o)||a,o};return n.cache=new(OE.Cache||pU),n}OE.Cache=pU;var gU=OE;const exe=pn(gU);var txe=gU,nxe=500;function rxe(e){var t=txe(e,function(s){return n.size===nxe&&n.clear(),s}),n=t.cache;return t}var sxe=rxe,ixe=sxe,axe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oxe=/\\(\\)?/g,lxe=ixe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(axe,function(n,s,i,a){t.push(i?a.replace(oxe,"$1"):s||n)}),t}),cxe=lxe;function uxe(e,t){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}var DE=uxe,zI=wv,dxe=DE,hxe=ri,fxe=Jf,mxe=1/0,VI=zI?zI.prototype:void 0,UI=VI?VI.toString:void 0;function vU(e){if(typeof e=="string")return e;if(hxe(e))return dxe(e,vU)+"";if(fxe(e))return UI?UI.call(e):"";var t=e+"";return t=="0"&&1/e==-mxe?"-0":t}var pxe=vU,gxe=pxe;function vxe(e){return e==null?"":gxe(e)}var xU=vxe,xxe=ri,yxe=PE,jxe=cxe,bxe=xU;function wxe(e,t){return xxe(e)?e:yxe(e,t)?[e]:jxe(bxe(e))}var yU=wxe,Nxe=Jf,Sxe=1/0;function Cxe(e){if(typeof e=="string"||Nxe(e))return e;var t=e+"";return t=="0"&&1/e==-Sxe?"-0":t}var Wb=Cxe,_xe=yU,Pxe=Wb;function Axe(e,t){t=_xe(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Pxe(t[n++])];return n&&n==s?e:void 0}var ME=Axe,Exe=ME;function Txe(e,t,n){var s=e==null?void 0:Exe(e,t);return s===void 0?n:s}var jU=Txe;const wi=pn(jU);function kxe(e){return e==null}var Oxe=kxe;const At=pn(Oxe);var Dxe=pl,Mxe=ri,Ixe=gl,$xe="[object String]";function Rxe(e){return typeof e=="string"||!Mxe(e)&&Ixe(e)&&Dxe(e)==$xe}var Lxe=Rxe;const Yu=pn(Lxe);var bU={exports:{}},wn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE=Symbol.for("react.element"),$E=Symbol.for("react.portal"),Hb=Symbol.for("react.fragment"),Gb=Symbol.for("react.strict_mode"),Kb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),Fxe=Symbol.for("react.server_context"),Xb=Symbol.for("react.forward_ref"),Jb=Symbol.for("react.suspense"),Zb=Symbol.for("react.suspense_list"),ew=Symbol.for("react.memo"),tw=Symbol.for("react.lazy"),Bxe=Symbol.for("react.offscreen"),wU;wU=Symbol.for("react.module.reference");function na(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IE:switch(e=e.type,e){case Hb:case Kb:case Gb:case Jb:case Zb:return e;default:switch(e=e&&e.$$typeof,e){case Fxe:case Qb:case Xb:case tw:case ew:case Yb:return e;default:return t}}case $E:return t}}}wn.ContextConsumer=Qb;wn.ContextProvider=Yb;wn.Element=IE;wn.ForwardRef=Xb;wn.Fragment=Hb;wn.Lazy=tw;wn.Memo=ew;wn.Portal=$E;wn.Profiler=Kb;wn.StrictMode=Gb;wn.Suspense=Jb;wn.SuspenseList=Zb;wn.isAsyncMode=function(){return!1};wn.isConcurrentMode=function(){return!1};wn.isContextConsumer=function(e){return na(e)===Qb};wn.isContextProvider=function(e){return na(e)===Yb};wn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IE};wn.isForwardRef=function(e){return na(e)===Xb};wn.isFragment=function(e){return na(e)===Hb};wn.isLazy=function(e){return na(e)===tw};wn.isMemo=function(e){return na(e)===ew};wn.isPortal=function(e){return na(e)===$E};wn.isProfiler=function(e){return na(e)===Kb};wn.isStrictMode=function(e){return na(e)===Gb};wn.isSuspense=function(e){return na(e)===Jb};wn.isSuspenseList=function(e){return na(e)===Zb};wn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hb||e===Kb||e===Gb||e===Jb||e===Zb||e===Bxe||typeof e=="object"&&e!==null&&(e.$$typeof===tw||e.$$typeof===ew||e.$$typeof===Yb||e.$$typeof===Qb||e.$$typeof===Xb||e.$$typeof===wU||e.getModuleId!==void 0)};wn.typeOf=na;bU.exports=wn;var zxe=bU.exports,Vxe=pl,Uxe=gl,qxe="[object Number]";function Wxe(e){return typeof e=="number"||Uxe(e)&&Vxe(e)==qxe}var NU=Wxe;const Hxe=pn(NU);var Gxe=NU;function Kxe(e){return Gxe(e)&&e!=+e}var Yxe=Kxe;const rm=pn(Yxe);var Es=function(t){return t===0?0:t>0?1:-1},vu=function(t){return Yu(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return Hxe(t)&&!rm(t)},Qxe=function(t){return At(t)},Mr=function(t){return Ve(t)||Yu(t)},Xxe=0,md=function(t){var n=++Xxe;return"".concat(t||"").concat(n)},Ts=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!Yu(t))return s;var a;if(vu(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return rm(a)&&(a=s),i&&a>n&&(a=n),a},ql=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Jxe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},i=0;i<n;i++)if(!s[t[i]])s[t[i]]=!0;else return!0;return!1},Or=function(t,n){return Ve(t)&&Ve(n)?function(s){return t+s*(n-t)}:function(){return n}};function $0(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):wi(s,t))===n})}var Zxe=function(t,n){return Ve(t)&&Ve(n)?t-n:Yu(t)&&Yu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function kh(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function z2(e){"@babel/helpers - typeof";return z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z2(e)}var eye=["viewBox","children"],tye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qI=["points","pathLength"],xS={svg:eye,polygon:qI,polyline:qI},RE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],R0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!Zf(s))return null;var i={};return Object.keys(s).forEach(function(a){RE.includes(a)&&(i[a]=n||function(o){return s[a](s,o)})}),i},nye=function(t,n,s){return function(i){return t(n,s,i),null}},Qu=function(t,n,s){if(!Zf(t)||z2(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];RE.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=nye(o,n,s))}),i},rye=["children"],sye=["children"];function WI(e,t){if(e==null)return{};var n=iye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function iye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function V2(e){"@babel/helpers - typeof";return V2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V2(e)}var HI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GI=null,yS=null,LE=function e(t){if(t===GI&&Array.isArray(yS))return yS;var n=[];return w.Children.forEach(t,function(s){At(s)||(zxe.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),yS=n,GI=t,n};function Ni(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(i){return Qo(i)}):s=[Qo(t)],LE(e).forEach(function(i){var a=wi(i,"type.displayName")||wi(i,"type.name");s.indexOf(a)!==-1&&n.push(i)}),n}function mi(e,t){var n=Ni(e,t);return n&&n[0]}var KI=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,i=n.height;return!(!Ve(s)||s<=0||!Ve(i)||i<=0)},aye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oye=function(t){return t&&t.type&&Yu(t.type)&&aye.indexOf(t.type)>=0},SU=function(t){return t&&V2(t)==="object"&&"clipDot"in t},lye=function(t,n,s,i){var a,o=(a=xS==null?void 0:xS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(t)&&(i&&o.includes(n)||tye.includes(n))||s&&RE.includes(n)},ct=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!Zf(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;lye((l=i)===null||l===void 0?void 0:l[o],o,n,s)&&(a[o]=i[o])}),a},U2=function e(t,n){if(t===n)return!0;var s=w.Children.count(t);if(s!==w.Children.count(n))return!1;if(s===0)return!0;if(s===1)return YI(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<s;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!YI(a,o))return!1}return!0},YI=function(t,n){if(At(t)&&At(n))return!0;if(!At(t)&&!At(n)){var s=t.props||{},i=s.children,a=WI(s,rye),o=n.props||{},l=o.children,c=WI(o,sye);return i&&l?kh(a,c)&&U2(i,l):!i&&!l?kh(a,c):!1}return!1},QI=function(t,n){var s=[],i={};return LE(t).forEach(function(a,o){if(oye(a))s.push(a);else if(a){var l=Qo(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);s.push(f),i[l]=!0}}}),s},cye=function(t){var n=t&&t.type;return n&&HI[n]?HI[n]:null},uye=function(t,n){return LE(n).indexOf(t)},dye=["children","width","height","viewBox","className","style","title","desc"];function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},q2.apply(this,arguments)}function hye(e,t){if(e==null)return{};var n=fye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function W2(e){var t=e.children,n=e.width,s=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=hye(e,dye),d=i||{width:n,height:s,x:0,y:0},f=Et("recharts-surface",a);return U.createElement("svg",q2({},ct(u,!0,"svg"),{className:f,width:n,height:s,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,l),U.createElement("desc",null,c),t)}var mye=["children","className"];function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},H2.apply(this,arguments)}function pye(e,t){if(e==null)return{};var n=gye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function gye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Yt=U.forwardRef(function(e,t){var n=e.children,s=e.className,i=pye(e,mye),a=Et("recharts-layer",s);return U.createElement("g",H2({className:a},ct(i,!0),{ref:t}),n)}),Aa=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a]};function vye(e,t,n){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++s<i;)a[s]=e[s+t];return a}var xye=vye,yye=xye;function jye(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:yye(e,t,n)}var bye=jye,wye="\\ud800-\\udfff",Nye="\\u0300-\\u036f",Sye="\\ufe20-\\ufe2f",Cye="\\u20d0-\\u20ff",_ye=Nye+Sye+Cye,Pye="\\ufe0e\\ufe0f",Aye="\\u200d",Eye=RegExp("["+Aye+wye+_ye+Pye+"]");function Tye(e){return Eye.test(e)}var CU=Tye;function kye(e){return e.split("")}var Oye=kye,_U="\\ud800-\\udfff",Dye="\\u0300-\\u036f",Mye="\\ufe20-\\ufe2f",Iye="\\u20d0-\\u20ff",$ye=Dye+Mye+Iye,Rye="\\ufe0e\\ufe0f",Lye="["+_U+"]",G2="["+$ye+"]",K2="\\ud83c[\\udffb-\\udfff]",Fye="(?:"+G2+"|"+K2+")",PU="[^"+_U+"]",AU="(?:\\ud83c[\\udde6-\\uddff]){2}",EU="[\\ud800-\\udbff][\\udc00-\\udfff]",Bye="\\u200d",TU=Fye+"?",kU="["+Rye+"]?",zye="(?:"+Bye+"(?:"+[PU,AU,EU].join("|")+")"+kU+TU+")*",Vye=kU+TU+zye,Uye="(?:"+[PU+G2+"?",G2,AU,EU,Lye].join("|")+")",qye=RegExp(K2+"(?="+K2+")|"+Uye+Vye,"g");function Wye(e){return e.match(qye)||[]}var Hye=Wye,Gye=Oye,Kye=CU,Yye=Hye;function Qye(e){return Kye(e)?Yye(e):Gye(e)}var Xye=Qye,Jye=bye,Zye=CU,e0e=Xye,t0e=xU;function n0e(e){return function(t){t=t0e(t);var n=Zye(t)?e0e(t):void 0,s=n?n[0]:t.charAt(0),i=n?Jye(n,1).join(""):t.slice(1);return s[e]()+i}}var r0e=n0e,s0e=r0e,i0e=s0e("toUpperCase"),a0e=i0e;const nw=pn(a0e);function Dn(e){return function(){return e}}const OU=Math.cos,L0=Math.sin,Ba=Math.sqrt,F0=Math.PI,rw=2*F0,Y2=Math.PI,Q2=2*Y2,ou=1e-6,o0e=Q2-ou;function DU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function l0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DU;const n=10**t;return function(s){this._+=s[0];for(let i=1,a=s.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+s[i]}}class c0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DU:l0e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,i){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(t,n,s,i,a,o){this._append`C${+t},${+n},${+s},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,s,i,a){if(t=+t,n=+n,s=+s,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=s-t,u=i-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>ou)if(!(Math.abs(f*c-u*d)>ou)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=s-o,x=i-l,v=c*c+u*u,y=g*g+x*x,N=Math.sqrt(v),j=Math.sqrt(m),b=a*Math.tan((Y2-Math.acos((v+m-y)/(2*N*j)))/2),_=b/j,C=b/N;Math.abs(_-1)>ou&&this._append`L${t+_*d},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*g>d*x)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,s,i,a,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(i),c=s*Math.sin(i),u=t+l,d=n+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ou||Math.abs(this._y1-d)>ou)&&this._append`L${u},${d}`,s&&(m<0&&(m=m%Q2+Q2),m>o0e?this._append`A${s},${s},0,1,${f},${t-l},${n-c}A${s},${s},0,1,${f},${this._x1=u},${this._y1=d}`:m>ou&&this._append`A${s},${s},0,${+(m>=Y2)},${f},${this._x1=t+s*Math.cos(a)},${this._y1=n+s*Math.sin(a)}`)}rect(t,n,s,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function FE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new c0e(t)}function BE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MU(e){this._context=e}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sw(e){return new MU(e)}function IU(e){return e[0]}function $U(e){return e[1]}function RU(e,t){var n=Dn(!0),s=null,i=sw,a=null,o=FE(l);e=typeof e=="function"?e:e===void 0?IU:Dn(e),t=typeof t=="function"?t:t===void 0?$U:Dn(t);function l(c){var u,d=(c=BE(c)).length,f,m=!1,g;for(s==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Dn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Dn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Dn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,s!=null&&(a=i(s)),l):i},l.context=function(c){return arguments.length?(c==null?s=a=null:a=i(s=c),l):s},l}function hy(e,t,n){var s=null,i=Dn(!0),a=null,o=sw,l=null,c=FE(u);e=typeof e=="function"?e:e===void 0?IU:Dn(+e),t=typeof t=="function"?t:Dn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$U:Dn(+n);function u(f){var m,g,x,v=(f=BE(f)).length,y,N=!1,j,b=new Array(v),_=new Array(v);for(a==null&&(l=o(j=c())),m=0;m<=v;++m){if(!(m<v&&i(y=f[m],m,f))===N)if(N=!N)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(b[x],_[x]);l.lineEnd(),l.areaEnd()}N&&(b[m]=+e(y,m,f),_[m]=+t(y,m,f),l.point(s?+s(y,m,f):b[m],n?+n(y,m,f):_[m]))}if(j)return l=null,j+""||null}function d(){return RU().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Dn(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Dn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Dn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class LU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function u0e(e){return new LU(e,!0)}function d0e(e){return new LU(e,!1)}const zE={draw(e,t){const n=Ba(t/F0);e.moveTo(n,0),e.arc(0,0,n,0,rw)}},h0e={draw(e,t){const n=Ba(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},FU=Ba(1/3),f0e=FU*2,m0e={draw(e,t){const n=Ba(t/f0e),s=n*FU;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},p0e={draw(e,t){const n=Ba(t),s=-n/2;e.rect(s,s,n,n)}},g0e=.8908130915292852,BU=L0(F0/10)/L0(7*F0/10),v0e=L0(rw/10)*BU,x0e=-OU(rw/10)*BU,y0e={draw(e,t){const n=Ba(t*g0e),s=v0e*n,i=x0e*n;e.moveTo(0,-n),e.lineTo(s,i);for(let a=1;a<5;++a){const o=rw*a/5,l=OU(o),c=L0(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*i,c*s+l*i)}e.closePath()}},jS=Ba(3),j0e={draw(e,t){const n=-Ba(t/(jS*3));e.moveTo(0,n*2),e.lineTo(-jS*n,-n),e.lineTo(jS*n,-n),e.closePath()}},$i=-.5,Ri=Ba(3)/2,X2=1/Ba(12),b0e=(X2/2+1)*3,w0e={draw(e,t){const n=Ba(t/b0e),s=n/2,i=n*X2,a=s,o=n*X2+n,l=-a,c=o;e.moveTo(s,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo($i*s-Ri*i,Ri*s+$i*i),e.lineTo($i*a-Ri*o,Ri*a+$i*o),e.lineTo($i*l-Ri*c,Ri*l+$i*c),e.lineTo($i*s+Ri*i,$i*i-Ri*s),e.lineTo($i*a+Ri*o,$i*o-Ri*a),e.lineTo($i*l+Ri*c,$i*c-Ri*l),e.closePath()}};function N0e(e,t){let n=null,s=FE(i);e=typeof e=="function"?e:Dn(e||zE),t=typeof t=="function"?t:Dn(t===void 0?64:+t);function i(){let a;if(n||(n=a=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Dn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Dn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function B0(){}function z0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function zU(e){this._context=e}zU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:z0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:z0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S0e(e){return new zU(e)}function VU(e){this._context=e}VU.prototype={areaStart:B0,areaEnd:B0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:z0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C0e(e){return new VU(e)}function UU(e){this._context=e}UU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:z0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _0e(e){return new UU(e)}function qU(e){this._context=e}qU.prototype={areaStart:B0,areaEnd:B0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function P0e(e){return new qU(e)}function XI(e){return e<0?-1:1}function JI(e,t,n){var s=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(s||i<0&&-0),o=(n-e._y1)/(i||s<0&&-0),l=(a*i+o*s)/(s+i);return(XI(a)+XI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function ZI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bS(e,t,n){var s=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-s)/3;e._context.bezierCurveTo(s+l,i+l*t,a-l,o-l*n,a,o)}function V0(e){this._context=e}V0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bS(this,this._t0,ZI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bS(this,ZI(this,n=JI(this,e,t)),n);break;default:bS(this,this._t0,n=JI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function WU(e){this._context=new HU(e)}(WU.prototype=Object.create(V0.prototype)).point=function(e,t){V0.prototype.point.call(this,t,e)};function HU(e){this._context=e}HU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,i,a){this._context.bezierCurveTo(t,e,s,n,a,i)}};function A0e(e){return new V0(e)}function E0e(e){return new WU(e)}function GU(e){this._context=e}GU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=e4(e),i=e4(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(s[0][a],i[0][a],s[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function e4(e){var t,n=e.length-1,s,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=i[t]/a[t-1],a[t]-=s,o[t]-=s*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function T0e(e){return new GU(e)}function iw(e,t){this._context=e,this._t=t}iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function k0e(e){return new iw(e,.5)}function O0e(e){return new iw(e,0)}function D0e(e){return new iw(e,1)}function cf(e,t){if((o=e.length)>1)for(var n=1,s,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],s=0;s<l;++s)a[s][1]+=a[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function J2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function M0e(e,t){return e[t]}function I0e(e){const t=[];return t.key=e,t}function $0e(){var e=Dn([]),t=J2,n=cf,s=M0e;function i(a){var o=Array.from(e.apply(this,arguments),I0e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(f,o[l].key,u,a)]).data=f;for(l=0,d=BE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Dn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(s=typeof a=="function"?a:Dn(+a),i):s},i.order=function(a){return arguments.length?(t=a==null?J2:typeof a=="function"?a:Dn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??cf,i):n},i}function R0e(e,t){if((s=e.length)>0){for(var n,s,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<s;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<s;++n)e[n][i][1]/=o}cf(e,t)}}function L0e(e,t){if((i=e.length)>0){for(var n=0,s=e[t[0]],i,a=s.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}cf(e,t)}}function F0e(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,s=1,i,a,o;s<a;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[s][1]||0,m=d[s-1][1]||0,g=(f-m)/2,x=0;x<l;++x){var v=e[t[x]],y=v[s][1]||0,N=v[s-1][1]||0;g+=y-N}c+=f,u+=g*f}i[s-1][1]+=i[s-1][0]=n,c&&(n-=u/c)}i[s-1][1]+=i[s-1][0]=n,cf(e,t)}}function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}var B0e=["type","size","sizeType"];function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z2.apply(this,arguments)}function t4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function n4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(n),!0).forEach(function(s){z0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function z0e(e,t,n){return t=V0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V0e(e){var t=U0e(e,"string");return fg(t)=="symbol"?t:t+""}function U0e(e,t){if(fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(fg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q0e(e,t){if(e==null)return{};var n=W0e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function W0e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var KU={symbolCircle:zE,symbolCross:h0e,symbolDiamond:m0e,symbolSquare:p0e,symbolStar:y0e,symbolTriangle:j0e,symbolWye:w0e},H0e=Math.PI/180,G0e=function(t){var n="symbol".concat(nw(t));return KU[n]||zE},K0e=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*H0e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Y0e=function(t,n){KU["symbol".concat(nw(t))]=n},VE=function(t){var n=t.type,s=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=q0e(t,B0e),u=n4(n4({},c),{},{type:s,size:a,sizeType:l}),d=function(){var y=G0e(s),N=N0e().type(y).size(K0e(a,l,s));return N()},f=u.className,m=u.cx,g=u.cy,x=ct(u,!0);return m===+m&&g===+g&&a===+a?U.createElement("path",Z2({},x,{className:Et("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};VE.registerSymbol=Y0e;function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},e_.apply(this,arguments)}function r4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Q0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(n),!0).forEach(function(s){mg(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function X0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J0e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QU(s.key),s)}}function Z0e(e,t,n){return t&&J0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eje(e,t,n){return t=U0(t),tje(e,YU()?Reflect.construct(t,n||[],U0(e).constructor):t.apply(e,n))}function tje(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nje(e)}function nje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YU=function(){return!!e})()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(e)}function rje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},t_(e,t)}function mg(e,t,n){return t=QU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QU(e){var t=sje(e,"string");return uf(t)=="symbol"?t:t+""}function sje(e,t){if(uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(uf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Li=32,UE=function(e){function t(){return X0e(this,t),eje(this,t,arguments)}return rje(t,e),Z0e(t,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,a=Li/2,o=Li/6,l=Li/3,c=s.inactive?i:s.color;if(s.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:a,x2:Li,y2:a,className:"recharts-legend-icon"});if(s.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Li,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(s.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Li/8,"h").concat(Li,"v").concat(Li*3/4,"h").concat(-Li,"z"),className:"recharts-legend-icon"});if(U.isValidElement(s.legendIcon)){var u=Q0e({},s);return delete u.legendIcon,U.cloneElement(s.legendIcon,u)}return U.createElement(VE,{fill:c,cx:a,cy:a,size:Li,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Li,height:Li},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,x){var v=g.formatter||c,y=Et(mg(mg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=yt(g.value)?null:g.value;Aa(!yt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=g.inactive?u:g.color;return U.createElement("li",e_({className:y,style:f,key:"legend-item-".concat(x)},Qu(s.props,g,x)),U.createElement(W2,{width:o,height:o,viewBox:d,style:m},s.renderIcon(g)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},v?v(N,g,x):N))})}},{key:"render",value:function(){var s=this.props,i=s.payload,a=s.layout,o=s.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);mg(UE,"displayName","Legend");mg(UE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ije=Ub;function aje(){this.__data__=new ije,this.size=0}var oje=aje;function lje(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var cje=lje;function uje(e){return this.__data__.get(e)}var dje=uje;function hje(e){return this.__data__.has(e)}var fje=hje,mje=Ub,pje=TE,gje=kE,vje=200;function xje(e,t){var n=this.__data__;if(n instanceof mje){var s=n.__data__;if(!pje||s.length<vje-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new gje(s)}return n.set(e,t),this.size=n.size,this}var yje=xje,jje=Ub,bje=oje,wje=cje,Nje=dje,Sje=fje,Cje=yje;function sm(e){var t=this.__data__=new jje(e);this.size=t.size}sm.prototype.clear=bje;sm.prototype.delete=wje;sm.prototype.get=Nje;sm.prototype.has=Sje;sm.prototype.set=Cje;var XU=sm,_je="__lodash_hash_undefined__";function Pje(e){return this.__data__.set(e,_je),this}var Aje=Pje;function Eje(e){return this.__data__.has(e)}var Tje=Eje,kje=kE,Oje=Aje,Dje=Tje;function q0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new kje;++t<n;)this.add(e[t])}q0.prototype.add=q0.prototype.push=Oje;q0.prototype.has=Dje;var JU=q0;function Mje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var ZU=Mje;function Ije(e,t){return e.has(t)}var eq=Ije,$je=JU,Rje=ZU,Lje=eq,Fje=1,Bje=2;function zje(e,t,n,s,i,a){var o=n&Fje,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,g=n&Bje?new $je:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],v=t[f];if(s)var y=o?s(v,x,f,t,e,a):s(x,v,f,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(g){if(!Rje(t,function(N,j){if(!Lje(g,j)&&(x===N||i(x,N,n,s,a)))return g.push(j)})){m=!1;break}}else if(!(x===v||i(x,v,n,s,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var tq=zje,Vje=jo,Uje=Vje.Uint8Array,qje=Uje;function Wje(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var Hje=Wje;function Gje(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var qE=Gje,s4=wv,i4=qje,Kje=EE,Yje=tq,Qje=Hje,Xje=qE,Jje=1,Zje=2,ebe="[object Boolean]",tbe="[object Date]",nbe="[object Error]",rbe="[object Map]",sbe="[object Number]",ibe="[object RegExp]",abe="[object Set]",obe="[object String]",lbe="[object Symbol]",cbe="[object ArrayBuffer]",ube="[object DataView]",a4=s4?s4.prototype:void 0,wS=a4?a4.valueOf:void 0;function dbe(e,t,n,s,i,a,o){switch(n){case ube:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cbe:return!(e.byteLength!=t.byteLength||!a(new i4(e),new i4(t)));case ebe:case tbe:case sbe:return Kje(+e,+t);case nbe:return e.name==t.name&&e.message==t.message;case ibe:case obe:return e==t+"";case rbe:var l=Qje;case abe:var c=s&Jje;if(l||(l=Xje),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=Zje,o.set(e,t);var d=Yje(l(e),l(t),s,i,a,o);return o.delete(e),d;case lbe:if(wS)return wS.call(e)==wS.call(t)}return!1}var hbe=dbe;function fbe(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var nq=fbe,mbe=nq,pbe=ri;function gbe(e,t,n){var s=t(e);return pbe(e)?s:mbe(s,n(e))}var vbe=gbe;function xbe(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var ybe=xbe;function jbe(){return[]}var bbe=jbe,wbe=ybe,Nbe=bbe,Sbe=Object.prototype,Cbe=Sbe.propertyIsEnumerable,o4=Object.getOwnPropertySymbols,_be=o4?function(e){return e==null?[]:(e=Object(e),wbe(o4(e),function(t){return Cbe.call(e,t)}))}:Nbe,Pbe=_be;function Abe(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var Ebe=Abe,Tbe=pl,kbe=gl,Obe="[object Arguments]";function Dbe(e){return kbe(e)&&Tbe(e)==Obe}var Mbe=Dbe,l4=Mbe,Ibe=gl,rq=Object.prototype,$be=rq.hasOwnProperty,Rbe=rq.propertyIsEnumerable,Lbe=l4(function(){return arguments}())?l4:function(e){return Ibe(e)&&$be.call(e,"callee")&&!Rbe.call(e,"callee")},WE=Lbe,W0={exports:{}};function Fbe(){return!1}var Bbe=Fbe;W0.exports;(function(e,t){var n=jo,s=Bbe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(W0,W0.exports);var sq=W0.exports,zbe=9007199254740991,Vbe=/^(?:0|[1-9]\d*)$/;function Ube(e,t){var n=typeof e;return t=t??zbe,!!t&&(n=="number"||n!="symbol"&&Vbe.test(e))&&e>-1&&e%1==0&&e<t}var HE=Ube,qbe=9007199254740991;function Wbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qbe}var GE=Wbe,Hbe=pl,Gbe=GE,Kbe=gl,Ybe="[object Arguments]",Qbe="[object Array]",Xbe="[object Boolean]",Jbe="[object Date]",Zbe="[object Error]",ewe="[object Function]",twe="[object Map]",nwe="[object Number]",rwe="[object Object]",swe="[object RegExp]",iwe="[object Set]",awe="[object String]",owe="[object WeakMap]",lwe="[object ArrayBuffer]",cwe="[object DataView]",uwe="[object Float32Array]",dwe="[object Float64Array]",hwe="[object Int8Array]",fwe="[object Int16Array]",mwe="[object Int32Array]",pwe="[object Uint8Array]",gwe="[object Uint8ClampedArray]",vwe="[object Uint16Array]",xwe="[object Uint32Array]",Bn={};Bn[uwe]=Bn[dwe]=Bn[hwe]=Bn[fwe]=Bn[mwe]=Bn[pwe]=Bn[gwe]=Bn[vwe]=Bn[xwe]=!0;Bn[Ybe]=Bn[Qbe]=Bn[lwe]=Bn[Xbe]=Bn[cwe]=Bn[Jbe]=Bn[Zbe]=Bn[ewe]=Bn[twe]=Bn[nwe]=Bn[rwe]=Bn[swe]=Bn[iwe]=Bn[awe]=Bn[owe]=!1;function ywe(e){return Kbe(e)&&Gbe(e.length)&&!!Bn[Hbe(e)]}var jwe=ywe;function bwe(e){return function(t){return e(t)}}var iq=bwe,H0={exports:{}};H0.exports;(function(e,t){var n=hU,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(H0,H0.exports);var wwe=H0.exports,Nwe=jwe,Swe=iq,c4=wwe,u4=c4&&c4.isTypedArray,Cwe=u4?Swe(u4):Nwe,aq=Cwe,_we=Ebe,Pwe=WE,Awe=ri,Ewe=sq,Twe=HE,kwe=aq,Owe=Object.prototype,Dwe=Owe.hasOwnProperty;function Mwe(e,t){var n=Awe(e),s=!n&&Pwe(e),i=!n&&!s&&Ewe(e),a=!n&&!s&&!i&&kwe(e),o=n||s||i||a,l=o?_we(e.length,String):[],c=l.length;for(var u in e)(t||Dwe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Twe(u,c)))&&l.push(u);return l}var Iwe=Mwe,$we=Object.prototype;function Rwe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$we;return e===n}var Lwe=Rwe;function Fwe(e,t){return function(n){return e(t(n))}}var oq=Fwe,Bwe=oq,zwe=Bwe(Object.keys,Object),Vwe=zwe,Uwe=Lwe,qwe=Vwe,Wwe=Object.prototype,Hwe=Wwe.hasOwnProperty;function Gwe(e){if(!Uwe(e))return qwe(e);var t=[];for(var n in Object(e))Hwe.call(e,n)&&n!="constructor"&&t.push(n);return t}var Kwe=Gwe,Ywe=AE,Qwe=GE;function Xwe(e){return e!=null&&Qwe(e.length)&&!Ywe(e)}var Nv=Xwe,Jwe=Iwe,Zwe=Kwe,e1e=Nv;function t1e(e){return e1e(e)?Jwe(e):Zwe(e)}var aw=t1e,n1e=vbe,r1e=Pbe,s1e=aw;function i1e(e){return n1e(e,s1e,r1e)}var a1e=i1e,d4=a1e,o1e=1,l1e=Object.prototype,c1e=l1e.hasOwnProperty;function u1e(e,t,n,s,i,a){var o=n&o1e,l=d4(e),c=l.length,u=d4(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:c1e.call(t,m)))return!1}var g=a.get(e),x=a.get(t);if(g&&x)return g==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){m=l[f];var N=e[m],j=t[m];if(s)var b=o?s(j,N,m,t,e,a):s(N,j,m,e,t,a);if(!(b===void 0?N===j||i(N,j,n,s,a):b)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var _=e.constructor,C=t.constructor;_!=C&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(e),a.delete(t),v}var d1e=u1e,h1e=fd,f1e=jo,m1e=h1e(f1e,"DataView"),p1e=m1e,g1e=fd,v1e=jo,x1e=g1e(v1e,"Promise"),y1e=x1e,j1e=fd,b1e=jo,w1e=j1e(b1e,"Set"),lq=w1e,N1e=fd,S1e=jo,C1e=N1e(S1e,"WeakMap"),_1e=C1e,n_=p1e,r_=TE,s_=y1e,i_=lq,a_=_1e,cq=pl,im=mU,h4="[object Map]",P1e="[object Object]",f4="[object Promise]",m4="[object Set]",p4="[object WeakMap]",g4="[object DataView]",A1e=im(n_),E1e=im(r_),T1e=im(s_),k1e=im(i_),O1e=im(a_),lu=cq;(n_&&lu(new n_(new ArrayBuffer(1)))!=g4||r_&&lu(new r_)!=h4||s_&&lu(s_.resolve())!=f4||i_&&lu(new i_)!=m4||a_&&lu(new a_)!=p4)&&(lu=function(e){var t=cq(e),n=t==P1e?e.constructor:void 0,s=n?im(n):"";if(s)switch(s){case A1e:return g4;case E1e:return h4;case T1e:return f4;case k1e:return m4;case O1e:return p4}return t});var D1e=lu,NS=XU,M1e=tq,I1e=hbe,$1e=d1e,v4=D1e,x4=ri,y4=sq,R1e=aq,L1e=1,j4="[object Arguments]",b4="[object Array]",fy="[object Object]",F1e=Object.prototype,w4=F1e.hasOwnProperty;function B1e(e,t,n,s,i,a){var o=x4(e),l=x4(t),c=o?b4:v4(e),u=l?b4:v4(t);c=c==j4?fy:c,u=u==j4?fy:u;var d=c==fy,f=u==fy,m=c==u;if(m&&y4(e)){if(!y4(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new NS),o||R1e(e)?M1e(e,t,n,s,i,a):I1e(e,t,c,n,s,i,a);if(!(n&L1e)){var g=d&&w4.call(e,"__wrapped__"),x=f&&w4.call(t,"__wrapped__");if(g||x){var v=g?e.value():e,y=x?t.value():t;return a||(a=new NS),i(v,y,n,s,a)}}return m?(a||(a=new NS),$1e(e,t,n,s,i,a)):!1}var z1e=B1e,V1e=z1e,N4=gl;function uq(e,t,n,s,i){return e===t?!0:e==null||t==null||!N4(e)&&!N4(t)?e!==e&&t!==t:V1e(e,t,n,s,uq,i)}var KE=uq,U1e=XU,q1e=KE,W1e=1,H1e=2;function G1e(e,t,n,s){var i=n.length,a=i,o=!s;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new U1e;if(s)var m=s(u,d,c,e,t,f);if(!(m===void 0?q1e(d,u,W1e|H1e,s,f):m))return!1}}return!0}var K1e=G1e,Y1e=Fc;function Q1e(e){return e===e&&!Y1e(e)}var dq=Q1e,X1e=dq,J1e=aw;function Z1e(e){for(var t=J1e(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,X1e(i)]}return t}var eNe=Z1e;function tNe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var hq=tNe,nNe=K1e,rNe=eNe,sNe=hq;function iNe(e){var t=rNe(e);return t.length==1&&t[0][2]?sNe(t[0][0],t[0][1]):function(n){return n===e||nNe(n,e,t)}}var aNe=iNe;function oNe(e,t){return e!=null&&t in Object(e)}var lNe=oNe,cNe=yU,uNe=WE,dNe=ri,hNe=HE,fNe=GE,mNe=Wb;function pNe(e,t,n){t=cNe(t,e);for(var s=-1,i=t.length,a=!1;++s<i;){var o=mNe(t[s]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++s!=i?a:(i=e==null?0:e.length,!!i&&fNe(i)&&hNe(o,i)&&(dNe(e)||uNe(e)))}var gNe=pNe,vNe=lNe,xNe=gNe;function yNe(e,t){return e!=null&&xNe(e,t,vNe)}var jNe=yNe,bNe=KE,wNe=jU,NNe=jNe,SNe=PE,CNe=dq,_Ne=hq,PNe=Wb,ANe=1,ENe=2;function TNe(e,t){return SNe(e)&&CNe(t)?_Ne(PNe(e),t):function(n){var s=wNe(n,e);return s===void 0&&s===t?NNe(n,e):bNe(t,s,ANe|ENe)}}var kNe=TNe;function ONe(e){return e}var am=ONe;function DNe(e){return function(t){return t==null?void 0:t[e]}}var MNe=DNe,INe=ME;function $Ne(e){return function(t){return INe(t,e)}}var RNe=$Ne,LNe=MNe,FNe=RNe,BNe=PE,zNe=Wb;function VNe(e){return BNe(e)?LNe(zNe(e)):FNe(e)}var UNe=VNe,qNe=aNe,WNe=kNe,HNe=am,GNe=ri,KNe=UNe;function YNe(e){return typeof e=="function"?e:e==null?HNe:typeof e=="object"?GNe(e)?WNe(e[0],e[1]):qNe(e):KNe(e)}var bo=YNe;function QNe(e,t,n,s){for(var i=e.length,a=n+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var fq=QNe;function XNe(e){return e!==e}var JNe=XNe;function ZNe(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}var eSe=ZNe,tSe=fq,nSe=JNe,rSe=eSe;function sSe(e,t,n){return t===t?rSe(e,t,n):tSe(e,nSe,n)}var iSe=sSe,aSe=iSe;function oSe(e,t){var n=e==null?0:e.length;return!!n&&aSe(e,t,0)>-1}var lSe=oSe;function cSe(e,t,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(t,e[s]))return!0;return!1}var uSe=cSe;function dSe(){}var hSe=dSe,SS=lq,fSe=hSe,mSe=qE,pSe=1/0,gSe=SS&&1/mSe(new SS([,-0]))[1]==pSe?function(e){return new SS(e)}:fSe,vSe=gSe,xSe=JU,ySe=lSe,jSe=uSe,bSe=eq,wSe=vSe,NSe=qE,SSe=200;function CSe(e,t,n){var s=-1,i=ySe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=jSe;else if(a>=SSe){var u=t?null:wSe(e);if(u)return NSe(u);o=!1,i=bSe,c=new xSe}else c=t?[]:l;e:for(;++s<a;){var d=e[s],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var _Se=CSe,PSe=bo,ASe=_Se;function ESe(e,t){return e&&e.length?ASe(e,PSe(t)):[]}var TSe=ESe;const S4=pn(TSe);function mq(e,t,n){return t===!0?S4(e,n):yt(t)?S4(e,t):e}function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}var kSe=["ref"];function C4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(n),!0).forEach(function(s){ow(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function OSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gq(s.key),s)}}function DSe(e,t,n){return t&&_4(e.prototype,t),n&&_4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MSe(e,t,n){return t=G0(t),ISe(e,pq()?Reflect.construct(t,n||[],G0(e).constructor):t.apply(e,n))}function ISe(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Se(e)}function $Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!e})()}function G0(e){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(e)}function RSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},o_(e,t)}function ow(e,t,n){return t=gq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gq(e){var t=LSe(e,"string");return df(t)=="symbol"?t:t+""}function LSe(e,t){if(df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FSe(e,t){if(e==null)return{};var n=BSe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function BSe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function zSe(e){return e.value}function VSe(e,t){if(U.isValidElement(e))return U.cloneElement(e,t);if(typeof e=="function")return U.createElement(e,t);t.ref;var n=FSe(t,kSe);return U.createElement(UE,n)}var P4=1,Oh=function(e){function t(){var n;OSe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=MSe(this,t,[].concat(i)),ow(n,"lastBoundingBox",{width:-1,height:-1}),n}return RSe(t,e),DSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>P4||Math.abs(i.height-this.lastBoundingBox.height)>P4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,s&&s(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Do({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Do(Do({},f),m)}},{key:"render",value:function(){var s=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Do(Do({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){s.wrapperNode=g}},VSe(a,Do(Do({},this.props),{},{payload:mq(d,u,zSe)})))}}],[{key:"getWithHeight",value:function(s,i){var a=Do(Do({},this.defaultProps),s.props),o=a.layout;return o==="vertical"&&Ve(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}])}(w.PureComponent);ow(Oh,"displayName","Legend");ow(Oh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var A4=wv,USe=WE,qSe=ri,E4=A4?A4.isConcatSpreadable:void 0;function WSe(e){return qSe(e)||USe(e)||!!(E4&&e&&e[E4])}var HSe=WSe,GSe=nq,KSe=HSe;function vq(e,t,n,s,i){var a=-1,o=e.length;for(n||(n=KSe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?vq(l,t-1,n,s,i):GSe(i,l):s||(i[i.length]=l)}return i}var xq=vq;function YSe(e){return function(t,n,s){for(var i=-1,a=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var QSe=YSe,XSe=QSe,JSe=XSe(),ZSe=JSe,eCe=ZSe,tCe=aw;function nCe(e,t){return e&&eCe(e,t,tCe)}var yq=nCe,rCe=Nv;function sCe(e,t){return function(n,s){if(n==null)return n;if(!rCe(n))return e(n,s);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&s(o[a],a,o)!==!1;);return n}}var iCe=sCe,aCe=yq,oCe=iCe,lCe=oCe(aCe),YE=lCe,cCe=YE,uCe=Nv;function dCe(e,t){var n=-1,s=uCe(e)?Array(e.length):[];return cCe(e,function(i,a,o){s[++n]=t(i,a,o)}),s}var jq=dCe;function hCe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var fCe=hCe,T4=Jf;function mCe(e,t){if(e!==t){var n=e!==void 0,s=e===null,i=e===e,a=T4(e),o=t!==void 0,l=t===null,c=t===t,u=T4(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||s&&o&&c||!n&&c||!i)return 1;if(!s&&!a&&!u&&e<t||u&&n&&i&&!s&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var pCe=mCe,gCe=pCe;function vCe(e,t,n){for(var s=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++s<o;){var c=gCe(i[s],a[s]);if(c){if(s>=l)return c;var u=n[s];return c*(u=="desc"?-1:1)}}return e.index-t.index}var xCe=vCe,CS=DE,yCe=ME,jCe=bo,bCe=jq,wCe=fCe,NCe=iq,SCe=xCe,CCe=am,_Ce=ri;function PCe(e,t,n){t.length?t=CS(t,function(a){return _Ce(a)?function(o){return yCe(o,a.length===1?a[0]:a)}:a}):t=[CCe];var s=-1;t=CS(t,NCe(jCe));var i=bCe(e,function(a,o,l){var c=CS(t,function(u){return u(a)});return{criteria:c,index:++s,value:a}});return wCe(i,function(a,o){return SCe(a,o,n)})}var ACe=PCe;function ECe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var TCe=ECe,kCe=TCe,k4=Math.max;function OCe(e,t,n){return t=k4(t===void 0?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=k4(s.length-t,0),o=Array(a);++i<a;)o[i]=s[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=s[i];return l[t]=n(o),kCe(e,this,l)}}var DCe=OCe;function MCe(e){return function(){return e}}var ICe=MCe,$Ce=fd,RCe=function(){try{var e=$Ce(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bq=RCe,LCe=ICe,O4=bq,FCe=am,BCe=O4?function(e,t){return O4(e,"toString",{configurable:!0,enumerable:!1,value:LCe(t),writable:!0})}:FCe,zCe=BCe,VCe=800,UCe=16,qCe=Date.now;function WCe(e){var t=0,n=0;return function(){var s=qCe(),i=UCe-(s-n);if(n=s,i>0){if(++t>=VCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var HCe=WCe,GCe=zCe,KCe=HCe,YCe=KCe(GCe),QCe=YCe,XCe=am,JCe=DCe,ZCe=QCe;function e2e(e,t){return ZCe(JCe(e,t,XCe),e+"")}var t2e=e2e,n2e=EE,r2e=Nv,s2e=HE,i2e=Fc;function a2e(e,t,n){if(!i2e(n))return!1;var s=typeof t;return(s=="number"?r2e(n)&&s2e(t,n.length):s=="string"&&t in n)?n2e(n[t],e):!1}var lw=a2e,o2e=xq,l2e=ACe,c2e=t2e,D4=lw,u2e=c2e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&D4(e,t[0],t[1])?t=[]:n>2&&D4(t[0],t[1],t[2])&&(t=[t[0]]),l2e(e,o2e(t,1),[])}),d2e=u2e;const QE=pn(d2e);function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l_.apply(this,arguments)}function h2e(e,t){return g2e(e)||p2e(e,t)||m2e(e,t)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2e(e,t){if(e){if(typeof e=="string")return M4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M4(e,t)}}function M4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function p2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function g2e(e){if(Array.isArray(e))return e}function I4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(n),!0).forEach(function(s){v2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function v2e(e,t,n){return t=x2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x2e(e){var t=y2e(e,"string");return pg(t)=="symbol"?t:t+""}function y2e(e,t){if(pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j2e(e){return Array.isArray(e)&&Mr(e[0])&&Mr(e[1])?e.join(" ~ "):e}var b2e=function(t){var n=t.separator,s=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,g=t.wrapperClassName,x=t.labelClassName,v=t.label,y=t.labelFormatter,N=t.accessibilityLayer,j=N===void 0?!1:N,b=function(){if(d&&d.length){var O={padding:0,margin:0},L=(m?QE(d,m):d).map(function(z,J){if(z.type==="none")return null;var H=_S({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),oe=z.formatter||f||j2e,Q=z.value,D=z.name,ae=Q,pe=D;if(oe&&ae!=null&&pe!=null){var te=oe(Q,D,z,J,d);if(Array.isArray(te)){var Z=h2e(te,2);ae=Z[0],pe=Z[1]}else ae=te}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:H},Mr(pe)?U.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,Mr(pe)?U.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,U.createElement("span",{className:"recharts-tooltip-item-value"},ae),U.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},_=_S({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=_S({margin:0},u),A=!At(v),P=A?v:"",E=Et("recharts-default-tooltip",g),M=Et("recharts-tooltip-label",x);A&&y&&d!==void 0&&d!==null&&(P=y(v,d));var $=j?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",l_({className:E,style:_},$),U.createElement("p",{className:M,style:C},U.isValidElement(P)?P:"".concat(P)),b())};function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function my(e,t,n){return t=w2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w2e(e){var t=N2e(e,"string");return gg(t)=="symbol"?t:t+""}function N2e(e,t){if(gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm="recharts-tooltip-wrapper",S2e={visibility:"hidden"};function C2e(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return Et(Qm,my(my(my(my({},"".concat(Qm,"-right"),Ve(n)&&t&&Ve(t.x)&&n>=t.x),"".concat(Qm,"-left"),Ve(n)&&t&&Ve(t.x)&&n<t.x),"".concat(Qm,"-bottom"),Ve(s)&&t&&Ve(t.y)&&s>=t.y),"".concat(Qm,"-top"),Ve(s)&&t&&Ve(t.y)&&s<t.y))}function $4(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ve(a[s]))return a[s];var d=n[s]-l-i,f=n[s]+i;if(t[s])return o[s]?d:f;if(o[s]){var m=d,g=c[s];return m<g?Math.max(f,c[s]):Math.max(d,c[s])}var x=f+l,v=c[s]+u;return x>v?Math.max(d,c[s]):Math.max(f,c[s])}function _2e(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function P2e(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=$4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=$4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=_2e({translateX:d,translateY:f,useTranslate3d:l})):u=S2e,{cssProperties:u,cssClasses:C2e({translateX:d,translateY:f,coordinate:n})}}function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function L4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(s){u_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function A2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Nq(s.key),s)}}function T2e(e,t,n){return t&&E2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k2e(e,t,n){return t=K0(t),O2e(e,wq()?Reflect.construct(t,n||[],K0(e).constructor):t.apply(e,n))}function O2e(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D2e(e)}function D2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!e})()}function K0(e){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(e)}function M2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c_(e,t)}function c_(e,t){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},c_(e,t)}function u_(e,t,n){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nq(e){var t=I2e(e,"string");return hf(t)=="symbol"?t:t+""}function I2e(e,t){if(hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F4=1,$2e=function(e){function t(){var n;A2e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=k2e(this,t,[].concat(i)),u_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),u_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return M2e(t,e),T2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>F4||Math.abs(s.height-this.state.lastBoundingBox.height)>F4)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,N=i.viewBox,j=i.wrapperStyle,b=P2e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),_=b.cssClasses,C=b.cssProperties,A=L4(L4({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return U.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(E){s.wrapperNode=E}},u)}}])}(w.PureComponent),R2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ea={isSsr:R2e(),get:function(t){return Ea[t]},set:function(t,n){if(typeof t=="string")Ea[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(i){Ea[i]=t[i]})}}};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(s){XE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function L2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Cq(s.key),s)}}function B2e(e,t,n){return t&&F2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z2e(e,t,n){return t=Y0(t),V2e(e,Sq()?Reflect.construct(t,n||[],Y0(e).constructor):t.apply(e,n))}function V2e(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U2e(e)}function U2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sq=function(){return!!e})()}function Y0(e){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y0(e)}function q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},d_(e,t)}function XE(e,t,n){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cq(e){var t=W2e(e,"string");return ff(t)=="symbol"?t:t+""}function W2e(e,t){if(ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H2e(e){return e.dataKey}function G2e(e,t){return U.isValidElement(e)?U.cloneElement(e,t):typeof e=="function"?U.createElement(e,t):U.createElement(b2e,t)}var Vr=function(e){function t(){return L2e(this,t),z2e(this,t,arguments)}return q2e(t,e),B2e(t,[{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,N=i.reverseDirection,j=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,C=x??[];f&&C.length&&(C=mq(x.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),v,H2e));var A=C.length>0;return U.createElement($2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:A,offset:g,position:y,reverseDirection:N,useTranslate3d:j,viewBox:b,wrapperStyle:_},G2e(u,z4(z4({},this.props),{},{payload:C})))}}])}(w.PureComponent);XE(Vr,"displayName","Tooltip");XE(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ea.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var K2e=jo,Y2e=function(){return K2e.Date.now()},Q2e=Y2e,X2e=/\s/;function J2e(e){for(var t=e.length;t--&&X2e.test(e.charAt(t)););return t}var Z2e=J2e,e_e=Z2e,t_e=/^\s+/;function n_e(e){return e&&e.slice(0,e_e(e)+1).replace(t_e,"")}var r_e=n_e,s_e=r_e,V4=Fc,i_e=Jf,U4=NaN,a_e=/^[-+]0x[0-9a-f]+$/i,o_e=/^0b[01]+$/i,l_e=/^0o[0-7]+$/i,c_e=parseInt;function u_e(e){if(typeof e=="number")return e;if(i_e(e))return U4;if(V4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=V4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=s_e(e);var n=o_e.test(e);return n||l_e.test(e)?c_e(e.slice(2),n?2:8):a_e.test(e)?U4:+e}var _q=u_e,d_e=Fc,PS=Q2e,q4=_q,h_e="Expected a function",f_e=Math.max,m_e=Math.min;function p_e(e,t,n){var s,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(h_e);t=q4(t)||0,d_e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?f_e(q4(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(A){var P=s,E=i;return s=i=void 0,u=A,o=e.apply(E,P),o}function x(A){return u=A,l=setTimeout(N,t),d?g(A):o}function v(A){var P=A-c,E=A-u,M=t-P;return f?m_e(M,a-E):M}function y(A){var P=A-c,E=A-u;return c===void 0||P>=t||P<0||f&&E>=a}function N(){var A=PS();if(y(A))return j(A);l=setTimeout(N,v(A))}function j(A){return l=void 0,m&&s?g(A):(s=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,s=c=i=l=void 0}function _(){return l===void 0?o:j(PS())}function C(){var A=PS(),P=y(A);if(s=arguments,i=this,c=A,P){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(N,t),g(c)}return l===void 0&&(l=setTimeout(N,t)),o}return C.cancel=b,C.flush=_,C}var g_e=p_e,v_e=g_e,x_e=Fc,y_e="Expected a function";function j_e(e,t,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(y_e);return x_e(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),v_e(e,t,{leading:s,maxWait:t,trailing:i})}var b_e=j_e;const Pq=pn(b_e);function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(s){w_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function w_e(e,t,n){return t=N_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N_e(e){var t=S_e(e,"string");return vg(t)=="symbol"?t:t+""}function S_e(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C_e(e,t){return E_e(e)||A_e(e,t)||P_e(e,t)||__e()}function __e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_e(e,t){if(e){if(typeof e=="string")return H4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H4(e,t)}}function H4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function A_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function E_e(e){if(Array.isArray(e))return e}var cl=w.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,i=s===void 0?{width:-1,height:-1}:s,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,g=e.children,x=e.debounce,v=x===void 0?0:x,y=e.id,N=e.className,j=e.onResize,b=e.style,_=b===void 0?{}:b,C=w.useRef(null),A=w.useRef();A.current=j,w.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=w.useState({containerWidth:i.width,containerHeight:i.height}),E=C_e(P,2),M=E[0],$=E[1],k=w.useCallback(function(L,z){$(function(J){var H=Math.round(L),oe=Math.round(z);return J.containerWidth===H&&J.containerHeight===oe?J:{containerWidth:H,containerHeight:oe}})},[]);w.useEffect(function(){var L=function(D){var ae,pe=D[0].contentRect,te=pe.width,Z=pe.height;k(te,Z),(ae=A.current)===null||ae===void 0||ae.call(A,te,Z)};v>0&&(L=Pq(L,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),J=C.current.getBoundingClientRect(),H=J.width,oe=J.height;return k(H,oe),z.observe(C.current),function(){z.disconnect()}},[k,v]);var O=w.useMemo(function(){var L=M.containerWidth,z=M.containerHeight;if(L<0||z<0)return null;Aa(vu(o)||vu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Aa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=vu(o)?L:o,H=vu(c)?z:c;n&&n>0&&(J?H=J/n:H&&(J=H*n),m&&H>m&&(H=m)),Aa(J>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,H,o,c,d,f,n);var oe=!Array.isArray(g)&&Qo(g.type).endsWith("Chart");return U.Children.map(g,function(Q){return U.isValidElement(Q)?w.cloneElement(Q,py({width:J,height:H},oe?{style:py({height:"100%",width:"100%",maxHeight:H,maxWidth:J},Q.props.style)}:{})):Q})},[n,g,c,m,f,d,M,o]);return U.createElement("div",{id:y?"".concat(y):void 0,className:Et("recharts-responsive-container",N),style:py(py({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},O)}),om=function(t){return null};om.displayName="Cell";function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function h_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(s){T_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function T_e(e,t,n){return t=k_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k_e(e){var t=O_e(e,"string");return xg(t)=="symbol"?t:t+""}function O_e(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kd={widthCache:{},cacheCount:0},D_e=2e3,M_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K4="recharts_measurement_span";function I_e(e){var t=h_({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Tp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ea.isSsr)return{width:0,height:0};var s=I_e(n),i=JSON.stringify({text:t,copyStyle:s});if(Kd.widthCache[i])return Kd.widthCache[i];try{var a=document.getElementById(K4);a||(a=document.createElement("span"),a.setAttribute("id",K4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=h_(h_({},M_e),s);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Kd.widthCache[i]=c,++Kd.cacheCount>D_e&&(Kd.cacheCount=0,Kd.widthCache={}),c}catch{return{width:0,height:0}}},$_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function Q0(e,t){return B_e(e)||F_e(e,t)||L_e(e,t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_e(e,t){if(e){if(typeof e=="string")return Y4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y4(e,t)}}function Y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function F_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function B_e(e){if(Array.isArray(e))return e}function z_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,U_e(s.key),s)}}function V_e(e,t,n){return t&&Q4(e.prototype,t),n&&Q4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function U_e(e){var t=q_e(e,"string");return yg(t)=="symbol"?t:t+""}function q_e(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var X4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,W_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,H_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Aq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},G_e=Object.keys(Aq),mh="NaN";function K_e(e,t){return e*Aq[t]}var gy=function(){function e(t,n){z_e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!W_e.test(n)&&(this.num=NaN,this.unit=""),G_e.includes(n)&&(this.num=K_e(t,n),this.unit="px")}return V_e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,i=(s=H_e.exec(n))!==null&&s!==void 0?s:[],a=Q0(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function Eq(e){if(e.includes(mh))return mh;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=X4.exec(t))!==null&&n!==void 0?n:[],i=Q0(s,4),a=i[1],o=i[2],l=i[3],c=gy.parse(a??""),u=gy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return mh;t=t.replace(X4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=J4.exec(t))!==null&&f!==void 0?f:[],g=Q0(m,4),x=g[1],v=g[2],y=g[3],N=gy.parse(x??""),j=gy.parse(y??""),b=v==="+"?N.add(j):N.subtract(j);if(b.isNaN())return mh;t=t.replace(J4,b.toString())}return t}var Z4=/\(([^()]*)\)/;function Y_e(e){for(var t=e;t.includes("(");){var n=Z4.exec(t),s=Q0(n,2),i=s[1];t=t.replace(Z4,Eq(i))}return t}function Q_e(e){var t=e.replace(/\s+/g,"");return t=Y_e(t),t=Eq(t),t}function X_e(e){try{return Q_e(e)}catch{return mh}}function AS(e){var t=X_e(e.slice(5,-1));return t===mh?"":t}var J_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Z_e=["dx","dy","angle","className","breakAll"];function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},f_.apply(this,arguments)}function e$(e,t){if(e==null)return{};var n=ePe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ePe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function t$(e,t){return sPe(e)||rPe(e,t)||nPe(e,t)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(e,t){if(e){if(typeof e=="string")return n$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n$(e,t)}}function n$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function rPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sPe(e){if(Array.isArray(e))return e}var Tq=/[ \f\n\r\t\v\u2028\u2029]+/,kq=function(t){var n=t.children,s=t.breakAll,i=t.style;try{var a=[];At(n)||(s?a=n.toString().split(""):a=n.toString().split(Tq));var o=a.map(function(c){return{word:c,width:Tp(c,i).width}}),l=s?0:Tp(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},iPe=function(t,n,s,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ve(o),f=l,m=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(H,oe){var Q=oe.word,D=oe.width,ae=H[H.length-1];if(ae&&(i==null||a||ae.width+D+s<Number(i)))ae.words.push(Q),ae.width+=D+s;else{var pe={words:[Q],width:D};H.push(pe)}return H},[])},g=m(n),x=function(J){return J.reduce(function(H,oe){return H.width>oe.width?H:oe})};if(!d)return g;for(var v="…",y=function(J){var H=f.slice(0,J),oe=kq({breakAll:u,style:c,children:H+v}).wordsWithComputedWidth,Q=m(oe),D=Q.length>o||x(Q).width>Number(i);return[D,Q]},N=0,j=f.length-1,b=0,_;N<=j&&b<=f.length-1;){var C=Math.floor((N+j)/2),A=C-1,P=y(A),E=t$(P,2),M=E[0],$=E[1],k=y(C),O=t$(k,1),L=O[0];if(!M&&!L&&(N=C+1),M&&L&&(j=C-1),!M&&L){_=$;break}b++}return _||g},r$=function(t){var n=At(t)?[]:t.toString().split(Tq);return[{words:n}]},aPe=function(t){var n=t.width,s=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!Ea.isSsr){var c,u,d=kq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return r$(i);return iPe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,s)}return r$(i)},s$="#808080",Xu=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,g=m===void 0?"start":m,x=t.verticalAnchor,v=x===void 0?"end":x,y=t.fill,N=y===void 0?s$:y,j=e$(t,J_e),b=w.useMemo(function(){return aPe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),_=j.dx,C=j.dy,A=j.angle,P=j.className,E=j.breakAll,M=e$(j,Z_e);if(!Mr(s)||!Mr(a))return null;var $=s+(Ve(_)?_:0),k=a+(Ve(C)?C:0),O;switch(v){case"start":O=AS("calc(".concat(u,")"));break;case"middle":O=AS("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=AS("calc(".concat(b.length-1," * -").concat(l,")"));break}var L=[];if(f){var z=b[0].width,J=j.width;L.push("scale(".concat((Ve(J)?J/z:1)/z,")"))}return A&&L.push("rotate(".concat(A,", ").concat($,", ").concat(k,")")),L.length&&(M.transform=L.join(" ")),U.createElement("text",f_({},ct(M,!0),{x:$,y:k,className:Et("recharts-text",P),textAnchor:g,fill:N.includes("url")?s$:N}),b.map(function(H,oe){var Q=H.words.join(E?"":" ");return U.createElement("tspan",{x:$,dy:oe===0?O:l,key:"".concat(Q,"-").concat(oe)},Q)}))};function vc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JE(e){let t,n,s;e.length!==2?(t=vc,n=(l,c)=>vc(e(l),c),s=(l,c)=>e(l)-c):(t=e===vc||e===oPe?e:lPe,n=e,s=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function lPe(){return 0}function Oq(e){return e===null?NaN:+e}function*cPe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const uPe=JE(vc),Sv=uPe.right;JE(Oq).center;class i$ extends Map{constructor(t,n=fPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,i]of t)this.set(s,i)}get(t){return super.get(a$(this,t))}has(t){return super.has(a$(this,t))}set(t,n){return super.set(dPe(this,t),n)}delete(t){return super.delete(hPe(this,t))}}function a$({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function dPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function hPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function fPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mPe(e=vc){if(e===vc)return Dq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function Dq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pPe=Math.sqrt(50),gPe=Math.sqrt(10),vPe=Math.sqrt(2);function X0(e,t,n){const s=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(s)),a=s/Math.pow(10,i),o=a>=pPe?10:a>=gPe?5:a>=vPe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?X0(e,t,n*2):[l,c,u]}function m_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[i,a,o]=s?X0(t,e,n):X0(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function p_(e,t,n){return t=+t,e=+e,n=+n,X0(e,t,n)[2]}function g_(e,t,n){t=+t,e=+e,n=+n;const s=t<e,i=s?p_(t,e,n):p_(e,t,n);return(s?-1:1)*(i<0?1/-i:i)}function o$(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function l$(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function Mq(e,t,n=0,s=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(i=i===void 0?Dq:mPe(i);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/c+m)),x=Math.min(s,Math.floor(t+(c-u)*f/c+m));Mq(e,t,g,x,i)}const a=e[t];let o=n,l=s;for(Xm(e,n,t),i(e[s],a)>0&&Xm(e,n,s);o<l;){for(Xm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Xm(e,n,l):(++l,Xm(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function Xm(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function xPe(e,t,n){if(e=Float64Array.from(cPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return l$(e);if(t>=1)return o$(e);var s,i=(s-1)*t,a=Math.floor(i),o=o$(Mq(e,a).subarray(0,a+1)),l=l$(e.subarray(a+1));return o+(l-o)*(i-a)}}function yPe(e,t,n=Oq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,i=(s-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function jPe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var s=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++s<i;)a[s]=e+s*n;return a}function ra(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const v_=Symbol("implicit");function ZE(){var e=new i$,t=[],n=[],s=v_;function i(a){let o=e.get(a);if(o===void 0){if(s!==v_)return s;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new i$;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return ZE(t,n).unknown(s)},ra.apply(i,arguments),i}function jg(){var e=ZE().unknown(void 0),t=e.domain,n=e.range,s=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,g=i<s,x=g?i:s,v=g?s:i;a=(v-x)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),x+=(v-x-a*(m-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=jPe(m).map(function(N){return x+a*N});return n(g?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,i]=m,s=+s,i=+i,f()):[s,i]},e.rangeRound=function(m){return[s,i]=m,s=+s,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return jg(t(),[s,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},ra.apply(f(),arguments)}function Iq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Iq(t())},e}function kp(){return Iq(jg.apply(null,arguments).paddingInner(1))}function eT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $q(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Cv(){}var bg=.7,J0=1/bg,Dh="\\s*([+-]?\\d+)\\s*",wg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bPe=/^#([0-9a-f]{3,8})$/,wPe=new RegExp(`^rgb\\(${Dh},${Dh},${Dh}\\)$`),NPe=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),SPe=new RegExp(`^rgba\\(${Dh},${Dh},${Dh},${wg}\\)$`),CPe=new RegExp(`^rgba\\(${ho},${ho},${ho},${wg}\\)$`),_Pe=new RegExp(`^hsl\\(${wg},${ho},${ho}\\)$`),PPe=new RegExp(`^hsla\\(${wg},${ho},${ho},${wg}\\)$`),c$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eT(Cv,Ng,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:u$,formatHex:u$,formatHex8:APe,formatHsl:EPe,formatRgb:d$,toString:d$});function u$(){return this.rgb().formatHex()}function APe(){return this.rgb().formatHex8()}function EPe(){return Rq(this).formatHsl()}function d$(){return this.rgb().formatRgb()}function Ng(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bPe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?h$(t):n===3?new Ys(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wPe.exec(e))?new Ys(t[1],t[2],t[3],1):(t=NPe.exec(e))?new Ys(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SPe.exec(e))?vy(t[1],t[2],t[3],t[4]):(t=CPe.exec(e))?vy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_Pe.exec(e))?p$(t[1],t[2]/100,t[3]/100,1):(t=PPe.exec(e))?p$(t[1],t[2]/100,t[3]/100,t[4]):c$.hasOwnProperty(e)?h$(c$[e]):e==="transparent"?new Ys(NaN,NaN,NaN,0):null}function h$(e){return new Ys(e>>16&255,e>>8&255,e&255,1)}function vy(e,t,n,s){return s<=0&&(e=t=n=NaN),new Ys(e,t,n,s)}function TPe(e){return e instanceof Cv||(e=Ng(e)),e?(e=e.rgb(),new Ys(e.r,e.g,e.b,e.opacity)):new Ys}function x_(e,t,n,s){return arguments.length===1?TPe(e):new Ys(e,t,n,s??1)}function Ys(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}eT(Ys,x_,$q(Cv,{brighter(e){return e=e==null?J0:Math.pow(J0,e),new Ys(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bg:Math.pow(bg,e),new Ys(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ys(Du(this.r),Du(this.g),Du(this.b),Z0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f$,formatHex:f$,formatHex8:kPe,formatRgb:m$,toString:m$}));function f$(){return`#${xu(this.r)}${xu(this.g)}${xu(this.b)}`}function kPe(){return`#${xu(this.r)}${xu(this.g)}${xu(this.b)}${xu((isNaN(this.opacity)?1:this.opacity)*255)}`}function m$(){const e=Z0(this.opacity);return`${e===1?"rgb(":"rgba("}${Du(this.r)}, ${Du(this.g)}, ${Du(this.b)}${e===1?")":`, ${e})`}`}function Z0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Du(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xu(e){return e=Du(e),(e<16?"0":"")+e.toString(16)}function p$(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sa(e,t,n,s)}function Rq(e){if(e instanceof Sa)return new Sa(e.h,e.s,e.l,e.opacity);if(e instanceof Cv||(e=Ng(e)),!e)return new Sa;if(e instanceof Sa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,i=Math.min(t,n,s),a=Math.max(t,n,s),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-s)/l+(n<s)*6:n===a?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Sa(o,l,c,e.opacity)}function OPe(e,t,n,s){return arguments.length===1?Rq(e):new Sa(e,t,n,s??1)}function Sa(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}eT(Sa,OPe,$q(Cv,{brighter(e){return e=e==null?J0:Math.pow(J0,e),new Sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bg:Math.pow(bg,e),new Sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,i=2*n-s;return new Ys(ES(e>=240?e-240:e+120,i,s),ES(e,i,s),ES(e<120?e+240:e-120,i,s),this.opacity)},clamp(){return new Sa(g$(this.h),xy(this.s),xy(this.l),Z0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Z0(this.opacity);return`${e===1?"hsl(":"hsla("}${g$(this.h)}, ${xy(this.s)*100}%, ${xy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function g$(e){return e=(e||0)%360,e<0?e+360:e}function xy(e){return Math.max(0,Math.min(1,e||0))}function ES(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tT=e=>()=>e;function DPe(e,t){return function(n){return e+n*t}}function MPe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function IPe(e){return(e=+e)==1?Lq:function(t,n){return n-t?MPe(t,n,e):tT(isNaN(t)?n:t)}}function Lq(e,t){var n=t-e;return n?DPe(e,n):tT(isNaN(e)?t:e)}const v$=function e(t){var n=IPe(t);function s(i,a){var o=n((i=x_(i)).r,(a=x_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Lq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return s.gamma=e,s}(1);function $Pe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),i;return function(a){for(i=0;i<n;++i)s[i]=e[i]*(1-a)+t[i]*a;return s}}function RPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LPe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,i=new Array(s),a=new Array(n),o;for(o=0;o<s;++o)i[o]=lm(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<s;++o)a[o]=i[o](l);return a}}function FPe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function ej(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function BPe(e,t){var n={},s={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=lm(e[i],t[i]):s[i]=t[i];return function(a){for(i in n)s[i]=n[i](a);return s}}var y_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TS=new RegExp(y_.source,"g");function zPe(e){return function(){return e}}function VPe(e){return function(t){return e(t)+""}}function UPe(e,t){var n=y_.lastIndex=TS.lastIndex=0,s,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=y_.exec(e))&&(i=TS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(s=s[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:ej(s,i)})),n=TS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?VPe(c[0].x):zPe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function lm(e,t){var n=typeof t,s;return t==null||n==="boolean"?tT(t):(n==="number"?ej:n==="string"?(s=Ng(t))?(t=s,v$):UPe:t instanceof Ng?v$:t instanceof Date?FPe:RPe(t)?$Pe:Array.isArray(t)?LPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?BPe:ej)(e,t)}function nT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function qPe(e,t){t===void 0&&(t=e,e=lm);for(var n=0,s=t.length-1,i=t[0],a=new Array(s<0?0:s);n<s;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return a[l](o-l)}}function WPe(e){return function(){return e}}function tj(e){return+e}var x$=[0,1];function ks(e){return e}function j_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:WPe(isNaN(t)?NaN:.5)}function HPe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function GPe(e,t,n){var s=e[0],i=e[1],a=t[0],o=t[1];return i<s?(s=j_(i,s),a=n(o,a)):(s=j_(s,i),a=n(a,o)),function(l){return a(s(l))}}function KPe(e,t,n){var s=Math.min(e.length,t.length)-1,i=new Array(s),a=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)i[o]=j_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Sv(e,l,1,s)-1;return a[c](i[c](l))}}function _v(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cw(){var e=x$,t=x$,n=lm,s,i,a,o=ks,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==ks&&(o=HPe(e[0],e[m-1])),l=m>2?KPe:GPe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(s),t,n)))(s(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(s),ej)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,tj),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=nT,d()},f.clamp=function(m){return arguments.length?(o=m?!0:ks,d()):o!==ks},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,g){return s=m,i=g,d()}}function rT(){return cw()(ks,ks)}function YPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nj(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function mf(e){return e=nj(Math.abs(e)),e?e[1]:NaN}function QPe(e,t){return function(n,s){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function XPe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var JPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sg(e){if(!(t=JPe.exec(e)))throw new Error("invalid format: "+e);var t;return new sT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sg.prototype=sT.prototype;function sT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZPe(e){e:for(var t=e.length,n=1,s=-1,i;n<t;++n)switch(e[n]){case".":s=i=n;break;case"0":s===0&&(s=n),i=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(i+1):e}var Fq;function eAe(e,t){var n=nj(e,t);if(!n)return e+"";var s=n[0],i=n[1],a=i-(Fq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=s.length;return a===o?s:a>o?s+new Array(a-o+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+nj(e,Math.max(0,t+a-1))[0]}function y$(e,t){var n=nj(e,t);if(!n)return e+"";var s=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const j$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>y$(e*100,t),r:y$,s:eAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function b$(e){return e}var w$=Array.prototype.map,N$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tAe(e){var t=e.grouping===void 0||e.thousands===void 0?b$:QPe(w$.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?b$:XPe(w$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Sg(f);var m=f.fill,g=f.align,x=f.sign,v=f.symbol,y=f.zero,N=f.width,j=f.comma,b=f.precision,_=f.trim,C=f.type;C==="n"?(j=!0,C="g"):j$[C]||(b===void 0&&(b=12),_=!0,C="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=v==="$"?s:/[%p]/.test(C)?o:"",E=j$[C],M=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function $(k){var O=A,L=P,z,J,H;if(C==="c")L=E(k)+L,k="";else{k=+k;var oe=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),b),_&&(k=ZPe(k)),oe&&+k==0&&x!=="+"&&(oe=!1),O=(oe?x==="("?x:l:x==="-"||x==="("?"":x)+O,L=(C==="s"?N$[8+Fq/3]:"")+L+(oe&&x==="("?")":""),M){for(z=-1,J=k.length;++z<J;)if(H=k.charCodeAt(z),48>H||H>57){L=(H===46?i+k.slice(z+1):k.slice(z))+L,k=k.slice(0,z);break}}}j&&!y&&(k=t(k,1/0));var Q=O.length+k.length+L.length,D=Q<N?new Array(N-Q+1).join(m):"";switch(j&&y&&(k=t(D+k,D.length?N-L.length:1/0),D=""),g){case"<":k=O+k+L+D;break;case"=":k=O+D+k+L;break;case"^":k=D.slice(0,Q=D.length>>1)+O+k+L+D.slice(Q);break;default:k=D+O+k+L;break}return a(k)}return $.toString=function(){return f+""},$}function d(f,m){var g=u((f=Sg(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(mf(m)/3)))*3,v=Math.pow(10,-x),y=N$[8+x/3];return function(N){return g(v*N)+y}}return{format:u,formatPrefix:d}}var yy,iT,Bq;nAe({thousands:",",grouping:[3],currency:["$",""]});function nAe(e){return yy=tAe(e),iT=yy.format,Bq=yy.formatPrefix,yy}function rAe(e){return Math.max(0,-mf(Math.abs(e)))}function sAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mf(t)/3)))*3-mf(Math.abs(e)))}function iAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mf(t)-mf(e))+1}function zq(e,t,n,s){var i=g_(e,t,n),a;switch(s=Sg(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(a=sAe(i,o))&&(s.precision=a),Bq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=iAe(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=rAe(i))&&(s.precision=a-(s.type==="%")*2);break}}return iT(s)}function Bc(e){var t=e.domain;return e.ticks=function(n){var s=t();return m_(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var i=t();return zq(i[0],i[i.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),i=0,a=s.length-1,o=s[i],l=s[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=p_(o,l,n),u===c)return s[i]=o,s[a]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function rj(){var e=rT();return e.copy=function(){return _v(e,rj())},ra.apply(e,arguments),Bc(e)}function Vq(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,tj),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return Vq(e).unknown(t)},e=arguments.length?Array.from(e,tj):[0,1],Bc(n)}function Uq(e,t){e=e.slice();var n=0,s=e.length-1,i=e[n],a=e[s],o;return a<i&&(o=n,n=s,s=o,o=i,i=a,a=o),e[n]=t.floor(i),e[s]=t.ceil(a),e}function S$(e){return Math.log(e)}function C$(e){return Math.exp(e)}function aAe(e){return-Math.log(-e)}function oAe(e){return-Math.exp(-e)}function lAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cAe(e){return e===10?lAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _$(e){return(t,n)=>-e(-t,n)}function aT(e){const t=e(S$,C$),n=t.domain;let s=10,i,a;function o(){return i=uAe(s),a=cAe(s),n()[0]<0?(i=_$(i),a=_$(a),e(aAe,oAe)):e(S$,C$),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),g=i(d),x,v;const y=l==null?10:+l;let N=[];if(!(s%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<s;++x)if(v=m<0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}}else for(;m<=g;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}N.length*2<y&&(N=m_(u,d,y))}else N=m_(m,g,Math.min(g-m,y)).map(a);return f?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Sg(c)).precision==null&&(c.trim=!0),c=iT(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*s<s-.5&&(f*=s),f<=u?c(d):""}},t.nice=()=>n(Uq(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function qq(){const e=aT(cw()).domain([1,10]);return e.copy=()=>_v(e,qq()).base(e.base()),ra.apply(e,arguments),e}function P$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function A$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function oT(e){var t=1,n=e(P$(t),A$(t));return n.constant=function(s){return arguments.length?e(P$(t=+s),A$(t)):t},Bc(n)}function Wq(){var e=oT(cw());return e.copy=function(){return _v(e,Wq()).constant(e.constant())},ra.apply(e,arguments)}function E$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hAe(e){return e<0?-e*e:e*e}function lT(e){var t=e(ks,ks),n=1;function s(){return n===1?e(ks,ks):n===.5?e(dAe,hAe):e(E$(n),E$(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,s()):n},Bc(t)}function cT(){var e=lT(cw());return e.copy=function(){return _v(e,cT()).exponent(e.exponent())},ra.apply(e,arguments),e}function fAe(){return cT.apply(null,arguments).exponent(.5)}function T$(e){return Math.sign(e)*e*e}function mAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Hq(){var e=rT(),t=[0,1],n=!1,s;function i(a){var o=mAe(e(a));return isNaN(o)?s:n?Math.round(o):o}return i.invert=function(a){return e.invert(T$(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,tj)).map(T$)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return Hq(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},ra.apply(i,arguments),Bc(i)}function Gq(){var e=[],t=[],n=[],s;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=yPe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?s:t[Sv(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(vc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(s=o,a):s},a.quantiles=function(){return n.slice()},a.copy=function(){return Gq().domain(e).range(t).unknown(s)},ra.apply(a,arguments)}function Kq(){var e=0,t=1,n=1,s=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Sv(s,c,0,n)]:a}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Kq().domain([e,t]).range(i).unknown(a)},ra.apply(Bc(o),arguments)}function Yq(){var e=[.5],t=[0,1],n,s=1;function i(a){return a!=null&&a<=a?t[Sv(e,a,0,s)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),s=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),s=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Yq().domain(e).range(t).unknown(n)},ra.apply(i,arguments)}const kS=new Date,OS=new Date;function Ir(e,t,n,s){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Ir(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(kS.setTime(+a),OS.setTime(+o),e(kS),e(OS),Math.floor(n(kS,OS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(s?o=>s(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const sj=Ir(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ir(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sj);sj.range;const Ho=1e3,Wi=Ho*60,Go=Wi*60,ul=Go*24,uT=ul*7,k$=ul*30,DS=ul*365,yu=Ir(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ho)},(e,t)=>(t-e)/Ho,e=>e.getUTCSeconds());yu.range;const dT=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ho)},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getMinutes());dT.range;const hT=Ir(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getUTCMinutes());hT.range;const fT=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ho-e.getMinutes()*Wi)},(e,t)=>{e.setTime(+e+t*Go)},(e,t)=>(t-e)/Go,e=>e.getHours());fT.range;const mT=Ir(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Go)},(e,t)=>(t-e)/Go,e=>e.getUTCHours());mT.range;const Pv=Ir(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wi)/ul,e=>e.getDate()-1);Pv.range;const uw=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ul,e=>e.getUTCDate()-1);uw.range;const Qq=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ul,e=>Math.floor(e/ul));Qq.range;function pd(e){return Ir(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wi)/uT)}const dw=pd(0),ij=pd(1),pAe=pd(2),gAe=pd(3),pf=pd(4),vAe=pd(5),xAe=pd(6);dw.range;ij.range;pAe.range;gAe.range;pf.range;vAe.range;xAe.range;function gd(e){return Ir(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/uT)}const hw=gd(0),aj=gd(1),yAe=gd(2),jAe=gd(3),gf=gd(4),bAe=gd(5),wAe=gd(6);hw.range;aj.range;yAe.range;jAe.range;gf.range;bAe.range;wAe.range;const pT=Ir(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pT.range;const gT=Ir(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gT.range;const dl=Ir(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});dl.range;const hl=Ir(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});hl.range;function Xq(e,t,n,s,i,a){const o=[[yu,1,Ho],[yu,5,5*Ho],[yu,15,15*Ho],[yu,30,30*Ho],[a,1,Wi],[a,5,5*Wi],[a,15,15*Wi],[a,30,30*Wi],[i,1,Go],[i,3,3*Go],[i,6,6*Go],[i,12,12*Go],[s,1,ul],[s,2,2*ul],[n,1,uT],[t,1,k$],[t,3,3*k$],[e,1,DS]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),x=g?g.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,g=JE(([,,y])=>y).right(o,m);if(g===o.length)return e.every(g_(u/DS,d/DS,f));if(g===0)return sj.every(Math.max(g_(u,d,f),1));const[x,v]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return x.every(v)}return[l,c]}const[NAe,SAe]=Xq(hl,gT,hw,Qq,mT,hT),[CAe,_Ae]=Xq(dl,pT,dw,Pv,fT,dT);function MS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function IS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function PAe(e){var t=e.dateTime,n=e.date,s=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Zm(i),d=ep(i),f=Zm(a),m=ep(a),g=Zm(o),x=ep(o),v=Zm(l),y=ep(l),N=Zm(c),j=ep(c),b={a:oe,A:Q,b:D,B:ae,c:null,d:R$,e:R$,f:QAe,g:aEe,G:lEe,H:GAe,I:KAe,j:YAe,L:Jq,m:XAe,M:JAe,p:pe,q:te,Q:B$,s:z$,S:ZAe,u:eEe,U:tEe,V:nEe,w:rEe,W:sEe,x:null,X:null,y:iEe,Y:oEe,Z:cEe,"%":F$},_={a:Z,A:ne,b:xe,B:ye,c:null,d:L$,e:L$,f:fEe,g:NEe,G:CEe,H:uEe,I:dEe,j:hEe,L:e7,m:mEe,M:pEe,p:se,q:F,Q:B$,s:z$,S:gEe,u:vEe,U:xEe,V:yEe,w:jEe,W:bEe,x:null,X:null,y:wEe,Y:SEe,Z:_Ee,"%":F$},C={a:$,A:k,b:O,B:L,c:z,d:I$,e:I$,f:UAe,g:M$,G:D$,H:$$,I:$$,j:FAe,L:VAe,m:LAe,M:BAe,p:M,q:RAe,Q:WAe,s:HAe,S:zAe,u:OAe,U:DAe,V:MAe,w:kAe,W:IAe,x:J,X:H,y:M$,Y:D$,Z:$Ae,"%":qAe};b.x=A(n,b),b.X=A(s,b),b.c=A(t,b),_.x=A(n,_),_.X=A(s,_),_.c=A(t,_);function A(Y,ee){return function(G){var I=[],ve=-1,we=0,Fe=Y.length,Be,it,lt;for(G instanceof Date||(G=new Date(+G));++ve<Fe;)Y.charCodeAt(ve)===37&&(I.push(Y.slice(we,ve)),(it=O$[Be=Y.charAt(++ve)])!=null?Be=Y.charAt(++ve):it=Be==="e"?" ":"0",(lt=ee[Be])&&(Be=lt(G,it)),I.push(Be),we=ve+1);return I.push(Y.slice(we,ve)),I.join("")}}function P(Y,ee){return function(G){var I=Jm(1900,void 0,1),ve=E(I,Y,G+="",0),we,Fe;if(ve!=G.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(ee&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(we=IS(Jm(I.y,0,1)),Fe=we.getUTCDay(),we=Fe>4||Fe===0?aj.ceil(we):aj(we),we=uw.offset(we,(I.V-1)*7),I.y=we.getUTCFullYear(),I.m=we.getUTCMonth(),I.d=we.getUTCDate()+(I.w+6)%7):(we=MS(Jm(I.y,0,1)),Fe=we.getDay(),we=Fe>4||Fe===0?ij.ceil(we):ij(we),we=Pv.offset(we,(I.V-1)*7),I.y=we.getFullYear(),I.m=we.getMonth(),I.d=we.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Fe="Z"in I?IS(Jm(I.y,0,1)).getUTCDay():MS(Jm(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Fe+5)%7:I.w+I.U*7-(Fe+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,IS(I)):MS(I)}}function E(Y,ee,G,I){for(var ve=0,we=ee.length,Fe=G.length,Be,it;ve<we;){if(I>=Fe)return-1;if(Be=ee.charCodeAt(ve++),Be===37){if(Be=ee.charAt(ve++),it=C[Be in O$?ee.charAt(ve++):Be],!it||(I=it(Y,G,I))<0)return-1}else if(Be!=G.charCodeAt(I++))return-1}return I}function M(Y,ee,G){var I=u.exec(ee.slice(G));return I?(Y.p=d.get(I[0].toLowerCase()),G+I[0].length):-1}function $(Y,ee,G){var I=g.exec(ee.slice(G));return I?(Y.w=x.get(I[0].toLowerCase()),G+I[0].length):-1}function k(Y,ee,G){var I=f.exec(ee.slice(G));return I?(Y.w=m.get(I[0].toLowerCase()),G+I[0].length):-1}function O(Y,ee,G){var I=N.exec(ee.slice(G));return I?(Y.m=j.get(I[0].toLowerCase()),G+I[0].length):-1}function L(Y,ee,G){var I=v.exec(ee.slice(G));return I?(Y.m=y.get(I[0].toLowerCase()),G+I[0].length):-1}function z(Y,ee,G){return E(Y,t,ee,G)}function J(Y,ee,G){return E(Y,n,ee,G)}function H(Y,ee,G){return E(Y,s,ee,G)}function oe(Y){return o[Y.getDay()]}function Q(Y){return a[Y.getDay()]}function D(Y){return c[Y.getMonth()]}function ae(Y){return l[Y.getMonth()]}function pe(Y){return i[+(Y.getHours()>=12)]}function te(Y){return 1+~~(Y.getMonth()/3)}function Z(Y){return o[Y.getUTCDay()]}function ne(Y){return a[Y.getUTCDay()]}function xe(Y){return c[Y.getUTCMonth()]}function ye(Y){return l[Y.getUTCMonth()]}function se(Y){return i[+(Y.getUTCHours()>=12)]}function F(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ee=A(Y+="",b);return ee.toString=function(){return Y},ee},parse:function(Y){var ee=P(Y+="",!1);return ee.toString=function(){return Y},ee},utcFormat:function(Y){var ee=A(Y+="",_);return ee.toString=function(){return Y},ee},utcParse:function(Y){var ee=P(Y+="",!0);return ee.toString=function(){return Y},ee}}}var O$={"-":"",_:" ",0:"0"},Kr=/^\s*\d+/,AAe=/^%/,EAe=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var s=e<0?"-":"",i=(s?-e:e)+"",a=i.length;return s+(a<n?new Array(n-a+1).join(t)+i:i)}function TAe(e){return e.replace(EAe,"\\$&")}function Zm(e){return new RegExp("^(?:"+e.map(TAe).join("|")+")","i")}function ep(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function kAe(e,t,n){var s=Kr.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function OAe(e,t,n){var s=Kr.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function DAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function MAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function IAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function D$(e,t,n){var s=Kr.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function M$(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function $Ae(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function RAe(e,t,n){var s=Kr.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function LAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function I$(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function FAe(e,t,n){var s=Kr.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function $$(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function BAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function zAe(e,t,n){var s=Kr.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function VAe(e,t,n){var s=Kr.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function UAe(e,t,n){var s=Kr.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function qAe(e,t,n){var s=AAe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function WAe(e,t,n){var s=Kr.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function HAe(e,t,n){var s=Kr.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function R$(e,t){return un(e.getDate(),t,2)}function GAe(e,t){return un(e.getHours(),t,2)}function KAe(e,t){return un(e.getHours()%12||12,t,2)}function YAe(e,t){return un(1+Pv.count(dl(e),e),t,3)}function Jq(e,t){return un(e.getMilliseconds(),t,3)}function QAe(e,t){return Jq(e,t)+"000"}function XAe(e,t){return un(e.getMonth()+1,t,2)}function JAe(e,t){return un(e.getMinutes(),t,2)}function ZAe(e,t){return un(e.getSeconds(),t,2)}function eEe(e){var t=e.getDay();return t===0?7:t}function tEe(e,t){return un(dw.count(dl(e)-1,e),t,2)}function Zq(e){var t=e.getDay();return t>=4||t===0?pf(e):pf.ceil(e)}function nEe(e,t){return e=Zq(e),un(pf.count(dl(e),e)+(dl(e).getDay()===4),t,2)}function rEe(e){return e.getDay()}function sEe(e,t){return un(ij.count(dl(e)-1,e),t,2)}function iEe(e,t){return un(e.getFullYear()%100,t,2)}function aEe(e,t){return e=Zq(e),un(e.getFullYear()%100,t,2)}function oEe(e,t){return un(e.getFullYear()%1e4,t,4)}function lEe(e,t){var n=e.getDay();return e=n>=4||n===0?pf(e):pf.ceil(e),un(e.getFullYear()%1e4,t,4)}function cEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function L$(e,t){return un(e.getUTCDate(),t,2)}function uEe(e,t){return un(e.getUTCHours(),t,2)}function dEe(e,t){return un(e.getUTCHours()%12||12,t,2)}function hEe(e,t){return un(1+uw.count(hl(e),e),t,3)}function e7(e,t){return un(e.getUTCMilliseconds(),t,3)}function fEe(e,t){return e7(e,t)+"000"}function mEe(e,t){return un(e.getUTCMonth()+1,t,2)}function pEe(e,t){return un(e.getUTCMinutes(),t,2)}function gEe(e,t){return un(e.getUTCSeconds(),t,2)}function vEe(e){var t=e.getUTCDay();return t===0?7:t}function xEe(e,t){return un(hw.count(hl(e)-1,e),t,2)}function t7(e){var t=e.getUTCDay();return t>=4||t===0?gf(e):gf.ceil(e)}function yEe(e,t){return e=t7(e),un(gf.count(hl(e),e)+(hl(e).getUTCDay()===4),t,2)}function jEe(e){return e.getUTCDay()}function bEe(e,t){return un(aj.count(hl(e)-1,e),t,2)}function wEe(e,t){return un(e.getUTCFullYear()%100,t,2)}function NEe(e,t){return e=t7(e),un(e.getUTCFullYear()%100,t,2)}function SEe(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function CEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?gf(e):gf.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function _Ee(){return"+0000"}function F$(){return"%"}function B$(e){return+e}function z$(e){return Math.floor(+e/1e3)}var Yd,n7,r7;PEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PEe(e){return Yd=PAe(e),n7=Yd.format,Yd.parse,r7=Yd.utcFormat,Yd.utcParse,Yd}function AEe(e){return new Date(e)}function EEe(e){return e instanceof Date?+e:+new Date(+e)}function vT(e,t,n,s,i,a,o,l,c,u){var d=rT(),f=d.invert,m=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),j=u("%b %d"),b=u("%B"),_=u("%Y");function C(A){return(c(A)<A?g:l(A)<A?x:o(A)<A?v:a(A)<A?y:s(A)<A?i(A)<A?N:j:n(A)<A?b:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?m(Array.from(A,EEe)):m().map(AEe)},d.ticks=function(A){var P=m();return e(P[0],P[P.length-1],A??10)},d.tickFormat=function(A,P){return P==null?C:u(P)},d.nice=function(A){var P=m();return(!A||typeof A.range!="function")&&(A=t(P[0],P[P.length-1],A??10)),A?m(Uq(P,A)):d},d.copy=function(){return _v(d,vT(e,t,n,s,i,a,o,l,c,u))},d}function TEe(){return ra.apply(vT(CAe,_Ae,dl,pT,dw,Pv,fT,dT,yu,n7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kEe(){return ra.apply(vT(NAe,SAe,hl,gT,hw,uw,mT,hT,yu,r7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fw(){var e=0,t=1,n,s,i,a,o=ks,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),s=a(t=+t),i=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var g,x;return arguments.length?([g,x]=m,o=f(g,x),u):[o(0),o(1)]}}return u.range=d(lm),u.rangeRound=d(nT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),s=f(t),i=n===s?0:1/(s-n),u}}function zc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function s7(){var e=Bc(fw()(ks));return e.copy=function(){return zc(e,s7())},vl.apply(e,arguments)}function i7(){var e=aT(fw()).domain([1,10]);return e.copy=function(){return zc(e,i7()).base(e.base())},vl.apply(e,arguments)}function a7(){var e=oT(fw());return e.copy=function(){return zc(e,a7()).constant(e.constant())},vl.apply(e,arguments)}function xT(){var e=lT(fw());return e.copy=function(){return zc(e,xT()).exponent(e.exponent())},vl.apply(e,arguments)}function OEe(){return xT.apply(null,arguments).exponent(.5)}function o7(){var e=[],t=ks;function n(s){if(s!=null&&!isNaN(s=+s))return t((Sv(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let i of s)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(vc),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,i)=>t(i/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(i,a)=>xPe(e,a/s))},n.copy=function(){return o7(t).domain(e)},vl.apply(n,arguments)}function mw(){var e=0,t=.5,n=1,s=1,i,a,o,l,c,u=ks,d,f=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-a)*(s*v<s*a?l:c),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g):[e,t,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var N,j,b;return arguments.length?([N,j,b]=y,u=qPe(v,[N,j,b]),g):[u(0),u(.5),u(1)]}}return g.range=x(lm),g.rangeRound=x(nT),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return d=v,i=v(e),a=v(t),o=v(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g}}function l7(){var e=Bc(mw()(ks));return e.copy=function(){return zc(e,l7())},vl.apply(e,arguments)}function c7(){var e=aT(mw()).domain([.1,1,10]);return e.copy=function(){return zc(e,c7()).base(e.base())},vl.apply(e,arguments)}function u7(){var e=oT(mw());return e.copy=function(){return zc(e,u7()).constant(e.constant())},vl.apply(e,arguments)}function yT(){var e=lT(mw());return e.copy=function(){return zc(e,yT()).exponent(e.exponent())},vl.apply(e,arguments)}function DEe(){return yT.apply(null,arguments).exponent(.5)}const V$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jg,scaleDiverging:l7,scaleDivergingLog:c7,scaleDivergingPow:yT,scaleDivergingSqrt:DEe,scaleDivergingSymlog:u7,scaleIdentity:Vq,scaleImplicit:v_,scaleLinear:rj,scaleLog:qq,scaleOrdinal:ZE,scalePoint:kp,scalePow:cT,scaleQuantile:Gq,scaleQuantize:Kq,scaleRadial:Hq,scaleSequential:s7,scaleSequentialLog:i7,scaleSequentialPow:xT,scaleSequentialQuantile:o7,scaleSequentialSqrt:OEe,scaleSequentialSymlog:a7,scaleSqrt:fAe,scaleSymlog:Wq,scaleThreshold:Yq,scaleTime:TEe,scaleUtc:kEe,tickFormat:zq},Symbol.toStringTag,{value:"Module"}));var MEe=Jf;function IEe(e,t,n){for(var s=-1,i=e.length;++s<i;){var a=e[s],o=t(a);if(o!=null&&(l===void 0?o===o&&!MEe(o):n(o,l)))var l=o,c=a}return c}var pw=IEe;function $Ee(e,t){return e>t}var d7=$Ee,REe=pw,LEe=d7,FEe=am;function BEe(e){return e&&e.length?REe(e,FEe,LEe):void 0}var zEe=BEe;const sc=pn(zEe);function VEe(e,t){return e<t}var h7=VEe,UEe=pw,qEe=h7,WEe=am;function HEe(e){return e&&e.length?UEe(e,WEe,qEe):void 0}var GEe=HEe;const gw=pn(GEe);var KEe=DE,YEe=bo,QEe=jq,XEe=ri;function JEe(e,t){var n=XEe(e)?KEe:QEe;return n(e,YEe(t))}var ZEe=JEe,eTe=xq,tTe=ZEe;function nTe(e,t){return eTe(tTe(e,t),1)}var rTe=nTe;const sTe=pn(rTe);var iTe=KE;function aTe(e,t){return iTe(e,t)}var oTe=aTe;const Ju=pn(oTe);var cm=1e9,lTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bT,Kn=!0,Ji="[DecimalError] ",Mu=Ji+"Invalid argument: ",jT=Ji+"Exponent out of range: ",um=Math.floor,cu=Math.pow,cTe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vi,Fr=1e7,zn=7,f7=9007199254740991,oj=um(f7/zn),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,n,s,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(s=a.d.length,i=e.d.length,t=0,n=s<i?s:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return s===i?0:s>i^a.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*zn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};rt.dividedBy=rt.div=function(e){return Xo(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,n=t.constructor;return En(Xo(t,new n(e),0,1),n.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return wr(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,n=this,s=n.constructor,i=s.precision,a=i+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(vi))throw Error(Ji+"NaN");if(n.s<1)throw Error(Ji+(n.s?"NaN":"-Infinity"));return n.eq(vi)?new s(0):(Kn=!1,t=Xo(Cg(n,a),Cg(e,a),a),Kn=!0,En(t,i))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g7(t,e):m7(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,n=this,s=n.constructor,i=s.precision;if(e=new s(e),!e.s)throw Error(Ji+"NaN");return n.s?(Kn=!1,t=Xo(n,e,0,1).times(e),Kn=!0,n.minus(t)):En(new s(n),i)};rt.naturalExponential=rt.exp=function(){return p7(this)};rt.naturalLogarithm=rt.ln=function(){return Cg(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?m7(t,e):g7(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,n,s,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Mu+e);if(t=wr(i)+1,s=i.d.length-1,n=s*zn+1,s=i.d[s],s){for(;s%10==0;s/=10)n--;for(s=i.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};rt.squareRoot=rt.sqrt=function(){var e,t,n,s,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ji+"NaN")}for(e=wr(l),Kn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=so(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=um((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=s,s=a.plus(Xo(l,a,o+2)).times(.5),so(a.d).slice(0,o)===(t=so(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(En(a,n+1,0),a.times(a).eq(l)){s=a;break}}else if(t!="9999")break;o+=4}return Kn=!0,En(s,n)};rt.times=rt.mul=function(e){var t,n,s,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,o=c,c=u,u=o),a=[],o=c+u,s=o;s--;)a.push(0);for(s=u;--s>=0;){for(t=0,i=c+s;i>s;)l=a[i]+g[s]*m[i-s-1]+t,a[i--]=l%Fr|0,t=l/Fr|0;a[i]=(a[i]+t)%Fr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Kn?En(e,f.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(vo(e,0,cm),t===void 0?t=s.rounding:vo(t,0,8),En(n,e+wr(n)+1,t))};rt.toExponential=function(e,t){var n,s=this,i=s.constructor;return e===void 0?n=Zu(s,!0):(vo(e,0,cm),t===void 0?t=i.rounding:vo(t,0,8),s=En(new i(s),e+1,t),n=Zu(s,!0,e+1)),n};rt.toFixed=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?Zu(i):(vo(e,0,cm),t===void 0?t=a.rounding:vo(t,0,8),s=En(new a(i),e+wr(i)+1,t),n=Zu(s.abs(),!1,e+wr(s)+1),i.isneg()&&!i.isZero()?"-"+n:n)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return En(new t(e),wr(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,n,s,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ji+"Infinity");return l}if(l.eq(vi))return l;if(s=c.precision,e.eq(vi))return En(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=f7){for(i=new c(vi),t=Math.ceil(s/zn+4),Kn=!1;n%2&&(i=i.times(l),q$(i.d,t)),n=um(n/2),n!==0;)l=l.times(l),q$(l.d,t);return Kn=!0,e.s<0?new c(vi).div(i):En(i,s)}}else if(a<0)throw Error(Ji+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Kn=!1,i=e.times(Cg(l,s+u)),Kn=!0,i=p7(i),i.s=a,i};rt.toPrecision=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?(n=wr(i),s=Zu(i,n<=a.toExpNeg||n>=a.toExpPos)):(vo(e,1,cm),t===void 0?t=a.rounding:vo(t,0,8),i=En(new a(i),e,t),n=wr(i),s=Zu(i,e<=n||n<=a.toExpNeg,e)),s};rt.toSignificantDigits=rt.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(vo(e,1,cm),t===void 0?t=s.rounding:vo(t,0,8)),En(new s(n),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wr(e),n=e.constructor;return Zu(e,t<=n.toExpNeg||t>=n.toExpPos)};function m7(e,t){var n,s,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kn?En(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(s=c,a=-a,l=u.length):(s=u,i=o,l=c.length),o=Math.ceil(f/zn),l=o>l?o+1:l+1,a>l&&(a=l,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,s=u,u=c,c=s),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Fr|0,c[a]%=Fr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Kn?En(t,f):t}function vo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Mu+e)}function so(e){var t,n,s,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)s=e[t]+"",n=zn-s.length,n&&(a+=Bl(n)),a+=s;o=e[t],s=o+"",n=zn-s.length,n&&(a+=Bl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Xo=function(){function e(s,i){var a,o=0,l=s.length;for(s=s.slice();l--;)a=s[l]*i+o,s[l]=a%Fr|0,o=a/Fr|0;return o&&s.unshift(o),s}function t(s,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(s[l]!=i[l]){c=s[l]>i[l]?1:-1;break}return c}function n(s,i,a){for(var o=0;a--;)s[a]-=o,o=s[a]<i[a]?1:0,s[a]=o*Fr+s[a]-i[a];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,a,o){var l,c,u,d,f,m,g,x,v,y,N,j,b,_,C,A,P,E,M=s.constructor,$=s.s==i.s?1:-1,k=s.d,O=i.d;if(!s.s)return new M(s);if(!i.s)throw Error(Ji+"Division by zero");for(c=s.e-i.e,P=O.length,C=k.length,g=new M($),x=g.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--c,a==null?j=a=M.precision:o?j=a+(wr(s)-wr(i))+1:j=a,j<0)return new M(0);if(j=j/zn+2|0,u=0,P==1)for(d=0,O=O[0],j++;(u<C||d)&&j--;u++)b=d*Fr+(k[u]||0),x[u]=b/O|0,d=b%O|0;else{for(d=Fr/(O[0]+1)|0,d>1&&(O=e(O,d),k=e(k,d),P=O.length,C=k.length),_=P,v=k.slice(0,P),y=v.length;y<P;)v[y++]=0;E=O.slice(),E.unshift(0),A=O[0],O[1]>=Fr/2&&++A;do d=0,l=t(O,v,P,y),l<0?(N=v[0],P!=y&&(N=N*Fr+(v[1]||0)),d=N/A|0,d>1?(d>=Fr&&(d=Fr-1),f=e(O,d),m=f.length,y=v.length,l=t(f,v,m,y),l==1&&(d--,n(f,P<m?E:O,m))):(d==0&&(l=d=1),f=O.slice()),m=f.length,m<y&&f.unshift(0),n(v,f,y),l==-1&&(y=v.length,l=t(O,v,P,y),l<1&&(d++,n(v,P<y?E:O,y))),y=v.length):l===0&&(d++,v=[0]),x[u++]=d,l&&v[0]?v[y++]=k[_]||0:(v=[k[_]],y=1);while((_++<C||v[0]!==void 0)&&j--)}return x[0]||x.shift(),g.e=c,En(g,o?a+wr(g)+1:a)}}();function p7(e,t){var n,s,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(wr(e)>16)throw Error(jT+wr(e));if(!e.s)return new d(vi);for(t==null?(Kn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(cu(2,u))/Math.LN10*2+5|0,l+=s,n=i=a=new d(vi),d.precision=l;;){if(i=En(i.times(e),l),n=n.times(++c),o=a.plus(Xo(i,n,l)),so(o.d).slice(0,l)===so(a.d).slice(0,l)){for(;u--;)a=En(a.times(a),l);return d.precision=f,t==null?(Kn=!0,En(a,f)):a}a=o}}function wr(e){for(var t=e.e*zn,n=e.d[0];n>=10;n/=10)t++;return t}function $S(e,t,n){if(t>e.LN10.sd())throw Kn=!0,n&&(e.precision=n),Error(Ji+"LN10 precision limit exceeded");return En(new e(e.LN10),t)}function Bl(e){for(var t="";e--;)t+="0";return t}function Cg(e,t){var n,s,i,a,o,l,c,u,d,f=1,m=10,g=e,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(Ji+(g.s?"NaN":"-Infinity"));if(g.eq(vi))return new v(0);if(t==null?(Kn=!1,u=y):u=t,g.eq(10))return t==null&&(Kn=!0),$S(v,u);if(u+=m,v.precision=u,n=so(x),s=n.charAt(0),a=wr(g),Math.abs(a)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(e),n=so(g.d),s=n.charAt(0),f++;a=wr(g),s>1?(g=new v("0."+n),a++):g=new v(s+"."+n.slice(1))}else return c=$S(v,u+2,y).times(a+""),g=Cg(new v(s+"."+n.slice(1)),u-m).plus(c),v.precision=y,t==null?(Kn=!0,En(g,y)):g;for(l=o=g=Xo(g.minus(vi),g.plus(vi),u),d=En(g.times(g),u),i=3;;){if(o=En(o.times(d),u),c=l.plus(Xo(o,new v(i),u)),so(c.d).slice(0,u)===so(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus($S(v,u+2,y).times(a+""))),l=Xo(l,new v(f),u),v.precision=y,t==null?(Kn=!0,En(l,y)):l;l=c,i+=2}}function U$(e,t){var n,s,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(s,i),t){if(i-=s,n=n-s-1,e.e=um(n/zn),e.d=[],s=(n+1)%zn,n<0&&(s+=zn),s<i){for(s&&e.d.push(+t.slice(0,s)),i-=zn;s<i;)e.d.push(+t.slice(s,s+=zn));t=t.slice(s),s=zn-t.length}else s-=i;for(;s--;)t+="0";if(e.d.push(+t),Kn&&(e.e>oj||e.e<-oj))throw Error(jT+n)}else e.s=0,e.e=0,e.d=[0];return e}function En(e,t,n){var s,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(s=t-o,s<0)s+=zn,i=t,u=f[d=0];else{if(d=Math.ceil((s+1)/zn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;s%=zn,i=s-zn+o}if(n!==void 0&&(a=cu(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?i>0?u/cu(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=wr(e),f.length=1,t=t-a-1,f[0]=cu(10,(zn-t%zn)%zn),e.e=um(-t/zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=d,a=1,d--):(f.length=d+1,a=cu(10,zn-s),f[d]=i>0?(u/cu(10,o-i)%cu(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Fr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Fr)break;f[d--]=0,a=1}for(s=f.length;f[--s]===0;)f.pop();if(Kn&&(e.e>oj||e.e<-oj))throw Error(jT+wr(e));return e}function g7(e,t){var n,s,i,a,o,l,c,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Kn?En(t,g):t;if(c=e.d,f=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,s=u,l=c.length),i=Math.max(Math.ceil(g/zn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Fr-1;--c[a],c[i]+=Fr}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Kn?En(t,g):t):new m(0)}function Zu(e,t,n){var s,i=wr(e),a=so(e.d),o=a.length;return t?(n&&(s=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Bl(s):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Bl(-i-1)+a,n&&(s=n-o)>0&&(a+=Bl(s))):i>=o?(a+=Bl(i+1-o),n&&(s=n-i-1)>0&&(a=a+"."+Bl(s))):((s=i+1)<o&&(a=a.slice(0,s)+"."+a.slice(s)),n&&(s=n-o)>0&&(i+1===o&&(a+="."),a+=Bl(s))),e.s<0?"-"+a:a}function q$(e,t){if(e.length>t)return e.length=t,!0}function v7(e){var t,n,s;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Mu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return U$(o,a.toString())}else if(typeof a!="string")throw Error(Mu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,cTe.test(a))U$(o,a);else throw Error(Mu+a)}if(i.prototype=rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=v7,i.config=i.set=uTe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return i.config(e),i}function uTe(e){if(!e||typeof e!="object")throw Error(Ji+"Object expected");var t,n,s,i=["precision",1,cm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((s=e[n=i[t]])!==void 0)if(um(s)===s&&s>=i[t+1]&&s<=i[t+2])this[n]=s;else throw Error(Mu+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Mu+n+": "+s);return this}var bT=v7(lTe);vi=new bT(1);const Cn=bT;function dTe(e){return pTe(e)||mTe(e)||fTe(e)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fTe(e,t){if(e){if(typeof e=="string")return b_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(e,t)}}function mTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pTe(e){if(Array.isArray(e))return b_(e)}function b_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var gTe=function(t){return t},x7={"@@functional/placeholder":!0},y7=function(t){return t===x7},W$=function(t){return function n(){return arguments.length===0||arguments.length===1&&y7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},vTe=function e(t,n){return t===1?n:W$(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==x7}).length;return o>=t?n.apply(void 0,i):e(t-o,W$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return y7(f)?c.shift():f});return n.apply(void 0,dTe(d).concat(c))}))})},vw=function(t){return vTe(t.length,t)},w_=function(t,n){for(var s=[],i=t;i<n;++i)s[i-t]=i;return s},xTe=vw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),yTe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return gTe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},N_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},j7=function(t){var n=null,s=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,s=t.apply(void 0,a)),s}};function jTe(e){var t;return e===0?t=1:t=Math.floor(new Cn(e).abs().log(10).toNumber())+1,t}function bTe(e,t,n){for(var s=new Cn(e),i=0,a=[];s.lt(t)&&i<1e5;)a.push(s.toNumber()),s=s.add(n),i++;return a}var wTe=vw(function(e,t,n){var s=+e,i=+t;return s+n*(i-s)}),NTe=vw(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),STe=vw(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const xw={rangeStep:bTe,getDigitCount:jTe,interpolateNumber:wTe,uninterpolateNumber:NTe,uninterpolateTruncation:STe};function S_(e){return PTe(e)||_Te(e)||b7(e)||CTe()}function CTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Te(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function PTe(e){if(Array.isArray(e))return C_(e)}function _g(e,t){return TTe(e)||ETe(e,t)||b7(e,t)||ATe()}function ATe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7(e,t){if(e){if(typeof e=="string")return C_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(e,t)}}function C_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ETe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,a=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function TTe(e){if(Array.isArray(e))return e}function w7(e){var t=_g(e,2),n=t[0],s=t[1],i=n,a=s;return n>s&&(i=s,a=n),[i,a]}function N7(e,t,n){if(e.lte(0))return new Cn(0);var s=xw.getDigitCount(e.toNumber()),i=new Cn(10).pow(s),a=e.div(i),o=s!==1?.05:.1,l=new Cn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new Cn(Math.ceil(c))}function kTe(e,t,n){var s=1,i=new Cn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(s=new Cn(10).pow(xw.getDigitCount(e)-1),i=new Cn(Math.floor(i.div(s).toNumber())).mul(s)):a>1&&(i=new Cn(Math.floor(e)))}else e===0?i=new Cn(Math.floor((t-1)/2)):n||(i=new Cn(Math.floor(e)));var o=Math.floor((t-1)/2),l=yTe(xTe(function(c){return i.add(new Cn(c-o).mul(s)).toNumber()}),w_);return l(0,t)}function S7(e,t,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var a=N7(new Cn(t).sub(e).div(n-1),s,i),o;e<=0&&t>=0?o=new Cn(0):(o=new Cn(e).add(t).div(2),o=o.sub(new Cn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Cn(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?S7(e,t,n,s,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new Cn(l).mul(a)),tickMax:o.add(new Cn(c).mul(a))})}function OTe(e){var t=_g(e,2),n=t[0],s=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=w7([n,s]),c=_g(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(S_(w_(0,i-1).map(function(){return 1/0}))):[].concat(S_(w_(0,i-1).map(function(){return-1/0})),[d]);return n>s?N_(f):f}if(u===d)return kTe(u,i,a);var m=S7(u,d,o,a),g=m.step,x=m.tickMin,v=m.tickMax,y=xw.rangeStep(x,v.add(new Cn(.1).mul(g)),g);return n>s?N_(y):y}function DTe(e,t){var n=_g(e,2),s=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=w7([s,i]),l=_g(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,i];if(c===u)return[c];var d=Math.max(t,2),f=N7(new Cn(u).sub(c).div(d-1),a,0),m=[].concat(S_(xw.rangeStep(new Cn(c),new Cn(u).sub(new Cn(.99).mul(f)),f)),[u]);return s>i?N_(m):m}var MTe=j7(OTe),ITe=j7(DTe),$Te="Invariant failed";function ed(e,t){throw new Error($Te)}var RTe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lj.apply(this,arguments)}function LTe(e,t){return VTe(e)||zTe(e,t)||BTe(e,t)||FTe()}function FTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BTe(e,t){if(e){if(typeof e=="string")return H$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H$(e,t)}}function H$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function zTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function VTe(e){if(Array.isArray(e))return e}function UTe(e,t){if(e==null)return{};var n=qTe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function qTe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function WTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HTe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,P7(s.key),s)}}function GTe(e,t,n){return t&&HTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KTe(e,t,n){return t=cj(t),YTe(e,C7()?Reflect.construct(t,n||[],cj(e).constructor):t.apply(e,n))}function YTe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QTe(e)}function QTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C7=function(){return!!e})()}function cj(e){return cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cj(e)}function XTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},__(e,t)}function _7(e,t,n){return t=P7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P7(e){var t=JTe(e,"string");return vf(t)=="symbol"?t:t+""}function JTe(e,t){if(vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Av=function(e){function t(){return WTe(this,t),KTe(this,t,arguments)}return XTe(t,e),GTe(t,[{key:"render",value:function(){var s=this.props,i=s.offset,a=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,d=s.xAxis,f=s.yAxis,m=UTe(s,RTe),g=ct(m,!1);this.props.direction==="x"&&d.type!=="number"&&ed();var x=c.map(function(v){var y=u(v,l),N=y.x,j=y.y,b=y.value,_=y.errorVal;if(!_)return null;var C=[],A,P;if(Array.isArray(_)){var E=LTe(_,2);A=E[0],P=E[1]}else A=P=_;if(a==="vertical"){var M=d.scale,$=j+i,k=$+o,O=$-o,L=M(b-A),z=M(b+P);C.push({x1:z,y1:k,x2:z,y2:O}),C.push({x1:L,y1:$,x2:z,y2:$}),C.push({x1:L,y1:k,x2:L,y2:O})}else if(a==="horizontal"){var J=f.scale,H=N+i,oe=H-o,Q=H+o,D=J(b-A),ae=J(b+P);C.push({x1:oe,y1:ae,x2:Q,y2:ae}),C.push({x1:H,y1:D,x2:H,y2:ae}),C.push({x1:oe,y1:D,x2:Q,y2:D})}return U.createElement(Yt,lj({className:"recharts-errorBar",key:"bar-".concat(C.map(function(pe){return"".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))},g),C.map(function(pe){return U.createElement("line",lj({},pe,{key:"line-".concat(pe.x1,"-").concat(pe.x2,"-").concat(pe.y1,"-").concat(pe.y2)}))}))});return U.createElement(Yt,{className:"recharts-errorBars"},x)}}])}(U.Component);_7(Av,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_7(Av,"displayName","ErrorBar");function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function G$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(n),!0).forEach(function(s){ZTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ZTe(e,t,n){return t=eke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eke(e){var t=tke(e,"string");return Pg(t)=="symbol"?t:t+""}function tke(e,t){if(Pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A7=function(t){var n=t.children,s=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=mi(n,Oh);if(!o)return null;var l=Oh.defaultProps,c=l!==void 0?eu(eu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(s||[]).reduce(function(d,f){var m=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(s||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?eu(eu({},m),f.props):{},x=g.dataKey,v=g.name,y=g.legendType,N=g.hide;return{inactive:N,dataKey:x,type:c.iconType||y||"square",color:wT(f),value:v||x,payload:g}}),eu(eu(eu({},c),Oh.getWithHeight(o,i)),{},{payload:u,item:o})};function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function K$(e){return ike(e)||ske(e)||rke(e)||nke()}function nke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rke(e,t){if(e){if(typeof e=="string")return P_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(e,t)}}function ske(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ike(e){if(Array.isArray(e))return P_(e)}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y$(Object(n),!0).forEach(function(s){Mh(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Mh(e,t,n){return t=ake(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ake(e){var t=oke(e,"string");return Ag(t)=="symbol"?t:t+""}function oke(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ag(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,n){return At(e)||At(t)?n:Mr(t)?wi(e,t,n):yt(t)?t(e):n}function Op(e,t,n,s){var i=sTe(e,function(l){return gr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ve(l)||parseFloat(l)});return a.length?[gw(a),sc(a)]:[1/0,-1/0]}var o=s?i.filter(function(l){return!At(l)}):i;return o.map(function(l){return Mr(l)||l instanceof Date?l:""})}var lke=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Es(f-d)!==Es(m-f)){var x=[];if(Es(m-f)===Es(c[1]-c[0])){g=m;var v=f+c[1]-c[0];x[0]=Math.min(v,(v+d)/2),x[1]=Math.max(v,(v+d)/2)}else{g=d;var y=m+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var N=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>N[0]&&t<=N[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var j=Math.min(d,m),b=Math.max(d,m);if(t>(j+f)/2&&t<=(b+f)/2){o=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(s[_].coordinate+s[_+1].coordinate)/2||_>0&&_<l-1&&t>(s[_].coordinate+s[_-1].coordinate)/2&&t<=(s[_].coordinate+s[_+1].coordinate)/2||_===l-1&&t>(s[_].coordinate+s[_-1].coordinate)/2){o=s[_].index;break}return o},wT=function(t){var n,s=t,i=s.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},cke=function(t){var n=t.barSize,s=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var x=d[f[m]],v=x.items,y=x.cateAxisId,N=v.filter(function(P){return Qo(P.type).indexOf("Bar")>=0});if(N&&N.length){var j=N[0].type.defaultProps,b=j!==void 0?or(or({},j),N[0].props):N[0].props,_=b.barSize,C=b[y];o[C]||(o[C]=[]);var A=At(_)?n:_;o[C].push({item:N[0],stackList:N.slice(1),barSize:At(A)?void 0:Ts(A,s,0)})}}return o},uke=function(t){var n=t.barGap,s=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ts(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,x=o.reduce(function(_,C){return _+C.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&g>0&&(m=!0,g*=.9,x=c*g);var v=(i-x)/2>>0,y={offset:v-u,size:0};d=o.reduce(function(_,C){var A={item:C.item,position:{offset:y.offset+y.size+u,size:m?g:C.barSize}},P=[].concat(K$(_),[A]);return y=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){P.push({item:E,position:y})}),P},f)}else{var N=Ts(s,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var j=(i-2*N-(c-1)*u)/c;j>1&&(j>>=0);var b=l===+l?Math.min(j,l):j;d=o.reduce(function(_,C,A){var P=[].concat(K$(_),[{item:C.item,position:{offset:N+(j+u)*A+(j-b)/2,size:b}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){P.push({item:E,position:P[P.length-1].position})}),P},f)}return d},dke=function(t,n,s,i){var a=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=A7({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&Ve(t[g]))return or(or({},t),{},Mh({},g,t[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&Ve(t[x]))return or(or({},t),{},Mh({},x,t[x]+(m||0)))}return t},hke=function(t,n,s){return At(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},E7=function(t,n,s,i,a){var o=n.props.children,l=Ni(o,Av).filter(function(u){return hke(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=gr(d,s);if(At(f))return u;var m=Array.isArray(f)?[gw(f),sc(f)]:[f,f],g=c.reduce(function(x,v){var y=gr(d,v,0),N=m[0]-Math.abs(Array.isArray(y)?y[0]:y),j=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,x[0]),Math.max(j,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},fke=function(t,n,s,i,a){var o=n.map(function(l){return E7(t,l,s,a,i)}).filter(function(l){return!At(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},T7=function(t,n,s,i,a){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&E7(t,c,u,i)||Op(t,u,s,a)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},k7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},O7=function(t,n,s,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===s&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(s),l},Ko=function(t,n,s){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||s)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Es(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!rm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!s?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:a?a[f]:f,index:m,offset:u}})},RS=new WeakMap,jy=function(t,n){if(typeof n!="function")return t;RS.has(t)||RS.set(t,new WeakMap);var s=RS.get(t);if(s.has(n))return s.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,i),i},D7=function(t,n,s){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:jg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:rj(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:kp(),realScaleType:"point"}:a==="category"?{scale:jg(),realScaleType:"band"}:{scale:rj(),realScaleType:"linear"};if(Yu(i)){var c="scale".concat(nw(i));return{scale:(V$[c]||kp)(),realScaleType:V$[c]?c:"point"}}return yt(i)?{scale:i}:{scale:kp(),realScaleType:"point"}},Q$=1e-4,M7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,i=t.range(),a=Math.min(i[0],i[1])-Q$,o=Math.max(i[0],i[1])+Q$,l=t(n[0]),c=t(n[s-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[s-1]])}},mke=function(t,n){if(!t)return null;for(var s=0,i=t.length;s<i;s++)if(t[s].item===n)return t[s].position;return null},pke=function(t,n){if(!n||n.length!==2||!Ve(n[0])||!Ve(n[1]))return t;var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ve(t[0])||t[0]<s)&&(a[0]=s),(!Ve(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<s&&(a[1]=s),a},gke=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0,l=0;l<n;++l){var c=rm(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=a,t[l][s][1]=a+c,a=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},vke=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0;o<n;++o){var l=rm(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=a,t[o][s][1]=a+l,a=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},xke={sign:gke,expand:R0e,none:cf,silhouette:L0e,wiggle:F0e,positive:vke},yke=function(t,n,s){var i=n.map(function(l){return l.props.dataKey}),a=xke[s],o=$0e().keys(i).value(function(l,c){return+gr(l,c,0)}).order(J2).offset(a);return o(t)},jke=function(t,n,s,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?or(or({},m.type.defaultProps),m.props):m.props,v=x.stackId,y=x.hide;if(y)return f;var N=x[s],j=f[N]||{hasStack:!1,stackGroups:{}};if(Mr(v)){var b=j.stackGroups[v]||{numericAxisId:s,cateAxisId:i,items:[]};b.items.push(m),j.hasStack=!0,j.stackGroups[v]=b}else j.stackGroups[md("_stackId_")]={numericAxisId:s,cateAxisId:i,items:[m]};return or(or({},f),{},Mh({},N,j))},c),d={};return Object.keys(u).reduce(function(f,m){var g=u[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var N=g.stackGroups[y];return or(or({},v),{},Mh({},y,{numericAxisId:s,cateAxisId:i,items:N.items,stackedData:yke(t,N.items,a)}))},x)}return or(or({},f),{},Mh({},m,g))},d)},I7=function(t,n){var s=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=MTe(u,a,l);return t.domain([gw(d),sc(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),m=ITe(f,a,l);return{niceTicks:m}}return null};function uj(e){var t=e.axis,n=e.ticks,s=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(i[t.dataKey])){var l=$0(n,"value",i[t.dataKey]);if(l)return l.coordinate+s/2}return n[a]?n[a].coordinate+s/2:null}var c=gr(i,At(o)?t.dataKey:o);return At(c)?null:t.scale(c)}var X$=function(t){var n=t.axis,s=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+i:null;var c=gr(o,n.dataKey,n.domain[l]);return At(c)?null:n.scale(c)-a/2+i},bke=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var i=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]);return i<=0&&a>=0?0:a<0?a:i}return s[0]},wke=function(t,n){var s,i=(s=t.type)!==null&&s!==void 0&&s.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Mr(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Nke=function(t){return t.reduce(function(n,s){return[gw(s.concat([n[0]]).filter(Ve)),sc(s.concat([n[1]]).filter(Ve))]},[1/0,-1/0])},$7=function(t,n,s){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=Nke(d.slice(n,s+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},J$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A_=function(t,n,s){if(yt(t))return t(n,s);if(!Array.isArray(t))return n;var i=[];if(Ve(t[0]))i[0]=s?t[0]:Math.min(t[0],n[0]);else if(J$.test(t[0])){var a=+J$.exec(t[0])[1];i[0]=n[0]-a}else yt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ve(t[1]))i[1]=s?t[1]:Math.max(t[1],n[1]);else if(Z$.test(t[1])){var o=+Z$.exec(t[1])[1];i[1]=n[1]+o}else yt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},dj=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!s||i>0)return i}if(t&&n&&n.length>=2){for(var a=QE(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},eR=function(t,n,s){return!t||!t.length||Ju(t,wi(s,"type.defaultProps.domain"))?n:t},R7=function(t,n){var s=t.type.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,i=s.dataKey,a=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,d=s.hide;return or(or({},ct(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:wT(t),value:gr(n,i),type:c,payload:n,chartType:u,hide:d})};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(s){L7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function L7(e,t,n){return t=Ske(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ske(e){var t=Cke(e,"string");return Eg(t)=="symbol"?t:t+""}function Cke(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Eg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ke(e,t){return Tke(e)||Eke(e,t)||Ake(e,t)||Pke()}function Pke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ake(e,t){if(e){if(typeof e=="string")return nR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nR(e,t)}}function nR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Eke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Tke(e){if(Array.isArray(e))return e}var hj=Math.PI/180,kke=function(t){return t*180/Math.PI},In=function(t,n,s,i){return{x:t+Math.cos(-hj*i)*s,y:n+Math.sin(-hj*i)*s}},F7=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},Oke=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ts(t.cx,o,o/2),f=Ts(t.cy,l,l/2),m=F7(o,l,s),g=Ts(t.innerRadius,m,0),x=Ts(t.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(y,N){var j=n[N],b=j.domain,_=j.reversed,C;if(At(j.range))i==="angleAxis"?C=[c,u]:i==="radiusAxis"&&(C=[g,x]),_&&(C=[C[1],C[0]]);else{C=j.range;var A=C,P=_ke(A,2);c=P[0],u=P[1]}var E=D7(j,a),M=E.realScaleType,$=E.scale;$.domain(b).range(C),M7($);var k=I7($,Lo(Lo({},j),{},{realScaleType:M})),O=Lo(Lo(Lo({},j),k),{},{range:C,radius:x,realScaleType:M,scale:$,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return Lo(Lo({},y),{},L7({},N,O))},{})},Dke=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-o,2))},Mke=function(t,n){var s=t.x,i=t.y,a=n.cx,o=n.cy,l=Dke({x:s,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(s-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:kke(u),angleInRadian:u}},Ike=function(t){var n=t.startAngle,s=t.endAngle,i=Math.floor(n/360),a=Math.floor(s/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:s-o*360}},$ke=function(t,n){var s=n.startAngle,i=n.endAngle,a=Math.floor(s/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},rR=function(t,n){var s=t.x,i=t.y,a=Mke({x:s,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Ike(n),f=d.startAngle,m=d.endAngle,g=l,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?Lo(Lo({},n),{},{radius:o,angle:$ke(g,n)}):null},B7=function(t){return!w.isValidElement(t)&&!yt(t)&&typeof t!="boolean"?t.className:""};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}var Rke=["offset"];function Lke(e){return Vke(e)||zke(e)||Bke(e)||Fke()}function Fke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bke(e,t){if(e){if(typeof e=="string")return E_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(e,t)}}function zke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vke(e){if(Array.isArray(e))return E_(e)}function E_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Uke(e,t){if(e==null)return{};var n=qke(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function qke(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function sR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(n),!0).forEach(function(s){Wke(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Wke(e,t,n){return t=Hke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hke(e){var t=Gke(e,"string");return Tg(t)=="symbol"?t:t+""}function Gke(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kg.apply(this,arguments)}var Kke=function(t){var n=t.value,s=t.formatter,i=At(t.children)?n:t.children;return yt(s)?s(i):i},Yke=function(t,n){var s=Es(n-t),i=Math.min(Math.abs(n-t),360);return s*i},Qke=function(t,n,s){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(f+m)/2,N=Yke(g,x),j=N>=0?1:-1,b,_;i==="insideStart"?(b=g+j*o,_=v):i==="insideEnd"?(b=x-j*o,_=!v):i==="end"&&(b=x+j*o,_=v),_=N<=0?_:!_;var C=In(u,d,y,b),A=In(u,d,y,b+(_?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),E=At(t.id)?md("recharts-radial-line-"):t.id;return U.createElement("text",kg({},s,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:E,d:P})),U.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Xke=function(t){var n=t.viewBox,s=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(i==="outside"){var g=In(o,l,u+s,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=In(o,l,y,m),j=N.x,b=N.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Jke=function(t){var n=t.viewBox,s=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,g=f>0?"end":"start",x=f>0?"start":"end",v=u>=0?1:-1,y=v*i,N=v>0?"end":"start",j=v>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Pr(Pr({},b),s?{height:Math.max(c-s.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:x};return Pr(Pr({},_),s?{height:Math.max(s.y+s.height-(c+d),0),width:u}:{})}if(a==="left"){var C={x:l-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},C),s?{width:Math.max(C.x-s.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Pr(Pr({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:d}:{})}var P=s?{width:u,height:d}:{};return a==="insideLeft"?Pr({x:l+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},P):a==="insideRight"?Pr({x:l+u-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideTop"?Pr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?Pr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:g},P):a==="insideTopLeft"?Pr({x:l+y,y:c+m,textAnchor:j,verticalAnchor:x},P):a==="insideTopRight"?Pr({x:l+u-y,y:c+m,textAnchor:N,verticalAnchor:x},P):a==="insideBottomLeft"?Pr({x:l+y,y:c+d-m,textAnchor:j,verticalAnchor:g},P):a==="insideBottomRight"?Pr({x:l+u-y,y:c+d-m,textAnchor:N,verticalAnchor:g},P):Zf(a)&&(Ve(a.x)||vu(a.x))&&(Ve(a.y)||vu(a.y))?Pr({x:l+Ts(a.x,u),y:c+Ts(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):Pr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Zke=function(t){return"cx"in t&&Ve(t.cx)};function Ur(e){var t=e.offset,n=t===void 0?5:t,s=Uke(e,Rke),i=Pr({offset:n},s),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!a||At(l)&&At(c)&&!w.isValidElement(u)&&!yt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var g;if(yt(u)){if(g=w.createElement(u,i),w.isValidElement(g))return g}else g=Kke(i);var x=Zke(a),v=ct(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Qke(i,g,v);var y=x?Xke(i):Jke(i);return U.createElement(Xu,kg({className:Et("recharts-label",f)},v,y,{breakAll:m}),g)}Ur.displayName="Label";var z7=function(t){var n=t.cx,s=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,g=t.top,x=t.left,v=t.width,y=t.height,N=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ve(v)&&Ve(y)){if(Ve(f)&&Ve(m))return{x:f,y:m,width:v,height:y};if(Ve(g)&&Ve(x))return{x:g,y:x,width:v,height:y}}return Ve(f)&&Ve(m)?{x:f,y:m,width:0,height:0}:Ve(n)&&Ve(s)?{cx:n,cy:s,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},eOe=function(t,n){return t?t===!0?U.createElement(Ur,{key:"label-implicit",viewBox:n}):Mr(t)?U.createElement(Ur,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===Ur?w.cloneElement(t,{key:"label-implicit",viewBox:n}):U.createElement(Ur,{key:"label-implicit",content:t,viewBox:n}):yt(t)?U.createElement(Ur,{key:"label-implicit",content:t,viewBox:n}):Zf(t)?U.createElement(Ur,kg({viewBox:n},t,{key:"label-implicit"})):null:null},tOe=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var i=t.children,a=z7(t),o=Ni(i,Ur).map(function(c,u){return w.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!s)return o;var l=eOe(t.label,n||a);return[l].concat(Lke(o))};Ur.parseViewBox=z7;Ur.renderCallByParent=tOe;function nOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var rOe=nOe;const sOe=pn(rOe);function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var iOe=["valueAccessor"],aOe=["data","dataKey","clockWise","id","textBreakAll"];function oOe(e){return dOe(e)||uOe(e)||cOe(e)||lOe()}function lOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cOe(e,t){if(e){if(typeof e=="string")return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(e,t)}}function uOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dOe(e){if(Array.isArray(e))return T_(e)}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fj.apply(this,arguments)}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function aR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(s){hOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hOe(e,t,n){return t=fOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fOe(e){var t=mOe(e,"string");return Og(t)=="symbol"?t:t+""}function mOe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oR(e,t){if(e==null)return{};var n=pOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function pOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var gOe=function(t){return Array.isArray(t.value)?sOe(t.value):t.value};function fo(e){var t=e.valueAccessor,n=t===void 0?gOe:t,s=oR(e,iOe),i=s.data,a=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=oR(s,aOe);return!i||!i.length?null:U.createElement(Yt,{className:"recharts-label-list"},i.map(function(d,f){var m=At(a)?n(d,f):gr(d&&d.payload,a),g=At(l)?{}:{id:"".concat(l,"-").concat(f)};return U.createElement(Ur,fj({},ct(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ur.parseViewBox(At(o)?d:aR(aR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}fo.displayName="LabelList";function vOe(e,t){return e?e===!0?U.createElement(fo,{key:"labelList-implicit",data:t}):U.isValidElement(e)||yt(e)?U.createElement(fo,{key:"labelList-implicit",data:t,content:e}):Zf(e)?U.createElement(fo,fj({data:t},e,{key:"labelList-implicit"})):null:null}function xOe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=Ni(s,fo).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=vOe(e.label,t);return[a].concat(oOe(i))}fo.renderCallByParent=xOe;function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k_.apply(this,arguments)}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function cR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(s){yOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function yOe(e,t,n){return t=jOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jOe(e){var t=bOe(e,"string");return Dg(t)=="symbol"?t:t+""}function bOe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wOe=function(t,n){var s=Es(n-t),i=Math.min(Math.abs(n-t),359.999);return s*i},by=function(t){var n=t.cx,s=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/hj,m=u?a:a+o*f,g=In(n,s,d,m),x=In(n,s,i,m),v=u?a-o*f:a,y=In(n,s,d*Math.cos(f*hj),v);return{center:g,circleTangency:x,lineTangency:y,theta:f}},V7=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=wOe(o,l),u=o+c,d=In(n,s,a,o),f=In(n,s,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=In(n,s,i,o),x=In(n,s,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(s," Z");return m},NOe=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Es(d-u),m=by({cx:n,cy:s,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,v=m.theta,y=by({cx:n,cy:s,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,j=y.lineTangency,b=y.theta,_=c?Math.abs(u-d):Math.abs(u-d)-v-b;if(_<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):V7({cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var A=by({cx:n,cy:s,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=A.circleTangency,E=A.lineTangency,M=A.theta,$=by({cx:n,cy:s,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=$.circleTangency,O=$.lineTangency,L=$.theta,z=c?Math.abs(u-d):Math.abs(u-d)-M-L;if(z<0&&o===0)return"".concat(C,"L").concat(n,",").concat(s,"Z");C+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(n,",").concat(s,"Z");return C},SOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U7=function(t){var n=cR(cR({},SOe),t),s=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<a||d===f)return null;var g=Et("recharts-sector",m),x=o-a,v=Ts(l,x,0,!0),y;return v>0&&Math.abs(d-f)<360?y=NOe({cx:s,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=V7({cx:s,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),U.createElement("path",k_({},ct(n,!0),{className:g,d:y,role:"img"}))};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},O_.apply(this,arguments)}function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function dR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(s){COe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function COe(e,t,n){return t=_Oe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Oe(e){var t=POe(e,"string");return Mg(t)=="symbol"?t:t+""}function POe(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hR={curveBasisClosed:C0e,curveBasisOpen:_0e,curveBasis:S0e,curveBumpX:u0e,curveBumpY:d0e,curveLinearClosed:P0e,curveLinear:sw,curveMonotoneX:A0e,curveMonotoneY:E0e,curveNatural:T0e,curveStep:k0e,curveStepAfter:D0e,curveStepBefore:O0e},wy=function(t){return t.x===+t.x&&t.y===+t.y},tp=function(t){return t.x},np=function(t){return t.y},AOe=function(t,n){if(yt(t))return t;var s="curve".concat(nw(t));return(s==="curveMonotone"||s==="curveBump")&&n?hR["".concat(s).concat(n==="vertical"?"Y":"X")]:hR[s]||sw},EOe=function(t){var n=t.type,s=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=AOe(s,l),f=u?a.filter(function(v){return wy(v)}):a,m;if(Array.isArray(o)){var g=u?o.filter(function(v){return wy(v)}):o,x=f.map(function(v,y){return dR(dR({},v),{},{base:g[y]})});return l==="vertical"?m=hy().y(np).x1(tp).x0(function(v){return v.base.x}):m=hy().x(tp).y1(np).y0(function(v){return v.base.y}),m.defined(wy).curve(d),m(x)}return l==="vertical"&&Ve(o)?m=hy().y(np).x1(tp).x0(o):Ve(o)?m=hy().x(tp).y1(np).y0(o):m=RU().x(tp).y(np),m.defined(wy).curve(d),m(f)},Iu=function(t){var n=t.className,s=t.points,i=t.path,a=t.pathRef;if((!s||!s.length)&&!i)return null;var o=s&&s.length?EOe(t):i;return w.createElement("path",O_({},ct(t,!1),R0(t),{className:Et("recharts-curve",n),d:o,ref:a}))},q7={exports:{}},TOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kOe=TOe,OOe=kOe;function W7(){}function H7(){}H7.resetWarningCache=W7;var DOe=function(){function e(s,i,a,o,l,c){if(c!==OOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H7,resetWarningCache:W7};return n.PropTypes=n,n};q7.exports=DOe();var MOe=q7.exports;const fn=pn(MOe);var IOe=Object.getOwnPropertyNames,$Oe=Object.getOwnPropertySymbols,ROe=Object.prototype.hasOwnProperty;function fR(e,t){return function(s,i,a){return e(s,i,a)&&t(s,i,a)}}function Ny(e){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,i);var a=i.cache,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);var c=e(n,s,i);return a.delete(n),a.delete(s),c}}function mR(e){return IOe(e).concat($Oe(e))}var LOe=Object.hasOwn||function(e,t){return ROe.call(e,t)};function vd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var FOe="__v",BOe="__o",zOe="_owner",pR=Object.getOwnPropertyDescriptor,gR=Object.keys;function VOe(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function UOe(e,t){return vd(e.getTime(),t.getTime())}function qOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function WOe(e,t){return e===t}function vR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,g=l.value;if(n.equals(m[0],g[0],c,f,e,t,n)&&n.equals(m[1],g[1],m[0],g[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var HOe=vd;function GOe(e,t,n){var s=gR(e),i=s.length;if(gR(t).length!==i)return!1;for(;i-- >0;)if(!G7(e,t,n,s[i]))return!1;return!0}function rp(e,t,n){var s=mR(e),i=s.length;if(mR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=s[i],!G7(e,t,n,a)||(o=pR(e,a),l=pR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function KOe(e,t){return vd(e.valueOf(),t.valueOf())}function YOe(e,t){return e.source===t.source&&e.flags===t.flags}function xR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function QOe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function XOe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function G7(e,t,n,s){return(s===zOe||s===BOe||s===FOe)&&(e.$$typeof||t.$$typeof)?!0:LOe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var JOe="[object Arguments]",ZOe="[object Boolean]",eDe="[object Date]",tDe="[object Error]",nDe="[object Map]",rDe="[object Number]",sDe="[object Object]",iDe="[object RegExp]",aDe="[object Set]",oDe="[object String]",lDe="[object URL]",cDe=Array.isArray,yR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jR=Object.assign,uDe=Object.prototype.toString.call.bind(Object.prototype.toString);function dDe(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var N=typeof x;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?o(x,v,y):N==="function"?i(x,v,y):!1;var j=x.constructor;if(j!==v.constructor)return!1;if(j===Object)return l(x,v,y);if(cDe(x))return t(x,v,y);if(yR!=null&&yR(x))return f(x,v,y);if(j===Date)return n(x,v,y);if(j===RegExp)return u(x,v,y);if(j===Map)return a(x,v,y);if(j===Set)return d(x,v,y);var b=uDe(x);return b===eDe?n(x,v,y):b===iDe?u(x,v,y):b===nDe?a(x,v,y):b===aDe?d(x,v,y):b===sDe?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):b===lDe?m(x,v,y):b===tDe?s(x,v,y):b===JOe?l(x,v,y):b===ZOe||b===rDe||b===oDe?c(x,v,y):!1}}function hDe(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,i={areArraysEqual:s?rp:VOe,areDatesEqual:UOe,areErrorsEqual:qOe,areFunctionsEqual:WOe,areMapsEqual:s?fR(vR,rp):vR,areNumbersEqual:HOe,areObjectsEqual:s?rp:GOe,arePrimitiveWrappersEqual:KOe,areRegExpsEqual:YOe,areSetsEqual:s?fR(xR,rp):xR,areTypedArraysEqual:s?rp:QOe,areUrlsEqual:XOe};if(n&&(i=jR({},i,n(i))),t){var a=Ny(i.areArraysEqual),o=Ny(i.areMapsEqual),l=Ny(i.areObjectsEqual),c=Ny(i.areSetsEqual);i=jR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function fDe(e){return function(t,n,s,i,a,o,l){return e(t,n,l)}}function mDe(e){var t=e.circular,n=e.comparator,s=e.createState,i=e.equals,a=e.strict;if(s)return function(c,u){var d=s(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return n(c,u,{cache:m,equals:i,meta:g,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var pDe=Vc();Vc({strict:!0});Vc({circular:!0});Vc({circular:!0,strict:!0});Vc({createInternalComparator:function(){return vd}});Vc({strict:!0,createInternalComparator:function(){return vd}});Vc({circular:!0,createInternalComparator:function(){return vd}});Vc({circular:!0,createInternalComparator:function(){return vd},strict:!0});function Vc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=hDe(e),c=dDe(l),u=s?s(c):fDe(c);return mDe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function gDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function bR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):gDe(i)};requestAnimationFrame(s)}function D_(e){"@babel/helpers - typeof";return D_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D_(e)}function vDe(e){return bDe(e)||jDe(e)||yDe(e)||xDe()}function xDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yDe(e,t){if(e){if(typeof e=="string")return wR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wR(e,t)}}function wR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function jDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bDe(e){if(Array.isArray(e))return e}function wDe(){var e={},t=function(){return null},n=!1,s=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=vDe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){bR(i.bind(null,u),c);return}i(c),bR(i.bind(null,u));return}D_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,s(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function NR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function SR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(n),!0).forEach(function(s){K7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function K7(e,t,n){return t=NDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NDe(e){var t=SDe(e,"string");return Ig(t)==="symbol"?t:String(t)}function SDe(e,t){if(Ig(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ig(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CDe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,i){return s.filter(function(a){return i.includes(a)})})},_De=function(t){return t},PDe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Dp=function(t,n){return Object.keys(n).reduce(function(s,i){return SR(SR({},s),{},K7({},i,t(i,n[i])))},{})},CR=function(t,n,s){return t.map(function(i){return"".concat(PDe(i)," ").concat(n,"ms ").concat(s)}).join(",")};function ADe(e,t){return kDe(e)||TDe(e,t)||Y7(e,t)||EDe()}function EDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kDe(e){if(Array.isArray(e))return e}function ODe(e){return IDe(e)||MDe(e)||Y7(e)||DDe()}function DDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(e,t){if(e){if(typeof e=="string")return M_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(e,t)}}function MDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IDe(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var mj=1e-4,Q7=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},X7=function(t,n){return t.map(function(s,i){return s*Math.pow(n,i)}).reduce(function(s,i){return s+i})},_R=function(t,n){return function(s){var i=Q7(t,n);return X7(i,s)}},$De=function(t,n){return function(s){var i=Q7(t,n),a=[].concat(ODe(i.map(function(o,l){return o*l}).slice(1)),[0]);return X7(a,s)}},PR=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=ADe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=_R(i,o),m=_R(a,l),g=$De(i,o),x=function(N){return N>1?1:N<0?0:N},v=function(N){for(var j=N>1?1:N,b=j,_=0;_<8;++_){var C=f(b)-j,A=g(b);if(Math.abs(C-j)<mj||A<mj)return m(b);b=x(b-C/A)}return m(b)};return v.isStepper=!1,v},RDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var g=-(d-f)*s,x=m*a,v=m+(g-x)*l/1e3,y=m*l/1e3+d;return Math.abs(y-f)<mj&&Math.abs(v)<mj?[f,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},LDe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PR(i);case"spring":return RDe();default:if(i.split("(")[0]==="cubic-bezier")return PR(i)}return typeof i=="function"?i:null};function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function AR(e){return zDe(e)||BDe(e)||J7(e)||FDe()}function FDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zDe(e){if(Array.isArray(e))return $_(e)}function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(s){I_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function I_(e,t,n){return t=VDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VDe(e){var t=UDe(e,"string");return $g(t)==="symbol"?t:String(t)}function UDe(e,t){if($g(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($g(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qDe(e,t){return GDe(e)||HDe(e,t)||J7(e,t)||WDe()}function WDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J7(e,t){if(e){if(typeof e=="string")return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function HDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function GDe(e){if(Array.isArray(e))return e}var pj=function(t,n,s){return t+(n-t)*s},R_=function(t){var n=t.from,s=t.to;return n!==s},KDe=function e(t,n,s){var i=Dp(function(a,o){if(R_(o)){var l=t(o.from,o.to,o.velocity),c=qDe(l,2),u=c[0],d=c[1];return Zr(Zr({},o),{},{from:u,velocity:d})}return o},n);return s<1?Dp(function(a,o){return R_(o)?Zr(Zr({},o),{},{velocity:pj(o.velocity,i[a].velocity,s),from:pj(o.from,i[a].from,s)}):o},n):e(t,i,s-1)};const YDe=function(e,t,n,s,i){var a=CDe(e,t),o=a.reduce(function(y,N){return Zr(Zr({},y),{},I_({},N,[e[N],t[N]]))},{}),l=a.reduce(function(y,N){return Zr(Zr({},y),{},I_({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Dp(function(N,j){return j.from},l)},g=function(){return!Object.values(l).filter(R_).length},x=function(N){u||(u=N);var j=N-u,b=j/n.dt;l=KDe(n,l,b),i(Zr(Zr(Zr({},e),t),m())),u=N,g()||(c=requestAnimationFrame(f))},v=function(N){d||(d=N);var j=(N-d)/s,b=Dp(function(C,A){return pj.apply(void 0,AR(A).concat([n(j)]))},o);if(i(Zr(Zr(Zr({},e),t),b)),j<1)c=requestAnimationFrame(f);else{var _=Dp(function(C,A){return pj.apply(void 0,AR(A).concat([n(1)]))},o);i(Zr(Zr(Zr({},e),t),_))}};return f=n.isStepper?x:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}var QDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XDe(e,t){if(e==null)return{};var n=JDe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function JDe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function LS(e){return nMe(e)||tMe(e)||eMe(e)||ZDe()}function ZDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eMe(e,t){if(e){if(typeof e=="string")return L_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(e,t)}}function tMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nMe(e){if(Array.isArray(e))return L_(e)}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(s){pp(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function pp(e,t,n){return t=Z7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sMe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Z7(s.key),s)}}function iMe(e,t,n){return t&&sMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z7(e){var t=aMe(e,"string");return xf(t)==="symbol"?t:String(t)}function aMe(e,t){if(xf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(xf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F_(e,t)}function F_(e,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},F_(e,t)}function lMe(e){var t=cMe();return function(){var s=gj(e),i;if(t){var a=gj(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return B_(this,i)}}function B_(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_(e)}function z_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gj(e){return gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gj(e)}var Ia=function(e){oMe(n,e);var t=lMe(n);function n(s,i){var a;rMe(this,n),a=t.call(this,s,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(z_(a)),a.changeStyle=a.changeStyle.bind(z_(a)),!l||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),B_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},B_(a);a.state={style:c?pp({},c,u):u}}else a.state={style:{}};return a}return iMe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var g={style:c?pp({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(g);return}if(!(pDe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?f:i.to;if(this.state&&m){var y={style:c?pp({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(y)}this.runAnimation(ha(ha({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,g=YDe(o,l,LDe(u),c,this.changeStyle),x=function(){a.stopJSAnimation=g()};this.manager.start([m,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,g=function(v,y,N){if(N===0)return v;var j=y.duration,b=y.easing,_=b===void 0?"ease":b,C=y.style,A=y.properties,P=y.onAnimationEnd,E=N>0?o[N-1]:y,M=A||Object.keys(C);if(typeof _=="function"||_==="spring")return[].concat(LS(v),[a.runJSAnimation.bind(a,{from:E.style,to:C,duration:j,easing:_}),j]);var $=CR(M,j,_),k=ha(ha(ha({},E.style),C),{},{transition:$});return[].concat(LS(v),[k,j,P]).filter(_De)};return this.manager.start([c].concat(LS(o.reduce(g,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wDe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?pp({},l,c):c,y=CR(Object.keys(v),o,u);x.start([d,a,ha(ha({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=XDe(i,QDe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,N=x.className,j=w.cloneElement(g,ha(ha({},c),{},{style:ha(ha({},y),d),className:N}));return j};return u===1?f(w.Children.only(a)):U.createElement("div",null,w.Children.map(a,function(m){return f(m)}))}}]),n}(w.PureComponent);Ia.displayName="Animate";Ia.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ia.propTypes={from:fn.oneOfType([fn.object,fn.string]),to:fn.oneOfType([fn.object,fn.string]),attributeName:fn.string,duration:fn.number,begin:fn.number,easing:fn.oneOfType([fn.string,fn.func]),steps:fn.arrayOf(fn.shape({duration:fn.number.isRequired,style:fn.object.isRequired,easing:fn.oneOfType([fn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fn.func]),properties:fn.arrayOf("string"),onAnimationEnd:fn.func})),children:fn.oneOfType([fn.node,fn.func]),isActive:fn.bool,canBegin:fn.bool,onAnimationEnd:fn.func,shouldReAnimate:fn.bool,onAnimationStart:fn.func,onAnimationReStart:fn.func};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vj.apply(this,arguments)}function uMe(e,t){return mMe(e)||fMe(e,t)||hMe(e,t)||dMe()}function dMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hMe(e,t){if(e){if(typeof e=="string")return kR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kR(e,t)}}function kR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function fMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function mMe(e){if(Array.isArray(e))return e}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function DR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(s){pMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function pMe(e,t,n){return t=gMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gMe(e){var t=vMe(e,"string");return Rg(t)=="symbol"?t:t+""}function vMe(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MR=function(t,n,s,i,a){var o=Math.min(Math.abs(s)/2,Math.abs(i)/2),l=i>=0?1:-1,c=s>=0?1:-1,u=i>=0&&s>=0||i<0&&s<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=a[m]>o?o:a[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+s-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*f[1])),d+="L ".concat(t+s,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+s-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s-c*x,",").concat(n+i,`
            L `).concat(t+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*x," Z")}else d="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(i," h ").concat(-s," Z");return d},xMe=function(t,n){if(!t||!n)return!1;var s=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=u&&s<=d&&i>=f&&i<=m}return!1},yMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NT=function(t){var n=DR(DR({},yMe),t),s=w.useRef(),i=w.useState(-1),a=uMe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var _=s.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Et("recharts-rectangle",g);return j?U.createElement(Ia,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:x,isActive:j},function(_){var C=_.width,A=_.height,P=_.x,E=_.y;return U.createElement(Ia,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:N,easing:x},U.createElement("path",vj({},ct(n,!0),{className:b,d:MR(P,E,C,A,m),ref:s})))}):U.createElement("path",vj({},ct(n,!0),{className:b,d:MR(c,u,d,f,m)}))},jMe=["points","className","baseLinePoints","connectNulls"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ph.apply(this,arguments)}function bMe(e,t){if(e==null)return{};var n=wMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function wMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function IR(e){return _Me(e)||CMe(e)||SMe(e)||NMe()}function NMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SMe(e,t){if(e){if(typeof e=="string")return V_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(e,t)}}function CMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Me(e){if(Array.isArray(e))return V_(e)}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var $R=function(t){return t&&t.x===+t.x&&t.y===+t.y},PMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){$R(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),$R(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Mp=function(t,n){var s=PMe(t);n&&(s=[s.reduce(function(a,o){return[].concat(IR(a),IR(o))},[])]);var i=s.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(i,"Z"):i},AMe=function(t,n,s){var i=Mp(t,s);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Mp(n.reverse(),s).slice(1))},EMe=function(t){var n=t.points,s=t.className,i=t.baseLinePoints,a=t.connectNulls,o=bMe(t,jMe);if(!n||!n.length)return null;var l=Et("recharts-polygon",s);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=AMe(n,i,a);return U.createElement("g",{className:l},U.createElement("path",ph({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?U.createElement("path",ph({},ct(o,!0),{fill:"none",d:Mp(n,a)})):null,c?U.createElement("path",ph({},ct(o,!0),{fill:"none",d:Mp(i,a)})):null)}var d=Mp(n,a);return U.createElement("path",ph({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},U_.apply(this,arguments)}var Ev=function(t){var n=t.cx,s=t.cy,i=t.r,a=t.className,o=Et("recharts-dot",a);return n===+n&&s===+s&&i===+i?w.createElement("circle",U_({},ct(t,!1),R0(t),{className:o,cx:n,cy:s,r:i})):null};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}var TMe=["x","y","top","left","width","height","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},q_.apply(this,arguments)}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function kMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(s){OMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function OMe(e,t,n){return t=DMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DMe(e){var t=MMe(e,"string");return Lg(t)=="symbol"?t:t+""}function MMe(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IMe(e,t){if(e==null)return{};var n=$Me(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $Me(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var RMe=function(t,n,s,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(s)},LMe=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,g=m===void 0?0:m,x=t.className,v=IMe(t,TMe),y=kMe({x:s,y:a,top:l,left:u,width:f,height:g},v);return!Ve(s)||!Ve(a)||!Ve(f)||!Ve(g)||!Ve(l)||!Ve(u)?null:U.createElement("path",q_({},ct(y,!0),{className:Et("recharts-cross",x),d:RMe(s,a,f,g,l,u)}))},FMe=pw,BMe=d7,zMe=bo;function VMe(e,t){return e&&e.length?FMe(e,zMe(t),BMe):void 0}var UMe=VMe;const qMe=pn(UMe);var WMe=pw,HMe=bo,GMe=h7;function KMe(e,t){return e&&e.length?WMe(e,HMe(t),GMe):void 0}var YMe=KMe;const QMe=pn(YMe);var XMe=["cx","cy","angle","ticks","axisLine"],JMe=["ticks","tick","angle","tickFormatter","stroke"];function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ip.apply(this,arguments)}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(s){yw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function FR(e,t){if(e==null)return{};var n=ZMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ZMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function eIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tW(s.key),s)}}function tIe(e,t,n){return t&&BR(e.prototype,t),n&&BR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nIe(e,t,n){return t=xj(t),rIe(e,eW()?Reflect.construct(t,n||[],xj(e).constructor):t.apply(e,n))}function rIe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sIe(e)}function sIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eW=function(){return!!e})()}function xj(e){return xj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xj(e)}function iIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},W_(e,t)}function yw(e,t,n){return t=tW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=aIe(e,"string");return yf(t)=="symbol"?t:t+""}function aIe(e,t){if(yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jw=function(e){function t(){return eIe(this,t),nIe(this,t,arguments)}return iIe(t,e),tIe(t,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return In(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=qMe(l,function(d){return d.coordinate||0}),u=QMe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=FR(s,XMe),d=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),f=In(i,a,d[0],o),m=In(i,a,d[1],o),g=tu(tu(tu({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return U.createElement("line",Ip({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=FR(i,JMe),f=this.getTickTextAnchor(),m=ct(d,!1),g=ct(o,!1),x=a.map(function(v,y){var N=s.getTickValueCoord(v),j=tu(tu(tu(tu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:y},N),{},{payload:v});return U.createElement(Yt,Ip({className:Et("recharts-polar-radius-axis-tick",B7(o)),key:"tick-".concat(v.coordinate)},Qu(s.props,v,y)),t.renderTickItem(o,j,c?c(v.value,y):v.value))});return U.createElement(Yt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.axisLine,o=s.tick;return!i||!i.length?null:U.createElement(Yt,{className:Et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Ur.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,a){var o;return U.isValidElement(s)?o=U.cloneElement(s,i):yt(s)?o=s(i):o=U.createElement(Xu,Ip({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);yw(jw,"displayName","PolarRadiusAxis");yw(jw,"axisType","radiusAxis");yw(jw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},du.apply(this,arguments)}function zR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(n),!0).forEach(function(s){bw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rW(s.key),s)}}function lIe(e,t,n){return t&&VR(e.prototype,t),n&&VR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cIe(e,t,n){return t=yj(t),uIe(e,nW()?Reflect.construct(t,n||[],yj(e).constructor):t.apply(e,n))}function uIe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dIe(e)}function dIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nW=function(){return!!e})()}function yj(e){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yj(e)}function hIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H_(e,t)}function H_(e,t){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},H_(e,t)}function bw(e,t,n){return t=rW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rW(e){var t=fIe(e,"string");return jf(t)=="symbol"?t:t+""}function fIe(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mIe=Math.PI/180,UR=1e-5,ww=function(e){function t(){return oIe(this,t),cIe(this,t,arguments)}return hIe(t,e),lIe(t,[{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=In(a,o,l,s.coordinate),m=In(a,o,l+(c==="inner"?-1:1)*d,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,a=Math.cos(-s.coordinate*mIe),o;return a>UR?o=i==="outer"?"start":"end":a<-UR?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=nu(nu({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return U.createElement(Ev,du({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(m){return In(i,a,o,m.coordinate)});return U.createElement(EMe,du({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ct(this.props,!1),f=ct(o,!1),m=nu(nu({},d),{},{fill:"none"},ct(l,!1)),g=a.map(function(x,v){var y=s.getTickLineCoord(x),N=s.getTickTextAnchor(x),j=nu(nu(nu({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:x,x:y.x2,y:y.y2});return U.createElement(Yt,du({className:Et("recharts-polar-angle-axis-tick",B7(o)),key:"tick-".concat(x.coordinate)},Qu(s.props,x,v)),l&&U.createElement("line",du({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,j,c?c(x.value,v):x.value))});return U.createElement(Yt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.radius,o=s.axisLine;return a<=0||!i||!i.length?null:U.createElement(Yt,{className:Et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,a){var o;return U.isValidElement(s)?o=U.cloneElement(s,i):yt(s)?o=s(i):o=U.createElement(Xu,du({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);bw(ww,"displayName","PolarAngleAxis");bw(ww,"axisType","angleAxis");bw(ww,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pIe=oq,gIe=pIe(Object.getPrototypeOf,Object),vIe=gIe,xIe=pl,yIe=vIe,jIe=gl,bIe="[object Object]",wIe=Function.prototype,NIe=Object.prototype,sW=wIe.toString,SIe=NIe.hasOwnProperty,CIe=sW.call(Object);function _Ie(e){if(!jIe(e)||xIe(e)!=bIe)return!1;var t=yIe(e);if(t===null)return!0;var n=SIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&sW.call(n)==CIe}var PIe=_Ie;const AIe=pn(PIe);var EIe=pl,TIe=gl,kIe="[object Boolean]";function OIe(e){return e===!0||e===!1||TIe(e)&&EIe(e)==kIe}var DIe=OIe;const MIe=pn(DIe);function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jj.apply(this,arguments)}function IIe(e,t){return FIe(e)||LIe(e,t)||RIe(e,t)||$Ie()}function $Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RIe(e,t){if(e){if(typeof e=="string")return qR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qR(e,t)}}function qR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function LIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function FIe(e){if(Array.isArray(e))return e}function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function HR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(s){BIe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BIe(e,t,n){return t=zIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zIe(e){var t=VIe(e,"string");return Fg(t)=="symbol"?t:t+""}function VIe(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Fg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GR=function(t,n,s,i,a){var o=s-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+a),l+="L ".concat(t+s-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},UIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qIe=function(t){var n=HR(HR({},UIe),t),s=w.useRef(),i=w.useState(-1),a=IIe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=Et("recharts-trapezoid",g);return N?U.createElement(Ia,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:x,isActive:N},function(b){var _=b.upperWidth,C=b.lowerWidth,A=b.height,P=b.x,E=b.y;return U.createElement(Ia,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},U.createElement("path",jj({},ct(n,!0),{className:j,d:GR(P,E,_,C,A),ref:s})))}):U.createElement("g",null,U.createElement("path",jj({},ct(n,!0),{className:j,d:GR(c,u,d,f,m)})))},WIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function HIe(e,t){if(e==null)return{};var n=GIe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function GIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function bj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(s){KIe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function KIe(e,t,n){return t=YIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YIe(e){var t=QIe(e,"string");return Bg(t)=="symbol"?t:t+""}function QIe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XIe(e,t){return bj(bj({},t),e)}function JIe(e,t){return e==="symbols"}function YR(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return U.createElement(NT,n);case"trapezoid":return U.createElement(qIe,n);case"sector":return U.createElement(U7,n);case"symbols":if(JIe(t))return U.createElement(VE,n);break;default:return null}}function ZIe(e){return w.isValidElement(e)?e.props:e}function iW(e){var t=e.option,n=e.shapeType,s=e.propTransformer,i=s===void 0?XIe:s,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=HIe(e,WIe),u;if(w.isValidElement(t))u=w.cloneElement(t,bj(bj({},c),ZIe(t)));else if(yt(t))u=t(c);else if(AIe(t)&&!MIe(t)){var d=i(t,c);u=U.createElement(YR,{shapeType:n,elementProps:d})}else{var f=c;u=U.createElement(YR,{shapeType:n,elementProps:f})}return l?U.createElement(Yt,{className:o},u):u}function Nw(e,t){return t!=null&&"trapezoids"in e.props}function Sw(e,t){return t!=null&&"sectors"in e.props}function zg(e,t){return t!=null&&"points"in e.props}function e4e(e,t){var n,s,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return i&&a}function t4e(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function n4e(e,t){var n=e.x===t.x,s=e.y===t.y,i=e.z===t.z;return n&&s&&i}function r4e(e,t){var n;return Nw(e,t)?n=e4e:Sw(e,t)?n=t4e:zg(e,t)&&(n=n4e),n}function s4e(e,t){var n;return Nw(e,t)?n="trapezoids":Sw(e,t)?n="sectors":zg(e,t)&&(n="points"),n}function i4e(e,t){if(Nw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Sw(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return zg(e,t)?t.payload:{}}function a4e(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,i=s4e(n,t),a=i4e(n,t),o=s.filter(function(c,u){var d=Ju(a,c),f=n.props[i].filter(function(x){var v=r4e(n,t);return v(x,t)}),m=n.props[i].indexOf(f[f.length-1]),g=u===m;return d&&g}),l=s.indexOf(o[o.length-1]);return l}var Wy;function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gh.apply(this,arguments)}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(s){Ui(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function o4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,oW(s.key),s)}}function l4e(e,t,n){return t&&XR(e.prototype,t),n&&XR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c4e(e,t,n){return t=wj(t),u4e(e,aW()?Reflect.construct(t,n||[],wj(e).constructor):t.apply(e,n))}function u4e(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d4e(e)}function d4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aW=function(){return!!e})()}function wj(e){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wj(e)}function h4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G_(e,t)}function G_(e,t){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},G_(e,t)}function Ui(e,t,n){return t=oW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=f4e(e,"string");return bf(t)=="symbol"?t:t+""}function f4e(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var za=function(e){function t(n){var s;return o4e(this,t),s=c4e(this,t,[n]),Ui(s,"pieRef",null),Ui(s,"sectorRefs",[]),Ui(s,"id",md("recharts-pie-")),Ui(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),yt(i)&&i()}),Ui(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),yt(i)&&i()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return h4e(t,e),l4e(t,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ct(this.props,!1),f=ct(o,!1),m=ct(l,!1),g=o&&o.offsetRadius||20,x=s.map(function(v,y){var N=(v.startAngle+v.endAngle)/2,j=In(v.cx,v.cy,v.outerRadius+g,N),b=On(On(On(On({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(j.x,v.cx)},j),_=On(On(On(On({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[In(v.cx,v.cy,v.outerRadius,N),j]}),C=c;return At(c)&&At(u)?C="value":At(c)&&(C=u),U.createElement(Yt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,b,gr(v,C)))});return U.createElement(Yt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return s.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,g=f?o:m,x=On(On({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return U.createElement(Yt,gh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Qu(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),U.createElement(iW,gh({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,g=f.prevIsAnimationActive;return U.createElement(Ia,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],N=a&&a[0],j=N.startAngle;return a.forEach(function(b,_){var C=m&&m[_],A=_>0?wi(b,"paddingAngle",0):0;if(C){var P=Or(C.endAngle-C.startAngle,b.endAngle-b.startAngle),E=On(On({},b),{},{startAngle:j+A,endAngle:j+P(v)+A});y.push(E),j=E.endAngle}else{var M=b.endAngle,$=b.startAngle,k=Or(0,M-$),O=k(v),L=On(On({},b),{},{startAngle:j+A,endAngle:j+O+A});y.push(L),j=L.endAngle}}),U.createElement(Yt,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,a=s.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ju(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Ve(u)||!Ve(d)||!Ve(f)||!Ve(m))return null;var v=Et("recharts-pie",l);return U.createElement(Yt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){s.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Ur.renderCallByParent(this.props,null,!1),(!g||x)&&fo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i,a){if(U.isValidElement(s))return U.cloneElement(s,i);if(yt(s))return s(i);var o=Et("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return U.createElement(Iu,gh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,i,a){if(U.isValidElement(s))return U.cloneElement(s,i);var o=a;if(yt(s)&&(o=s(i),U.isValidElement(o)))return o;var l=Et("recharts-pie-label-text",typeof s!="boolean"&&!yt(s)?s.className:"");return U.createElement(Xu,gh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Wy=za;Ui(za,"displayName","Pie");Ui(za,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ea.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ui(za,"parseDeltaAngle",function(e,t){var n=Es(t-e),s=Math.min(Math.abs(t-e),360);return n*s});Ui(za,"getRealPieData",function(e){var t=e.data,n=e.children,s=ct(e,!1),i=Ni(n,om);return t&&t.length?t.map(function(a,o){return On(On(On({payload:a},s),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return On(On({},s),a.props)}):[]});Ui(za,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,i=t.width,a=t.height,o=F7(i,a),l=s+Ts(e.cx,i,i/2),c=n+Ts(e.cy,a,a/2),u=Ts(e.innerRadius,o,0),d=Ts(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ui(za,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?On(On({},t.type.defaultProps),t.props):t.props,i=Wy.getRealPieData(s);if(!i||!i.length)return null;var a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,m=s.tooltipType,g=Math.abs(s.minAngle),x=Wy.parseCoordinateOfPie(s,n),v=Wy.parseDeltaAngle(o,l),y=Math.abs(v),N=u;At(u)&&At(f)?(Aa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):At(u)&&(Aa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var j=i.filter(function(E){return gr(E,N,0)!==0}).length,b=(y>=360?j:j-1)*c,_=y-j*g-b,C=i.reduce(function(E,M){var $=gr(M,N,0);return E+(Ve($)?$:0)},0),A;if(C>0){var P;A=i.map(function(E,M){var $=gr(E,N,0),k=gr(E,d,M),O=(Ve($)?$:0)/C,L;M?L=P.endAngle+Es(v)*c*($!==0?1:0):L=o;var z=L+Es(v)*(($!==0?g:0)+O*_),J=(L+z)/2,H=(x.innerRadius+x.outerRadius)/2,oe=[{name:k,value:$,payload:E,dataKey:N,type:m}],Q=In(x.cx,x.cy,H,J);return P=On(On(On({percent:O,cornerRadius:a,name:k,tooltipPayload:oe,midAngle:J,middleRadius:H,tooltipPosition:Q},E),x),{},{value:gr(E,N),startAngle:L,endAngle:z,payload:E,paddingAngle:Es(v)*c}),P})}return On(On({},x),{},{sectors:A,data:i})});var m4e=Math.ceil,p4e=Math.max;function g4e(e,t,n,s){for(var i=-1,a=p4e(m4e((t-e)/(n||1)),0),o=Array(a);a--;)o[s?a:++i]=e,e+=n;return o}var v4e=g4e,x4e=_q,JR=1/0,y4e=17976931348623157e292;function j4e(e){if(!e)return e===0?e:0;if(e=x4e(e),e===JR||e===-JR){var t=e<0?-1:1;return t*y4e}return e===e?e:0}var lW=j4e,b4e=v4e,w4e=lw,FS=lW;function N4e(e){return function(t,n,s){return s&&typeof s!="number"&&w4e(t,n,s)&&(n=s=void 0),t=FS(t),n===void 0?(n=t,t=0):n=FS(n),s=s===void 0?t<n?1:-1:FS(s),b4e(t,n,s,e)}}var S4e=N4e,C4e=S4e,_4e=C4e(),P4e=_4e;const Nj=pn(P4e);function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function e3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(s){cW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cW(e,t,n){return t=A4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A4e(e){var t=E4e(e,"string");return Vg(t)=="symbol"?t:t+""}function E4e(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T4e=["Webkit","Moz","O","ms"],k4e=function(t,n){var s=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=T4e.reduce(function(a,o){return e3(e3({},a),{},cW({},o+s,n))},{});return i[t]=n,i};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sj.apply(this,arguments)}function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function BS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(s){hi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function O4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,dW(s.key),s)}}function D4e(e,t,n){return t&&n3(e.prototype,t),n&&n3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M4e(e,t,n){return t=Cj(t),I4e(e,uW()?Reflect.construct(t,n||[],Cj(e).constructor):t.apply(e,n))}function I4e(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $4e(e)}function $4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!e})()}function Cj(e){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cj(e)}function R4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K_(e,t)}function K_(e,t){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},K_(e,t)}function hi(e,t,n){return t=dW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=L4e(e,"string");return wf(t)=="symbol"?t:t+""}function L4e(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F4e=function(t){var n=t.data,s=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=kp().domain(Nj(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(i),scale:u,scaleValues:d}},r3=function(t){return t.changedTouches&&!!t.changedTouches.length},Nf=function(e){function t(n){var s;return O4e(this,t),s=M4e(this,t,[n]),hi(s,"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),hi(s,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),hi(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=s.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),s.detachDragEndListener()}),hi(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),hi(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),hi(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),hi(s,"handleSlideDragStart",function(i){var a=r3(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return R4e(t,e),D4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,a=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),m=Math.max(i,a),g=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(s){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=gr(a[s],l,s);return yt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,g=c.endIndex,x=c.onChange,v=s.pageX-a;v>0?v=Math.min(v,u+d-f-l,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==m||y.endIndex!==g)&&x&&x(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var a=r3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,v=d.gap,y=d.data,N={startX:this.state.startX,endX:this.state.endX},j=s.pageX-a;j>0?j=Math.min(j,f+m-g-u):j<0&&(j=Math.max(j,f-u)),N[o]=u+j;var b=this.getIndex(N),_=b.startIndex,C=b.endIndex,A=function(){var E=y.length-1;return o==="startX"&&(l>c?_%v===0:C%v===0)||l<c&&C===E||o==="endX"&&(l>c?C%v===0:_%v===0)||l>c&&C===E};this.setState(hi(hi({},o,u+j),"brushMoveStartX",s.pageX),function(){x&&A()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(s,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(hi({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return U.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.data,u=s.children,d=s.padding,f=w.Children.only(u);return f?U.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,N=Math.max(s,this.props.x),j=BS(BS({},ct(this.props,!1)),{},{x:N,y:u,width:d,height:f}),b=g||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return U.createElement(Yt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,j))}},{key:"renderSlide",value:function(s,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(s,i)+u,f=Math.max(Math.abs(i-s)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,a=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,d=this.state,f=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:u};return U.createElement(Yt,{className:"recharts-brush-texts"},U.createElement(Xu,Sj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:o+l/2},x),this.getTextOfTick(i)),U.createElement(Xu,Sj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+g,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var s=this.props,i=s.data,a=s.className,o=s.children,l=s.x,c=s.y,u=s.width,d=s.height,f=s.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,y=m.isSlideMoving,N=m.isTravellerMoving,j=m.isTravellerFocused;if(!i||!i.length||!Ve(l)||!Ve(c)||!Ve(u)||!Ve(d)||u<=0||d<=0)return null;var b=Et("recharts-brush",a),_=U.Children.count(o)===1,C=k4e("userSelect","none");return U.createElement(Yt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||N||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,a=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(a+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var a;return U.isValidElement(s)?a=U.cloneElement(s,i):yt(s)?a=s(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(s,i){var a=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,d=s.startIndex,f=s.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return BS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?F4e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,i){for(var a=s.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>i?l=c:o=c}return i>=s[l]?l:o}}])}(w.PureComponent);hi(Nf,"displayName","Brush");hi(Nf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var B4e=YE;function z4e(e,t){var n;return B4e(e,function(s,i,a){return n=t(s,i,a),!n}),!!n}var V4e=z4e,U4e=ZU,q4e=bo,W4e=V4e,H4e=ri,G4e=lw;function K4e(e,t,n){var s=H4e(e)?U4e:W4e;return n&&G4e(e,t,n)&&(t=void 0),s(e,q4e(t))}var Y4e=K4e;const Q4e=pn(Y4e);var mo=function(t,n){var s=t.alwaysShow,i=t.ifOverflow;return s&&(i="extendDomain"),i===n},s3=bq;function X4e(e,t,n){t=="__proto__"&&s3?s3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var J4e=X4e,Z4e=J4e,e$e=yq,t$e=bo;function n$e(e,t){var n={};return t=t$e(t),e$e(e,function(s,i,a){Z4e(n,i,t(s,i,a))}),n}var r$e=n$e;const s$e=pn(r$e);function i$e(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var a$e=i$e,o$e=YE;function l$e(e,t){var n=!0;return o$e(e,function(s,i,a){return n=!!t(s,i,a),n}),n}var c$e=l$e,u$e=a$e,d$e=c$e,h$e=bo,f$e=ri,m$e=lw;function p$e(e,t,n){var s=f$e(e)?u$e:d$e;return n&&m$e(e,t,n)&&(t=void 0),s(e,h$e(t))}var g$e=p$e;const hW=pn(g$e);var v$e=["x","y"];function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y_.apply(this,arguments)}function i3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(n),!0).forEach(function(s){x$e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function x$e(e,t,n){return t=y$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y$e(e){var t=j$e(e,"string");return Ug(t)=="symbol"?t:t+""}function j$e(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b$e(e,t){if(e==null)return{};var n=w$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function w$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function N$e(e,t){var n=e.x,s=e.y,i=b$e(e,v$e),a="".concat(n),o=parseInt(a,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return sp(sp(sp(sp(sp({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function a3(e){return U.createElement(iW,Y_({shapeType:"rectangle",propTransformer:N$e,activeClassName:"recharts-active-bar"},e))}var S$e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,i){if(typeof t=="number")return t;var a=Ve(s)||Qxe(s);return a?t(s,i):(a||ed(),n)}},C$e=["value","background"],fW;function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function _$e(e,t){if(e==null)return{};var n=P$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function P$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_j.apply(this,arguments)}function o3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(n),!0).forEach(function(s){ic(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function A$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pW(s.key),s)}}function E$e(e,t,n){return t&&l3(e.prototype,t),n&&l3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T$e(e,t,n){return t=Pj(t),k$e(e,mW()?Reflect.construct(t,n||[],Pj(e).constructor):t.apply(e,n))}function k$e(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O$e(e)}function O$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mW=function(){return!!e})()}function Pj(e){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pj(e)}function D$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q_(e,t)}function Q_(e,t){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Q_(e,t)}function ic(e,t,n){return t=pW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=M$e(e,"string");return Sf(t)=="symbol"?t:t+""}function M$e(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Sf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var io=function(e){function t(){var n;A$e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=T$e(this,t,[].concat(i)),ic(n,"state",{isAnimationFinished:!1}),ic(n,"id",md("recharts-bar-")),ic(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ic(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return D$e(t,e),E$e(t,[{key:"renderRectanglesStatically",value:function(s){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ct(this.props,!1);return s&&s.map(function(f,m){var g=m===c,x=g?u:o,v=yr(yr(yr({},d),f),{},{isActive:g,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Yt,_j({className:"recharts-bar-rectangle"},Qu(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),U.createElement(a3,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return U.createElement(Ia,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=a.map(function(y,N){var j=m&&m[N];if(j){var b=Or(j.x,y.x),_=Or(j.y,y.y),C=Or(j.width,y.width),A=Or(j.height,y.height);return yr(yr({},y),{},{x:b(x),y:_(x),width:C(x),height:A(x)})}if(o==="horizontal"){var P=Or(0,y.height),E=P(x);return yr(yr({},y),{},{y:y.y+y.height-E,height:E})}var M=Or(0,y.width),$=M(x);return yr(yr({},y),{},{width:$})});return U.createElement(Yt,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,a=s.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ju(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=ct(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=_$e(u,C$e);if(!f)return null;var g=yr(yr(yr(yr(yr({},m),{},{fill:"#eee"},f),c),Qu(s.props,u,d)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(a3,_j({key:"background-bar-".concat(d),option:s.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ni(d,Av);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,N){var j=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:j,errorVal:gr(y,N)}},x={clipPath:s?"url(#clipPath-".concat(i,")"):null};return U.createElement(Yt,x,f.map(function(v){return U.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,a=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,d=s.top,f=s.width,m=s.height,g=s.isAnimationActive,x=s.background,v=s.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,N=Et("recharts-bar",o),j=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=j||b,C=At(v)?this.id:v;return U.createElement(Yt,{className:N},j||b?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(C)},U.createElement("rect",{x:j?u:u-f/2,y:b?d:d-m/2,width:j?f:f*2,height:b?m:m*2}))):null,U.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(C,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,C),(!g||y)&&fo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}}])}(w.PureComponent);fW=io;ic(io,"displayName","Bar");ic(io,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ea.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ic(io,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=mke(s,n);if(!g)return null;var x=t.layout,v=n.type.defaultProps,y=v!==void 0?yr(yr({},v),n.props):n.props,N=y.dataKey,j=y.children,b=y.minPointSize,_=x==="horizontal"?o:a,C=u?_.scale.domain():null,A=bke({numericAxis:_}),P=Ni(j,om),E=f.map(function(M,$){var k,O,L,z,J,H;u?k=pke(u[d+$],C):(k=gr(M,N),Array.isArray(k)||(k=[A,k]));var oe=S$e(b,fW.defaultProps.minPointSize)(k[1],$);if(x==="horizontal"){var Q,D=[o.scale(k[0]),o.scale(k[1])],ae=D[0],pe=D[1];O=X$({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:M,index:$}),L=(Q=pe??ae)!==null&&Q!==void 0?Q:void 0,z=g.size;var te=ae-pe;if(J=Number.isNaN(te)?0:te,H={x:O,y:o.y,width:z,height:o.height},Math.abs(oe)>0&&Math.abs(J)<Math.abs(oe)){var Z=Es(J||oe)*(Math.abs(oe)-Math.abs(J));L-=Z,J+=Z}}else{var ne=[a.scale(k[0]),a.scale(k[1])],xe=ne[0],ye=ne[1];if(O=xe,L=X$({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:M,index:$}),z=ye-xe,J=g.size,H={x:a.x,y:L,width:a.width,height:J},Math.abs(oe)>0&&Math.abs(z)<Math.abs(oe)){var se=Es(z||oe)*(Math.abs(oe)-Math.abs(z));z+=se}}return yr(yr(yr({},M),{},{x:O,y:L,width:z,height:J,value:u?k:k[1],payload:M,background:H},P&&P[$]&&P[$].props),{},{tooltipPayload:[R7(n,M)],tooltipPosition:{x:O+z/2,y:L+J/2}})});return yr({data:E,layout:x},m)});function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function I$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gW(s.key),s)}}function $$e(e,t,n){return t&&c3(e.prototype,t),n&&c3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(s){Cw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Cw(e,t,n){return t=gW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=R$e(e,"string");return qg(t)=="symbol"?t:t+""}function R$e(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ST=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!mi(u,io);return d.reduce(function(g,x){var v=n[x],y=v.orientation,N=v.domain,j=v.padding,b=j===void 0?{}:j,_=v.mirror,C=v.reversed,A="".concat(y).concat(_?"Mirror":""),P,E,M,$,k;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var O=N[1]-N[0],L=1/0,z=v.categoricalDomain.sort(Zxe);if(z.forEach(function(ne,xe){xe>0&&(L=Math.min((ne||0)-(z[xe-1]||0),L))}),Number.isFinite(L)){var J=L/O,H=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(P=J*H/2),v.padding==="no-gap"){var oe=Ts(t.barCategoryGap,J*H),Q=J*H/2;P=Q-oe-(Q-oe)/H*oe}}}i==="xAxis"?E=[s.left+(b.left||0)+(P||0),s.left+s.width-(b.right||0)-(P||0)]:i==="yAxis"?E=c==="horizontal"?[s.top+s.height-(b.bottom||0),s.top+(b.top||0)]:[s.top+(b.top||0)+(P||0),s.top+s.height-(b.bottom||0)-(P||0)]:E=v.range,C&&(E=[E[1],E[0]]);var D=D7(v,a,m),ae=D.scale,pe=D.realScaleType;ae.domain(N).range(E),M7(ae);var te=I7(ae,ja(ja({},v),{},{realScaleType:pe}));i==="xAxis"?(k=y==="top"&&!_||y==="bottom"&&_,M=s.left,$=f[A]-k*v.height):i==="yAxis"&&(k=y==="left"&&!_||y==="right"&&_,M=f[A]-k*v.width,$=s.top);var Z=ja(ja(ja({},v),te),{},{realScaleType:pe,x:M,y:$,scale:ae,width:i==="xAxis"?s.width:v.width,height:i==="yAxis"?s.height:v.height});return Z.bandSize=dj(Z,te),!v.hide&&i==="xAxis"?f[A]+=(k?-1:1)*Z.height:v.hide||(f[A]+=(k?-1:1)*Z.width),ja(ja({},g),{},Cw({},x,Z))},{})},vW=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(s,a),y:Math.min(i,o),width:Math.abs(a-s),height:Math.abs(o-i)}},L$e=function(t){var n=t.x1,s=t.y1,i=t.x2,a=t.y2;return vW({x:n,y:s},{x:i,y:a})},xW=function(){function e(t){I$e(this,e),this.scale=t}return $$e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,a=s.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),i=s[0],a=s[s.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();Cw(xW,"EPS",1e-4);var CT=function(t){var n=Object.keys(t).reduce(function(s,i){return ja(ja({},s),{},Cw({},i,xW.create(t[i])))},{});return ja(ja({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return s$e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return hW(i,function(a,o){return n[o].isInRange(a)})}})};function F$e(e){return(e%180+180)%180}var B$e=function(t){var n=t.width,s=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=F$e(i),o=a*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},z$e=bo,V$e=Nv,U$e=aw;function q$e(e){return function(t,n,s){var i=Object(t);if(!V$e(t)){var a=z$e(n);t=U$e(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,s);return o>-1?i[a?t[o]:o]:void 0}}var W$e=q$e,H$e=lW;function G$e(e){var t=H$e(e),n=t%1;return t===t?n?t-n:t:0}var K$e=G$e,Y$e=fq,Q$e=bo,X$e=K$e,J$e=Math.max;function Z$e(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var i=n==null?0:X$e(n);return i<0&&(i=J$e(s+i,0)),Y$e(e,Q$e(t),i)}var eRe=Z$e,tRe=W$e,nRe=eRe,rRe=tRe(nRe),sRe=rRe;const iRe=pn(sRe);var aRe=exe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),_T=w.createContext(void 0),PT=w.createContext(void 0),yW=w.createContext(void 0),jW=w.createContext({}),bW=w.createContext(void 0),wW=w.createContext(0),NW=w.createContext(0),d3=function(t){var n=t.state,s=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=aRe(a);return U.createElement(_T.Provider,{value:s},U.createElement(PT.Provider,{value:i},U.createElement(jW.Provider,{value:a},U.createElement(yW.Provider,{value:d},U.createElement(bW.Provider,{value:o},U.createElement(wW.Provider,{value:u},U.createElement(NW.Provider,{value:c},l)))))))},oRe=function(){return w.useContext(bW)},SW=function(t){var n=w.useContext(_T);n==null&&ed();var s=n[t];return s==null&&ed(),s},lRe=function(){var t=w.useContext(_T);return ql(t)},cRe=function(){var t=w.useContext(PT),n=iRe(t,function(s){return hW(s.domain,Number.isFinite)});return n||ql(t)},CW=function(t){var n=w.useContext(PT);n==null&&ed();var s=n[t];return s==null&&ed(),s},uRe=function(){var t=w.useContext(yW);return t},dRe=function(){return w.useContext(jW)},AT=function(){return w.useContext(NW)},ET=function(){return w.useContext(wW)};function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function hRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PW(s.key),s)}}function mRe(e,t,n){return t&&fRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pRe(e,t,n){return t=Aj(t),gRe(e,_W()?Reflect.construct(t,n||[],Aj(e).constructor):t.apply(e,n))}function gRe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vRe(e)}function vRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function Aj(e){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aj(e)}function xRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},X_(e,t)}function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function f3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(s){TT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function TT(e,t,n){return t=PW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=yRe(e,"string");return Cf(t)=="symbol"?t:t+""}function yRe(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jRe(e,t){return SRe(e)||NRe(e,t)||wRe(e,t)||bRe()}function bRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wRe(e,t){if(e){if(typeof e=="string")return m3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m3(e,t)}}function m3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function NRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function SRe(e){if(Array.isArray(e))return e}function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J_.apply(this,arguments)}var CRe=function(t,n){var s;return U.isValidElement(t)?s=U.cloneElement(t,n):yt(t)?s=t(n):s=U.createElement("line",J_({},n,{className:"recharts-reference-line-line"})),s},_Re=function(t,n,s,i,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,g=a.height;if(s){var x=u.y,v=t.y.apply(x,{position:o});if(mo(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(n){var N=u.x,j=t.x.apply(N,{position:o});if(mo(u,"discard")&&!t.x.isInRange(j))return null;var b=[{x:j,y:f+g},{x:j,y:f}];return l==="top"?b.reverse():b}if(i){var _=u.segment,C=_.map(function(A){return t.apply(A,{position:o})});return mo(u,"discard")&&Q4e(C,function(A){return!t.isInRange(A)})?null:C}return null};function PRe(e){var t=e.x,n=e.y,s=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=oRe(),d=SW(i),f=CW(a),m=uRe();if(!u||!m)return null;Aa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=CT({x:d.scale,y:f.scale}),x=Mr(t),v=Mr(n),y=s&&s.length===2,N=_Re(g,x,v,y,m,e.position,d.orientation,f.orientation,e);if(!N)return null;var j=jRe(N,2),b=j[0],_=b.x,C=b.y,A=j[1],P=A.x,E=A.y,M=mo(e,"hidden")?"url(#".concat(u,")"):void 0,$=f3(f3({clipPath:M},ct(e,!0)),{},{x1:_,y1:C,x2:P,y2:E});return U.createElement(Yt,{className:Et("recharts-reference-line",l)},CRe(o,$),Ur.renderCallByParent(e,L$e({x1:_,y1:C,x2:P,y2:E})))}var kT=function(e){function t(){return hRe(this,t),pRe(this,t,arguments)}return xRe(t,e),mRe(t,[{key:"render",value:function(){return U.createElement(PRe,this.props)}}])}(U.Component);TT(kT,"displayName","ReferenceLine");TT(kT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z_.apply(this,arguments)}function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function p3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function g3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(n),!0).forEach(function(s){_w(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ARe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ERe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,EW(s.key),s)}}function TRe(e,t,n){return t&&ERe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kRe(e,t,n){return t=Ej(t),ORe(e,AW()?Reflect.construct(t,n||[],Ej(e).constructor):t.apply(e,n))}function ORe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DRe(e)}function DRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AW=function(){return!!e})()}function Ej(e){return Ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ej(e)}function MRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},eP(e,t)}function _w(e,t,n){return t=EW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e){var t=IRe(e,"string");return _f(t)=="symbol"?t:t+""}function IRe(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Re=function(t){var n=t.x,s=t.y,i=t.xAxis,a=t.yAxis,o=CT({x:i.scale,y:a.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return mo(t,"discard")&&!o.isInRange(l)?null:l},Pw=function(e){function t(){return ARe(this,t),kRe(this,t,arguments)}return MRe(t,e),TRe(t,[{key:"render",value:function(){var s=this.props,i=s.x,a=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=Mr(i),d=Mr(a);if(Aa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=$Re(this.props);if(!f)return null;var m=f.x,g=f.y,x=this.props,v=x.shape,y=x.className,N=mo(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=g3(g3({clipPath:N},ct(this.props,!0)),{},{cx:m,cy:g});return U.createElement(Yt,{className:Et("recharts-reference-dot",y)},t.renderDot(v,j),Ur.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])}(U.Component);_w(Pw,"displayName","ReferenceDot");_w(Pw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_w(Pw,"renderDot",function(e,t){var n;return U.isValidElement(e)?n=U.cloneElement(e,t):yt(e)?n=e(t):n=U.createElement(Ev,Z_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function tP(){return tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tP.apply(this,arguments)}function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function x3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(s){Aw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function RRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,kW(s.key),s)}}function FRe(e,t,n){return t&&LRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BRe(e,t,n){return t=Tj(t),zRe(e,TW()?Reflect.construct(t,n||[],Tj(e).constructor):t.apply(e,n))}function zRe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VRe(e)}function VRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TW=function(){return!!e})()}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tj(e)}function URe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nP(e,t)}function nP(e,t){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},nP(e,t)}function Aw(e,t,n){return t=kW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=qRe(e,"string");return Pf(t)=="symbol"?t:t+""}function qRe(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WRe=function(t,n,s,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=CT({x:d.scale,y:f.scale}),g={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return mo(a,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:vW(g,x)},Ew=function(e){function t(){return RRe(this,t),BRe(this,t,arguments)}return URe(t,e),FRe(t,[{key:"render",value:function(){var s=this.props,i=s.x1,a=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,d=s.clipPathId;Aa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mr(i),m=Mr(a),g=Mr(o),x=Mr(l),v=this.props.shape;if(!f&&!m&&!g&&!x&&!v)return null;var y=WRe(f,m,g,x,this.props);if(!y&&!v)return null;var N=mo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(Yt,{className:Et("recharts-reference-area",c)},t.renderRect(v,x3(x3({clipPath:N},ct(this.props,!0)),y)),Ur.renderCallByParent(this.props,y))}}])}(U.Component);Aw(Ew,"displayName","ReferenceArea");Aw(Ew,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Aw(Ew,"renderRect",function(e,t){var n;return U.isValidElement(e)?n=U.cloneElement(e,t):yt(e)?n=e(t):n=U.createElement(NT,tP({},t,{className:"recharts-reference-area-rect"})),n});function OW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],i=0;i<e.length;i+=t)s.push(e[i]);return s}function HRe(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return B$e(s,n)}function GRe(e,t,n){var s=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:s?i:a,end:s?i+o:a+l}:{start:s?i+o:a+l,end:s?i:a}}function kj(e,t,n,s,i){if(e*t<e*s||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-s)>=0&&e*(t+e*a/2-i)<=0}function KRe(e,t){return OW(e,t+1)}function YRe(e,t,n,s,i){for(var a=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:OW(s,u)};var v=c,y,N=function(){return y===void 0&&(y=n(x,v)),y},j=x.coordinate,b=c===0||kj(e,j,N,d,l);b||(c=0,d=o,u+=1),b&&(d=j+e*(N()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(n),!0).forEach(function(s){QRe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function QRe(e,t,n){return t=XRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XRe(e){var t=JRe(e,"string");return Wg(t)=="symbol"?t:t+""}function JRe(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZRe(e,t,n,s,i){for(var a=(s||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(m){var g=a[m],x,v=function(){return x===void 0&&(x=n(g,m)),x};if(m===o-1){var y=e*(g.coordinate+e*v()/2-c);a[m]=g=hs(hs({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[m]=g=hs(hs({},g),{},{tickCoord:g.coordinate});var N=kj(e,g.tickCoord,v,l,c);N&&(c=g.tickCoord-e*(v()/2+i),a[m]=hs(hs({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function e3e(e,t,n,s,i,a){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=s[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=hs(hs({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var g=kj(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+i),o[l-1]=hs(hs({},d),{},{isShow:!0}))}for(var x=a?l-1:l,v=function(j){var b=o[j],_,C=function(){return _===void 0&&(_=n(b,j)),_};if(j===0){var A=e*(b.coordinate-e*C()/2-c);o[j]=b=hs(hs({},b),{},{tickCoord:A<0?b.coordinate-A*e:b.coordinate})}else o[j]=b=hs(hs({},b),{},{tickCoord:b.coordinate});var P=kj(e,b.tickCoord,C,c,u);P&&(c=b.tickCoord+e*(C()/2+i),o[j]=hs(hs({},b),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function OT(e,t,n){var s=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!s)return[];if(Ve(c)||Ea.isSsr)return KRe(i,typeof c=="number"&&Ve(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?Tp(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,_){var C=yt(u)?u(b.value,_):b.value;return g==="width"?HRe(Tp(C,{fontSize:t,letterSpacing:n}),x,f):Tp(C,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Es(i[1].coordinate-i[0].coordinate):1,N=GRe(a,y,g);return c==="equidistantPreserveStart"?YRe(y,N,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=e3e(y,N,v,i,o,c==="preserveStartEnd"):m=ZRe(y,N,v,i,o),m.filter(function(j){return j.isShow}))}var t3e=["viewBox"],n3e=["viewBox"],r3e=["ticks"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vh.apply(this,arguments)}function j3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(s){DT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function zS(e,t){if(e==null)return{};var n=s3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function s3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function i3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,MW(s.key),s)}}function a3e(e,t,n){return t&&b3(e.prototype,t),n&&b3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o3e(e,t,n){return t=Oj(t),l3e(e,DW()?Reflect.construct(t,n||[],Oj(e).constructor):t.apply(e,n))}function l3e(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c3e(e)}function c3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!e})()}function Oj(e){return Oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oj(e)}function u3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rP(e,t)}function rP(e,t){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},rP(e,t)}function DT(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=d3e(e,"string");return Af(t)=="symbol"?t:t+""}function d3e(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dm=function(e){function t(n){var s;return i3e(this,t),s=o3e(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return u3e(t,e),a3e(t,[{key:"shouldComponentUpdate",value:function(s,i){var a=s.viewBox,o=zS(s,t3e),l=this.props,c=l.viewBox,u=zS(l,n3e);return!kh(a,c)||!kh(o,u)||!kh(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,g,x,v,y,N,j,b=f?-1:1,_=s.tickSize||d,C=Ve(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=x=s.coordinate,y=o+ +!f*c,v=y-b*_,j=v-b*m,N=C;break;case"left":v=y=s.coordinate,x=a+ +!f*l,g=x-b*_,N=g-b*m,j=C;break;case"right":v=y=s.coordinate,x=a+ +f*l,g=x+b*_,N=g+b*m,j=C;break;default:g=x=s.coordinate,y=o+ +f*c,v=y+b*_,j=v+b*m,N=C;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:N,y:j}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,d=s.axisLine,f=_r(_r(_r({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=_r(_r({},f),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=_r(_r({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return U.createElement("line",vh({},f,{className:Et("recharts-cartesian-axis-line",wi(d,"className"))}))}},{key:"renderTicks",value:function(s,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,g=OT(_r(_r({},this.props),{},{ticks:s}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ct(this.props,!1),N=ct(d,!1),j=_r(_r({},y),{},{fill:"none"},ct(c,!1)),b=g.map(function(_,C){var A=o.getTickLineCoord(_),P=A.line,E=A.tick,M=_r(_r(_r(_r({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},N),E),{},{index:C,payload:_,visibleTicksCount:g.length,tickFormatter:f});return U.createElement(Yt,vh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Qu(o.props,_,C)),c&&U.createElement("line",vh({},j,P,{className:Et("recharts-cartesian-axis-tick-line",wi(c,"className"))})),d&&t.renderTickItem(d,M,"".concat(yt(f)?f(_.value,C):_.value).concat(m||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var s=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,g=zS(f,r3e),x=m;return yt(c)&&(x=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!x||!x.length?null:U.createElement(Yt,{className:Et("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,a){var o,l=Et(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(s)?o=U.cloneElement(s,_r(_r({},i),{},{className:l})):yt(s)?o=s(_r(_r({},i),{},{className:l})):o=U.createElement(Xu,vh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);DT(dm,"displayName","CartesianAxis");DT(dm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var h3e=["x1","y1","x2","y2","key"],f3e=["offset"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(n),!0).forEach(function(s){m3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function m3e(e,t,n){return t=p3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p3e(e){var t=g3e(e,"string");return td(t)=="symbol"?t:t+""}function g3e(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(td(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ju.apply(this,arguments)}function N3(e,t){if(e==null)return{};var n=v3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function v3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var x3e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return U.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function IW(e,t){var n;if(U.isValidElement(e))n=U.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=N3(t,h3e),u=ct(c,!1);u.offset;var d=N3(u,f3e);n=U.createElement("line",ju({},d,{x1:s,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function y3e(e){var t=e.x,n=e.width,s=e.horizontal,i=s===void 0?!0:s,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=ms(ms({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return IW(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function j3e(e){var t=e.y,n=e.height,s=e.vertical,i=s===void 0?!0:s,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=ms(ms({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return IW(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function b3e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?i+o-m:d[g+1]-m;if(v<=0)return null;var y=g%t.length;return U.createElement("rect",{key:"react-".concat(g),y:m,x:s,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function w3e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?a+l-m:d[g+1]-m;if(v<=0)return null;var y=g%s.length;return U.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:v,height:c,stroke:"none",fill:s[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var N3e=function(t,n){var s=t.xAxis,i=t.width,a=t.height,o=t.offset;return O7(OT(ms(ms(ms({},dm.defaultProps),s),{},{ticks:Ko(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},S3e=function(t,n){var s=t.yAxis,i=t.width,a=t.height,o=t.offset;return O7(OT(ms(ms(ms({},dm.defaultProps),s),{},{ticks:Ko(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Qd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nd(e){var t,n,s,i,a,o,l=AT(),c=ET(),u=dRe(),d=ms(ms({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Qd.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Qd.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Qd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Qd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qd.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),f=d.x,m=d.y,g=d.width,x=d.height,v=d.syncWithTicks,y=d.horizontalValues,N=d.verticalValues,j=lRe(),b=cRe();if(!Ve(g)||g<=0||!Ve(x)||x<=0||!Ve(f)||f!==+f||!Ve(m)||m!==+m)return null;var _=d.verticalCoordinatesGenerator||N3e,C=d.horizontalCoordinatesGenerator||S3e,A=d.horizontalPoints,P=d.verticalPoints;if((!A||!A.length)&&yt(C)){var E=y&&y.length,M=C({yAxis:b?ms(ms({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:v);Aa(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(td(M),"]")),Array.isArray(M)&&(A=M)}if((!P||!P.length)&&yt(_)){var $=N&&N.length,k=_({xAxis:j?ms(ms({},j),{},{ticks:$?N:j.ticks}):void 0,width:l,height:c,offset:u},$?!0:v);Aa(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(td(k),"]")),Array.isArray(k)&&(P=k)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(x3e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(y3e,ju({},d,{offset:u,horizontalPoints:A,xAxis:j,yAxis:b})),U.createElement(j3e,ju({},d,{offset:u,verticalPoints:P,xAxis:j,yAxis:b})),U.createElement(b3e,ju({},d,{horizontalPoints:A})),U.createElement(w3e,ju({},d,{verticalPoints:P})))}nd.displayName="CartesianGrid";var C3e=["type","layout","connectNulls","ref"],_3e=["key"];function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function S3(e,t){if(e==null)return{};var n=P3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function P3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$p.apply(this,arguments)}function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(s){ba(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xd(e){return k3e(e)||T3e(e)||E3e(e)||A3e()}function A3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E3e(e,t){if(e){if(typeof e=="string")return sP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sP(e,t)}}function T3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k3e(e){if(Array.isArray(e))return sP(e)}function sP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function O3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RW(s.key),s)}}function D3e(e,t,n){return t&&_3(e.prototype,t),n&&_3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M3e(e,t,n){return t=Dj(t),I3e(e,$W()?Reflect.construct(t,n||[],Dj(e).constructor):t.apply(e,n))}function I3e(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $3e(e)}function $3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function Dj(e){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dj(e)}function R3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iP(e,t)}function iP(e,t){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},iP(e,t)}function ba(e,t,n){return t=RW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=L3e(e,"string");return Ef(t)=="symbol"?t:t+""}function L3e(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tf=function(e){function t(){var n;O3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=M3e(this,t,[].concat(i)),ba(n,"state",{isAnimationFinished:!0,totalLength:0}),ba(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ba(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,j){return N+j});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>f){g=[].concat(Xd(c.slice(0,x)),[f-v]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(Xd(t.repeat(c,d)),Xd(g),y).map(function(N){return"".concat(N,"px")}).join(", ")}),ba(n,"id",md("recharts-line-")),ba(n,"pathRef",function(o){n.mainCurve=o}),ba(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ba(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return R3e(t,e),D3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ni(d,Av);if(!f)return null;var m=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:gr(v.payload,y)}},g={clipPath:s?"url(#clipPath-".concat(i,")"):null};return U.createElement(Yt,g,f.map(function(x){return U.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ct(this.props,!1),m=ct(c,!0),g=u.map(function(v,y){var N=di(di(di({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return t.renderDotItem(c,N)}),x={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Yt,$p({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(s,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=S3(l,C3e),m=di(di(di({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:d});return U.createElement(Iu,$p({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,N=this.state,j=N.prevPoints,b=N.totalLength;return U.createElement(Ia,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var C=_.t;if(j){var A=j.length/l.length,P=l.map(function(O,L){var z=Math.floor(L*A);if(j[z]){var J=j[z],H=Or(J.x,O.x),oe=Or(J.y,O.y);return di(di({},O),{},{x:H(C),y:oe(C)})}if(x){var Q=Or(v*2,O.x),D=Or(y/2,O.y);return di(di({},O),{},{x:Q(C),y:D(C)})}return di(di({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(P,s,i)}var E=Or(0,b),M=E(C),$;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});$=a.getStrokeDasharray(M,b,k)}else $=a.generateSimpleStrokeDasharray(b,M);return a.renderCurveStatically(l,s,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(s,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Ju(u,o))?this.renderCurveWithAnimation(s,i):this.renderCurveStatically(o,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Et("recharts-line",c),_=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,A=_||C,P=At(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=E.r,$=M===void 0?3:M,k=E.strokeWidth,O=k===void 0?2:k,L=SU(o)?o:{},z=L.clipDot,J=z===void 0?!0:z,H=$*2+O;return U.createElement(Yt,{className:b},_||C?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(P)},U.createElement("rect",{x:_?m:m-g/2,y:C?f:f-x/2,width:_?g:g*2,height:C?x:x*2})),!J&&U.createElement("clipPath",{id:"clipPath-dots-".concat(P)},U.createElement("rect",{x:m-H/2,y:f-H/2,width:g+H,height:x+H}))):null,!j&&this.renderCurve(A,P),this.renderErrorBar(A,P),(j||o)&&this.renderDots(A,J,P),(!v||N)&&fo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:i.curPoints}:s.points!==i.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,i){for(var a=s.length%2!==0?[].concat(Xd(s),[0]):s,o=[],l=0;l<i;++l)o=[].concat(Xd(o),Xd(a));return o}},{key:"renderDotItem",value:function(s,i){var a;if(U.isValidElement(s))a=U.cloneElement(s,i);else if(yt(s))a=s(i);else{var o=i.key,l=S3(i,_3e),c=Et("recharts-line-dot",typeof s!="boolean"?s.className:"");a=U.createElement(Ev,$p({key:o},l,{className:c}))}return a}}])}(w.PureComponent);ba(Tf,"displayName","Line");ba(Tf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ea.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ba(Tf,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,g){var x=gr(m,o);return d==="horizontal"?{x:uj({axis:n,ticks:i,bandSize:l,entry:m,index:g}),y:At(x)?null:s.scale(x),value:x,payload:m}:{x:At(x)?null:n.scale(x),y:uj({axis:s,ticks:a,bandSize:l,entry:m,index:g}),value:x,payload:m}});return di({points:f,layout:d},u)});var F3e=["layout","type","stroke","connectNulls","isRange","ref"],B3e=["key"],LW;function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function FW(e,t){if(e==null)return{};var n=z3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function z3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bu.apply(this,arguments)}function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(s){ao(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function V3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zW(s.key),s)}}function U3e(e,t,n){return t&&A3(e.prototype,t),n&&A3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q3e(e,t,n){return t=Mj(t),W3e(e,BW()?Reflect.construct(t,n||[],Mj(e).constructor):t.apply(e,n))}function W3e(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3e(e)}function H3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BW=function(){return!!e})()}function Mj(e){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mj(e)}function G3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aP(e,t)}function aP(e,t){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},aP(e,t)}function ao(e,t,n){return t=zW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zW(e){var t=K3e(e,"string");return kf(t)=="symbol"?t:t+""}function K3e(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zi=function(e){function t(){var n;V3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=q3e(this,t,[].concat(i)),ao(n,"state",{isAnimationFinished:!0}),ao(n,"id",md("recharts-area-")),ao(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yt(o)&&o()}),ao(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yt(o)&&o()}),n}return G3e(t,e),U3e(t,[{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ct(this.props,!1),g=ct(u,!0),x=d.map(function(y,N){var j=Rl(Rl(Rl({key:"dot-".concat(N),r:3},m),g),{},{index:N,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,j)}),v={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Yt,bu({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=s*Math.abs(c-u),f=sc(o.map(function(m){return m.y||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(sc(a.map(function(m){return m.y||0})),f)),Ve(f)?U.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=s*Math.abs(c-u),f=sc(o.map(function(m){return m.x||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(sc(a.map(function(m){return m.x||0})),f)),Ve(f)?U.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var g=FW(l,F3e);return U.createElement(Yt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},U.createElement(Iu,bu({},ct(g,!0),{points:s,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&U.createElement(Iu,bu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})),d!=="none"&&m&&U.createElement(Iu,bu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=this.state,v=x.prevPoints,y=x.prevBaseLine;return U.createElement(Ia,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(v){var b=v.length/l.length,_=l.map(function(E,M){var $=Math.floor(M*b);if(v[$]){var k=v[$],O=Or(k.x,E.x),L=Or(k.y,E.y);return Rl(Rl({},E),{},{x:O(j),y:L(j)})}return E}),C;if(Ve(c)&&typeof c=="number"){var A=Or(y,c);C=A(j)}else if(At(c)||rm(c)){var P=Or(y,0);C=P(j)}else C=c.map(function(E,M){var $=Math.floor(M*b);if(y[$]){var k=y[$],O=Or(k.x,E.x),L=Or(k.y,E.y);return Rl(Rl({},E),{},{x:O(j),y:L(j)})}return E});return a.renderAreaStatically(_,C,s,i)}return U.createElement(Yt,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(j))),U.createElement(Yt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,s,i)))})}},{key:"renderArea",value:function(s,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!Ju(d,o)||!Ju(f,l))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(o,l,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Et("recharts-area",c),_=f&&f.allowDataOverflow,C=m&&m.allowDataOverflow,A=_||C,P=At(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=E.r,$=M===void 0?3:M,k=E.strokeWidth,O=k===void 0?2:k,L=SU(o)?o:{},z=L.clipDot,J=z===void 0?!0:z,H=$*2+O;return U.createElement(Yt,{className:b},_||C?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(P)},U.createElement("rect",{x:_?d:d-g/2,y:C?u:u-x/2,width:_?g:g*2,height:C?x:x*2})),!J&&U.createElement("clipPath",{id:"clipPath-dots-".concat(P)},U.createElement("rect",{x:d-H/2,y:u-H/2,width:g+H,height:x+H}))):null,j?null:this.renderArea(A,P),(o||j)&&this.renderDots(A,J,P),(!v||N)&&fo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(w.PureComponent);LW=Zi;ao(Zi,"displayName","Area");ao(Zi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ea.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ao(Zi,"getBaseValue",function(e,t,n,s){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ve(l)&&typeof l=="number")return l;var c=i==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ao(Zi,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=t.layout,x=u&&u.length,v=LW.getBaseValue(t,n,s,i),y=g==="horizontal",N=!1,j=f.map(function(_,C){var A;x?A=u[d+C]:(A=gr(_,c),Array.isArray(A)?N=!0:A=[v,A]);var P=A[1]==null||x&&gr(_,c)==null;return y?{x:uj({axis:s,ticks:a,bandSize:l,entry:_,index:C}),y:P?null:i.scale(A[1]),value:A,payload:_}:{x:P?null:s.scale(A[1]),y:uj({axis:i,ticks:o,bandSize:l,entry:_,index:C}),value:A,payload:_}}),b;return x||N?b=j.map(function(_){var C=Array.isArray(_.value)?_.value[0]:null;return y?{x:_.x,y:C!=null&&_.y!=null?i.scale(C):null}:{x:C!=null?s.scale(C):null,y:_.y}}):b=y?i.scale(v):s.scale(v),Rl({points:j,baseLine:b,layout:g,isRange:N},m)});ao(Zi,"renderDotItem",function(e,t){var n;if(U.isValidElement(e))n=U.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=Et("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=FW(t,B3e);n=U.createElement(Ev,bu({},a,{key:i,className:s}))}return n});function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function Y3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q3e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qW(s.key),s)}}function X3e(e,t,n){return t&&Q3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J3e(e,t,n){return t=Ij(t),Z3e(e,VW()?Reflect.construct(t,n||[],Ij(e).constructor):t.apply(e,n))}function Z3e(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eLe(e)}function eLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!e})()}function Ij(e){return Ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ij(e)}function tLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oP(e,t)}function oP(e,t){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},oP(e,t)}function UW(e,t,n){return t=qW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=nLe(e,"string");return Of(t)=="symbol"?t:t+""}function nLe(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lP.apply(this,arguments)}function rLe(e){var t=e.xAxisId,n=AT(),s=ET(),i=SW(t);return i==null?null:w.createElement(dm,lP({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return Ko(o,!0)}}))}var $a=function(e){function t(){return Y3e(this,t),J3e(this,t,arguments)}return tLe(t,e),X3e(t,[{key:"render",value:function(){return w.createElement(rLe,this.props)}}])}(w.Component);UW($a,"displayName","XAxis");UW($a,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function sLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GW(s.key),s)}}function aLe(e,t,n){return t&&iLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oLe(e,t,n){return t=$j(t),lLe(e,WW()?Reflect.construct(t,n||[],$j(e).constructor):t.apply(e,n))}function lLe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cLe(e)}function cLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function $j(e){return $j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$j(e)}function uLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cP(e,t)}function cP(e,t){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},cP(e,t)}function HW(e,t,n){return t=GW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=dLe(e,"string");return Df(t)=="symbol"?t:t+""}function dLe(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uP.apply(this,arguments)}var hLe=function(t){var n=t.yAxisId,s=AT(),i=ET(),a=CW(n);return a==null?null:w.createElement(dm,uP({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:i},ticksGenerator:function(l){return Ko(l,!0)}}))},Ra=function(e){function t(){return sLe(this,t),oLe(this,t,arguments)}return uLe(t,e),aLe(t,[{key:"render",value:function(){return w.createElement(hLe,this.props)}}])}(w.Component);HW(Ra,"displayName","YAxis");HW(Ra,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function E3(e){return gLe(e)||pLe(e)||mLe(e)||fLe()}function fLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mLe(e,t){if(e){if(typeof e=="string")return dP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dP(e,t)}}function pLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gLe(e){if(Array.isArray(e))return dP(e)}function dP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var hP=function(t,n,s,i,a){var o=Ni(t,kT),l=Ni(t,Pw),c=[].concat(E3(o),E3(l)),u=Ni(t,Ew),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,y){if(y.props[d]===s&&mo(y.props,"extendDomain")&&Ve(y.props[f])){var N=y.props[f];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},m)),u.length){var g="".concat(f,"1"),x="".concat(f,"2");m=u.reduce(function(v,y){if(y.props[d]===s&&mo(y.props,"extendDomain")&&Ve(y.props[g])&&Ve(y.props[x])){var N=y.props[g],j=y.props[x];return[Math.min(v[0],N,j),Math.max(v[1],N,j)]}return v},m)}return a&&a.length&&(m=a.reduce(function(v,y){return Ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},m)),m},KW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,g,x){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],N=arguments.length,j,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,g),!0;case 6:return y.fn.call(y.context,d,f,m,g,x),!0}for(b=1,j=new Array(N-1);b<N;b++)j[b-1]=arguments[b];y.fn.apply(y.context,j)}else{var _=y.length,C;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),N){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,m);break;default:if(!j)for(C=1,j=new Array(N-1);C<N;C++)j[C-1]=arguments[C];y[b].fn.apply(y[b].context,j)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,y=[],N=x.length;v<N;v++)(x[v].fn!==d||m&&!x[v].once||f&&x[v].context!==f)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(KW);var vLe=KW.exports;const xLe=pn(vLe);var VS=new xLe,US="recharts.syncMouseEvents";function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function yLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YW(s.key),s)}}function bLe(e,t,n){return t&&jLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qS(e,t,n){return t=YW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e){var t=wLe(e,"string");return Hg(t)=="symbol"?t:t+""}function wLe(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NLe=function(){function e(){yLe(this,e),qS(this,"activeIndex",0),qS(this,"coordinateList",[]),qS(this,"layout","horizontal")}return bLe(e,[{key:"setDetails",value:function(n){var s,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(s=a??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function SLe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],i=e==null?void 0:e[1];if(s&&i&&Ve(s)&&Ve(i))return!0}return!1}function CLe(e,t,n,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function QW(e){var t=e.cx,n=e.cy,s=e.radius,i=e.startAngle,a=e.endAngle,o=In(t,n,s,i),l=In(t,n,s,a);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:i,endAngle:a}}function _Le(e,t,n){var s,i,a,o;if(e==="horizontal")s=t.x,a=s,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,s=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=In(l,c,u,f),g=In(l,c,d,f);s=m.x,i=m.y,a=g.x,o=g.y}else return QW(t);return[{x:s,y:i},{x:a,y:o}]}function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Sy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(s){PLe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function PLe(e,t,n){return t=ALe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ALe(e){var t=ELe(e,"string");return Gg(t)=="symbol"?t:t+""}function ELe(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TLe(e){var t,n,s=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,g=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var x,v=Iu;if(m==="ScatterChart")x=o,v=LMe;else if(m==="BarChart")x=CLe(f,o,c,d),v=NT;else if(f==="radial"){var y=QW(o),N=y.cx,j=y.cy,b=y.radius,_=y.startAngle,C=y.endAngle;x={cx:N,cy:j,startAngle:_,endAngle:C,innerRadius:b,outerRadius:b},v=U7}else x={points:_Le(f,o,c)},v=Iu;var A=Sy(Sy(Sy(Sy({stroke:"#ccc",pointerEvents:"none"},c),x),ct(g,!1)),{},{payload:l,payloadIndex:u,className:Et("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,A):w.createElement(v,A)}var kLe=["item"],OLe=["children","className","width","height","style","compact","title","desc"];function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xh.apply(this,arguments)}function k3(e,t){return ILe(e)||MLe(e,t)||JW(e,t)||DLe()}function DLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ILe(e){if(Array.isArray(e))return e}function O3(e,t){if(e==null)return{};var n=$Le(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $Le(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function RLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,ZW(s.key),s)}}function FLe(e,t,n){return t&&LLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BLe(e,t,n){return t=Rj(t),zLe(e,XW()?Reflect.construct(t,n||[],Rj(e).constructor):t.apply(e,n))}function zLe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VLe(e)}function VLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!e})()}function Rj(e){return Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rj(e)}function ULe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}function fP(e,t){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},fP(e,t)}function If(e){return HLe(e)||WLe(e)||JW(e)||qLe()}function qLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(e,t){if(e){if(typeof e=="string")return mP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(e,t)}}function WLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HLe(e){if(Array.isArray(e))return mP(e)}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function D3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(n),!0).forEach(function(s){xt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xt(e,t,n){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=GLe(e,"string");return Mf(t)=="symbol"?t:t+""}function GLe(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KLe={xAxis:["bottom","top"],yAxis:["left","right"]},YLe={width:"100%",height:"100%"},e9={x:0,y:0};function Cy(e){return e}var QLe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},XLe=function(t,n,s,i){var a=n.find(function(d){return d&&d.index===s});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return _e(_e(_e({},i),In(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return _e(_e(_e({},i),In(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return e9},Tw=function(t,n){var s=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(If(l),If(u)):l},[]);return o.length>0?o:t&&t.length&&Ve(i)&&Ve(a)?t.slice(i,a+1):[]};function t9(e){return e==="number"?[0,"auto"]:void 0}var pP=function(t,n,s,i){var a=t.graphicalItems,o=t.tooltipAxis,l=Tw(n,t);return s<0||!a||!a.length||s>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;m=$0(g,o.dataKey,i)}else m=f&&f[s]||l[s];return m?[].concat(If(c),[R7(u,m)]):c},[])},M3=function(t,n,s,i){var a=i||{x:t.chartX,y:t.chartY},o=QLe(a,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=lke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=pP(t,n,d,f),g=XLe(s,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},JLe=function(t,n){var s=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,g=k7(d,a);return s.reduce(function(x,v){var y,N=v.type.defaultProps!==void 0?_e(_e({},v.type.defaultProps),v.props):v.props,j=N.type,b=N.dataKey,_=N.allowDataOverflow,C=N.allowDuplicatedCategory,A=N.scale,P=N.ticks,E=N.includeHidden,M=N[o];if(x[M])return x;var $=Tw(t.data,{graphicalItems:i.filter(function(te){var Z,ne=o in te.props?te.props[o]:(Z=te.type.defaultProps)===null||Z===void 0?void 0:Z[o];return ne===M}),dataStartIndex:c,dataEndIndex:u}),k=$.length,O,L,z;SLe(N.domain,_,j)&&(O=A_(N.domain,null,_),g&&(j==="number"||A!=="auto")&&(z=Op($,b,"category")));var J=t9(j);if(!O||O.length===0){var H,oe=(H=N.domain)!==null&&H!==void 0?H:J;if(b){if(O=Op($,b,j),j==="category"&&g){var Q=Jxe(O);C&&Q?(L=O,O=Nj(0,k)):C||(O=eR(oe,O,v).reduce(function(te,Z){return te.indexOf(Z)>=0?te:[].concat(If(te),[Z])},[]))}else if(j==="category")C?O=O.filter(function(te){return te!==""&&!At(te)}):O=eR(oe,O,v).reduce(function(te,Z){return te.indexOf(Z)>=0||Z===""||At(Z)?te:[].concat(If(te),[Z])},[]);else if(j==="number"){var D=fke($,i.filter(function(te){var Z,ne,xe=o in te.props?te.props[o]:(Z=te.type.defaultProps)===null||Z===void 0?void 0:Z[o],ye="hide"in te.props?te.props.hide:(ne=te.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return xe===M&&(E||!ye)}),b,a,d);D&&(O=D)}g&&(j==="number"||A!=="auto")&&(z=Op($,b,"category"))}else g?O=Nj(0,k):l&&l[M]&&l[M].hasStack&&j==="number"?O=m==="expand"?[0,1]:$7(l[M].stackGroups,c,u):O=T7($,i.filter(function(te){var Z=o in te.props?te.props[o]:te.type.defaultProps[o],ne="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return Z===M&&(E||!ne)}),j,d,!0);if(j==="number")O=hP(f,O,M,a,P),oe&&(O=A_(oe,O,_));else if(j==="category"&&oe){var ae=oe,pe=O.every(function(te){return ae.indexOf(te)>=0});pe&&(O=ae)}}return _e(_e({},x),{},xt({},M,_e(_e({},N),{},{axisType:a,domain:O,categoricalDomain:z,duplicateDomain:L,originalDomain:(y=N.domain)!==null&&y!==void 0?y:J,isCategorical:g,layout:d})))},{})},ZLe=function(t,n){var s=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=Tw(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),g=m.length,x=k7(d,a),v=-1;return s.reduce(function(y,N){var j=N.type.defaultProps!==void 0?_e(_e({},N.type.defaultProps),N.props):N.props,b=j[o],_=t9("number");if(!y[b]){v++;var C;return x?C=Nj(0,g):l&&l[b]&&l[b].hasStack?(C=$7(l[b].stackGroups,c,u),C=hP(f,C,b,a)):(C=A_(_,T7(m,s.filter(function(A){var P,E,M=o in A.props?A.props[o]:(P=A.type.defaultProps)===null||P===void 0?void 0:P[o],$="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return M===b&&!$}),"number",d),i.defaultProps.allowDataOverflow),C=hP(f,C,b,a)),_e(_e({},y),{},xt({},b,_e(_e({axisType:a},i.defaultProps),{},{hide:!0,orientation:wi(KLe,"".concat(a,".").concat(v%2),null),domain:C,originalDomain:_,isCategorical:x,layout:d})))}return y},{})},eFe=function(t,n){var s=n.axisType,i=s===void 0?"xAxis":s,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=Ni(d,a),g={};return m&&m.length?g=JLe(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=ZLe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},tFe=function(t){var n=ql(t),s=Ko(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:QE(s,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:dj(n,s)}},I3=function(t){var n=t.children,s=t.defaultShowTooltip,i=mi(n,Nf),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},nFe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Qo(n&&n.type);return s&&s.indexOf("Bar")>=0})},$3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rFe=function(t,n){var s=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,d=s.height,f=s.children,m=s.margin||{},g=mi(f,Nf),x=mi(f,Oh),v=Object.keys(c).reduce(function(C,A){var P=c[A],E=P.orientation;return!P.mirror&&!P.hide?_e(_e({},C),{},xt({},E,C[E]+P.width)):C},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(C,A){var P=o[A],E=P.orientation;return!P.mirror&&!P.hide?_e(_e({},C),{},xt({},E,wi(C,"".concat(E))+P.height)):C},{top:m.top||0,bottom:m.bottom||0}),N=_e(_e({},y),v),j=N.bottom;g&&(N.bottom+=g.props.height||Nf.defaultProps.height),x&&n&&(N=dke(N,i,s,n));var b=u-N.left-N.right,_=d-N.top-N.bottom;return _e(_e({brushBottom:j},N),{},{width:Math.max(b,0),height:Math.max(_,0)})},sFe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},kw=function(t){var n=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(N,j){var b=j.graphicalItems,_=j.stackGroups,C=j.offset,A=j.updateId,P=j.dataStartIndex,E=j.dataEndIndex,M=N.barSize,$=N.layout,k=N.barGap,O=N.barCategoryGap,L=N.maxBarSize,z=$3($),J=z.numericAxisName,H=z.cateAxisName,oe=nFe(b),Q=[];return b.forEach(function(D,ae){var pe=Tw(N.data,{graphicalItems:[D],dataStartIndex:P,dataEndIndex:E}),te=D.type.defaultProps!==void 0?_e(_e({},D.type.defaultProps),D.props):D.props,Z=te.dataKey,ne=te.maxBarSize,xe=te["".concat(J,"Id")],ye=te["".concat(H,"Id")],se={},F=c.reduce(function(Ge,Ke){var qt=j["".concat(Ke.axisType,"Map")],Yn=te["".concat(Ke.axisType,"Id")];qt&&qt[Yn]||Ke.axisType==="zAxis"||ed();var Tt=qt[Yn];return _e(_e({},Ge),{},xt(xt({},Ke.axisType,Tt),"".concat(Ke.axisType,"Ticks"),Ko(Tt)))},se),Y=F[H],ee=F["".concat(H,"Ticks")],G=_&&_[xe]&&_[xe].hasStack&&wke(D,_[xe].stackGroups),I=Qo(D.type).indexOf("Bar")>=0,ve=dj(Y,ee),we=[],Fe=oe&&cke({barSize:M,stackGroups:_,totalSize:sFe(F,H)});if(I){var Be,it,lt=At(ne)?L:ne,ft=(Be=(it=dj(Y,ee,!0))!==null&&it!==void 0?it:lt)!==null&&Be!==void 0?Be:0;we=uke({barGap:k,barCategoryGap:O,bandSize:ft!==ve?ft:ve,sizeList:Fe[ye],maxBarSize:lt}),ft!==ve&&(we=we.map(function(Ge){return _e(_e({},Ge),{},{position:_e(_e({},Ge.position),{},{offset:Ge.position.offset-ft/2})})}))}var Ne=D&&D.type&&D.type.getComposedData;Ne&&Q.push({props:_e(_e({},Ne(_e(_e({},F),{},{displayedData:pe,props:N,dataKey:Z,item:D,bandSize:ve,barPosition:we,offset:C,stackedData:G,layout:$,dataStartIndex:P,dataEndIndex:E}))),{},xt(xt(xt({key:D.key||"item-".concat(ae)},J,F[J]),H,F[H]),"animationId",A)),childIndex:uye(D,N.children),item:D})}),Q},g=function(N,j){var b=N.props,_=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;if(!KI({props:b}))return null;var P=b.children,E=b.layout,M=b.stackOffset,$=b.data,k=b.reverseStackOrder,O=$3(E),L=O.numericAxisName,z=O.cateAxisName,J=Ni(P,s),H=jke($,J,"".concat(L,"Id"),"".concat(z,"Id"),M,k),oe=c.reduce(function(te,Z){var ne="".concat(Z.axisType,"Map");return _e(_e({},te),{},xt({},ne,eFe(b,_e(_e({},Z),{},{graphicalItems:J,stackGroups:Z.axisType===L&&H,dataStartIndex:_,dataEndIndex:C}))))},{}),Q=rFe(_e(_e({},oe),{},{props:b,graphicalItems:J}),j==null?void 0:j.legendBBox);Object.keys(oe).forEach(function(te){oe[te]=d(b,oe[te],Q,te.replace("Map",""),n)});var D=oe["".concat(z,"Map")],ae=tFe(D),pe=m(b,_e(_e({},oe),{},{dataStartIndex:_,dataEndIndex:C,updateId:A,graphicalItems:J,stackGroups:H,offset:Q}));return _e(_e({formattedGraphicalItems:pe,graphicalItems:J,offset:Q,stackGroups:H},ae),oe)},x=function(y){function N(j){var b,_,C;return RLe(this,N),C=BLe(this,N,[j]),xt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(C,"accessibilityManager",new NLe),xt(C,"handleLegendBBoxUpdate",function(A){if(A){var P=C.state,E=P.dataStartIndex,M=P.dataEndIndex,$=P.updateId;C.setState(_e({legendBBox:A},g({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:$},_e(_e({},C.state),{},{legendBBox:A}))))}}),xt(C,"handleReceiveSyncEvent",function(A,P,E){if(C.props.syncId===A){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),xt(C,"handleBrushChange",function(A){var P=A.startIndex,E=A.endIndex;if(P!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return _e({dataStartIndex:P,dataEndIndex:E},g({props:C.props,dataStartIndex:P,dataEndIndex:E,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:E})}}),xt(C,"handleMouseEnter",function(A){var P=C.getMouseInfo(A);if(P){var E=_e(_e({},P),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseEnter;yt(M)&&M(E,A)}}),xt(C,"triggeredAfterMouseMove",function(A){var P=C.getMouseInfo(A),E=P?_e(_e({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseMove;yt(M)&&M(E,A)}),xt(C,"handleItemMouseEnter",function(A){C.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),xt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),xt(C,"handleMouseMove",function(A){A.persist(),C.throttleTriggeredAfterMouseMove(A)}),xt(C,"handleMouseLeave",function(A){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var E=C.props.onMouseLeave;yt(E)&&E(P,A)}),xt(C,"handleOuterEvent",function(A){var P=cye(A),E=wi(C.props,"".concat(P));if(P&&yt(E)){var M,$;/.*touch.*/i.test(P)?$=C.getMouseInfo(A.changedTouches[0]):$=C.getMouseInfo(A),E((M=$)!==null&&M!==void 0?M:{},A)}}),xt(C,"handleClick",function(A){var P=C.getMouseInfo(A);if(P){var E=_e(_e({},P),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var M=C.props.onClick;yt(M)&&M(E,A)}}),xt(C,"handleMouseDown",function(A){var P=C.props.onMouseDown;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleMouseUp",function(A){var P=C.props.onMouseUp;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),xt(C,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseDown(A.changedTouches[0])}),xt(C,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseUp(A.changedTouches[0])}),xt(C,"handleDoubleClick",function(A){var P=C.props.onDoubleClick;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"handleContextMenu",function(A){var P=C.props.onContextMenu;if(yt(P)){var E=C.getMouseInfo(A);P(E,A)}}),xt(C,"triggerSyncEvent",function(A){C.props.syncId!==void 0&&VS.emit(US,C.props.syncId,A,C.eventEmitterSymbol)}),xt(C,"applySyncEvent",function(A){var P=C.props,E=P.layout,M=P.syncMethod,$=C.state.updateId,k=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)C.setState(_e({dataStartIndex:k,dataEndIndex:O},g({props:C.props,dataStartIndex:k,dataEndIndex:O,updateId:$},C.state)));else if(A.activeTooltipIndex!==void 0){var L=A.chartX,z=A.chartY,J=A.activeTooltipIndex,H=C.state,oe=H.offset,Q=H.tooltipTicks;if(!oe)return;if(typeof M=="function")J=M(Q,A);else if(M==="value"){J=-1;for(var D=0;D<Q.length;D++)if(Q[D].value===A.activeLabel){J=D;break}}var ae=_e(_e({},oe),{},{x:oe.left,y:oe.top}),pe=Math.min(L,ae.x+ae.width),te=Math.min(z,ae.y+ae.height),Z=Q[J]&&Q[J].value,ne=pP(C.state,C.props.data,J),xe=Q[J]?{x:E==="horizontal"?Q[J].coordinate:pe,y:E==="horizontal"?te:Q[J].coordinate}:e9;C.setState(_e(_e({},A),{},{activeLabel:Z,activeCoordinate:xe,activePayload:ne,activeTooltipIndex:J}))}else C.setState(A)}),xt(C,"renderCursor",function(A){var P,E=C.state,M=E.isTooltipActive,$=E.activeCoordinate,k=E.activePayload,O=E.offset,L=E.activeTooltipIndex,z=E.tooltipAxisBandSize,J=C.getTooltipEventType(),H=(P=A.props.active)!==null&&P!==void 0?P:M,oe=C.props.layout,Q=A.key||"_recharts-cursor";return U.createElement(TLe,{key:Q,activeCoordinate:$,activePayload:k,activeTooltipIndex:L,chartName:n,element:A,isActive:H,layout:oe,offset:O,tooltipAxisBandSize:z,tooltipEventType:J})}),xt(C,"renderPolarAxis",function(A,P,E){var M=wi(A,"type.axisType"),$=wi(C.state,"".concat(M,"Map")),k=A.type.defaultProps,O=k!==void 0?_e(_e({},k),A.props):A.props,L=$&&$[O["".concat(M,"Id")]];return w.cloneElement(A,_e(_e({},L),{},{className:Et(M,L.className),key:A.key||"".concat(P,"-").concat(E),ticks:Ko(L,!0)}))}),xt(C,"renderPolarGrid",function(A){var P=A.props,E=P.radialLines,M=P.polarAngles,$=P.polarRadius,k=C.state,O=k.radiusAxisMap,L=k.angleAxisMap,z=ql(O),J=ql(L),H=J.cx,oe=J.cy,Q=J.innerRadius,D=J.outerRadius;return w.cloneElement(A,{polarAngles:Array.isArray(M)?M:Ko(J,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray($)?$:Ko(z,!0).map(function(ae){return ae.coordinate}),cx:H,cy:oe,innerRadius:Q,outerRadius:D,key:A.key||"polar-grid",radialLines:E})}),xt(C,"renderLegend",function(){var A=C.state.formattedGraphicalItems,P=C.props,E=P.children,M=P.width,$=P.height,k=C.props.margin||{},O=M-(k.left||0)-(k.right||0),L=A7({children:E,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!L)return null;var z=L.item,J=O3(L,kLe);return w.cloneElement(z,_e(_e({},J),{},{chartWidth:M,chartHeight:$,margin:k,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),xt(C,"renderTooltip",function(){var A,P=C.props,E=P.children,M=P.accessibilityLayer,$=mi(E,Vr);if(!$)return null;var k=C.state,O=k.isTooltipActive,L=k.activeCoordinate,z=k.activePayload,J=k.activeLabel,H=k.offset,oe=(A=$.props.active)!==null&&A!==void 0?A:O;return w.cloneElement($,{viewBox:_e(_e({},H),{},{x:H.left,y:H.top}),active:oe,label:J,payload:oe?z:[],coordinate:L,accessibilityLayer:M})}),xt(C,"renderBrush",function(A){var P=C.props,E=P.margin,M=P.data,$=C.state,k=$.offset,O=$.dataStartIndex,L=$.dataEndIndex,z=$.updateId;return w.cloneElement(A,{key:A.key||"_recharts-brush",onChange:jy(C.handleBrushChange,A.props.onChange),data:M,x:Ve(A.props.x)?A.props.x:k.left,y:Ve(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:Ve(A.props.width)?A.props.width:k.width,startIndex:O,endIndex:L,updateId:"brush-".concat(z)})}),xt(C,"renderReferenceElement",function(A,P,E){if(!A)return null;var M=C,$=M.clipPathId,k=C.state,O=k.xAxisMap,L=k.yAxisMap,z=k.offset,J=A.type.defaultProps||{},H=A.props,oe=H.xAxisId,Q=oe===void 0?J.xAxisId:oe,D=H.yAxisId,ae=D===void 0?J.yAxisId:D;return w.cloneElement(A,{key:A.key||"".concat(P,"-").concat(E),xAxis:O[Q],yAxis:L[ae],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:$})}),xt(C,"renderActivePoints",function(A){var P=A.item,E=A.activePoint,M=A.basePoint,$=A.childIndex,k=A.isRange,O=[],L=P.props.key,z=P.item.type.defaultProps!==void 0?_e(_e({},P.item.type.defaultProps),P.item.props):P.item.props,J=z.activeDot,H=z.dataKey,oe=_e(_e({index:$,dataKey:H,cx:E.x,cy:E.y,r:4,fill:wT(P.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ct(J,!1)),R0(J));return O.push(N.renderActiveDot(J,oe,"".concat(L,"-activePoint-").concat($))),M?O.push(N.renderActiveDot(J,_e(_e({},oe),{},{cx:M.x,cy:M.y}),"".concat(L,"-basePoint-").concat($))):k&&O.push(null),O}),xt(C,"renderGraphicChild",function(A,P,E){var M=C.filterFormatItem(A,P,E);if(!M)return null;var $=C.getTooltipEventType(),k=C.state,O=k.isTooltipActive,L=k.tooltipAxis,z=k.activeTooltipIndex,J=k.activeLabel,H=C.props.children,oe=mi(H,Vr),Q=M.props,D=Q.points,ae=Q.isRange,pe=Q.baseLine,te=M.item.type.defaultProps!==void 0?_e(_e({},M.item.type.defaultProps),M.item.props):M.item.props,Z=te.activeDot,ne=te.hide,xe=te.activeBar,ye=te.activeShape,se=!!(!ne&&O&&oe&&(Z||xe||ye)),F={};$!=="axis"&&oe&&oe.props.trigger==="click"?F={onClick:jy(C.handleItemMouseEnter,A.props.onClick)}:$!=="axis"&&(F={onMouseLeave:jy(C.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:jy(C.handleItemMouseEnter,A.props.onMouseEnter)});var Y=w.cloneElement(A,_e(_e({},M.props),F));function ee(Ke){return typeof L.dataKey=="function"?L.dataKey(Ke.payload):null}if(se)if(z>=0){var G,I;if(L.dataKey&&!L.allowDuplicatedCategory){var ve=typeof L.dataKey=="function"?ee:"payload.".concat(L.dataKey.toString());G=$0(D,ve,J),I=ae&&pe&&$0(pe,ve,J)}else G=D==null?void 0:D[z],I=ae&&pe&&pe[z];if(ye||xe){var we=A.props.activeIndex!==void 0?A.props.activeIndex:z;return[w.cloneElement(A,_e(_e(_e({},M.props),F),{},{activeIndex:we})),null,null]}if(!At(G))return[Y].concat(If(C.renderActivePoints({item:M,activePoint:G,basePoint:I,childIndex:z,isRange:ae})))}else{var Fe,Be=(Fe=C.getItemByXY(C.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:Y},it=Be.graphicalItem,lt=it.item,ft=lt===void 0?A:lt,Ne=it.childIndex,Ge=_e(_e(_e({},M.props),F),{},{activeIndex:Ne});return[w.cloneElement(ft,Ge),null,null]}return ae?[Y,null,null]:[Y,null]}),xt(C,"renderCustomized",function(A,P,E){return w.cloneElement(A,_e(_e({key:"recharts-customized-".concat(E)},C.props),C.state))}),xt(C,"renderMap",{CartesianGrid:{handler:Cy,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Cy},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Cy},YAxis:{handler:Cy},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:md("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Pq(C.triggeredAfterMouseMove,(_=j.throttleDelay)!==null&&_!==void 0?_:1e3/60),C.state={},C}return ULe(N,y),FLe(N,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,C=b.data,A=b.height,P=b.layout,E=mi(_,Vr);if(E){var M=E.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,k=pP(this.state,C,M,$),O=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+A)/2,z=P==="horizontal",J=z?{x:O,y:L}:{y:O,x:L},H=this.state.formattedGraphicalItems.find(function(Q){var D=Q.item;return D.type.name==="Scatter"});H&&(J=_e(_e({},J),H.props.points[M].tooltipPosition),k=H.props.points[M].tooltipPayload);var oe={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:$,activePayload:k,activeCoordinate:J};this.setState(oe),this.renderCursor(E),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var C,A;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){U2([mi(b.children,Vr)],[mi(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=mi(this.props.children,Vr);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,C=_.getBoundingClientRect(),A=$_e(C),P={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},E=C.width/_.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,E);if(!M)return null;var $=this.state,k=$.xAxisMap,O=$.yAxisMap,L=this.getTooltipEventType(),z=M3(this.state,this.props.data,this.props.layout,M);if(L!=="axis"&&k&&O){var J=ql(k).scale,H=ql(O).scale,oe=J&&J.invert?J.invert(P.chartX):null,Q=H&&H.invert?H.invert(P.chartY):null;return _e(_e({},P),{},{xValue:oe,yValue:Q},z)}return z?_e(_e({},P),z):null}},{key:"inRange",value:function(b,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,P=b/C,E=_/C;if(A==="horizontal"||A==="vertical"){var M=this.state.offset,$=P>=M.left&&P<=M.left+M.width&&E>=M.top&&E<=M.top+M.height;return $?{x:P,y:E}:null}var k=this.state,O=k.angleAxisMap,L=k.radiusAxisMap;if(O&&L){var z=ql(O);return rR({x:P,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),C=mi(b,Vr),A={};C&&_==="axis"&&(C.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=R0(this.props,this.handleOuterEvent);return _e(_e({},P),A)}},{key:"addListener",value:function(){VS.on(US,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){VS.removeListener(US,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,C){for(var A=this.state.formattedGraphicalItems,P=0,E=A.length;P<E;P++){var M=A[P];if(M.item===b||M.props.key===b.key||_===Qo(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,C=_.left,A=_.top,P=_.height,E=_.width;return U.createElement("defs",null,U.createElement("clipPath",{id:b},U.createElement("rect",{x:C,y:A,height:P,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,C){var A=k3(C,2),P=A[0],E=A[1];return _e(_e({},_),{},xt({},P,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,C){var A=k3(C,2),P=A[0],E=A[1];return _e(_e({},_),{},xt({},P,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,C=_.formattedGraphicalItems,A=_.activeItem;if(C&&C.length)for(var P=0,E=C.length;P<E;P++){var M=C[P],$=M.props,k=M.item,O=k.type.defaultProps!==void 0?_e(_e({},k.type.defaultProps),k.props):k.props,L=Qo(k.type);if(L==="Bar"){var z=($.data||[]).find(function(Q){return xMe(b,Q)});if(z)return{graphicalItem:M,payload:z}}else if(L==="RadialBar"){var J=($.data||[]).find(function(Q){return rR(b,Q)});if(J)return{graphicalItem:M,payload:J}}else if(Nw(M,A)||Sw(M,A)||zg(M,A)){var H=a4e({graphicalItem:M,activeTooltipItem:A,itemData:O.data}),oe=O.activeIndex===void 0?H:O.activeIndex;return{graphicalItem:_e(_e({},M),{},{childIndex:oe}),payload:zg(M,A)?O.data[H]:M.props.data[H]}}}return null}},{key:"render",value:function(){var b=this;if(!KI(this))return null;var _=this.props,C=_.children,A=_.className,P=_.width,E=_.height,M=_.style,$=_.compact,k=_.title,O=_.desc,L=O3(_,OLe),z=ct(L,!1);if($)return U.createElement(d3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(W2,xh({},z,{width:P,height:E,title:k,desc:O}),this.renderClipPath(),QI(C,this.renderMap)));if(this.props.accessibilityLayer){var J,H;z.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,z.role=(H=this.props.role)!==null&&H!==void 0?H:"application",z.onKeyDown=function(Q){b.accessibilityManager.keyboardEvent(Q)},z.onFocus=function(){b.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return U.createElement(d3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",xh({className:Et("recharts-wrapper",A),style:_e({position:"relative",cursor:"default",width:P,height:E},M)},oe,{ref:function(D){b.container=D}}),U.createElement(W2,xh({},z,{width:P,height:E,title:k,desc:O,style:YLe}),this.renderClipPath(),QI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);xt(x,"displayName",n),xt(x,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xt(x,"getDerivedStateFromProps",function(y,N){var j=y.dataKey,b=y.data,_=y.children,C=y.width,A=y.height,P=y.layout,E=y.stackOffset,M=y.margin,$=N.dataStartIndex,k=N.dataEndIndex;if(N.updateId===void 0){var O=I3(y);return _e(_e(_e({},O),{},{updateId:0},g(_e(_e({props:y},O),{},{updateId:0}),N)),{},{prevDataKey:j,prevData:b,prevWidth:C,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:M,prevChildren:_})}if(j!==N.prevDataKey||b!==N.prevData||C!==N.prevWidth||A!==N.prevHeight||P!==N.prevLayout||E!==N.prevStackOffset||!kh(M,N.prevMargin)){var L=I3(y),z={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},J=_e(_e({},M3(N,b,P)),{},{updateId:N.updateId+1}),H=_e(_e(_e({},L),z),J);return _e(_e(_e({},H),g(_e({props:y},H),N)),{},{prevDataKey:j,prevData:b,prevWidth:C,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:M,prevChildren:_})}if(!U2(_,N.prevChildren)){var oe,Q,D,ae,pe=mi(_,Nf),te=pe&&(oe=(Q=pe.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&oe!==void 0?oe:$,Z=pe&&(D=(ae=pe.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&D!==void 0?D:k,ne=te!==$||Z!==k,xe=!At(b),ye=xe&&!ne?N.updateId:N.updateId+1;return _e(_e({updateId:ye},g(_e(_e({props:y},N),{},{updateId:ye,dataStartIndex:te,dataEndIndex:Z}),N)),{},{prevChildren:_,dataStartIndex:te,dataEndIndex:Z})}return null}),xt(x,"renderActiveDot",function(y,N,j){var b;return w.isValidElement(y)?b=w.cloneElement(y,N):yt(y)?b=y(N):b=U.createElement(Ev,N),U.createElement(Yt,{className:"recharts-active-dot",key:j},b)});var v=w.forwardRef(function(N,j){return U.createElement(x,xh({},N,{ref:j}))});return v.displayName=x.displayName,v},R3=kw({chartName:"LineChart",GraphicalChild:Tf,axisComponents:[{axisType:"xAxis",AxisComp:$a},{axisType:"yAxis",AxisComp:Ra}],formatAxisMap:ST}),iFe=kw({chartName:"BarChart",GraphicalChild:io,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:$a},{axisType:"yAxis",AxisComp:Ra}],formatAxisMap:ST}),MT=kw({chartName:"PieChart",GraphicalChild:za,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ww},{axisType:"radiusAxis",AxisComp:jw}],formatAxisMap:Oke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),IT=kw({chartName:"AreaChart",GraphicalChild:Zi,axisComponents:[{axisType:"xAxis",AxisComp:$a},{axisType:"yAxis",AxisComp:Ra}],formatAxisMap:ST});function $T({open:e,onOpenChange:t,petId:n,consultationId:s}){const{data:i=[]}=gv(),{data:a=[]}=vv(),{data:o=[]}=sfe(),l=rfe(),{toast:c}=Ft(),[u,d]=w.useState({diagnosis:"",notes:"",validUntil:""}),[f,m]=w.useState([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}]),g=a.find(C=>C.id===n),x=g?i.find(C=>C.id===g.client_id):null,v=o.filter(C=>(C.category==="medication"||C.category==="supplement")&&C.current_quantity>0&&C.active),y=C=>{const{name:A,value:P}=C.target;d(E=>({...E,[A]:P}))},N=(C,A,P)=>{m(E=>E.map((M,$)=>$===C?{...M,[A]:P}:M))},j=()=>{m(C=>[...C,{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])},b=C=>{f.length>1&&m(A=>A.filter((P,E)=>E!==C))},_=async C=>{if(C.preventDefault(),!g||!x){c({title:"Erreur",description:"Impossible de trouver l'animal ou le client associé.",variant:"destructive"});return}const A=f.filter(E=>E.medication_name.trim()!=="");if(A.length===0){c({title:"Erreur",description:"Veuillez ajouter au moins un médicament à la prescription.",variant:"destructive"});return}const P={consultation_id:s,animal_id:g.id,client_id:x.id,diagnosis:u.diagnosis,notes:u.notes,valid_until:u.validUntil||void 0,medications:A};try{await l.mutateAsync(P),c({title:"Prescription créée",description:`Prescription créée avec succès pour ${g.name}.`}),t(!1),d({diagnosis:"",notes:"",validUntil:""}),m([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])}catch(E){console.error("Error creating prescription:",E),c({title:"Erreur",description:"Une erreur est survenue lors de la création de la prescription.",variant:"destructive"})}};return!g||!x?r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur"}),r.jsx(jn,{children:"Impossible de trouver l'animal ou le client associé."})]})})}):r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Prescription"}),r.jsxs(jn,{children:["Créer une nouvelle prescription pour ",g.name," (",x.first_name," ",x.last_name,")"]})]}),r.jsxs("form",{onSubmit:_,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(Nt,{id:"diagnosis",name:"diagnosis",value:u.diagnosis,onChange:y,placeholder:"Entrez le diagnostic...",className:"h-20"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"validUntil",children:"Valide jusqu'au (optionnel)"}),r.jsx(ie,{id:"validUntil",name:"validUntil",type:"date",value:u.validUntil,onChange:y})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(B,{className:"text-lg font-semibold",children:"Médicaments"}),r.jsxs(q,{type:"button",onClick:j,size:"sm",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter un médicament"]})]}),f.map((C,A)=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",A+1]}),f.length>1&&r.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:()=>b(A),children:r.jsx(Vn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Médicament *"}),r.jsxs(Me,{value:C.medication_name,onValueChange:P=>N(A,"medication_name",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner ou taper..."})}),r.jsx(De,{children:v.map(P=>r.jsxs(V,{value:P.name,children:[P.name," (",P.current_quantity," ",P.unit,")"]},P.id))})]}),!v.find(P=>P.name===C.medication_name)&&r.jsx(ie,{className:"mt-2",value:C.medication_name,onChange:P=>N(A,"medication_name",P.target.value),placeholder:"Nom du médicament personnalisé"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Dosage"}),r.jsx(ie,{value:C.dosage||"",onChange:P=>N(A,"dosage",P.target.value),placeholder:"ex: 5mg"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Fréquence"}),r.jsxs(Me,{value:C.frequency||"",onValueChange:P=>N(A,"frequency",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner..."})}),r.jsxs(De,{children:[r.jsx(V,{value:"1x/jour",children:"1 fois par jour"}),r.jsx(V,{value:"2x/jour",children:"2 fois par jour"}),r.jsx(V,{value:"3x/jour",children:"3 fois par jour"}),r.jsx(V,{value:"1x/semaine",children:"1 fois par semaine"}),r.jsx(V,{value:"selon besoin",children:"Selon besoin"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Durée"}),r.jsx(ie,{value:C.duration||"",onChange:P=>N(A,"duration",P.target.value),placeholder:"ex: 7 jours"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Quantité *"}),r.jsx(ie,{type:"number",min:"1",value:C.quantity,onChange:P=>N(A,"quantity",parseInt(P.target.value)||1)})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Voie d'administration"}),r.jsxs(Me,{value:C.route||"oral",onValueChange:P=>N(A,"route",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"oral",children:"Orale"}),r.jsx(V,{value:"injectable",children:"Injectable"}),r.jsx(V,{value:"topique",children:"Topique"}),r.jsx(V,{value:"intraveineuse",children:"Intraveineuse"}),r.jsx(V,{value:"intramusculaire",children:"Intramusculaire"}),r.jsx(V,{value:"sous-cutanée",children:"Sous-cutanée"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Instructions spéciales"}),r.jsx(Nt,{value:C.instructions||"",onChange:P=>N(A,"instructions",P.target.value),placeholder:"Instructions particulières pour ce médicament...",className:"h-16"})]})]},A))]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes générales"}),r.jsx(Nt,{id:"notes",name:"notes",value:u.notes,onChange:y,placeholder:"Notes générales sur la prescription...",className:"h-20"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:"Annuler"}),r.jsx(q,{type:"submit",disabled:l.isPending,children:l.isPending?"Création...":"Créer la prescription"})]})]})]})})}function aFe({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:s}=jt(),{toast:i}=Ft(),[a,o]=w.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=w.useState([]);w.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=y=>{o(N=>({...N,[y.target.id]:y.target.value}))},d=(y,N)=>{o(j=>({...j,[y]:N}))},f=(y,N,j)=>{const b=[...l];b[y]={...b[y],[N]:N==="quantity"||N==="refills"||N==="cost"?Number(j):j},c(b)},m=()=>{const y=Math.max(...l.map(N=>N.id),0)+1;c([...l,{id:y,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0}])},g=y=>{l.length>1&&c(l.filter((N,j)=>j!==y))},x=y=>{if(y.preventDefault(),!n)return;const N=l.filter(j=>j.name.trim()!=="");if(N.length===0){i({title:"Erreur",description:"Au moins un médicament doit être spécifié.",variant:"destructive"});return}s(n.id,{date:a.date,prescribedBy:a.prescribedBy,diagnosis:a.diagnosis,medications:N,instructions:a.instructions,duration:a.duration,followUpDate:a.followUpDate||void 0,status:a.status,notes:a.notes}),i({title:"Prescription mise à jour",description:"La prescription a été modifiée avec succès."}),t(!1)},v=()=>l.reduce((y,N)=>y+(N.cost||0),0);return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(_h,{className:"h-5 w-5"}),"Modifier la Prescription"]}),r.jsxs(jn,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date de prescription *"}),r.jsx(ie,{id:"date",type:"date",value:a.date,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"prescribedBy",children:"Prescrit par *"}),r.jsx(ie,{id:"prescribedBy",value:a.prescribedBy,onChange:u,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"diagnosis",children:"Diagnostic *"}),r.jsx(ie,{id:"diagnosis",value:a.diagnosis,onChange:u,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"duration",children:"Durée du traitement"}),r.jsx(ie,{id:"duration",value:a.duration,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUpDate",children:"Date de suivi"}),r.jsx(ie,{id:"followUpDate",type:"date",value:a.followUpDate,onChange:u,min:a.date})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Statut"}),r.jsxs(Me,{value:a.status,onValueChange:y=>d("status",y),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"active",children:"Active"}),r.jsx(V,{value:"completed",children:"Terminée"}),r.jsx(V,{value:"discontinued",children:"Arrêtée"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(B,{className:"text-base font-medium",children:"Médicaments prescrits"}),r.jsxs(q,{type:"button",variant:"outline",size:"sm",onClick:m,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter médicament"]})]}),r.jsx("div",{className:"space-y-4",children:l.map((y,N)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",N+1]}),l.length>1&&r.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:()=>g(N),className:"text-red-600 hover:text-red-700",children:r.jsx(Vn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Nom du médicament *"}),r.jsx(ie,{value:y.name,onChange:j=>f(N,"name",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Dosage *"}),r.jsx(ie,{value:y.dosage,onChange:j=>f(N,"dosage",j.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Fréquence *"}),r.jsx(ie,{value:y.frequency,onChange:j=>f(N,"frequency",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Durée"}),r.jsx(ie,{value:y.duration,onChange:j=>f(N,"duration",j.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Quantité"}),r.jsx(ie,{type:"number",value:y.quantity,onChange:j=>f(N,"quantity",parseInt(j.target.value)),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Unité"}),r.jsxs(Me,{value:y.unit,onValueChange:j=>f(N,"unit",j),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"comprimés",children:"Comprimés"}),r.jsx(V,{value:"ml",children:"ml"}),r.jsx(V,{value:"g",children:"g"}),r.jsx(V,{value:"mg",children:"mg"}),r.jsx(V,{value:"ampoules",children:"Ampoules"}),r.jsx(V,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Coût (€)"}),r.jsx(ie,{type:"number",step:"0.01",value:y.cost,onChange:j=>f(N,"cost",parseFloat(j.target.value)),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Instructions spécifiques"}),r.jsx(ie,{value:y.instructions,onChange:j=>f(N,"instructions",j.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Renouvellements"}),r.jsx(ie,{type:"number",value:y.refills,onChange:j=>f(N,"refills",parseInt(j.target.value)),min:"0"})]})]})]},y.id))}),r.jsx("div",{className:"flex justify-end",children:r.jsxs($e,{variant:"outline",className:"text-lg px-4 py-2",children:["Coût total: ",v().toFixed(2),"€"]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"instructions",children:"Instructions générales"}),r.jsx(Nt,{id:"instructions",value:a.instructions,onChange:u,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:a.notes,onChange:u,rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(q,{type:"submit",className:"gap-2",children:[r.jsx(_p,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const oFe="vetpro-veterinarians";function gP({prescription:e}){const{settings:t}=Jt();JSON.parse(localStorage.getItem(oFe)||"[]");const n=e.prescribedBy,s=()=>{const i=window.open("","_blank");if(!i)return;const a=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MÉDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tél: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propriétaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Durée du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Médicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Durée</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantité</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Coût</th>
                      <td>${o.cost.toFixed(2)}€</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Coût total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}€
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions générales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prévue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vétérinaire</p>
            <p><small>Cette prescription est valable pour la durée du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;i.document.write(a),i.document.close(),i.focus(),i.print(),i.close()};return r.jsxs(q,{size:"sm",variant:"outline",onClick:s,className:"gap-2",children:[r.jsx(NA,{className:"h-4 w-4"}),"Générer Ordonnance"]})}const lFe={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},cFe={active:"Active",completed:"Terminée",discontinued:"Arrêtée"};function n9({petId:e,consultationId:t}){const{prescriptions:n,getPrescriptionsByPetId:s,getPrescriptionsByConsultationId:i,deletePrescription:a}=jt(),{toast:o}=Ft(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),g=t?i(t):s(e),x=j=>{m(j),d(!0)},v=j=>{confirm(`Êtes-vous sûr de vouloir supprimer la prescription pour ${j.medications.map(b=>b.name).join(", ")} ?`)&&(a(j.id),o({title:"Prescription supprimée",description:"La prescription a été supprimée avec succès."}))},y=j=>{switch(j){case"active":return r.jsx(zr,{className:"h-4 w-4 text-green-600"});case"completed":return r.jsx(er,{className:"h-4 w-4 text-gray-600"});case"discontinued":return r.jsx(eg,{className:"h-4 w-4 text-red-600"});default:return r.jsx($n,{className:"h-4 w-4 text-gray-600"})}},N=j=>j.reduce((b,_)=>b+(_.cost||0),0);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(_h,{className:"h-5 w-5"}),"Prescriptions (",g.length,")"]}),r.jsxs(q,{size:"sm",onClick:()=>c(!0),disabled:!t,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),g.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(_h,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune prescription trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer une nouvelle prescription"})]})}):r.jsx("div",{className:"space-y-4",children:g.sort((j,b)=>new Date(b.date).getTime()-new Date(j.date).getTime()).map(j=>r.jsxs(he,{className:"card-hover",children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[y(j.status),r.jsx($e,{className:lFe[j.status],children:cFe[j.status]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx(Pt,{className:"h-4 w-4 inline mr-1"}),new Date(j.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(gP,{prescription:j}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>x(j),className:"h-8 w-8 p-0",title:"Modifier",children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>v(j),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:r.jsx(Vn,{className:"h-3 w-3"})})]})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prescrit par:"}),r.jsx("p",{className:"text-muted-foreground",children:j.prescribedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-muted-foreground",children:j.diagnosis})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"}),r.jsx("p",{className:"text-muted-foreground",children:j.duration})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Coût total:"}),r.jsxs("p",{className:"text-muted-foreground",children:[N(j.medications).toFixed(2),"€"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Médicaments prescrits:"}),r.jsx("div",{className:"space-y-3",children:j.medications.map(b=>r.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Posologie:"})," ",b.dosage," - ",b.frequency]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",b.duration]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Quantité:"})," ",b.quantity," ",b.unit]}),b.refills&&b.refills>0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Renouvellements:"})," ",b.refills]}),b.instructions&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Instructions:"})," ",b.instructions]})]}),b.cost&&r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"font-medium",children:[b.cost.toFixed(2),"€"]})})]})},b.id))})]}),j.instructions&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Instructions générales:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.instructions})]}),j.followUpDate&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Suivi prévu:"}),r.jsx("span",{className:"text-muted-foreground",children:new Date(j.followUpDate).toLocaleDateString("fr-FR")})]}),j.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.notes})]})]})]},j.id))})]}),t&&r.jsx($T,{open:l,onOpenChange:c,petId:e.toString(),consultationId:t.toString()}),r.jsx(aFe,{open:u,onOpenChange:d,prescription:f})]})}var r9={exports:{}};(function(e,t){(function(n,s){e.exports=s(w)})(typeof self<"u"?self:lr,function(n){return function(){var s={155:function(N){N.exports=n}},i={};function a(N){var j=i[N];if(j!==void 0)return j.exports;var b=i[N]={exports:{}};return s[N](b,b.exports,a),b.exports}a.d=function(N,j){for(var b in j)a.o(j,b)&&!a.o(N,b)&&Object.defineProperty(N,b,{enumerable:!0,get:j[b]})},a.o=function(N,j){return Object.prototype.hasOwnProperty.call(N,j)},a.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return y}});var l=a(155);function c({level:N="error",messages:j,suppressErrors:b=!1}){b||(N==="error"?console.error(j):N==="warning"?console.warn(j):console.debug(j))}function u(N,j){if(j||!N){const b=document.getElementById("printWindow");b&&document.body.removeChild(b)}}function d(N){return N instanceof Error?N:new Error("Unknown Error")}function f(N,j){const{documentTitle:b,onAfterPrint:_,onPrintError:C,preserveAfterPrint:A,print:P,suppressErrors:E}=j;setTimeout(()=>{var M,$;if(N.contentWindow){let O=function(){_==null||_(),u(A)};var k=O;if(N.contentWindow.focus(),P)P(N).then(O).catch(L=>{C?C("print",d(L)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(N.contentWindow.print){const L=($=(M=N.contentDocument)===null||M===void 0?void 0:M.title)!==null&&$!==void 0?$:"",z=N.ownerDocument.title;b&&(N.ownerDocument.title=b,N.contentDocument&&(N.contentDocument.title=b)),N.contentWindow.print(),b&&(N.ownerDocument.title=z,N.contentDocument&&(N.contentDocument.title=L))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(L=>{var z,J;return((J=(z=navigator.userAgent)!==null&&z!==void 0?z:navigator.vendor)!==null&&J!==void 0?J:"opera"in window&&window.opera).match(L)})?setTimeout(O,500):O()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function m(N){const j=[],b=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let _=b.nextNode();for(;_;)j.push(_),_=b.nextNode();return j}function g(N,j,b){const _=m(N),C=m(j);if(_.length===C.length)for(let A=0;A<_.length;A++){const P=_[A],E=C[A],M=P.shadowRoot;if(M!==null){const $=E.attachShadow({mode:M.mode});$.innerHTML=M.innerHTML,g(M,$,b)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,j],suppressErrors:b})}const x=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function v(N,j,b,_){var C,A,P,E,M;const{contentNode:$,clonedContentNode:k,clonedImgNodes:O,clonedVideoNodes:L,numResourcesToLoad:z,originalCanvasNodes:J}=b,{bodyClass:H,fonts:oe,ignoreGlobalStyles:Q,pageStyle:D,nonce:ae,suppressErrors:pe,copyShadowRoots:te}=_;N.onload=null;const Z=(C=N.contentDocument)!==null&&C!==void 0?C:(A=N.contentWindow)===null||A===void 0?void 0:A.document;if(Z){const ne=Z.body.appendChild(k);te&&g($,ne,!!pe),oe&&(!((P=N.contentDocument)===null||P===void 0)&&P.fonts&&(!((E=N.contentWindow)===null||E===void 0)&&E.FontFace)?oe.forEach(G=>{const I=new FontFace(G.family,G.source,{weight:G.weight,style:G.style});N.contentDocument.fonts.add(I),I.loaded.then(()=>{j(I)}).catch(ve=>{j(I,["Failed loading the font:",I,"Load error:",d(ve)])})}):(oe.forEach(G=>{j(G)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:pe})));const xe=D??x,ye=Z.createElement("style");ae&&(ye.setAttribute("nonce",ae),Z.head.setAttribute("nonce",ae)),ye.appendChild(Z.createTextNode(xe)),Z.head.appendChild(ye),H&&Z.body.classList.add(...H.split(" "));const se=Z.querySelectorAll("canvas");for(let G=0;G<J.length;++G){const I=J[G],ve=se[G];if(ve===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",I],suppressErrors:pe});continue}const we=ve.getContext("2d");we&&we.drawImage(I,0,0)}for(let G=0;G<O.length;G++){const I=O[G],ve=I.getAttribute("src");if(ve){const we=new Image;we.onload=()=>{j(I)},we.onerror=(Fe,Be,it,lt,ft)=>{j(I,["Error loading <img>",I,"Error",ft])},we.src=ve}else j(I,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',I])}for(let G=0;G<L.length;G++){const I=L[G];I.preload="auto";const ve=I.getAttribute("poster");if(ve){const we=new Image;we.onload=()=>{j(I)},we.onerror=(Fe,Be,it,lt,ft)=>{j(I,["Error loading video poster",ve,"for video",I,"Error:",ft])},we.src=ve}else I.readyState>=2?j(I):I.src?(I.onloadeddata=()=>{j(I)},I.onerror=(we,Fe,Be,it,lt)=>{j(I,["Error loading video",I,"Error",lt])},I.onstalled=()=>{j(I,["Loading video stalled, skipping",I])}):j(I,["Error loading video, `src` is empty",I])}const F="select",Y=$.querySelectorAll(F),ee=Z.querySelectorAll(F);for(let G=0;G<Y.length;G++)ee[G].value=Y[G].value;if(!Q){const G=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let I=0,ve=G.length;I<ve;++I){const we=G[I];if(we.tagName.toLowerCase()==="style"){const Fe=Z.createElement(we.tagName),Be=we.sheet;if(Be){let it="";try{const lt=Be.cssRules.length;for(let ft=0;ft<lt;++ft)typeof Be.cssRules[ft].cssText=="string"&&(it+=`${Be.cssRules[ft].cssText}\r
`)}catch(lt){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",we,`Original error: ${d(lt).message}`],level:"warning"})}Fe.setAttribute("id",`react-to-print-${I}`),ae&&Fe.setAttribute("nonce",ae),Fe.appendChild(Z.createTextNode(it)),Z.head.appendChild(Fe)}}else if(we.getAttribute("href"))if(we.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",we],level:"warning"}),j(we);else{const Fe=Z.createElement(we.tagName);for(let Be=0,it=we.attributes.length;Be<it;++Be){const lt=we.attributes[Be];lt&&Fe.setAttribute(lt.nodeName,(M=lt.nodeValue)!==null&&M!==void 0?M:"")}Fe.onload=()=>{j(Fe)},Fe.onerror=(Be,it,lt,ft,Ne)=>{j(Fe,["Failed to load",Fe,"Error:",Ne])},ae&&Fe.setAttribute("nonce",ae),Z.head.appendChild(Fe)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",we],level:"warning"}),j(we)}}}z===0&&f(N,_)}function y({bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:_,fonts:C,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:M,onPrintError:$,pageStyle:k,preserveAfterPrint:O,print:L,suppressErrors:z}){return(0,l.useCallback)(J=>{function H(){const oe={bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:_,fonts:C,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:M,onPrintError:$,pageStyle:k,preserveAfterPrint:O,print:L,suppressErrors:z},Q=function(){const pe=document.createElement("iframe");return pe.width=`${document.documentElement.clientWidth}px`,pe.height=`${document.documentElement.clientHeight}px`,pe.style.position="absolute",pe.style.top=`-${document.documentElement.clientHeight+100}px`,pe.style.left=`-${document.documentElement.clientWidth+100}px`,pe.id="printWindow",pe.srcdoc="<!DOCTYPE html>",pe}(),D=function(pe,te){const{contentRef:Z,fonts:ne,ignoreGlobalStyles:xe,suppressErrors:ye}=te,se=function({contentRef:ve,optionalContent:we,suppressErrors:Fe}){return we&&typeof we=="function"?(ve&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),we()):ve?ve.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Fe})}({contentRef:Z,optionalContent:pe,suppressErrors:ye});if(!se)return;const F=se.cloneNode(!0),Y=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ee=F.querySelectorAll("img"),G=F.querySelectorAll("video"),I=ne?ne.length:0;return{contentNode:se,clonedContentNode:F,clonedImgNodes:ee,clonedVideoNodes:G,numResourcesToLoad:(xe?0:Y.length)+ee.length+G.length+I,originalCanvasNodes:se.querySelectorAll("canvas")}}(J,oe);if(!D)return void c({messages:["There is nothing to print"],suppressErrors:z});const ae=function(pe,te,Z){const{suppressErrors:ne}=pe,xe=[],ye=[];return function(se,F){xe.includes(se)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",se],suppressErrors:ne}):(F?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...F],suppressErrors:ne}),ye.push(se)):xe.push(se),xe.length+ye.length===te&&f(Z,pe))}}(oe,D.numResourcesToLoad,Q);(function(pe,te,Z,ne){pe.onload=()=>{v(pe,te,Z,ne)},document.body.appendChild(pe)})(Q,ae,D,oe)}u(O,!0),M?M().then(()=>{H()}).catch(oe=>{$==null||$("onBeforePrint",d(oe))}):H()},[N,j,b,_,C,A,P,E,M,$,k,O,L,z])}return o}()})})(r9);var RT=r9.exports,uFe=Object.defineProperty,Lj=Object.getOwnPropertySymbols,s9=Object.prototype.hasOwnProperty,i9=Object.prototype.propertyIsEnumerable,L3=(e,t,n)=>t in e?uFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vP=(e,t)=>{for(var n in t||(t={}))s9.call(t,n)&&L3(e,n,t[n]);if(Lj)for(var n of Lj(t))i9.call(t,n)&&L3(e,n,t[n]);return e},xP=(e,t)=>{var n={};for(var s in e)s9.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Lj)for(var s of Lj(e))t.indexOf(s)<0&&i9.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var rd;(e=>{const t=class Ht{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Ht.MIN_VERSION||c>Ht.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),f==-1){let x=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<x&&(f=v,x=y),this.applyMask(v)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Ht.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Ht.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,g=!0){if(!(Ht.MIN_VERSION<=d&&d<=f&&f<=Ht.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,v;for(x=d;;x++){const b=Ht.getNumDataCodewords(x,u)*8,_=o.getTotalBits(c,x);if(_<=b){v=_;break}if(x>=f)throw new RangeError("Data too long")}for(const b of[Ht.Ecc.MEDIUM,Ht.Ecc.QUARTILE,Ht.Ecc.HIGH])g&&v<=Ht.getNumDataCodewords(x,b)*8&&(u=b);let y=[];for(const b of c){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(x),y);for(const _ of b.getData())y.push(_)}i(y.length==v);const N=Ht.getNumDataCodewords(x,u)*8;i(y.length<=N),n(0,Math.min(4,N-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let b=236;y.length<N;b^=253)n(b,8,y);let j=[];for(;j.length*8<y.length;)j.push(0);return y.forEach((b,_)=>j[_>>>3]|=b<<7-(_&7)),new Ht(x,u,j,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,s(f,m));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,s(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,s(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,s(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const f=s(u,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,f),this.setFunctionModule(g,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),g=c+f,x=u+d;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Ht.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Ht.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Ht.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(Ht.getNumRawDataModules(u)/8),x=f-g%f,v=Math.floor(g/f);let y=[];const N=Ht.reedSolomonComputeDivisor(m);for(let b=0,_=0;b<f;b++){let C=c.slice(_,_+v-m+(b<x?0:1));_+=C.length;const A=Ht.reedSolomonComputeRemainder(C,N);b<x&&C.push(0),y.push(C.concat(A))}let j=[];for(let b=0;b<y[0].length;b++)y.forEach((_,C)=>{(b!=v-m||C>=x)&&j.push(_[b])});return i(j.length==g),j}drawCodewords(c){if(c.length!=Math.floor(Ht.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const g=d-m,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][g]&&u<c.length*8&&(this.modules[v][g]=s(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[m][y]==g?(x++,x==5?c+=Ht.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Ht.PENALTY_N3),g=this.modules[m][y],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Ht.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][m]==g?(x++,x==5?c+=Ht.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Ht.PENALTY_N3),g=this.modules[y][m],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Ht.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const x=this.modules[m][g];x==this.modules[m][g+1]&&x==this.modules[m+1][g]&&x==this.modules[m+1][g+1]&&(c+=Ht.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,x)=>g+(x?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=f&&f<=9),c+=f*Ht.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Ht.MIN_VERSION||c>Ht.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Ht.getNumRawDataModules(c)/8)-Ht.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Ht.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Ht.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Ht.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((g,x)=>d[x]^=Ht.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class sr{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new sr(sr.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!sr.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new sr(sr.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!sr.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=sr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=sr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(sr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new sr(sr.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:sr.isNumeric(c)?[sr.makeNumeric(c)]:sr.isAlphanumeric(c)?[sr.makeAlphanumeric(c)]:[sr.makeBytes(sr.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new sr(sr.Mode.ECI,0,u)}static isNumeric(c){return sr.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return sr.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(rd||(rd={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(rd||(rd={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(rd||(rd={}));var yh=rd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var dFe={L:yh.QrCode.Ecc.LOW,M:yh.QrCode.Ecc.MEDIUM,Q:yh.QrCode.Ecc.QUARTILE,H:yh.QrCode.Ecc.HIGH},a9=128,o9="L",l9="#FFFFFF",c9="#000000",u9=!1,d9=1,hFe=4,fFe=0,mFe=.1;function h9(e,t=0){const n=[];return e.forEach(function(s,i){let a=null;s.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===s.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function f9(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function pFe(e,t,n,s){if(s==null)return null;const i=e.length+n*2,a=Math.floor(t*mFe),o=i/t,l=(s.width||a)*o,c=(s.height||a)*o,u=s.x==null?e.length/2-l/2:s.x*o,d=s.y==null?e.length/2-c/2:s.y*o,f=s.opacity==null?1:s.opacity;let m=null;if(s.excavate){let x=Math.floor(u),v=Math.floor(d),y=Math.ceil(l+u-x),N=Math.ceil(c+d-v);m={x,y:v,w:y,h:N}}const g=s.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:g}}function gFe(e,t){return t!=null?Math.max(Math.floor(t),0):e?hFe:fFe}function m9({value:e,level:t,minVersion:n,includeMargin:s,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=U.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((v,y)=>(v.push(...yh.QrSegment.makeSegments(y)),v),[]);return yh.QrCode.encodeSegments(x,dFe[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=U.useMemo(()=>{let g=c.getModules();const x=gFe(s,i),v=g.length+x*2,y=pFe(g,o,x,a);return{cells:g,margin:x,numCells:v,calculatedImageSettings:y}},[c,o,a,s,i]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var vFe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),p9=U.forwardRef(function(t,n){const s=t,{value:i,size:a=a9,level:o=o9,bgColor:l=l9,fgColor:c=c9,includeMargin:u=u9,minVersion:d=d9,boostLevel:f,marginSize:m,imageSettings:g}=s,v=xP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=v,N=xP(v,["style"]),j=g==null?void 0:g.src,b=U.useRef(null),_=U.useRef(null),C=U.useCallback(z=>{b.current=z,typeof n=="function"?n(z):n&&(n.current=z)},[n]),[A,P]=U.useState(!1),{margin:E,cells:M,numCells:$,calculatedImageSettings:k}=m9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:a});U.useEffect(()=>{if(b.current!=null){const z=b.current,J=z.getContext("2d");if(!J)return;let H=M;const oe=_.current,Q=k!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;Q&&k.excavation!=null&&(H=f9(M,k.excavation));const D=window.devicePixelRatio||1;z.height=z.width=a*D;const ae=a/$*D;J.scale(ae,ae),J.fillStyle=l,J.fillRect(0,0,$,$),J.fillStyle=c,vFe?J.fill(new Path2D(h9(H,E))):M.forEach(function(pe,te){pe.forEach(function(Z,ne){Z&&J.fillRect(ne+E,te+E,1,1)})}),k&&(J.globalAlpha=k.opacity),Q&&J.drawImage(oe,k.x+E,k.y+E,k.w,k.h)}}),U.useEffect(()=>{P(!1)},[j]);const O=vP({height:a,width:a},y);let L=null;return j!=null&&(L=U.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{P(!0)},ref:_,crossOrigin:k==null?void 0:k.crossOrigin})),U.createElement(U.Fragment,null,U.createElement("canvas",vP({style:O,height:a,width:a,ref:C,role:"img"},N)),L)});p9.displayName="QRCodeCanvas";var xFe=U.forwardRef(function(t,n){const s=t,{value:i,size:a=a9,level:o=o9,bgColor:l=l9,fgColor:c=c9,includeMargin:u=u9,minVersion:d=d9,boostLevel:f,title:m,marginSize:g,imageSettings:x}=s,v=xP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:N,numCells:j,calculatedImageSettings:b}=m9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:x,size:a});let _=N,C=null;x!=null&&b!=null&&(b.excavation!=null&&(_=f9(N,b.excavation)),C=U.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const A=h9(_,y);return U.createElement("svg",vP({height:a,width:a,viewBox:`0 0 ${j} ${j}`,ref:n,role:"img"},v),!!m&&U.createElement("title",null,m),U.createElement("path",{fill:l,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),U.createElement("path",{fill:c,d:A,shapeRendering:"crispEdges"}),C)});xFe.displayName="QRCodeSVG";var Fj={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Fj.exports;(function(e,t){(function(){var n,s="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,m=2,g=4,x=1,v=2,y=1,N=2,j=4,b=8,_=16,C=32,A=64,P=128,E=256,M=512,$=30,k="...",O=800,L=16,z=1,J=2,H=3,oe=1/0,Q=9007199254740991,D=17976931348623157e292,ae=NaN,pe=4294967295,te=pe-1,Z=pe>>>1,ne=[["ary",P],["bind",y],["bindKey",N],["curry",b],["curryRight",_],["flip",M],["partial",C],["partialRight",A],["rearg",E]],xe="[object Arguments]",ye="[object Array]",se="[object AsyncFunction]",F="[object Boolean]",Y="[object Date]",ee="[object DOMException]",G="[object Error]",I="[object Function]",ve="[object GeneratorFunction]",we="[object Map]",Fe="[object Number]",Be="[object Null]",it="[object Object]",lt="[object Promise]",ft="[object Proxy]",Ne="[object RegExp]",Ge="[object Set]",Ke="[object String]",qt="[object Symbol]",Yn="[object Undefined]",Tt="[object WeakMap]",Nn="[object WeakSet]",ur="[object ArrayBuffer]",Qn="[object DataView]",gs="[object Float32Array]",Se="[object Float64Array]",Vt="[object Int8Array]",tt="[object Int16Array]",mt="[object Int32Array]",rn="[object Uint8Array]",is="[object Uint8ClampedArray]",Yr="[object Uint16Array]",Rs="[object Uint32Array]",xl=/\b__p \+= '';/g,ce=/\b(__p \+=) '' \+/g,qe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,Tn=/[&<>"']/g,Xn=RegExp(Le.source),sa=RegExp(Tn.source),bt=/<%-([\s\S]+?)%>/g,an=/<%([\s\S]+?)%>/g,gn=/<%=([\s\S]+?)%>/g,vs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xs=/^\w*$/,Pi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,si=/[\\^$.*+?()[\]{}|]/g,ys=RegExp(si.source),Ls=/^\s+/,Dw=/\s/,Mw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Iw=/\{\n\/\* \[wrapped with (.+)\] \*/,$w=/,? & /,Rw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lw=/[()=,{}\[\]\/\s]/,Fw=/\\(\\)?/g,Bw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tv=/\w*$/,zw=/^[-+]0x[0-9a-f]+$/i,Vw=/^0b[01]+$/i,Uw=/^\[object .+?Constructor\]$/,pm=/^0o[0-7]+$/i,yd=/^(?:0|[1-9]\d*)$/,qw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wo=/($^)/,Ww=/['\n\r\u2028\u2029\\]/g,jd="\\ud800-\\udfff",Hw="\\u0300-\\u036f",Gw="\\ufe20-\\ufe2f",Kw="\\u20d0-\\u20ff",kv=Hw+Gw+Kw,Ov="\\u2700-\\u27bf",Dv="a-z\\xdf-\\xf6\\xf8-\\xff",Yw="\\xac\\xb1\\xd7\\xf7",Qw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xw="\\u2000-\\u206f",Jw=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mv="A-Z\\xc0-\\xd6\\xd8-\\xde",Iv="\\ufe0e\\ufe0f",$v=Yw+Qw+Xw+Jw,gm="['’]",yl="["+jd+"]",Rv="["+$v+"]",bd="["+kv+"]",wd="\\d+",vm="["+Ov+"]",Lv="["+Dv+"]",re="[^"+jd+$v+wd+Ov+Dv+Mv+"]",X="\\ud83c[\\udffb-\\udfff]",de="(?:"+bd+"|"+X+")",ge="[^"+jd+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Mv+"]",at="\\u200d",_n="(?:"+Lv+"|"+re+")",vn="(?:"+ze+"|"+re+")",dt="(?:"+gm+"(?:d|ll|m|re|s|t|ve))?",Rn="(?:"+gm+"(?:D|LL|M|RE|S|T|VE))?",Qr=de+"?",ia="["+Iv+"]?",Va="(?:"+at+"(?:"+[ge,We,Je].join("|")+")"+ia+Qr+")*",Nd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zw="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xm=ia+Qr+Va,e1="(?:"+[vm,We,Je].join("|")+")"+xm,t1="(?:"+[ge+bd+"?",bd,We,Je,yl].join("|")+")",n1=RegExp(gm,"g"),r1=RegExp(bd,"g"),ym=RegExp(X+"(?="+X+")|"+t1+xm,"g"),s1=RegExp([ze+"?"+Lv+"+"+dt+"(?="+[Rv,ze,"$"].join("|")+")",vn+"+"+Rn+"(?="+[Rv,ze+_n,"$"].join("|")+")",ze+"?"+_n+"+"+dt,ze+"+"+Rn,Zw,Nd,wd,e1].join("|"),"g"),i1=RegExp("["+at+jd+kv+Iv+"]"),a1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,o1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],l1=-1,Pn={};Pn[gs]=Pn[Se]=Pn[Vt]=Pn[tt]=Pn[mt]=Pn[rn]=Pn[is]=Pn[Yr]=Pn[Rs]=!0,Pn[xe]=Pn[ye]=Pn[ur]=Pn[F]=Pn[Qn]=Pn[Y]=Pn[G]=Pn[I]=Pn[we]=Pn[Fe]=Pn[it]=Pn[Ne]=Pn[Ge]=Pn[Ke]=Pn[Tt]=!1;var Sn={};Sn[xe]=Sn[ye]=Sn[ur]=Sn[Qn]=Sn[F]=Sn[Y]=Sn[gs]=Sn[Se]=Sn[Vt]=Sn[tt]=Sn[mt]=Sn[we]=Sn[Fe]=Sn[it]=Sn[Ne]=Sn[Ge]=Sn[Ke]=Sn[qt]=Sn[rn]=Sn[is]=Sn[Yr]=Sn[Rs]=!0,Sn[G]=Sn[I]=Sn[Tt]=!1;var c1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},FT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},u1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},P9=parseFloat,A9=parseInt,BT=typeof lr=="object"&&lr&&lr.Object===Object&&lr,E9=typeof self=="object"&&self&&self.Object===Object&&self,Xr=BT||E9||Function("return this")(),d1=t&&!t.nodeType&&t,Uc=d1&&!0&&e&&!e.nodeType&&e,zT=Uc&&Uc.exports===d1,h1=zT&&BT.process,Ai=function(){try{var je=Uc&&Uc.require&&Uc.require("util").types;return je||h1&&h1.binding&&h1.binding("util")}catch{}}(),VT=Ai&&Ai.isArrayBuffer,UT=Ai&&Ai.isDate,qT=Ai&&Ai.isMap,WT=Ai&&Ai.isRegExp,HT=Ai&&Ai.isSet,GT=Ai&&Ai.isTypedArray;function ii(je,Pe,Ce){switch(Ce.length){case 0:return je.call(Pe);case 1:return je.call(Pe,Ce[0]);case 2:return je.call(Pe,Ce[0],Ce[1]);case 3:return je.call(Pe,Ce[0],Ce[1],Ce[2])}return je.apply(Pe,Ce)}function T9(je,Pe,Ce,et){for(var kt=-1,dn=je==null?0:je.length;++kt<dn;){var Sr=je[kt];Pe(et,Sr,Ce(Sr),je)}return et}function Ei(je,Pe){for(var Ce=-1,et=je==null?0:je.length;++Ce<et&&Pe(je[Ce],Ce,je)!==!1;);return je}function k9(je,Pe){for(var Ce=je==null?0:je.length;Ce--&&Pe(je[Ce],Ce,je)!==!1;);return je}function KT(je,Pe){for(var Ce=-1,et=je==null?0:je.length;++Ce<et;)if(!Pe(je[Ce],Ce,je))return!1;return!0}function jl(je,Pe){for(var Ce=-1,et=je==null?0:je.length,kt=0,dn=[];++Ce<et;){var Sr=je[Ce];Pe(Sr,Ce,je)&&(dn[kt++]=Sr)}return dn}function Bv(je,Pe){var Ce=je==null?0:je.length;return!!Ce&&Sd(je,Pe,0)>-1}function f1(je,Pe,Ce){for(var et=-1,kt=je==null?0:je.length;++et<kt;)if(Ce(Pe,je[et]))return!0;return!1}function Wn(je,Pe){for(var Ce=-1,et=je==null?0:je.length,kt=Array(et);++Ce<et;)kt[Ce]=Pe(je[Ce],Ce,je);return kt}function bl(je,Pe){for(var Ce=-1,et=Pe.length,kt=je.length;++Ce<et;)je[kt+Ce]=Pe[Ce];return je}function m1(je,Pe,Ce,et){var kt=-1,dn=je==null?0:je.length;for(et&&dn&&(Ce=je[++kt]);++kt<dn;)Ce=Pe(Ce,je[kt],kt,je);return Ce}function O9(je,Pe,Ce,et){var kt=je==null?0:je.length;for(et&&kt&&(Ce=je[--kt]);kt--;)Ce=Pe(Ce,je[kt],kt,je);return Ce}function p1(je,Pe){for(var Ce=-1,et=je==null?0:je.length;++Ce<et;)if(Pe(je[Ce],Ce,je))return!0;return!1}var D9=g1("length");function M9(je){return je.split("")}function I9(je){return je.match(Rw)||[]}function YT(je,Pe,Ce){var et;return Ce(je,function(kt,dn,Sr){if(Pe(kt,dn,Sr))return et=dn,!1}),et}function zv(je,Pe,Ce,et){for(var kt=je.length,dn=Ce+(et?1:-1);et?dn--:++dn<kt;)if(Pe(je[dn],dn,je))return dn;return-1}function Sd(je,Pe,Ce){return Pe===Pe?G9(je,Pe,Ce):zv(je,QT,Ce)}function $9(je,Pe,Ce,et){for(var kt=Ce-1,dn=je.length;++kt<dn;)if(et(je[kt],Pe))return kt;return-1}function QT(je){return je!==je}function XT(je,Pe){var Ce=je==null?0:je.length;return Ce?x1(je,Pe)/Ce:ae}function g1(je){return function(Pe){return Pe==null?n:Pe[je]}}function v1(je){return function(Pe){return je==null?n:je[Pe]}}function JT(je,Pe,Ce,et,kt){return kt(je,function(dn,Sr,An){Ce=et?(et=!1,dn):Pe(Ce,dn,Sr,An)}),Ce}function R9(je,Pe){var Ce=je.length;for(je.sort(Pe);Ce--;)je[Ce]=je[Ce].value;return je}function x1(je,Pe){for(var Ce,et=-1,kt=je.length;++et<kt;){var dn=Pe(je[et]);dn!==n&&(Ce=Ce===n?dn:Ce+dn)}return Ce}function y1(je,Pe){for(var Ce=-1,et=Array(je);++Ce<je;)et[Ce]=Pe(Ce);return et}function L9(je,Pe){return Wn(Pe,function(Ce){return[Ce,je[Ce]]})}function ZT(je){return je&&je.slice(0,rk(je)+1).replace(Ls,"")}function ai(je){return function(Pe){return je(Pe)}}function j1(je,Pe){return Wn(Pe,function(Ce){return je[Ce]})}function jm(je,Pe){return je.has(Pe)}function ek(je,Pe){for(var Ce=-1,et=je.length;++Ce<et&&Sd(Pe,je[Ce],0)>-1;);return Ce}function tk(je,Pe){for(var Ce=je.length;Ce--&&Sd(Pe,je[Ce],0)>-1;);return Ce}function F9(je,Pe){for(var Ce=je.length,et=0;Ce--;)je[Ce]===Pe&&++et;return et}var B9=v1(c1),z9=v1(FT);function V9(je){return"\\"+u1[je]}function U9(je,Pe){return je==null?n:je[Pe]}function Cd(je){return i1.test(je)}function q9(je){return a1.test(je)}function W9(je){for(var Pe,Ce=[];!(Pe=je.next()).done;)Ce.push(Pe.value);return Ce}function b1(je){var Pe=-1,Ce=Array(je.size);return je.forEach(function(et,kt){Ce[++Pe]=[kt,et]}),Ce}function nk(je,Pe){return function(Ce){return je(Pe(Ce))}}function wl(je,Pe){for(var Ce=-1,et=je.length,kt=0,dn=[];++Ce<et;){var Sr=je[Ce];(Sr===Pe||Sr===d)&&(je[Ce]=d,dn[kt++]=Ce)}return dn}function Vv(je){var Pe=-1,Ce=Array(je.size);return je.forEach(function(et){Ce[++Pe]=et}),Ce}function H9(je){var Pe=-1,Ce=Array(je.size);return je.forEach(function(et){Ce[++Pe]=[et,et]}),Ce}function G9(je,Pe,Ce){for(var et=Ce-1,kt=je.length;++et<kt;)if(je[et]===Pe)return et;return-1}function K9(je,Pe,Ce){for(var et=Ce+1;et--;)if(je[et]===Pe)return et;return et}function _d(je){return Cd(je)?Q9(je):D9(je)}function aa(je){return Cd(je)?X9(je):M9(je)}function rk(je){for(var Pe=je.length;Pe--&&Dw.test(je.charAt(Pe)););return Pe}var Y9=v1(Fv);function Q9(je){for(var Pe=ym.lastIndex=0;ym.test(je);)++Pe;return Pe}function X9(je){return je.match(ym)||[]}function J9(je){return je.match(s1)||[]}var Z9=function je(Pe){Pe=Pe==null?Xr:Pd.defaults(Xr.Object(),Pe,Pd.pick(Xr,o1));var Ce=Pe.Array,et=Pe.Date,kt=Pe.Error,dn=Pe.Function,Sr=Pe.Math,An=Pe.Object,w1=Pe.RegExp,eH=Pe.String,Ti=Pe.TypeError,Uv=Ce.prototype,tH=dn.prototype,Ad=An.prototype,qv=Pe["__core-js_shared__"],Wv=tH.toString,xn=Ad.hasOwnProperty,nH=0,sk=function(){var h=/[^.]+$/.exec(qv&&qv.keys&&qv.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Hv=Ad.toString,rH=Wv.call(An),sH=Xr._,iH=w1("^"+Wv.call(xn).replace(si,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gv=zT?Pe.Buffer:n,Nl=Pe.Symbol,Kv=Pe.Uint8Array,ik=Gv?Gv.allocUnsafe:n,Yv=nk(An.getPrototypeOf,An),ak=An.create,ok=Ad.propertyIsEnumerable,Qv=Uv.splice,lk=Nl?Nl.isConcatSpreadable:n,bm=Nl?Nl.iterator:n,qc=Nl?Nl.toStringTag:n,Xv=function(){try{var h=Yc(An,"defineProperty");return h({},"",{}),h}catch{}}(),aH=Pe.clearTimeout!==Xr.clearTimeout&&Pe.clearTimeout,oH=et&&et.now!==Xr.Date.now&&et.now,lH=Pe.setTimeout!==Xr.setTimeout&&Pe.setTimeout,Jv=Sr.ceil,Zv=Sr.floor,N1=An.getOwnPropertySymbols,cH=Gv?Gv.isBuffer:n,ck=Pe.isFinite,uH=Uv.join,dH=nk(An.keys,An),Cr=Sr.max,as=Sr.min,hH=et.now,fH=Pe.parseInt,uk=Sr.random,mH=Uv.reverse,S1=Yc(Pe,"DataView"),wm=Yc(Pe,"Map"),C1=Yc(Pe,"Promise"),Ed=Yc(Pe,"Set"),Nm=Yc(Pe,"WeakMap"),Sm=Yc(An,"create"),ex=Nm&&new Nm,Td={},pH=Qc(S1),gH=Qc(wm),vH=Qc(C1),xH=Qc(Ed),yH=Qc(Nm),tx=Nl?Nl.prototype:n,Cm=tx?tx.valueOf:n,dk=tx?tx.toString:n;function W(h){if(rr(h)&&!Mt(h)&&!(h instanceof Zt)){if(h instanceof ki)return h;if(xn.call(h,"__wrapped__"))return hO(h)}return new ki(h)}var kd=function(){function h(){}return function(p){if(!Jn(p))return{};if(ak)return ak(p);h.prototype=p;var S=new h;return h.prototype=n,S}}();function nx(){}function ki(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}W.templateSettings={escape:bt,evaluate:an,interpolate:gn,variable:"",imports:{_:W}},W.prototype=nx.prototype,W.prototype.constructor=W,ki.prototype=kd(nx.prototype),ki.prototype.constructor=ki;function Zt(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function jH(){var h=new Zt(this.__wrapped__);return h.__actions__=Fs(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Fs(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Fs(this.__views__),h}function bH(){if(this.__filtered__){var h=new Zt(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function wH(){var h=this.__wrapped__.value(),p=this.__dir__,S=Mt(h),T=p<0,R=S?h.length:0,K=MG(0,R,this.__views__),le=K.start,me=K.end,be=me-le,Te=T?me:le-1,ke=this.__iteratees__,Re=ke.length,Qe=0,ot=as(be,this.__takeCount__);if(!S||!T&&R==be&&ot==be)return Ik(h,this.__actions__);var gt=[];e:for(;be--&&Qe<ot;){Te+=p;for(var Bt=-1,vt=h[Te];++Bt<Re;){var Wt=ke[Bt],tn=Wt.iteratee,ci=Wt.type,ws=tn(vt);if(ci==J)vt=ws;else if(!ws){if(ci==z)continue e;break e}}gt[Qe++]=vt}return gt}Zt.prototype=kd(nx.prototype),Zt.prototype.constructor=Zt;function Wc(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function NH(){this.__data__=Sm?Sm(null):{},this.size=0}function SH(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function CH(h){var p=this.__data__;if(Sm){var S=p[h];return S===c?n:S}return xn.call(p,h)?p[h]:n}function _H(h){var p=this.__data__;return Sm?p[h]!==n:xn.call(p,h)}function PH(h,p){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=Sm&&p===n?c:p,this}Wc.prototype.clear=NH,Wc.prototype.delete=SH,Wc.prototype.get=CH,Wc.prototype.has=_H,Wc.prototype.set=PH;function No(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function AH(){this.__data__=[],this.size=0}function EH(h){var p=this.__data__,S=rx(p,h);if(S<0)return!1;var T=p.length-1;return S==T?p.pop():Qv.call(p,S,1),--this.size,!0}function TH(h){var p=this.__data__,S=rx(p,h);return S<0?n:p[S][1]}function kH(h){return rx(this.__data__,h)>-1}function OH(h,p){var S=this.__data__,T=rx(S,h);return T<0?(++this.size,S.push([h,p])):S[T][1]=p,this}No.prototype.clear=AH,No.prototype.delete=EH,No.prototype.get=TH,No.prototype.has=kH,No.prototype.set=OH;function So(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function DH(){this.size=0,this.__data__={hash:new Wc,map:new(wm||No),string:new Wc}}function MH(h){var p=px(this,h).delete(h);return this.size-=p?1:0,p}function IH(h){return px(this,h).get(h)}function $H(h){return px(this,h).has(h)}function RH(h,p){var S=px(this,h),T=S.size;return S.set(h,p),this.size+=S.size==T?0:1,this}So.prototype.clear=DH,So.prototype.delete=MH,So.prototype.get=IH,So.prototype.has=$H,So.prototype.set=RH;function Hc(h){var p=-1,S=h==null?0:h.length;for(this.__data__=new So;++p<S;)this.add(h[p])}function LH(h){return this.__data__.set(h,c),this}function FH(h){return this.__data__.has(h)}Hc.prototype.add=Hc.prototype.push=LH,Hc.prototype.has=FH;function oa(h){var p=this.__data__=new No(h);this.size=p.size}function BH(){this.__data__=new No,this.size=0}function zH(h){var p=this.__data__,S=p.delete(h);return this.size=p.size,S}function VH(h){return this.__data__.get(h)}function UH(h){return this.__data__.has(h)}function qH(h,p){var S=this.__data__;if(S instanceof No){var T=S.__data__;if(!wm||T.length<i-1)return T.push([h,p]),this.size=++S.size,this;S=this.__data__=new So(T)}return S.set(h,p),this.size=S.size,this}oa.prototype.clear=BH,oa.prototype.delete=zH,oa.prototype.get=VH,oa.prototype.has=UH,oa.prototype.set=qH;function hk(h,p){var S=Mt(h),T=!S&&Xc(h),R=!S&&!T&&Al(h),K=!S&&!T&&!R&&Id(h),le=S||T||R||K,me=le?y1(h.length,eH):[],be=me.length;for(var Te in h)(p||xn.call(h,Te))&&!(le&&(Te=="length"||R&&(Te=="offset"||Te=="parent")||K&&(Te=="buffer"||Te=="byteLength"||Te=="byteOffset")||Ao(Te,be)))&&me.push(Te);return me}function fk(h){var p=h.length;return p?h[$1(0,p-1)]:n}function WH(h,p){return gx(Fs(h),Gc(p,0,h.length))}function HH(h){return gx(Fs(h))}function _1(h,p,S){(S!==n&&!la(h[p],S)||S===n&&!(p in h))&&Co(h,p,S)}function _m(h,p,S){var T=h[p];(!(xn.call(h,p)&&la(T,S))||S===n&&!(p in h))&&Co(h,p,S)}function rx(h,p){for(var S=h.length;S--;)if(la(h[S][0],p))return S;return-1}function GH(h,p,S,T){return Sl(h,function(R,K,le){p(T,R,S(R),le)}),T}function mk(h,p){return h&&qa(p,$r(p),h)}function KH(h,p){return h&&qa(p,zs(p),h)}function Co(h,p,S){p=="__proto__"&&Xv?Xv(h,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[p]=S}function P1(h,p){for(var S=-1,T=p.length,R=Ce(T),K=h==null;++S<T;)R[S]=K?n:oN(h,p[S]);return R}function Gc(h,p,S){return h===h&&(S!==n&&(h=h<=S?h:S),p!==n&&(h=h>=p?h:p)),h}function Oi(h,p,S,T,R,K){var le,me=p&f,be=p&m,Te=p&g;if(S&&(le=R?S(h,T,R,K):S(h)),le!==n)return le;if(!Jn(h))return h;var ke=Mt(h);if(ke){if(le=$G(h),!me)return Fs(h,le)}else{var Re=os(h),Qe=Re==I||Re==ve;if(Al(h))return Lk(h,me);if(Re==it||Re==xe||Qe&&!R){if(le=be||Qe?{}:rO(h),!me)return be?CG(h,KH(le,h)):SG(h,mk(le,h))}else{if(!Sn[Re])return R?h:{};le=RG(h,Re,me)}}K||(K=new oa);var ot=K.get(h);if(ot)return ot;K.set(h,le),OO(h)?h.forEach(function(vt){le.add(Oi(vt,p,S,vt,h,K))}):TO(h)&&h.forEach(function(vt,Wt){le.set(Wt,Oi(vt,p,S,Wt,h,K))});var gt=Te?be?G1:H1:be?zs:$r,Bt=ke?n:gt(h);return Ei(Bt||h,function(vt,Wt){Bt&&(Wt=vt,vt=h[Wt]),_m(le,Wt,Oi(vt,p,S,Wt,h,K))}),le}function YH(h){var p=$r(h);return function(S){return pk(S,h,p)}}function pk(h,p,S){var T=S.length;if(h==null)return!T;for(h=An(h);T--;){var R=S[T],K=p[R],le=h[R];if(le===n&&!(R in h)||!K(le))return!1}return!0}function gk(h,p,S){if(typeof h!="function")throw new Ti(o);return Dm(function(){h.apply(n,S)},p)}function Pm(h,p,S,T){var R=-1,K=Bv,le=!0,me=h.length,be=[],Te=p.length;if(!me)return be;S&&(p=Wn(p,ai(S))),T?(K=f1,le=!1):p.length>=i&&(K=jm,le=!1,p=new Hc(p));e:for(;++R<me;){var ke=h[R],Re=S==null?ke:S(ke);if(ke=T||ke!==0?ke:0,le&&Re===Re){for(var Qe=Te;Qe--;)if(p[Qe]===Re)continue e;be.push(ke)}else K(p,Re,T)||be.push(ke)}return be}var Sl=Uk(Ua),vk=Uk(E1,!0);function QH(h,p){var S=!0;return Sl(h,function(T,R,K){return S=!!p(T,R,K),S}),S}function sx(h,p,S){for(var T=-1,R=h.length;++T<R;){var K=h[T],le=p(K);if(le!=null&&(me===n?le===le&&!li(le):S(le,me)))var me=le,be=K}return be}function XH(h,p,S,T){var R=h.length;for(S=Rt(S),S<0&&(S=-S>R?0:R+S),T=T===n||T>R?R:Rt(T),T<0&&(T+=R),T=S>T?0:MO(T);S<T;)h[S++]=p;return h}function xk(h,p){var S=[];return Sl(h,function(T,R,K){p(T,R,K)&&S.push(T)}),S}function Jr(h,p,S,T,R){var K=-1,le=h.length;for(S||(S=FG),R||(R=[]);++K<le;){var me=h[K];p>0&&S(me)?p>1?Jr(me,p-1,S,T,R):bl(R,me):T||(R[R.length]=me)}return R}var A1=qk(),yk=qk(!0);function Ua(h,p){return h&&A1(h,p,$r)}function E1(h,p){return h&&yk(h,p,$r)}function ix(h,p){return jl(p,function(S){return Eo(h[S])})}function Kc(h,p){p=_l(p,h);for(var S=0,T=p.length;h!=null&&S<T;)h=h[Wa(p[S++])];return S&&S==T?h:n}function jk(h,p,S){var T=p(h);return Mt(h)?T:bl(T,S(h))}function js(h){return h==null?h===n?Yn:Be:qc&&qc in An(h)?DG(h):HG(h)}function T1(h,p){return h>p}function JH(h,p){return h!=null&&xn.call(h,p)}function ZH(h,p){return h!=null&&p in An(h)}function eG(h,p,S){return h>=as(p,S)&&h<Cr(p,S)}function k1(h,p,S){for(var T=S?f1:Bv,R=h[0].length,K=h.length,le=K,me=Ce(K),be=1/0,Te=[];le--;){var ke=h[le];le&&p&&(ke=Wn(ke,ai(p))),be=as(ke.length,be),me[le]=!S&&(p||R>=120&&ke.length>=120)?new Hc(le&&ke):n}ke=h[0];var Re=-1,Qe=me[0];e:for(;++Re<R&&Te.length<be;){var ot=ke[Re],gt=p?p(ot):ot;if(ot=S||ot!==0?ot:0,!(Qe?jm(Qe,gt):T(Te,gt,S))){for(le=K;--le;){var Bt=me[le];if(!(Bt?jm(Bt,gt):T(h[le],gt,S)))continue e}Qe&&Qe.push(gt),Te.push(ot)}}return Te}function tG(h,p,S,T){return Ua(h,function(R,K,le){p(T,S(R),K,le)}),T}function Am(h,p,S){p=_l(p,h),h=oO(h,p);var T=h==null?h:h[Wa(Mi(p))];return T==null?n:ii(T,h,S)}function bk(h){return rr(h)&&js(h)==xe}function nG(h){return rr(h)&&js(h)==ur}function rG(h){return rr(h)&&js(h)==Y}function Em(h,p,S,T,R){return h===p?!0:h==null||p==null||!rr(h)&&!rr(p)?h!==h&&p!==p:sG(h,p,S,T,Em,R)}function sG(h,p,S,T,R,K){var le=Mt(h),me=Mt(p),be=le?ye:os(h),Te=me?ye:os(p);be=be==xe?it:be,Te=Te==xe?it:Te;var ke=be==it,Re=Te==it,Qe=be==Te;if(Qe&&Al(h)){if(!Al(p))return!1;le=!0,ke=!1}if(Qe&&!ke)return K||(K=new oa),le||Id(h)?eO(h,p,S,T,R,K):kG(h,p,be,S,T,R,K);if(!(S&x)){var ot=ke&&xn.call(h,"__wrapped__"),gt=Re&&xn.call(p,"__wrapped__");if(ot||gt){var Bt=ot?h.value():h,vt=gt?p.value():p;return K||(K=new oa),R(Bt,vt,S,T,K)}}return Qe?(K||(K=new oa),OG(h,p,S,T,R,K)):!1}function iG(h){return rr(h)&&os(h)==we}function O1(h,p,S,T){var R=S.length,K=R,le=!T;if(h==null)return!K;for(h=An(h);R--;){var me=S[R];if(le&&me[2]?me[1]!==h[me[0]]:!(me[0]in h))return!1}for(;++R<K;){me=S[R];var be=me[0],Te=h[be],ke=me[1];if(le&&me[2]){if(Te===n&&!(be in h))return!1}else{var Re=new oa;if(T)var Qe=T(Te,ke,be,h,p,Re);if(!(Qe===n?Em(ke,Te,x|v,T,Re):Qe))return!1}}return!0}function wk(h){if(!Jn(h)||zG(h))return!1;var p=Eo(h)?iH:Uw;return p.test(Qc(h))}function aG(h){return rr(h)&&js(h)==Ne}function oG(h){return rr(h)&&os(h)==Ge}function lG(h){return rr(h)&&wx(h.length)&&!!Pn[js(h)]}function Nk(h){return typeof h=="function"?h:h==null?Vs:typeof h=="object"?Mt(h)?_k(h[0],h[1]):Ck(h):WO(h)}function D1(h){if(!Om(h))return dH(h);var p=[];for(var S in An(h))xn.call(h,S)&&S!="constructor"&&p.push(S);return p}function cG(h){if(!Jn(h))return WG(h);var p=Om(h),S=[];for(var T in h)T=="constructor"&&(p||!xn.call(h,T))||S.push(T);return S}function M1(h,p){return h<p}function Sk(h,p){var S=-1,T=Bs(h)?Ce(h.length):[];return Sl(h,function(R,K,le){T[++S]=p(R,K,le)}),T}function Ck(h){var p=Y1(h);return p.length==1&&p[0][2]?iO(p[0][0],p[0][1]):function(S){return S===h||O1(S,h,p)}}function _k(h,p){return X1(h)&&sO(p)?iO(Wa(h),p):function(S){var T=oN(S,h);return T===n&&T===p?lN(S,h):Em(p,T,x|v)}}function ax(h,p,S,T,R){h!==p&&A1(p,function(K,le){if(R||(R=new oa),Jn(K))uG(h,p,le,S,ax,T,R);else{var me=T?T(Z1(h,le),K,le+"",h,p,R):n;me===n&&(me=K),_1(h,le,me)}},zs)}function uG(h,p,S,T,R,K,le){var me=Z1(h,S),be=Z1(p,S),Te=le.get(be);if(Te){_1(h,S,Te);return}var ke=K?K(me,be,S+"",h,p,le):n,Re=ke===n;if(Re){var Qe=Mt(be),ot=!Qe&&Al(be),gt=!Qe&&!ot&&Id(be);ke=be,Qe||ot||gt?Mt(me)?ke=me:dr(me)?ke=Fs(me):ot?(Re=!1,ke=Lk(be,!0)):gt?(Re=!1,ke=Fk(be,!0)):ke=[]:Mm(be)||Xc(be)?(ke=me,Xc(me)?ke=IO(me):(!Jn(me)||Eo(me))&&(ke=rO(be))):Re=!1}Re&&(le.set(be,ke),R(ke,be,T,K,le),le.delete(be)),_1(h,S,ke)}function Pk(h,p){var S=h.length;if(S)return p+=p<0?S:0,Ao(p,S)?h[p]:n}function Ak(h,p,S){p.length?p=Wn(p,function(K){return Mt(K)?function(le){return Kc(le,K.length===1?K[0]:K)}:K}):p=[Vs];var T=-1;p=Wn(p,ai(pt()));var R=Sk(h,function(K,le,me){var be=Wn(p,function(Te){return Te(K)});return{criteria:be,index:++T,value:K}});return R9(R,function(K,le){return NG(K,le,S)})}function dG(h,p){return Ek(h,p,function(S,T){return lN(h,T)})}function Ek(h,p,S){for(var T=-1,R=p.length,K={};++T<R;){var le=p[T],me=Kc(h,le);S(me,le)&&Tm(K,_l(le,h),me)}return K}function hG(h){return function(p){return Kc(p,h)}}function I1(h,p,S,T){var R=T?$9:Sd,K=-1,le=p.length,me=h;for(h===p&&(p=Fs(p)),S&&(me=Wn(h,ai(S)));++K<le;)for(var be=0,Te=p[K],ke=S?S(Te):Te;(be=R(me,ke,be,T))>-1;)me!==h&&Qv.call(me,be,1),Qv.call(h,be,1);return h}function Tk(h,p){for(var S=h?p.length:0,T=S-1;S--;){var R=p[S];if(S==T||R!==K){var K=R;Ao(R)?Qv.call(h,R,1):F1(h,R)}}return h}function $1(h,p){return h+Zv(uk()*(p-h+1))}function fG(h,p,S,T){for(var R=-1,K=Cr(Jv((p-h)/(S||1)),0),le=Ce(K);K--;)le[T?K:++R]=h,h+=S;return le}function R1(h,p){var S="";if(!h||p<1||p>Q)return S;do p%2&&(S+=h),p=Zv(p/2),p&&(h+=h);while(p);return S}function Ut(h,p){return eN(aO(h,p,Vs),h+"")}function mG(h){return fk($d(h))}function pG(h,p){var S=$d(h);return gx(S,Gc(p,0,S.length))}function Tm(h,p,S,T){if(!Jn(h))return h;p=_l(p,h);for(var R=-1,K=p.length,le=K-1,me=h;me!=null&&++R<K;){var be=Wa(p[R]),Te=S;if(be==="__proto__"||be==="constructor"||be==="prototype")return h;if(R!=le){var ke=me[be];Te=T?T(ke,be,me):n,Te===n&&(Te=Jn(ke)?ke:Ao(p[R+1])?[]:{})}_m(me,be,Te),me=me[be]}return h}var kk=ex?function(h,p){return ex.set(h,p),h}:Vs,gG=Xv?function(h,p){return Xv(h,"toString",{configurable:!0,enumerable:!1,value:uN(p),writable:!0})}:Vs;function vG(h){return gx($d(h))}function Di(h,p,S){var T=-1,R=h.length;p<0&&(p=-p>R?0:R+p),S=S>R?R:S,S<0&&(S+=R),R=p>S?0:S-p>>>0,p>>>=0;for(var K=Ce(R);++T<R;)K[T]=h[T+p];return K}function xG(h,p){var S;return Sl(h,function(T,R,K){return S=p(T,R,K),!S}),!!S}function ox(h,p,S){var T=0,R=h==null?T:h.length;if(typeof p=="number"&&p===p&&R<=Z){for(;T<R;){var K=T+R>>>1,le=h[K];le!==null&&!li(le)&&(S?le<=p:le<p)?T=K+1:R=K}return R}return L1(h,p,Vs,S)}function L1(h,p,S,T){var R=0,K=h==null?0:h.length;if(K===0)return 0;p=S(p);for(var le=p!==p,me=p===null,be=li(p),Te=p===n;R<K;){var ke=Zv((R+K)/2),Re=S(h[ke]),Qe=Re!==n,ot=Re===null,gt=Re===Re,Bt=li(Re);if(le)var vt=T||gt;else Te?vt=gt&&(T||Qe):me?vt=gt&&Qe&&(T||!ot):be?vt=gt&&Qe&&!ot&&(T||!Bt):ot||Bt?vt=!1:vt=T?Re<=p:Re<p;vt?R=ke+1:K=ke}return as(K,te)}function Ok(h,p){for(var S=-1,T=h.length,R=0,K=[];++S<T;){var le=h[S],me=p?p(le):le;if(!S||!la(me,be)){var be=me;K[R++]=le===0?0:le}}return K}function Dk(h){return typeof h=="number"?h:li(h)?ae:+h}function oi(h){if(typeof h=="string")return h;if(Mt(h))return Wn(h,oi)+"";if(li(h))return dk?dk.call(h):"";var p=h+"";return p=="0"&&1/h==-oe?"-0":p}function Cl(h,p,S){var T=-1,R=Bv,K=h.length,le=!0,me=[],be=me;if(S)le=!1,R=f1;else if(K>=i){var Te=p?null:EG(h);if(Te)return Vv(Te);le=!1,R=jm,be=new Hc}else be=p?[]:me;e:for(;++T<K;){var ke=h[T],Re=p?p(ke):ke;if(ke=S||ke!==0?ke:0,le&&Re===Re){for(var Qe=be.length;Qe--;)if(be[Qe]===Re)continue e;p&&be.push(Re),me.push(ke)}else R(be,Re,S)||(be!==me&&be.push(Re),me.push(ke))}return me}function F1(h,p){return p=_l(p,h),h=oO(h,p),h==null||delete h[Wa(Mi(p))]}function Mk(h,p,S,T){return Tm(h,p,S(Kc(h,p)),T)}function lx(h,p,S,T){for(var R=h.length,K=T?R:-1;(T?K--:++K<R)&&p(h[K],K,h););return S?Di(h,T?0:K,T?K+1:R):Di(h,T?K+1:0,T?R:K)}function Ik(h,p){var S=h;return S instanceof Zt&&(S=S.value()),m1(p,function(T,R){return R.func.apply(R.thisArg,bl([T],R.args))},S)}function B1(h,p,S){var T=h.length;if(T<2)return T?Cl(h[0]):[];for(var R=-1,K=Ce(T);++R<T;)for(var le=h[R],me=-1;++me<T;)me!=R&&(K[R]=Pm(K[R]||le,h[me],p,S));return Cl(Jr(K,1),p,S)}function $k(h,p,S){for(var T=-1,R=h.length,K=p.length,le={};++T<R;){var me=T<K?p[T]:n;S(le,h[T],me)}return le}function z1(h){return dr(h)?h:[]}function V1(h){return typeof h=="function"?h:Vs}function _l(h,p){return Mt(h)?h:X1(h,p)?[h]:dO(hn(h))}var yG=Ut;function Pl(h,p,S){var T=h.length;return S=S===n?T:S,!p&&S>=T?h:Di(h,p,S)}var Rk=aH||function(h){return Xr.clearTimeout(h)};function Lk(h,p){if(p)return h.slice();var S=h.length,T=ik?ik(S):new h.constructor(S);return h.copy(T),T}function U1(h){var p=new h.constructor(h.byteLength);return new Kv(p).set(new Kv(h)),p}function jG(h,p){var S=p?U1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.byteLength)}function bG(h){var p=new h.constructor(h.source,Tv.exec(h));return p.lastIndex=h.lastIndex,p}function wG(h){return Cm?An(Cm.call(h)):{}}function Fk(h,p){var S=p?U1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}function Bk(h,p){if(h!==p){var S=h!==n,T=h===null,R=h===h,K=li(h),le=p!==n,me=p===null,be=p===p,Te=li(p);if(!me&&!Te&&!K&&h>p||K&&le&&be&&!me&&!Te||T&&le&&be||!S&&be||!R)return 1;if(!T&&!K&&!Te&&h<p||Te&&S&&R&&!T&&!K||me&&S&&R||!le&&R||!be)return-1}return 0}function NG(h,p,S){for(var T=-1,R=h.criteria,K=p.criteria,le=R.length,me=S.length;++T<le;){var be=Bk(R[T],K[T]);if(be){if(T>=me)return be;var Te=S[T];return be*(Te=="desc"?-1:1)}}return h.index-p.index}function zk(h,p,S,T){for(var R=-1,K=h.length,le=S.length,me=-1,be=p.length,Te=Cr(K-le,0),ke=Ce(be+Te),Re=!T;++me<be;)ke[me]=p[me];for(;++R<le;)(Re||R<K)&&(ke[S[R]]=h[R]);for(;Te--;)ke[me++]=h[R++];return ke}function Vk(h,p,S,T){for(var R=-1,K=h.length,le=-1,me=S.length,be=-1,Te=p.length,ke=Cr(K-me,0),Re=Ce(ke+Te),Qe=!T;++R<ke;)Re[R]=h[R];for(var ot=R;++be<Te;)Re[ot+be]=p[be];for(;++le<me;)(Qe||R<K)&&(Re[ot+S[le]]=h[R++]);return Re}function Fs(h,p){var S=-1,T=h.length;for(p||(p=Ce(T));++S<T;)p[S]=h[S];return p}function qa(h,p,S,T){var R=!S;S||(S={});for(var K=-1,le=p.length;++K<le;){var me=p[K],be=T?T(S[me],h[me],me,S,h):n;be===n&&(be=h[me]),R?Co(S,me,be):_m(S,me,be)}return S}function SG(h,p){return qa(h,Q1(h),p)}function CG(h,p){return qa(h,tO(h),p)}function cx(h,p){return function(S,T){var R=Mt(S)?T9:GH,K=p?p():{};return R(S,h,pt(T,2),K)}}function Od(h){return Ut(function(p,S){var T=-1,R=S.length,K=R>1?S[R-1]:n,le=R>2?S[2]:n;for(K=h.length>3&&typeof K=="function"?(R--,K):n,le&&bs(S[0],S[1],le)&&(K=R<3?n:K,R=1),p=An(p);++T<R;){var me=S[T];me&&h(p,me,T,K)}return p})}function Uk(h,p){return function(S,T){if(S==null)return S;if(!Bs(S))return h(S,T);for(var R=S.length,K=p?R:-1,le=An(S);(p?K--:++K<R)&&T(le[K],K,le)!==!1;);return S}}function qk(h){return function(p,S,T){for(var R=-1,K=An(p),le=T(p),me=le.length;me--;){var be=le[h?me:++R];if(S(K[be],be,K)===!1)break}return p}}function _G(h,p,S){var T=p&y,R=km(h);function K(){var le=this&&this!==Xr&&this instanceof K?R:h;return le.apply(T?S:this,arguments)}return K}function Wk(h){return function(p){p=hn(p);var S=Cd(p)?aa(p):n,T=S?S[0]:p.charAt(0),R=S?Pl(S,1).join(""):p.slice(1);return T[h]()+R}}function Dd(h){return function(p){return m1(UO(VO(p).replace(n1,"")),h,"")}}function km(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=kd(h.prototype),T=h.apply(S,p);return Jn(T)?T:S}}function PG(h,p,S){var T=km(h);function R(){for(var K=arguments.length,le=Ce(K),me=K,be=Md(R);me--;)le[me]=arguments[me];var Te=K<3&&le[0]!==be&&le[K-1]!==be?[]:wl(le,be);if(K-=Te.length,K<S)return Qk(h,p,ux,R.placeholder,n,le,Te,n,n,S-K);var ke=this&&this!==Xr&&this instanceof R?T:h;return ii(ke,this,le)}return R}function Hk(h){return function(p,S,T){var R=An(p);if(!Bs(p)){var K=pt(S,3);p=$r(p),S=function(me){return K(R[me],me,R)}}var le=h(p,S,T);return le>-1?R[K?p[le]:le]:n}}function Gk(h){return Po(function(p){var S=p.length,T=S,R=ki.prototype.thru;for(h&&p.reverse();T--;){var K=p[T];if(typeof K!="function")throw new Ti(o);if(R&&!le&&mx(K)=="wrapper")var le=new ki([],!0)}for(T=le?T:S;++T<S;){K=p[T];var me=mx(K),be=me=="wrapper"?K1(K):n;be&&J1(be[0])&&be[1]==(P|b|C|E)&&!be[4].length&&be[9]==1?le=le[mx(be[0])].apply(le,be[3]):le=K.length==1&&J1(K)?le[me]():le.thru(K)}return function(){var Te=arguments,ke=Te[0];if(le&&Te.length==1&&Mt(ke))return le.plant(ke).value();for(var Re=0,Qe=S?p[Re].apply(this,Te):ke;++Re<S;)Qe=p[Re].call(this,Qe);return Qe}})}function ux(h,p,S,T,R,K,le,me,be,Te){var ke=p&P,Re=p&y,Qe=p&N,ot=p&(b|_),gt=p&M,Bt=Qe?n:km(h);function vt(){for(var Wt=arguments.length,tn=Ce(Wt),ci=Wt;ci--;)tn[ci]=arguments[ci];if(ot)var ws=Md(vt),ui=F9(tn,ws);if(T&&(tn=zk(tn,T,R,ot)),K&&(tn=Vk(tn,K,le,ot)),Wt-=ui,ot&&Wt<Te){var hr=wl(tn,ws);return Qk(h,p,ux,vt.placeholder,S,tn,hr,me,be,Te-Wt)}var ca=Re?S:this,ko=Qe?ca[h]:h;return Wt=tn.length,me?tn=GG(tn,me):gt&&Wt>1&&tn.reverse(),ke&&be<Wt&&(tn.length=be),this&&this!==Xr&&this instanceof vt&&(ko=Bt||km(ko)),ko.apply(ca,tn)}return vt}function Kk(h,p){return function(S,T){return tG(S,h,p(T),{})}}function dx(h,p){return function(S,T){var R;if(S===n&&T===n)return p;if(S!==n&&(R=S),T!==n){if(R===n)return T;typeof S=="string"||typeof T=="string"?(S=oi(S),T=oi(T)):(S=Dk(S),T=Dk(T)),R=h(S,T)}return R}}function q1(h){return Po(function(p){return p=Wn(p,ai(pt())),Ut(function(S){var T=this;return h(p,function(R){return ii(R,T,S)})})})}function hx(h,p){p=p===n?" ":oi(p);var S=p.length;if(S<2)return S?R1(p,h):p;var T=R1(p,Jv(h/_d(p)));return Cd(p)?Pl(aa(T),0,h).join(""):T.slice(0,h)}function AG(h,p,S,T){var R=p&y,K=km(h);function le(){for(var me=-1,be=arguments.length,Te=-1,ke=T.length,Re=Ce(ke+be),Qe=this&&this!==Xr&&this instanceof le?K:h;++Te<ke;)Re[Te]=T[Te];for(;be--;)Re[Te++]=arguments[++me];return ii(Qe,R?S:this,Re)}return le}function Yk(h){return function(p,S,T){return T&&typeof T!="number"&&bs(p,S,T)&&(S=T=n),p=To(p),S===n?(S=p,p=0):S=To(S),T=T===n?p<S?1:-1:To(T),fG(p,S,T,h)}}function fx(h){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=Ii(p),S=Ii(S)),h(p,S)}}function Qk(h,p,S,T,R,K,le,me,be,Te){var ke=p&b,Re=ke?le:n,Qe=ke?n:le,ot=ke?K:n,gt=ke?n:K;p|=ke?C:A,p&=~(ke?A:C),p&j||(p&=~(y|N));var Bt=[h,p,R,ot,Re,gt,Qe,me,be,Te],vt=S.apply(n,Bt);return J1(h)&&lO(vt,Bt),vt.placeholder=T,cO(vt,h,p)}function W1(h){var p=Sr[h];return function(S,T){if(S=Ii(S),T=T==null?0:as(Rt(T),292),T&&ck(S)){var R=(hn(S)+"e").split("e"),K=p(R[0]+"e"+(+R[1]+T));return R=(hn(K)+"e").split("e"),+(R[0]+"e"+(+R[1]-T))}return p(S)}}var EG=Ed&&1/Vv(new Ed([,-0]))[1]==oe?function(h){return new Ed(h)}:fN;function Xk(h){return function(p){var S=os(p);return S==we?b1(p):S==Ge?H9(p):L9(p,h(p))}}function _o(h,p,S,T,R,K,le,me){var be=p&N;if(!be&&typeof h!="function")throw new Ti(o);var Te=T?T.length:0;if(Te||(p&=~(C|A),T=R=n),le=le===n?le:Cr(Rt(le),0),me=me===n?me:Rt(me),Te-=R?R.length:0,p&A){var ke=T,Re=R;T=R=n}var Qe=be?n:K1(h),ot=[h,p,S,T,R,ke,Re,K,le,me];if(Qe&&qG(ot,Qe),h=ot[0],p=ot[1],S=ot[2],T=ot[3],R=ot[4],me=ot[9]=ot[9]===n?be?0:h.length:Cr(ot[9]-Te,0),!me&&p&(b|_)&&(p&=~(b|_)),!p||p==y)var gt=_G(h,p,S);else p==b||p==_?gt=PG(h,p,me):(p==C||p==(y|C))&&!R.length?gt=AG(h,p,S,T):gt=ux.apply(n,ot);var Bt=Qe?kk:lO;return cO(Bt(gt,ot),h,p)}function Jk(h,p,S,T){return h===n||la(h,Ad[S])&&!xn.call(T,S)?p:h}function Zk(h,p,S,T,R,K){return Jn(h)&&Jn(p)&&(K.set(p,h),ax(h,p,n,Zk,K),K.delete(p)),h}function TG(h){return Mm(h)?n:h}function eO(h,p,S,T,R,K){var le=S&x,me=h.length,be=p.length;if(me!=be&&!(le&&be>me))return!1;var Te=K.get(h),ke=K.get(p);if(Te&&ke)return Te==p&&ke==h;var Re=-1,Qe=!0,ot=S&v?new Hc:n;for(K.set(h,p),K.set(p,h);++Re<me;){var gt=h[Re],Bt=p[Re];if(T)var vt=le?T(Bt,gt,Re,p,h,K):T(gt,Bt,Re,h,p,K);if(vt!==n){if(vt)continue;Qe=!1;break}if(ot){if(!p1(p,function(Wt,tn){if(!jm(ot,tn)&&(gt===Wt||R(gt,Wt,S,T,K)))return ot.push(tn)})){Qe=!1;break}}else if(!(gt===Bt||R(gt,Bt,S,T,K))){Qe=!1;break}}return K.delete(h),K.delete(p),Qe}function kG(h,p,S,T,R,K,le){switch(S){case Qn:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case ur:return!(h.byteLength!=p.byteLength||!K(new Kv(h),new Kv(p)));case F:case Y:case Fe:return la(+h,+p);case G:return h.name==p.name&&h.message==p.message;case Ne:case Ke:return h==p+"";case we:var me=b1;case Ge:var be=T&x;if(me||(me=Vv),h.size!=p.size&&!be)return!1;var Te=le.get(h);if(Te)return Te==p;T|=v,le.set(h,p);var ke=eO(me(h),me(p),T,R,K,le);return le.delete(h),ke;case qt:if(Cm)return Cm.call(h)==Cm.call(p)}return!1}function OG(h,p,S,T,R,K){var le=S&x,me=H1(h),be=me.length,Te=H1(p),ke=Te.length;if(be!=ke&&!le)return!1;for(var Re=be;Re--;){var Qe=me[Re];if(!(le?Qe in p:xn.call(p,Qe)))return!1}var ot=K.get(h),gt=K.get(p);if(ot&&gt)return ot==p&&gt==h;var Bt=!0;K.set(h,p),K.set(p,h);for(var vt=le;++Re<be;){Qe=me[Re];var Wt=h[Qe],tn=p[Qe];if(T)var ci=le?T(tn,Wt,Qe,p,h,K):T(Wt,tn,Qe,h,p,K);if(!(ci===n?Wt===tn||R(Wt,tn,S,T,K):ci)){Bt=!1;break}vt||(vt=Qe=="constructor")}if(Bt&&!vt){var ws=h.constructor,ui=p.constructor;ws!=ui&&"constructor"in h&&"constructor"in p&&!(typeof ws=="function"&&ws instanceof ws&&typeof ui=="function"&&ui instanceof ui)&&(Bt=!1)}return K.delete(h),K.delete(p),Bt}function Po(h){return eN(aO(h,n,pO),h+"")}function H1(h){return jk(h,$r,Q1)}function G1(h){return jk(h,zs,tO)}var K1=ex?function(h){return ex.get(h)}:fN;function mx(h){for(var p=h.name+"",S=Td[p],T=xn.call(Td,p)?S.length:0;T--;){var R=S[T],K=R.func;if(K==null||K==h)return R.name}return p}function Md(h){var p=xn.call(W,"placeholder")?W:h;return p.placeholder}function pt(){var h=W.iteratee||dN;return h=h===dN?Nk:h,arguments.length?h(arguments[0],arguments[1]):h}function px(h,p){var S=h.__data__;return BG(p)?S[typeof p=="string"?"string":"hash"]:S.map}function Y1(h){for(var p=$r(h),S=p.length;S--;){var T=p[S],R=h[T];p[S]=[T,R,sO(R)]}return p}function Yc(h,p){var S=U9(h,p);return wk(S)?S:n}function DG(h){var p=xn.call(h,qc),S=h[qc];try{h[qc]=n;var T=!0}catch{}var R=Hv.call(h);return T&&(p?h[qc]=S:delete h[qc]),R}var Q1=N1?function(h){return h==null?[]:(h=An(h),jl(N1(h),function(p){return ok.call(h,p)}))}:mN,tO=N1?function(h){for(var p=[];h;)bl(p,Q1(h)),h=Yv(h);return p}:mN,os=js;(S1&&os(new S1(new ArrayBuffer(1)))!=Qn||wm&&os(new wm)!=we||C1&&os(C1.resolve())!=lt||Ed&&os(new Ed)!=Ge||Nm&&os(new Nm)!=Tt)&&(os=function(h){var p=js(h),S=p==it?h.constructor:n,T=S?Qc(S):"";if(T)switch(T){case pH:return Qn;case gH:return we;case vH:return lt;case xH:return Ge;case yH:return Tt}return p});function MG(h,p,S){for(var T=-1,R=S.length;++T<R;){var K=S[T],le=K.size;switch(K.type){case"drop":h+=le;break;case"dropRight":p-=le;break;case"take":p=as(p,h+le);break;case"takeRight":h=Cr(h,p-le);break}}return{start:h,end:p}}function IG(h){var p=h.match(Iw);return p?p[1].split($w):[]}function nO(h,p,S){p=_l(p,h);for(var T=-1,R=p.length,K=!1;++T<R;){var le=Wa(p[T]);if(!(K=h!=null&&S(h,le)))break;h=h[le]}return K||++T!=R?K:(R=h==null?0:h.length,!!R&&wx(R)&&Ao(le,R)&&(Mt(h)||Xc(h)))}function $G(h){var p=h.length,S=new h.constructor(p);return p&&typeof h[0]=="string"&&xn.call(h,"index")&&(S.index=h.index,S.input=h.input),S}function rO(h){return typeof h.constructor=="function"&&!Om(h)?kd(Yv(h)):{}}function RG(h,p,S){var T=h.constructor;switch(p){case ur:return U1(h);case F:case Y:return new T(+h);case Qn:return jG(h,S);case gs:case Se:case Vt:case tt:case mt:case rn:case is:case Yr:case Rs:return Fk(h,S);case we:return new T;case Fe:case Ke:return new T(h);case Ne:return bG(h);case Ge:return new T;case qt:return wG(h)}}function LG(h,p){var S=p.length;if(!S)return h;var T=S-1;return p[T]=(S>1?"& ":"")+p[T],p=p.join(S>2?", ":" "),h.replace(Mw,`{
/* [wrapped with `+p+`] */
`)}function FG(h){return Mt(h)||Xc(h)||!!(lk&&h&&h[lk])}function Ao(h,p){var S=typeof h;return p=p??Q,!!p&&(S=="number"||S!="symbol"&&yd.test(h))&&h>-1&&h%1==0&&h<p}function bs(h,p,S){if(!Jn(S))return!1;var T=typeof p;return(T=="number"?Bs(S)&&Ao(p,S.length):T=="string"&&p in S)?la(S[p],h):!1}function X1(h,p){if(Mt(h))return!1;var S=typeof h;return S=="number"||S=="symbol"||S=="boolean"||h==null||li(h)?!0:xs.test(h)||!vs.test(h)||p!=null&&h in An(p)}function BG(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function J1(h){var p=mx(h),S=W[p];if(typeof S!="function"||!(p in Zt.prototype))return!1;if(h===S)return!0;var T=K1(S);return!!T&&h===T[0]}function zG(h){return!!sk&&sk in h}var VG=qv?Eo:pN;function Om(h){var p=h&&h.constructor,S=typeof p=="function"&&p.prototype||Ad;return h===S}function sO(h){return h===h&&!Jn(h)}function iO(h,p){return function(S){return S==null?!1:S[h]===p&&(p!==n||h in An(S))}}function UG(h){var p=jx(h,function(T){return S.size===u&&S.clear(),T}),S=p.cache;return p}function qG(h,p){var S=h[1],T=p[1],R=S|T,K=R<(y|N|P),le=T==P&&S==b||T==P&&S==E&&h[7].length<=p[8]||T==(P|E)&&p[7].length<=p[8]&&S==b;if(!(K||le))return h;T&y&&(h[2]=p[2],R|=S&y?0:j);var me=p[3];if(me){var be=h[3];h[3]=be?zk(be,me,p[4]):me,h[4]=be?wl(h[3],d):p[4]}return me=p[5],me&&(be=h[5],h[5]=be?Vk(be,me,p[6]):me,h[6]=be?wl(h[5],d):p[6]),me=p[7],me&&(h[7]=me),T&P&&(h[8]=h[8]==null?p[8]:as(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=R,h}function WG(h){var p=[];if(h!=null)for(var S in An(h))p.push(S);return p}function HG(h){return Hv.call(h)}function aO(h,p,S){return p=Cr(p===n?h.length-1:p,0),function(){for(var T=arguments,R=-1,K=Cr(T.length-p,0),le=Ce(K);++R<K;)le[R]=T[p+R];R=-1;for(var me=Ce(p+1);++R<p;)me[R]=T[R];return me[p]=S(le),ii(h,this,me)}}function oO(h,p){return p.length<2?h:Kc(h,Di(p,0,-1))}function GG(h,p){for(var S=h.length,T=as(p.length,S),R=Fs(h);T--;){var K=p[T];h[T]=Ao(K,S)?R[K]:n}return h}function Z1(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var lO=uO(kk),Dm=lH||function(h,p){return Xr.setTimeout(h,p)},eN=uO(gG);function cO(h,p,S){var T=p+"";return eN(h,LG(T,KG(IG(T),S)))}function uO(h){var p=0,S=0;return function(){var T=hH(),R=L-(T-S);if(S=T,R>0){if(++p>=O)return arguments[0]}else p=0;return h.apply(n,arguments)}}function gx(h,p){var S=-1,T=h.length,R=T-1;for(p=p===n?T:p;++S<p;){var K=$1(S,R),le=h[K];h[K]=h[S],h[S]=le}return h.length=p,h}var dO=UG(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(Pi,function(S,T,R,K){p.push(R?K.replace(Fw,"$1"):T||S)}),p});function Wa(h){if(typeof h=="string"||li(h))return h;var p=h+"";return p=="0"&&1/h==-oe?"-0":p}function Qc(h){if(h!=null){try{return Wv.call(h)}catch{}try{return h+""}catch{}}return""}function KG(h,p){return Ei(ne,function(S){var T="_."+S[0];p&S[1]&&!Bv(h,T)&&h.push(T)}),h.sort()}function hO(h){if(h instanceof Zt)return h.clone();var p=new ki(h.__wrapped__,h.__chain__);return p.__actions__=Fs(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function YG(h,p,S){(S?bs(h,p,S):p===n)?p=1:p=Cr(Rt(p),0);var T=h==null?0:h.length;if(!T||p<1)return[];for(var R=0,K=0,le=Ce(Jv(T/p));R<T;)le[K++]=Di(h,R,R+=p);return le}function QG(h){for(var p=-1,S=h==null?0:h.length,T=0,R=[];++p<S;){var K=h[p];K&&(R[T++]=K)}return R}function XG(){var h=arguments.length;if(!h)return[];for(var p=Ce(h-1),S=arguments[0],T=h;T--;)p[T-1]=arguments[T];return bl(Mt(S)?Fs(S):[S],Jr(p,1))}var JG=Ut(function(h,p){return dr(h)?Pm(h,Jr(p,1,dr,!0)):[]}),ZG=Ut(function(h,p){var S=Mi(p);return dr(S)&&(S=n),dr(h)?Pm(h,Jr(p,1,dr,!0),pt(S,2)):[]}),eK=Ut(function(h,p){var S=Mi(p);return dr(S)&&(S=n),dr(h)?Pm(h,Jr(p,1,dr,!0),n,S):[]});function tK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),Di(h,p<0?0:p,T)):[]}function nK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),p=T-p,Di(h,0,p<0?0:p)):[]}function rK(h,p){return h&&h.length?lx(h,pt(p,3),!0,!0):[]}function sK(h,p){return h&&h.length?lx(h,pt(p,3),!0):[]}function iK(h,p,S,T){var R=h==null?0:h.length;return R?(S&&typeof S!="number"&&bs(h,p,S)&&(S=0,T=R),XH(h,p,S,T)):[]}function fO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Rt(S);return R<0&&(R=Cr(T+R,0)),zv(h,pt(p,3),R)}function mO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T-1;return S!==n&&(R=Rt(S),R=S<0?Cr(T+R,0):as(R,T-1)),zv(h,pt(p,3),R,!0)}function pO(h){var p=h==null?0:h.length;return p?Jr(h,1):[]}function aK(h){var p=h==null?0:h.length;return p?Jr(h,oe):[]}function oK(h,p){var S=h==null?0:h.length;return S?(p=p===n?1:Rt(p),Jr(h,p)):[]}function lK(h){for(var p=-1,S=h==null?0:h.length,T={};++p<S;){var R=h[p];T[R[0]]=R[1]}return T}function gO(h){return h&&h.length?h[0]:n}function cK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Rt(S);return R<0&&(R=Cr(T+R,0)),Sd(h,p,R)}function uK(h){var p=h==null?0:h.length;return p?Di(h,0,-1):[]}var dK=Ut(function(h){var p=Wn(h,z1);return p.length&&p[0]===h[0]?k1(p):[]}),hK=Ut(function(h){var p=Mi(h),S=Wn(h,z1);return p===Mi(S)?p=n:S.pop(),S.length&&S[0]===h[0]?k1(S,pt(p,2)):[]}),fK=Ut(function(h){var p=Mi(h),S=Wn(h,z1);return p=typeof p=="function"?p:n,p&&S.pop(),S.length&&S[0]===h[0]?k1(S,n,p):[]});function mK(h,p){return h==null?"":uH.call(h,p)}function Mi(h){var p=h==null?0:h.length;return p?h[p-1]:n}function pK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T;return S!==n&&(R=Rt(S),R=R<0?Cr(T+R,0):as(R,T-1)),p===p?K9(h,p,R):zv(h,QT,R,!0)}function gK(h,p){return h&&h.length?Pk(h,Rt(p)):n}var vK=Ut(vO);function vO(h,p){return h&&h.length&&p&&p.length?I1(h,p):h}function xK(h,p,S){return h&&h.length&&p&&p.length?I1(h,p,pt(S,2)):h}function yK(h,p,S){return h&&h.length&&p&&p.length?I1(h,p,n,S):h}var jK=Po(function(h,p){var S=h==null?0:h.length,T=P1(h,p);return Tk(h,Wn(p,function(R){return Ao(R,S)?+R:R}).sort(Bk)),T});function bK(h,p){var S=[];if(!(h&&h.length))return S;var T=-1,R=[],K=h.length;for(p=pt(p,3);++T<K;){var le=h[T];p(le,T,h)&&(S.push(le),R.push(T))}return Tk(h,R),S}function tN(h){return h==null?h:mH.call(h)}function wK(h,p,S){var T=h==null?0:h.length;return T?(S&&typeof S!="number"&&bs(h,p,S)?(p=0,S=T):(p=p==null?0:Rt(p),S=S===n?T:Rt(S)),Di(h,p,S)):[]}function NK(h,p){return ox(h,p)}function SK(h,p,S){return L1(h,p,pt(S,2))}function CK(h,p){var S=h==null?0:h.length;if(S){var T=ox(h,p);if(T<S&&la(h[T],p))return T}return-1}function _K(h,p){return ox(h,p,!0)}function PK(h,p,S){return L1(h,p,pt(S,2),!0)}function AK(h,p){var S=h==null?0:h.length;if(S){var T=ox(h,p,!0)-1;if(la(h[T],p))return T}return-1}function EK(h){return h&&h.length?Ok(h):[]}function TK(h,p){return h&&h.length?Ok(h,pt(p,2)):[]}function kK(h){var p=h==null?0:h.length;return p?Di(h,1,p):[]}function OK(h,p,S){return h&&h.length?(p=S||p===n?1:Rt(p),Di(h,0,p<0?0:p)):[]}function DK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Rt(p),p=T-p,Di(h,p<0?0:p,T)):[]}function MK(h,p){return h&&h.length?lx(h,pt(p,3),!1,!0):[]}function IK(h,p){return h&&h.length?lx(h,pt(p,3)):[]}var $K=Ut(function(h){return Cl(Jr(h,1,dr,!0))}),RK=Ut(function(h){var p=Mi(h);return dr(p)&&(p=n),Cl(Jr(h,1,dr,!0),pt(p,2))}),LK=Ut(function(h){var p=Mi(h);return p=typeof p=="function"?p:n,Cl(Jr(h,1,dr,!0),n,p)});function FK(h){return h&&h.length?Cl(h):[]}function BK(h,p){return h&&h.length?Cl(h,pt(p,2)):[]}function zK(h,p){return p=typeof p=="function"?p:n,h&&h.length?Cl(h,n,p):[]}function nN(h){if(!(h&&h.length))return[];var p=0;return h=jl(h,function(S){if(dr(S))return p=Cr(S.length,p),!0}),y1(p,function(S){return Wn(h,g1(S))})}function xO(h,p){if(!(h&&h.length))return[];var S=nN(h);return p==null?S:Wn(S,function(T){return ii(p,n,T)})}var VK=Ut(function(h,p){return dr(h)?Pm(h,p):[]}),UK=Ut(function(h){return B1(jl(h,dr))}),qK=Ut(function(h){var p=Mi(h);return dr(p)&&(p=n),B1(jl(h,dr),pt(p,2))}),WK=Ut(function(h){var p=Mi(h);return p=typeof p=="function"?p:n,B1(jl(h,dr),n,p)}),HK=Ut(nN);function GK(h,p){return $k(h||[],p||[],_m)}function KK(h,p){return $k(h||[],p||[],Tm)}var YK=Ut(function(h){var p=h.length,S=p>1?h[p-1]:n;return S=typeof S=="function"?(h.pop(),S):n,xO(h,S)});function yO(h){var p=W(h);return p.__chain__=!0,p}function QK(h,p){return p(h),h}function vx(h,p){return p(h)}var XK=Po(function(h){var p=h.length,S=p?h[0]:0,T=this.__wrapped__,R=function(K){return P1(K,h)};return p>1||this.__actions__.length||!(T instanceof Zt)||!Ao(S)?this.thru(R):(T=T.slice(S,+S+(p?1:0)),T.__actions__.push({func:vx,args:[R],thisArg:n}),new ki(T,this.__chain__).thru(function(K){return p&&!K.length&&K.push(n),K}))});function JK(){return yO(this)}function ZK(){return new ki(this.value(),this.__chain__)}function eY(){this.__values__===n&&(this.__values__=DO(this.value()));var h=this.__index__>=this.__values__.length,p=h?n:this.__values__[this.__index__++];return{done:h,value:p}}function tY(){return this}function nY(h){for(var p,S=this;S instanceof nx;){var T=hO(S);T.__index__=0,T.__values__=n,p?R.__wrapped__=T:p=T;var R=T;S=S.__wrapped__}return R.__wrapped__=h,p}function rY(){var h=this.__wrapped__;if(h instanceof Zt){var p=h;return this.__actions__.length&&(p=new Zt(this)),p=p.reverse(),p.__actions__.push({func:vx,args:[tN],thisArg:n}),new ki(p,this.__chain__)}return this.thru(tN)}function sY(){return Ik(this.__wrapped__,this.__actions__)}var iY=cx(function(h,p,S){xn.call(h,S)?++h[S]:Co(h,S,1)});function aY(h,p,S){var T=Mt(h)?KT:QH;return S&&bs(h,p,S)&&(p=n),T(h,pt(p,3))}function oY(h,p){var S=Mt(h)?jl:xk;return S(h,pt(p,3))}var lY=Hk(fO),cY=Hk(mO);function uY(h,p){return Jr(xx(h,p),1)}function dY(h,p){return Jr(xx(h,p),oe)}function hY(h,p,S){return S=S===n?1:Rt(S),Jr(xx(h,p),S)}function jO(h,p){var S=Mt(h)?Ei:Sl;return S(h,pt(p,3))}function bO(h,p){var S=Mt(h)?k9:vk;return S(h,pt(p,3))}var fY=cx(function(h,p,S){xn.call(h,S)?h[S].push(p):Co(h,S,[p])});function mY(h,p,S,T){h=Bs(h)?h:$d(h),S=S&&!T?Rt(S):0;var R=h.length;return S<0&&(S=Cr(R+S,0)),Nx(h)?S<=R&&h.indexOf(p,S)>-1:!!R&&Sd(h,p,S)>-1}var pY=Ut(function(h,p,S){var T=-1,R=typeof p=="function",K=Bs(h)?Ce(h.length):[];return Sl(h,function(le){K[++T]=R?ii(p,le,S):Am(le,p,S)}),K}),gY=cx(function(h,p,S){Co(h,S,p)});function xx(h,p){var S=Mt(h)?Wn:Sk;return S(h,pt(p,3))}function vY(h,p,S,T){return h==null?[]:(Mt(p)||(p=p==null?[]:[p]),S=T?n:S,Mt(S)||(S=S==null?[]:[S]),Ak(h,p,S))}var xY=cx(function(h,p,S){h[S?0:1].push(p)},function(){return[[],[]]});function yY(h,p,S){var T=Mt(h)?m1:JT,R=arguments.length<3;return T(h,pt(p,4),S,R,Sl)}function jY(h,p,S){var T=Mt(h)?O9:JT,R=arguments.length<3;return T(h,pt(p,4),S,R,vk)}function bY(h,p){var S=Mt(h)?jl:xk;return S(h,bx(pt(p,3)))}function wY(h){var p=Mt(h)?fk:mG;return p(h)}function NY(h,p,S){(S?bs(h,p,S):p===n)?p=1:p=Rt(p);var T=Mt(h)?WH:pG;return T(h,p)}function SY(h){var p=Mt(h)?HH:vG;return p(h)}function CY(h){if(h==null)return 0;if(Bs(h))return Nx(h)?_d(h):h.length;var p=os(h);return p==we||p==Ge?h.size:D1(h).length}function _Y(h,p,S){var T=Mt(h)?p1:xG;return S&&bs(h,p,S)&&(p=n),T(h,pt(p,3))}var PY=Ut(function(h,p){if(h==null)return[];var S=p.length;return S>1&&bs(h,p[0],p[1])?p=[]:S>2&&bs(p[0],p[1],p[2])&&(p=[p[0]]),Ak(h,Jr(p,1),[])}),yx=oH||function(){return Xr.Date.now()};function AY(h,p){if(typeof p!="function")throw new Ti(o);return h=Rt(h),function(){if(--h<1)return p.apply(this,arguments)}}function wO(h,p,S){return p=S?n:p,p=h&&p==null?h.length:p,_o(h,P,n,n,n,n,p)}function NO(h,p){var S;if(typeof p!="function")throw new Ti(o);return h=Rt(h),function(){return--h>0&&(S=p.apply(this,arguments)),h<=1&&(p=n),S}}var rN=Ut(function(h,p,S){var T=y;if(S.length){var R=wl(S,Md(rN));T|=C}return _o(h,T,p,S,R)}),SO=Ut(function(h,p,S){var T=y|N;if(S.length){var R=wl(S,Md(SO));T|=C}return _o(p,T,h,S,R)});function CO(h,p,S){p=S?n:p;var T=_o(h,b,n,n,n,n,n,p);return T.placeholder=CO.placeholder,T}function _O(h,p,S){p=S?n:p;var T=_o(h,_,n,n,n,n,n,p);return T.placeholder=_O.placeholder,T}function PO(h,p,S){var T,R,K,le,me,be,Te=0,ke=!1,Re=!1,Qe=!0;if(typeof h!="function")throw new Ti(o);p=Ii(p)||0,Jn(S)&&(ke=!!S.leading,Re="maxWait"in S,K=Re?Cr(Ii(S.maxWait)||0,p):K,Qe="trailing"in S?!!S.trailing:Qe);function ot(hr){var ca=T,ko=R;return T=R=n,Te=hr,le=h.apply(ko,ca),le}function gt(hr){return Te=hr,me=Dm(Wt,p),ke?ot(hr):le}function Bt(hr){var ca=hr-be,ko=hr-Te,HO=p-ca;return Re?as(HO,K-ko):HO}function vt(hr){var ca=hr-be,ko=hr-Te;return be===n||ca>=p||ca<0||Re&&ko>=K}function Wt(){var hr=yx();if(vt(hr))return tn(hr);me=Dm(Wt,Bt(hr))}function tn(hr){return me=n,Qe&&T?ot(hr):(T=R=n,le)}function ci(){me!==n&&Rk(me),Te=0,T=be=R=me=n}function ws(){return me===n?le:tn(yx())}function ui(){var hr=yx(),ca=vt(hr);if(T=arguments,R=this,be=hr,ca){if(me===n)return gt(be);if(Re)return Rk(me),me=Dm(Wt,p),ot(be)}return me===n&&(me=Dm(Wt,p)),le}return ui.cancel=ci,ui.flush=ws,ui}var EY=Ut(function(h,p){return gk(h,1,p)}),TY=Ut(function(h,p,S){return gk(h,Ii(p)||0,S)});function kY(h){return _o(h,M)}function jx(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new Ti(o);var S=function(){var T=arguments,R=p?p.apply(this,T):T[0],K=S.cache;if(K.has(R))return K.get(R);var le=h.apply(this,T);return S.cache=K.set(R,le)||K,le};return S.cache=new(jx.Cache||So),S}jx.Cache=So;function bx(h){if(typeof h!="function")throw new Ti(o);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function OY(h){return NO(2,h)}var DY=yG(function(h,p){p=p.length==1&&Mt(p[0])?Wn(p[0],ai(pt())):Wn(Jr(p,1),ai(pt()));var S=p.length;return Ut(function(T){for(var R=-1,K=as(T.length,S);++R<K;)T[R]=p[R].call(this,T[R]);return ii(h,this,T)})}),sN=Ut(function(h,p){var S=wl(p,Md(sN));return _o(h,C,n,p,S)}),AO=Ut(function(h,p){var S=wl(p,Md(AO));return _o(h,A,n,p,S)}),MY=Po(function(h,p){return _o(h,E,n,n,n,p)});function IY(h,p){if(typeof h!="function")throw new Ti(o);return p=p===n?p:Rt(p),Ut(h,p)}function $Y(h,p){if(typeof h!="function")throw new Ti(o);return p=p==null?0:Cr(Rt(p),0),Ut(function(S){var T=S[p],R=Pl(S,0,p);return T&&bl(R,T),ii(h,this,R)})}function RY(h,p,S){var T=!0,R=!0;if(typeof h!="function")throw new Ti(o);return Jn(S)&&(T="leading"in S?!!S.leading:T,R="trailing"in S?!!S.trailing:R),PO(h,p,{leading:T,maxWait:p,trailing:R})}function LY(h){return wO(h,1)}function FY(h,p){return sN(V1(p),h)}function BY(){if(!arguments.length)return[];var h=arguments[0];return Mt(h)?h:[h]}function zY(h){return Oi(h,g)}function VY(h,p){return p=typeof p=="function"?p:n,Oi(h,g,p)}function UY(h){return Oi(h,f|g)}function qY(h,p){return p=typeof p=="function"?p:n,Oi(h,f|g,p)}function WY(h,p){return p==null||pk(h,p,$r(p))}function la(h,p){return h===p||h!==h&&p!==p}var HY=fx(T1),GY=fx(function(h,p){return h>=p}),Xc=bk(function(){return arguments}())?bk:function(h){return rr(h)&&xn.call(h,"callee")&&!ok.call(h,"callee")},Mt=Ce.isArray,KY=VT?ai(VT):nG;function Bs(h){return h!=null&&wx(h.length)&&!Eo(h)}function dr(h){return rr(h)&&Bs(h)}function YY(h){return h===!0||h===!1||rr(h)&&js(h)==F}var Al=cH||pN,QY=UT?ai(UT):rG;function XY(h){return rr(h)&&h.nodeType===1&&!Mm(h)}function JY(h){if(h==null)return!0;if(Bs(h)&&(Mt(h)||typeof h=="string"||typeof h.splice=="function"||Al(h)||Id(h)||Xc(h)))return!h.length;var p=os(h);if(p==we||p==Ge)return!h.size;if(Om(h))return!D1(h).length;for(var S in h)if(xn.call(h,S))return!1;return!0}function ZY(h,p){return Em(h,p)}function eQ(h,p,S){S=typeof S=="function"?S:n;var T=S?S(h,p):n;return T===n?Em(h,p,n,S):!!T}function iN(h){if(!rr(h))return!1;var p=js(h);return p==G||p==ee||typeof h.message=="string"&&typeof h.name=="string"&&!Mm(h)}function tQ(h){return typeof h=="number"&&ck(h)}function Eo(h){if(!Jn(h))return!1;var p=js(h);return p==I||p==ve||p==se||p==ft}function EO(h){return typeof h=="number"&&h==Rt(h)}function wx(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=Q}function Jn(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function rr(h){return h!=null&&typeof h=="object"}var TO=qT?ai(qT):iG;function nQ(h,p){return h===p||O1(h,p,Y1(p))}function rQ(h,p,S){return S=typeof S=="function"?S:n,O1(h,p,Y1(p),S)}function sQ(h){return kO(h)&&h!=+h}function iQ(h){if(VG(h))throw new kt(a);return wk(h)}function aQ(h){return h===null}function oQ(h){return h==null}function kO(h){return typeof h=="number"||rr(h)&&js(h)==Fe}function Mm(h){if(!rr(h)||js(h)!=it)return!1;var p=Yv(h);if(p===null)return!0;var S=xn.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&Wv.call(S)==rH}var aN=WT?ai(WT):aG;function lQ(h){return EO(h)&&h>=-Q&&h<=Q}var OO=HT?ai(HT):oG;function Nx(h){return typeof h=="string"||!Mt(h)&&rr(h)&&js(h)==Ke}function li(h){return typeof h=="symbol"||rr(h)&&js(h)==qt}var Id=GT?ai(GT):lG;function cQ(h){return h===n}function uQ(h){return rr(h)&&os(h)==Tt}function dQ(h){return rr(h)&&js(h)==Nn}var hQ=fx(M1),fQ=fx(function(h,p){return h<=p});function DO(h){if(!h)return[];if(Bs(h))return Nx(h)?aa(h):Fs(h);if(bm&&h[bm])return W9(h[bm]());var p=os(h),S=p==we?b1:p==Ge?Vv:$d;return S(h)}function To(h){if(!h)return h===0?h:0;if(h=Ii(h),h===oe||h===-oe){var p=h<0?-1:1;return p*D}return h===h?h:0}function Rt(h){var p=To(h),S=p%1;return p===p?S?p-S:p:0}function MO(h){return h?Gc(Rt(h),0,pe):0}function Ii(h){if(typeof h=="number")return h;if(li(h))return ae;if(Jn(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Jn(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=ZT(h);var S=Vw.test(h);return S||pm.test(h)?A9(h.slice(2),S?2:8):zw.test(h)?ae:+h}function IO(h){return qa(h,zs(h))}function mQ(h){return h?Gc(Rt(h),-Q,Q):h===0?h:0}function hn(h){return h==null?"":oi(h)}var pQ=Od(function(h,p){if(Om(p)||Bs(p)){qa(p,$r(p),h);return}for(var S in p)xn.call(p,S)&&_m(h,S,p[S])}),$O=Od(function(h,p){qa(p,zs(p),h)}),Sx=Od(function(h,p,S,T){qa(p,zs(p),h,T)}),gQ=Od(function(h,p,S,T){qa(p,$r(p),h,T)}),vQ=Po(P1);function xQ(h,p){var S=kd(h);return p==null?S:mk(S,p)}var yQ=Ut(function(h,p){h=An(h);var S=-1,T=p.length,R=T>2?p[2]:n;for(R&&bs(p[0],p[1],R)&&(T=1);++S<T;)for(var K=p[S],le=zs(K),me=-1,be=le.length;++me<be;){var Te=le[me],ke=h[Te];(ke===n||la(ke,Ad[Te])&&!xn.call(h,Te))&&(h[Te]=K[Te])}return h}),jQ=Ut(function(h){return h.push(n,Zk),ii(RO,n,h)});function bQ(h,p){return YT(h,pt(p,3),Ua)}function wQ(h,p){return YT(h,pt(p,3),E1)}function NQ(h,p){return h==null?h:A1(h,pt(p,3),zs)}function SQ(h,p){return h==null?h:yk(h,pt(p,3),zs)}function CQ(h,p){return h&&Ua(h,pt(p,3))}function _Q(h,p){return h&&E1(h,pt(p,3))}function PQ(h){return h==null?[]:ix(h,$r(h))}function AQ(h){return h==null?[]:ix(h,zs(h))}function oN(h,p,S){var T=h==null?n:Kc(h,p);return T===n?S:T}function EQ(h,p){return h!=null&&nO(h,p,JH)}function lN(h,p){return h!=null&&nO(h,p,ZH)}var TQ=Kk(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Hv.call(p)),h[p]=S},uN(Vs)),kQ=Kk(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Hv.call(p)),xn.call(h,p)?h[p].push(S):h[p]=[S]},pt),OQ=Ut(Am);function $r(h){return Bs(h)?hk(h):D1(h)}function zs(h){return Bs(h)?hk(h,!0):cG(h)}function DQ(h,p){var S={};return p=pt(p,3),Ua(h,function(T,R,K){Co(S,p(T,R,K),T)}),S}function MQ(h,p){var S={};return p=pt(p,3),Ua(h,function(T,R,K){Co(S,R,p(T,R,K))}),S}var IQ=Od(function(h,p,S){ax(h,p,S)}),RO=Od(function(h,p,S,T){ax(h,p,S,T)}),$Q=Po(function(h,p){var S={};if(h==null)return S;var T=!1;p=Wn(p,function(K){return K=_l(K,h),T||(T=K.length>1),K}),qa(h,G1(h),S),T&&(S=Oi(S,f|m|g,TG));for(var R=p.length;R--;)F1(S,p[R]);return S});function RQ(h,p){return LO(h,bx(pt(p)))}var LQ=Po(function(h,p){return h==null?{}:dG(h,p)});function LO(h,p){if(h==null)return{};var S=Wn(G1(h),function(T){return[T]});return p=pt(p),Ek(h,S,function(T,R){return p(T,R[0])})}function FQ(h,p,S){p=_l(p,h);var T=-1,R=p.length;for(R||(R=1,h=n);++T<R;){var K=h==null?n:h[Wa(p[T])];K===n&&(T=R,K=S),h=Eo(K)?K.call(h):K}return h}function BQ(h,p,S){return h==null?h:Tm(h,p,S)}function zQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:Tm(h,p,S,T)}var FO=Xk($r),BO=Xk(zs);function VQ(h,p,S){var T=Mt(h),R=T||Al(h)||Id(h);if(p=pt(p,4),S==null){var K=h&&h.constructor;R?S=T?new K:[]:Jn(h)?S=Eo(K)?kd(Yv(h)):{}:S={}}return(R?Ei:Ua)(h,function(le,me,be){return p(S,le,me,be)}),S}function UQ(h,p){return h==null?!0:F1(h,p)}function qQ(h,p,S){return h==null?h:Mk(h,p,V1(S))}function WQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:Mk(h,p,V1(S),T)}function $d(h){return h==null?[]:j1(h,$r(h))}function HQ(h){return h==null?[]:j1(h,zs(h))}function GQ(h,p,S){return S===n&&(S=p,p=n),S!==n&&(S=Ii(S),S=S===S?S:0),p!==n&&(p=Ii(p),p=p===p?p:0),Gc(Ii(h),p,S)}function KQ(h,p,S){return p=To(p),S===n?(S=p,p=0):S=To(S),h=Ii(h),eG(h,p,S)}function YQ(h,p,S){if(S&&typeof S!="boolean"&&bs(h,p,S)&&(p=S=n),S===n&&(typeof p=="boolean"?(S=p,p=n):typeof h=="boolean"&&(S=h,h=n)),h===n&&p===n?(h=0,p=1):(h=To(h),p===n?(p=h,h=0):p=To(p)),h>p){var T=h;h=p,p=T}if(S||h%1||p%1){var R=uk();return as(h+R*(p-h+P9("1e-"+((R+"").length-1))),p)}return $1(h,p)}var QQ=Dd(function(h,p,S){return p=p.toLowerCase(),h+(S?zO(p):p)});function zO(h){return cN(hn(h).toLowerCase())}function VO(h){return h=hn(h),h&&h.replace(qw,B9).replace(r1,"")}function XQ(h,p,S){h=hn(h),p=oi(p);var T=h.length;S=S===n?T:Gc(Rt(S),0,T);var R=S;return S-=p.length,S>=0&&h.slice(S,R)==p}function JQ(h){return h=hn(h),h&&sa.test(h)?h.replace(Tn,z9):h}function ZQ(h){return h=hn(h),h&&ys.test(h)?h.replace(si,"\\$&"):h}var eX=Dd(function(h,p,S){return h+(S?"-":"")+p.toLowerCase()}),tX=Dd(function(h,p,S){return h+(S?" ":"")+p.toLowerCase()}),nX=Wk("toLowerCase");function rX(h,p,S){h=hn(h),p=Rt(p);var T=p?_d(h):0;if(!p||T>=p)return h;var R=(p-T)/2;return hx(Zv(R),S)+h+hx(Jv(R),S)}function sX(h,p,S){h=hn(h),p=Rt(p);var T=p?_d(h):0;return p&&T<p?h+hx(p-T,S):h}function iX(h,p,S){h=hn(h),p=Rt(p);var T=p?_d(h):0;return p&&T<p?hx(p-T,S)+h:h}function aX(h,p,S){return S||p==null?p=0:p&&(p=+p),fH(hn(h).replace(Ls,""),p||0)}function oX(h,p,S){return(S?bs(h,p,S):p===n)?p=1:p=Rt(p),R1(hn(h),p)}function lX(){var h=arguments,p=hn(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var cX=Dd(function(h,p,S){return h+(S?"_":"")+p.toLowerCase()});function uX(h,p,S){return S&&typeof S!="number"&&bs(h,p,S)&&(p=S=n),S=S===n?pe:S>>>0,S?(h=hn(h),h&&(typeof p=="string"||p!=null&&!aN(p))&&(p=oi(p),!p&&Cd(h))?Pl(aa(h),0,S):h.split(p,S)):[]}var dX=Dd(function(h,p,S){return h+(S?" ":"")+cN(p)});function hX(h,p,S){return h=hn(h),S=S==null?0:Gc(Rt(S),0,h.length),p=oi(p),h.slice(S,S+p.length)==p}function fX(h,p,S){var T=W.templateSettings;S&&bs(h,p,S)&&(p=n),h=hn(h),p=Sx({},p,T,Jk);var R=Sx({},p.imports,T.imports,Jk),K=$r(R),le=j1(R,K),me,be,Te=0,ke=p.interpolate||wo,Re="__p += '",Qe=w1((p.escape||wo).source+"|"+ke.source+"|"+(ke===gn?Bw:wo).source+"|"+(p.evaluate||wo).source+"|$","g"),ot="//# sourceURL="+(xn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++l1+"]")+`
`;h.replace(Qe,function(vt,Wt,tn,ci,ws,ui){return tn||(tn=ci),Re+=h.slice(Te,ui).replace(Ww,V9),Wt&&(me=!0,Re+=`' +
__e(`+Wt+`) +
'`),ws&&(be=!0,Re+=`';
`+ws+`;
__p += '`),tn&&(Re+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),Te=ui+vt.length,vt}),Re+=`';
`;var gt=xn.call(p,"variable")&&p.variable;if(!gt)Re=`with (obj) {
`+Re+`
}
`;else if(Lw.test(gt))throw new kt(l);Re=(be?Re.replace(xl,""):Re).replace(ce,"$1").replace(qe,"$1;"),Re="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(me?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Re+`return __p
}`;var Bt=qO(function(){return dn(K,ot+"return "+Re).apply(n,le)});if(Bt.source=Re,iN(Bt))throw Bt;return Bt}function mX(h){return hn(h).toLowerCase()}function pX(h){return hn(h).toUpperCase()}function gX(h,p,S){if(h=hn(h),h&&(S||p===n))return ZT(h);if(!h||!(p=oi(p)))return h;var T=aa(h),R=aa(p),K=ek(T,R),le=tk(T,R)+1;return Pl(T,K,le).join("")}function vX(h,p,S){if(h=hn(h),h&&(S||p===n))return h.slice(0,rk(h)+1);if(!h||!(p=oi(p)))return h;var T=aa(h),R=tk(T,aa(p))+1;return Pl(T,0,R).join("")}function xX(h,p,S){if(h=hn(h),h&&(S||p===n))return h.replace(Ls,"");if(!h||!(p=oi(p)))return h;var T=aa(h),R=ek(T,aa(p));return Pl(T,R).join("")}function yX(h,p){var S=$,T=k;if(Jn(p)){var R="separator"in p?p.separator:R;S="length"in p?Rt(p.length):S,T="omission"in p?oi(p.omission):T}h=hn(h);var K=h.length;if(Cd(h)){var le=aa(h);K=le.length}if(S>=K)return h;var me=S-_d(T);if(me<1)return T;var be=le?Pl(le,0,me).join(""):h.slice(0,me);if(R===n)return be+T;if(le&&(me+=be.length-me),aN(R)){if(h.slice(me).search(R)){var Te,ke=be;for(R.global||(R=w1(R.source,hn(Tv.exec(R))+"g")),R.lastIndex=0;Te=R.exec(ke);)var Re=Te.index;be=be.slice(0,Re===n?me:Re)}}else if(h.indexOf(oi(R),me)!=me){var Qe=be.lastIndexOf(R);Qe>-1&&(be=be.slice(0,Qe))}return be+T}function jX(h){return h=hn(h),h&&Xn.test(h)?h.replace(Le,Y9):h}var bX=Dd(function(h,p,S){return h+(S?" ":"")+p.toUpperCase()}),cN=Wk("toUpperCase");function UO(h,p,S){return h=hn(h),p=S?n:p,p===n?q9(h)?J9(h):I9(h):h.match(p)||[]}var qO=Ut(function(h,p){try{return ii(h,n,p)}catch(S){return iN(S)?S:new kt(S)}}),wX=Po(function(h,p){return Ei(p,function(S){S=Wa(S),Co(h,S,rN(h[S],h))}),h});function NX(h){var p=h==null?0:h.length,S=pt();return h=p?Wn(h,function(T){if(typeof T[1]!="function")throw new Ti(o);return[S(T[0]),T[1]]}):[],Ut(function(T){for(var R=-1;++R<p;){var K=h[R];if(ii(K[0],this,T))return ii(K[1],this,T)}})}function SX(h){return YH(Oi(h,f))}function uN(h){return function(){return h}}function CX(h,p){return h==null||h!==h?p:h}var _X=Gk(),PX=Gk(!0);function Vs(h){return h}function dN(h){return Nk(typeof h=="function"?h:Oi(h,f))}function AX(h){return Ck(Oi(h,f))}function EX(h,p){return _k(h,Oi(p,f))}var TX=Ut(function(h,p){return function(S){return Am(S,h,p)}}),kX=Ut(function(h,p){return function(S){return Am(h,S,p)}});function hN(h,p,S){var T=$r(p),R=ix(p,T);S==null&&!(Jn(p)&&(R.length||!T.length))&&(S=p,p=h,h=this,R=ix(p,$r(p)));var K=!(Jn(S)&&"chain"in S)||!!S.chain,le=Eo(h);return Ei(R,function(me){var be=p[me];h[me]=be,le&&(h.prototype[me]=function(){var Te=this.__chain__;if(K||Te){var ke=h(this.__wrapped__),Re=ke.__actions__=Fs(this.__actions__);return Re.push({func:be,args:arguments,thisArg:h}),ke.__chain__=Te,ke}return be.apply(h,bl([this.value()],arguments))})}),h}function OX(){return Xr._===this&&(Xr._=sH),this}function fN(){}function DX(h){return h=Rt(h),Ut(function(p){return Pk(p,h)})}var MX=q1(Wn),IX=q1(KT),$X=q1(p1);function WO(h){return X1(h)?g1(Wa(h)):hG(h)}function RX(h){return function(p){return h==null?n:Kc(h,p)}}var LX=Yk(),FX=Yk(!0);function mN(){return[]}function pN(){return!1}function BX(){return{}}function zX(){return""}function VX(){return!0}function UX(h,p){if(h=Rt(h),h<1||h>Q)return[];var S=pe,T=as(h,pe);p=pt(p),h-=pe;for(var R=y1(T,p);++S<h;)p(S);return R}function qX(h){return Mt(h)?Wn(h,Wa):li(h)?[h]:Fs(dO(hn(h)))}function WX(h){var p=++nH;return hn(h)+p}var HX=dx(function(h,p){return h+p},0),GX=W1("ceil"),KX=dx(function(h,p){return h/p},1),YX=W1("floor");function QX(h){return h&&h.length?sx(h,Vs,T1):n}function XX(h,p){return h&&h.length?sx(h,pt(p,2),T1):n}function JX(h){return XT(h,Vs)}function ZX(h,p){return XT(h,pt(p,2))}function eJ(h){return h&&h.length?sx(h,Vs,M1):n}function tJ(h,p){return h&&h.length?sx(h,pt(p,2),M1):n}var nJ=dx(function(h,p){return h*p},1),rJ=W1("round"),sJ=dx(function(h,p){return h-p},0);function iJ(h){return h&&h.length?x1(h,Vs):0}function aJ(h,p){return h&&h.length?x1(h,pt(p,2)):0}return W.after=AY,W.ary=wO,W.assign=pQ,W.assignIn=$O,W.assignInWith=Sx,W.assignWith=gQ,W.at=vQ,W.before=NO,W.bind=rN,W.bindAll=wX,W.bindKey=SO,W.castArray=BY,W.chain=yO,W.chunk=YG,W.compact=QG,W.concat=XG,W.cond=NX,W.conforms=SX,W.constant=uN,W.countBy=iY,W.create=xQ,W.curry=CO,W.curryRight=_O,W.debounce=PO,W.defaults=yQ,W.defaultsDeep=jQ,W.defer=EY,W.delay=TY,W.difference=JG,W.differenceBy=ZG,W.differenceWith=eK,W.drop=tK,W.dropRight=nK,W.dropRightWhile=rK,W.dropWhile=sK,W.fill=iK,W.filter=oY,W.flatMap=uY,W.flatMapDeep=dY,W.flatMapDepth=hY,W.flatten=pO,W.flattenDeep=aK,W.flattenDepth=oK,W.flip=kY,W.flow=_X,W.flowRight=PX,W.fromPairs=lK,W.functions=PQ,W.functionsIn=AQ,W.groupBy=fY,W.initial=uK,W.intersection=dK,W.intersectionBy=hK,W.intersectionWith=fK,W.invert=TQ,W.invertBy=kQ,W.invokeMap=pY,W.iteratee=dN,W.keyBy=gY,W.keys=$r,W.keysIn=zs,W.map=xx,W.mapKeys=DQ,W.mapValues=MQ,W.matches=AX,W.matchesProperty=EX,W.memoize=jx,W.merge=IQ,W.mergeWith=RO,W.method=TX,W.methodOf=kX,W.mixin=hN,W.negate=bx,W.nthArg=DX,W.omit=$Q,W.omitBy=RQ,W.once=OY,W.orderBy=vY,W.over=MX,W.overArgs=DY,W.overEvery=IX,W.overSome=$X,W.partial=sN,W.partialRight=AO,W.partition=xY,W.pick=LQ,W.pickBy=LO,W.property=WO,W.propertyOf=RX,W.pull=vK,W.pullAll=vO,W.pullAllBy=xK,W.pullAllWith=yK,W.pullAt=jK,W.range=LX,W.rangeRight=FX,W.rearg=MY,W.reject=bY,W.remove=bK,W.rest=IY,W.reverse=tN,W.sampleSize=NY,W.set=BQ,W.setWith=zQ,W.shuffle=SY,W.slice=wK,W.sortBy=PY,W.sortedUniq=EK,W.sortedUniqBy=TK,W.split=uX,W.spread=$Y,W.tail=kK,W.take=OK,W.takeRight=DK,W.takeRightWhile=MK,W.takeWhile=IK,W.tap=QK,W.throttle=RY,W.thru=vx,W.toArray=DO,W.toPairs=FO,W.toPairsIn=BO,W.toPath=qX,W.toPlainObject=IO,W.transform=VQ,W.unary=LY,W.union=$K,W.unionBy=RK,W.unionWith=LK,W.uniq=FK,W.uniqBy=BK,W.uniqWith=zK,W.unset=UQ,W.unzip=nN,W.unzipWith=xO,W.update=qQ,W.updateWith=WQ,W.values=$d,W.valuesIn=HQ,W.without=VK,W.words=UO,W.wrap=FY,W.xor=UK,W.xorBy=qK,W.xorWith=WK,W.zip=HK,W.zipObject=GK,W.zipObjectDeep=KK,W.zipWith=YK,W.entries=FO,W.entriesIn=BO,W.extend=$O,W.extendWith=Sx,hN(W,W),W.add=HX,W.attempt=qO,W.camelCase=QQ,W.capitalize=zO,W.ceil=GX,W.clamp=GQ,W.clone=zY,W.cloneDeep=UY,W.cloneDeepWith=qY,W.cloneWith=VY,W.conformsTo=WY,W.deburr=VO,W.defaultTo=CX,W.divide=KX,W.endsWith=XQ,W.eq=la,W.escape=JQ,W.escapeRegExp=ZQ,W.every=aY,W.find=lY,W.findIndex=fO,W.findKey=bQ,W.findLast=cY,W.findLastIndex=mO,W.findLastKey=wQ,W.floor=YX,W.forEach=jO,W.forEachRight=bO,W.forIn=NQ,W.forInRight=SQ,W.forOwn=CQ,W.forOwnRight=_Q,W.get=oN,W.gt=HY,W.gte=GY,W.has=EQ,W.hasIn=lN,W.head=gO,W.identity=Vs,W.includes=mY,W.indexOf=cK,W.inRange=KQ,W.invoke=OQ,W.isArguments=Xc,W.isArray=Mt,W.isArrayBuffer=KY,W.isArrayLike=Bs,W.isArrayLikeObject=dr,W.isBoolean=YY,W.isBuffer=Al,W.isDate=QY,W.isElement=XY,W.isEmpty=JY,W.isEqual=ZY,W.isEqualWith=eQ,W.isError=iN,W.isFinite=tQ,W.isFunction=Eo,W.isInteger=EO,W.isLength=wx,W.isMap=TO,W.isMatch=nQ,W.isMatchWith=rQ,W.isNaN=sQ,W.isNative=iQ,W.isNil=oQ,W.isNull=aQ,W.isNumber=kO,W.isObject=Jn,W.isObjectLike=rr,W.isPlainObject=Mm,W.isRegExp=aN,W.isSafeInteger=lQ,W.isSet=OO,W.isString=Nx,W.isSymbol=li,W.isTypedArray=Id,W.isUndefined=cQ,W.isWeakMap=uQ,W.isWeakSet=dQ,W.join=mK,W.kebabCase=eX,W.last=Mi,W.lastIndexOf=pK,W.lowerCase=tX,W.lowerFirst=nX,W.lt=hQ,W.lte=fQ,W.max=QX,W.maxBy=XX,W.mean=JX,W.meanBy=ZX,W.min=eJ,W.minBy=tJ,W.stubArray=mN,W.stubFalse=pN,W.stubObject=BX,W.stubString=zX,W.stubTrue=VX,W.multiply=nJ,W.nth=gK,W.noConflict=OX,W.noop=fN,W.now=yx,W.pad=rX,W.padEnd=sX,W.padStart=iX,W.parseInt=aX,W.random=YQ,W.reduce=yY,W.reduceRight=jY,W.repeat=oX,W.replace=lX,W.result=FQ,W.round=rJ,W.runInContext=je,W.sample=wY,W.size=CY,W.snakeCase=cX,W.some=_Y,W.sortedIndex=NK,W.sortedIndexBy=SK,W.sortedIndexOf=CK,W.sortedLastIndex=_K,W.sortedLastIndexBy=PK,W.sortedLastIndexOf=AK,W.startCase=dX,W.startsWith=hX,W.subtract=sJ,W.sum=iJ,W.sumBy=aJ,W.template=fX,W.times=UX,W.toFinite=To,W.toInteger=Rt,W.toLength=MO,W.toLower=mX,W.toNumber=Ii,W.toSafeInteger=mQ,W.toString=hn,W.toUpper=pX,W.trim=gX,W.trimEnd=vX,W.trimStart=xX,W.truncate=yX,W.unescape=jX,W.uniqueId=WX,W.upperCase=bX,W.upperFirst=cN,W.each=jO,W.eachRight=bO,W.first=gO,hN(W,function(){var h={};return Ua(W,function(p,S){xn.call(W.prototype,S)||(h[S]=p)}),h}(),{chain:!1}),W.VERSION=s,Ei(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){W[h].placeholder=W}),Ei(["drop","take"],function(h,p){Zt.prototype[h]=function(S){S=S===n?1:Cr(Rt(S),0);var T=this.__filtered__&&!p?new Zt(this):this.clone();return T.__filtered__?T.__takeCount__=as(S,T.__takeCount__):T.__views__.push({size:as(S,pe),type:h+(T.__dir__<0?"Right":"")}),T},Zt.prototype[h+"Right"]=function(S){return this.reverse()[h](S).reverse()}}),Ei(["filter","map","takeWhile"],function(h,p){var S=p+1,T=S==z||S==H;Zt.prototype[h]=function(R){var K=this.clone();return K.__iteratees__.push({iteratee:pt(R,3),type:S}),K.__filtered__=K.__filtered__||T,K}}),Ei(["head","last"],function(h,p){var S="take"+(p?"Right":"");Zt.prototype[h]=function(){return this[S](1).value()[0]}}),Ei(["initial","tail"],function(h,p){var S="drop"+(p?"":"Right");Zt.prototype[h]=function(){return this.__filtered__?new Zt(this):this[S](1)}}),Zt.prototype.compact=function(){return this.filter(Vs)},Zt.prototype.find=function(h){return this.filter(h).head()},Zt.prototype.findLast=function(h){return this.reverse().find(h)},Zt.prototype.invokeMap=Ut(function(h,p){return typeof h=="function"?new Zt(this):this.map(function(S){return Am(S,h,p)})}),Zt.prototype.reject=function(h){return this.filter(bx(pt(h)))},Zt.prototype.slice=function(h,p){h=Rt(h);var S=this;return S.__filtered__&&(h>0||p<0)?new Zt(S):(h<0?S=S.takeRight(-h):h&&(S=S.drop(h)),p!==n&&(p=Rt(p),S=p<0?S.dropRight(-p):S.take(p-h)),S)},Zt.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Zt.prototype.toArray=function(){return this.take(pe)},Ua(Zt.prototype,function(h,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),T=/^(?:head|last)$/.test(p),R=W[T?"take"+(p=="last"?"Right":""):p],K=T||/^find/.test(p);R&&(W.prototype[p]=function(){var le=this.__wrapped__,me=T?[1]:arguments,be=le instanceof Zt,Te=me[0],ke=be||Mt(le),Re=function(Wt){var tn=R.apply(W,bl([Wt],me));return T&&Qe?tn[0]:tn};ke&&S&&typeof Te=="function"&&Te.length!=1&&(be=ke=!1);var Qe=this.__chain__,ot=!!this.__actions__.length,gt=K&&!Qe,Bt=be&&!ot;if(!K&&ke){le=Bt?le:new Zt(this);var vt=h.apply(le,me);return vt.__actions__.push({func:vx,args:[Re],thisArg:n}),new ki(vt,Qe)}return gt&&Bt?h.apply(this,me):(vt=this.thru(Re),gt?T?vt.value()[0]:vt.value():vt)})}),Ei(["pop","push","shift","sort","splice","unshift"],function(h){var p=Uv[h],S=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",T=/^(?:pop|shift)$/.test(h);W.prototype[h]=function(){var R=arguments;if(T&&!this.__chain__){var K=this.value();return p.apply(Mt(K)?K:[],R)}return this[S](function(le){return p.apply(Mt(le)?le:[],R)})}}),Ua(Zt.prototype,function(h,p){var S=W[p];if(S){var T=S.name+"";xn.call(Td,T)||(Td[T]=[]),Td[T].push({name:p,func:S})}}),Td[ux(n,N).name]=[{name:"wrapper",func:n}],Zt.prototype.clone=jH,Zt.prototype.reverse=bH,Zt.prototype.value=wH,W.prototype.at=XK,W.prototype.chain=JK,W.prototype.commit=ZK,W.prototype.next=eY,W.prototype.plant=nY,W.prototype.reverse=rY,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=sY,W.prototype.first=W.prototype.head,bm&&(W.prototype[bm]=tY),W},Pd=Z9();Uc?((Uc.exports=Pd)._=Pd,d1._=Pd):Xr._=Pd}).call(lr)})(Fj,Fj.exports);var WS=Fj.exports;const yP=w.forwardRef(({petId:e},t)=>{const{settings:n}=Jt(),{getPetById:s,getClientById:i,getVaccinationsByPetId:a}=jt(),o=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),l=s(e),c=l?i(l.ownerId):null,u=l?a(l.id):[],d=f=>{const m=new Date(f),g=new Date;if(WS.isNaN(m.getTime()))return"N/A";let x=g.getFullYear()-m.getFullYear(),v=g.getMonth()-m.getMonth(),y=g.getDate()-m.getDate();if(y<0){v--;const b=new Date(g.getFullYear(),g.getMonth(),0);y+=b.getDate()}v<0&&(x--,v+=12);const N=Math.floor(y/7),j=[];return x>0&&j.push(`${x} an${x>1?"s":""}`),v>0&&j.push(`${v} mois`),N>0&&j.push(`${N} semain${N>1?"es":""}`),j.join(", ")||"0 jour"};return!l||!c?null:r.jsxs("div",{ref:t,className:"p-8 bg-white text-gray-900 font-sans",children:[n.showClinicInfo&&r.jsxs("section",{className:"mb-4 text-sm",children:[r.jsx("img",{src:n.logo,alt:"Logo",className:"h-12 mb-2"}),r.jsx("p",{children:n.clinicName}),r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.phone," | ",n.email]}),n.website&&r.jsx("p",{children:n.website})]}),r.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-primary",children:"Certificat de Vaccination"}),r.jsx(p9,{value:`pet:${l.id}`,size:100})]}),n.showVetsInfo&&r.jsxs("section",{className:"mb-6 text-sm",children:[r.jsx("h2",{className:"font-medium mb-2",children:"Vétérinaires"}),o.map(f=>r.jsxs("p",{children:[f.title," ",f.name," - ",f.specialty]},f.id))]}),l.photo&&r.jsx("div",{className:"mb-6 text-center",children:r.jsx("img",{src:l.photo,alt:l.name,className:"w-32 h-32 object-cover rounded-full mx-auto"})}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Informations de l'animal"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",l.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",l.breed||"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",l.birthDate?d(l.birthDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",c.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Contact:"})," ",c.phone]})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Historique des Vaccinations"}),r.jsx("div",{className:"mt-4 space-y-4",children:u.map(f=>r.jsxs(he,{className:"border-primary/50",children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:f.vaccineName})}),r.jsxs(fe,{className:"p-4 text-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Date donnée:"})," ",f.dateGiven&&!WS.isNaN(Date.parse(f.dateGiven))?It(new Date(f.dateGiven),"dd/MM/yyyy"):"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Rappel prévu:"})," ",f.nextDueDate&&!WS.isNaN(Date.parse(f.nextDueDate))?It(new Date(f.nextDueDate),"dd/MM/yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vétérinaire:"})," ",f.veterinarian]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Statut:"})," ",f.status]})]})]})]},f.id))})]}),r.jsxs("footer",{className:"mt-8 text-center text-xs text-gray-500",children:["Généré le ",It(new Date,"dd/MM/yyyy")," - VetPro CRM"]})]})});function g9({open:e,onOpenChange:t,pet:n}){const{consultations:s,clients:i,getConsultationsByPetId:a,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:f,updateConsultation:m,updateVaccination:g,updateVaccinationStatuses:x}=jt(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,_]=w.useState(!1),[C,A]=w.useState(!1),[P,E]=w.useState("overview"),[M,$]=w.useState(!1),[k,O]=w.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[L,z]=w.useState((n==null?void 0:n.additionalPhotos)||[]),[J,H]=w.useState({clientId:0,petId:0,type:"",reason:""}),[oe,Q]=w.useState(null),[D,ae]=w.useState(!1),[pe,te]=w.useState(null),[Z,ne]=w.useState(null),{toast:xe}=Ft(),ye=w.useRef(null),se=RT.useReactToPrint({contentRef:ye,onAfterPrint:()=>t(!1)});w.useEffect(()=>{e&&x()},[e,x]);const F=()=>{n&&(f(n.id,{...n,...k}),Object.assign(n,k),$(!1))},Y=()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),$(!1))},ee=ce=>{n&&(H({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${ce.vaccineName}`}),Q(ce),j(!0))},G=ce=>{te(ce),ae(!0)},I=(ce,qe)=>{g(ce,{status:qe}),ne(null),xe({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[qe]}"`})},ve=(ce,qe)=>{const Le=s.find(sa=>sa.id===ce);if(!Le||!Le.photos)return;const Tn=Le.photos.filter((sa,bt)=>bt!==qe),Xn={...Le,photos:Tn};m(ce,Xn)},we=async ce=>{var Tn;const qe=(Tn=ce.target.files)==null?void 0:Tn[0];if(!qe)return;const Le=new FileReader;Le.onload=()=>{const Xn=Le.result,sa=[...L,Xn];z(sa),n&&f(n.id,{...n,additionalPhotos:sa})},Le.readAsDataURL(qe)},Fe=ce=>{const qe=L.filter((Le,Tn)=>Tn!==ce);z(qe),n&&f(n.id,{...n,additionalPhotos:qe})};if(w.useEffect(()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),z(n.additionalPhotos||[]))},[n]),!n)return null;const Be=o(n.ownerId),it=a(n.id),lt=u(n.id),ft=d(n.id),Ne=[...it].sort((ce,qe)=>new Date(qe.date).getTime()-new Date(ce.date).getTime()),Ge=[...lt].sort((ce,qe)=>new Date(qe.dateGiven).getTime()-new Date(ce.dateGiven).getTime()),Ke=[...ft||[]].sort((ce,qe)=>new Date(qe.dateGiven).getTime()-new Date(ce.dateGiven).getTime()),qt=Ne.filter(ce=>ce.weight||ce.temperature).map(ce=>({date:new Date(ce.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:ce.weight?parseFloat(ce.weight):0,temperature:ce.temperature?parseFloat(ce.temperature):0})).reverse(),Yn=Ne.filter(ce=>ce.weight).map(ce=>parseFloat(ce.weight)),Tt=Ne.filter(ce=>ce.temperature).map(ce=>parseFloat(ce.temperature)),Nn=Yn[0]||0,ur=Yn[1]||0,Qn=Nn-ur,gs=Qn>0?"up":Qn<0?"down":"stable",Se=Tt[0]||0,Vt=Tt.length>0?Tt.reduce((ce,qe)=>ce+qe,0)/Tt.length:0,tt=Ne[0],mt=tt!=null&&tt.followUp?{reason:tt.followUp,estimatedDate:new Date(tt.date)}:null,rn=[];if(tt){const ce=(new Date().getTime()-new Date(tt.date).getTime())/2592e6;ce>6&&rn.push({type:"warning",title:"Contrôle de routine recommandé",message:`Dernière consultation il y a ${Math.floor(ce)} mois`,action:"Planifier consultation",actionType:"consultation"})}(Se>39.5||Se<37.5)&&rn.push({type:"danger",title:"Température anormale",message:`Température actuelle: ${Se}°C`,action:"Contrôle urgent",actionType:"consultation"}),Qn<-2&&rn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Qn)}kg depuis la dernière consultation`,action:"Surveiller",actionType:"consultation"});const is=new Date;new Date(is.getTime()+7*24*60*60*1e3),lt.forEach(ce=>{if(ce.nextDueDate){const qe=new Date(ce.nextDueDate),Le=Math.ceil((qe.getTime()-is.getTime())/(1e3*60*60*24));Le<0?rn.push({type:"danger",title:"Vaccination en retard",message:`${ce.vaccineName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):Le<=7&&rn.push({type:"warning",title:"Vaccination à prévoir",message:`${ce.vaccineName} - Dans ${Le} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),ft.forEach(ce=>{if(ce.nextDueDate){const qe=new Date(ce.nextDueDate),Le=Math.ceil((qe.getTime()-is.getTime())/(1e3*60*60*24));Le<0?rn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${ce.productName} - ${Math.abs(Le)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):Le<=7&&rn.push({type:"warning",title:"Traitement antiparasitaire à prévoir",message:`${ce.productName} - Dans ${Le} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const Yr=()=>{H({clientId:(Be==null?void 0:Be.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),j(!0)},Rs=ce=>{let qe="consultation",Le="";switch(ce){case"consultation":qe="consultation",Le="Contrôle de routine recommandé";break;case"vaccination":qe="vaccination",Le="Vaccination à effectuer";break;case"antiparasitic":qe="controle",Le="Traitement antiparasitaire à effectuer";break;default:qe="consultation",Le="Rendez-vous médical"}H({clientId:(Be==null?void 0:Be.id)||0,petId:n.id,type:qe,reason:Le}),j(!0)},xl=()=>{const ce=window.open("","_blank");if(!ce)return;const qe=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Médical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Médical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Généré le:</strong> ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espèce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
              <p><strong>Âge:</strong> ${n.birthDate?nf(n.birthDate):"Non spécifié"}</p>
              <p><strong>Poids actuel:</strong> ${Nn}kg</p>
              <p><strong>Température actuelle:</strong> ${Se}°C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spécifiée"}</p>
              <p><strong>Puce électronique:</strong> ${n.microchip||"Non spécifiée"}</p>
              ${n.medicalNotes?`<p><strong>Notes médicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propriétaire</h3>
              <p><strong>Nom:</strong> ${(Be==null?void 0:Be.name)||"Non spécifié"}</p>
              <p><strong>Email:</strong> ${(Be==null?void 0:Be.email)||"Non spécifié"}</p>
              <p><strong>Téléphone:</strong> ${(Be==null?void 0:Be.phone)||"Non spécifié"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${Ne.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${lt.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${ft.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${Nn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${Ne.length})</h3>
            ${Ne.length>0?Ne.map(Le=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(Le.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${Le.weight||"Non renseigné"}</p>
                    <p><strong>Température:</strong> ${Le.temperature||"Non renseigné"}</p>
                    ${Le.symptoms?`<p><strong>Symptômes:</strong> ${Le.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${Le.diagnosis?`<p><strong>Diagnostic:</strong> ${Le.diagnosis}</p>`:""}
                    ${Le.treatment?`<p><strong>Traitement:</strong> ${Le.treatment}</p>`:""}
                    ${Le.medications?`<p><strong>Médicaments:</strong> ${Le.medications}</p>`:""}
                  </div>
                </div>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
                ${Le.photos&&Le.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${Le.photos.map((Tn,Xn)=>`
                      <div style="text-align: center;">
                        <img src="${Tn}" alt="Photo consultation ${Xn+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${Xn+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistrée</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${lt.length})</h3>
            ${lt.length>0?lt.map(Le=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${Le.vaccineName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${Le.vaccineType||"Non spécifié"}</p>
                <p><strong>Prochain rappel:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Le.veterinarian||"Non spécifié"}</p>
                ${Le.notes?`<p><strong>Notes:</strong> ${Le.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistrée</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${ft.length})</h3>
            ${ft.length>0?ft.map(Le=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${Le.productName} - ${new Date(Le.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${Le.productType||"Non spécifié"}</p>
                    <p><strong>Parasites ciblés:</strong> ${Le.targetParasites||"Non spécifié"}</p>
                    <p><strong>Voie d'administration:</strong> ${Le.administrationRoute||"Non spécifié"}</p>
                    <p><strong>Dosage:</strong> ${Le.dosage||"Non spécifié"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${Le.nextDueDate?new Date(Le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Le.veterinarian||"Non spécifié"}</p>
                    <p><strong>Statut:</strong> ${Le.status==="completed"?"Terminé":Le.status==="scheduled"?"Planifié":Le.status==="overdue"?"En retard":"Manqué"}</p>
                    ${Le.cost?`<p><strong>Coût:</strong> ${Le.cost} €</p>`:""}
                  </div>
                </div>
                ${Le.batchNumber?`<p><strong>Numéro de lot:</strong> ${Le.batchNumber}</p>`:""}
                ${Le.manufacturer?`<p><strong>Fabricant:</strong> ${Le.manufacturer}</p>`:""}
                ${Le.weight?`<p><strong>Poids de l'animal:</strong> ${Le.weight}</p>`:""}
                ${Le.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${Le.notes}</p>
                  </div>
                `:""}
                ${Le.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong>⚠️ Effets indésirables:</strong> ${Le.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistré</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spécifié"}</p>
                    <p><strong>N° Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spécifié"}</p>
                    <p><strong>N° Puce/Tatouage:</strong> ${n.microchip||"Non spécifié"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spécifiée"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                    <p><strong>Éleveur:</strong> ${n.breeder||"Non spécifié"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Père -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Père</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.fatherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spécifiée"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mère -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mère</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.motherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spécifiée"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${Ne.some(Le=>Le.photos&&Le.photos.length>0)?Ne.map(Le=>Le.photos?Le.photos.map((Tn,Xn)=>`
                    <div style="text-align: center;">
                      <img src="${Tn}" alt="Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")} - Photo ${Xn+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(Le.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!Ne.some(Le=>Le.photos&&Le.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;ce.document.write(qe),ce.document.close(),ce.focus(),ce.print(),ce.close()};return r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name,Be&&r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propriétaire: ",Be.name,")"]})]})}),r.jsxs(ml,{value:P,onValueChange:E,className:"space-y-4",children:[r.jsxs(yo,{className:"grid w-full grid-cols-7",children:[r.jsxs(on,{value:"overview",className:"gap-2",children:[r.jsx(ka,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(on,{value:"history",className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(on,{value:"prescriptions",className:"gap-2",children:[r.jsx(As,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(on,{value:"vaccinations",className:"gap-2",children:[r.jsx(As,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(on,{value:"antiparasites",className:"gap-2",children:[r.jsx(nc,{className:"h-4 w-4"}),"Antiparasitaires"]}),r.jsxs(on,{value:"pedigree",className:"gap-2",children:[r.jsx(g0,{className:"h-4 w-4"}),"Pedigree"]}),r.jsxs(on,{value:"charts",className:"gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Évolution"]}),r.jsxs(on,{value:"alerts",className:"gap-2",children:[r.jsx(zr,{className:"h-4 w-4"}),"Alertes"]})]}),r.jsxs(ln,{value:"overview",className:"space-y-4",children:[r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{className:"text-lg",children:"Galerie photos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:we,className:"hidden",id:"add-photo-input"}),r.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),r.jsx(fe,{children:r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),L.map((ce,qe)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:ce,alt:`Photo supplémentaire ${qe+1}`,className:"h-32 w-32 object-cover rounded"}),r.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",qe+1]}),r.jsx("button",{onClick:()=>Fe(qe),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`additional-${qe}`)),Ne.map(ce=>{var qe;return(qe=ce.photos)==null?void 0:qe.map((Le,Tn)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:Le,alt:`consultation-${ce.id}-${Tn}`,className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(ce.date).toLocaleDateString("fr-FR")}),r.jsx("button",{onClick:()=>ve(ce.id,Tn),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`${ce.id}-${Tn}`))}),!n.photo&&L.length===0&&Ne.every(ce=>!ce.photos||ce.photos.length===0)&&r.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(v0,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Nn,"kg"]}),Qn!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[gs==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):r.jsx(zu,{className:"h-3 w-3 text-red-600"}),r.jsxs("span",{className:gs==="up"?"text-green-600":"text-red-600",children:[Math.abs(Qn),"kg"]})]})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tg,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Se,"°C"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",Vt.toFixed(1),"°C"]})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:Ne.length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière: ",tt?new Date(tt.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-2xl font-bold",children:rn.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:rn.length>0?"À traiter":"Aucune"})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(As,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),r.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(ce=>ce.petId===n.id).length," active(s)"]})]})]})})})]}),mt&&r.jsx(he,{className:"border-primary",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:mt.reason})]}),r.jsxs(q,{size:"sm",onClick:Yr,children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),rn.length>0&&r.jsxs(he,{className:"border-destructive",children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-destructive",children:"Alertes importantes"})}),r.jsx(fe,{className:"space-y-2",children:rn.slice(0,3).map((ce,qe)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[r.jsx(zr,{className:"h-4 w-4 text-destructive"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:ce.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:ce.message})]}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>Rs(ce.actionType),children:ce.action})]},qe))})]})]}),r.jsxs(ln,{value:"history",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),r.jsxs(q,{size:"sm",onClick:Yr,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),Ne.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer la première consultation"})]})}):r.jsx("div",{className:"space-y-4",children:Ne.map(ce=>r.jsxs(he,{children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Ee,{className:"text-base",children:["Consultation #",ce.id]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Pt,{className:"h-4 w-4"}),new Date(ce.date).toLocaleDateString("fr-FR")]})]})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("span",{className:"ml-2",children:ce.weight||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Température:"}),r.jsx("span",{className:"ml-2",children:ce.temperature||"Non renseigné"})]})]}),ce.symptoms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.symptoms})]}),ce.diagnosis&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.diagnosis})]}),ce.treatment&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.treatment})]}),ce.medications&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Médicaments:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.medications})]}),ce.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:ce.notes})]}),ce.followUp&&r.jsxs("div",{className:"pt-2 border-t",children:[r.jsx("span",{className:"font-medium text-primary",children:"Suivi recommandé:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.followUp})]})]})]},ce.id))})]}),r.jsx(ln,{value:"prescriptions",className:"space-y-4",children:r.jsx(n9,{petId:n.id})}),r.jsxs(ln,{value:"charts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Évolution du poids et de la température"}),qt.length>0?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(v0,{className:"h-5 w-5"}),"Évolution du poids"]})}),r.jsx(fe,{children:r.jsx(cl,{width:"100%",height:200,children:r.jsxs(R3,{data:qt,children:[r.jsx(nd,{strokeDasharray:"3 3"}),r.jsx($a,{dataKey:"date"}),r.jsx(Ra,{}),r.jsx(Vr,{}),r.jsx(Tf,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(tg,{className:"h-5 w-5"}),"Évolution de la température"]})}),r.jsx(fe,{children:r.jsx(cl,{width:"100%",height:200,children:r.jsxs(R3,{data:qt,children:[r.jsx(nd,{strokeDasharray:"3 3"}),r.jsx($a,{dataKey:"date"}),r.jsx(Ra,{}),r.jsx(Vr,{}),r.jsx(Tf,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune donnée disponible pour les graphiques"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et température"})]})})]}),r.jsxs(ln,{value:"vaccinations",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),r.jsx(M0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsxs(q,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),Ge.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(As,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune vaccination enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par ajouter la première vaccination"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(As,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(Pt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À jour"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(ce=>ce.status==="completed").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(zr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(ce=>ce.status==="overdue").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Pt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-xl font-bold",children:Ge.filter(ce=>ce.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ge.map(ce=>r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsxs(fe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(As,{className:`h-5 w-5 ${ce.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("h4",{className:"font-semibold text-lg",children:[ce.vaccineName,ce.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx($e,{variant:ce.vaccineType==="core"?"default":"secondary",className:"text-xs",children:ce.vaccineType==="core"?"Essentiel":ce.vaccineType==="non-core"?"Optionnel":ce.vaccineType==="rabies"?"Rage":"Personnalisé"}),ce.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),Z===ce.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:ce.status,onValueChange:qe=>I(ce.id,qe),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"completed",children:"Terminée"}),r.jsx(V,{value:"scheduled",children:"Planifiée"}),r.jsx(V,{value:"overdue",children:"En retard"}),r.jsx(V,{value:"missed",children:"Manquée"})]})]}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>ne(null),children:"Annuler"})]}):r.jsx($e,{className:ce.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":ce.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":ce.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>ne(ce.id),children:ce.status==="completed"?"Terminée":ce.status==="overdue"?"En retard":ce.status==="scheduled"?"Planifiée":"Manquée"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:ce.vaccinationCategory==="reminder"?"Date du rappel":"Date administrée"}),r.jsx("p",{className:"font-medium",children:co(ce.dateGiven)})]}),ce.vaccinationCategory==="new"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Rappel prévu"}),r.jsx("p",{className:"font-medium",children:co(ce.nextDueDate)})]}),ce.vaccinationCategory==="reminder"&&ce.originalVaccinationId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),r.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",ce.originalVaccinationId]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:ce.veterinarian})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Coût"}),r.jsx("p",{className:"font-medium",children:ce.cost?`${ce.cost} €`:"Non spécifié"})]})]}),ce.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:ce.batchNumber})]})}),ce.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:ce.manufacturer})]})}),ce.location&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",r.jsx("span",{className:"font-medium",children:ce.location==="left_shoulder"?"Épaule gauche":ce.location==="right_shoulder"?"Épaule droite":ce.location==="left_hip"?"Hanche gauche":ce.location==="right_hip"?"Hanche droite":"Sous-cutané"})]})}),ce.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",ce.notes]})}),ce.adverseReactions&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Réactions adverses:"})," ",ce.adverseReactions]})})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(q,{size:"sm",variant:"outline",className:"gap-2",onClick:se,children:[r.jsx(cr,{className:"h-4 w-4"}),"Certificat"]}),ce.nextDueDate&&new Date(ce.nextDueDate)<=new Date&&ce.status!=="completed"&&!ce.reminderAppointmentId&&r.jsxs(q,{size:"sm",className:"gap-2",onClick:()=>ee(ce),children:[r.jsx(ht,{className:"h-4 w-4"}),"Rappel"]}),ce.reminderAppointmentId&&r.jsx($e,{variant:"outline",className:"text-xs",children:"Rappel programmé"}),ce.status==="overdue"&&r.jsxs(q,{size:"sm",className:"gap-2",onClick:()=>G(ce),children:[r.jsx(Xte,{className:"h-4 w-4"}),"Confirmer"]})]})]}),ce.reminderHistory&&ce.reminderHistory.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),r.jsx("div",{className:"space-y-2",children:ce.reminderHistory.map(qe=>r.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(qe.scheduledDate).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:qe.status==="completed"?"default":qe.status==="missed"?"destructive":"secondary",className:"text-xs",children:qe.status==="completed"?"Complété":qe.status==="missed"?"Manqué":qe.status==="cancelled"?"Annulé":"Programmé"})]},qe.id))})]})]})},ce.id))})]})]}),r.jsxs(ln,{value:"antiparasites",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),r.jsx(I0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsxs(q,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),Ke.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(nc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun traitement antiparasitaire enregistré"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(nc,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(er,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complétés"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(ce=>ce.status==="completed").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(zr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(ce=>ce.status==="overdue").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Pt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiés"}),r.jsx("p",{className:"text-xl font-bold",children:Ke.filter(ce=>ce.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:Ke.map(ce=>r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(nc,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-lg",children:ce.productName}),r.jsx($e,{className:ce.status==="completed"?"bg-green-100 text-green-800 border-green-200":ce.status==="overdue"?"bg-red-100 text-red-800 border-red-200":ce.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:ce.status==="completed"?"Terminé":ce.status==="overdue"?"En retard":ce.status==="scheduled"?"Planifié":"Manqué"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Date administrée"}),r.jsx("p",{className:"font-medium",children:new Date(ce.dateGiven).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),r.jsx("p",{className:"font-medium",children:ce.nextDueDate?new Date(ce.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium",children:ce.productType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:ce.veterinarian})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Parasites ciblés"}),r.jsx("p",{className:"font-medium",children:ce.targetParasites})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Dosage"}),r.jsx("p",{className:"font-medium",children:ce.dosage||"Non spécifié"})]})]}),ce.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:ce.batchNumber})]})}),ce.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:ce.manufacturer})]})}),ce.weight&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",r.jsx("span",{className:"font-medium",children:ce.weight})]})}),ce.cost&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Coût: ",r.jsxs("span",{className:"font-medium",children:[ce.cost," €"]})]})}),ce.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",ce.notes]})}),ce.sideEffects&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Effets indésirables:"})," ",ce.sideEffects]})})]}),r.jsx("div",{className:"flex flex-col gap-2 ml-4",children:ce.nextDueDate&&new Date(ce.nextDueDate)<=new Date&&ce.status!=="completed"&&r.jsxs(q,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Rappel"]})})]})})},ce.id))})]})]}),r.jsxs(ln,{value:"pedigree",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),r.jsxs(q,{variant:"outline",size:"sm",onClick:()=>$(!M),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),M?"Annuler":"Modifier"]})]}),r.jsx(he,{children:r.jsx(Ae,{children:r.jsxs(Ee,{className:"text-lg flex items-center gap-2",children:[r.jsx(Yi,{id:"hasPedigree",checked:k.hasPedigree,onCheckedChange:ce=>O(qe=>({...qe,hasPedigree:ce})),disabled:!M}),r.jsx(B,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),k.hasPedigree&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Informations sur l'animal"})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:k.officialName,onChange:ce=>O(qe=>({...qe,officialName:ce.target.value})),disabled:!M,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:k.pedigreeNumber,onChange:ce=>O(qe=>({...qe,pedigreeNumber:ce.target.value})),disabled:!M,placeholder:"Numéro de pedigree"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:k.breeder,onChange:ce=>O(qe=>({...qe,breeder:ce.target.value})),disabled:!M,placeholder:"Nom de l'éleveur"})]})]})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Parents"})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:k.fatherName,onChange:ce=>O(qe=>({...qe,fatherName:ce.target.value})),disabled:!M}),r.jsx(ie,{placeholder:"N° pedigree du père",value:k.fatherPedigree,onChange:ce=>O(qe=>({...qe,fatherPedigree:ce.target.value})),disabled:!M}),r.jsx(ie,{placeholder:"Race du père",value:k.fatherBreed,onChange:ce=>O(qe=>({...qe,fatherBreed:ce.target.value})),disabled:!M}),r.jsx(Nt,{placeholder:"Titres du père",value:k.fatherTitles,onChange:ce=>O(qe=>({...qe,fatherTitles:ce.target.value})),disabled:!M,rows:2})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:k.motherName,onChange:ce=>O(qe=>({...qe,motherName:ce.target.value})),disabled:!M}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:k.motherPedigree,onChange:ce=>O(qe=>({...qe,motherPedigree:ce.target.value})),disabled:!M}),r.jsx(ie,{placeholder:"Race de la mère",value:k.motherBreed,onChange:ce=>O(qe=>({...qe,motherBreed:ce.target.value})),disabled:!M}),r.jsx(Nt,{placeholder:"Titres de la mère",value:k.motherTitles,onChange:ce=>O(qe=>({...qe,motherTitles:ce.target.value})),disabled:!M,rows:2})]})]})]})})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Document officiel"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:async ce=>{var Tn;const qe=(Tn=ce.target.files)==null?void 0:Tn[0];if(!qe)return;const Le=new FileReader;Le.onload=()=>O(Xn=>({...Xn,pedigreePhoto:Le.result})),Le.readAsDataURL(qe)},disabled:!M}),k.pedigreePhoto&&r.jsx("img",{src:k.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),M&&r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:Y,children:"Annuler"}),r.jsx(q,{onClick:F,children:"Sauvegarder"})]})]}),!k.hasPedigree&&r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(g0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun pedigree officiel"}),r.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),r.jsxs(ln,{value:"alerts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),rn.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(zr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune alerte active"}),r.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):r.jsx("div",{className:"space-y-4",children:rn.map((ce,qe)=>r.jsx(he,{className:ce.type==="danger"?"border-destructive":"border-accent",children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zr,{className:`h-5 w-5 ${ce.type==="danger"?"text-destructive":"text-accent"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:ce.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:ce.message})]}),r.jsx(q,{size:"sm",variant:"outline",children:ce.action})]})})},qe))})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(q,{onClick:xl,className:"gap-2",children:[r.jsx(NA,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),r.jsx(Xf,{open:v,onOpenChange:y}),r.jsx(vE,{open:N,onOpenChange:ce=>{j(ce),ce||(H({clientId:0,petId:0,type:"",reason:""}),Q(null))},prefillClientId:J.clientId,prefillPetId:J.petId,prefillType:J.type,prefillReason:J.reason,originalVaccinationId:oe==null?void 0:oe.id}),b&&r.jsx(M0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsx(q,{onClick:()=>_(!1),children:"Fermer"})}),r.jsx(vpe,{open:D,onOpenChange:ce=>{ae(ce),ce||te(null)},vaccination:pe}),C&&r.jsx(I0,{selectedClientId:Be==null?void 0:Be.id,selectedPetId:n.id,children:r.jsx(q,{onClick:()=>A(!1),children:"Fermer"})}),n&&r.jsx("div",{style:{display:"none"},children:r.jsx(yP,{ref:ye,petId:n.id})})]})}const yFe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function jFe(){const{pets:e,consultations:t,appointments:n,clients:s}=jt();Jt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),N=[...e].sort((O,L)=>!O.lastVisit&&!L.lastVisit?0:O.lastVisit?L.lastVisit?new Date(L.lastVisit).getTime()-new Date(O.lastVisit).getTime():-1:1).slice(0,5),j=e.length,b=e.filter(O=>O.status==="healthy").length;e.filter(O=>O.status==="treatment").length,e.filter(O=>O.status==="urgent").length;const _=e.filter(O=>{if(!O.lastVisit)return!1;const L=new Date(O.lastVisit),z=new Date().getMonth(),J=new Date().getFullYear();return L.getMonth()===z&&L.getFullYear()===J}).length,C=j>0?(t.length/j).toFixed(1):"0",A=O=>{v(O),l(!0)},P=O=>{v(O),u(!0)},E=O=>{v(O),f(!0)},M=O=>{v(O),g(!0)},$=O=>{const L=t.filter(H=>H.petId===O.id),z=n.filter(H=>H.petId===O.id),J=s.find(H=>H.id===O.ownerId);return{consultations:L.length,appointments:z.length,owner:(J==null?void 0:J.name)||O.owner,lastConsultation:L.length>0?Math.max(...L.map(H=>new Date(H.date).getTime())):O.lastVisit?new Date(O.lastVisit).getTime():0}},k=O=>{switch(O){case"healthy":return r.jsx(Kt,{className:"h-3 w-3 text-green-600"});case"treatment":return r.jsx(br,{className:"h-3 w-3 text-yellow-600"});case"urgent":return r.jsx(qn,{className:"h-3 w-3 text-red-600"});default:return r.jsx(Kt,{className:"h-3 w-3"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ee,{className:"text-lg font-semibold",children:"Animaux Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Kt,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ka,{className:"h-3 w-3"}),r.jsxs("span",{children:[b," en bonne santé"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",_," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($n,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",C," consultations"]})]})]})]}),r.jsxs(q,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),r.jsx(fe,{className:"space-y-4",children:N.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Kt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun animal enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier animal"})]}):N.map(O=>{const L=$(O);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx(Hr,{className:"h-12 w-12 flex-shrink-0",children:O.photo?r.jsx(ll,{src:O.photo,alt:O.name}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Kt,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium truncate",children:O.name}),r.jsxs($e,{variant:"outline",className:yFe[O.status],children:[k(O.status),r.jsx("span",{className:"ml-1",children:O.status==="healthy"?"En bonne santé":O.status==="treatment"?"En traitement":"Urgent"})]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium",children:O.type}),O.breed&&r.jsxs("span",{children:[" - ",O.breed]}),O.gender&&r.jsxs("span",{children:[" (",O.gender==="male"?"Mâle":"Femelle",")"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-3 w-3"}),r.jsx("span",{children:O.birthDate?nf(O.birthDate):"Âge inconnu"})]})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Propriétaire: ",L.owner]}),r.jsxs("span",{children:["Consultations: ",L.consultations]}),r.jsxs("span",{children:["RDV: ",L.appointments]}),O.lastVisit&&r.jsxs("span",{children:["Dernière visite: ",new Date(O.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),r.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>A(O),className:"h-8 px-2",children:r.jsx(ns,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>P(O),className:"h-8 px-2",children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>E(O),className:"h-8 px-2 text-xs",children:"Dossier"}),r.jsx(q,{size:"sm",onClick:()=>M(O),className:"h-8 px-2 text-xs",children:r.jsx(br,{className:"h-3 w-3"})})]})]},O.id)})})]}),r.jsx(yv,{open:i,onOpenChange:a}),r.jsx(CV,{open:o,onOpenChange:l,pet:x,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),f(!0)}}),r.jsx(Nfe,{open:c,onOpenChange:u,pet:x}),r.jsx(g9,{open:d,onOpenChange:f,pet:x}),r.jsx(Xf,{open:m,onOpenChange:g})]})}function v9({open:e,onOpenChange:t,consultation:n}){const{clients:s,pets:i,updateConsultation:a}=jt(),{toast:o}=Ft(),{settings:l}=Jt(),[c,u]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=i.filter(v=>v.ownerId===c.clientId),f=new Date().toISOString().split("T")[0],m=v=>{u(y=>({...y,[v.target.id]:v.target.value}))},g=(v,y)=>{if(v==="clientId"){const N=parseInt(y),j=s.find(b=>b.id===N);u(b=>({...b,clientId:N,clientName:(j==null?void 0:j.name)||"",petId:0,petName:""}))}else if(v==="petId"){const N=parseInt(y),j=i.find(b=>b.id===N);u(b=>({...b,petId:N,petName:(j==null?void 0:j.name)||""}))}else u(N=>({...N,[v]:y}))},x=v=>{if(v.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}a(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||f,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifiée",description:`Consultation pour ${c.petName} (${c.clientName}) a été modifiée et sauvegardée.`}),t(!1)}};return w.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier la Consultation"}),r.jsxs(jn,{children:["Modifiez les détails de la consultation pour ",n.petName,"."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Client *"}),r.jsxs(Me,{value:c.clientId.toString(),onValueChange:v=>g("clientId",v),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le client"})}),r.jsx(De,{children:s.map(v=>r.jsx(V,{value:v.id.toString(),children:v.name},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Animal *"}),r.jsxs(Me,{value:c.petId.toString(),onValueChange:v=>g("petId",v),disabled:!c.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:c.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(De,{children:d.map(v=>r.jsxs(V,{value:v.id.toString(),children:[v.name," (",v.type,")"]},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:c.date||f,onChange:m,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:m,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(ie,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:m,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(Nt,{id:"symptoms",value:c.symptoms,onChange:m,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(Nt,{id:"diagnosis",value:c.diagnosis,onChange:m,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(Nt,{id:"treatment",value:c.treatment,onChange:m,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"medications",children:"Médicaments prescrits"}),r.jsx(Nt,{id:"medications",value:c.medications,onChange:m,placeholder:"Liste des médicaments avec posologie...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(ie,{id:"followUp",value:c.followUp,onChange:m,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:m,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(Nt,{id:"notes",value:c.notes,onChange:m,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function Bj({consultation:e}){const{settings:t}=Jt(),n=()=>{const s=window.open("","_blank");if(!s)return;const i=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(e.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${e.weight||"Non renseigné"}
              </div>
              <div class="info-item">
                <span class="info-label">Température:</span> ${e.temperature||"Non renseigné"}
              </div>
            </div>
          </div>

          ${e.symptoms?`
            <div class="medical-section">
              <h3>Symptômes Observés</h3>
              <p>${e.symptoms}</p>
            </div>
          `:""}

          ${e.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${e.diagnosis}</p>
            </div>
          `:""}

          ${e.treatment?`
            <div class="medical-section">
              <h3>Traitement Administré</h3>
              <p>${e.treatment}</p>
            </div>
          `:""}

          ${e.medications?`
            <div class="medical-section">
              <h3>Médicaments Prescrits</h3>
              <p>${e.medications}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommandé</h3>
              <p>${e.followUp||"Aucun suivi prévu"}</p>
            </div>
            <div class="info-section">
              <h3>Coût</h3>
              <p>${e.cost?e.cost+" "+t.currency:"Non renseigné"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation générée le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;s.document.write(i),s.document.close(),s.focus(),s.print(),s.close()};return r.jsxs(q,{size:"sm",variant:"outline",onClick:n,className:"gap-2",children:[r.jsx(NA,{className:"h-4 w-4"}),"Imprimer"]})}function bFe(){const{consultations:e,deleteConsultation:t,pets:n,clients:s}=jt(),{settings:i}=Jt(),{toast:a}=Ft(),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((L,z)=>new Date(z.date).getTime()-new Date(L.date).getTime()).slice(0,5),x=e.length,v=e.filter(L=>L.date===new Date().toISOString().split("T")[0]).length,y=new Date().getMonth(),N=new Date().getFullYear(),j=e.filter(L=>{const z=new Date(L.date);return z.getMonth()===y&&z.getFullYear()===N}).length,b=e.filter(L=>{const z=new Date(L.date),J=y===0?11:y-1,H=y===0?N-1:N;return z.getMonth()===J&&z.getFullYear()===H}).length,_=b>0?Math.round((j-b)/b*100):j>0?100:0,C=j*50,A=b*50,P=A>0?Math.round((C-A)/A*100):C>0?100:0,E=L=>{f(L),u(!0)},M=L=>{confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${L.petName} ?`)&&(t(L.id),a({title:"Consultation supprimée",description:`La consultation pour ${L.petName} a été supprimée.`}))},$=L=>{const z=new Date().toISOString().split("T")[0];return L.date===z?"bg-accent text-accent-foreground":L.date<z?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},k=L=>{const z=new Date().toISOString().split("T")[0];return L.date===z?"Aujourd'hui":L.date<z?"Terminée":"À venir"},O=L=>{const z=n.find(H=>H.id===L.petId),J=s.find(H=>H.id===L.clientId);return{petType:(z==null?void 0:z.type)||"Inconnu",petBreed:(z==null?void 0:z.breed)||"Non spécifiée",clientPhone:(J==null?void 0:J.phone)||"Non spécifié",clientCity:(J==null?void 0:J.city)||"Non spécifiée"}};return r.jsxs(r.Fragment,{children:[r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Ee,{className:"text-lg font-semibold",children:"Consultations Récentes"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ka,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," aujourd'hui"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," ce mois"]}),_!==0&&r.jsxs($e,{variant:_>0?"default":"destructive",className:"text-xs",children:[_>0?"+":"",_,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Bf,{className:"h-3 w-3"}),r.jsxs("span",{children:["~",C,"€ ce mois"]}),P!==0&&r.jsxs($e,{variant:P>0?"default":"destructive",className:"text-xs",children:[P>0?"+":"",P,"%"]})]})]})]}),r.jsxs(q,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),r.jsx(fe,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]}):g.map(L=>{const z=O(L);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Hr,{className:"h-12 w-12",children:r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(br,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Consultation #",L.id]}),r.jsx($e,{variant:"outline",className:$(L),children:k(L)}),L.cost&&r.jsxs($e,{variant:"secondary",className:"text-xs",children:[L.cost," ",i.currency||"€"]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Kt,{className:"h-3 w-3"}),r.jsxs("span",{children:[L.petName," (",z.petType,")"]}),z.petBreed!=="Non spécifiée"&&r.jsxs("span",{children:[" - ",z.petBreed]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wr,{className:"h-3 w-3"}),r.jsx("span",{children:L.clientName})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(L.date).toLocaleDateString("fr-FR")})]})]})}),r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[L.diagnosis&&r.jsxs("span",{children:["Diagnostic: ",L.diagnosis]}),L.weight&&r.jsxs("span",{children:["Poids: ",L.weight]}),L.temperature&&r.jsxs("span",{children:["Température: ",L.temperature,"°C"]}),L.photos&&L.photos.length>0&&r.jsxs("span",{children:["📷 ",L.photos.length," photo",L.photos.length>1?"s":""]})]})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>E(L),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]}),r.jsx(Bj,{consultation:L}),r.jsxs(q,{size:"sm",variant:"destructive",onClick:()=>M(L),className:"gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Supprimer"]})]})]},L.id)})})]}),r.jsx(Xf,{open:o,onOpenChange:l}),r.jsx(v9,{open:c,onOpenChange:u,consultation:d})]})}function wFe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:s}=jt();Jt();const i=new Date().toISOString().split("T")[0];n();const a=s(),o=e.filter(d=>d.date===i&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:qn,title:"Stock épuisé",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Gn,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),a.length>0&&u.push({type:"warning",icon:$n,title:"Rendez-vous en retard",message:`${a.length} rendez-vous en retard`,count:a.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:Pt,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prévus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?r.jsxs(he,{className:"card-hover",children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-green-600 text-4xl mb-2",children:"✅"}),r.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte à signaler."})]})})]}):r.jsxs(he,{className:"card-hover",children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",r.jsx($e,{variant:"destructive",className:"ml-2",children:u.length})]})}),r.jsx(fe,{className:"space-y-3",children:u.map((d,f)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:r.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:d.title}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),r.jsx($e,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},f))})]})}function NFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o}=jt();Jt();const l=e.reduce((N,j)=>N+j.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+s.length+i.length+a.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),f=new Date().toISOString().split("T")[0],m=n.filter(N=>N.date===f).length,g=s.filter(N=>N.date===f&&N.status!=="cancelled"&&N.status!=="completed").length,x=new Date().getMonth(),v=new Date().getFullYear(),y=n.filter(N=>{const j=new Date(N.date);return j.getMonth()===x&&j.getFullYear()===v}).length;return r.jsxs(he,{className:"mb-6",children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[c?r.jsx(er,{className:"h-5 w-5 text-green-600"}):r.jsx(zr,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oa,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-purple-600"}),r.jsxs("span",{className:"text-sm",children:["RDV: ",s.length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",m+g]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Ce mois: ",y]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-orange-600"}),r.jsxs("span",{className:"text-sm",children:["Prescriptions: ",i.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4 text-indigo-600"}),r.jsxs("span",{className:"text-sm",children:["Fermes: ",a.length]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Intégrité des données:"}),r.jsxs($e,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):r.jsxs(r.Fragment,{children:[r.jsx(zr,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-yellow-700",children:"Désynchronisation détectée"})]})}),!c&&r.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[r.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronisé(s) entre clients et animaux"]})]})]})]})}function SFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o,resetData:l,exportData:c,importData:u}=jt(),{settings:d}=Jt(),{toast:f}=Ft(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),y=e.length+t.length+n.length+s.length+i.length+a.length+o.length,N=Math.round(y*.5),j=[...e.map(O=>O.lastVisit),...t.map(O=>O.lastVisit).filter(Boolean),...n.map(O=>O.date),...s.map(O=>O.date),...i.map(O=>O.date),...a.map(O=>O.lastVisit)].filter(Boolean),b=j.length>0?new Date(Math.max(...j.map(O=>new Date(O).getTime()))):new Date,_=new Date().toISOString().split("T")[0],C=new Date().getMonth(),A=new Date().getFullYear(),P=[...e.filter(O=>O.lastVisit===_),...t.filter(O=>O.lastVisit===_),...n.filter(O=>O.date===_),...s.filter(O=>O.date===_)].length,E=[...e.filter(O=>{const L=new Date(O.lastVisit);return L.getMonth()===C&&L.getFullYear()===A}),...t.filter(O=>{if(!O.lastVisit)return!1;const L=new Date(O.lastVisit);return L.getMonth()===C&&L.getFullYear()===A}),...n.filter(O=>{const L=new Date(O.date);return L.getMonth()===C&&L.getFullYear()===A}),...s.filter(O=>{const L=new Date(O.date);return L.getMonth()===C&&L.getFullYear()===A})].length,M=()=>{try{c(),f({title:"Données exportées",description:`Export de ${y} enregistrements réussi.`})}catch{f({title:"Erreur d'export",description:"Impossible d'exporter les données.",variant:"destructive"})}},$=O=>{var J;const L=(J=O.target.files)==null?void 0:J[0];if(!L)return;const z=new FileReader;z.onload=H=>{var oe,Q;try{const D=JSON.parse((oe=H.target)==null?void 0:oe.result);if(D.clients&&D.pets)u(D),f({title:"Données importées",description:`${D.clients.length} clients, ${D.pets.length} animaux et ${((Q=D.consultations)==null?void 0:Q.length)||0} consultations importés avec succès.`});else throw new Error("Format de fichier invalide")}catch{f({title:"Erreur d'import",description:"Le fichier sélectionné n'est pas valide.",variant:"destructive"})}},z.readAsText(L),v(!1)},k=()=>{try{l(),f({title:"Données réinitialisées",description:"Toutes les données ont été remises aux valeurs par défaut."}),g(!1)}catch{f({title:"Erreur de réinitialisation",description:"Impossible de réinitialiser les données.",variant:"destructive"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Vte,{className:"h-5 w-5"}),"Gestion des Données"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"text-muted-foreground",children:[y," enregistrements"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Taille:"}),r.jsxs("span",{className:"text-muted-foreground",children:["~",N," KB"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Dernière modif:"}),r.jsx("span",{className:"text-muted-foreground",children:b.toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),r.jsx("span",{className:"text-muted-foreground",children:P})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Ce mois:"}),r.jsx("span",{className:"text-muted-foreground",children:E})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Clinique:"}),r.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configurée"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[r.jsx("div",{className:"font-medium text-blue-700",children:e.length}),r.jsx("div",{className:"text-blue-600",children:"Clients"})]}),r.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[r.jsx("div",{className:"font-medium text-red-700",children:t.length}),r.jsx("div",{className:"text-red-600",children:"Animaux"})]}),r.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[r.jsx("div",{className:"font-medium text-green-700",children:n.length}),r.jsx("div",{className:"text-green-600",children:"Consultations"})]}),r.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"font-medium text-purple-700",children:s.length}),r.jsx("div",{className:"text-purple-600",children:"RDV"})]}),r.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[r.jsx("div",{className:"font-medium text-orange-700",children:i.length}),r.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),r.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[r.jsx("div",{className:"font-medium text-indigo-700",children:a.length}),r.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:"outline",onClick:M,className:"gap-2",children:[r.jsx(bA,{className:"h-4 w-4"}),"Exporter"]}),r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[r.jsx(HC,{className:"h-4 w-4"}),"Importer"]}),r.jsxs(q,{size:"sm",variant:"destructive",onClick:()=>g(!0),className:"gap-2",children:[r.jsx(X5,{className:"h-4 w-4"}),"Réinitialiser"]})]})]})]}),r.jsx(St,{open:m,onOpenChange:g,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-red-600"}),"Réinitialiser toutes les données"]}),r.jsx(jn,{children:"Cette action supprimera définitivement toutes les données (clients, animaux, consultations, etc.) et les remettra aux valeurs par défaut. Cette action ne peut pas être annulée."})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(q,{variant:"outline",onClick:()=>g(!1),children:"Annuler"}),r.jsx(q,{variant:"destructive",onClick:k,children:"Réinitialiser"})]})]})}),r.jsx(St,{open:x,onOpenChange:v,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(HC,{className:"h-5 w-5"}),"Importer des données"]}),r.jsx(jn,{children:"Sélectionnez un fichier JSON exporté précédemment pour restaurer vos données."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:".json",onChange:$,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Note:"})," L'import remplacera toutes les données existantes."]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(q,{variant:"outline",onClick:()=>v(!1),children:"Annuler"})})]})})]})}function CFe(){const{clients:e,pets:t,consultations:n,appointments:s,vaccinations:i,antiparasitics:a,stockItems:o,getUpcomingAppointments:l,getOverdueAppointments:c,generateAccountingSummary:u}=jt(),{settings:d}=Jt(),f=new Date().toISOString().split("T")[0],m=new Date().getMonth(),g=new Date().getFullYear(),x=n.filter(k=>k.date===f).length,v=s.filter(k=>k.date===f&&k.status!=="cancelled").length,N=l().filter(k=>{const O=new Date(k.date),L=new Date,z=new Date(L.getTime()+7*24*60*60*1e3);return O<=z}).length,j=c(),b=o.filter(k=>k.currentStock<=k.minimumStock).length,_=o.filter(k=>k.currentStock===0).length,C=new Date(g,m,1).toISOString().split("T")[0],A=new Date(g,m+1,0).toISOString().split("T")[0],P=u(`${g}-${String(m+1).padStart(2,"0")}`,C,A),E=e.filter(k=>{const O=new Date(k.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,M=t.filter(k=>{const O=new Date(k.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,$=[{title:"Consultations Aujourd'hui",value:x,icon:br,color:"text-green-600",bgColor:"bg-green-50",trend:x>0?"up":"neutral",description:"Consultations réalisées"},{title:"RDV Aujourd'hui",value:v,icon:Pt,color:"text-blue-600",bgColor:"bg-blue-50",trend:v>0?"up":"neutral",description:"Rendez-vous programmés"},{title:"RDV Cette Semaine",value:N,icon:$n,color:"text-purple-600",bgColor:"bg-purple-50",trend:N>0?"up":"neutral",description:"Rendez-vous à venir"},{title:"RDV En Retard",value:j.length,icon:qn,color:j.length>0?"text-red-600":"text-gray-600",bgColor:j.length>0?"bg-red-50":"bg-gray-50",trend:j.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:E,icon:Oa,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:E>0?"up":"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:M,icon:Kt,color:"text-pink-600",bgColor:"bg-pink-50",trend:M>0?"up":"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${P.totalRevenue.toFixed(0)} ${d.currency||"€"}`,icon:Bf,color:"text-green-600",bgColor:"bg-green-50",trend:P.totalRevenue>0?"up":"neutral",description:`Bénéfice: ${P.netIncome.toFixed(0)} ${d.currency||"€"}`},{title:"Stock Critique",value:b,icon:ka,color:b>0?"text-orange-600":"text-green-600",bgColor:b>0?"bg-orange-50":"bg-green-50",trend:b>0?"down":"neutral",description:`${_} en rupture`}];return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:$.map((k,O)=>r.jsxs(he,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium text-muted-foreground",children:k.title}),r.jsx("div",{className:`p-2 rounded-lg ${k.bgColor}`,children:r.jsx(k.icon,{className:`h-4 w-4 ${k.color}`})})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-2xl font-bold",children:k.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[k.trend==="up"&&r.jsxs(r.Fragment,{children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsxs($e,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),k.trend==="down"&&r.jsxs(r.Fragment,{children:[r.jsx(zu,{className:"h-4 w-4 text-red-600"}),r.jsxs($e,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),k.trend==="neutral"&&r.jsx($e,{variant:"outline",className:"text-xs",children:"0%"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:k.description})]})]},O))})}function _Fe(){const{accountingEntries:e}=jt(),{settings:t}=Jt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(g=>{const x=new Date(g.date);return x>=new Date(c)&&x<=new Date(u)}),f=d.filter(g=>g.type==="revenue").reduce((g,x)=>g+x.amount,0),m=d.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(f),expenses:Math.round(m),profit:Math.round(f-m)})}return i})();return r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Évolution des Revenus"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(IT,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(nd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx($a,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ra,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:i=>`${i}${t.currency||"€"}`}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[`${i} ${t.currency||"€"}`,a==="revenue"?"Revenus":a==="expenses"?"Dépenses":"Bénéfice"]}),r.jsx(Zi,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),r.jsx(Zi,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Dépenses"})]})]})]})]})}function PFe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:s}=jt(),a=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],f=e.filter(v=>v.date===d).length,m=t.filter(v=>v.date===d).length,g=n.filter(v=>v.dateGiven===d).length,x=s.filter(v=>v.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:f,appointments:m,vaccinations:g,antiparasitics:x,total:f+m+g+x})}return o})();return r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Activité des 7 derniers jours"}),r.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(iFe,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(nd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx($a,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ra,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),r.jsx(io,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),r.jsx(io,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),r.jsx(io,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),r.jsx(io,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function AFe(){const{stockItems:e}=jt(),t=U.useMemo(()=>{const i=e.length,a=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:i-a-o,color:"#10b981"},{name:"Stock Faible",value:a,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((i,a)=>i+a.currentStock*a.purchasePrice,0),s=e.sort((i,a)=>a.currentStock*a.purchasePrice-i.currentStock*i.purchasePrice).slice(0,5);return r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"État du Stock"}),r.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(MT,{children:[r.jsx(za,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,a)=>r.jsx(om,{fill:i.color},`cell-${a}`))}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:i=>[i,"Articles"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),r.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," €"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus précieux"}),s.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"truncate flex-1",children:i.name}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[(i.currentStock*i.purchasePrice).toFixed(0)," €"]})]},i.id))]})]})]})]})}function EFe(){const{clients:e,pets:t}=jt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,f=t.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,m=e.filter(x=>new Date(x.createdAt)<=u).length,g=t.filter(x=>new Date(x.createdAt)<=u).length;i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:f,totalClients:m,totalPets:g})}return i})();return r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Croissance des Clients"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(IT,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(nd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx($a,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ra,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[i,a==="newClients"?"Nouveaux Clients":a==="newPets"?"Nouveaux Animaux":a==="totalClients"?"Total Clients":"Total Animaux"]}),r.jsx(Zi,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),r.jsx(Zi,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function TFe(){const{appointments:e}=jt(),t=U.useMemo(()=>{const c=e.reduce((f,m)=>(f[m.status]=(f[m.status]||0)+1,f),{}),u={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([f,m])=>({name:u[f]||f,value:m,color:d[f]||"#6b7280"}))},[e]),n=e.length,s=e.filter(c=>c.status==="completed").length,i=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,a=e.filter(c=>c.status==="cancelled").length,o=n>0?s/n*100:0,l=n>0?a/n*100:0;return r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(MT,{children:[r.jsx(za,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>r.jsx(om,{fill:c.color},`cell-${u}`))}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de réussite"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Terminés"})]}),r.jsx("span",{className:"font-medium",children:s})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"À venir"})]}),r.jsx("span",{className:"font-medium",children:i})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(eg,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{children:"Annulés"})]}),r.jsx("span",{className:"font-medium",children:a})]})]})]})]})]})}function kFe(){const{consultations:e}=jt(),n=(()=>{const s=[],i=new Date;for(let a=11;a>=0;a--){const o=new Date(i.getFullYear(),i.getMonth()-a,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(m=>{const g=new Date(m.date);return g>=l&&g<=c}),d=u.reduce((m,g)=>m+(g.cost||0),0),f=u.length>0?d/u.length:0;s.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(f)})}return s})();return r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Tendances des Consultations"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(IT,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(nd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx($a,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ra,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(s,i)=>[i==="consultations"?s:`${s} €`,i==="consultations"?"Consultations":i==="revenue"?"Revenus":"Revenu moyen"]}),r.jsx(Zi,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function OFe(){const{pets:e}=jt(),t=U.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,s=t.length>0?t[0]:null,i=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,a=o=>{switch(o.toLowerCase()){case"chien":case"dog":return r.jsx(Ute,{className:"h-4 w-4"});case"chat":case"cat":return r.jsx(Rte,{className:"h-4 w-4"});case"poisson":case"fish":return r.jsx(Wte,{className:"h-4 w-4"});case"oiseau":case"bird":return r.jsx(Ite,{className:"h-4 w-4"});default:return r.jsx(Kt,{className:"h-4 w-4"})}};return r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-base font-medium",children:"Répartition par Espèce"}),r.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(cl,{width:"100%",height:"100%",children:r.jsxs(MT,{children:[r.jsx(za,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>r.jsx(om,{fill:o.color},`cell-${l}`))}),r.jsx(Vr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),r.jsx("span",{className:"font-medium",children:n})]}),s&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Espèce la plus commune"}),r.jsxs("div",{className:"flex items-center gap-2",children:[a(s.name),r.jsx("span",{className:"font-medium",children:s.name})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Âge moyen"}),r.jsxs("span",{className:"font-medium",children:[i.toFixed(1)," ans"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Répartition détaillée"}),t.slice(0,5).map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(o.name),r.jsx("span",{children:o.name})]}),r.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const DFe=()=>r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsx(xfe,{}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Réel"}),r.jsx(CFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(NFe,{}),r.jsx(SFe,{}),r.jsx(wFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),r.jsx(yfe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(L2,{children:r.jsx(_Fe,{})}),r.jsx(PFe,{})]})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(AFe,{}),r.jsx(EFe,{}),r.jsx(TFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(kFe,{}),r.jsx(OFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(wfe,{}),r.jsx(jFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activité Récente"}),r.jsx(bFe,{})]}),r.jsx(L2,{children:r.jsx("section",{children:r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),xd=e=>{const{settings:t}=Jt();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},MFe=(e,t)=>{const n=t.filter(a=>a.client_id===e.id),s=Math.abs(e.id.split("").reduce((a,o)=>(a=(a<<5)-a+o.charCodeAt(0),a&a),0)),i=n.map(a=>({id:Math.abs(a.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:a.name,type:a.species,breed:a.breed||""}));return{id:s,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:i,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0,dbId:e.id}},IFe=()=>{const{data:e=[],isLoading:t}=gv(),{data:n=[],isLoading:s}=vv(),i=Xhe(),{toast:a}=Ft(),o=e.map(k=>MFe(k,n)),{currentView:l}=xd("clients"),[c,u]=w.useState(""),[d,f]=w.useState(l),[m,g]=w.useState(!1),[x,v]=w.useState(null),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[_,C]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"Rabat",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),A=o.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.email.toLowerCase().includes(c.toLowerCase())||k.city&&k.city.toLowerCase().includes(c.toLowerCase())),P=k=>{v(k),N(!0)},E=k=>{v(k),C({first_name:k.firstName,last_name:k.lastName,email:k.email,phone:k.phone,mobile_phone:"",address:k.address,city:k.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),b(!0)},M=()=>{x&&C({first_name:x.firstName,last_name:x.lastName,email:x.email,phone:x.phone,mobile_phone:"",address:x.address,city:x.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),N(!1),b(!0)},$=async k=>{if(k.preventDefault(),!x||!_.first_name||!_.last_name){a({title:"Erreur",description:"Le prénom et le nom sont obligatoires",variant:"destructive"});return}try{await i.mutateAsync({id:x.dbId,data:_}),a({title:"Client modifié",description:`${_.first_name} ${_.last_name} a été modifié avec succès`}),b(!1),v(null)}catch(O){a({title:"Erreur",description:O instanceof Error?O.message:"Erreur lors de la modification du client",variant:"destructive"})}};return t||s?r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez tous vos clients et leurs informations"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:d==="cards"?"default":"outline",onClick:()=>f("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(q,{size:"sm",variant:d==="table"?"default":"outline",onClick:()=>f("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(q,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher un client"]})}),r.jsx(fe,{children:r.jsx(ie,{placeholder:"Rechercher par nom, email ou ville...",value:c,onChange:k=>u(k.target.value),className:"max-w-md"})})]}),d==="cards"?r.jsx("div",{className:"grid gap-6",children:A.map(k=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx(Hr,{className:"h-16 w-16",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-lg",children:k.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:k.name}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),k.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),k.phone]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ld,{className:"h-3 w-3"}),k.address]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(Kt,{className:"h-4 w-4 text-primary"}),"Animaux (",k.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:k.pets.length>0?k.pets.map((O,L)=>r.jsxs($e,{variant:"secondary",className:"gap-1",children:[O.name," - ",O.type," ",O.breed&&`(${O.breed})`]},O.id||L)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistré"})})]}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Dernière visite:"})," ",k.lastVisit]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Total visites:"})," ",k.totalVisits]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>P(k),children:[r.jsx(ns,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(q,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>E(k),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]})]})})},k.id))}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:A.map(k=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"h-10 w-10",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-sm",children:k.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:k.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.address})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm",children:k.email}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.phone})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex gap-1 flex-wrap",children:k.pets.length>0?k.pets.map((O,L)=>r.jsx($e,{variant:"secondary",className:"text-xs",children:O.name},O.id||L)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),r.jsx("td",{className:"p-4",children:k.lastVisit}),r.jsx("td",{className:"p-4",children:k.totalVisits}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>P(k),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>E(k),children:r.jsx(en,{className:"h-4 w-4"})})]})})]},k.id))})]})})})}),r.jsx(xv,{open:m,onOpenChange:g}),x&&y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-2xl mx-4",children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center justify-between",children:["Profil Client - ",x.name,r.jsx(q,{variant:"ghost",size:"sm",onClick:()=>N(!1),children:"✕"})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nom complet"}),r.jsx("p",{children:x.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx("p",{children:x.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Téléphone"}),r.jsx("p",{children:x.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Ville"}),r.jsx("p",{children:x.city})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),r.jsx("p",{children:x.address})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium",children:["Animaux (",x.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:x.pets.map((k,O)=>r.jsxs($e,{variant:"secondary",children:[k.name," - ",k.type," ",k.breed&&`(${k.breed})`]},k.id||O))})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(q,{onClick:()=>M(),children:"Modifier"}),r.jsx(q,{variant:"outline",onClick:()=>N(!1),children:"Fermer"})]})]})]})}),x&&j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center justify-between",children:["Modifier Client - ",x.name,r.jsx(q,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:"✕"})]})}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:$,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_first_name",children:"Prénom *"}),r.jsx(ie,{id:"edit_first_name",value:_.first_name,onChange:k=>C(O=>({...O,first_name:k.target.value})),placeholder:"Prénom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_last_name",children:"Nom *"}),r.jsx(ie,{id:"edit_last_name",value:_.last_name,onChange:k=>C(O=>({...O,last_name:k.target.value})),placeholder:"Nom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_email",children:"Email"}),r.jsx(ie,{id:"edit_email",type:"email",value:_.email||"",onChange:k=>C(O=>({...O,email:k.target.value})),placeholder:"email@exemple.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_phone",children:"Téléphone"}),r.jsx(ie,{id:"edit_phone",value:_.phone||"",onChange:k=>C(O=>({...O,phone:k.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_mobile_phone",children:"Téléphone mobile"}),r.jsx(ie,{id:"edit_mobile_phone",value:_.mobile_phone||"",onChange:k=>C(O=>({...O,mobile_phone:k.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_city",children:"Ville"}),r.jsx(ie,{id:"edit_city",value:_.city||"Rabat",onChange:k=>C(O=>({...O,city:k.target.value})),placeholder:"Ville"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_address",children:"Adresse"}),r.jsx(ie,{id:"edit_address",value:_.address||"",onChange:k=>C(O=>({...O,address:k.target.value})),placeholder:"Adresse complète"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_postal_code",children:"Code postal"}),r.jsx(ie,{id:"edit_postal_code",value:_.postal_code||"",onChange:k=>C(O=>({...O,postal_code:k.target.value})),placeholder:"10000"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_client_type",children:"Type de client"}),r.jsxs(Me,{value:_.client_type||"particulier",onValueChange:k=>C(O=>({...O,client_type:k})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de client"})}),r.jsxs(De,{children:[r.jsx(V,{value:"particulier",children:"Particulier"}),r.jsx(V,{value:"eleveur",children:"Éleveur"}),r.jsx(V,{value:"ferme",children:"Ferme"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"edit_notes",children:"Notes"}),r.jsx(Nt,{id:"edit_notes",value:_.notes||"",onChange:k=>C(O=>({...O,notes:k.target.value})),placeholder:"Notes supplémentaires...",rows:3})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(q,{type:"submit",disabled:i.isPending,className:"flex-1",children:i.isPending?r.jsxs(r.Fragment,{children:[r.jsx(bc,{className:"h-4 w-4 animate-spin mr-2"}),"Modification..."]}):"Enregistrer"}),r.jsx(q,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:i.isPending,className:"flex-1",children:"Annuler"})]})]})})]})})]})},$Fe=()=>r.jsx(IFe,{});function RFe({open:e,onOpenChange:t,pet:n}){const[s,i]=w.useState("overview");if(!n)return null;const a=n.birthDate?nf(n.birthDate):"Non renseigné",o=n.weight?`${n.weight} kg`:"Non renseigné";return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Dossier Médical - ",n.name," (Propriétaire: ",n.owner,")"]})}),r.jsxs(ml,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs(yo,{className:"grid w-full grid-cols-6",children:[r.jsxs(on,{value:"overview",className:"flex items-center gap-1",children:[r.jsx(ka,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(on,{value:"historique",className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(on,{value:"prescriptions",className:"flex items-center gap-1",children:[r.jsx(cr,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(on,{value:"vaccinations",className:"flex items-center gap-1",children:[r.jsx(As,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(on,{value:"antiparasites",className:"flex items-center gap-1",children:[r.jsx(zr,{className:"h-4 w-4"}),"Antiparasites"]}),r.jsxs(on,{value:"pedigree",className:"flex items-center gap-1",children:[r.jsx(g0,{className:"h-4 w-4"}),"Pedigree"]})]}),r.jsxs(ln,{value:"overview",className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Informations générales"})}),r.jsx(fe,{children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Hr,{className:"h-32 w-32",children:n.photo?r.jsx(ll,{src:n.photo,alt:n.name}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Kt,{className:"h-16 w-16"})})}),r.jsxs(q,{variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(ef,{className:"h-4 w-4"}),"Ajouter photo"]})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:n.name}),r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",n.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",n.breed||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sexe:"})," ",n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Inconnu"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",a]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date de naissance:"})," ",n.birthDate||"Non renseignée"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",n.color||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids actuel:"})," ",o]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"N° puce:"})," ",n.microchip||"Non renseigné"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Statut de santé:"}),r.jsx($e,{variant:n.status==="healthy"?"default":n.status==="treatment"?"secondary":"destructive",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",n.owner]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"})," ",n.lastVisit||"Aucune"]})]})]})]})})]}),r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{children:"Galerie photos"}),r.jsxs(q,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter une photo"]})]}),r.jsx(fe,{children:r.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[r.jsx(ef,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo disponible"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez des photos de l'animal pour enrichir son dossier"})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(v0,{className:"h-5 w-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsx("p",{className:"text-lg font-bold",children:o}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"-28.2kg"})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tg,{className:"h-5 w-5 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsx("p",{className:"text-lg font-bold",children:"38.5°C"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Moy: 38.5°C"})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Dernière: 15/01/2024"})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"À traiter"})]})]})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5"}),"Prochain suivi recommandé"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"Contrôle dans 3 an"}),r.jsxs(q,{size:"sm",className:"mt-2 gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Planifier"]})]})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-red-600",children:"Alertes importantes"})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(zr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Contrôle de routine recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernière consultation il y a 20 mois"})]}),r.jsx(q,{size:"sm",variant:"outline",children:"Planifier consultation"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(zr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"DHPP - 247 jour(s) de retard"})]}),r.jsx(q,{size:"sm",variant:"outline",children:"Planifier vaccination"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(zr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Lyme - 512 jour(s) de retard"})]}),r.jsx(q,{size:"sm",variant:"outline",children:"Planifier vaccination"})]})]})]})]}),r.jsx(ln,{value:"historique",className:"space-y-4",children:r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Historique médical"})}),r.jsx(fe,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Pt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}),r.jsx(ln,{value:"prescriptions",className:"space-y-4",children:r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{children:"Prescriptions"}),r.jsxs(q,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle prescription"]})]}),r.jsx(fe,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(cr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune prescription disponible"})]})})]})}),r.jsx(ln,{value:"vaccinations",className:"space-y-4",children:r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{children:"Vaccinations"}),r.jsxs(q,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle vaccination"]})]}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium",children:[r.jsx("div",{children:"Rage"}),r.jsx("div",{children:"DHPP"}),r.jsx("div",{children:"Lyme"})]}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(As,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune vaccination enregistrée"})]})]})})]})}),r.jsx(ln,{value:"antiparasites",className:"space-y-4",children:r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ee,{children:"Antiparasitaires"}),r.jsxs(q,{size:"sm",className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau traitement"]})]}),r.jsx(fe,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(zr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucun traitement antiparasitaire enregistré"})]})})]})}),r.jsx(ln,{value:"pedigree",className:"space-y-4",children:r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Informations de pedigree"})}),r.jsx(fe,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(g0,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune information de pedigree disponible"})]})})]})})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[r.jsx("div",{className:"flex gap-2",children:r.jsxs(q,{variant:"outline",size:"sm",children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Voir Dossier Médical"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(q,{children:[r.jsx(en,{className:"h-4 w-4 mr-2"}),"Modifier"]})]})]}),r.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Animal modifié"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Les informations de ",n.name," ont été mises à jour."]})]})]})})}function LFe({pet:e,consultations:t}){var _,C,A;const n=[...t].sort((P,E)=>new Date(E.date).getTime()-new Date(P.date).getTime()),s=n.filter(P=>P.weight).map(P=>({date:P.date,weight:parseFloat(P.weight)})),i=n.filter(P=>P.temperature).map(P=>({date:P.date,temperature:parseFloat(P.temperature)})),a=((_=s[0])==null?void 0:_.weight)||0,o=((C=s[1])==null?void 0:C.weight)||0,l=a-o,c=l>0?"up":l<0?"down":"stable",u=((A=i[0])==null?void 0:A.temperature)||0,d=i.length>0?i.reduce((P,E)=>P+E.temperature,0)/i.length:0,f=i.length>0?Math.min(...i.map(P=>P.temperature)):0,m=i.length>0?Math.max(...i.map(P=>P.temperature)):0,g=t.length,x=new Date().getMonth(),v=new Date().getFullYear(),y=t.filter(P=>{const E=new Date(P.date);return E.getMonth()===x&&E.getFullYear()===v}).length,N=n[0],j=N?Math.floor((new Date().getTime()-new Date(N.date).getTime())/(1e3*60*60*24)):null,b=[];return u>39.5?b.push({type:"danger",message:"Température élevée",icon:qn}):u<37.5&&b.push({type:"warning",message:"Température basse",icon:qn}),l<-2&&b.push({type:"warning",message:"Perte de poids",icon:zu}),j&&j>180&&b.push({type:"info",message:"Contrôle recommandé",icon:Pt}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques médicales"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(he,{children:[r.jsx(Ae,{className:"pb-2",children:r.jsxs(Ee,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(v0,{className:"h-4 w-4"}),"Poids actuel"]})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[a,"kg"]}),l!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):c==="down"?r.jsx(zu,{className:"h-3 w-3 text-red-600"}):r.jsx(Gte,{className:"h-3 w-3 text-gray-600"}),r.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{className:"pb-2",children:r.jsxs(Ee,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(tg,{className:"h-4 w-4"}),"Température"]})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[u,"°C"]}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"°C"]}),i.length>1&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",f,"°C | Max: ",m,"°C"]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{className:"pb-2",children:r.jsxs(Ee,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(ka,{className:"h-4 w-4"}),"Consultations"]})}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold",children:g}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",y]}),N&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernière: ",new Date(N.date).toLocaleDateString("fr-FR")]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{className:"pb-2",children:r.jsxs(Ee,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4"}),"Alertes"]})}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold",children:b.length}),r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:b.length>0?"À traiter":"Aucune"}),b.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:b.slice(0,2).map((P,E)=>r.jsx($e,{variant:"outline",className:"text-xs",children:P.message},E))})]})]})]}),b.length>0&&r.jsxs(he,{className:"border-destructive/20",children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-destructive text-base",children:"Alertes médicales"})}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-2",children:b.map((P,E)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[r.jsx(P.icon,{className:`h-4 w-4 ${P.type==="danger"?"text-destructive":P.type==="warning"?"text-yellow-600":"text-blue-600"}`}),r.jsx("span",{className:"text-sm font-medium",children:P.message})]},E))})})]}),s.length>1||i.length>1?r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-base",children:"Tendances"})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution du poids"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids initial:"}),r.jsxs("span",{children:[s[s.length-1].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids actuel:"}),r.jsxs("span",{children:[s[0].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Évolution totale:"}),r.jsxs("span",{className:s[0].weight>s[s.length-1].weight?"text-green-600":"text-red-600",children:[s[0].weight-s[s.length-1].weight,"kg"]})]})]})]}),i.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution de la température"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Température moyenne:"}),r.jsxs("span",{children:[d.toFixed(1),"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Variation:"}),r.jsxs("span",{children:[m-f,"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Stabilité:"}),r.jsx("span",{className:m-f<1?"text-green-600":"text-yellow-600",children:m-f<1?"Stable":"Variable"})]})]})]})]})})]}):r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(ka,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}const F3={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},FFe=(e,t)=>{const n=t.find(o=>o.id===e.client_id),s=n?`${n.first_name} ${n.last_name}`:"Propriétaire inconnu",i=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),a=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:i,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mâle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:a,owner:s,status:e.status==="vivant"?"healthy":e.status==="décédé"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[],dbId:e.id,dbClientId:e.client_id}},BFe=()=>{var Y;const{data:e=[],isLoading:t}=vv(),{data:n=[],isLoading:s}=gv(),{data:i}=nfe(),a=Zhe(),o=e.map(ee=>FFe(ee,n)),{data:l=[]}=hV(),{data:c=[]}=tfe(),u=w.useCallback(ee=>{var I;const G=typeof ee=="string"?ee:(I=o.find(ve=>ve.id===ee))==null?void 0:I.dbId;return G?l.filter(ve=>ve.animal_id===G):[]},[o,l]),d=w.useCallback(ee=>{var I;const G=typeof ee=="string"?ee:(I=o.find(ve=>ve.id===ee))==null?void 0:I.dbId;return G?c.filter(ve=>ve.animal_id===G):[]},[o,c]),{currentView:f}=xd("pets"),[m,g]=w.useState(""),[x,v]=w.useState("all"),[y,N]=w.useState("all"),[j,b]=w.useState(f),{settings:_}=Jt(),C=_.species.split(",").map(ee=>ee.trim()).filter(ee=>ee.length>0),[A,P]=w.useState(!1),[E,M]=w.useState(!1),[$,k]=w.useState(null),[O,L]=w.useState(!1),[z,J]=w.useState(!1),[H,oe]=w.useState(!1),{toast:Q}=Ft(),[D,ae]=w.useState({client_id:"",name:"",species:"Chien",breed:"",color:"",sex:"Inconnu",weight:void 0,height:void 0,birth_date:"",microchip_number:"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:"",photo_url:"",status:"healthy"}),pe=o.filter(ee=>{const G=ee.name.toLowerCase().includes(m.toLowerCase())||ee.breed&&ee.breed.toLowerCase().includes(m.toLowerCase())||ee.owner.toLowerCase().includes(m.toLowerCase()),I=x==="all"||ee.type.toLowerCase()===x.toLowerCase(),ve=y==="all"||ee.status===y;return G&&I&&ve}),te=ee=>{k(ee),L(!0)},Z=ee=>{k(ee),ae({client_id:ee.dbClientId,name:ee.name,species:ee.type,breed:ee.breed||"",color:ee.color||"",sex:ee.gender==="male"?"Mâle":ee.gender==="female"?"Femelle":"Inconnu",weight:ee.weight?parseFloat(ee.weight):void 0,height:void 0,birth_date:ee.birthDate||"",microchip_number:ee.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:ee.medicalNotes||"",photo_url:ee.photo||"",status:ee.status}),J(!0)},ne=()=>{$&&ae({client_id:$.dbClientId,name:$.name,species:$.type,breed:$.breed||"",color:$.color||"",sex:$.gender==="male"?"Mâle":$.gender==="female"?"Femelle":"Inconnu",weight:$.weight?parseFloat($.weight):void 0,height:void 0,birth_date:$.birthDate||"",microchip_number:$.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:$.medicalNotes||"",photo_url:$.photo||"",status:$.status}),L(!1),J(!0)},xe=ee=>{k(ee),oe(!0)},ye=()=>{L(!1),oe(!0)},se=async()=>{if($){if(D.microchip_number&&D.microchip_number.trim()&&e.find(G=>G.microchip_number===D.microchip_number.trim()&&G.id!==$.dbId)){Q({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{await a.mutateAsync({id:$.dbId,data:D}),Q({title:"Animal modifié",description:`${D.name} a été modifié avec succès.`}),J(!1)}catch{Q({title:"Erreur",description:"Une erreur s'est produite lors de la modification de l'animal.",variant:"destructive"})}}},F=w.useMemo(()=>$?u($.id):[],[$,u]);return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations médicales"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:j==="cards"?"default":"outline",onClick:()=>b("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(q,{size:"sm",variant:j==="table"?"default":"outline",onClick:()=>b("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(q,{className:"gap-2 medical-glow",onClick:()=>P(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalAnimals)||o.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En bonne santé"}),r.jsx("p",{className:"text-2xl font-bold",children:((Y=i==null?void 0:i.animalsByStatus)==null?void 0:Y.vivant)||o.filter(ee=>ee.status==="healthy").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En traitement"}),r.jsx("p",{className:"text-2xl font-bold",children:o.filter(ee=>ee.status==="treatment").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalClients)||n.length})]})]})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, race ou propriétaire...",value:m,onChange:ee=>g(ee.target.value),className:"max-w-md"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(Me,{value:x,onValueChange:v,children:[r.jsx(Oe,{className:"w-40",children:r.jsx(Ie,{placeholder:"Tous types"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous types"}),C.map((ee,G)=>r.jsx(V,{value:ee.toLowerCase(),children:ee},G))]})]}),r.jsxs(Me,{value:y,onValueChange:N,children:[r.jsx(Oe,{className:"w-40",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous statuts"}),r.jsx(V,{value:"healthy",children:"En bonne santé"}),r.jsx(V,{value:"treatment",children:"En traitement"}),r.jsx(V,{value:"urgent",children:"Urgent"})]})]})]})]})]}),j==="cards"?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:pe.map(ee=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"h-16 w-16",children:ee.photo?r.jsx(ll,{src:ee.photo,alt:ee.name}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Kt,{className:"h-8 w-8"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:ee.name}),r.jsx("p",{className:"text-muted-foreground",children:ee.breed}),r.jsx($e,{variant:"outline",className:F3[ee.status],children:ee.status==="healthy"?"En bonne santé":ee.status==="treatment"?"En traitement":"Urgent"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",ee.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",ee.birthDate?nf(ee.birthDate):"Non renseigné"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"})," ",ee.weight]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",ee.color]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Propriétaire: ",typeof ee.owner=="string"?ee.owner:(()=>{const G=n.find(I=>String(I.id)===String(ee.ownerId));return G?`${G.first_name} ${G.last_name}`:"Non spécifié"})()]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Dernière visite: ",ee.lastVisit?new Date(ee.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Consultations: ",u(ee.id).length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:(()=>{const G=d(ee.id);return G.length>0?G.map(I=>r.jsx($e,{variant:"outline",className:"text-xs",children:I.vaccin},I.id)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucune vaccination enregistrée"})})()})]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs(q,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>te(ee),children:[r.jsx(ns,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(q,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>Z(ee),children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>xe(ee),children:"Dossier Médical"}),r.jsxs(q,{size:"sm",className:"flex-1",onClick:()=>{k(ee),M(!0)},children:[r.jsx(br,{className:"h-4 w-4 mr-2"}),"Consultation"]})]})]})})},ee.id))}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Âge"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:pe.map(ee=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"h-10 w-10",children:ee.photo?r.jsx(ll,{src:ee.photo,alt:ee.name}):r.jsx(Gr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Kt,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ee.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:ee.breed})]})]})}),r.jsx("td",{className:"p-4",children:ee.type}),r.jsx("td",{className:"p-4",children:ee.birthDate?nf(ee.birthDate):"Non renseigné"}),r.jsx("td",{className:"p-4",children:typeof ee.owner=="string"?ee.owner:(()=>{const G=n.find(I=>String(I.id)===String(ee.ownerId));return G?`${G.first_name} ${G.last_name}`:"Non spécifié"})()}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:F3[ee.status],children:ee.status==="healthy"?"En bonne santé":ee.status==="treatment"?"En traitement":"Urgent"})}),r.jsx("td",{className:"p-4",children:ee.lastVisit?new Date(ee.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>te(ee),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>Z(ee),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>xe(ee),children:"Dossier"})]})})]},ee.id))})]})})})}),$&&r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ka,{className:"h-5 w-5"}),"Statistiques médicales - ",$.name]})}),r.jsx(fe,{children:r.jsx(LFe,{pet:$,consultations:F})})]}),r.jsx(yv,{open:A,onOpenChange:P}),r.jsx(Xf,{open:E,onOpenChange:M}),r.jsx(CV,{open:O,onOpenChange:L,pet:$,onEdit:ne,onShowDossier:ye}),r.jsx(St,{open:z,onOpenChange:J,children:r.jsxs(wt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier Animal"}),r.jsx(jn,{children:"Modifiez les informations de l'animal."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"name",children:"Nom *"}),r.jsx(ie,{id:"name",value:D.name,onChange:ee=>ae(G=>({...G,name:ee.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:D.species,onValueChange:ee=>ae(G=>({...G,species:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'espèce"})}),r.jsxs(De,{children:[r.jsx(V,{value:"Chien",children:"Chien"}),r.jsx(V,{value:"Chat",children:"Chat"}),r.jsx(V,{value:"Oiseau",children:"Oiseau"}),r.jsx(V,{value:"Lapin",children:"Lapin"}),r.jsx(V,{value:"Furet",children:"Furet"}),r.jsx(V,{value:"Autre",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"client_id",children:"Propriétaire *"}),r.jsxs(Me,{value:D.client_id,onValueChange:ee=>ae(G=>({...G,client_id:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(De,{children:n.map(ee=>r.jsxs(V,{value:ee.id,children:[ee.first_name," ",ee.last_name]},ee.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:D.breed||"",onChange:ee=>ae(G=>({...G,breed:ee.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"sex",children:"Sexe"}),r.jsxs(Me,{value:D.sex,onValueChange:ee=>ae(G=>({...G,sex:ee})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(V,{value:"Mâle",children:"Mâle"}),r.jsx(V,{value:"Femelle",children:"Femelle"}),r.jsx(V,{value:"Inconnu",children:"Inconnu"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"birth_date",children:"Date de naissance"}),r.jsx(ie,{id:"birth_date",type:"date",value:D.birth_date||"",onChange:ee=>ae(G=>({...G,birth_date:ee.target.value||void 0}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",value:D.weight||"",onChange:ee=>ae(G=>({...G,weight:ee.target.value?parseFloat(ee.target.value):void 0}))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:D.color||"",onChange:ee=>ae(G=>({...G,color:ee.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"microchip_number",children:"N° puce électronique"}),r.jsx(ie,{id:"microchip_number",value:D.microchip_number||"",onChange:ee=>ae(G=>({...G,microchip_number:ee.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes médicales"}),r.jsx(Nt,{id:"notes",value:D.notes||"",onChange:ee=>ae(G=>({...G,notes:ee.target.value})),placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>J(!1),children:"Annuler"}),r.jsxs(q,{onClick:se,disabled:a.isPending,children:[a.isPending&&r.jsx(bc,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarder"]})]})]})]})}),r.jsx(RFe,{open:H,onOpenChange:oe,pet:$})]})},zFe=()=>r.jsx(BFe,{}),VFe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},UFe=(e,t,n)=>{let s;const i=VFe[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},qFe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},WFe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},HFe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GFe={date:Th({formats:qFe,defaultWidth:"full"}),time:Th({formats:WFe,defaultWidth:"full"}),dateTime:Th({formats:HFe,defaultWidth:"full"})},KFe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},YFe=(e,t,n,s)=>KFe[e],QFe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},XFe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},JFe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},ZFe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},e5e={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},t5e=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=s&&i.includes(s)?"ère":"er":a="ème",n+a},n5e=["MMM","MMMM"],r5e={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&n5e.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:t5e,era:to({values:QFe,defaultWidth:"wide"}),quarter:to({values:XFe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:to({values:JFe,defaultWidth:"wide"}),day:to({values:ZFe,defaultWidth:"wide"}),dayPeriod:to({values:e5e,defaultWidth:"wide"})},s5e=/^(\d+)(ième|ère|ème|er|e)?/i,i5e=/\d+/i,a5e={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},o5e={any:[/^av/i,/^ap/i]},l5e={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},c5e={any:[/1/i,/2/i,/3/i,/4/i]},u5e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},d5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},h5e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},f5e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},m5e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},p5e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},g5e={ordinalNumber:VV({matchPattern:s5e,parsePattern:i5e,valueCallback:e=>parseInt(e)}),era:no({matchPatterns:a5e,defaultMatchWidth:"wide",parsePatterns:o5e,defaultParseWidth:"any"}),quarter:no({matchPatterns:l5e,defaultMatchWidth:"wide",parsePatterns:c5e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:no({matchPatterns:u5e,defaultMatchWidth:"wide",parsePatterns:d5e,defaultParseWidth:"any"}),day:no({matchPatterns:h5e,defaultMatchWidth:"wide",parsePatterns:f5e,defaultParseWidth:"any"}),dayPeriod:no({matchPatterns:m5e,defaultMatchWidth:"any",parsePatterns:p5e,defaultParseWidth:"any"})},Hi={code:"fr",formatDistance:UFe,formatLong:GFe,formatRelative:YFe,localize:r5e,match:g5e,options:{weekStartsOn:1,firstWeekContainsDate:4}},B3=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},z3=(e,t)=>{switch(e){case"appointment":return r.jsx($n,{className:"h-3 w-3"});case"vaccination":return r.jsx(er,{className:"h-3 w-3"});case"antiparasitic":return r.jsx(qn,{className:"h-3 w-3"});default:return r.jsx(Pt,{className:"h-3 w-3"})}},LT=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:s,showTimeSlots:i=!1,title:a="Calendrier",icon:o=r.jsx(Pt,{className:"h-5 w-5"})})=>{var A;const{settings:l}=Jt(),[c,u]=w.useState(new Date),[d,f]=w.useState(""),m=new Date(c.getFullYear(),c.getMonth(),1),g=new Date(c.getFullYear(),c.getMonth()+1,0),x=new Date(m);x.setDate(x.getDate()-m.getDay());const v=[],y=new Date(x);for(;y<=g||v.length<42;)v.push(new Date(y)),y.setDate(y.getDate()+1);const N=w.useMemo(()=>{const P={};return e.forEach(E=>{const M=E.date;P[M]||(P[M]=[]),P[M].push(E)}),P},[e]),j=w.useMemo(()=>!d||!i?[]:gE(d,l.scheduleSettings,[]),[d,i,l.scheduleSettings]),b=P=>{const E=new Date(c);E.setMonth(c.getMonth()+(P==="next"?1:-1)),u(E)},_=P=>{const E=It(P,"yyyy-MM-dd");f(E),n==null||n(E)},C=P=>{s&&d&&s(d,P)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ae,{className:"pb-3 sm:pb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[r.jsxs(Ee,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,a]}),r.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[r.jsx(q,{variant:"outline",size:"sm",onClick:()=>b("prev"),className:"flex-1 sm:flex-none",children:"←"}),r.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:It(c,"MMMM yyyy",{locale:Hi})}),r.jsx(q,{variant:"outline",size:"sm",onClick:()=>b("next"),className:"flex-1 sm:flex-none",children:"→"})]})]})}),r.jsxs(fe,{className:"p-2 sm:p-6",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(P=>r.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:P},P))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:v.map((P,E)=>{const M=It(P,"yyyy-MM-dd"),$=N[M]||[],k=P.getMonth()===c.getMonth(),O=kfe(P,new Date),L=M===d,z=gfe(M,l.scheduleSettings);return r.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${k?"bg-white":"bg-gray-50"}
                    ${O?"ring-2 ring-blue-500":""}
                    ${L?"bg-blue-100 border-blue-300":""}
                    ${z?"":"opacity-50"}
                  `,onClick:()=>_(P),children:[r.jsx("div",{className:`text-xs sm:text-sm font-medium ${k?"text-gray-900":"text-gray-400"}`,children:P.getDate()}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[$.slice(0,2).map((J,H)=>r.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${B3(J.type,J.status)}
                        `,title:`${J.title}${J.time?` - ${J.time}`:""}${J.clientName?` (${J.clientName})`:""}`,onClick:oe=>{oe.stopPropagation(),t==null||t(J)},children:r.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[z3(J.type,J.status),r.jsx("span",{className:"truncate text-xs",children:J.title})]})},H)),$.length>2&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",$.length-2]})]})]},E)})})]})]}),d&&r.jsxs(he,{children:[r.jsx(Ae,{className:"pb-3",children:r.jsx(Ee,{className:"text-base sm:text-lg",children:It(new Date(d),"EEEE d MMMM yyyy",{locale:Hi})})}),r.jsxs(fe,{className:"p-3 sm:p-6",children:[((A=N[d])==null?void 0:A.length)>0?r.jsx("div",{className:"space-y-3",children:N[d].map(P=>r.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${B3(P.type,P.status)}
                    `,onClick:()=>t==null?void 0:t(P),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[z3(P.type,P.status),r.jsx("span",{className:"font-medium",children:P.title})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:P.status})]}),P.time&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx($n,{className:"h-3 w-3"}),r.jsx("span",{children:P.time})]}),P.clientName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Wr,{className:"h-3 w-3"}),r.jsx("span",{children:P.clientName})]}),P.petName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Kt,{className:"h-3 w-3"}),r.jsx("span",{children:P.petName})]})]},P.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun événement prévu pour cette date"}),i&&j.length>0&&r.jsxs("div",{className:"mt-4 sm:mt-6",children:[r.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Créneaux disponibles"}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:j.map(P=>r.jsxs(q,{variant:P.isAvailable?"outline":"ghost",size:"sm",disabled:!P.isAvailable,onClick:()=>C(P.time),className:"text-xs p-1 sm:p-2",children:[P.time,P.isLunchBreak&&r.jsx($e,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},P.time))})]})]})]})]})},V3={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},HS={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},U3={consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"};function v5e(){const{appointments:e,deleteAppointment:t,updateAppointment:n,getUpcomingAppointments:s,getOverdueAppointments:i}=jt(),{toast:a}=Ft(),{currentView:o}=xd("appointments"),[l,c]=w.useState(!1),[u,d]=w.useState(""),[f,m]=w.useState("all"),[g,x]=w.useState("all"),[v,y]=w.useState("all"),[N,j]=w.useState(new Date().toISOString().split("T")[0]),[b,_]=w.useState("list"),[C,A]=w.useState(o),[P,E]=w.useState(null),[M,$]=w.useState(""),[k,O]=w.useState(()=>{const se=new Date;return new Date(se.getFullYear(),se.getMonth(),1)}),L=s(),z=i(),J=e.filter(se=>{const F=se.clientName.toLowerCase().includes(u.toLowerCase())||se.petName.toLowerCase().includes(u.toLowerCase())||se.reason&&se.reason.toLowerCase().includes(u.toLowerCase()),Y=f==="all"||se.status===f,ee=g==="all"||se.type===g;let G=!0;if(v==="today")G=se.date===new Date().toISOString().split("T")[0];else if(v==="week"){const I=new Date(se.date),ve=new Date,we=new Date(ve.getTime()+7*24*60*60*1e3);G=I>=ve&&I<=we}else if(v==="month"){const I=new Date(se.date),ve=new Date,we=ve.getMonth(),Fe=ve.getFullYear();G=I.getMonth()===we&&I.getFullYear()===Fe}else v==="specific"&&(G=se.date===N);return F&&Y&&ee&&G}),H=(se,F)=>{n(se,{status:F}),a({title:"Statut mis à jour",description:`Le rendez-vous est maintenant ${HS[F].toLowerCase()}.`})},oe=()=>{if(!P)return;const{id:se,field:F}=P,Y=e.find(ee=>ee.id===se);if(Y){const ee={...Y,[F]:M};n(se,ee),a({title:"Modifié",description:`${F} mis à jour`})}E(null)},Q=se=>{confirm(`Êtes-vous sûr de vouloir supprimer le rendez-vous pour ${se.petName} ?`)&&(t(se.id),a({title:"Rendez-vous supprimé",description:`Le rendez-vous pour ${se.petName} a été supprimé.`}))},D=se=>e.filter(F=>F.date===se),pe=(()=>{const se=new Date().toISOString().split("T")[0];return D(se)})(),te=k.getFullYear(),Z=k.getMonth(),ne=new Date(te,Z,1).getDay(),xe=new Date(te,Z+1,0).getDate();let ye=1-ne;for(;ye<=xe;){const se=[];for(let F=0;F<7;F++)ye>0&&ye<=xe?se.push(ye):se.push(0),ye++}return r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Planifiez et gérez tous vos rendez-vous vétérinaires"})]}),r.jsxs(q,{onClick:()=>c(!0),className:"gap-2 w-full sm:w-auto",children:[r.jsx(ht,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nouveau Rendez-vous"}),r.jsx("span",{className:"sm:hidden",children:"Nouveau RDV"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:b==="list"?"default":"outline",onClick:()=>_("list"),size:"sm",className:"flex-1 sm:flex-none",children:"Liste"}),r.jsx(q,{variant:b==="calendar"?"default":"outline",onClick:()=>_("calendar"),size:"sm",className:"flex-1 sm:flex-none",children:"Calendrier"})]}),b==="list"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:C==="cards"?"default":"outline",onClick:()=>A("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(sl,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),r.jsxs(q,{size:"sm",variant:C==="table"?"default":"outline",onClick:()=>A("table"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(il,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Tableau"})]})]})]}),b==="calendar"?r.jsx(LT,{events:e.map(se=>({id:se.id,type:"appointment",title:`${se.clientName} - ${se.petName}`,time:se.time,date:se.date,status:se.status,clientName:se.clientName,petName:se.petName})),onEventClick:se=>{},onDateClick:se=>{j(se)},onTimeSlotClick:(se,F)=>{c(!0)},showTimeSlots:!0,title:"Calendrier des Rendez-vous",icon:r.jsx(Pt,{className:"h-5 w-5"})}):r.jsxs("div",{className:"grid gap-2 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Aujourd'hui"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:pe.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"À venir"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:L.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"En retard"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:z.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e.length})]})]})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs(Ee,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(wA,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filtres et Recherche"]})}),r.jsx(fe,{className:"space-y-3 sm:space-y-4",children:r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Recherche"}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Client, animal, motif...",value:u,onChange:se=>d(se.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Statut"}),r.jsxs(Me,{value:f,onValueChange:m,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous les statuts"}),r.jsx(V,{value:"scheduled",children:"Planifié"}),r.jsx(V,{value:"confirmed",children:"Confirmé"}),r.jsx(V,{value:"completed",children:"Terminé"}),r.jsx(V,{value:"cancelled",children:"Annulé"}),r.jsx(V,{value:"no-show",children:"Absent"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Type"}),r.jsxs(Me,{value:g,onValueChange:x,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous les types"}),r.jsx(V,{value:"consultation",children:"Consultation"}),r.jsx(V,{value:"vaccination",children:"Vaccination"}),r.jsx(V,{value:"chirurgie",children:"Chirurgie"}),r.jsx(V,{value:"urgence",children:"Urgence"}),r.jsx(V,{value:"controle",children:"Contrôle"}),r.jsx(V,{value:"sterilisation",children:"Stérilisation"}),r.jsx(V,{value:"dentaire",children:"Dentaire"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Période"}),r.jsxs(Me,{value:v,onValueChange:y,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Toutes les dates"}),r.jsx(V,{value:"today",children:"Ce jour"}),r.jsx(V,{value:"week",children:"Cette semaine"}),r.jsx(V,{value:"month",children:"Ce mois"}),r.jsx(V,{value:"specific",children:"Date spécifique"})]})]})]}),v==="specific"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ip,{children:"Date"}),r.jsx(ie,{type:"date",value:N,onChange:se=>j(se.target.value)})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-xl font-semibold",children:["Rendez-vous (",J.length,")"]})}),J.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Pt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun rendez-vous trouvé"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier rendez-vous"})]})}):C==="cards"?r.jsx("div",{className:"space-y-4",children:J.sort((se,F)=>new Date(se.date+"T"+se.time).getTime()-new Date(F.date+"T"+F.time).getTime()).map(se=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-4 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:se.clientName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:se.petName})]}),r.jsx($e,{className:V3[se.status],children:HS[se.status]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:new Date(se.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:se.time})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{className:"ml-1",children:U3[se.type]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Durée:"}),r.jsxs("span",{className:"ml-1",children:[se.duration," min"]})]})]}),se.reason&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Motif:"}),r.jsx("p",{className:"text-sm mt-1",children:se.reason})]}),se.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:se.notes})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[se.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>H(se.id,"confirmed"),className:"gap-1",children:[r.jsx(er,{className:"h-3 w-3"}),"Confirmer"]}),r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>H(se.id,"cancelled"),className:"gap-1 text-red-600",children:[r.jsx(eg,{className:"h-3 w-3"}),"Annuler"]})]}),se.status==="confirmed"&&r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>H(se.id,"completed"),className:"gap-1",children:[r.jsx(er,{className:"h-3 w-3"}),"Terminer"]}),r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>Q(se),className:"gap-1 text-red-600",children:[r.jsx(Vn,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},se.id))}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client / Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Date & Heure"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Motif"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:J.sort((se,F)=>new Date(se.date+"T"+se.time).getTime()-new Date(F.date+"T"+F.time).getTime()).map(se=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:se.clientName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:se.petName})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:se.id,field:"date"}),$(se.date)},children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===se.id&&P.field==="date"?r.jsx(ie,{type:"date",value:M,onChange:F=>$(F.target.value),onBlur:oe,autoFocus:!0,className:"w-32"}):r.jsx("span",{children:new Date(se.date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:se.id,field:"time"}),$(se.time)},children:[r.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===se.id&&P.field==="time"?r.jsx(ie,{type:"time",value:M,onChange:F=>$(F.target.value),onBlur:oe,autoFocus:!0,className:"w-24"}):r.jsx("span",{className:"text-sm text-muted-foreground",children:se.time})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:U3[se.type]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[se.duration," min"]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"cursor-pointer",onClick:()=>{E({id:se.id,field:"status"}),$(se.status)},children:(P==null?void 0:P.id)===se.id&&P.field==="status"?r.jsxs(Me,{value:M,onValueChange:F=>{$(F),n(se.id,{status:F}),E(null)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"scheduled",children:"Planifié"}),r.jsx(V,{value:"confirmed",children:"Confirmé"}),r.jsx(V,{value:"completed",children:"Terminé"}),r.jsx(V,{value:"cancelled",children:"Annulé"}),r.jsx(V,{value:"no-show",children:"Absent"})]})]}):r.jsx($e,{className:V3[se.status],children:HS[se.status]})})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"max-w-xs cursor-pointer",onClick:()=>{E({id:se.id,field:"reason"}),$(se.reason||"")},children:(P==null?void 0:P.id)===se.id&&P.field==="reason"?r.jsx(ie,{value:M,onChange:F=>$(F.target.value),onBlur:oe,autoFocus:!0,placeholder:"Motif du rendez-vous"}):r.jsxs(r.Fragment,{children:[se.reason&&r.jsx("div",{className:"text-sm",children:se.reason}),se.notes&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:se.notes})]})})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[se.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>H(se.id,"confirmed"),children:r.jsx(er,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>H(se.id,"cancelled"),className:"text-red-600",children:r.jsx(eg,{className:"h-3 w-3"})})]}),se.status==="confirmed"&&r.jsx(q,{size:"sm",variant:"outline",onClick:()=>H(se.id,"completed"),children:r.jsx(er,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>Q(se),className:"text-red-600",children:r.jsx(Vn,{className:"h-3 w-3"})})]})})]},se.id))})]})})})})]}),r.jsx(vE,{open:l,onOpenChange:c})]})}const ip=({children:e,...t})=>r.jsx("label",{className:"text-sm font-medium",...t,children:e}),hm=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ze("w-full caption-bottom text-sm",e),...t})}));hm.displayName="Table";const fm=w.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ze("[&_tr]:border-b",e),...t}));fm.displayName="TableHeader";const mm=w.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ze("[&_tr:last-child]:border-0",e),...t}));mm.displayName="TableBody";const x5e=w.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));x5e.displayName="TableFooter";const La=w.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));La.displayName="TableRow";const Ot=w.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableHead";const Dt=w.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ze("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Dt.displayName="TableCell";const y5e=w.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ze("mt-4 text-sm text-muted-foreground",e),...t}));y5e.displayName="TableCaption";const j5e=()=>{const{data:e=[],isLoading:t}=hV();fV();const n=efe(),{settings:s}=Jt(),{toast:i}=Ft(),{currentView:a}=xd("consultations"),[o,l]=w.useState(""),[c,u]=w.useState("all"),[d,f]=w.useState(a),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(!1),[_,C]=w.useState(null),[A,P]=w.useState(null),E=e.filter(L=>{var ae,pe,te;const z=`${((ae=L.client)==null?void 0:ae.first_name)||""} ${((pe=L.client)==null?void 0:pe.last_name)||""}`.trim(),J=((te=L.animal)==null?void 0:te.name)||"",H=z.toLowerCase().includes(o.toLowerCase())||J.toLowerCase().includes(o.toLowerCase())||L.symptoms&&L.symptoms.toLowerCase().includes(o.toLowerCase())||L.diagnosis&&L.diagnosis.toLowerCase().includes(o.toLowerCase());if(c==="all")return H;const oe=new Date(L.consultation_date),D=(new Date().getTime()-oe.getTime())/(1e3*3600*24);switch(c){case"week":return H&&D<=7;case"month":return H&&D<=30;case"quarter":return H&&D<=90;default:return H}}),M=L=>{N(L),v(!0)},$=L=>{C(parseInt(L.animal_id)),P(parseInt(L.id)),b(!0)},k=L=>{var z,J;confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${((z=L.animal)==null?void 0:z.name)||"cet animal"} ?`)&&(n.mutate(L.id),i({title:"Consultation supprimée",description:`La consultation pour ${((J=L.animal)==null?void 0:J.name)||"cet animal"} a été supprimée.`}))},O=L=>{N({...L,id:"",consultation_date:new Date().toISOString(),symptoms:"",diagnosis:"",treatment:"",notes:"",follow_up_date:null,follow_up_notes:"",status:"scheduled"}),g(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez et consultez tous les dossiers médicaux"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex border rounded-lg p-1",children:[r.jsx(q,{variant:d==="cards"?"default":"ghost",size:"sm",onClick:()=>f("cards"),className:"px-3",children:r.jsx(sl,{className:"h-4 w-4"})}),r.jsx(q,{variant:d==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),className:"px-3",children:r.jsx(il,{className:"h-4 w-4"})})]}),r.jsxs(q,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par client, animal, symptômes ou diagnostic...",value:o,onChange:L=>l(L.target.value),className:"max-w-md"}),r.jsxs(Me,{value:c,onValueChange:u,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Période"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Toutes les périodes"}),r.jsx(V,{value:"week",children:"Cette semaine"}),r.jsx(V,{value:"month",children:"Ce mois"}),r.jsx(V,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations récentes (",E.length,")"]}),E.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(cr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]})}):d==="cards"?E.map(L=>{var z,J,H;return r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:((z=L.animal)==null?void 0:z.name)||"Animal inconnu"}),r.jsx($e,{variant:"secondary",children:"Consultation"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(L.consultation_date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wr,{className:"h-4 w-4"}),(J=L.client)==null?void 0:J.first_name," ",(H=L.client)==null?void 0:H.last_name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cr,{className:"h-3 w-3"}),"Consultation #",L.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[L.temperature&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tg,{className:"h-4 w-4 text-primary"}),L.temperature,"°C"]}),L.weight&&r.jsxs("span",{children:[L.weight," kg"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[L.symptoms&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm",children:L.symptoms})]}),L.diagnosis&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm",children:L.diagnosis})]})]}),r.jsxs("div",{className:"space-y-2",children:[L.treatment&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm",children:L.treatment})]}),L.medications&&r.jsxs(r.Fragment,{children:[r.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[r.jsx(_h,{className:"h-4 w-4"}),"Médicaments:"]}),r.jsx("p",{className:"text-sm",children:L.medications})]})]})]}),L.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:L.notes})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.jsx(Pt,{className:"h-3 w-3 inline mr-1"}),L.followUp?`Suivi: ${L.followUp}`:"Aucun suivi prévu"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Bj,{consultation:L}),r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>M(L),className:"gap-1",children:[r.jsx(en,{className:"h-3 w-3"}),"Modifier"]}),r.jsxs(q,{size:"sm",variant:"default",onClick:()=>$(L),className:"gap-1",children:[r.jsx(_h,{className:"h-3 w-3"}),"Prescription"]}),r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>k(L),className:"gap-1 text-red-600 hover:text-red-700",children:[r.jsx(Vn,{className:"h-3 w-3"}),"Supprimer"]}),r.jsx(q,{size:"sm",onClick:()=>O(L),children:"Nouveau suivi"})]})]})]})})},L.id)}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs(La,{children:[r.jsx(Ot,{children:"Animal / Client"}),r.jsx(Ot,{children:"Date"}),r.jsx(Ot,{children:"Symptômes"}),r.jsx(Ot,{children:"Diagnostic"}),r.jsx(Ot,{children:"Température"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:E.map(L=>{var z,J,H;return r.jsxs(La,{children:[r.jsx(Dt,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:(z=L.animal)==null?void 0:z.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[(J=L.client)==null?void 0:J.first_name," ",(H=L.client)==null?void 0:H.last_name]})]})}),r.jsx(Dt,{children:new Date(L.consultation_date).toLocaleDateString("fr-FR")}),r.jsx(Dt,{children:r.jsx("div",{className:"max-w-xs truncate",children:L.symptoms||"-"})}),r.jsx(Dt,{children:r.jsx("div",{className:"max-w-xs truncate",children:L.diagnosis||"-"})}),r.jsx(Dt,{children:L.temperature?`${L.temperature}°C`:"-"}),r.jsx(Dt,{children:L.cost?`${L.cost} ${s.currency}`:"-"}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Bj,{consultation:L}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>M(L),children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"default",onClick:()=>$(L),children:r.jsx(_h,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>k(L),className:"text-red-600 hover:text-red-700",children:r.jsx(Vn,{className:"h-3 w-3"})})]})})]},L.id)})})]})})})]}),r.jsx(Xf,{open:m,onOpenChange:g}),r.jsx(v9,{open:x,onOpenChange:v,consultation:y}),_&&A&&r.jsx($T,{open:j,onOpenChange:b,petId:_.toString(),consultationId:A.toString()})]})},b5e=({consultation:e,open:t,onOpenChange:n,onEdit:s})=>{if(!e)return null;const{getClientById:i,getPetById:a}=jt(),o=i(e.clientId),l=a(e.petId);return r.jsx(St,{open:t,onOpenChange:n,children:r.jsxs(wt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{children:["Consultation #",e.id," - ",co(e.date)]}),r.jsx(jn,{children:"Détails de la consultation générale"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(Pt,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation générale"})]}),r.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Kt,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&r.jsx(he,{children:r.jsx(fe,{children:r.jsxs("p",{children:[r.jsx("strong",{children:"Symptômes:"})," ",e.symptoms]})})}),r.jsxs(ml,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(yo,{className:"grid grid-cols-2",children:[r.jsx(on,{value:"overview",children:"Détails"}),r.jsx(on,{value:"prescriptions",children:"Prescriptions"})]}),r.jsx(ln,{value:"overview",children:r.jsx(he,{children:r.jsxs(fe,{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spécifié"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&r.jsxs("div",{className:"pt-4",children:[r.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>r.jsx("div",{className:"relative",children:r.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),r.jsx(ln,{value:"prescriptions",children:r.jsx(n9,{petId:e.petId,consultationId:e.id})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsxs(q,{variant:"outline",onClick:s,children:[r.jsx(en,{className:"h-4 w-4"})," Modifier"]}),r.jsx(Bj,{consultation:e})]})]})})};function w5e({prescription:e}){const{settings:t}=Jt(),{logo:n,clinicName:s,address:i,phone:a,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),f=()=>{window.print()};return r.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&r.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold",children:s}),r.jsx("p",{className:"text-sm",children:i}),r.jsxs("p",{className:"text-sm",children:[a," | ",o]}),l&&r.jsx("p",{className:"text-sm",children:l})]}),r.jsx("div",{children:r.jsx(q,{variant:"outline",onClick:f,className:"uppercase text-sm",children:"Imprimer"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",e.date]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Médicament"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Fréquence"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Durée"})]})}),r.jsx("tbody",{children:e.medications.map(m=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2",children:m.dosage}),r.jsx("td",{className:"py-2",children:m.frequency}),r.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),r.jsxs("table",{className:"w-full border-collapse mb-4",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),r.jsx("th",{className:"border-b py-2 text-right",children:"Quantité"}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),r.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,x=(m.cost||0)*g;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2 text-right",children:g}),r.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),r.jsx("td",{className:"py-2 text-right",children:x.toFixed(2)})]},m.id)})}),r.jsx("tfoot",{children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),r.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const N5e=()=>{var oe,Q;const{consultations:e,prescriptions:t,getClientById:n,getPetById:s}=jt(),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,u]=w.useState("all"),[d,f]=w.useState("all"),[m,g]=w.useState(""),[x,v]=w.useState("cards"),[y,N]=w.useState(!1),[j,b]=w.useState(null),[_,C]=w.useState(!1),[A,P]=w.useState(null),[E,M]=w.useState(!1),[$,k]=w.useState(null),O=[...e.map(D=>{var ae;return{id:D.id,date:D.date,petName:D.petName,petType:((ae=s(D.petId))==null?void 0:ae.type)||"",client:D.clientName,type:"consultation",title:D.diagnosis||"Consultation",veterinarian:D.notes||"Non spécifié",details:D.symptoms||"",prescriptions:[],cost:D.cost,status:"completed"}})].sort((D,ae)=>new Date(ae.date).getTime()-new Date(D.date).getTime()),L=t.map(D=>{var ae,pe;return{id:D.id,date:D.date,petName:D.petName,client:D.clientName,medication:D.medications.map(te=>te.name).join(", "),dosage:((ae=D.medications[0])==null?void 0:ae.dosage)||"",frequency:((pe=D.medications[0])==null?void 0:pe.frequency)||"",duration:D.duration,veterinarian:D.prescribedBy,status:D.status}}),z=O.filter(D=>{const ae=D.petName.toLowerCase().includes(i.toLowerCase())||D.client.toLowerCase().includes(i.toLowerCase())||D.title.toLowerCase().includes(i.toLowerCase()),pe=o==="all"||D.petName.toLowerCase().includes(o.toLowerCase()),te=c==="all"||D.type===c;let Z=!0;if(d==="today"){const ne=new Date().toISOString().split("T")[0];Z=D.date===ne}else if(d==="week"){const ne=new Date(D.date),xe=new Date,ye=xe.getDay(),se=xe.getDate()-ye+(ye===0?-6:1),F=new Date(xe.setDate(se)),Y=new Date(F);Y.setDate(F.getDate()+6),Z=ne>=F&&ne<=Y}else d==="specific"&&(Z=m&&D.date===m);return ae&&pe&&te&&Z}),J=L.filter(D=>{const ae=D.petName.toLowerCase().includes(i.toLowerCase())||D.client.toLowerCase().includes(i.toLowerCase())||D.medication.toLowerCase().includes(i.toLowerCase()),pe=o==="all"||D.petName.toLowerCase().includes(o.toLowerCase()),te=c==="all"||!0;let Z=!0;if(d==="today"){const ne=new Date().toISOString().split("T")[0];Z=D.date===ne}else if(d==="week"){const ne=new Date(D.date),xe=new Date,ye=xe.getDay(),se=xe.getDate()-ye+(ye===0?-6:1),F=new Date(xe.setDate(se)),Y=new Date(F);Y.setDate(F.getDate()+6),Z=ne>=F&&ne<=Y}else d==="specific"&&(Z=m&&D.date===m);return ae&&pe&&te&&Z}),H={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Historique Médical"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(q,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, animal, diagnostic...",value:i,onChange:D=>a(D.target.value)}),r.jsxs(Me,{value:o,onValueChange:l,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Filtrer par animal"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous les animaux"}),Array.from(new Set(O.map(D=>D.petName))).map(D=>r.jsx(V,{value:D,children:D},D))]})]}),r.jsxs(Me,{value:c,onValueChange:u,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Filtrer par type"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous types"}),r.jsx(V,{value:"consultation",children:"Consultations"}),r.jsx(V,{value:"treatment",children:"Traitements"}),r.jsx(V,{value:"surgery",children:"Chirurgies"})]})]}),r.jsxs(Me,{value:d,onValueChange:f,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Période"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Toute période"}),r.jsx(V,{value:"today",children:"Aujourd'hui"}),r.jsx(V,{value:"week",children:"Cette semaine"}),r.jsx(V,{value:"specific",children:"Date spécifique"})]})]})]}),d==="specific"&&r.jsx(ie,{type:"date",value:m,onChange:D=>g(D.target.value),className:"max-w-xs"})]})]}),r.jsxs(ml,{defaultValue:"medical",className:"space-y-4",children:[r.jsxs(yo,{className:"grid w-full grid-cols-2",children:[r.jsxs(on,{value:"medical",className:"gap-2",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Historique Médical"]}),r.jsxs(on,{value:"prescriptions",className:"gap-2",children:[r.jsx(Kt,{className:"h-4 w-4"}),"Prescriptions"]})]}),r.jsxs(ln,{value:"medical",className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",z.length," entrées)"]})}),x==="cards"?r.jsx("div",{className:"grid gap-6",children:z.map(D=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(D.date).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:D.type})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:D.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Kt,{className:"h-3 w-3"}),D.petName]}),r.jsxs("span",{children:["Client: ",D.client]}),r.jsxs("span",{children:["Vétérinaire: ",D.veterinarian]})]})]}),D.details&&r.jsx("p",{className:"text-sm text-muted-foreground",children:D.details}),D.cost&&r.jsx("div",{className:"text-sm",children:r.jsxs("span",{className:"font-medium",children:["Coût: ",D.cost," MAD"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{b(D),N(!0)},children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})]})]})})},D.id))}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Titre"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Vétérinaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:z.map(D=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date(D.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:"text-xs",children:D.type})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:D.title}),D.details&&r.jsx("div",{className:"text-sm text-muted-foreground",children:D.details})]}),r.jsx("td",{className:"p-4",children:D.petName}),r.jsx("td",{className:"p-4",children:D.client}),r.jsx("td",{className:"p-4",children:D.veterinarian}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{b(D),N(!0)},children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})]})})]},D.id))})]})})})})]}),r.jsxs(ln,{value:"prescriptions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",J.length," entrées)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(q,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]})]})]}),x==="cards"?J.map(D=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(D.date).toLocaleDateString("fr-FR")})]}),r.jsx($e,{variant:"outline",className:H[D.status],children:D.status==="active"?"Actif":D.status==="completed"?"Terminé":"Arrêté"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:D.medication}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Kt,{className:"h-3 w-3"}),D.petName]}),r.jsxs("span",{children:["Client: ",D.client]}),r.jsxs("span",{children:["Prescrit par: ",D.veterinarian]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dosage:"})," ",D.dosage]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",D.frequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",D.duration]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{P(D),C(!0)},children:"Renouveler"}),r.jsx(gP,{prescription:t.find(ae=>ae.id===D.id)}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{const ae=t.find(pe=>pe.id===D.id);k(ae),M(!0)},children:"Facture"})]})]})})},D.id)):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Médicament"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),r.jsx("th",{className:"p-4 font-medium",children:"Durée"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:J.map(D=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date(D.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:H[D.status],children:D.status==="active"?"Actif":D.status==="completed"?"Terminé":"Arrêté"})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:D.medication}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",D.veterinarian]})]}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"h-4 w-4 text-primary"}),D.petName]})}),r.jsx("td",{className:"p-4",children:D.client}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{children:D.dosage}),r.jsx("div",{className:"text-muted-foreground",children:D.frequency})]})}),r.jsx("td",{className:"p-4",children:D.duration}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{P(D),C(!0)},children:"Renouveler"}),r.jsx(gP,{prescription:t.find(ae=>ae.id===D.id)}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{const ae=t.find(pe=>pe.id===D.id);k(ae),M(!0)},children:"Facture"})]})})]},D.id))})]})})})})]})]}),r.jsx(b5e,{consultation:j,open:y,onOpenChange:N,onEdit:()=>{}}),(A==null?void 0:A.id)&&r.jsx($T,{open:_,onOpenChange:C,petId:((Q=(oe=t.find(D=>D.id===(A==null?void 0:A.id)))==null?void 0:oe.petId)==null?void 0:Q.toString())||"",consultationId:A.id.toString()}),r.jsx(St,{open:E,onOpenChange:M,children:r.jsx(wt,{children:$&&r.jsx(w5e,{prescription:$})})})]})},x9=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:s}=Ft(),i=w.useRef(null),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({description:"",category:"general"}),g=_=>{const C=_.target.files;if(!C||C.length===0)return;const A=Array.from(C).map(P=>{const E=new FileReader,M={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:f.description||`Photo de ${n}`,category:f.category,uploadedAt:new Date().toISOString()};return E.onload=$=>{var O;M.url=(O=$.target)==null?void 0:O.result;const k=[...e,M];t(k)},E.readAsDataURL(P),M});m({description:"",category:"general"}),o(!1),s({title:"Photos ajoutées",description:`${A.length} photo(s) ajoutée(s) à l'exploitation ${n}`})},x=_=>{const C=e.filter(A=>A.id!==_);t(C),s({title:"Photo supprimée",description:"La photo a été supprimée avec succès"})},v=_=>{d(_),m({description:_.description,category:_.category}),c(!0)},y=()=>{if(!u)return;const _=e.map(C=>C.id===u.id?{...C,...f}:C);t(_),c(!1),d(null),m({description:"",category:"general"}),s({title:"Photo modifiée",description:"La photo a été modifiée avec succès"})},N=_=>({cheptel:"Cheptel",batiments:"Bâtiments",equipements:"Équipements",general:"Général"})[_],j=_=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[_],b=e.reduce((_,C)=>(_[C.category]||(_[C.category]=[]),_[C.category].push(C),_),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les photos de votre exploitation, du cheptel et des équipements"})]}),r.jsxs(St,{open:a,onOpenChange:o,children:[r.jsx(Ic,{asChild:!0,children:r.jsxs(q,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Ajouter des photos"]})}),r.jsxs(wt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Ajouter des photos"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"photo-description",children:"Description"}),r.jsx(ie,{id:"photo-description",placeholder:"Description des photos",value:f.description,onChange:_=>m({...f,description:_.target.value})})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"photo-category",children:"Catégorie"}),r.jsxs(Me,{value:f.category,onValueChange:_=>m({...f,category:_}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"cheptel",children:"Cheptel"}),r.jsx(V,{value:"batiments",children:"Bâtiments"}),r.jsx(V,{value:"equipements",children:"Équipements"}),r.jsx(V,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"photo-files",children:"Sélectionner des photos"}),r.jsx(ie,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:i,onChange:g,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center",children:[r.jsx(ef,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):r.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([_,C])=>r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx($e,{className:j(_),children:N(_)}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",C.length," photo",C.length>1?"s":"",")"]})]})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(A=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:A.url,alt:A.description,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(q,{size:"sm",variant:"secondary",onClick:()=>d(A),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"secondary",onClick:()=>v(A),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"destructive",onClick:()=>x(A.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:A.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.uploadedAt).toLocaleDateString()})]})]},A.id))})})]},_))}),r.jsx(St,{open:l,onOpenChange:c,children:r.jsxs(wt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier la photo"})}),r.jsxs("div",{className:"space-y-4",children:[u&&r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:r.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"edit-description",children:"Description"}),r.jsx(ie,{id:"edit-description",value:f.description,onChange:_=>m({...f,description:_.target.value})})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"edit-category",children:"Catégorie"}),r.jsxs(Me,{value:f.category,onValueChange:_=>m({...f,category:_}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"cheptel",children:"Cheptel"}),r.jsx(V,{value:"batiments",children:"Bâtiments"}),r.jsx(V,{value:"equipements",children:"Équipements"}),r.jsx(V,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(q,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(q,{onClick:y,children:"Enregistrer"})]})]})]})})]})},S5e=({open:e,onOpenChange:t})=>{var N,j,b,_,C,A;const{addFarm:n}=jt(),{settings:s}=Jt(),{toast:i}=Ft(),[a,o]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!s.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(wt,{children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(jn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(P,E)=>{if(P.includes(".")){const[M,$]=P.split(".");o(k=>{const O=k[M];return{...k,[M]:{...O,[$]:E}}})}else o(M=>({...M,[P]:E}))},d=P=>{o(E=>{var M;return{...E,types:(M=E.types)!=null&&M.includes(P)?E.types.filter($=>$!==P):[...E.types||[],P]}})},f=P=>{o(E=>{var M;return{...E,certifications:(M=E.certifications)!=null&&M.includes(P)?E.certifications.filter($=>$!==P):[...E.certifications||[],P]}})},m=()=>{if(!l.category){i({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}o(P=>({...P,animalDetails:[...P.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=P=>{o(E=>{var M;return{...E,animalDetails:((M=E.animalDetails)==null?void 0:M.filter(($,k)=>k!==P))||[]}})},x=P=>{c(E=>({...E,breeds:[...E.breeds,P]}))},v=P=>{c(E=>({...E,breeds:E.breeds.filter(M=>M!==P)}))},y=P=>{var M;if(P.preventDefault(),!a.name||!a.owner||!a.address||!((M=a.types)!=null&&M.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const E={name:a.name,owner:a.owner,ownerIdNumber:a.ownerIdNumber||"",address:a.address,coordinates:a.coordinates||{latitude:0,longitude:0},phone:a.phone||"",email:a.email||"",types:a.types||[],totalAnimals:(a.animalDetails||[]).reduce(($,k)=>$+k.maleCount+k.femaleCount,0),animalDetails:a.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:a.status||"active",veterinarian:a.veterinarian||"",notes:a.notes||"",registrationNumber:a.registrationNumber||"",surfaceArea:a.surfaceArea||0,buildingDetails:a.buildingDetails||"",equipmentDetails:a.equipmentDetails||"",certifications:a.certifications||[],insuranceDetails:a.insuranceDetails||"",emergencyContact:a.emergencyContact||{name:"",phone:"",relation:""}};n(E),i({title:"Succès",description:"Nouvelle exploitation créée avec succès"}),t(!1)};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Exploitation Agricole"}),r.jsx(jn,{children:"Créez une nouvelle exploitation agricole avec toutes les informations détaillées"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Informations générales"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(ie,{id:"name",value:a.name||"",onChange:P=>u("name",P.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(ie,{id:"owner",value:a.owner||"",onChange:P=>u("owner",P.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(ie,{id:"ownerIdNumber",value:a.ownerIdNumber||"",onChange:P=>u("ownerIdNumber",P.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse *"}),r.jsx(ie,{id:"address",value:a.address||"",onChange:P=>u("address",P.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"latitude",children:"Latitude"}),r.jsx(ie,{id:"latitude",type:"number",step:"0.0001",value:((N=a.coordinates)==null?void 0:N.latitude)||"",onChange:P=>u("coordinates.latitude",parseFloat(P.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"longitude",children:"Longitude"}),r.jsx(ie,{id:"longitude",type:"number",step:"0.0001",value:((j=a.coordinates)==null?void 0:j.longitude)||"",onChange:P=>u("coordinates.longitude",parseFloat(P.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:a.phone||"",onChange:P=>u("phone",P.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:a.email||"",onChange:P=>u("email",P.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(ie,{id:"veterinarian",value:a.veterinarian||"",onChange:P=>u("veterinarian",P.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:a.status,onValueChange:P=>u("status",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"active",children:"Active"}),r.jsx(V,{value:"attention",children:"Attention"}),r.jsx(V,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Types d'élevage *"})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.farmTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yi,{id:`type-${P}`,checked:((E=a.types)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>d(P)}),r.jsx(B,{htmlFor:`type-${P}`,children:P})]},P)})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Détails du cheptel"})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Catégorie"}),r.jsxs(Me,{value:l.category,onValueChange:P=>c(E=>({...E,category:P})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner"})}),r.jsx(De,{children:s.farmManagement.animalCategories.map(P=>r.jsx(V,{value:P,children:P},P))})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Mâles"}),r.jsx(ie,{type:"number",value:l.maleCount,onChange:P=>c(E=>({...E,maleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Femelles"}),r.jsx(ie,{type:"number",value:l.femaleCount,onChange:P=>c(E=>({...E,femaleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(q,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),l.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(B,{children:["Races pour ",l.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(b=s.farmManagement.breedsByCategory[l.category])==null?void 0:b.map(P=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yi,{id:`breed-${P}`,checked:l.breeds.includes(P),onCheckedChange:()=>{l.breeds.includes(P)?v(P):x(P)}}),r.jsx(B,{htmlFor:`breed-${P}`,children:P})]},P))})]}),a.animalDetails&&a.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(B,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:a.animalDetails.map((P,E)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx($e,{variant:"secondary",children:P.category}),r.jsxs("span",{className:"ml-2",children:[P.maleCount," mâles, ",P.femaleCount," femelles"]}),P.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",P.breeds.join(", ")]})]}),r.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:()=>g(E),children:"Supprimer"})]},E))})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Informations administratives"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(ie,{id:"registrationNumber",value:a.registrationNumber||"",onChange:P=>u("registrationNumber",P.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(ie,{id:"surfaceArea",type:"number",step:"0.1",value:a.surfaceArea||"",onChange:P=>u("surfaceArea",parseFloat(P.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(Nt,{id:"buildingDetails",value:a.buildingDetails||"",onChange:P=>u("buildingDetails",P.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(Nt,{id:"equipmentDetails",value:a.equipmentDetails||"",onChange:P=>u("equipmentDetails",P.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Certifications"})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.certificationTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yi,{id:`cert-${P}`,checked:((E=a.certifications)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>f(P)}),r.jsx(B,{htmlFor:`cert-${P}`,children:P})]},P)})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Assurance et contact d'urgence"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(ie,{id:"insuranceDetails",value:a.insuranceDetails||"",onChange:P=>u("insuranceDetails",P.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(ie,{id:"emergencyName",value:((_=a.emergencyContact)==null?void 0:_.name)||"",onChange:P=>u("emergencyContact.name",P.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(ie,{id:"emergencyPhone",value:((C=a.emergencyContact)==null?void 0:C.phone)||"",onChange:P=>u("emergencyContact.phone",P.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(ie,{id:"emergencyRelation",value:((A=a.emergencyContact)==null?void 0:A.relation)||"",onChange:P=>u("emergencyContact.relation",P.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Photos de l'exploitation"})}),r.jsx(fe,{children:r.jsx(x9,{photos:a.photos||[],onPhotosChange:P=>u("photos",P),farmName:a.name||"Nouvelle exploitation"})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Notes complémentaires"})}),r.jsx(fe,{children:r.jsx(Nt,{value:a.notes||"",onChange:P=>u("notes",P.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Créer l'exploitation"})]})]})]})})},C5e=({open:e,onOpenChange:t,farmId:n,farmName:s})=>{const{addFarmIntervention:i,farms:a}=jt(),{toast:o}=Ft(),[l,c]=w.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});w.useEffect(()=>{if(e){const m=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:s||"",date:m,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,s]);const u=(m,g)=>{c(x=>({...x,[m]:g}))},{settings:d}=Jt(),f=m=>{if(m.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const g=a.find(v=>v.id===parseInt(l.farmId));if(!g){o({title:"Erreur",description:"Exploitation non trouvée",variant:"destructive"});return}const x={farmId:parseInt(l.farmId),farmName:g.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};i(x),o({title:"Succès",description:"Intervention programmée avec succès"}),t(!1)};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Intervention"}),r.jsx(jn,{children:"Programmez une nouvelle intervention vétérinaire"})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"farmId",children:"Exploitation *"}),r.jsxs(Me,{value:l.farmId,onValueChange:m=>{const g=a.find(x=>x.id===parseInt(m));u("farmId",m),u("farmName",(g==null?void 0:g.name)||"")},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une exploitation"})}),r.jsx(De,{children:a.map(m=>r.jsx(V,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:l.date,onChange:m=>u("date",m.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"type",children:"Type d'intervention *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>u("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner un type"})}),r.jsxs(De,{children:[r.jsx(V,{value:"vaccination",children:"Vaccination"}),r.jsx(V,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(V,{value:"urgence",children:"Urgence"}),r.jsx(V,{value:"chirurgie",children:"Chirurgie"}),r.jsx(V,{value:"prevention",children:"Prévention"}),r.jsx(V,{value:"consultation",children:"Consultation"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:l.status,onValueChange:m=>u("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"scheduled",children:"Programmée"}),r.jsx(V,{value:"ongoing",children:"En cours"}),r.jsx(V,{value:"completed",children:"Terminée"}),r.jsx(V,{value:"cancelled",children:"Annulée"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"animals",children:"Animaux concernés"}),r.jsx(ie,{id:"animals",value:l.animals,onChange:m=>u("animals",m.target.value),placeholder:"15 bovins, 50 poules..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsx(ie,{id:"veterinarian",value:l.veterinarian,onChange:m=>u("veterinarian",m.target.value),placeholder:"Dr. Dupont"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"description",children:"Description *"}),r.jsx(Nt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Détails de l'intervention...",rows:3,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"cost",children:["Coût (",d.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",value:l.cost,onChange:m=>u("cost",m.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUp",children:"Suivi"}),r.jsx(ie,{id:"followUp",value:l.followUp,onChange:m=>u("followUp",m.target.value),placeholder:"Contrôle dans 6 mois"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:l.notes,onChange:m=>u("notes",m.target.value),placeholder:"Informations complémentaires...",rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Programmer Intervention"})]})]})]})})},_5e=({farm:e,open:t,onOpenChange:n,onEdit:s,onNewIntervention:i})=>{var u;const{getFarmInterventionsByFarmId:a}=jt();if(!e)return null;const o=a(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return r.jsx(er,{className:"h-4 w-4"});case"attention":return r.jsx(qn,{className:"h-4 w-4"});case"urgent":return r.jsx(qn,{className:"h-4 w-4 text-red-600"});default:return r.jsx($n,{className:"h-4 w-4"})}};return r.jsx(St,{open:t,onOpenChange:n,children:r.jsxs(wt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[c(e.status),e.name,r.jsx($e,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),r.jsx(jn,{children:"Détails complets de l'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ene,{className:"h-5 w-5"}),"Informations Générales"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propriétaire"}),r.jsx("p",{className:"font-medium",children:e.owner})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'élevage"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>r.jsx($e,{variant:"secondary",children:d},d))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),r.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assigné"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernière visite"}),r.jsx("p",{className:"font-medium",children:co(e.lastVisit)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de création"}),r.jsx("p",{className:"font-medium",children:co(e.createdAt)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(ld,{className:"h-3 w-3"}),"Adresse"]}),r.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnées GPS"}),r.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),"Téléphone"]}),r.jsx("p",{className:"font-medium",children:e.phone||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(zf,{className:"h-3 w-3"}),"Email"]}),r.jsx("p",{className:"font-medium",children:e.email||"Non renseigné"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(tne,{className:"h-5 w-5"}),"Détails du Cheptel"]})}),r.jsx(fe,{children:r.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx($e,{variant:"secondary",children:d.category}),r.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Mâles:"})," ",d.maleCount]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},f))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx($te,{className:"h-5 w-5"}),"Informations Administratives"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N° d'immatriculation"}),r.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),r.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bâtiments"}),r.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Équipements"}),r.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ji,{className:"h-5 w-5"}),"Certifications"]})}),r.jsx(fe,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>r.jsx($e,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),r.jsxs(fe,{className:"space-y-4",children:[e.insuranceDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),r.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Téléphone"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Notes"})}),r.jsx(fe,{children:r.jsx("p",{className:"text-sm",children:e.notes})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Détails du Cheptel"})}),r.jsx(fe,{children:e.animalDetails&&e.animalDetails.length>0?r.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-lg",children:d.category}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),r.jsxs($e,{variant:"outline",children:[d.maleCount," mâles"]}),r.jsxs($e,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((m,g)=>r.jsx($e,{variant:"outline",className:"mr-1 text-xs",children:m},g))]}),d.ageGroups&&d.ageGroups.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'âge: "}),d.ageGroups.map((m,g)=>r.jsx($e,{variant:"outline",className:"mr-1 text-xs",children:m},g))]})]},f))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun détail de cheptel configuré pour cette exploitation"})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Photos de l'exploitation"})}),r.jsx(fe,{children:e.photos&&e.photos.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx($e,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Bâtiments":d.category==="equipements"?"Équipements":"Général"})})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ef,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent être ajoutées lors de la modification de l'exploitation"})]})})]}),r.jsxs(ml,{defaultValue:"interventions",className:"w-full",children:[r.jsx(yo,{className:"grid w-full grid-cols-1",children:r.jsxs(on,{value:"interventions",children:[r.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),r.jsx(ln,{value:"interventions",className:"space-y-4",children:r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Interventions vétérinaires"})}),r.jsx(fe,{children:o.length>0?r.jsx("div",{className:"space-y-2",children:o.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:d.type}),r.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:co(d.date)})]}),r.jsx($e,{variant:"outline",children:d.status})]},d.id))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistrée pour cette exploitation"})})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(q,{onClick:i,variant:"outline",children:"Nouvelle Intervention"}),r.jsx(q,{onClick:s,children:"Modifier"})]})]})})},P5e=({open:e,onOpenChange:t,farm:n})=>{var j,b,_,C,A,P;const{updateFarm:s}=jt(),{settings:i}=Jt(),{toast:a}=Ft(),[o,l]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!i.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(wt,{children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(jn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),w.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(E,M)=>{if(E.includes(".")){const[$,k]=E.split(".");l(O=>({...O,[$]:{...O[$],[k]:M}}))}else l($=>({...$,[E]:M}))},f=E=>{l(M=>{var $;return{...M,types:($=M.types)!=null&&$.includes(E)?M.types.filter(k=>k!==E):[...M.types||[],E]}})},m=E=>{l(M=>{var $;return{...M,certifications:($=M.certifications)!=null&&$.includes(E)?M.certifications.filter(k=>k!==E):[...M.certifications||[],E]}})},g=()=>{if(!c.category){a({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}l(E=>({...E,animalDetails:[...E.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},x=E=>{l(M=>{var $;return{...M,animalDetails:(($=M.animalDetails)==null?void 0:$.filter((k,O)=>O!==E))||[]}})},v=E=>{u(M=>({...M,breeds:[...M.breeds,E]}))},y=E=>{u(M=>({...M,breeds:M.breeds.filter($=>$!==E)}))},N=E=>{var $;if(E.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!(($=o.types)!=null&&$.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const M={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((k,O)=>k+O.maleCount+O.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};s(n.id,M),a({title:"Succès",description:"Exploitation mise à jour avec succès"}),t(!1)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier l'Exploitation"}),r.jsx(jn,{children:"Modifiez les informations de l'exploitation agricole"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Informations générales"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(ie,{id:"name",value:o.name||"",onChange:E=>d("name",E.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(ie,{id:"owner",value:o.owner||"",onChange:E=>d("owner",E.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(ie,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:E=>d("ownerIdNumber",E.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse *"}),r.jsx(ie,{id:"address",value:o.address||"",onChange:E=>d("address",E.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"latitude",children:"Latitude"}),r.jsx(ie,{id:"latitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.latitude)||"",onChange:E=>d("coordinates.latitude",parseFloat(E.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"longitude",children:"Longitude"}),r.jsx(ie,{id:"longitude",type:"number",step:"0.0001",value:((b=o.coordinates)==null?void 0:b.longitude)||"",onChange:E=>d("coordinates.longitude",parseFloat(E.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:o.phone||"",onChange:E=>d("phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:o.email||"",onChange:E=>d("email",E.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(ie,{id:"veterinarian",value:o.veterinarian||"",onChange:E=>d("veterinarian",E.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:o.status,onValueChange:E=>d("status",E),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"active",children:"Active"}),r.jsx(V,{value:"attention",children:"Attention"}),r.jsx(V,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Types d'élevage *"})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.farmTypes.map(E=>{var M;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yi,{id:`type-${E}`,checked:((M=o.types)==null?void 0:M.includes(E))||!1,onCheckedChange:()=>f(E)}),r.jsx(B,{htmlFor:`type-${E}`,children:E})]},E)})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Détails du cheptel"})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(B,{children:"Catégorie"}),r.jsxs(Me,{value:c.category,onValueChange:E=>u(M=>({...M,category:E})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner"})}),r.jsx(De,{children:i.farmManagement.animalCategories.map(E=>r.jsx(V,{value:E,children:E},E))})]})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Mâles"}),r.jsx(ie,{type:"number",value:c.maleCount,onChange:E=>u(M=>({...M,maleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(B,{children:"Femelles"}),r.jsx(ie,{type:"number",value:c.femaleCount,onChange:E=>u(M=>({...M,femaleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(q,{type:"button",onClick:g,className:"w-full",children:"Ajouter"})})]}),c.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(B,{children:["Races pour ",c.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(_=i.farmManagement.breedsByCategory[c.category])==null?void 0:_.map(E=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yi,{id:`breed-${E}`,checked:c.breeds.includes(E),onCheckedChange:()=>{c.breeds.includes(E)?y(E):v(E)}}),r.jsx(B,{htmlFor:`breed-${E}`,children:E})]},E))})]}),o.animalDetails&&o.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(B,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((E,M)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx($e,{variant:"secondary",children:E.category}),r.jsxs("span",{className:"ml-2",children:[E.maleCount," mâles, ",E.femaleCount," femelles"]}),E.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",E.breeds.join(", ")]})]}),r.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:()=>x(M),children:"Supprimer"})]},M))})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Informations administratives"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(ie,{id:"registrationNumber",value:o.registrationNumber||"",onChange:E=>d("registrationNumber",E.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(ie,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:E=>d("surfaceArea",parseFloat(E.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(Nt,{id:"buildingDetails",value:o.buildingDetails||"",onChange:E=>d("buildingDetails",E.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(Nt,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:E=>d("equipmentDetails",E.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Certifications"})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.certificationTypes.map(E=>{var M;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yi,{id:`cert-${E}`,checked:((M=o.certifications)==null?void 0:M.includes(E))||!1,onCheckedChange:()=>m(E)}),r.jsx(B,{htmlFor:`cert-${E}`,children:E})]},E)})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Assurance et contact d'urgence"})}),r.jsxs(fe,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(B,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(ie,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:E=>d("insuranceDetails",E.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(ie,{id:"emergencyName",value:((C=o.emergencyContact)==null?void 0:C.name)||"",onChange:E=>d("emergencyContact.name",E.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(ie,{id:"emergencyPhone",value:((A=o.emergencyContact)==null?void 0:A.phone)||"",onChange:E=>d("emergencyContact.phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(ie,{id:"emergencyRelation",value:((P=o.emergencyContact)==null?void 0:P.relation)||"",onChange:E=>d("emergencyContact.relation",E.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Photos de l'exploitation"})}),r.jsx(fe,{children:r.jsx(x9,{photos:o.photos||[],onPhotosChange:E=>d("photos",E),farmName:o.name||"Exploitation"})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Notes complémentaires"})}),r.jsx(fe,{children:r.jsx(Nt,{value:o.notes||"",onChange:E=>d("notes",E.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Mettre à jour l'exploitation"})]})]})]})}):null},A5e=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:s,farms:i}=jt(),{toast:a}=Ft(),[o,l]=w.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});w.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=f=>{if(f.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};s(n.id,m),a({title:"Succès",description:"Intervention mise à jour avec succès"}),t(!1)};if(!n)return null;const d=i.find(f=>f.id===parseInt(o.farmId));return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier l'Intervention"}),r.jsxs(jn,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Exploitation *"}),r.jsxs(Me,{value:o.farmId,onValueChange:f=>c("farmId",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner l'exploitation"})}),r.jsx(De,{children:i.map(f=>r.jsxs(V,{value:f.id.toString(),children:[f.name," - ",f.owner]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Type d'intervention *"}),r.jsxs(Me,{value:o.type,onValueChange:f=>c("type",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner le type"})}),r.jsxs(De,{children:[r.jsx(V,{value:"vaccination",children:"Vaccination"}),r.jsx(V,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(V,{value:"urgence",children:"Urgence"}),r.jsx(V,{value:"chirurgie",children:"Chirurgie"}),r.jsx(V,{value:"prevention",children:"Prévention"}),r.jsx(V,{value:"consultation",children:"Consultation"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:o.date,onChange:f=>c("date",f.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Statut"}),r.jsxs(Me,{value:o.status,onValueChange:f=>c("status",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"scheduled",children:"Programmé"}),r.jsx(V,{value:"ongoing",children:"En cours"}),r.jsx(V,{value:"completed",children:"Terminé"}),r.jsx(V,{value:"cancelled",children:"Annulé"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"animals",children:"Animaux concernés *"}),r.jsx(ie,{id:"animals",value:o.animals,onChange:f=>c("animals",f.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(ie,{id:"veterinarian",value:o.veterinarian,onChange:f=>c("veterinarian",f.target.value),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"description",children:"Description *"}),r.jsx(Nt,{id:"description",value:o.description,onChange:f=>c("description",f.target.value),rows:3,placeholder:"Détails de l'intervention, observations, traitements...",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(Nt,{id:"followUp",value:o.followUp,onChange:f=>c("followUp",f.target.value),rows:2,placeholder:"Recommandations, prochain contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"cost",children:"Coût (€)"}),r.jsx(ie,{id:"cost",type:"number",value:o.cost,onChange:f=>c("cost",f.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",d.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",d.owner]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",d.type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:"Mettre à jour"})]})]})]})})},E5e=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:s,getFarmsByStatus:i,getUpcomingFarmInterventions:a}=jt(),{toast:o}=Ft(),{currentView:l}=xd("farms"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState(l),[x,v]=w.useState(!1),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[_,C]=w.useState(!1),[A,P]=w.useState(!1),[E,M]=w.useState(null),[$,k]=w.useState(null),O=e.filter(ne=>{var se,F;const xe=ne.name.toLowerCase().includes(c.toLowerCase())||ne.owner.toLowerCase().includes(c.toLowerCase())||((se=ne.types)==null?void 0:se.some(Y=>Y.toLowerCase().includes(c.toLowerCase())))||!1,ye=d==="all"||((F=ne.types)==null?void 0:F.includes(d))||!1;return xe&&ye}),L={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},z={"Bovin laitier":"Élevage bovin laitier","Bovin viande":"Élevage bovin viande",Porcin:"Élevage porcin",Avicole:"Élevage avicole",Ovin:"Élevage ovin",Caprin:"Élevage caprin",Équin:"Élevage équin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"Élevage mixte"},J={vaccination:"Vaccination",controle:"Contrôle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prévention",consultation:"Consultation"},H=ne=>{M(ne),b(!0)},oe=ne=>{M(ne),C(!0)},Q=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette exploitation ?")&&(n(ne),o({title:"Succès",description:"Exploitation supprimée"}))},D=ne=>{N(!0)},ae=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette intervention ?")&&(s(ne),o({title:"Succès",description:"Intervention supprimée"}))},pe=ne=>{k(ne),P(!0)},te=i("attention").length+i("urgent").length,Z=a();return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les fermes, élevages et interventions vétérinaires"})]}),r.jsxs(q,{className:"gap-2 medical-glow",onClick:()=>v(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center",children:[r.jsx(WC,{className:"h-12 w-12 text-primary mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center",children:[r.jsx(qn,{className:"h-12 w-12 text-accent mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:te}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"p-6 text-center",children:[r.jsx(Pt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:Z.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions à venir"})]})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, propriétaire ou type...",value:c,onChange:ne=>u(ne.target.value),className:"max-w-md"}),r.jsxs(Me,{value:d,onValueChange:f,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Type d'élevage"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous types"}),r.jsx(V,{value:"Bovin laitier",children:"Élevage bovin laitier"}),r.jsx(V,{value:"Bovin viande",children:"Élevage bovin viande"}),r.jsx(V,{value:"Porcin",children:"Élevage porcin"}),r.jsx(V,{value:"Avicole",children:"Élevage avicole"}),r.jsx(V,{value:"Ovin",children:"Élevage ovin"}),r.jsx(V,{value:"Caprin",children:"Élevage caprin"}),r.jsx(V,{value:"Équin",children:"Élevage équin"}),r.jsx(V,{value:"Apiculture",children:"Apiculture"}),r.jsx(V,{value:"Aquaculture",children:"Aquaculture"}),r.jsx(V,{value:"Cuniculture",children:"Cuniculture"}),r.jsx(V,{value:"Mixte",children:"Élevage mixte"})]})]})]})})]}),r.jsxs(ml,{defaultValue:"farms",className:"space-y-6",children:[r.jsxs(yo,{className:"grid w-full grid-cols-2",children:[r.jsxs(on,{value:"farms",className:"gap-2",children:[r.jsx(WC,{className:"h-4 w-4"}),"Exploitations"]}),r.jsxs(on,{value:"interventions",className:"gap-2",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Interventions"]})]}),r.jsxs(ln,{value:"farms",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",O.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[r.jsx(sl,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(q,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(q,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),O.length===0?r.jsx(he,{children:r.jsx(fe,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouvée"})}):m==="cards"?O.map(ne=>{var xe;return r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-xl font-semibold",children:ne.name}),r.jsx($e,{variant:"outline",className:L[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",ne.owner]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(ld,{className:"h-3 w-3"}),ne.address]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),ne.phone]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Types:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(xe=ne.types)==null?void 0:xe.map(ye=>r.jsx($e,{variant:"secondary",className:"text-xs",children:z[ye]||ye},ye))})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animaux:"})," ",ne.totalAnimals]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vétérinaire:"})," ",ne.veterinarian]})]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière visite: ",co(ne.lastVisit)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>H(ne),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>oe(ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",onClick:()=>D(),children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"destructive",onClick:()=>Q(ne.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]})})},ne.id)}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:O.map(ne=>{var xe;return r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ne.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:ne.address})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ne.owner}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vét: ",ne.veterinarian]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:(xe=ne.types)==null?void 0:xe.map(ye=>r.jsx($e,{variant:"secondary",className:"text-xs",children:z[ye]||ye},ye))})}),r.jsx("td",{className:"p-4",children:r.jsx($e,{variant:"outline",className:L[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})}),r.jsx("td",{className:"p-4",children:ne.totalAnimals}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tf,{className:"h-3 w-3"}),ne.phone]}),r.jsxs("div",{className:"text-muted-foreground",children:["Dernière visite: ",co(ne.lastVisit)]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>H(ne),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>oe(ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",onClick:()=>D(),children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"destructive",onClick:()=>Q(ne.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})})]},ne.id)})})]})})})})]}),r.jsxs(ln,{value:"interventions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions récentes (",t.length,")"]}),r.jsxs(q,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?r.jsx(he,{children:r.jsx(fe,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistrée"})}):t.map(ne=>r.jsx(he,{className:"card-hover",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:J[ne.type]}),r.jsx($e,{variant:"outline",className:ne.status==="completed"?"bg-green-100 text-green-800":ne.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:ne.status==="completed"?"Terminé":ne.status==="ongoing"?"En cours":ne.status==="scheduled"?"Programmé":"Annulé"})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-3 w-3"}),co(ne.date)]}),r.jsx("span",{children:ne.farmName}),r.jsx("span",{children:ne.veterinarian})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Animaux concernés:"})," ",ne.animals]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Suivi:"})," ",ne.followUp||"Aucun"]})]}),r.jsx("p",{className:"text-sm",children:ne.description}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsx(q,{size:"sm",variant:"outline",children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>pe(ne),children:r.jsx(en,{className:"h-4 w-4"})}),ne.status==="ongoing"&&r.jsx(q,{size:"sm",children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"destructive",onClick:()=>ae(ne.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]})})},ne.id))]})]}),r.jsx(S5e,{open:x,onOpenChange:v}),r.jsx(C5e,{open:y,onOpenChange:N,farmId:E==null?void 0:E.id,farmName:E==null?void 0:E.name}),r.jsx(_5e,{farm:E,open:j,onOpenChange:b,onEdit:()=>oe(E),onNewIntervention:()=>{b(!1),N(!0)}}),r.jsx(P5e,{farm:E,open:_,onOpenChange:C}),r.jsx(A5e,{intervention:$,open:A,onOpenChange:P})]})};var Ow="Switch",[T5e,R6e]=Zs(Ow),[k5e,O5e]=T5e(Ow),y9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=w.useState(null),x=Qt(t,b=>g(b)),v=w.useRef(!1),y=m?d||!!m.closest("form"):!0,[N,j]=po({prop:i,defaultProp:a??!1,onChange:u,caller:Ow});return r.jsxs(k5e,{scope:n,checked:N,disabled:l,children:[r.jsx(st.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":N9(N),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:He(e.onClick,b=>{j(_=>!_),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&r.jsx(w9,{control:m,bubbles:!v.current,name:s,value:c,checked:N,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});y9.displayName=Ow;var j9="SwitchThumb",b9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=O5e(j9,n);return r.jsx(st.span,{"data-state":N9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});b9.displayName=j9;var D5e="SwitchBubbleInput",w9=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=w.useRef(null),l=Qt(o,a),c=uE(n),u=OA(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const x=new Event("click",{bubbles:s});g.call(d,n),d.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});w9.displayName=D5e;function N9(e){return e?"checked":"unchecked"}var S9=y9,M5e=b9;const Lr=w.forwardRef(({className:e,...t},n)=>r.jsx(S9,{className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(M5e,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Lr.displayName=S9.displayName;function GS({children:e,protocol:t,mode:n}){const{addVaccinationProtocol:s,updateVaccinationProtocol:i}=jt(),{settings:a}=Jt(),{toast:o}=Ft(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0});w.useEffect(()=>{n==="edit"&&t&&d({name:t.name,species:t.species,vaccineType:t.vaccineType,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals||[],ageRequirement:t.ageRequirement||"",notes:t.notes||"",isActive:t.isActive})},[n,t]);const f=g=>{if(g.preventDefault(),!u.name||!u.species||!u.vaccineType||!u.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n==="create"?(s({name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole créé",description:`Le protocole ${u.name} a été créé avec succès`})):t&&(i(t.id,{name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole modifié",description:`Le protocole ${u.name} a été modifié avec succès`})),d({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0}),c(!1)},m=a.species?a.species.split(",").map(g=>g.trim()):["Chien","Chat","Furet","Lapin","Oiseau","Rongeur"];return r.jsxs(St,{open:l,onOpenChange:c,children:[r.jsx(Ic,{asChild:!0,children:e||r.jsxs(q,{className:"gap-2",children:[n==="create"?r.jsx(ht,{className:"h-4 w-4"}):r.jsx(en,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(ji,{className:"h-5 w-5"}),n==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"name",children:"Nom du vaccin *"}),r.jsx(ie,{id:"name",value:u.name,onChange:g=>d(x=>({...x,name:g.target.value})),placeholder:"Ex: DHPP, FVRCP, Rage...",required:!0})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:u.species,onValueChange:g=>d(x=>({...x,species:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une espèce"})}),r.jsx(De,{children:m.map(g=>r.jsx(V,{value:g,children:g},g))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vaccineType",children:"Type de vaccin *"}),r.jsxs(Me,{value:u.vaccineType,onValueChange:g=>d(x=>({...x,vaccineType:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de vaccin"})}),r.jsxs(De,{children:[r.jsx(V,{value:"core",children:"Essentiel (Core)"}),r.jsx(V,{value:"non-core",children:"Optionnel (Non-core)"}),r.jsx(V,{value:"rabies",children:"Rage"}),r.jsx(V,{value:"custom",children:"Personnalisé"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:u.manufacturer,onChange:g=>d(x=>({...x,manufacturer:g.target.value})),placeholder:"Ex: Zoetis, Merial, Virbac..."})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"description",children:"Description *"}),r.jsx(Nt,{id:"description",value:u.description,onChange:g=>d(x=>({...x,description:g.target.value})),placeholder:"Description du vaccin et des maladies qu'il prévient...",rows:3,required:!0})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(B,{children:"Étapes du protocole"}),(u.intervals||[]).map((g,x)=>{let v=g.offsetDays,y="days";g.offsetDays%30===0&&g.offsetDays!==0?(v=g.offsetDays/30,y="months"):g.offsetDays%7===0&&g.offsetDays!==0&&(v=g.offsetDays/7,y="weeks");const N=`${v} ${y==="weeks"?"semaine(s)":y==="months"?"mois":"jour(s)"}`;return r.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[r.jsx(ie,{type:"number",min:0,value:v,onChange:j=>{const b=parseInt(j.target.value)||0,_=y==="weeks"?b*7:y==="months"?b*30:b;d(C=>{const A=[...C.intervals];return A[x].offsetDays=_,{...C,intervals:A}})}}),r.jsxs(Me,{value:y,onValueChange:j=>{const b=j,_=b==="weeks"?v*7:b==="months"?v*30:v;d(C=>{const A=[...C.intervals];return A[x].offsetDays=_,{...C,intervals:A}})},children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"days",children:"Jours"}),r.jsx(V,{value:"weeks",children:"Semaines"}),r.jsx(V,{value:"months",children:"Mois"})]})]}),r.jsx("div",{className:"p-2",children:N}),r.jsx(q,{type:"button",variant:"outline",size:"icon",onClick:()=>{d(j=>{const b=j.intervals.filter((_,C)=>C!==x);return{...j,intervals:b}})},children:"❌"})]},x)}),r.jsxs(q,{type:"button",variant:"outline",size:"sm",onClick:()=>d(g=>({...g,intervals:[...g.intervals||[],{offsetDays:0}]})),children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter une étape"]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"ageRequirement",children:"Âge requis"}),r.jsx(ie,{id:"ageRequirement",value:u.ageRequirement,onChange:g=>d(x=>({...x,ageRequirement:g.target.value})),placeholder:"Ex: À partir de 6 semaines"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes supplémentaires"}),r.jsx(Nt,{id:"notes",value:u.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),placeholder:"Informations complémentaires, contre-indications, etc...",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Lr,{id:"isActive",checked:u.isActive,onCheckedChange:g=>d(x=>({...x,isActive:g}))}),r.jsx(B,{htmlFor:"isActive",children:"Protocole actif"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsxs(q,{type:"submit",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),n==="create"?"Créer le protocole":"Modifier le protocole"]})]})]})]})]})}const q3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},W3=e=>{switch(e){case"completed":return r.jsx(er,{className:"h-4 w-4"});case"overdue":return r.jsx(qn,{className:"h-4 w-4"});case"scheduled":return r.jsx($n,{className:"h-4 w-4"});case"missed":return r.jsx(qn,{className:"h-4 w-4"});default:return r.jsx($n,{className:"h-4 w-4"})}},I5e=()=>{const{vaccinations:e,pets:t,clients:n}=jt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"vaccination",title:o.vaccineName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(LT,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Vaccinal",icon:r.jsx(Pt,{className:"h-5 w-5"})})};function $5e(){var gs;const{vaccinations:e,pets:t,clients:n,vaccinationProtocols:s,getVaccinationsByPetId:i,getOverdueVaccinations:a,getUpcomingVaccinations:o,getVaccinationsByStatus:l,getActiveVaccinationProtocols:c,getVaccinationProtocolsBySpecies:u,deleteVaccinationProtocol:d,deleteVaccination:f,updateVaccination:m}=jt(),{settings:g}=Jt(),{currentView:x}=xd("vaccinations"),{toast:v}=Ft(),[y,N]=w.useState(x),[j,b]=w.useState(""),[_,C]=w.useState("all"),[A,P]=w.useState("all"),[E,M]=w.useState("all"),[$,k]=w.useState("overview"),[O,L]=w.useState(!1),[z,J]=w.useState(null),[H,oe]=w.useState(null),[Q,D]=w.useState(null),[ae,pe]=w.useState(null),[te,Z]=w.useState(!1),[ne,xe]=w.useState(!1),[ye,se]=w.useState(null),F=w.useRef(null),[Y,ee]=w.useState(null),[G,I]=w.useState(!1),[ve,we]=w.useState(!1),[Fe,Be]=w.useState(null),[it,lt]=w.useState(""),ft=()=>{if(!Fe)return;const{id:Se,field:Vt}=Fe,tt=e.find(mt=>mt.id===Se);if(tt){const mt={...tt,[Vt]:it};m(Se,mt),v({title:"Modifié",description:`${Vt} mis à jour`})}Be(null)},Ne=RT.useReactToPrint({contentRef:F,onAfterPrint:()=>L(!1)}),Ge=(Se,Vt)=>{m(Se,{status:Vt}),D(null),v({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[Vt]}"`})},Ke=Se=>{pe(Se),Z(!0)},qt=Se=>{se(Se),xe(!0)},Yn=()=>{if(ye){f(ye.id);const Se=ye.vaccinationCategory==="reminder"?"rappel":"vaccination",Vt=ye.vaccinationCategory==="new"?e.filter(tt=>tt.originalVaccinationId===ye.id).length:0;v({title:`${Se.charAt(0).toUpperCase()+Se.slice(1)} supprimée`,description:ye.vaccinationCategory==="new"&&Vt>0?`La vaccination ${ye.vaccineName} et ses ${Vt} rappel(s) ont été supprimés avec succès.`:`Le ${Se} ${ye.vaccineName} a été supprimé avec succès.`}),xe(!1),se(null)}},Tt=()=>{Z(!1),pe(null)},Nn=w.useMemo(()=>{const Se=e.length,Vt=l("completed").length,tt=a().length,mt=o().length,rn=l("scheduled").length,is=e.filter(Rs=>Rs.vaccinationCategory==="reminder").length,Yr=e.filter(Rs=>Rs.vaccinationCategory==="new").length;return{total:Se,completed:Vt,overdue:tt,upcoming:mt,scheduled:rn,reminders:is,originalVaccinations:Yr}},[e,l,a,o]),ur=w.useMemo(()=>e.filter(Se=>{const Vt=Se.petName.toLowerCase().includes(j.toLowerCase())||Se.clientName.toLowerCase().includes(j.toLowerCase())||Se.vaccineName.toLowerCase().includes(j.toLowerCase())||Se.veterinarian.toLowerCase().includes(j.toLowerCase()),tt=_==="all"||Se.status===_,mt=A==="all"||Se.vaccineType===A,rn=E==="all"||Se.vaccinationCategory===E;return Vt&&tt&&mt&&rn}),[e,j,_,A,E]),Qn=()=>{const Se=JSON.stringify(e,null,2),Vt=new Blob([Se],{type:"application/json"}),tt=URL.createObjectURL(Vt),mt=document.createElement("a");mt.href=tt,mt.download=`vaccinations-${It(new Date,"yyyy-MM-dd")}.json`,mt.click(),URL.revokeObjectURL(tt)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(As,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(q,{onClick:Qn,variant:"outline",className:"gap-2",children:[r.jsx(bA,{className:"h-4 w-4"}),"Exporter"]}),r.jsx(M0,{})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(As,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.total})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(er,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Terminées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.completed})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(qn,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.overdue})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx($n,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prochaines 30j"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.upcoming})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(Pt,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Nn.scheduled})]})]})})})]}),r.jsxs(ml,{value:$,onValueChange:k,children:[r.jsxs(yo,{className:"grid w-full grid-cols-4",children:[r.jsxs(on,{value:"overview",className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(on,{value:"calendar",className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Calendrier"]}),r.jsxs(on,{value:"protocols",className:"flex items-center gap-2",children:[r.jsx(ji,{className:"h-4 w-4"}),"Protocoles"]}),r.jsxs(on,{value:"certificates",className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Certificats"]})]}),r.jsxs(ln,{value:"overview",className:"space-y-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ie,{placeholder:"Rechercher animal, client, vaccin...",value:j,onChange:Se=>b(Se.target.value),className:"pl-10"})]}),r.jsxs(Me,{value:_,onValueChange:C,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous statuts"}),r.jsx(V,{value:"completed",children:"Terminées"}),r.jsx(V,{value:"scheduled",children:"Planifiées"}),r.jsx(V,{value:"overdue",children:"En retard"}),r.jsx(V,{value:"missed",children:"Manquées"})]})]}),r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous types"}),r.jsx(V,{value:"core",children:"Essentiels"}),r.jsx(V,{value:"non-core",children:"Optionnels"}),r.jsx(V,{value:"rabies",children:"Rage"}),r.jsx(V,{value:"custom",children:"Personnalisés"})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Toutes catégories"}),r.jsx(V,{value:"new",children:"Vaccinations"}),r.jsx(V,{value:"reminder",children:"Rappels"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(q,{variant:y==="cards"?"default":"outline",size:"sm",onClick:()=>N("cards"),children:r.jsx(sl,{className:"h-4 w-4"})}),r.jsx(q,{variant:y==="table"?"default":"outline",size:"sm",onClick:()=>N("table"),children:r.jsx(il,{className:"h-4 w-4"})})]})]})})}),y==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ur.map(Se=>{const Vt=t.find(mt=>mt.id===Se.petId),tt=n.find(mt=>mt.id===Se.clientId);return r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsxs(fe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Hr,{className:"h-10 w-10",children:[r.jsx(ll,{src:Vt==null?void 0:Vt.photo}),r.jsx(Gr,{children:r.jsx(pu,{className:"h-5 w-5"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:Se.petName}),r.jsxs("p",{className:"text-xs text-gray-600",children:[Vt==null?void 0:Vt.type," • ",tt==null?void 0:tt.name]})]})]}),Q===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"completed",children:"Terminée"}),r.jsx(V,{value:"scheduled",children:"Planifiée"}),r.jsx(V,{value:"overdue",children:"En retard"}),r.jsx(V,{value:"missed",children:"Manquée"})]})]}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>D(null),children:"Annuler"})]}):r.jsxs($e,{className:`${q3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>D(Se.id),children:[W3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(As,{className:`h-4 w-4 ${Se.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("span",{className:"font-medium text-sm",children:[Se.vaccineName,Se.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx($e,{variant:"outline",className:"text-xs",children:Se.vaccineType}),Se.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Pt,{className:"h-4 w-4"}),r.jsxs("span",{children:["Date d'administration: ",It(new Date(Se.dateGiven),"dd/MM/yyyy",{locale:Hi})]})]}),Se.vaccinationCategory==="new"&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx($n,{className:"h-4 w-4"}),r.jsxs("span",{children:["Prochain rappel: ",It(new Date(Se.nextDueDate),"dd/MM/yyyy",{locale:Hi})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Oa,{className:"h-4 w-4"}),r.jsx("span",{children:Se.veterinarian})]}),Se.cost&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:r.jsxs("span",{className:"font-medium",children:[Se.cost," ",g.currency]})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[r.jsxs(q,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{ee(Se),I(!0)},children:[r.jsx(ns,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{ee(Se),we(!0)},children:r.jsx(cr,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>qt(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Vn,{className:"h-4 w-4"})})]})]})},Se.id)})}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs(La,{children:[r.jsx(Ot,{children:"Animal"}),r.jsx(Ot,{children:"Vaccin"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Date donnée"}),r.jsx(Ot,{children:"Statut"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Vétérinaire"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:ur.map(Se=>{const Vt=t.find(mt=>mt.id===Se.petId),tt=n.find(mt=>mt.id===Se.clientId);return r.jsxs(La,{children:[r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Hr,{className:"h-8 w-8",children:[r.jsx(ll,{src:Vt==null?void 0:Vt.photo}),r.jsx(Gr,{children:r.jsx(pu,{className:"h-4 w-4"})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:Se.petName}),r.jsx("div",{className:"text-xs text-gray-600",children:tt==null?void 0:tt.name})]})]})}),r.jsx(Dt,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Se.vaccineName}),Se.vaccinationCategory==="reminder"&&r.jsx($e,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]})}),r.jsx(Dt,{children:r.jsx($e,{variant:"outline",className:"text-xs",children:Se.vaccineType})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"dateGiven"}),lt(Se.dateGiven)},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="dateGiven"?r.jsx(ie,{type:"date",value:it,onChange:mt=>lt(mt.target.value),onBlur:ft,autoFocus:!0}):It(new Date(Se.dateGiven),"dd/MM/yyyy")}),r.jsx(Dt,{children:Q===Se.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:Se.status,onValueChange:mt=>Ge(Se.id,mt),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"completed",children:"Terminée"}),r.jsx(V,{value:"scheduled",children:"Planifiée"}),r.jsx(V,{value:"overdue",children:"En retard"}),r.jsx(V,{value:"missed",children:"Manquée"})]})]}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>D(null),children:"Annuler"})]}):r.jsxs($e,{className:`${q3(Se.status)} cursor-pointer hover:opacity-80`,onClick:()=>D(Se.id),children:[W3(Se.status),r.jsx("span",{className:"ml-1 capitalize",children:Se.status})]})}),r.jsx(Dt,{children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"veterinarian"}),lt(Se.veterinarian)},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="veterinarian"?r.jsxs(Me,{value:it,onValueChange:mt=>{lt(mt),Be(null);const rn={...e.find(is=>is.id===Se.id),veterinarian:mt};m(Se.id,rn)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsx(De,{children:g.veterinarians.filter(mt=>mt.isActive).map(mt=>r.jsx(V,{value:mt.name,children:mt.name},mt.id))})]}):Se.veterinarian}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Be({id:Se.id,field:"cost"}),lt(String(Se.cost||""))},children:(Fe==null?void 0:Fe.id)===Se.id&&Fe.field==="cost"?r.jsx(ie,{type:"number",value:it,onChange:mt=>lt(mt.target.value),onBlur:()=>{ft()},autoFocus:!0}):r.jsxs(r.Fragment,{children:[" ",Se.cost," ",g.currency," "]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{ee(Se),I(!0)},children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{ee(Se),we(!0)},children:r.jsx(cr,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>Ke(Se),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>qt(Se),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Vn,{className:"h-4 w-4"})})]})})]},Se.id)})})]})})})]}),r.jsx(ln,{value:"calendar",children:r.jsx(I5e,{})}),r.jsxs(ln,{value:"protocols",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion des Protocoles Vaccinaux"}),r.jsx(GS,{mode:"create"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(ji,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Protocoles"}),r.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(er,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actifs"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.isActive).length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Kt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Essentiels"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Se=>Se.vaccineType==="core").length})]})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(Oa,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Espèces"}),r.jsx("p",{className:"text-xl font-bold",children:new Set(s.map(Se=>Se.species)).size})]})]})})})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous types"}),r.jsx(V,{value:"core",children:"Essentiels"}),r.jsx(V,{value:"non-core",children:"Optionnels"}),r.jsx(V,{value:"rabies",children:"Rage"}),r.jsx(V,{value:"custom",children:"Personnalisés"})]})]}),r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Toutes catégories"}),r.jsx(V,{value:"new",children:"Vaccinations"}),r.jsx(V,{value:"reminder",children:"Rappels"})]})]}),r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ie,{placeholder:"Rechercher un protocole...",value:j,onChange:Se=>b(Se.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-6",children:Array.from(new Set(s.map(Se=>Se.species))).map(Se=>{const Vt=s.filter(tt=>tt.species===Se).filter(tt=>{const mt=A==="all"||tt.vaccineType===A,rn=tt.name.toLowerCase().includes(j.toLowerCase())||tt.description.toLowerCase().includes(j.toLowerCase());return mt&&rn});return Vt.length===0?null:r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pu,{className:"h-5 w-5"}),Se," (",Vt.length," protocoles)"]})})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Vt.map(tt=>r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsxs(fe,{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:tt.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx($e,{variant:tt.vaccineType==="core"?"default":"secondary",className:"text-xs",children:tt.vaccineType==="core"?"Essentiel":tt.vaccineType==="non-core"?"Optionnel":tt.vaccineType==="rabies"?"Rage":"Personnalisé"}),!tt.isActive&&r.jsx($e,{variant:"outline",className:"text-xs",children:"Inactif"})]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:tt.description}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rappel:"}),r.jsx("span",{className:"font-medium",children:tt.intervals&&tt.intervals.length>0?tt.intervals.map(mt=>mt.label).join(", "):"Non spécifié"})]}),tt.manufacturer&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fabricant:"}),r.jsx("span",{className:"font-medium",children:tt.manufacturer})]}),tt.ageRequirement&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Âge requis:"}),r.jsx("span",{className:"font-medium",children:tt.ageRequirement})]})]}),tt.notes&&r.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:r.jsx("p",{className:"text-xs text-gray-600",children:tt.notes})}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(GS,{mode:"edit",protocol:tt,children:r.jsxs(q,{size:"sm",variant:"outline",className:"flex-1",children:[r.jsx(en,{className:"h-4 w-4 mr-1"}),"Modifier"]})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>{confirm(`Êtes-vous sûr de vouloir supprimer le protocole "${tt.name}" ?`)&&d(tt.id)},className:"text-red-600 hover:text-red-700",children:"🗑️"})]})]})},tt.id))})})]},Se)})}),s.length===0&&r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(ji,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun protocole vaccinal configuré"}),r.jsx("p",{className:"text-sm mb-4",children:"Commencez par créer votre premier protocole"}),r.jsx(GS,{mode:"create",children:r.jsxs(q,{children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Créer un protocole"]})})]})})]}),r.jsx(ln,{value:"certificates",children:r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Certificats de Vaccination"]})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de vaccination pour les voyages et compétitions."}),r.jsxs(St,{open:O,onOpenChange:L,children:[r.jsx(Ic,{asChild:!0,children:r.jsxs(q,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(wt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{value:(H==null?void 0:H.toString())||"",onValueChange:Se=>{oe(parseInt(Se)),J(null)},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un client"})}),r.jsx(De,{children:n.map(Se=>r.jsx(V,{value:Se.id.toString(),children:Se.name},Se.id))})]}),r.jsxs(Me,{value:(z==null?void 0:z.toString())||"",onValueChange:Se=>J(parseInt(Se)),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un animal"})}),r.jsx(De,{children:t.filter(Se=>H?Se.ownerId===H:!1).map(Se=>r.jsxs(V,{value:Se.id.toString(),children:[Se.name," (",Se.type,")"]},Se.id))})]}),z&&r.jsx("div",{className:"hidden",children:r.jsx(yP,{ref:F,petId:z})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(q,{disabled:!z,onClick:Ne,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(St,{open:G,onOpenChange:I,children:r.jsxs(wt,{className:"max-w-2xl",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Détails de la Vaccination"})}),Y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Animal:"}),r.jsx("p",{children:Y.petName})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Client:"}),r.jsx("p",{children:(gs=n.find(Se=>Se.id===Y.clientId))==null?void 0:gs.name})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Vaccin:"}),r.jsx("p",{children:Y.vaccineName})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Type:"}),r.jsx("p",{children:Y.vaccineType})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Date donnée:"}),r.jsx("p",{children:It(new Date(Y.dateGiven),"dd/MM/yyyy",{locale:Hi})})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Rappel:"}),r.jsx("p",{children:It(new Date(Y.nextDueDate),"dd/MM/yyyy",{locale:Hi})})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Vétérinaire:"}),r.jsx("p",{children:Y.veterinarian})]}),r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Coût:"}),r.jsxs("p",{children:[Y.cost," ",g.currency]})]})]}),Y.notes&&r.jsxs("div",{children:[r.jsx(B,{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground",children:Y.notes})]})]})]})}),r.jsx(St,{open:ve,onOpenChange:we,children:r.jsxs(wt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Document de Vaccination"})}),Y&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Générez un document officiel pour la vaccination de ",Y.petName,"."]}),r.jsx("div",{className:"hidden",children:r.jsx(yP,{ref:F,petId:Y.petId})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>we(!1),children:"Annuler"}),r.jsx(q,{onClick:Ne,children:"Générer PDF"})]})]})]})}),r.jsx(M0,{open:te,onOpenChange:Tt,editingVaccination:ae}),r.jsx(St,{open:ne,onOpenChange:xe,children:r.jsxs(wt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Confirmer la suppression"})}),ye&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Êtes-vous sûr de vouloir supprimer ",ye.vaccinationCategory==="reminder"?"le rappel":"la vaccination"," ",r.jsx("strong",{children:ye.vaccineName})," pour ",r.jsx("strong",{children:ye.petName})," ?"]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Cette action est irréversible et supprimera également l'entrée du dossier médical.",ye.vaccinationCategory==="reminder"?r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Note :"})," Seul ce rappel sera supprimé, les autres rappels de la même vaccination ne seront pas affectés."]}):r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Attention :"})," La suppression de cette vaccination supprimera également tous ses rappels associés."]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>xe(!1),children:"Annuler"}),r.jsx(q,{variant:"destructive",onClick:Yn,children:"Supprimer"})]})]})]})})]})}function H3({children:e,protocol:t,mode:n}){const{addAntiparasiticProtocol:s,updateAntiparasiticProtocol:i}=jt(),{settings:a}=Jt(),{toast:o}=Ft(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),[f,m]=w.useState(["days"]);w.useEffect(()=>{n==="edit"&&t&&(d({name:t.name,species:t.species,productType:t.productType,targetParasites:t.targetParasites,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals,weightRange:t.weightRange||"",ageRequirement:t.ageRequirement||"",seasonalTreatment:t.seasonalTreatment||!1,notes:t.notes||"",isActive:t.isActive}),m(t.intervals.map(v=>v.offsetDays%30===0?"months":v.offsetDays%7===0?"weeks":"days")))},[n,t]);const g=v=>{if(v.preventDefault(),!u.name||!u.species||!u.productType||!u.description){o({title:"Erreur",description:"Champs obligatoires manquants",variant:"destructive"});return}n==="create"?(s(u),o({title:"Protocole créé",description:`${u.name} a été ajouté.`})):t&&(i(t.id,u),o({title:"Protocole mis à jour",description:`${u.name} a été modifié.`})),d({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),c(!1)},x=a.species?a.species.split(",").map(v=>v.trim()):["Chien","Chat","Bovins","Ovins"];return r.jsxs(St,{open:l,onOpenChange:c,children:[r.jsx(Ic,{asChild:!0,children:e||r.jsxs(q,{className:"gap-2",children:[n==="create"?r.jsx(ht,{className:"h-4 w-4"}):r.jsx(en,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(wt,{children:[r.jsx(Ct,{children:r.jsx(_t,{children:n==="create"?"Nouveau Protocole Antiparasitaire":"Modifier le Protocole"})}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"name",children:"Nom du protocole *"}),r.jsx(ie,{id:"name",value:u.name,onChange:v=>d(y=>({...y,name:v.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"species",children:"Espèce *"}),r.jsxs(Me,{value:u.species,onValueChange:v=>d(y=>({...y,species:v})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Espèce"})}),r.jsx(De,{children:x.map(v=>r.jsx(V,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"productType",children:"Type de produit"}),r.jsxs(Me,{value:u.productType,onValueChange:v=>d(y=>({...y,productType:v})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type"})}),r.jsxs(De,{children:[r.jsx(V,{value:"external",children:"Externe"}),r.jsx(V,{value:"internal",children:"Interne"}),r.jsx(V,{value:"combined",children:"Combiné"}),r.jsx(V,{value:"heartworm",children:"Ver du cœur"}),r.jsx(V,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(V,{value:"worming",children:"Vermifugation"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"targetParasites",children:"Parasites cibles"}),r.jsx(ie,{id:"targetParasites",value:u.targetParasites,onChange:v=>d(y=>({...y,targetParasites:v.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"description",children:"Description"}),r.jsx(Nt,{id:"description",value:u.description,onChange:v=>d(y=>({...y,description:v.target.value})),required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{checked:u.isActive,onCheckedChange:v=>d(y=>({...y,isActive:v}))}),r.jsx(B,{children:"Actif"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Étapes / Intervalles"}),u.intervals.map((v,y)=>{const N=f[y],j=N==="months"?v.offsetDays/30:N==="weeks"?v.offsetDays/7:v.offsetDays;return r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(ie,{type:"number",value:j,min:0,onChange:b=>{const _=parseInt(b.target.value)||0,C=N==="months"?_*30:N==="weeks"?_*7:_;d(A=>{const P=[...A.intervals];return P[y].offsetDays=C,{...A,intervals:P}})},className:"w-20"}),r.jsxs(Me,{value:N,onValueChange:b=>{m(_=>{const C=[..._];return C[y]=b,C})},children:[r.jsx(Oe,{className:"w-24",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"days",children:"jours"}),r.jsx(V,{value:"weeks",children:"semaines"}),r.jsx(V,{value:"months",children:"mois"})]})]}),r.jsxs("span",{className:"ml-2",children:[v.offsetDays," jours"]}),r.jsx(q,{type:"button",variant:"destructive",onClick:()=>{d(b=>({...b,intervals:b.intervals.filter((_,C)=>C!==y)})),m(b=>b.filter((_,C)=>C!==y))},children:"Suppr."})]},y)}),r.jsx(q,{type:"button",onClick:()=>{d(v=>({...v,intervals:[...v.intervals,{offsetDays:0,label:""}]})),m(v=>[...v,"days"])},children:"Ajouter une étape"})]}),r.jsx(q,{type:"submit",className:"w-full",children:n==="create"?"Créer":"Mettre à jour"})]})]})]})}const G3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R5e=()=>{const{antiparasitics:e,pets:t,clients:n}=jt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"antiparasitic",title:o.productName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(LT,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Antiparasitaire",icon:r.jsx(nc,{className:"h-5 w-5"})})},K3=e=>{switch(e){case"completed":return r.jsx(er,{className:"h-4 w-4"});case"overdue":return r.jsx(qn,{className:"h-4 w-4"});case"scheduled":return r.jsx($n,{className:"h-4 w-4"});case"missed":return r.jsx(qn,{className:"h-4 w-4"});default:return r.jsx($n,{className:"h-4 w-4"})}};function L5e(){const{antiparasitics:e,pets:t,clients:n,antiparasiticProtocols:s,getOverdueAntiparasitics:i,getUpcomingAntiparasitics:a,getAntiparasiticsByStatus:o,getActiveAntiparasiticProtocols:l,getAntiparasiticProtocolsBySpecies:c,addAntiparasitic:u,updateAntiparasitic:d,deleteAntiparasitic:f}=jt(),{settings:m}=Jt(),{currentView:g}=xd("antiparasitics"),{toast:x}=Ft(),[v,y]=w.useState(null),[N,j]=w.useState(""),[b,_]=w.useState(!1),[C,A]=w.useState(null),[P,E]=w.useState(!1),[M,$]=w.useState(null),k=()=>{if(!v)return;const{id:Ne,field:Ge}=v,Ke=e.find(qt=>qt.id===Ne);if(Ke){const qt={...Ke,[Ge]:N};d(Ne,qt),x({title:"Modifié",description:`${Ge} mis à jour`})}y(null)},[O,L]=w.useState(""),[z,J]=w.useState("all"),[H,oe]=w.useState("all"),[Q,D]=w.useState(g),[ae,pe]=w.useState(!1),[te,Z]=w.useState(null),[ne,xe]=w.useState(null),ye=w.useRef(null),se=RT.useReactToPrint({contentRef:ye,onAfterPrint:()=>pe(!1)}),F=e.length,Y=o("completed").length,ee=i().length,G=a().length,I=w.useMemo(()=>[...new Set(s.map(Ge=>Ge.species))].reduce((Ge,Ke)=>(Ge[Ke]=c(Ke),Ge),{}),[s]),ve=w.useMemo(()=>e.filter(Ne=>{t.find(Yn=>Yn.id===Ne.petId),n.find(Yn=>Yn.id===Ne.clientId);const Ge=!O||Ne.productName.toLowerCase().includes(O.toLowerCase())||Ne.petName.toLowerCase().includes(O.toLowerCase())||Ne.clientName.toLowerCase().includes(O.toLowerCase()),Ke=z==="all"||Ne.status===z,qt=H==="all"||Ne.productType===H;return Ge&&Ke&&qt}),[e,t,n,O,z,H]),[we,Fe]=w.useState(""),[Be,it]=w.useState("all");w.useMemo(()=>s.filter(Ne=>{const Ge=!we||Ne.name.toLowerCase().includes(we.toLowerCase())||Ne.species.toLowerCase().includes(we.toLowerCase())||Ne.targetParasites.toLowerCase().includes(we.toLowerCase()),Ke=Be==="all"||Ne.productType===Be;return Ge&&Ke}),[s,we,Be]);const lt=Ne=>{$(Ne.petId),E(!0)},ft=Ne=>{A(Ne),_(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:"Gestion Antiparasitaire"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivi des traitements antiparasitaires et protocoles de prévention"})]}),r.jsx(I0,{children:r.jsxs(q,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Traitements"}),r.jsx("p",{className:"text-2xl font-bold",children:F})]}),r.jsx(nc,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Complétés"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:Y})]}),r.jsx(er,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:ee})]}),r.jsx(qn,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"À Venir (7j)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:G})]}),r.jsx($n,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsxs(ml,{defaultValue:"treatments",className:"space-y-6",children:[r.jsxs(yo,{className:"grid w-full grid-cols-4",children:[r.jsx(on,{value:"treatments",children:"Traitements"}),r.jsx(on,{value:"calendar",children:"Calendrier"}),r.jsx(on,{value:"protocols",children:"Protocoles"}),r.jsx(on,{value:"certificates",children:"Certificats"})]}),r.jsxs(ln,{value:"treatments",className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(wA,{className:"h-5 w-5"}),"Filtres et Recherche"]})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Rechercher par produit, animal ou client...",value:O,onChange:Ne=>L(Ne.target.value),className:"pl-10"})]})}),r.jsxs(Me,{value:z,onValueChange:J,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous statuts"}),r.jsx(V,{value:"completed",children:"Complété"}),r.jsx(V,{value:"scheduled",children:"Planifié"}),r.jsx(V,{value:"overdue",children:"En retard"}),r.jsx(V,{value:"missed",children:"Manqué"})]})]}),r.jsxs(Me,{value:H,onValueChange:oe,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{placeholder:"Type"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous types"}),r.jsx(V,{value:"external",children:"Externe"}),r.jsx(V,{value:"internal",children:"Interne"}),r.jsx(V,{value:"combined",children:"Combiné"}),r.jsx(V,{value:"heartworm",children:"Ver du cœur"}),r.jsx(V,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(V,{value:"worming",children:"Vermifugation"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:Q==="cards"?"default":"outline",size:"sm",onClick:()=>D("cards"),children:r.jsx(sl,{className:"h-4 w-4"})}),r.jsx(q,{variant:Q==="table"?"default":"outline",size:"sm",onClick:()=>D("table"),children:r.jsx(il,{className:"h-4 w-4"})})]})]})})]}),Q==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ve.map(Ne=>{const Ge=t.find(Ke=>Ke.id===Ne.petId);return n.find(Ke=>Ke.id===Ne.clientId),r.jsxs(he,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ee,{className:"text-lg",children:Ne.productName}),r.jsxs($e,{className:G3(Ne.status),children:[K3(Ne.status),r.jsx("span",{className:"ml-1",children:Ne.status==="completed"?"Complété":Ne.status==="scheduled"?"Planifié":Ne.status==="overdue"?"En retard":"Manqué"})]})]})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"h-10 w-10",children:Ge!=null&&Ge.photo?r.jsx(ll,{src:Ge.photo,alt:Ge.name}):r.jsx(Gr,{children:r.jsx(pu,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ne.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ne.clientName})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ne.productType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ne.targetParasites})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Date donnée:"}),r.jsx("span",{children:It(new Date(Ne.dateGiven),"dd/MM/yyyy")})]}),Ne.nextDueDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Prochain rappel:"}),r.jsx("span",{children:It(new Date(Ne.nextDueDate),"dd/MM/yyyy")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Vétérinaire:"}),r.jsx("span",{children:Ne.veterinarian})]}),Ne.cost&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Coût:"}),r.jsxs("span",{className:"font-medium",children:[Ne.cost," ",m.currency]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),Ne.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ne.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ne.stockQuantity,")"]})]}):Ne.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(q,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>lt(Ne),children:[r.jsx(ns,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>ft(Ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Ne.id),x({title:"Supprimé",description:`${Ne.productName} supprimé.`}))},children:r.jsx(Vn,{className:"h-4 w-4"})})]})]})]},Ne.id)})}):r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs(La,{children:[r.jsx(Ot,{children:"Animal"}),r.jsx(Ot,{children:"Produit"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Date donnée"}),r.jsx(Ot,{children:"Prochain rappel"}),r.jsx(Ot,{children:"Statut"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Vétérinaire"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:ve.map(Ne=>r.jsxs(La,{children:[r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"h-8 w-8",children:r.jsx(Gr,{children:r.jsx(pu,{className:"h-4 w-4"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ne.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ne.clientName})]})]})}),r.jsx(Dt,{className:"font-medium",children:Ne.productName}),r.jsx(Dt,{children:Ne.productType}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"dateGiven"}),j(Ne.dateGiven)},children:(v==null?void 0:v.id)===Ne.id&&v.field==="dateGiven"?r.jsx(ie,{type:"date",value:N,onChange:Ge=>j(Ge.target.value),onBlur:k,autoFocus:!0}):It(new Date(Ne.dateGiven),"dd/MM/yyyy")}),r.jsx(Dt,{children:Ne.nextDueDate?It(new Date(Ne.nextDueDate),"dd/MM/yyyy"):"-"}),r.jsx(Dt,{children:r.jsxs($e,{className:G3(Ne.status),children:[K3(Ne.status),r.jsx("span",{className:"ml-1",children:Ne.status==="completed"?"Complété":Ne.status==="scheduled"?"Planifié":Ne.status==="overdue"?"En retard":"Manqué"})]})}),r.jsx(Dt,{children:Ne.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx($e,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ne.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ne.stockQuantity,")"]})]}):Ne.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx($e,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"veterinarian"}),j(Ne.veterinarian)},children:(v==null?void 0:v.id)===Ne.id&&v.field==="veterinarian"?r.jsxs(Me,{value:N,onValueChange:Ge=>{j(Ge),d(Ne.id,{veterinarian:Ge}),y(null)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsx(De,{children:m.veterinarians.filter(Ge=>Ge.isActive).map(Ge=>r.jsx(V,{value:Ge.name,children:Ge.name},Ge.id))})]}):Ne.veterinarian}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Ne.id,field:"cost"}),j(Ne.cost||"")},children:(v==null?void 0:v.id)===Ne.id&&v.field==="cost"?r.jsx(ie,{type:"number",value:N,onChange:Ge=>j(Ge.target.value),onBlur:k,autoFocus:!0}):Ne.cost?`${Ne.cost} ${m.currency}`:"-"}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>lt(Ne),children:r.jsx(ns,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>ft(Ne),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Ne.id),x({title:"Supprimé",description:`${Ne.productName} supprimé.`}))},children:r.jsx(Vn,{className:"h-4 w-4"})})]})})]},Ne.id))})]})})})]}),r.jsx(ln,{value:"calendar",children:r.jsx(R5e,{})}),r.jsxs(ln,{value:"protocols",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Protocoles Antiparasitaires"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les protocoles de traitement par espèce"})]}),r.jsx(H3,{mode:"create",children:r.jsxs(q,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouveau Protocole"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Protocoles"}),r.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),r.jsx(cr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actifs"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(Ne=>Ne.isActive).length})]}),r.jsx(er,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Externes"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(Ne=>Ne.productType==="external"||Ne.productType==="flea_tick").length})]}),r.jsx(nc,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Espèces"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(I).length})]}),r.jsx(pu,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Rechercher un protocole...",value:we,onChange:Ne=>Fe(Ne.target.value),className:"pl-10"})]})}),r.jsxs(Me,{value:Be,onValueChange:it,children:[r.jsx(Oe,{className:"w-[200px]",children:r.jsx(Ie,{placeholder:"Type de produit"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous types"}),r.jsx(V,{value:"external",children:"Externe"}),r.jsx(V,{value:"internal",children:"Interne"}),r.jsx(V,{value:"combined",children:"Combiné"}),r.jsx(V,{value:"heartworm",children:"Ver du cœur"}),r.jsx(V,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(V,{value:"worming",children:"Vermifugation"})]})]})]})})}),r.jsx("div",{className:"space-y-6",children:Object.keys(I).map(Ne=>{const Ge=I[Ne].filter(Ke=>{const qt=!we||Ke.name.toLowerCase().includes(we.toLowerCase())||Ke.targetParasites.toLowerCase().includes(we.toLowerCase()),Yn=Be==="all"||Ke.productType===Be;return qt&&Yn});return Ge.length===0?null:r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(pu,{className:"h-5 w-5"}),Ne," (",Ge.length," protocoles)"]})}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ge.map(Ke=>r.jsxs(he,{className:"border-l-4 border-l-primary",children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ee,{className:"text-base",children:Ke.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(H3,{mode:"edit",protocol:Ke,children:r.jsx(q,{size:"sm",variant:"outline",children:r.jsx(en,{className:"h-4 w-4"})})}),r.jsx($e,{variant:Ke.isActive?"default":"secondary",children:Ke.isActive?"Actif":"Inactif"})]})]})}),r.jsxs(fe,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:Ke.description}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Ke.productType})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Ke.targetParasites})]}),Ke.weightRange&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Poids:"}),r.jsx("span",{children:Ke.weightRange})]}),Ke.ageRequirement&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Âge:"}),r.jsx("span",{children:Ke.ageRequirement})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rappels:"}),r.jsx("span",{children:Ke.intervals.map(qt=>qt.label).join(", ")})]}),Ke.manufacturer&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Fabricant:"}),r.jsx("span",{children:Ke.manufacturer})]})]}),Ke.notes&&r.jsx("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",Ke.notes]})})]})]},Ke.id))})})]},Ne)})})]}),r.jsx(ln,{value:"certificates",children:r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Certificats Antiparasitaires"]})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de traitement antiparasitaire pour les voyages et compétitions."}),r.jsxs(St,{open:ae,onOpenChange:pe,children:[r.jsx(Ic,{asChild:!0,children:r.jsxs(q,{className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(wt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{value:(te==null?void 0:te.toString())||"",onValueChange:Ne=>{Z(parseInt(Ne)),xe(null)},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un client"})}),r.jsx(De,{children:n.map(Ne=>r.jsx(V,{value:Ne.id.toString(),children:Ne.name},Ne.id))})]}),r.jsxs(Me,{value:(ne==null?void 0:ne.toString())||"",onValueChange:Ne=>xe(parseInt(Ne)),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un animal"})}),r.jsx(De,{children:t.filter(Ne=>te?Ne.ownerId===te:!1).map(Ne=>r.jsxs(V,{value:Ne.id.toString(),children:[Ne.name," (",Ne.type,")"]},Ne.id))})]}),ne&&r.jsx("div",{className:"hidden",children:r.jsxs("div",{ref:ye,children:["Certificat antiparasitaire pour animal ",ne]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(q,{disabled:!ne,onClick:se,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(I0,{open:b,onOpenChange:Ne=>{_(Ne),Ne||A(null)},editingAntiparasitic:C}),M&&r.jsx(g9,{petId:M,open:P,onOpenChange:E})]})}const F5e=[{value:"medication",label:"Médicaments",icon:"💊"},{value:"vaccine",label:"Vaccins",icon:"💉"},{value:"consumable",label:"Consommables",icon:"🩹"},{value:"equipment",label:"Équipement",icon:"🔧"},{value:"supplement",label:"Suppléments",icon:"🧪"}],B5e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],z5e={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthésique","Analgésique","Antihistaminique","Corticoïde","Diurétique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommandé","Autre"],consumable:["Matériel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Stérilisation","Autre"],supplement:["Vitamines","Minéraux","Probiotiques","Acides aminés","Autre"]};function Y3({open:e,onOpenChange:t,editingItem:n}){var f;const{addStockItem:s,updateStockItem:i}=jt(),{settings:a}=Jt(),{toast:o}=Ft(),[l,c]=w.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});w.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=m=>{if(m.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'élément est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numériques ne peuvent pas être négatives.",variant:"destructive"});return}const g={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(i(n.id,g),o({title:"Élément modifié",description:`"${l.name}" a été modifié avec succès.`})):(s(g),o({title:"Élément ajouté",description:`"${l.name}" a été ajouté au stock.`})),t(!1)},d=(m,g)=>{c(x=>({...x,[m]:g}))};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:n?"Modifier l'élément de stock":"Nouvel élément de stock"}),r.jsx(jn,{children:n?"Modifiez les informations de l'élément de stock.":"Ajoutez un nouvel élément à votre inventaire."})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"name",children:"Nom de l'élément *"}),r.jsx(ie,{id:"name",value:l.name,onChange:m=>d("name",m.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"category",children:"Catégorie *"}),r.jsxs(Me,{value:l.category,onValueChange:m=>d("category",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une catégorie"})}),r.jsx(De,{children:F5e.map(m=>r.jsxs(V,{value:m.value,children:[m.icon," ",m.label]},m.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"subcategory",children:"Sous-catégorie"}),r.jsxs(Me,{value:l.subcategory,onValueChange:m=>d("subcategory",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une sous-catégorie"})}),r.jsx(De,{children:(f=z5e[l.category])==null?void 0:f.map(m=>r.jsx(V,{value:m,children:m},m))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:l.manufacturer,onChange:m=>d("manufacturer",m.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"description",children:"Description"}),r.jsx(Nt,{id:"description",value:l.description,onChange:m=>d("description",m.target.value),placeholder:"Description détaillée de l'élément...",rows:2})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",value:l.batchNumber,onChange:m=>d("batchNumber",m.target.value),placeholder:"ex: AMX2024001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"dosage",children:"Dosage"}),r.jsx(ie,{id:"dosage",value:l.dosage,onChange:m=>d("dosage",m.target.value),placeholder:"ex: 500mg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"unit",children:"Unité"}),r.jsxs(Me,{value:l.unit,onValueChange:m=>d("unit",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Sélectionner une unité"})}),r.jsx(De,{children:B5e.map(m=>r.jsx(V,{value:m.value,children:m.label},m.value))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"currentStock",children:"Stock actuel *"}),r.jsx(ie,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:m=>d("currentStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"minimumStock",children:"Stock minimum *"}),r.jsx(ie,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:m=>d("minimumStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"maximumStock",children:"Stock maximum"}),r.jsx(ie,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:m=>d("maximumStock",parseInt(m.target.value)||0)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"purchasePrice",children:["Prix d'achat (",a.currency,") *"]}),r.jsx(ie,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:m=>d("purchasePrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(B,{htmlFor:"sellingPrice",children:["Prix de vente (",a.currency,") *"]}),r.jsx(ie,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:m=>d("sellingPrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calculée automatiquement : Prix d'achat × Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&r.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",a.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&r.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",a.currency]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplémentaires"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"expirationDate",children:"Date d'expiration"}),r.jsx(ie,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:m=>d("expirationDate",m.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"supplier",children:"Fournisseur"}),r.jsx(ie,{id:"supplier",value:l.supplier,onChange:m=>d("supplier",m.target.value),placeholder:"ex: Pharmacie Vétérinaire Centrale"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"location",children:"Emplacement"}),r.jsx(ie,{id:"location",value:l.location,onChange:m=>d("location",m.target.value),placeholder:"ex: Armoire A - Étagère 1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"barcode",children:"Code-barres"}),r.jsx(ie,{id:"barcode",value:l.barcode,onChange:m=>d("barcode",m.target.value),placeholder:"ex: 1234567890123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"sku",children:"SKU"}),r.jsx(ie,{id:"sku",value:l.sku,onChange:m=>d("sku",m.target.value),placeholder:"ex: MED-AMX-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",children:"Notes"}),r.jsx(Nt,{id:"notes",value:l.notes,onChange:m=>d("notes",m.target.value),placeholder:"Notes supplémentaires...",rows:3})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(q,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const V5e=[{value:"in",label:"Entrée",icon:vr,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:zu,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:X5,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:Dte,description:"Déplacement entre emplacements"}],U5e={in:["Achat fournisseur","Retour client","Inventaire initial","Don/échantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Périmé/expiré","Cassé/endommagé","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Réorganisation stock","Autre"]};function q5e({open:e,onOpenChange:t,item:n}){var x;const{updateStockItem:s,addStockMovement:i}=jt(),{settings:a}=Jt(),{toast:o}=Ft(),[l,c]=w.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=w.useState("");w.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const f=v=>{if(v.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantité doit être supérieure à 0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let y=n.currentStock;if(l.type==="in")y+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}y-=l.quantity}else l.type==="adjustment"&&(y=l.quantity);l.type!=="transfer"&&s(n.id,{currentStock:y,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const N=l.performedBy==="Autre"?u:l.performedBy,j={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:N||void 0,date:new Date().toISOString(),notes:l.notes||void 0};i(j),o({title:"Mouvement enregistré",description:`${{in:"Entrée",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistrée.`}),t(!1)},m=(v,y)=>{c(N=>({...N,[v]:y}))},g=()=>{if(!n)return 0;let v=n.currentStock;return l.type==="in"?v+=l.quantity:l.type==="out"?v-=l.quantity:l.type==="adjustment"&&(v=l.quantity),Math.max(0,v)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(wt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5"}),"Mouvement de stock"]}),r.jsxs(jn,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Gn,{className:"h-5 w-5 text-blue-600"}),"Élément concerné"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),r.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[r.jsx(ld,{className:"h-4 w-4"}),n.location||"Non défini"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),r.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),r.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),r.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",a.currency]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{className:"text-base font-medium",children:"Type de mouvement *"}),r.jsxs(Me,{value:l.type,onValueChange:v=>m("type",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner le type de mouvement"})}),r.jsx(De,{children:V5e.map(v=>{const y=v.icon;return r.jsx(V,{value:v.value,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(y,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:v.label}),r.jsx("div",{className:"text-xs text-muted-foreground",children:v.description})]})]})},v.value)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantité *"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ie,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:v=>m("quantity",parseFloat(v.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),r.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&r.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock après mouvement:"}),r.jsxs("div",{className:`text-lg font-semibold ${g()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[g()," ",n.unit]}),g()<=n.minimumStock&&r.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[r.jsx(qn,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),r.jsxs(Me,{value:l.reason,onValueChange:v=>m("reason",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner une raison"})}),r.jsx(De,{children:(x=U5e[l.type])==null?void 0:x.map(v=>r.jsx(V,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"reference",className:"text-base font-medium",children:"Référence"}),r.jsx(ie,{id:"reference",value:l.reference,onChange:v=>m("reference",v.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectué par"}),r.jsxs(Me,{value:l.performedBy,onValueChange:v=>m("performedBy",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Sélectionner un vétérinaire"})}),r.jsxs(De,{children:[a.veterinarians.filter(v=>v.isActive).map(v=>r.jsx(V,{value:v.name,children:v.name},v.id)),r.jsx(V,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&r.jsx(ie,{placeholder:"Nom du responsable",value:u,onChange:v=>d(v.target.value),className:"h-10 mt-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),r.jsx(Nt,{id:"notes",value:l.notes,onChange:v=>m("notes",v.target.value),placeholder:"Notes supplémentaires...",rows:4,className:"resize-none"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),r.jsxs(q,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const ap={medication:{label:"Médicaments",color:"bg-blue-100 text-blue-800",icon:"💊"},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:"💉"},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:"🩹"},equipment:{label:"Équipement",color:"bg-purple-100 text-purple-800",icon:"🔧"},supplement:{label:"Suppléments",color:"bg-yellow-100 text-yellow-800",icon:"🧪"}},W5e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function H5e(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:s,updateStockItem:i,deleteStockItem:a,addStockMovement:o,getStockAlerts:l}=jt(),{settings:c}=Jt(),{toast:u}=Ft(),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(null),[_,C]=w.useState(""),[A,P]=w.useState("all"),[E,M]=w.useState("all"),[$,k]=w.useState("name"),[O,L]=w.useState("asc"),[z,J]=w.useState(null),[H,oe]=w.useState(""),Q=w.useMemo(()=>{const F=e.length,Y=e.reduce((ve,we)=>ve+we.totalValue,0),ee=e.filter(ve=>ve.currentStock<=ve.minimumStock).length,G=e.filter(ve=>ve.expirationDate&&new Date(ve.expirationDate)<new Date).length,I=e.filter(ve=>ve.expirationDate&&new Date(ve.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(ve.expirationDate)>new Date).length;return{totalItems:F,totalValue:Y,lowStockItems:ee,expiredItems:G,expiringSoonItems:I}},[e]),D=w.useMemo(()=>{let F=e.filter(Y=>{var ve,we;const ee=Y.name.toLowerCase().includes(_.toLowerCase())||((ve=Y.manufacturer)==null?void 0:ve.toLowerCase().includes(_.toLowerCase()))||((we=Y.batchNumber)==null?void 0:we.toLowerCase().includes(_.toLowerCase())),G=A==="all"||Y.category===A;let I=!0;return E==="low_stock"?I=Y.currentStock<=Y.minimumStock:E==="expired"?I=Y.expirationDate&&new Date(Y.expirationDate)<new Date:E==="expiring_soon"?I=Y.expirationDate&&new Date(Y.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(Y.expirationDate)>new Date:E==="active"&&(I=Y.isActive),ee&&G&&I});return F.sort((Y,ee)=>{let G,I;switch($){case"name":G=Y.name.toLowerCase(),I=ee.name.toLowerCase();break;case"currentStock":G=Y.currentStock,I=ee.currentStock;break;case"totalValue":G=Y.totalValue,I=ee.totalValue;break;case"expirationDate":G=Y.expirationDate||"9999-12-31",I=ee.expirationDate||"9999-12-31";break;default:G=Y.name.toLowerCase(),I=ee.name.toLowerCase()}return O==="asc"?G<I?-1:G>I?1:0:G>I?-1:G<I?1:0}),F},[e,_,A,E,$,O]),ae=(F,Y,ee)=>{const G={};switch(Y){case"currentStock":G.currentStock=parseInt(ee)||0;break;case"minimumStock":G.minimumStock=parseInt(ee)||0;break;case"purchasePrice":G.purchasePrice=parseFloat(ee)||0;break;case"sellingPrice":G.sellingPrice=parseFloat(ee)||0;break;case"location":G.location=ee;break;case"notes":G.notes=ee;break}i(F,G),J(null),u({title:"Stock mis à jour",description:"L'élément de stock a été mis à jour avec succès."})},pe=F=>{b(F),v(!0)},te=F=>{v(F),F||b(null)},Z=F=>{confirm(`Êtes-vous sûr de vouloir supprimer "${F.name}" du stock ?`)&&(a(F.id),u({title:"Élément supprimé",description:`"${F.name}" a été supprimé du stock.`}))},ne=F=>{N(F),g(!0)},xe=()=>{const F=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(I=>[`"${I.name}"`,`"${I.category}"`,`"${I.subcategory||""}"`,`"${I.manufacturer||""}"`,`"${I.batchNumber||""}"`,`"${I.dosage||""}"`,`"${I.unit}"`,I.currentStock,I.minimumStock,I.purchasePrice,I.sellingPrice,`"${I.expirationDate||""}"`,`"${I.supplier||""}"`,`"${I.location||""}"`,`"${I.notes||""}"`,`"${I.barcode||""}"`,`"${I.sku||""}"`].join(","))].join(`
`),Y=new Blob([F],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),G=URL.createObjectURL(Y);ee.setAttribute("href",G),ee.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),u({title:"Export réussi",description:"Le fichier CSV a été téléchargé avec succès."})},ye=F=>{var G;const Y=(G=F.target.files)==null?void 0:G[0];if(!Y)return;const ee=new FileReader;ee.onload=I=>{var ve;try{const Fe=((ve=I.target)==null?void 0:ve.result).split(`
`),Be=Fe[0].split(",").map(Ke=>Ke.replace(/"/g,"").trim()),lt=["Nom","Catégorie","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(Ke=>!Be.includes(Ke));if(lt.length>0){u({title:"Erreur d'import",description:`En-têtes manquants: ${lt.join(", ")}`,variant:"destructive"});return}const ft=[];let Ne=0,Ge=0;for(let Ke=1;Ke<Fe.length;Ke++){const qt=Fe[Ke].trim();if(qt)try{const Yn=qt.split(",").map(Qn=>Qn.replace(/"/g,"").trim()),Tt={};if(Be.forEach((Qn,gs)=>{Tt[Qn]=Yn[gs]||""}),!Tt.Nom||!Tt.Catégorie||!Tt.Unité){Ge++;continue}if(!Object.keys(ap).includes(Tt.Catégorie)){Ge++;continue}const ur={id:Date.now()+Ke,name:Tt.Nom,category:Tt.Catégorie,subcategory:Tt["Sous-catégorie"]||"",manufacturer:Tt.Fabricant||"",batchNumber:Tt["Numéro de lot"]||"",dosage:Tt.Dosage||"",unit:Tt.Unité,currentStock:parseInt(Tt["Stock actuel"])||0,minimumStock:parseInt(Tt["Stock minimum"])||0,purchasePrice:parseFloat(Tt["Prix d'achat"])||0,sellingPrice:parseFloat(Tt["Prix de vente"])||0,totalValue:(parseInt(Tt["Stock actuel"])||0)*(parseFloat(Tt["Prix d'achat"])||0),expirationDate:Tt["Date d'expiration"]||void 0,supplier:Tt.Fournisseur||"",location:Tt.Emplacement||"",notes:Tt.Notes||"",barcode:Tt["Code-barres"]||"",sku:Tt.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};ft.push(ur),Ne++}catch(Yn){Ge++,console.error(`Erreur ligne ${Ke+1}:`,Yn)}}ft.length>0&&ft.forEach(Ke=>{s(Ke)}),u({title:"Import terminé",description:`${Ne} éléments importés avec succès${Ge>0?`, ${Ge} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},ee.readAsText(Y),F.target.value=""},se=()=>{const F=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vétérinaire Centrale","Armoire A - Étagère 1","Stockage à température ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combiné","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Réfrigérateur - Étagère 1","Conservation entre 2-8°C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matériel médical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - Étagère 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),Y=new Blob([F],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),G=URL.createObjectURL(Y);ee.setAttribute("href",G),ee.setAttribute("download","gabarit_import_stock.csv"),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),u({title:"Gabarit téléchargé",description:"Le fichier gabarit a été téléchargé avec succès."})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[r.jsx(Gn,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez votre inventaire de médicaments, vaccins et consommables"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(q,{variant:"outline",onClick:xe,className:"gap-2",children:[r.jsx(bA,{className:"h-4 w-4"}),"Exporter CSV"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:ye,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),r.jsx(q,{variant:"outline",className:"gap-2",asChild:!0,children:r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(HC,{className:"h-4 w-4"}),"Importer CSV"]})})]}),r.jsxs(q,{variant:"outline",onClick:se,className:"gap-2",children:[r.jsx(uM,{className:"h-4 w-4"}),"Gabarit"]}),r.jsxs(q,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[r.jsx(ht,{className:"h-4 w-4"}),"Nouvel Élément"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Éléments"}),r.jsx("p",{className:"text-2xl font-bold",children:Q.totalItems})]}),r.jsx(Gn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Q.totalValue.toFixed(2)," ",c.currency]})]}),r.jsx(Bf,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Q.lowStockItems})]}),r.jsx(qn,{className:"h-8 w-8 text-orange-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirés"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:Q.expiredItems})]}),r.jsx(eg,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientôt"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Q.expiringSoonItems})]}),r.jsx($n,{className:"h-8 w-8 text-yellow-600"})]})})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(wA,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(fe,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[300px]",children:r.jsx(ie,{placeholder:"Rechercher par nom, fabricant, lot...",value:_,onChange:F=>C(F.target.value),className:"w-full"})}),r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Catégorie"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Toutes les catégories"}),Object.entries(ap).map(([F,Y])=>r.jsxs(V,{value:F,children:[Y.icon," ",Y.label]},F))]})]}),r.jsxs(Me,{value:E,onValueChange:M,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(V,{value:"all",children:"Tous les statuts"}),r.jsx(V,{value:"active",children:"Actifs"}),r.jsx(V,{value:"low_stock",children:"Stock bas"}),r.jsx(V,{value:"expired",children:"Expirés"}),r.jsx(V,{value:"expiring_soon",children:"Expirent bientôt"})]})]}),r.jsxs(Me,{value:$,onValueChange:k,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Trier par"})}),r.jsxs(De,{children:[r.jsx(V,{value:"name",children:"Nom"}),r.jsx(V,{value:"currentStock",children:"Stock actuel"}),r.jsx(V,{value:"totalValue",children:"Valeur totale"}),r.jsx(V,{value:"expirationDate",children:"Date d'expiration"})]})]}),r.jsx(q,{variant:"outline",onClick:()=>L(O==="asc"?"desc":"asc"),children:O==="asc"?r.jsx(vr,{className:"h-4 w-4"}):r.jsx(zu,{className:"h-4 w-4"})})]})})]}),r.jsx(he,{className:"bg-blue-50 border-blue-200",children:r.jsx(fe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(uM,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),r.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour télécharger un fichier CSV avec le format correct. Les données importées seront ajoutées au stock existant.'}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Catégories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Unités valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{children:["Inventaire (",D.length," éléments)"]})}),r.jsxs(fe,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs(La,{children:[r.jsx(Ot,{children:"Nom"}),r.jsx(Ot,{children:"Catégorie"}),r.jsx(Ot,{children:"Fabricant"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Prix d'achat"}),r.jsx(Ot,{children:"Prix de vente"}),r.jsx(Ot,{children:"Valeur totale"}),r.jsx(Ot,{children:"Expiration"}),r.jsx(Ot,{children:"Emplacement"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:D.map(F=>{var I;const Y=F.currentStock<=F.minimumStock,ee=F.expirationDate&&new Date(F.expirationDate)<new Date,G=F.expirationDate&&new Date(F.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(F.expirationDate)>new Date;return r.jsxs(La,{className:F.isActive?"":"opacity-50",children:[r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:F.name}),F.batchNumber&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",F.batchNumber]}),F.dosage&&r.jsx("div",{className:"text-sm text-muted-foreground",children:F.dosage})]})}),r.jsxs(Dt,{children:[r.jsxs($e,{className:ap[F.category].color,children:[ap[F.category].icon," ",ap[F.category].label]}),F.subcategory&&r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:F.subcategory})]}),r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{children:F.manufacturer||"-"}),F.supplier&&r.jsx("div",{className:"text-sm text-muted-foreground",children:F.supplier})]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`font-medium ${Y?"text-orange-600":""}`,children:[F.currentStock," ",((I=W5e.find(ve=>ve.value===F.unit))==null?void 0:I.label)||F.unit]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",F.minimumStock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Y&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Stock bas"}),F.lastUpdated&&new Date(F.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&r.jsx($e,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis à jour"})]})]})}),r.jsx(Dt,{children:(z==null?void 0:z.id)===F.id&&z.field==="purchasePrice"?r.jsx(ie,{type:"number",step:"0.01",value:H,onChange:ve=>oe(ve.target.value),onBlur:()=>ae(F.id,"purchasePrice",H),onKeyDown:ve=>{ve.key==="Enter"&&ae(F.id,"purchasePrice",H)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{J({id:F.id,field:"purchasePrice"}),oe(F.purchasePrice.toString())},children:[F.purchasePrice.toFixed(2)," ",c.currency]})}),r.jsx(Dt,{children:(z==null?void 0:z.id)===F.id&&z.field==="sellingPrice"?r.jsx(ie,{type:"number",step:"0.01",value:H,onChange:ve=>oe(ve.target.value),onBlur:()=>ae(F.id,"sellingPrice",H),onKeyDown:ve=>{ve.key==="Enter"&&ae(F.id,"sellingPrice",H)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{J({id:F.id,field:"sellingPrice"}),oe(F.sellingPrice.toString())},children:[r.jsxs("div",{className:"font-medium",children:[F.sellingPrice.toFixed(2)," ",c.currency]}),r.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((F.sellingPrice-F.purchasePrice)*F.currentStock).toFixed(2)," ",c.currency]})]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"font-medium",children:[F.totalValue.toFixed(2)," ",c.currency]})}),r.jsx(Dt,{children:F.expirationDate?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:`text-sm ${ee?"text-red-600 font-medium":G?"text-yellow-600 font-medium":""}`,children:It(new Date(F.expirationDate),"dd/MM/yyyy",{locale:Hi})}),ee&&r.jsx($e,{variant:"destructive",className:"text-xs",children:"Expiré"}),G&&!ee&&r.jsx($e,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientôt"})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Dt,{children:(z==null?void 0:z.id)===F.id&&z.field==="location"?r.jsx(ie,{value:H,onChange:ve=>oe(ve.target.value),onBlur:()=>ae(F.id,"location",H),onKeyDown:ve=>{ve.key==="Enter"&&ae(F.id,"location",H)},autoFocus:!0,className:"w-32"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{J({id:F.id,field:"location"}),oe(F.location||"")},children:[r.jsx(ld,{className:"h-3 w-3"}),F.location||"Non défini"]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>ne(F),children:r.jsx(vr,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>pe(F),children:r.jsx(en,{className:"h-3 w-3"})}),r.jsx(q,{size:"sm",variant:"outline",onClick:()=>Z(F),children:r.jsx(Vn,{className:"h-3 w-3"})})]})})]},F.id)})})]})}),D.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun élément trouvé"}),r.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux éléments"})]})]})]}),r.jsxs(he,{children:[r.jsxs(Ae,{children:[r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),r.jsx(fe,{children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx($n,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun mouvement de stock enregistré"})]}):r.jsxs("div",{className:"space-y-4",children:[n.sort((F,Y)=>new Date(Y.date).getTime()-new Date(F.date).getTime()).slice(0,20).map(F=>{const ee={in:{label:"Entrée",color:"text-green-600",icon:"↗️"},out:{label:F.reason==="Prescription médicale"?"Prescription":"Sortie",color:F.reason==="Prescription médicale"?"text-orange-600":"text-red-600",icon:F.reason==="Prescription médicale"?"💊":"↘️"},adjustment:{label:"Ajustement",color:"text-blue-600",icon:"⚖️"},transfer:{label:"Transfert",color:"text-purple-600",icon:"↔️"}}[F.type];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl",children:ee.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:F.itemName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.reason," • ",F.performedBy||"Non spécifié"]}),F.reference&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Référence: ",F.reference]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-semibold ${ee.color}`,children:[F.type==="in"?"+":F.type==="out"?"-":"",F.quantity]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:It(new Date(F.date),"dd/MM/yyyy HH:mm",{locale:Hi})})]})]},F.id)}),n.length>20&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs(q,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),r.jsx(Y3,{open:d,onOpenChange:f}),r.jsx(Y3,{open:x,onOpenChange:te,editingItem:j}),r.jsx(q5e,{open:m,onOpenChange:g,item:y})]})}const G5e={monthly:[{description:"Salaire Secrétaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrétaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vétérinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et Électricité",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impôts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vétérinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance Équipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matériel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},K5e=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:s,generateAccountingSummary:i,consultations:a,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=jt(),{settings:f}=Jt();Ft();const[m,g]=w.useState("month"),[x,v]=w.useState(""),[y,N]=w.useState(""),[j,b]=w.useState(!1),[_,C]=w.useState(null),[A,P]=w.useState(null),[E,M]=w.useState(!1),[$,k]=w.useState(G5e),[O,L]=w.useState(!1),[z,J]=w.useState(null),[H,oe]=w.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[Q,D]=w.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});w.useEffect(()=>{const G=new Date,I=new Date(G.getFullYear(),G.getMonth(),1),ve=new Date(G.getFullYear(),G.getMonth()+1,0);v(It(I,"yyyy-MM-dd")),N(It(ve,"yyyy-MM-dd"))},[]),w.useEffect(()=>{if(x&&y){const G=m==="month"?It(new Date(x),"yyyy-MM",{locale:Hi}):m==="year"?It(new Date(x),"yyyy",{locale:Hi}):m==="day"?It(new Date(x),"dd/MM/yyyy",{locale:Hi}):`${It(new Date(x),"dd/MM/yyyy")} - ${It(new Date(y),"dd/MM/yyyy")}`,I=i(G,x,y);P(I)}},[x,y,m,e,a,o,l,c,u,i]);const ae=G=>{g(G);const I=new Date;switch(G){case"day":const ve=It(I,"yyyy-MM-dd");v(ve),N(ve);break;case"month":const we=new Date(I.getFullYear(),I.getMonth(),1),Fe=new Date(I.getFullYear(),I.getMonth()+1,0);v(It(we,"yyyy-MM-dd")),N(It(Fe,"yyyy-MM-dd"));break;case"quarter":const Be=Math.floor(I.getMonth()/3),it=new Date(I.getFullYear(),Be*3,1),lt=new Date(I.getFullYear(),Be*3+3,0);v(It(it,"yyyy-MM-dd")),N(It(lt,"yyyy-MM-dd"));break;case"year":const ft=new Date(I.getFullYear(),0,1),Ne=new Date(I.getFullYear(),11,31);v(It(ft,"yyyy-MM-dd")),N(It(Ne,"yyyy-MM-dd"));break}},pe=()=>{if(!Q.description||!Q.amount||!Q.date)return;const G={type:Q.type,category:"manual",frequency:Q.frequency,description:Q.description,amount:parseFloat(Q.amount),date:Q.date,source:Q.source,notes:Q.notes};_?(n(_.id,G),C(null)):t(G),D({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),b(!1)},te=G=>{C(G),D({type:G.type,frequency:G.frequency,description:G.description,amount:G.amount.toString(),date:G.date,source:G.source||"other",notes:G.notes||""}),b(!0)},Z=G=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette entrée ?")&&s(G)},ne=G=>{D({...Q,type:G.type,frequency:G.frequency||"occasional",description:G.description,amount:G.amount.toString(),source:G.source,date:Q.date||It(new Date,"yyyy-MM-dd")}),M(!1)},xe=()=>{if(!H.description||!H.amount)return;const G={description:H.description,amount:parseFloat(H.amount),type:H.type,frequency:H.frequency,source:H.source};if(z){const I={...$},ve=z.frequency,we=I[ve].findIndex(Fe=>Fe===z);we!==-1&&(I[ve][we]=G),k(I),J(null)}else{const I={...$},ve=H.frequency;I[ve].push(G),k(I)}oe({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),L(!1)},ye=G=>{J(G),oe({description:G.description,amount:G.amount.toString(),type:G.type,frequency:G.frequency,source:G.source}),L(!0)},se=G=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette suggestion ?")){const I={...$},ve=G.frequency;I[ve]=I[ve].filter(we=>we!==G),k(I)}},F=e.filter(G=>{const I=new Date(G.date),ve=new Date(x),we=new Date(y);return I>=ve&&I<=we}),Y=G=>`${G.toFixed(2)} ${f.currency}`,ee=G=>{switch(G){case"consultation":return"🩺";case"vaccination":return"💉";case"antiparasitic":return"💊";case"prescription":return"📋";case"stock_purchase":return"📦";case"salary":return"👥";case"rent":return"🏢";case"tax":return"📊";case"insurance":return"🛡️";default:return"📄"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(K5,{className:"h-8 w-8"}),"Gestion Comptable"]}),r.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vétérinaire"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(St,{open:j,onOpenChange:b,children:[r.jsx(Ic,{asChild:!0,children:r.jsxs(q,{onClick:()=>{C(null),D({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter une entrée"]})}),r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:_?"Modifier l'entrée comptable":"Ajouter une entrée comptable"}),r.jsx(jn,{children:_?"Modifiez les informations de cette entrée.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(HN,{className:"h-4 w-4 text-yellow-600"}),r.jsx(B,{className:"text-sm font-medium",children:"Suggestions prédéfinies"})]}),r.jsx(q,{variant:"ghost",size:"sm",onClick:()=>M(!E),children:E?r.jsx(lb,{className:"h-4 w-4"}):r.jsx(HN,{className:"h-4 w-4"})})]}),E&&r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.monthly.map((G,I)=>r.jsx(q,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.annual.map((G,I)=>r.jsx(q,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.occasional.map((G,I)=>r.jsx(q,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},I))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"type",children:"Type"}),r.jsxs(Me,{value:Q.type,onValueChange:G=>D({...Q,type:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"revenue",children:"Recette"}),r.jsx(V,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"frequency",children:"Fréquence"}),r.jsxs(Me,{value:Q.frequency,onValueChange:G=>D({...Q,frequency:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"monthly",children:"Mensuel"}),r.jsx(V,{value:"annual",children:"Annuel"}),r.jsx(V,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"description",children:"Description"}),r.jsx(ie,{id:"description",value:Q.description,onChange:G=>D({...Q,description:G.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"amount",children:["Montant (",f.currency,")"]}),r.jsx(ie,{id:"amount",type:"number",step:"0.01",value:Q.amount,onChange:G=>D({...Q,amount:G.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"date",children:"Date"}),r.jsx(ie,{id:"date",type:"date",value:Q.date,onChange:G=>D({...Q,date:G.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"source",children:"Source"}),r.jsxs(Me,{value:Q.source,onValueChange:G=>D({...Q,source:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"salary",children:"Salaire"}),r.jsx(V,{value:"rent",children:"Loyer"}),r.jsx(V,{value:"tax",children:"Impôts"}),r.jsx(V,{value:"insurance",children:"Assurance"}),r.jsx(V,{value:"other",children:"Autre"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(Nt,{id:"notes",value:Q.notes,onChange:G=>D({...Q,notes:G.target.value}),placeholder:"Informations supplémentaires..."})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>b(!1),children:"Annuler"}),r.jsx(q,{onClick:pe,children:_?"Modifier":"Ajouter"})]})]})]})]})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5"}),"Période d'analyse"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:m==="day"?"default":"outline",onClick:()=>ae("day"),size:"sm",children:"Ce jour"}),r.jsx(q,{variant:m==="month"?"default":"outline",onClick:()=>ae("month"),size:"sm",children:"Ce mois"}),r.jsx(q,{variant:m==="quarter"?"default":"outline",onClick:()=>ae("quarter"),size:"sm",children:"Ce trimestre"}),r.jsx(q,{variant:m==="year"?"default":"outline",onClick:()=>ae("year"),size:"sm",children:"Cette année"})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(B,{htmlFor:"startDate",children:"Du"}),r.jsx(ie,{id:"startDate",type:"date",value:x,onChange:G=>v(G.target.value),className:"w-40"}),r.jsx(B,{htmlFor:"endDate",children:"Au"}),r.jsx(ie,{id:"endDate",type:"date",value:y,onChange:G=>N(G.target.value),className:"w-40"})]})]})})]}),A&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Total Recettes"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Y(A.totalRevenue)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Consultations: ",Y(A.revenueBreakdown.consultations)]}),r.jsxs("div",{children:["Vaccinations: ",Y(A.revenueBreakdown.vaccinations)]}),r.jsxs("div",{children:["Antiparasitaires: ",Y(A.revenueBreakdown.antiparasitics)]}),r.jsxs("div",{children:["Prescriptions: ",Y(A.revenueBreakdown.prescriptions)]}),r.jsxs("div",{children:["Manuelles: ",Y(A.revenueBreakdown.manualEntries)]})]})]})]}),r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Total Charges"}),r.jsx(zu,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:Y(A.totalExpenses)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Achats stock: ",Y(A.expenseBreakdown.stockPurchases)]}),r.jsxs("div",{children:["Salaires: ",Y(A.expenseBreakdown.salaries)]}),r.jsxs("div",{children:["Loyer: ",Y(A.expenseBreakdown.rent)]}),r.jsxs("div",{children:["Impôts: ",Y(A.expenseBreakdown.taxes)]}),r.jsxs("div",{children:["Autres: ",Y(A.expenseBreakdown.other)]})]})]})]}),r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Ee,{className:"text-sm font-medium",children:"Résultat Net"}),r.jsx(Bf,{className:"h-4 w-4"})]}),r.jsxs(fe,{children:[r.jsx("div",{className:`text-2xl font-bold ${A.netIncome>=0?"text-green-600":"text-red-600"}`,children:Y(A.netIncome)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.netIncome>=0?"Bénéfice":"Perte"})]})]})]}),r.jsxs(ml,{defaultValue:"entries",className:"space-y-4",children:[r.jsxs(yo,{children:[r.jsx(on,{value:"entries",children:"Entrées Comptables"}),r.jsx(on,{value:"configuration",children:"Configuration"})]}),r.jsx(ln,{value:"entries",children:r.jsxs(he,{children:[r.jsxs(Ae,{children:[r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-5 w-5"}),"Entrées comptables automatiques et manuelles"]}),r.jsx(ug,{children:"Entrées générées automatiquement (consultations, vaccinations, etc.) et entrées manuelles ajoutées"})]}),r.jsxs(fe,{children:[r.jsxs(hm,{children:[r.jsx(fm,{children:r.jsxs(La,{children:[r.jsx(Ot,{children:"Date"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Description"}),r.jsx(Ot,{children:"Source"}),r.jsx(Ot,{children:"Fréquence"}),r.jsx(Ot,{children:"Montant"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(mm,{children:F.map(G=>r.jsxs(La,{children:[r.jsx(Dt,{children:It(new Date(G.date),"dd/MM/yyyy",{locale:Hi})}),r.jsx(Dt,{children:r.jsx($e,{variant:G.type==="revenue"?"default":"destructive",children:G.type==="revenue"?"Recette":"Charge"})}),r.jsx(Dt,{children:G.description}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:ee(G.source||"other")}),r.jsx("span",{className:"text-sm",children:G.category==="automatic"?"Automatique":"Manuel"})]})}),r.jsx(Dt,{children:r.jsx($e,{variant:"outline",children:G.frequency==="monthly"?"Mensuel":G.frequency==="annual"?"Annuel":"Occasionnel"})}),r.jsxs(Dt,{className:`font-medium ${G.type==="revenue"?"text-green-600":"text-red-600"}`,children:[G.type==="revenue"?"+":"-",Y(G.amount)]}),r.jsx(Dt,{children:G.category==="manual"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:"outline",size:"sm",onClick:()=>te(G),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{variant:"outline",size:"sm",onClick:()=>Z(G.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})})]},G.id))})]}),F.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entrée comptable pour cette période"})]})]})}),r.jsx(ln,{value:"configuration",children:r.jsxs(he,{children:[r.jsxs(Ae,{children:[r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(HN,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),r.jsx(ug,{children:"Configurez les suggestions prédéfinies pour faciliter la saisie des charges et recettes"})]}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),r.jsxs(q,{onClick:()=>{J(null),oe({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.monthly.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{variant:"outline",size:"sm",onClick:()=>se(G),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]},I))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),r.jsxs(q,{onClick:()=>{J(null),oe({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.annual.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{variant:"outline",size:"sm",onClick:()=>se(G),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]},I))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),r.jsxs(q,{onClick:()=>{J(null),oe({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),L(!0)},children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:$.occasional.map((G,I)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:"outline",size:"sm",onClick:()=>ye(G),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{variant:"outline",size:"sm",onClick:()=>se(G),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]},I))})]})]})})]}),r.jsx(St,{open:O,onOpenChange:L,children:r.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:z?"Modifier la suggestion":"Ajouter une suggestion"}),r.jsx(jn,{children:z?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prédéfinie."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"suggestion-type",children:"Type"}),r.jsxs(Me,{value:H.type,onValueChange:G=>oe({...H,type:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"revenue",children:"Recette"}),r.jsx(V,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"suggestion-frequency",children:"Fréquence"}),r.jsxs(Me,{value:H.frequency,onValueChange:G=>oe({...H,frequency:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"monthly",children:"Mensuel"}),r.jsx(V,{value:"annual",children:"Annuel"}),r.jsx(V,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"suggestion-description",children:"Description"}),r.jsx(ie,{id:"suggestion-description",value:H.description,onChange:G=>oe({...H,description:G.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"suggestion-amount",children:["Montant (",f.currency,")"]}),r.jsx(ie,{id:"suggestion-amount",type:"number",step:"0.01",value:H.amount,onChange:G=>oe({...H,amount:G.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"suggestion-source",children:"Source"}),r.jsxs(Me,{value:H.source,onValueChange:G=>oe({...H,source:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"salary",children:"Salaire"}),r.jsx(V,{value:"rent",children:"Loyer"}),r.jsx(V,{value:"tax",children:"Impôts"}),r.jsx(V,{value:"insurance",children:"Assurance"}),r.jsx(V,{value:"other",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>L(!1),children:"Annuler"}),r.jsx(q,{onClick:xe,children:z?"Modifier":"Ajouter"})]})]})]})})]})},Y5e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=jt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs(q,{onClick:u,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(q,{onClick:d,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(q,{onClick:f,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(q,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(fe,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(fe,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},Q5e=()=>r.jsx(sE,{children:r.jsx(Y5e,{})}),X5e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=jt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs(q,{onClick:u,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(q,{onClick:d,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(q,{onClick:f,className:"w-full",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(q,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(fe,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(fe,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},J5e=()=>r.jsx(sE,{children:r.jsx(X5e,{})}),Z5e=()=>{const e=cd();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function e6e(){const{user:e,logout:t}=Mc(),{toast:n}=Ft();if(!e)return null;const s=l=>l?l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),i=l=>{switch(l){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},a=l=>{switch(l){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"assistant":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},o=async()=>{await t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."})};return r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-5 w-5"}),"Profil Utilisateur"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Hr,{className:"h-16 w-16",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-lg",children:s(e.profile.full_name||e.profile.username)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(zf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(ji,{className:"h-4 w-4 text-muted-foreground"}),r.jsx($e,{className:a(e.profile.role),children:i(e.profile.role)})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Informations de session"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Nom d'utilisateur:"}),r.jsxs("span",{children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rôle:"}),r.jsx("span",{children:i(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Statut:"}),r.jsx($e,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Connecté"})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs(q,{variant:"outline",onClick:o,className:"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(Q5,{className:"h-4 w-4"}),"Se déconnecter"]})})]})]})}const t6e={clinicName:"Clinique du Soleil",address:"123 Avenue Hassan II, Rabat, Maroc",phone:"+212 5 37 00 00 00",email:"contact@cliniquedusoleil.ma",website:"https://www.cliniquedusoleil.ma",footerText:"Clinique du Soleil - Soins vétérinaires à Rabat",logo:"/placeholder.svg",currency:"MAD",species:"Chien, Chat, Bovins, Porcins, Volailles",showClinicInfo:!0,showVetsInfo:!0,veterinarians:[],displayPreferences:{clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},defaultConsultationPrice:150,scheduleSettings:{openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]}};function n6e(){const{toast:e}=Ft(),{settings:t,updateSettings:n}=Jt(),{theme:s,setTheme:i}=i8(),a=[{id:1,name:"Dr. Jean Dupont",title:"Dr.",specialty:"Médecine générale",phone:"+212 5 37 00 00 01",email:"j.dupont@cliniquedusoleil.ma"},{id:2,name:"Dr. Marie Martin",title:"Dr.",specialty:"Chirurgie",phone:"+212 5 37 00 00 02",email:"m.martin@cliniquedusoleil.ma"},{id:3,name:"Pr. Ahmed El Alaoui",title:"Pr.",specialty:"Dermatologie",phone:"+212 5 37 00 00 03",email:"a.alaoui@cliniquedusoleil.ma"}],o=t.veterinarians.map(I=>({id:I.id,name:I.name,title:I.name.startsWith("Dr.")?"Dr.":I.name.startsWith("Pr.")?"Pr.":"Dr.",specialty:"Médecine générale",phone:"",email:""})),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({name:"",title:"",specialty:"",phone:"",email:""}),[g,x]=w.useState(!1),[v,y]=w.useState(""),[N,j]=w.useState(!1),[b,_]=w.useState(""),[C,A]=w.useState(""),[P,E]=w.useState(!1),[M,$]=w.useState(""),[k,O]=w.useState(!1),[L,z]=w.useState("");w.useEffect(()=>{if(t.veterinarians.length===0){const I=a.map(ve=>({id:ve.id,name:ve.name,isActive:!0}));n({...t,veterinarians:I})}},[t.veterinarians.length]);const{pets:J}=jt();w.useEffect(()=>{const I=Array.from(new Set([...J.map(we=>we.type)])),ve=Array.from(new Set([...t.species.split(",").map(we=>we.trim()),...I]));n({...t,species:ve.join(", ")})},[J]);const H=(I,ve)=>{n({...t,[I]:ve})},oe=()=>{e({title:"Paramètres sauvegardés",description:"Informations de la clinique mises à jour."})},Q=I=>{var we;const ve=(we=I.target.files)==null?void 0:we[0];if(ve){const Fe=new FileReader;Fe.onload=()=>H("logo",Fe.result),Fe.readAsDataURL(ve)}},D=(I,ve)=>{const we={...t.displayPreferences,[I]:ve},Fe={...t,displayPreferences:we};n(Fe),e({title:"Préférence d'affichage mise à jour",description:`${I} s'affichera maintenant en ${ve==="table"?"tableau":"cartes"}`})},ae=()=>{d(null),m({name:"",title:"",specialty:"",phone:"",email:""}),c(!0)},pe=I=>{d(I),m({name:I.name,title:I.title,specialty:I.specialty||"",phone:I.phone||"",email:I.email||""}),c(!0)},te=()=>{if(!f.name||!f.title){e({title:"Erreur",description:"Nom et titre requis",variant:"destructive"});return}const I=`${f.title} ${f.name}`;let ve;if(u)ve=t.veterinarians.map(we=>we.id===u.id?{...we,name:I,isActive:!0}:we);else{const we={id:Math.max(0,...t.veterinarians.map(Fe=>Fe.id))+1,name:I,isActive:!0};ve=[...t.veterinarians,we]}n({...t,veterinarians:ve}),e({title:"Vétérinaire enregistré"}),c(!1)},Z=I=>{if(!confirm("Supprimer ce vétérinaire ?"))return;const ve=t.veterinarians.filter(we=>we.id!==I);n({...t,veterinarians:ve}),e({title:"Vétérinaire supprimé"})},ne=()=>{if(!v.trim())return;const I={...t,farmManagement:{...t.farmManagement,farmTypes:[...t.farmManagement.farmTypes,v.trim()]}};n(I),y(""),x(!1),e({title:"Type d'élevage ajouté"})},xe=I=>{if(!confirm(`Supprimer le type "${I}" ?`))return;const ve={...t,farmManagement:{...t.farmManagement,farmTypes:t.farmManagement.farmTypes.filter(we=>we!==I)}};n(ve),e({title:"Type d'élevage supprimé"})},ye=()=>{if(!b.trim())return;const I={...t,farmManagement:{...t.farmManagement,animalCategories:[...t.farmManagement.animalCategories,b.trim()],breedsByCategory:{...t.farmManagement.breedsByCategory,[b.trim()]:[]}}};n(I),_(""),j(!1),e({title:"Catégorie d'animal ajoutée"})},se=I=>{if(!confirm(`Supprimer la catégorie "${I}" ?`))return;const ve={...t.farmManagement.breedsByCategory};delete ve[I];const we={...t,farmManagement:{...t.farmManagement,animalCategories:t.farmManagement.animalCategories.filter(Fe=>Fe!==I),breedsByCategory:ve}};n(we),e({title:"Catégorie d'animal supprimée"})},F=()=>{if(!M.trim()||!C)return;const I=t.farmManagement.breedsByCategory[C]||[],ve={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[C]:[...I,M.trim()]}}};n(ve),$(""),E(!1),e({title:"Race ajoutée"})},Y=(I,ve)=>{if(!confirm(`Supprimer la race "${ve}" ?`))return;const we=t.farmManagement.breedsByCategory[I]||[],Fe={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[I]:we.filter(Be=>Be!==ve)}}};n(Fe),e({title:"Race supprimée"})},ee=()=>{if(!L.trim())return;const I={...t,farmManagement:{...t.farmManagement,certificationTypes:[...t.farmManagement.certificationTypes,L.trim()]}};n(I),z(""),O(!1),e({title:"Certification ajoutée"})},G=I=>{if(!confirm(`Supprimer la certification "${I}" ?`))return;const ve={...t,farmManagement:{...t.farmManagement,certificationTypes:t.farmManagement.certificationTypes.filter(we=>we!==I)}};n(ve),e({title:"Certification supprimée"})};return r.jsx("div",{className:"container mx-auto px-6 py-8 space-y-8",children:r.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Paramètres de la Clinique"})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"logo",children:"Logo de la clinique"}),r.jsx(ie,{id:"logo",type:"file",accept:"image/*",onChange:Q}),t.logo&&r.jsx("img",{src:t.logo,alt:"Logo",className:"h-24 mt-2"})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"clinicName",children:"Nom de la clinique"}),r.jsx(ie,{id:"clinicName",value:t.clinicName,onChange:I=>H("clinicName",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:t.address,onChange:I=>H("address",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:t.phone,onChange:I=>H("phone",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:t.email,onChange:I=>H("email",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"website",children:"Site web"}),r.jsx(ie,{id:"website",value:t.website,onChange:I=>H("website",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"currency",children:"Devise"}),r.jsx(ie,{id:"currency",value:t.currency,onChange:I=>H("currency",I.target.value)})]}),r.jsxs("div",{children:[r.jsxs(B,{htmlFor:"defaultConsultationPrice",children:["Prix de consultation par défaut (",t.currency,")"]}),r.jsx(ie,{id:"defaultConsultationPrice",type:"number",step:"0.01",min:"0",value:t.defaultConsultationPrice,onChange:I=>H("defaultConsultationPrice",parseFloat(I.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"species",children:"Liste des espèces (virgule séparées)"}),r.jsx(ie,{id:"species",value:t.species,onChange:I=>H("species",I.target.value)})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"footerText",children:"Texte de pied de page"}),r.jsx(ie,{id:"footerText",value:t.footerText,onChange:I=>H("footerText",I.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{id:"showClinicInfo",checked:t.showClinicInfo,onCheckedChange:I=>H("showClinicInfo",I)}),r.jsx(B,{htmlFor:"showClinicInfo",children:"Afficher coordonnées de la clinique sur le certificat"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{id:"showVetsInfo",checked:t.showVetsInfo,onCheckedChange:I=>H("showVetsInfo",I)}),r.jsx(B,{htmlFor:"showVetsInfo",children:"Afficher liste des vétérinaires sur le certificat"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{onClick:oe,children:"Enregistrer"}),r.jsx(q,{variant:"outline",onClick:()=>{const I=a.map(we=>({id:we.id,name:we.name,isActive:!0})),ve={...t6e,veterinarians:I};n(ve),e({title:"Paramètres réinitialisés",description:"Valeurs par défaut restaurées."})},children:"Restaurer valeurs par défaut"}),r.jsx(q,{variant:"outline",onClick:()=>{const ve={...t,farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"}};n(ve),e({title:"Paramètres ferme réinitialisés",description:"Configuration des fermes restaurée aux valeurs par défaut."})},children:"Restaurer paramètres ferme"})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Thème de l'application"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez le thème de l'application pour votre confort visuel."}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{htmlFor:"theme-select",children:"Thème"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s==="light"?"Mode clair":"Mode sombre"})]}),r.jsxs(Me,{value:s,onValueChange:I=>{i(I),e({title:"Thème mis à jour",description:`Thème changé en mode ${I==="light"?"clair":"sombre"}`})},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"light",children:"Mode clair"}),r.jsx(V,{value:"dark",children:"Mode sombre"})]})]})]})]})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Préférences d'affichage"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez comment vous souhaitez afficher les différentes sections par défaut."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"clients-display",children:"Clients"}),r.jsxs(Me,{value:t.displayPreferences.clients,onValueChange:I=>D("clients",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"table",children:"Tableau"}),r.jsx(V,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"pets-display",children:"Animaux"}),r.jsxs(Me,{value:t.displayPreferences.pets,onValueChange:I=>D("pets",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"table",children:"Tableau"}),r.jsx(V,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"consultations-display",children:"Consultations"}),r.jsxs(Me,{value:t.displayPreferences.consultations,onValueChange:I=>D("consultations",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"table",children:"Tableau"}),r.jsx(V,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"appointments-display",children:"Rendez-vous"}),r.jsxs(Me,{value:t.displayPreferences.appointments,onValueChange:I=>D("appointments",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"table",children:"Tableau"}),r.jsx(V,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"prescriptions-display",children:"Prescriptions"}),r.jsxs(Me,{value:t.displayPreferences.prescriptions,onValueChange:I=>D("prescriptions",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"table",children:"Tableau"}),r.jsx(V,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"farms-display",children:"Fermes"}),r.jsxs(Me,{value:t.displayPreferences.farms,onValueChange:I=>D("farms",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"table",children:"Tableau"}),r.jsx(V,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"vaccinations-display",children:"Vaccinations"}),r.jsxs(Me,{value:t.displayPreferences.vaccinations,onValueChange:I=>D("vaccinations",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"table",children:"Tableau"}),r.jsx(V,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"antiparasitics-display",children:"Antiparasitaires"}),r.jsxs(Me,{value:t.displayPreferences.antiparasitics,onValueChange:I=>D("antiparasitics",I),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"table",children:"Tableau"}),r.jsx(V,{value:"cards",children:"Cartes"})]})]})]})]})]})})]}),r.jsxs(he,{children:[r.jsxs(Ae,{className:"flex justify-between items-center",children:[r.jsx(Ee,{children:"Vétérinaires"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>{},children:"Debug"}),r.jsxs(q,{onClick:ae,className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]})]}),r.jsx(fe,{className:"space-y-2",children:o.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Aucun vétérinaire configuré"}):o.map(I=>r.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[I.title," ",I.name]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:I.specialty}),r.jsxs("p",{className:"text-xs",children:[I.phone," | ",I.email]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(q,{size:"sm",variant:"outline",onClick:()=>pe(I),children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"destructive",onClick:()=>Z(I.id),children:r.jsx(Vn,{className:"h-4 w-4"})})]})]},I.id))})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Configuration des Horaires"})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"openingTime",children:"Heure d'ouverture"}),r.jsx(ie,{id:"openingTime",type:"time",value:t.scheduleSettings.openingTime,onChange:I=>H("scheduleSettings",{...t.scheduleSettings,openingTime:I.target.value})})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"closingTime",children:"Heure de fermeture"}),r.jsx(ie,{id:"closingTime",type:"time",value:t.scheduleSettings.closingTime,onChange:I=>H("scheduleSettings",{...t.scheduleSettings,closingTime:I.target.value})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(B,{htmlFor:"slotDuration",children:"Durée des créneaux (minutes)"}),r.jsxs(Me,{value:t.scheduleSettings.slotDuration.toString(),onValueChange:I=>H("scheduleSettings",{...t.scheduleSettings,slotDuration:parseInt(I)}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"15",children:"15 minutes"}),r.jsx(V,{value:"30",children:"30 minutes"}),r.jsx(V,{value:"45",children:"45 minutes"}),r.jsx(V,{value:"60",children:"1 heure"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Pause déjeuner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"lunchBreakStart",children:"Début de pause"}),r.jsx(ie,{id:"lunchBreakStart",type:"time",value:t.scheduleSettings.lunchBreakStart||"",onChange:I=>H("scheduleSettings",{...t.scheduleSettings,lunchBreakStart:I.target.value})})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"lunchBreakEnd",children:"Fin de pause"}),r.jsx(ie,{id:"lunchBreakEnd",type:"time",value:t.scheduleSettings.lunchBreakEnd||"",onChange:I=>H("scheduleSettings",{...t.scheduleSettings,lunchBreakEnd:I.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Jours de travail"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}].map(I=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Lr,{id:I.key,checked:t.scheduleSettings.workingDays.includes(I.key),onCheckedChange:ve=>{const we=ve?[...t.scheduleSettings.workingDays,I.key]:t.scheduleSettings.workingDays.filter(Fe=>Fe!==I.key);H("scheduleSettings",{...t.scheduleSettings,workingDays:we})}}),r.jsx(B,{htmlFor:I.key,className:"text-sm",children:I.label})]},I.key))})]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{children:"Gestion des Exploitations"})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types d'élevage"}),r.jsxs(q,{size:"sm",onClick:()=>x(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.farmTypes.map(I=>r.jsxs($e,{variant:"secondary",className:"gap-2",children:[I,r.jsx("button",{onClick:()=>xe(I),className:"hover:text-red-500",children:r.jsx(Vn,{className:"h-3 w-3"})})]},I))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Catégories d'animaux"}),r.jsxs(q,{size:"sm",onClick:()=>j(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"space-y-3",children:t.farmManagement.animalCategories.map(I=>r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h5",{className:"font-medium",children:I}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",variant:"outline",onClick:()=>{A(I),E(!0)},children:[r.jsx(ht,{className:"h-3 w-3"})," Race"]}),r.jsx("button",{onClick:()=>se(I),className:"text-red-500 hover:text-red-700",children:r.jsx(Vn,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(t.farmManagement.breedsByCategory[I]||[]).map(ve=>r.jsxs($e,{variant:"outline",className:"text-xs gap-1",children:[ve,r.jsx("button",{onClick:()=>Y(I,ve),className:"hover:text-red-500",children:r.jsx(Vn,{className:"h-2 w-2"})})]},ve))})]},I))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types de certifications"}),r.jsxs(q,{size:"sm",onClick:()=>O(!0),className:"gap-2",children:[r.jsx(ht,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.certificationTypes.map(I=>r.jsxs($e,{variant:"outline",className:"gap-2",children:[I,r.jsx("button",{onClick:()=>G(I),className:"hover:text-red-500",children:r.jsx(Vn,{className:"h-3 w-3"})})]},I))})]})]})]}),r.jsx(St,{open:l,onOpenChange:c,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:u?"Modifier vétérinaire":"Nouveau vétérinaire"}),r.jsx(jn,{children:"Nom, titre, spécialité, contact"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetName",children:"Nom complet *"}),r.jsx(ie,{id:"vetName",value:f.name,onChange:I=>m(ve=>({...ve,name:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetTitle",children:"Titre *"}),r.jsx(ie,{id:"vetTitle",value:f.title,onChange:I=>m(ve=>({...ve,title:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetSpec",children:"Spécialité"}),r.jsx(ie,{id:"vetSpec",value:f.specialty,onChange:I=>m(ve=>({...ve,specialty:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetPhone",children:"Téléphone"}),r.jsx(ie,{id:"vetPhone",value:f.phone,onChange:I=>m(ve=>({...ve,phone:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(B,{htmlFor:"vetEmail",children:"Email"}),r.jsx(ie,{id:"vetEmail",type:"email",value:f.email,onChange:I=>m(ve=>({...ve,email:I.target.value}))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(q,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(q,{onClick:te,children:u?"Mettre à jour":"Créer"})]})]})]})}),r.jsx(St,{open:g,onOpenChange:x,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouveau type d'élevage"}),r.jsx(jn,{children:"Ajouter un nouveau type d'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Apiculture, Aquaculture...",value:v,onChange:I=>y(I.target.value),onKeyPress:I=>I.key==="Enter"&&ne()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>x(!1),children:"Annuler"}),r.jsx(q,{onClick:ne,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:N,onOpenChange:j,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle catégorie d'animal"}),r.jsx(jn,{children:"Ajouter une nouvelle catégorie d'animaux d'élevage"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Cochons d'Inde, Autruches...",value:b,onChange:I=>_(I.target.value),onKeyPress:I=>I.key==="Enter"&&ye()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),r.jsx(q,{onClick:ye,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:P,onOpenChange:E,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{children:["Nouvelle race - ",C]}),r.jsxs(jn,{children:["Ajouter une nouvelle race pour la catégorie ",C]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Nom de la race...",value:M,onChange:I=>$(I.target.value),onKeyPress:I=>I.key==="Enter"&&F()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>E(!1),children:"Annuler"}),r.jsx(q,{onClick:F,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:k,onOpenChange:O,children:r.jsxs(wt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle certification"}),r.jsx(jn,{children:"Ajouter un nouveau type de certification"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Commerce équitable, Demeter...",value:L,onChange:I=>z(I.target.value),onKeyPress:I=>I.key==="Enter"&&ee()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>O(!1),children:"Annuler"}),r.jsx(q,{onClick:ee,children:"Ajouter"})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(e6e,{}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsx(Ee,{className:"text-base",children:"Liens Rapides"})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs(q,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/profile",children:[r.jsx(Wr,{className:"h-4 w-4"}),"Mon Profil"]}),r.jsxs(q,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/auth-settings",children:[r.jsx(ji,{className:"h-4 w-4"}),"Paramètres de Connexion"]})]})]})]})]})})}var r6e="Separator",Q3="horizontal",s6e=["horizontal","vertical"],C9=w.forwardRef((e,t)=>{const{decorative:n,orientation:s=Q3,...i}=e,a=i6e(s)?s:Q3,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(st.div,{"data-orientation":a,...l,...i,ref:t})});C9.displayName=r6e;function i6e(e){return s6e.includes(e)}var _9=C9;const zj=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(_9,{ref:i,decorative:n,orientation:t,className:Ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));zj.displayName=_9.displayName;function a6e(){const{user:e,logout:t,refreshProfile:n}=Mc(),{toast:s}=Ft(),{data:i,isLoading:a,refetch:o}=ife(),l=afe(),[c,u]=w.useState(!1);w.useState(!1);const[d,f]=w.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Français","Arabe","Anglais"]});w.useEffect(()=>{i&&e&&f(y=>({...y,full_name:i.full_name||"",username:i.username||"",email:e.email||"",phone:i.phone||"",address:i.address||"",specialty:i.specialty||"",experience:i.experience||"",bio:i.bio||""}))},[i,e]),w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),w.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"});const m=async()=>{try{await l.mutateAsync({full_name:d.full_name,username:d.username,phone:d.phone,address:d.address,specialty:d.specialty,experience:d.experience,bio:d.bio}),await Promise.all([o(),n()]),s({title:"Profil mis à jour",description:"Vos informations personnelles ont été sauvegardées avec succès."}),u(!1)}catch(y){s({title:"Erreur",description:y instanceof Error?y.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},g=y=>y.split(" ").map(N=>N.charAt(0)).join("").toUpperCase().slice(0,2),x=y=>{switch(y){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},v=y=>{switch(y){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?a?r.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(bc,{className:"h-8 w-8 animate-spin"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos informations personnelles et préférences"})]}),r.jsx("div",{className:"flex gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(q,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),r.jsxs(q,{onClick:m,className:"gap-2",disabled:l.isPending,children:[l.isPending?r.jsx(bc,{className:"h-4 w-4 animate-spin"}):r.jsx(_p,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):r.jsxs(q,{onClick:()=>u(!0),className:"gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Modifier"]})})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Wr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"h-20 w-20",children:r.jsx(Gr,{className:"bg-primary text-primary-foreground text-xl",children:g(e.profile.full_name)})}),c&&r.jsx(q,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:r.jsx(ef,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(zf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(ji,{className:"h-4 w-4 text-muted-foreground"}),r.jsx($e,{className:v(e.profile.role),children:x(e.profile.role)})]})]})]}),r.jsx(zj,{}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"full_name",children:"Nom complet"}),r.jsx(ie,{id:"full_name",value:d.full_name,onChange:y=>f(N=>({...N,full_name:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(ie,{id:"username",value:d.username,onChange:y=>f(N=>({...N,username:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:d.email,disabled:!0,className:"bg-muted"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:d.phone,onChange:y=>f(N=>({...N,phone:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:d.address,onChange:y=>f(N=>({...N,address:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"specialty",children:"Spécialité"}),r.jsx(ie,{id:"specialty",value:d.specialty,onChange:y=>f(N=>({...N,specialty:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"experience",children:"Expérience"}),r.jsx(ie,{id:"experience",value:d.experience,onChange:y=>f(N=>({...N,experience:y.target.value})),disabled:!c})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{htmlFor:"bio",children:"Biographie"}),r.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.bio,onChange:y=>f(N=>({...N,bio:y.target.value})),disabled:!c})]})]})]})]}):null}function o6e(){const{user:e}=Mc(),{toast:t}=Ft(),[n,s]=w.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[i,a]=w.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=w.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});w.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),w.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=w.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramètres de sécurité sauvegardés",description:"Vos paramètres de sécurité ont été mis à jour."})},d=()=>{t({title:"Paramètres de session sauvegardés",description:"Vos paramètres de session ont été mis à jour."})},f=()=>{t({title:"Paramètres de notification sauvegardés",description:"Vos paramètres de notification ont été mis à jour."})},m=v=>{t({title:"Session terminée",description:"La session a été fermée avec succès."})},g=()=>{t({title:"Toutes les sessions terminées",description:"Toutes les autres sessions ont été fermées."})},x=v=>v.includes("iPhone")||v.includes("Android")?r.jsx(Qte,{className:"h-4 w-4"}):v.includes("iPad")||v.includes("Tablet")?r.jsx(Zte,{className:"h-4 w-4"}):r.jsx(hM,{className:"h-4 w-4"});return e?r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramètres de Connexion"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos paramètres de sécurité et de session"})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(ji,{className:"h-5 w-5"}),"Sécurité"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Authentification à deux facteurs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de sécurité supplémentaire"})]}),r.jsx(Lr,{checked:n.twoFactorAuth,onCheckedChange:v=>s(y=>({...y,twoFactorAuth:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Délai d'expiration de session (minutes)"}),r.jsxs(Me,{value:n.sessionTimeout.toString(),onValueChange:v=>s(y=>({...y,sessionTimeout:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"15",children:"15 minutes"}),r.jsx(V,{value:"30",children:"30 minutes"}),r.jsx(V,{value:"60",children:"1 heure"}),r.jsx(V,{value:"120",children:"2 heures"}),r.jsx(V,{value:"480",children:"8 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Expiration du mot de passe (jours)"}),r.jsxs(Me,{value:n.passwordExpiry.toString(),onValueChange:v=>s(y=>({...y,passwordExpiry:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"30",children:"30 jours"}),r.jsx(V,{value:"60",children:"60 jours"}),r.jsx(V,{value:"90",children:"90 jours"}),r.jsx(V,{value:"180",children:"6 mois"}),r.jsx(V,{value:"365",children:"1 an"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Notifications de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),r.jsx(Lr,{checked:n.loginNotifications,onCheckedChange:v=>s(y=>({...y,loginNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Suivi des appareils"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connectés"})]}),r.jsx(Lr,{checked:n.deviceTracking,onCheckedChange:v=>s(y=>({...y,deviceTracking:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Déconnexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Déconnexion après inactivité"})]}),r.jsx(Lr,{checked:n.autoLogout,onCheckedChange:v=>s(y=>({...y,autoLogout:v}))})]})]}),r.jsxs(q,{onClick:u,className:"w-full gap-2",children:[r.jsx(_p,{className:"h-4 w-4"}),"Sauvegarder les paramètres de sécurité"]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(hM,{className:"h-5 w-5"}),"Sessions Actives"]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:c.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[x(v.device),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.device}),v.current&&r.jsx($e,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.browser," • ",v.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernière activité: ",v.lastActive]})]})]}),!v.current&&r.jsx(q,{variant:"outline",size:"sm",onClick:()=>m(v.id),children:"Terminer"})]},v.id))}),r.jsx(zj,{}),r.jsx(q,{variant:"destructive",onClick:g,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Se souvenir de moi"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connecté entre les sessions"})]}),r.jsx(Lr,{checked:i.rememberMe,onCheckedChange:v=>a(y=>({...y,rememberMe:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Connexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au démarrage"})]}),r.jsx(Lr,{checked:i.autoLogin,onCheckedChange:v=>a(y=>({...y,autoLogin:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Durée de session (heures)"}),r.jsxs(Me,{value:i.sessionDuration.toString(),onValueChange:v=>a(y=>({...y,sessionDuration:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"1",children:"1 heure"}),r.jsx(V,{value:"4",children:"4 heures"}),r.jsx(V,{value:"8",children:"8 heures"}),r.jsx(V,{value:"12",children:"12 heures"}),r.jsx(V,{value:"24",children:"24 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(B,{children:"Sessions simultanées maximum"}),r.jsxs(Me,{value:i.maxConcurrentSessions.toString(),onValueChange:v=>a(y=>({...y,maxConcurrentSessions:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(V,{value:"1",children:"1 session"}),r.jsx(V,{value:"2",children:"2 sessions"}),r.jsx(V,{value:"3",children:"3 sessions"}),r.jsx(V,{value:"5",children:"5 sessions"}),r.jsx(V,{value:"10",children:"10 sessions"})]})]})]})]}),r.jsxs(q,{onClick:d,className:"w-full gap-2",children:[r.jsx(_p,{className:"h-4 w-4"}),"Sauvegarder les paramètres de session"]})]})]}),r.jsxs(he,{children:[r.jsx(Ae,{children:r.jsxs(Ee,{className:"flex items-center gap-2",children:[r.jsx(Mte,{className:"h-5 w-5"}),"Notifications de Sécurité"]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Alertes de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),r.jsx(Lr,{checked:o.loginAlerts,onCheckedChange:v=>l(y=>({...y,loginAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Alertes de sécurité"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les événements de sécurité"})]}),r.jsx(Lr,{checked:o.securityAlerts,onCheckedChange:v=>l(y=>({...y,securityAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Alertes d'appareil"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),r.jsx(Lr,{checked:o.deviceAlerts,onCheckedChange:v=>l(y=>({...y,deviceAlerts:v}))})]}),r.jsx(zj,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Notifications par email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),r.jsx(Lr,{checked:o.emailNotifications,onCheckedChange:v=>l(y=>({...y,emailNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Notifications SMS"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),r.jsx(Lr,{checked:o.smsNotifications,onCheckedChange:v=>l(y=>({...y,smsNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(B,{children:"Notifications push"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),r.jsx(Lr,{checked:o.pushNotifications,onCheckedChange:v=>l(y=>({...y,pushNotifications:v}))})]})]}),r.jsxs(q,{onClick:f,className:"w-full gap-2",children:[r.jsx(_p,{className:"h-4 w-4"}),"Sauvegarder les paramètres de notification"]})]})]})]})]}):null}const l6e=new Nie({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),c6e=()=>r.jsx(qde,{children:r.jsx(Sie,{client:l6e,children:r.jsxs(Zse,{children:[r.jsx(Rne,{}),r.jsx(pre,{}),r.jsx(Vde,{children:r.jsx(sE,{children:r.jsx(lfe,{children:r.jsx($ae,{children:r.jsx(kae,{children:r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs(Sae,{children:[r.jsx(fr,{path:"/",element:r.jsx(Jde,{})}),r.jsx(fr,{path:"/login",element:r.jsx(Xde,{children:r.jsx(Qde,{})})}),r.jsx(fr,{path:"/register",element:r.jsx(Zde,{})}),r.jsx(fr,{path:"/dashboard",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(DFe,{})]})}),r.jsx(fr,{path:"/clients",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx($Fe,{})]})}),r.jsx(fr,{path:"/pets",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(zFe,{})]})}),r.jsx(fr,{path:"/appointments",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(v5e,{})]})}),r.jsx(fr,{path:"/consultations",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(j5e,{})]})}),r.jsx(fr,{path:"/history",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(N5e,{})]})}),r.jsx(fr,{path:"/farm",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(E5e,{})]})}),r.jsx(fr,{path:"/vaccinations",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx($5e,{})]})}),r.jsx(fr,{path:"/antiparasites",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(L5e,{})]})}),r.jsx(fr,{path:"/stock",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(H5e,{})]})}),r.jsx(fr,{path:"/accounting",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(K5e,{})]})}),r.jsx(fr,{path:"/test-stats",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(Q5e,{})]})}),r.jsx(fr,{path:"/simple-test",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(J5e,{})]})}),r.jsx(fr,{path:"/settings",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(n6e,{})]})}),r.jsx(fr,{path:"/profile",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(a6e,{})]})}),r.jsx(fr,{path:"/auth-settings",element:r.jsxs(ds,{children:[r.jsx(us,{}),r.jsx(o6e,{})]})}),r.jsx(fr,{path:"*",element:r.jsx(Z5e,{})})]})})})})})})})]})})});b5(document.getElementById("root")).render(r.jsx(c6e,{}));
