var XO=e=>{throw TypeError(e)};var jN=(e,t,n)=>t.has(e)||XO("Cannot "+n);var ce=(e,t,n)=>(jN(e,t,"read from private field"),n?n.call(e):t.get(e)),ut=(e,t,n)=>t.has(e)?XO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,s)=>(jN(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Vt=(e,t,n)=>(jN(e,t,"access private method"),n);var Ax=(e,t,n,s)=>({set _(i){Xe(e,t,i,n)},get _(){return ce(e,t,s)}});function mJ(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var fL={exports:{}},Gj={},mL={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=Symbol.for("react.element"),gJ=Symbol.for("react.portal"),vJ=Symbol.for("react.fragment"),xJ=Symbol.for("react.strict_mode"),yJ=Symbol.for("react.profiler"),jJ=Symbol.for("react.provider"),bJ=Symbol.for("react.context"),wJ=Symbol.for("react.forward_ref"),NJ=Symbol.for("react.suspense"),SJ=Symbol.for("react.memo"),CJ=Symbol.for("react.lazy"),JO=Symbol.iterator;function _J(e){return e===null||typeof e!="object"?null:(e=JO&&e[JO]||e["@@iterator"],typeof e=="function"?e:null)}var pL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gL=Object.assign,vL={};function Bf(e,t,n){this.props=e,this.context=t,this.refs=vL,this.updater=n||pL}Bf.prototype.isReactComponent={};Bf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xL(){}xL.prototype=Bf.prototype;function PP(e,t,n){this.props=e,this.context=t,this.refs=vL,this.updater=n||pL}var AP=PP.prototype=new xL;AP.constructor=PP;gL(AP,Bf.prototype);AP.isPureReactComponent=!0;var ZO=Array.isArray,yL=Object.prototype.hasOwnProperty,EP={current:null},jL={key:!0,ref:!0,__self:!0,__source:!0};function bL(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)yL.call(t,s)&&!jL.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:rv,type:e,key:a,ref:o,props:i,_owner:EP.current}}function PJ(e,t){return{$$typeof:rv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function TP(e){return typeof e=="object"&&e!==null&&e.$$typeof===rv}function AJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eD=/\/+/g;function bN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AJ(""+e.key):t.toString(36)}function Ey(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rv:case gJ:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+bN(o,0):s,ZO(i)?(n="",e!=null&&(n=e.replace(eD,"$&/")+"/"),Ey(i,t,n,"",function(u){return u})):i!=null&&(TP(i)&&(i=PJ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eD,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",ZO(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+bN(a,l);o+=Ey(a,t,n,c,i)}else if(c=_J(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+bN(a,l++),o+=Ey(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ex(e,t,n){if(e==null)return e;var s=[],i=0;return Ey(e,s,"","",function(a){return t.call(n,a,i++)}),s}function EJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rs={current:null},Ty={transition:null},TJ={ReactCurrentDispatcher:Rs,ReactCurrentBatchConfig:Ty,ReactCurrentOwner:EP};function wL(){throw Error("act(...) is not supported in production builds of React.")}Jt.Children={map:Ex,forEach:function(e,t,n){Ex(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ex(e,function(){t++}),t},toArray:function(e){return Ex(e,function(t){return t})||[]},only:function(e){if(!TP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Jt.Component=Bf;Jt.Fragment=vJ;Jt.Profiler=yJ;Jt.PureComponent=PP;Jt.StrictMode=xJ;Jt.Suspense=NJ;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TJ;Jt.act=wL;Jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=gL({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=EP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yL.call(t,c)&&!jL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:rv,type:e.type,key:i,ref:a,props:s,_owner:o}};Jt.createContext=function(e){return e={$$typeof:bJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jJ,_context:e},e.Consumer=e};Jt.createElement=bL;Jt.createFactory=function(e){var t=bL.bind(null,e);return t.type=e,t};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(e){return{$$typeof:wJ,render:e}};Jt.isValidElement=TP;Jt.lazy=function(e){return{$$typeof:CJ,_payload:{_status:-1,_result:e},_init:EJ}};Jt.memo=function(e,t){return{$$typeof:SJ,type:e,compare:t===void 0?null:t}};Jt.startTransition=function(e){var t=Ty.transition;Ty.transition={};try{e()}finally{Ty.transition=t}};Jt.unstable_act=wL;Jt.useCallback=function(e,t){return Rs.current.useCallback(e,t)};Jt.useContext=function(e){return Rs.current.useContext(e)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(e){return Rs.current.useDeferredValue(e)};Jt.useEffect=function(e,t){return Rs.current.useEffect(e,t)};Jt.useId=function(){return Rs.current.useId()};Jt.useImperativeHandle=function(e,t,n){return Rs.current.useImperativeHandle(e,t,n)};Jt.useInsertionEffect=function(e,t){return Rs.current.useInsertionEffect(e,t)};Jt.useLayoutEffect=function(e,t){return Rs.current.useLayoutEffect(e,t)};Jt.useMemo=function(e,t){return Rs.current.useMemo(e,t)};Jt.useReducer=function(e,t,n){return Rs.current.useReducer(e,t,n)};Jt.useRef=function(e){return Rs.current.useRef(e)};Jt.useState=function(e){return Rs.current.useState(e)};Jt.useSyncExternalStore=function(e,t,n){return Rs.current.useSyncExternalStore(e,t,n)};Jt.useTransition=function(){return Rs.current.useTransition()};Jt.version="18.3.1";mL.exports=Jt;var w=mL.exports;const W=vn(w),kP=mJ({__proto__:null,default:W},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kJ=w,OJ=Symbol.for("react.element"),DJ=Symbol.for("react.fragment"),MJ=Object.prototype.hasOwnProperty,IJ=kJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$J={key:!0,ref:!0,__self:!0,__source:!0};function NL(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)MJ.call(t,s)&&!$J.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:OJ,type:e,key:a,ref:o,props:i,_owner:IJ.current}}Gj.Fragment=DJ;Gj.jsx=NL;Gj.jsxs=NL;fL.exports=Gj;var r=fL.exports,SL={exports:{}},Pi={},CL={exports:{}},_L={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,$){var oe=q.length;q.push($);e:for(;0<oe;){var ge=oe-1>>>1,re=q[ge];if(0<i(re,$))q[ge]=$,q[oe]=re,oe=ge;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var $=q[0],oe=q.pop();if(oe!==$){q[0]=oe;e:for(var ge=0,re=q.length,Z=re>>>1;ge<Z;){var ne=2*(ge+1)-1,ve=q[ne],je=ne+1,we=q[je];if(0>i(ve,oe))je<re&&0>i(we,ve)?(q[ge]=we,q[je]=oe,ge=je):(q[ge]=ve,q[ne]=oe,ge=ne);else if(je<re&&0>i(we,oe))q[ge]=we,q[je]=oe,ge=je;else break e}}return $}function i(q,$){var oe=q.sortIndex-$.sortIndex;return oe!==0?oe:q.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var $=n(u);$!==null;){if($.callback===null)s(u);else if($.startTime<=q)s(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function C(q){if(v=!1,b(q),!x)if(n(c)!==null)x=!0,G(_);else{var $=n(u);$!==null&&J(C,$.startTime-q)}}function _(q,$){x=!1,v&&(v=!1,N(E),E=-1),g=!0;var oe=m;try{for(b($),f=n(c);f!==null&&(!(f.expirationTime>$)||q&&!k());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,m=f.priorityLevel;var re=ge(f.expirationTime<=$);$=e.unstable_now(),typeof re=="function"?f.callback=re:f===n(c)&&s(c),b($)}else s(c);f=n(c)}if(f!==null)var Z=!0;else{var ne=n(u);ne!==null&&J(C,ne.startTime-$),Z=!1}return Z}finally{f=null,m=oe,g=!1}}var A=!1,P=null,E=-1,D=5,I=-1;function k(){return!(e.unstable_now()-I<D)}function O(){if(P!==null){var q=e.unstable_now();I=q;var $=!0;try{$=P(!0,q)}finally{$?L():(A=!1,P=null)}}else A=!1}var L;if(typeof j=="function")L=function(){j(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ee=B.port2;B.port1.onmessage=O,L=function(){ee.postMessage(null)}}else L=function(){y(O,0)};function G(q){P=q,A||(A=!0,L())}function J(q,$){E=y(function(){q(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,G(_))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var oe=m;m=$;try{return q()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=m;m=q;try{return $()}finally{m=oe}},e.unstable_scheduleCallback=function(q,$,oe){var ge=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ge+oe:ge):oe=ge,q){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=oe+re,q={id:d++,callback:$,priorityLevel:q,startTime:oe,expirationTime:re,sortIndex:-1},oe>ge?(q.sortIndex=oe,t(u,q),n(c)===null&&q===n(u)&&(v?(N(E),E=-1):v=!0,J(C,oe-ge))):(q.sortIndex=re,t(c,q),x||g||(x=!0,G(_))),q},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(q){var $=m;return function(){var oe=m;m=$;try{return q.apply(this,arguments)}finally{m=oe}}}})(_L);CL.exports=_L;var RJ=CL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LJ=w,_i=RJ;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PL=new Set,Vp={};function ad(e,t){Qh(e,t),Qh(e+"Capture",t)}function Qh(e,t){for(Vp[e]=t,e=0;e<t.length;e++)PL.add(t[e])}var tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JS=Object.prototype.hasOwnProperty,FJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tD={},nD={};function BJ(e){return JS.call(nD,e)?!0:JS.call(tD,e)?!1:FJ.test(e)?nD[e]=!0:(tD[e]=!0,!1)}function zJ(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VJ(e,t,n,s){if(t===null||typeof t>"u"||zJ(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ls(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ss[e]=new Ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ss[t]=new Ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ss[e]=new Ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ss[e]=new Ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ss[e]=new Ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ss[e]=new Ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ss[e]=new Ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ss[e]=new Ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ss[e]=new Ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var OP=/[\-:]([a-z])/g;function DP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(OP,DP);ss[t]=new Ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(OP,DP);ss[t]=new Ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(OP,DP);ss[t]=new Ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ss[e]=new Ls(e,1,!1,e.toLowerCase(),null,!1,!1)});ss.xlinkHref=new Ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ss[e]=new Ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function MP(e,t,n,s){var i=ss.hasOwnProperty(t)?ss[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VJ(t,n,i,s)&&(n=null),s||i===null?BJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var pl=LJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tx=Symbol.for("react.element"),ih=Symbol.for("react.portal"),ah=Symbol.for("react.fragment"),IP=Symbol.for("react.strict_mode"),ZS=Symbol.for("react.profiler"),AL=Symbol.for("react.provider"),EL=Symbol.for("react.context"),$P=Symbol.for("react.forward_ref"),eC=Symbol.for("react.suspense"),tC=Symbol.for("react.suspense_list"),RP=Symbol.for("react.memo"),zl=Symbol.for("react.lazy"),TL=Symbol.for("react.offscreen"),rD=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=rD&&e[rD]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,wN;function hp(e){if(wN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wN=t&&t[1]||""}return`
`+wN+e}var NN=!1;function SN(e,t){if(!e||NN)return"";NN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{NN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hp(e):""}function UJ(e){switch(e.tag){case 5:return hp(e.type);case 16:return hp("Lazy");case 13:return hp("Suspense");case 19:return hp("SuspenseList");case 0:case 2:case 15:return e=SN(e.type,!1),e;case 11:return e=SN(e.type.render,!1),e;case 1:return e=SN(e.type,!0),e;default:return""}}function nC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ah:return"Fragment";case ih:return"Portal";case ZS:return"Profiler";case IP:return"StrictMode";case eC:return"Suspense";case tC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EL:return(e.displayName||"Context")+".Consumer";case AL:return(e._context.displayName||"Context")+".Provider";case $P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RP:return t=e.displayName||null,t!==null?t:nC(e.type)||"Memo";case zl:t=e._payload,e=e._init;try{return nC(e(t))}catch{}}return null}function qJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nC(t);case 8:return t===IP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WJ(e){var t=kL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kx(e){e._valueTracker||(e._valueTracker=WJ(e))}function OL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=kL(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Yy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rC(e,t){var n=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sD(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=bc(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DL(e,t){t=t.checked,t!=null&&MP(e,"checked",t,!1)}function sC(e,t){DL(e,t);var n=bc(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iC(e,t.type,n):t.hasOwnProperty("defaultValue")&&iC(e,t.type,bc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iD(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function iC(e,t,n){(t!=="number"||Yy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fp=Array.isArray;function Nh(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+bc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function aC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aD(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(fp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bc(n)}}function ML(e,t){var n=bc(t.value),s=bc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function oD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ox,$L=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ox=Ox||document.createElement("div"),Ox.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ox.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Up(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HJ=["Webkit","ms","Moz","O"];Object.keys(bp).forEach(function(e){HJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bp[t]=bp[e]})});function RL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bp.hasOwnProperty(e)&&bp[e]?(""+t).trim():t+"px"}function LL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=RL(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var GJ=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lC(e,t){if(t){if(GJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function cC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uC=null;function LP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dC=null,Sh=null,Ch=null;function lD(e){if(e=av(e)){if(typeof dC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Jj(t),dC(e.stateNode,e.type,t))}}function FL(e){Sh?Ch?Ch.push(e):Ch=[e]:Sh=e}function BL(){if(Sh){var e=Sh,t=Ch;if(Ch=Sh=null,lD(e),t)for(e=0;e<t.length;e++)lD(t[e])}}function zL(e,t){return e(t)}function VL(){}var CN=!1;function UL(e,t,n){if(CN)return e(t,n);CN=!0;try{return zL(e,t,n)}finally{CN=!1,(Sh!==null||Ch!==null)&&(VL(),BL())}}function qp(e,t){var n=e.stateNode;if(n===null)return null;var s=Jj(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var hC=!1;if(tl)try{var zm={};Object.defineProperty(zm,"passive",{get:function(){hC=!0}}),window.addEventListener("test",zm,zm),window.removeEventListener("test",zm,zm)}catch{hC=!1}function KJ(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var wp=!1,Qy=null,Xy=!1,fC=null,YJ={onError:function(e){wp=!0,Qy=e}};function QJ(e,t,n,s,i,a,o,l,c){wp=!1,Qy=null,KJ.apply(YJ,arguments)}function XJ(e,t,n,s,i,a,o,l,c){if(QJ.apply(this,arguments),wp){if(wp){var u=Qy;wp=!1,Qy=null}else throw Error(Ue(198));Xy||(Xy=!0,fC=u)}}function od(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cD(e){if(od(e)!==e)throw Error(Ue(188))}function JJ(e){var t=e.alternate;if(!t){if(t=od(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return cD(i),e;if(a===s)return cD(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==s)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function WL(e){return e=JJ(e),e!==null?HL(e):null}function HL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HL(e);if(t!==null)return t;e=e.sibling}return null}var GL=_i.unstable_scheduleCallback,uD=_i.unstable_cancelCallback,ZJ=_i.unstable_shouldYield,eZ=_i.unstable_requestPaint,mr=_i.unstable_now,tZ=_i.unstable_getCurrentPriorityLevel,FP=_i.unstable_ImmediatePriority,KL=_i.unstable_UserBlockingPriority,Jy=_i.unstable_NormalPriority,nZ=_i.unstable_LowPriority,YL=_i.unstable_IdlePriority,Kj=null,co=null;function rZ(e){if(co&&typeof co.onCommitFiberRoot=="function")try{co.onCommitFiberRoot(Kj,e,void 0,(e.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:aZ,sZ=Math.log,iZ=Math.LN2;function aZ(e){return e>>>=0,e===0?32:31-(sZ(e)/iZ|0)|0}var Dx=64,Mx=4194304;function mp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zy(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=mp(l):(a&=o,a!==0&&(s=mp(a)))}else o=n&~i,o!==0?s=mp(o):a!==0&&(s=mp(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Aa(t),i=1<<n,s|=e[n],t&=~i;return s}function oZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lZ(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Aa(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=oZ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function mC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QL(){var e=Dx;return Dx<<=1,!(Dx&4194240)&&(Dx=64),e}function _N(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Aa(t),e[t]=n}function cZ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Aa(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function BP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Aa(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var Nn=0;function XL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JL,zP,ZL,eF,tF,pC=!1,Ix=[],cc=null,uc=null,dc=null,Wp=new Map,Hp=new Map,ql=[],uZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dD(e,t){switch(e){case"focusin":case"focusout":cc=null;break;case"dragenter":case"dragleave":uc=null;break;case"mouseover":case"mouseout":dc=null;break;case"pointerover":case"pointerout":Wp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hp.delete(t.pointerId)}}function Vm(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=av(t),t!==null&&zP(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dZ(e,t,n,s,i){switch(t){case"focusin":return cc=Vm(cc,e,t,n,s,i),!0;case"dragenter":return uc=Vm(uc,e,t,n,s,i),!0;case"mouseover":return dc=Vm(dc,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Wp.set(a,Vm(Wp.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Hp.set(a,Vm(Hp.get(a)||null,e,t,n,s,i)),!0}return!1}function nF(e){var t=mu(e.target);if(t!==null){var n=od(t);if(n!==null){if(t=n.tag,t===13){if(t=qL(n),t!==null){e.blockedOn=t,tF(e.priority,function(){ZL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ky(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);uC=s,n.target.dispatchEvent(s),uC=null}else return t=av(n),t!==null&&zP(t),e.blockedOn=n,!1;t.shift()}return!0}function hD(e,t,n){ky(e)&&n.delete(t)}function hZ(){pC=!1,cc!==null&&ky(cc)&&(cc=null),uc!==null&&ky(uc)&&(uc=null),dc!==null&&ky(dc)&&(dc=null),Wp.forEach(hD),Hp.forEach(hD)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,pC||(pC=!0,_i.unstable_scheduleCallback(_i.unstable_NormalPriority,hZ)))}function Gp(e){function t(i){return Um(i,e)}if(0<Ix.length){Um(Ix[0],e);for(var n=1;n<Ix.length;n++){var s=Ix[n];s.blockedOn===e&&(s.blockedOn=null)}}for(cc!==null&&Um(cc,e),uc!==null&&Um(uc,e),dc!==null&&Um(dc,e),Wp.forEach(t),Hp.forEach(t),n=0;n<ql.length;n++)s=ql[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<ql.length&&(n=ql[0],n.blockedOn===null);)nF(n),n.blockedOn===null&&ql.shift()}var _h=pl.ReactCurrentBatchConfig,e0=!0;function fZ(e,t,n,s){var i=Nn,a=_h.transition;_h.transition=null;try{Nn=1,VP(e,t,n,s)}finally{Nn=i,_h.transition=a}}function mZ(e,t,n,s){var i=Nn,a=_h.transition;_h.transition=null;try{Nn=4,VP(e,t,n,s)}finally{Nn=i,_h.transition=a}}function VP(e,t,n,s){if(e0){var i=gC(e,t,n,s);if(i===null)$N(e,t,s,t0,n),dD(e,s);else if(dZ(i,e,t,n,s))s.stopPropagation();else if(dD(e,s),t&4&&-1<uZ.indexOf(e)){for(;i!==null;){var a=av(i);if(a!==null&&JL(a),a=gC(e,t,n,s),a===null&&$N(e,t,s,t0,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else $N(e,t,s,null,n)}}var t0=null;function gC(e,t,n,s){if(t0=null,e=LP(s),e=mu(e),e!==null)if(t=od(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return t0=e,null}function rF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tZ()){case FP:return 1;case KL:return 4;case Jy:case nZ:return 16;case YL:return 536870912;default:return 16}default:return 16}}var rc=null,UP=null,Oy=null;function sF(){if(Oy)return Oy;var e,t=UP,n=t.length,s,i="value"in rc?rc.value:rc.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Oy=i.slice(e,1<s?1-s:void 0)}function Dy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $x(){return!0}function fD(){return!1}function Ai(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$x:fD,this.isPropagationStopped=fD,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$x)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$x)},persist:function(){},isPersistent:$x}),t}var zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qP=Ai(zf),iv=nr({},zf,{view:0,detail:0}),pZ=Ai(iv),PN,AN,qm,Yj=nr({},iv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qm&&(qm&&e.type==="mousemove"?(PN=e.screenX-qm.screenX,AN=e.screenY-qm.screenY):AN=PN=0,qm=e),PN)},movementY:function(e){return"movementY"in e?e.movementY:AN}}),mD=Ai(Yj),gZ=nr({},Yj,{dataTransfer:0}),vZ=Ai(gZ),xZ=nr({},iv,{relatedTarget:0}),EN=Ai(xZ),yZ=nr({},zf,{animationName:0,elapsedTime:0,pseudoElement:0}),jZ=Ai(yZ),bZ=nr({},zf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wZ=Ai(bZ),NZ=nr({},zf,{data:0}),pD=Ai(NZ),SZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_Z[e])?!!t[e]:!1}function WP(){return PZ}var AZ=nr({},iv,{key:function(e){if(e.key){var t=SZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WP,charCode:function(e){return e.type==="keypress"?Dy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EZ=Ai(AZ),TZ=nr({},Yj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gD=Ai(TZ),kZ=nr({},iv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WP}),OZ=Ai(kZ),DZ=nr({},zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),MZ=Ai(DZ),IZ=nr({},Yj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$Z=Ai(IZ),RZ=[9,13,27,32],HP=tl&&"CompositionEvent"in window,Np=null;tl&&"documentMode"in document&&(Np=document.documentMode);var LZ=tl&&"TextEvent"in window&&!Np,iF=tl&&(!HP||Np&&8<Np&&11>=Np),vD=" ",xD=!1;function aF(e,t){switch(e){case"keyup":return RZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oh=!1;function FZ(e,t){switch(e){case"compositionend":return oF(t);case"keypress":return t.which!==32?null:(xD=!0,vD);case"textInput":return e=t.data,e===vD&&xD?null:e;default:return null}}function BZ(e,t){if(oh)return e==="compositionend"||!HP&&aF(e,t)?(e=sF(),Oy=UP=rc=null,oh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iF&&t.locale!=="ko"?null:t.data;default:return null}}var zZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zZ[e.type]:t==="textarea"}function lF(e,t,n,s){FL(s),t=n0(t,"onChange"),0<t.length&&(n=new qP("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Sp=null,Kp=null;function VZ(e){yF(e,0)}function Qj(e){var t=uh(e);if(OL(t))return e}function UZ(e,t){if(e==="change")return t}var cF=!1;if(tl){var TN;if(tl){var kN="oninput"in document;if(!kN){var jD=document.createElement("div");jD.setAttribute("oninput","return;"),kN=typeof jD.oninput=="function"}TN=kN}else TN=!1;cF=TN&&(!document.documentMode||9<document.documentMode)}function bD(){Sp&&(Sp.detachEvent("onpropertychange",uF),Kp=Sp=null)}function uF(e){if(e.propertyName==="value"&&Qj(Kp)){var t=[];lF(t,Kp,e,LP(e)),UL(VZ,t)}}function qZ(e,t,n){e==="focusin"?(bD(),Sp=t,Kp=n,Sp.attachEvent("onpropertychange",uF)):e==="focusout"&&bD()}function WZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qj(Kp)}function HZ(e,t){if(e==="click")return Qj(t)}function GZ(e,t){if(e==="input"||e==="change")return Qj(t)}function KZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Da=typeof Object.is=="function"?Object.is:KZ;function Yp(e,t){if(Da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!JS.call(t,i)||!Da(e[i],t[i]))return!1}return!0}function wD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ND(e,t){var n=wD(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wD(n)}}function dF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hF(){for(var e=window,t=Yy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yy(e.document)}return t}function GP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YZ(e){var t=hF(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dF(n.ownerDocument.documentElement,n)){if(s!==null&&GP(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=ND(n,a);var o=ND(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QZ=tl&&"documentMode"in document&&11>=document.documentMode,lh=null,vC=null,Cp=null,xC=!1;function SD(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xC||lh==null||lh!==Yy(s)||(s=lh,"selectionStart"in s&&GP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Cp&&Yp(Cp,s)||(Cp=s,s=n0(vC,"onSelect"),0<s.length&&(t=new qP("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=lh)))}function Rx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ch={animationend:Rx("Animation","AnimationEnd"),animationiteration:Rx("Animation","AnimationIteration"),animationstart:Rx("Animation","AnimationStart"),transitionend:Rx("Transition","TransitionEnd")},ON={},fF={};tl&&(fF=document.createElement("div").style,"AnimationEvent"in window||(delete ch.animationend.animation,delete ch.animationiteration.animation,delete ch.animationstart.animation),"TransitionEvent"in window||delete ch.transitionend.transition);function Xj(e){if(ON[e])return ON[e];if(!ch[e])return e;var t=ch[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fF)return ON[e]=t[n];return e}var mF=Xj("animationend"),pF=Xj("animationiteration"),gF=Xj("animationstart"),vF=Xj("transitionend"),xF=new Map,CD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ac(e,t){xF.set(e,t),ad(t,[e])}for(var DN=0;DN<CD.length;DN++){var MN=CD[DN],XZ=MN.toLowerCase(),JZ=MN[0].toUpperCase()+MN.slice(1);Ac(XZ,"on"+JZ)}Ac(mF,"onAnimationEnd");Ac(pF,"onAnimationIteration");Ac(gF,"onAnimationStart");Ac("dblclick","onDoubleClick");Ac("focusin","onFocus");Ac("focusout","onBlur");Ac(vF,"onTransitionEnd");Qh("onMouseEnter",["mouseout","mouseover"]);Qh("onMouseLeave",["mouseout","mouseover"]);Qh("onPointerEnter",["pointerout","pointerover"]);Qh("onPointerLeave",["pointerout","pointerover"]);ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(pp));function _D(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,XJ(s,t,void 0,e),e.currentTarget=null}function yF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;_D(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;_D(i,l,u),a=c}}}if(Xy)throw e=fC,Xy=!1,fC=null,e}function Bn(e,t){var n=t[NC];n===void 0&&(n=t[NC]=new Set);var s=e+"__bubble";n.has(s)||(jF(t,e,2,!1),n.add(s))}function IN(e,t,n){var s=0;t&&(s|=4),jF(n,e,s,t)}var Lx="_reactListening"+Math.random().toString(36).slice(2);function Qp(e){if(!e[Lx]){e[Lx]=!0,PL.forEach(function(n){n!=="selectionchange"&&(ZZ.has(n)||IN(n,!1,e),IN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lx]||(t[Lx]=!0,IN("selectionchange",!1,t))}}function jF(e,t,n,s){switch(rF(t)){case 1:var i=fZ;break;case 4:i=mZ;break;default:i=VP}n=i.bind(null,t,n,e),i=void 0,!hC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $N(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=mu(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}UL(function(){var u=a,d=LP(n),f=[];e:{var m=xF.get(e);if(m!==void 0){var g=qP,x=e;switch(e){case"keypress":if(Dy(n)===0)break e;case"keydown":case"keyup":g=EZ;break;case"focusin":x="focus",g=EN;break;case"focusout":x="blur",g=EN;break;case"beforeblur":case"afterblur":g=EN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=mD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OZ;break;case mF:case pF:case gF:g=jZ;break;case vF:g=MZ;break;case"scroll":g=pZ;break;case"wheel":g=$Z;break;case"copy":case"cut":case"paste":g=wZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gD}var v=(t&4)!==0,y=!v&&e==="scroll",N=v?m!==null?m+"Capture":null:m;v=[];for(var j=u,b;j!==null;){b=j;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,N!==null&&(C=qp(j,N),C!=null&&v.push(Xp(j,C,b)))),y)break;j=j.return}0<v.length&&(m=new g(m,x,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==uC&&(x=n.relatedTarget||n.fromElement)&&(mu(x)||x[nl]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?mu(x):null,x!==null&&(y=od(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=mD,C="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(v=gD,C="onPointerLeave",N="onPointerEnter",j="pointer"),y=g==null?m:uh(g),b=x==null?m:uh(x),m=new v(C,j+"leave",g,n,d),m.target=y,m.relatedTarget=b,C=null,mu(d)===u&&(v=new v(N,j+"enter",x,n,d),v.target=b,v.relatedTarget=y,C=v),y=C,g&&x)t:{for(v=g,N=x,j=0,b=v;b;b=Bd(b))j++;for(b=0,C=N;C;C=Bd(C))b++;for(;0<j-b;)v=Bd(v),j--;for(;0<b-j;)N=Bd(N),b--;for(;j--;){if(v===N||N!==null&&v===N.alternate)break t;v=Bd(v),N=Bd(N)}v=null}else v=null;g!==null&&PD(f,m,g,v,!1),x!==null&&y!==null&&PD(f,y,x,v,!0)}}e:{if(m=u?uh(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var _=UZ;else if(yD(m))if(cF)_=GZ;else{_=WZ;var A=qZ}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=HZ);if(_&&(_=_(e,u))){lF(f,_,n,d);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&iC(m,"number",m.value)}switch(A=u?uh(u):window,e){case"focusin":(yD(A)||A.contentEditable==="true")&&(lh=A,vC=u,Cp=null);break;case"focusout":Cp=vC=lh=null;break;case"mousedown":xC=!0;break;case"contextmenu":case"mouseup":case"dragend":xC=!1,SD(f,n,d);break;case"selectionchange":if(QZ)break;case"keydown":case"keyup":SD(f,n,d)}var P;if(HP)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else oh?aF(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(iF&&n.locale!=="ko"&&(oh||E!=="onCompositionStart"?E==="onCompositionEnd"&&oh&&(P=sF()):(rc=d,UP="value"in rc?rc.value:rc.textContent,oh=!0)),A=n0(u,E),0<A.length&&(E=new pD(E,e,null,n,d),f.push({event:E,listeners:A}),P?E.data=P:(P=oF(n),P!==null&&(E.data=P)))),(P=LZ?FZ(e,n):BZ(e,n))&&(u=n0(u,"onBeforeInput"),0<u.length&&(d=new pD("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}yF(f,t)})}function Xp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function n0(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qp(e,n),a!=null&&s.unshift(Xp(e,a,i)),a=qp(e,t),a!=null&&s.push(Xp(e,a,i))),e=e.return}return s}function Bd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function PD(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=qp(n,a),c!=null&&o.unshift(Xp(n,c,l))):i||(c=qp(n,a),c!=null&&o.push(Xp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var eee=/\r\n?/g,tee=/\u0000|\uFFFD/g;function AD(e){return(typeof e=="string"?e:""+e).replace(eee,`
`).replace(tee,"")}function Fx(e,t,n){if(t=AD(t),AD(e)!==t&&n)throw Error(Ue(425))}function r0(){}var yC=null,jC=null;function bC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wC=typeof setTimeout=="function"?setTimeout:void 0,nee=typeof clearTimeout=="function"?clearTimeout:void 0,ED=typeof Promise=="function"?Promise:void 0,ree=typeof queueMicrotask=="function"?queueMicrotask:typeof ED<"u"?function(e){return ED.resolve(null).then(e).catch(see)}:wC;function see(e){setTimeout(function(){throw e})}function RN(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Gp(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Gp(t)}function hc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function TD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vf=Math.random().toString(36).slice(2),to="__reactFiber$"+Vf,Jp="__reactProps$"+Vf,nl="__reactContainer$"+Vf,NC="__reactEvents$"+Vf,iee="__reactListeners$"+Vf,aee="__reactHandles$"+Vf;function mu(e){var t=e[to];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nl]||n[to]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=TD(e);e!==null;){if(n=e[to])return n;e=TD(e)}return t}e=n,n=e.parentNode}return null}function av(e){return e=e[to]||e[nl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Jj(e){return e[Jp]||null}var SC=[],dh=-1;function Ec(e){return{current:e}}function qn(e){0>dh||(e.current=SC[dh],SC[dh]=null,dh--)}function In(e,t){dh++,SC[dh]=e.current,e.current=t}var wc={},vs=Ec(wc),Zs=Ec(!1),Lu=wc;function Xh(e,t){var n=e.type.contextTypes;if(!n)return wc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ei(e){return e=e.childContextTypes,e!=null}function s0(){qn(Zs),qn(vs)}function kD(e,t,n){if(vs.current!==wc)throw Error(Ue(168));In(vs,t),In(Zs,n)}function bF(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Ue(108,qJ(e)||"Unknown",i));return nr({},n,s)}function i0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wc,Lu=vs.current,In(vs,e),In(Zs,Zs.current),!0}function OD(e,t,n){var s=e.stateNode;if(!s)throw Error(Ue(169));n?(e=bF(e,t,Lu),s.__reactInternalMemoizedMergedChildContext=e,qn(Zs),qn(vs),In(vs,e)):qn(Zs),In(Zs,n)}var zo=null,Zj=!1,LN=!1;function wF(e){zo===null?zo=[e]:zo.push(e)}function oee(e){Zj=!0,wF(e)}function Tc(){if(!LN&&zo!==null){LN=!0;var e=0,t=Nn;try{var n=zo;for(Nn=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}zo=null,Zj=!1}catch(i){throw zo!==null&&(zo=zo.slice(e+1)),GL(FP,Tc),i}finally{Nn=t,LN=!1}}return null}var hh=[],fh=0,a0=null,o0=0,Ui=[],qi=0,Fu=null,Ho=1,Go="";function iu(e,t){hh[fh++]=o0,hh[fh++]=a0,a0=e,o0=t}function NF(e,t,n){Ui[qi++]=Ho,Ui[qi++]=Go,Ui[qi++]=Fu,Fu=e;var s=Ho;e=Go;var i=32-Aa(s)-1;s&=~(1<<i),n+=1;var a=32-Aa(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Ho=1<<32-Aa(t)+i|n<<i|s,Go=a+e}else Ho=1<<a|n<<i|s,Go=e}function KP(e){e.return!==null&&(iu(e,1),NF(e,1,0))}function YP(e){for(;e===a0;)a0=hh[--fh],hh[fh]=null,o0=hh[--fh],hh[fh]=null;for(;e===Fu;)Fu=Ui[--qi],Ui[qi]=null,Go=Ui[--qi],Ui[qi]=null,Ho=Ui[--qi],Ui[qi]=null}var bi=null,ji=null,Gn=!1,Na=null;function SF(e,t){var n=Hi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function DD(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bi=e,ji=hc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bi=e,ji=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fu!==null?{id:Ho,overflow:Go}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bi=e,ji=null,!0):!1;default:return!1}}function CC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _C(e){if(Gn){var t=ji;if(t){var n=t;if(!DD(e,t)){if(CC(e))throw Error(Ue(418));t=hc(n.nextSibling);var s=bi;t&&DD(e,t)?SF(s,n):(e.flags=e.flags&-4097|2,Gn=!1,bi=e)}}else{if(CC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Gn=!1,bi=e}}}function MD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bi=e}function Bx(e){if(e!==bi)return!1;if(!Gn)return MD(e),Gn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bC(e.type,e.memoizedProps)),t&&(t=ji)){if(CC(e))throw CF(),Error(Ue(418));for(;t;)SF(e,t),t=hc(t.nextSibling)}if(MD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ji=hc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ji=null}}else ji=bi?hc(e.stateNode.nextSibling):null;return!0}function CF(){for(var e=ji;e;)e=hc(e.nextSibling)}function Jh(){ji=bi=null,Gn=!1}function QP(e){Na===null?Na=[e]:Na.push(e)}var lee=pl.ReactCurrentBatchConfig;function Wm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var s=n.stateNode}if(!s)throw Error(Ue(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function zx(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ID(e){var t=e._init;return t(e._payload)}function _F(e){function t(N,j){if(e){var b=N.deletions;b===null?(N.deletions=[j],N.flags|=16):b.push(j)}}function n(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function s(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function i(N,j){return N=gc(N,j),N.index=0,N.sibling=null,N}function a(N,j,b){return N.index=b,e?(b=N.alternate,b!==null?(b=b.index,b<j?(N.flags|=2,j):b):(N.flags|=2,j)):(N.flags|=1048576,j)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,j,b,C){return j===null||j.tag!==6?(j=WN(b,N.mode,C),j.return=N,j):(j=i(j,b),j.return=N,j)}function c(N,j,b,C){var _=b.type;return _===ah?d(N,j,b.props.children,C,b.key):j!==null&&(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zl&&ID(_)===j.type)?(C=i(j,b.props),C.ref=Wm(N,j,b),C.return=N,C):(C=By(b.type,b.key,b.props,null,N.mode,C),C.ref=Wm(N,j,b),C.return=N,C)}function u(N,j,b,C){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=HN(b,N.mode,C),j.return=N,j):(j=i(j,b.children||[]),j.return=N,j)}function d(N,j,b,C,_){return j===null||j.tag!==7?(j=Mu(b,N.mode,C,_),j.return=N,j):(j=i(j,b),j.return=N,j)}function f(N,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=WN(""+j,N.mode,b),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Tx:return b=By(j.type,j.key,j.props,null,N.mode,b),b.ref=Wm(N,null,j),b.return=N,b;case ih:return j=HN(j,N.mode,b),j.return=N,j;case zl:var C=j._init;return f(N,C(j._payload),b)}if(fp(j)||Bm(j))return j=Mu(j,N.mode,b,null),j.return=N,j;zx(N,j)}return null}function m(N,j,b,C){var _=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(N,j,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tx:return b.key===_?c(N,j,b,C):null;case ih:return b.key===_?u(N,j,b,C):null;case zl:return _=b._init,m(N,j,_(b._payload),C)}if(fp(b)||Bm(b))return _!==null?null:d(N,j,b,C,null);zx(N,b)}return null}function g(N,j,b,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return N=N.get(b)||null,l(j,N,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Tx:return N=N.get(C.key===null?b:C.key)||null,c(j,N,C,_);case ih:return N=N.get(C.key===null?b:C.key)||null,u(j,N,C,_);case zl:var A=C._init;return g(N,j,b,A(C._payload),_)}if(fp(C)||Bm(C))return N=N.get(b)||null,d(j,N,C,_,null);zx(j,C)}return null}function x(N,j,b,C){for(var _=null,A=null,P=j,E=j=0,D=null;P!==null&&E<b.length;E++){P.index>E?(D=P,P=null):D=P.sibling;var I=m(N,P,b[E],C);if(I===null){P===null&&(P=D);break}e&&P&&I.alternate===null&&t(N,P),j=a(I,j,E),A===null?_=I:A.sibling=I,A=I,P=D}if(E===b.length)return n(N,P),Gn&&iu(N,E),_;if(P===null){for(;E<b.length;E++)P=f(N,b[E],C),P!==null&&(j=a(P,j,E),A===null?_=P:A.sibling=P,A=P);return Gn&&iu(N,E),_}for(P=s(N,P);E<b.length;E++)D=g(P,N,E,b[E],C),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?E:D.key),j=a(D,j,E),A===null?_=D:A.sibling=D,A=D);return e&&P.forEach(function(k){return t(N,k)}),Gn&&iu(N,E),_}function v(N,j,b,C){var _=Bm(b);if(typeof _!="function")throw Error(Ue(150));if(b=_.call(b),b==null)throw Error(Ue(151));for(var A=_=null,P=j,E=j=0,D=null,I=b.next();P!==null&&!I.done;E++,I=b.next()){P.index>E?(D=P,P=null):D=P.sibling;var k=m(N,P,I.value,C);if(k===null){P===null&&(P=D);break}e&&P&&k.alternate===null&&t(N,P),j=a(k,j,E),A===null?_=k:A.sibling=k,A=k,P=D}if(I.done)return n(N,P),Gn&&iu(N,E),_;if(P===null){for(;!I.done;E++,I=b.next())I=f(N,I.value,C),I!==null&&(j=a(I,j,E),A===null?_=I:A.sibling=I,A=I);return Gn&&iu(N,E),_}for(P=s(N,P);!I.done;E++,I=b.next())I=g(P,N,E,I.value,C),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?E:I.key),j=a(I,j,E),A===null?_=I:A.sibling=I,A=I);return e&&P.forEach(function(O){return t(N,O)}),Gn&&iu(N,E),_}function y(N,j,b,C){if(typeof b=="object"&&b!==null&&b.type===ah&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Tx:e:{for(var _=b.key,A=j;A!==null;){if(A.key===_){if(_=b.type,_===ah){if(A.tag===7){n(N,A.sibling),j=i(A,b.props.children),j.return=N,N=j;break e}}else if(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zl&&ID(_)===A.type){n(N,A.sibling),j=i(A,b.props),j.ref=Wm(N,A,b),j.return=N,N=j;break e}n(N,A);break}else t(N,A);A=A.sibling}b.type===ah?(j=Mu(b.props.children,N.mode,C,b.key),j.return=N,N=j):(C=By(b.type,b.key,b.props,null,N.mode,C),C.ref=Wm(N,j,b),C.return=N,N=C)}return o(N);case ih:e:{for(A=b.key;j!==null;){if(j.key===A)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){n(N,j.sibling),j=i(j,b.children||[]),j.return=N,N=j;break e}else{n(N,j);break}else t(N,j);j=j.sibling}j=HN(b,N.mode,C),j.return=N,N=j}return o(N);case zl:return A=b._init,y(N,j,A(b._payload),C)}if(fp(b))return x(N,j,b,C);if(Bm(b))return v(N,j,b,C);zx(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(n(N,j.sibling),j=i(j,b),j.return=N,N=j):(n(N,j),j=WN(b,N.mode,C),j.return=N,N=j),o(N)):n(N,j)}return y}var Zh=_F(!0),PF=_F(!1),l0=Ec(null),c0=null,mh=null,XP=null;function JP(){XP=mh=c0=null}function ZP(e){var t=l0.current;qn(l0),e._currentValue=t}function PC(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ph(e,t){c0=e,XP=mh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xs=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(XP!==e)if(e={context:e,memoizedValue:t,next:null},mh===null){if(c0===null)throw Error(Ue(308));mh=e,c0.dependencies={lanes:0,firstContext:e}}else mh=mh.next=e;return t}var pu=null;function eA(e){pu===null?pu=[e]:pu.push(e)}function AF(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,eA(t)):(n.next=i.next,i.next=n),t.interleaved=n,rl(e,s)}function rl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vl=!1;function tA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fc(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,an&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,rl(e,n)}return i=s.interleaved,i===null?(t.next=t,eA(s)):(t.next=i.next,i.next=t),s.interleaved=t,rl(e,n)}function My(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,BP(e,n)}}function $D(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function u0(e,t,n,s){var i=e.updateQueue;Vl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,g=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(m=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=nr({},f,m);break e;case 2:Vl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);zu|=o,e.lanes=o,e.memoizedState=f}}function RD(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Ue(191,i));i.call(s)}}}var ov={},uo=Ec(ov),Zp=Ec(ov),eg=Ec(ov);function gu(e){if(e===ov)throw Error(Ue(174));return e}function nA(e,t){switch(In(eg,t),In(Zp,e),In(uo,ov),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oC(t,e)}qn(uo),In(uo,t)}function ef(){qn(uo),qn(Zp),qn(eg)}function TF(e){gu(eg.current);var t=gu(uo.current),n=oC(t,e.type);t!==n&&(In(Zp,e),In(uo,n))}function rA(e){Zp.current===e&&(qn(uo),qn(Zp))}var Zn=Ec(0);function d0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var FN=[];function sA(){for(var e=0;e<FN.length;e++)FN[e]._workInProgressVersionPrimary=null;FN.length=0}var Iy=pl.ReactCurrentDispatcher,BN=pl.ReactCurrentBatchConfig,Bu=0,tr=null,Tr=null,Ur=null,h0=!1,_p=!1,tg=0,cee=0;function cs(){throw Error(Ue(321))}function iA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Da(e[n],t[n]))return!1;return!0}function aA(e,t,n,s,i,a){if(Bu=a,tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Iy.current=e===null||e.memoizedState===null?fee:mee,e=n(s,i),_p){a=0;do{if(_p=!1,tg=0,25<=a)throw Error(Ue(301));a+=1,Ur=Tr=null,t.updateQueue=null,Iy.current=pee,e=n(s,i)}while(_p)}if(Iy.current=f0,t=Tr!==null&&Tr.next!==null,Bu=0,Ur=Tr=tr=null,h0=!1,t)throw Error(Ue(300));return e}function oA(){var e=tg!==0;return tg=0,e}function Qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?tr.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function Zi(){if(Tr===null){var e=tr.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Ur===null?tr.memoizedState:Ur.next;if(t!==null)Ur=t,Tr=e;else{if(e===null)throw Error(Ue(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Ur===null?tr.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function ng(e,t){return typeof t=="function"?t(e):t}function zN(e){var t=Zi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=Tr,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Bu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,tr.lanes|=d,zu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Da(s,t.memoizedState)||(Xs=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,tr.lanes|=a,zu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function VN(e){var t=Zi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Da(a,t.memoizedState)||(Xs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function kF(){}function OF(e,t){var n=tr,s=Zi(),i=t(),a=!Da(s.memoizedState,i);if(a&&(s.memoizedState=i,Xs=!0),s=s.queue,lA(IF.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Ur!==null&&Ur.memoizedState.tag&1){if(n.flags|=2048,rg(9,MF.bind(null,n,s,i,t),void 0,null),Hr===null)throw Error(Ue(349));Bu&30||DF(n,t,i)}return i}function DF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MF(e,t,n,s){t.value=n,t.getSnapshot=s,$F(t)&&RF(e)}function IF(e,t,n){return n(function(){$F(t)&&RF(e)})}function $F(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Da(e,n)}catch{return!0}}function RF(e){var t=rl(e,1);t!==null&&Ea(t,e,1,-1)}function LD(e){var t=Qa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:e},t.queue=e,e=e.dispatch=hee.bind(null,tr,e),[t.memoizedState,e]}function rg(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function LF(){return Zi().memoizedState}function $y(e,t,n,s){var i=Qa();tr.flags|=e,i.memoizedState=rg(1|t,n,void 0,s===void 0?null:s)}function eb(e,t,n,s){var i=Zi();s=s===void 0?null:s;var a=void 0;if(Tr!==null){var o=Tr.memoizedState;if(a=o.destroy,s!==null&&iA(s,o.deps)){i.memoizedState=rg(t,n,a,s);return}}tr.flags|=e,i.memoizedState=rg(1|t,n,a,s)}function FD(e,t){return $y(8390656,8,e,t)}function lA(e,t){return eb(2048,8,e,t)}function FF(e,t){return eb(4,2,e,t)}function BF(e,t){return eb(4,4,e,t)}function zF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VF(e,t,n){return n=n!=null?n.concat([e]):null,eb(4,4,zF.bind(null,t,e),n)}function cA(){}function UF(e,t){var n=Zi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&iA(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function qF(e,t){var n=Zi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&iA(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function WF(e,t,n){return Bu&21?(Da(n,t)||(n=QL(),tr.lanes|=n,zu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xs=!0),e.memoizedState=n)}function uee(e,t){var n=Nn;Nn=n!==0&&4>n?n:4,e(!0);var s=BN.transition;BN.transition={};try{e(!1),t()}finally{Nn=n,BN.transition=s}}function HF(){return Zi().memoizedState}function dee(e,t,n){var s=pc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},GF(e))KF(t,n);else if(n=AF(e,t,n,s),n!==null){var i=Is();Ea(n,e,s,i),YF(n,t,s)}}function hee(e,t,n){var s=pc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(GF(e))KF(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Da(l,o)){var c=t.interleaved;c===null?(i.next=i,eA(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=AF(e,t,i,s),n!==null&&(i=Is(),Ea(n,e,s,i),YF(n,t,s))}}function GF(e){var t=e.alternate;return e===tr||t!==null&&t===tr}function KF(e,t){_p=h0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YF(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,BP(e,n)}}var f0={readContext:Ji,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useInsertionEffect:cs,useLayoutEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useMutableSource:cs,useSyncExternalStore:cs,useId:cs,unstable_isNewReconciler:!1},fee={readContext:Ji,useCallback:function(e,t){return Qa().memoizedState=[e,t===void 0?null:t],e},useContext:Ji,useEffect:FD,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$y(4194308,4,zF.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $y(4194308,4,e,t)},useInsertionEffect:function(e,t){return $y(4,2,e,t)},useMemo:function(e,t){var n=Qa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Qa();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=dee.bind(null,tr,e),[s.memoizedState,e]},useRef:function(e){var t=Qa();return e={current:e},t.memoizedState=e},useState:LD,useDebugValue:cA,useDeferredValue:function(e){return Qa().memoizedState=e},useTransition:function(){var e=LD(!1),t=e[0];return e=uee.bind(null,e[1]),Qa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=tr,i=Qa();if(Gn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),Hr===null)throw Error(Ue(349));Bu&30||DF(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,FD(IF.bind(null,s,a,e),[e]),s.flags|=2048,rg(9,MF.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Qa(),t=Hr.identifierPrefix;if(Gn){var n=Go,s=Ho;n=(s&~(1<<32-Aa(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=tg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mee={readContext:Ji,useCallback:UF,useContext:Ji,useEffect:lA,useImperativeHandle:VF,useInsertionEffect:FF,useLayoutEffect:BF,useMemo:qF,useReducer:zN,useRef:LF,useState:function(){return zN(ng)},useDebugValue:cA,useDeferredValue:function(e){var t=Zi();return WF(t,Tr.memoizedState,e)},useTransition:function(){var e=zN(ng)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:kF,useSyncExternalStore:OF,useId:HF,unstable_isNewReconciler:!1},pee={readContext:Ji,useCallback:UF,useContext:Ji,useEffect:lA,useImperativeHandle:VF,useInsertionEffect:FF,useLayoutEffect:BF,useMemo:qF,useReducer:VN,useRef:LF,useState:function(){return VN(ng)},useDebugValue:cA,useDeferredValue:function(e){var t=Zi();return Tr===null?t.memoizedState=e:WF(t,Tr.memoizedState,e)},useTransition:function(){var e=VN(ng)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:kF,useSyncExternalStore:OF,useId:HF,unstable_isNewReconciler:!1};function ga(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function AC(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:nr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tb={isMounted:function(e){return(e=e._reactInternals)?od(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Is(),i=pc(e),a=Xo(s,i);a.payload=t,n!=null&&(a.callback=n),t=fc(e,a,i),t!==null&&(Ea(t,e,i,s),My(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Is(),i=pc(e),a=Xo(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=fc(e,a,i),t!==null&&(Ea(t,e,i,s),My(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Is(),s=pc(e),i=Xo(n,s);i.tag=2,t!=null&&(i.callback=t),t=fc(e,i,s),t!==null&&(Ea(t,e,s,n),My(t,e,s))}};function BD(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Yp(n,s)||!Yp(i,a):!0}function QF(e,t,n){var s=!1,i=wc,a=t.contextType;return typeof a=="object"&&a!==null?a=Ji(a):(i=ei(t)?Lu:vs.current,s=t.contextTypes,a=(s=s!=null)?Xh(e,i):wc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tb,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function zD(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&tb.enqueueReplaceState(t,t.state,null)}function EC(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},tA(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ji(a):(a=ei(t)?Lu:vs.current,i.context=Xh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(AC(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&tb.enqueueReplaceState(i,i.state,null),u0(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function tf(e,t){try{var n="",s=t;do n+=UJ(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function UN(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function TC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gee=typeof WeakMap=="function"?WeakMap:Map;function XF(e,t,n){n=Xo(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){p0||(p0=!0,BC=s),TC(e,t)},n}function JF(e,t,n){n=Xo(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){TC(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){TC(e,t),typeof s!="function"&&(mc===null?mc=new Set([this]):mc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function VD(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new gee;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=Tee.bind(null,e,t,n),t.then(e,e))}function UD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qD(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xo(-1,1),t.tag=2,fc(n,t,1))),n.lanes|=1),e)}var vee=pl.ReactCurrentOwner,Xs=!1;function Es(e,t,n,s){t.child=e===null?PF(t,null,n,s):Zh(t,e.child,n,s)}function WD(e,t,n,s,i){n=n.render;var a=t.ref;return Ph(t,i),s=aA(e,t,n,s,a,i),n=oA(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sl(e,t,i)):(Gn&&n&&KP(t),t.flags|=1,Es(e,t,s,i),t.child)}function HD(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!vA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ZF(e,t,a,s,i)):(e=By(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Yp,n(o,s)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,e=gc(a,s),e.ref=t.ref,e.return=t,t.child=e}function ZF(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Yp(a,s)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,sl(e,t,i)}return kC(e,t,n,s,i)}function e5(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(gh,pi),pi|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,In(gh,pi),pi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,In(gh,pi),pi|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,In(gh,pi),pi|=s;return Es(e,t,i,n),t.child}function t5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kC(e,t,n,s,i){var a=ei(n)?Lu:vs.current;return a=Xh(t,a),Ph(t,i),n=aA(e,t,n,s,a,i),s=oA(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sl(e,t,i)):(Gn&&s&&KP(t),t.flags|=1,Es(e,t,n,i),t.child)}function GD(e,t,n,s,i){if(ei(n)){var a=!0;i0(t)}else a=!1;if(Ph(t,i),t.stateNode===null)Ry(e,t),QF(t,n,s),EC(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ji(u):(u=ei(n)?Lu:vs.current,u=Xh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&zD(t,o,s,u),Vl=!1;var m=t.memoizedState;o.state=m,u0(t,s,o,i),c=t.memoizedState,l!==s||m!==c||Zs.current||Vl?(typeof d=="function"&&(AC(t,n,d,s),c=t.memoizedState),(l=Vl||BD(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,EF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ga(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ji(c):(c=ei(n)?Lu:vs.current,c=Xh(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&zD(t,o,s,c),Vl=!1,m=t.memoizedState,o.state=m,u0(t,s,o,i);var x=t.memoizedState;l!==f||m!==x||Zs.current||Vl?(typeof g=="function"&&(AC(t,n,g,s),x=t.memoizedState),(u=Vl||BD(t,n,u,s,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return OC(e,t,n,s,a,i)}function OC(e,t,n,s,i,a){t5(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&OD(t,n,!1),sl(e,t,a);s=t.stateNode,vee.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Zh(t,e.child,null,a),t.child=Zh(t,null,l,a)):Es(e,t,l,a),t.memoizedState=s.state,i&&OD(t,n,!0),t.child}function n5(e){var t=e.stateNode;t.pendingContext?kD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kD(e,t.context,!1),nA(e,t.containerInfo)}function KD(e,t,n,s,i){return Jh(),QP(i),t.flags|=256,Es(e,t,n,s),t.child}var DC={dehydrated:null,treeContext:null,retryLane:0};function MC(e){return{baseLanes:e,cachePool:null,transitions:null}}function r5(e,t,n){var s=t.pendingProps,i=Zn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),In(Zn,i&1),e===null)return _C(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=sb(o,s,0,null),e=Mu(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=MC(n),t.memoizedState=DC,e):uA(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return xee(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=gc(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=gc(l,a):(a=Mu(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?MC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=DC,s}return a=e.child,e=a.sibling,s=gc(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function uA(e,t){return t=sb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vx(e,t,n,s){return s!==null&&QP(s),Zh(t,e.child,null,n),e=uA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xee(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=UN(Error(Ue(422))),Vx(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=sb({mode:"visible",children:s.children},i,0,null),a=Mu(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Zh(t,e.child,null,o),t.child.memoizedState=MC(o),t.memoizedState=DC,a);if(!(t.mode&1))return Vx(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ue(419)),s=UN(a,s,void 0),Vx(e,t,o,s)}if(l=(o&e.childLanes)!==0,Xs||l){if(s=Hr,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,rl(e,i),Ea(s,e,i,-1))}return gA(),s=UN(Error(Ue(421))),Vx(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kee.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ji=hc(i.nextSibling),bi=t,Gn=!0,Na=null,e!==null&&(Ui[qi++]=Ho,Ui[qi++]=Go,Ui[qi++]=Fu,Ho=e.id,Go=e.overflow,Fu=t),t=uA(t,s.children),t.flags|=4096,t)}function YD(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),PC(e.return,t,n)}function qN(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function s5(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Es(e,t,s.children,n),s=Zn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&YD(e,n,t);else if(e.tag===19)YD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(In(Zn,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&d0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qN(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&d0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qN(t,!0,n,null,a);break;case"together":qN(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ry(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=gc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yee(e,t,n){switch(t.tag){case 3:n5(t),Jh();break;case 5:TF(t);break;case 1:ei(t.type)&&i0(t);break;case 4:nA(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;In(l0,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(In(Zn,Zn.current&1),t.flags|=128,null):n&t.child.childLanes?r5(e,t,n):(In(Zn,Zn.current&1),e=sl(e,t,n),e!==null?e.sibling:null);In(Zn,Zn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return s5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),In(Zn,Zn.current),s)break;return null;case 22:case 23:return t.lanes=0,e5(e,t,n)}return sl(e,t,n)}var i5,IC,a5,o5;i5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};IC=function(){};a5=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,gu(uo.current);var a=null;switch(n){case"input":i=rC(e,i),s=rC(e,s),a=[];break;case"select":i=nr({},i,{value:void 0}),s=nr({},s,{value:void 0}),a=[];break;case"textarea":i=aC(e,i),s=aC(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=r0)}lC(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Bn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};o5=function(e,t,n,s){n!==s&&(t.flags|=4)};function Hm(e,t){if(!Gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function us(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function jee(e,t,n){var s=t.pendingProps;switch(YP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return us(t),null;case 1:return ei(t.type)&&s0(),us(t),null;case 3:return s=t.stateNode,ef(),qn(Zs),qn(vs),sA(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Na!==null&&(UC(Na),Na=null))),IC(e,t),us(t),null;case 5:rA(t);var i=gu(eg.current);if(n=t.type,e!==null&&t.stateNode!=null)a5(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ue(166));return us(t),null}if(e=gu(uo.current),Bx(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[to]=t,s[Jp]=a,e=(t.mode&1)!==0,n){case"dialog":Bn("cancel",s),Bn("close",s);break;case"iframe":case"object":case"embed":Bn("load",s);break;case"video":case"audio":for(i=0;i<pp.length;i++)Bn(pp[i],s);break;case"source":Bn("error",s);break;case"img":case"image":case"link":Bn("error",s),Bn("load",s);break;case"details":Bn("toggle",s);break;case"input":sD(s,a),Bn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Bn("invalid",s);break;case"textarea":aD(s,a),Bn("invalid",s)}lC(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Fx(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Fx(s.textContent,l,e),i=["children",""+l]):Vp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Bn("scroll",s)}switch(n){case"input":kx(s),iD(s,a,!0);break;case"textarea":kx(s),oD(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=r0)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[to]=t,e[Jp]=s,i5(e,t,!1,!1),t.stateNode=e;e:{switch(o=cC(n,s),n){case"dialog":Bn("cancel",e),Bn("close",e),i=s;break;case"iframe":case"object":case"embed":Bn("load",e),i=s;break;case"video":case"audio":for(i=0;i<pp.length;i++)Bn(pp[i],e);i=s;break;case"source":Bn("error",e),i=s;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),i=s;break;case"details":Bn("toggle",e),i=s;break;case"input":sD(e,s),i=rC(e,s),Bn("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=nr({},s,{value:void 0}),Bn("invalid",e);break;case"textarea":aD(e,s),i=aC(e,s),Bn("invalid",e);break;default:i=s}lC(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?LL(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$L(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Up(e,c):typeof c=="number"&&Up(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Bn("scroll",e):c!=null&&MP(e,a,c,o))}switch(n){case"input":kx(e),iD(e,s,!1);break;case"textarea":kx(e),oD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+bc(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Nh(e,!!s.multiple,a,!1):s.defaultValue!=null&&Nh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=r0)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return us(t),null;case 6:if(e&&t.stateNode!=null)o5(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=gu(eg.current),gu(uo.current),Bx(t)){if(s=t.stateNode,n=t.memoizedProps,s[to]=t,(a=s.nodeValue!==n)&&(e=bi,e!==null))switch(e.tag){case 3:Fx(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fx(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[to]=t,t.stateNode=s}return us(t),null;case 13:if(qn(Zn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gn&&ji!==null&&t.mode&1&&!(t.flags&128))CF(),Jh(),t.flags|=98560,a=!1;else if(a=Bx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[to]=t}else Jh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;us(t),a=!1}else Na!==null&&(UC(Na),Na=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Zn.current&1?Mr===0&&(Mr=3):gA())),t.updateQueue!==null&&(t.flags|=4),us(t),null);case 4:return ef(),IC(e,t),e===null&&Qp(t.stateNode.containerInfo),us(t),null;case 10:return ZP(t.type._context),us(t),null;case 17:return ei(t.type)&&s0(),us(t),null;case 19:if(qn(Zn),a=t.memoizedState,a===null)return us(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Hm(a,!1);else{if(Mr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=d0(e),o!==null){for(t.flags|=128,Hm(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return In(Zn,Zn.current&1|2),t.child}e=e.sibling}a.tail!==null&&mr()>nf&&(t.flags|=128,s=!0,Hm(a,!1),t.lanes=4194304)}else{if(!s)if(e=d0(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Gn)return us(t),null}else 2*mr()-a.renderingStartTime>nf&&n!==1073741824&&(t.flags|=128,s=!0,Hm(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mr(),t.sibling=null,n=Zn.current,In(Zn,s?n&1|2:n&1),t):(us(t),null);case 22:case 23:return pA(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?pi&1073741824&&(us(t),t.subtreeFlags&6&&(t.flags|=8192)):us(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function bee(e,t){switch(YP(t),t.tag){case 1:return ei(t.type)&&s0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ef(),qn(Zs),qn(vs),sA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rA(t),null;case 13:if(qn(Zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Jh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qn(Zn),null;case 4:return ef(),null;case 10:return ZP(t.type._context),null;case 22:case 23:return pA(),null;case 24:return null;default:return null}}var Ux=!1,ms=!1,wee=typeof WeakSet=="function"?WeakSet:Set,rt=null;function ph(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){or(e,t,s)}else n.current=null}function $C(e,t,n){try{n()}catch(s){or(e,t,s)}}var QD=!1;function Nee(e,t){if(yC=e0,e=hF(),GP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===s&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jC={focusedElem:e,selectionRange:n},e0=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){t=rt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,N=t.stateNode,j=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:ga(t.type,v),y);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(C){or(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}return x=QD,QD=!1,x}function Pp(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&$C(t,n,a)}i=i.next}while(i!==s)}}function nb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function RC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l5(e){var t=e.alternate;t!==null&&(e.alternate=null,l5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[to],delete t[Jp],delete t[NC],delete t[iee],delete t[aee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c5(e){return e.tag===5||e.tag===3||e.tag===4}function XD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function LC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=r0));else if(s!==4&&(e=e.child,e!==null))for(LC(e,t,n),e=e.sibling;e!==null;)LC(e,t,n),e=e.sibling}function FC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(FC(e,t,n),e=e.sibling;e!==null;)FC(e,t,n),e=e.sibling}var ts=null,ya=!1;function Ol(e,t,n){for(n=n.child;n!==null;)u5(e,t,n),n=n.sibling}function u5(e,t,n){if(co&&typeof co.onCommitFiberUnmount=="function")try{co.onCommitFiberUnmount(Kj,n)}catch{}switch(n.tag){case 5:ms||ph(n,t);case 6:var s=ts,i=ya;ts=null,Ol(e,t,n),ts=s,ya=i,ts!==null&&(ya?(e=ts,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ts.removeChild(n.stateNode));break;case 18:ts!==null&&(ya?(e=ts,n=n.stateNode,e.nodeType===8?RN(e.parentNode,n):e.nodeType===1&&RN(e,n),Gp(e)):RN(ts,n.stateNode));break;case 4:s=ts,i=ya,ts=n.stateNode.containerInfo,ya=!0,Ol(e,t,n),ts=s,ya=i;break;case 0:case 11:case 14:case 15:if(!ms&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&$C(n,t,o),i=i.next}while(i!==s)}Ol(e,t,n);break;case 1:if(!ms&&(ph(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){or(n,t,l)}Ol(e,t,n);break;case 21:Ol(e,t,n);break;case 22:n.mode&1?(ms=(s=ms)||n.memoizedState!==null,Ol(e,t,n),ms=s):Ol(e,t,n);break;default:Ol(e,t,n)}}function JD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wee),t.forEach(function(s){var i=Oee.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function da(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ts=l.stateNode,ya=!1;break e;case 3:ts=l.stateNode.containerInfo,ya=!0;break e;case 4:ts=l.stateNode.containerInfo,ya=!0;break e}l=l.return}if(ts===null)throw Error(Ue(160));u5(a,o,i),ts=null,ya=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){or(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d5(t,e),t=t.sibling}function d5(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(da(t,e),Ya(e),s&4){try{Pp(3,e,e.return),nb(3,e)}catch(v){or(e,e.return,v)}try{Pp(5,e,e.return)}catch(v){or(e,e.return,v)}}break;case 1:da(t,e),Ya(e),s&512&&n!==null&&ph(n,n.return);break;case 5:if(da(t,e),Ya(e),s&512&&n!==null&&ph(n,n.return),e.flags&32){var i=e.stateNode;try{Up(i,"")}catch(v){or(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&DL(i,a),cC(l,o);var u=cC(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?LL(i,f):d==="dangerouslySetInnerHTML"?$L(i,f):d==="children"?Up(i,f):MP(i,d,f,u)}switch(l){case"input":sC(i,a);break;case"textarea":ML(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Nh(i,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?Nh(i,!!a.multiple,a.defaultValue,!0):Nh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Jp]=a}catch(v){or(e,e.return,v)}}break;case 6:if(da(t,e),Ya(e),s&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){or(e,e.return,v)}}break;case 3:if(da(t,e),Ya(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Gp(t.containerInfo)}catch(v){or(e,e.return,v)}break;case 4:da(t,e),Ya(e);break;case 13:da(t,e),Ya(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(fA=mr())),s&4&&JD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ms=(u=ms)||d,da(t,e),ms=u):da(t,e),Ya(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(rt=e,d=e.child;d!==null;){for(f=rt=d;rt!==null;){switch(m=rt,g=m.child,m.tag){case 0:case 11:case 14:case 15:Pp(4,m,m.return);break;case 1:ph(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){or(s,n,v)}}break;case 5:ph(m,m.return);break;case 22:if(m.memoizedState!==null){eM(f);continue}}g!==null?(g.return=m,rt=g):eM(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RL("display",o))}catch(v){or(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){or(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:da(t,e),Ya(e),s&4&&JD(e);break;case 21:break;default:da(t,e),Ya(e)}}function Ya(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(c5(n)){var s=n;break e}n=n.return}throw Error(Ue(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Up(i,""),s.flags&=-33);var a=XD(e);FC(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=XD(e);LC(e,l,o);break;default:throw Error(Ue(161))}}catch(c){or(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function See(e,t,n){rt=e,h5(e)}function h5(e,t,n){for(var s=(e.mode&1)!==0;rt!==null;){var i=rt,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Ux;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ms;l=Ux;var u=ms;if(Ux=o,(ms=c)&&!u)for(rt=i;rt!==null;)o=rt,c=o.child,o.tag===22&&o.memoizedState!==null?tM(i):c!==null?(c.return=o,rt=c):tM(i);for(;a!==null;)rt=a,h5(a),a=a.sibling;rt=i,Ux=l,ms=u}ZD(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,rt=a):ZD(e)}}function ZD(e){for(;rt!==null;){var t=rt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ms||nb(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ms)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&RD(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}RD(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ms||t.flags&512&&RC(t)}catch(m){or(t,t.return,m)}}if(t===e){rt=null;break}if(n=t.sibling,n!==null){n.return=t.return,rt=n;break}rt=t.return}}function eM(e){for(;rt!==null;){var t=rt;if(t===e){rt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,rt=n;break}rt=t.return}}function tM(e){for(;rt!==null;){var t=rt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nb(4,t)}catch(c){or(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){or(t,i,c)}}var a=t.return;try{RC(t)}catch(c){or(t,a,c)}break;case 5:var o=t.return;try{RC(t)}catch(c){or(t,o,c)}}}catch(c){or(t,t.return,c)}if(t===e){rt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,rt=l;break}rt=t.return}}var Cee=Math.ceil,m0=pl.ReactCurrentDispatcher,dA=pl.ReactCurrentOwner,Yi=pl.ReactCurrentBatchConfig,an=0,Hr=null,jr=null,ns=0,pi=0,gh=Ec(0),Mr=0,sg=null,zu=0,rb=0,hA=0,Ap=null,Ys=null,fA=0,nf=1/0,Lo=null,p0=!1,BC=null,mc=null,qx=!1,sc=null,g0=0,Ep=0,zC=null,Ly=-1,Fy=0;function Is(){return an&6?mr():Ly!==-1?Ly:Ly=mr()}function pc(e){return e.mode&1?an&2&&ns!==0?ns&-ns:lee.transition!==null?(Fy===0&&(Fy=QL()),Fy):(e=Nn,e!==0||(e=window.event,e=e===void 0?16:rF(e.type)),e):1}function Ea(e,t,n,s){if(50<Ep)throw Ep=0,zC=null,Error(Ue(185));sv(e,n,s),(!(an&2)||e!==Hr)&&(e===Hr&&(!(an&2)&&(rb|=n),Mr===4&&Wl(e,ns)),ti(e,s),n===1&&an===0&&!(t.mode&1)&&(nf=mr()+500,Zj&&Tc()))}function ti(e,t){var n=e.callbackNode;lZ(e,t);var s=Zy(e,e===Hr?ns:0);if(s===0)n!==null&&uD(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&uD(n),t===1)e.tag===0?oee(nM.bind(null,e)):wF(nM.bind(null,e)),ree(function(){!(an&6)&&Tc()}),n=null;else{switch(XL(s)){case 1:n=FP;break;case 4:n=KL;break;case 16:n=Jy;break;case 536870912:n=YL;break;default:n=Jy}n=j5(n,f5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function f5(e,t){if(Ly=-1,Fy=0,an&6)throw Error(Ue(327));var n=e.callbackNode;if(Ah()&&e.callbackNode!==n)return null;var s=Zy(e,e===Hr?ns:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=v0(e,s);else{t=s;var i=an;an|=2;var a=p5();(Hr!==e||ns!==t)&&(Lo=null,nf=mr()+500,Du(e,t));do try{Aee();break}catch(l){m5(e,l)}while(!0);JP(),m0.current=a,an=i,jr!==null?t=0:(Hr=null,ns=0,t=Mr)}if(t!==0){if(t===2&&(i=mC(e),i!==0&&(s=i,t=VC(e,i))),t===1)throw n=sg,Du(e,0),Wl(e,s),ti(e,mr()),n;if(t===6)Wl(e,s);else{if(i=e.current.alternate,!(s&30)&&!_ee(i)&&(t=v0(e,s),t===2&&(a=mC(e),a!==0&&(s=a,t=VC(e,a))),t===1))throw n=sg,Du(e,0),Wl(e,s),ti(e,mr()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Ue(345));case 2:au(e,Ys,Lo);break;case 3:if(Wl(e,s),(s&130023424)===s&&(t=fA+500-mr(),10<t)){if(Zy(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Is(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wC(au.bind(null,e,Ys,Lo),t);break}au(e,Ys,Lo);break;case 4:if(Wl(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Aa(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=mr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Cee(s/1960))-s,10<s){e.timeoutHandle=wC(au.bind(null,e,Ys,Lo),s);break}au(e,Ys,Lo);break;case 5:au(e,Ys,Lo);break;default:throw Error(Ue(329))}}}return ti(e,mr()),e.callbackNode===n?f5.bind(null,e):null}function VC(e,t){var n=Ap;return e.current.memoizedState.isDehydrated&&(Du(e,t).flags|=256),e=v0(e,t),e!==2&&(t=Ys,Ys=n,t!==null&&UC(t)),e}function UC(e){Ys===null?Ys=e:Ys.push.apply(Ys,e)}function _ee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Da(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wl(e,t){for(t&=~hA,t&=~rb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Aa(t),s=1<<n;e[n]=-1,t&=~s}}function nM(e){if(an&6)throw Error(Ue(327));Ah();var t=Zy(e,0);if(!(t&1))return ti(e,mr()),null;var n=v0(e,t);if(e.tag!==0&&n===2){var s=mC(e);s!==0&&(t=s,n=VC(e,s))}if(n===1)throw n=sg,Du(e,0),Wl(e,t),ti(e,mr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,au(e,Ys,Lo),ti(e,mr()),null}function mA(e,t){var n=an;an|=1;try{return e(t)}finally{an=n,an===0&&(nf=mr()+500,Zj&&Tc())}}function Vu(e){sc!==null&&sc.tag===0&&!(an&6)&&Ah();var t=an;an|=1;var n=Yi.transition,s=Nn;try{if(Yi.transition=null,Nn=1,e)return e()}finally{Nn=s,Yi.transition=n,an=t,!(an&6)&&Tc()}}function pA(){pi=gh.current,qn(gh)}function Du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nee(n)),jr!==null)for(n=jr.return;n!==null;){var s=n;switch(YP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&s0();break;case 3:ef(),qn(Zs),qn(vs),sA();break;case 5:rA(s);break;case 4:ef();break;case 13:qn(Zn);break;case 19:qn(Zn);break;case 10:ZP(s.type._context);break;case 22:case 23:pA()}n=n.return}if(Hr=e,jr=e=gc(e.current,null),ns=pi=t,Mr=0,sg=null,hA=rb=zu=0,Ys=Ap=null,pu!==null){for(t=0;t<pu.length;t++)if(n=pu[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}pu=null}return e}function m5(e,t){do{var n=jr;try{if(JP(),Iy.current=f0,h0){for(var s=tr.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}h0=!1}if(Bu=0,Ur=Tr=tr=null,_p=!1,tg=0,dA.current=null,n===null||n.return===null){Mr=1,sg=t,jr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=ns,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=UD(o);if(g!==null){g.flags&=-257,qD(g,o,l,a,t),g.mode&1&&VD(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){VD(a,u,t),gA();break e}c=Error(Ue(426))}}else if(Gn&&l.mode&1){var y=UD(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),qD(y,o,l,a,t),QP(tf(c,l));break e}}a=c=tf(c,l),Mr!==4&&(Mr=2),Ap===null?Ap=[a]:Ap.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=XF(a,c,t);$D(a,N);break e;case 1:l=c;var j=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mc===null||!mc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=JF(a,l,t);$D(a,C);break e}}a=a.return}while(a!==null)}v5(n)}catch(_){t=_,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function p5(){var e=m0.current;return m0.current=f0,e===null?f0:e}function gA(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Hr===null||!(zu&268435455)&&!(rb&268435455)||Wl(Hr,ns)}function v0(e,t){var n=an;an|=2;var s=p5();(Hr!==e||ns!==t)&&(Lo=null,Du(e,t));do try{Pee();break}catch(i){m5(e,i)}while(!0);if(JP(),an=n,m0.current=s,jr!==null)throw Error(Ue(261));return Hr=null,ns=0,Mr}function Pee(){for(;jr!==null;)g5(jr)}function Aee(){for(;jr!==null&&!ZJ();)g5(jr)}function g5(e){var t=y5(e.alternate,e,pi);e.memoizedProps=e.pendingProps,t===null?v5(e):jr=t,dA.current=null}function v5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bee(n,t),n!==null){n.flags&=32767,jr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mr=6,jr=null;return}}else if(n=jee(n,t,pi),n!==null){jr=n;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Mr===0&&(Mr=5)}function au(e,t,n){var s=Nn,i=Yi.transition;try{Yi.transition=null,Nn=1,Eee(e,t,n,s)}finally{Yi.transition=i,Nn=s}return null}function Eee(e,t,n,s){do Ah();while(sc!==null);if(an&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(cZ(e,a),e===Hr&&(jr=Hr=null,ns=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qx||(qx=!0,j5(Jy,function(){return Ah(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Yi.transition,Yi.transition=null;var o=Nn;Nn=1;var l=an;an|=4,dA.current=null,Nee(e,n),d5(n,e),YZ(jC),e0=!!yC,jC=yC=null,e.current=n,See(n),eZ(),an=l,Nn=o,Yi.transition=a}else e.current=n;if(qx&&(qx=!1,sc=e,g0=i),a=e.pendingLanes,a===0&&(mc=null),rZ(n.stateNode),ti(e,mr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(p0)throw p0=!1,e=BC,BC=null,e;return g0&1&&e.tag!==0&&Ah(),a=e.pendingLanes,a&1?e===zC?Ep++:(Ep=0,zC=e):Ep=0,Tc(),null}function Ah(){if(sc!==null){var e=XL(g0),t=Yi.transition,n=Nn;try{if(Yi.transition=null,Nn=16>e?16:e,sc===null)var s=!1;else{if(e=sc,sc=null,g0=0,an&6)throw Error(Ue(331));var i=an;for(an|=4,rt=e.current;rt!==null;){var a=rt,o=a.child;if(rt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(rt=u;rt!==null;){var d=rt;switch(d.tag){case 0:case 11:case 15:Pp(8,d,a)}var f=d.child;if(f!==null)f.return=d,rt=f;else for(;rt!==null;){d=rt;var m=d.sibling,g=d.return;if(l5(d),d===u){rt=null;break}if(m!==null){m.return=g,rt=m;break}rt=g}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}rt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,rt=o;else e:for(;rt!==null;){if(a=rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pp(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,rt=N;break e}rt=a.return}}var j=e.current;for(rt=j;rt!==null;){o=rt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,rt=b;else e:for(o=j;rt!==null;){if(l=rt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nb(9,l)}}catch(_){or(l,l.return,_)}if(l===o){rt=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,rt=C;break e}rt=l.return}}if(an=i,Tc(),co&&typeof co.onPostCommitFiberRoot=="function")try{co.onPostCommitFiberRoot(Kj,e)}catch{}s=!0}return s}finally{Nn=n,Yi.transition=t}}return!1}function rM(e,t,n){t=tf(n,t),t=XF(e,t,1),e=fc(e,t,1),t=Is(),e!==null&&(sv(e,1,t),ti(e,t))}function or(e,t,n){if(e.tag===3)rM(e,e,n);else for(;t!==null;){if(t.tag===3){rM(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mc===null||!mc.has(s))){e=tf(n,e),e=JF(t,e,1),t=fc(t,e,1),e=Is(),t!==null&&(sv(t,1,e),ti(t,e));break}}t=t.return}}function Tee(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Is(),e.pingedLanes|=e.suspendedLanes&n,Hr===e&&(ns&n)===n&&(Mr===4||Mr===3&&(ns&130023424)===ns&&500>mr()-fA?Du(e,0):hA|=n),ti(e,t)}function x5(e,t){t===0&&(e.mode&1?(t=Mx,Mx<<=1,!(Mx&130023424)&&(Mx=4194304)):t=1);var n=Is();e=rl(e,t),e!==null&&(sv(e,t,n),ti(e,n))}function kee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x5(e,n)}function Oee(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ue(314))}s!==null&&s.delete(t),x5(e,n)}var y5;y5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zs.current)Xs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xs=!1,yee(e,t,n);Xs=!!(e.flags&131072)}else Xs=!1,Gn&&t.flags&1048576&&NF(t,o0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ry(e,t),e=t.pendingProps;var i=Xh(t,vs.current);Ph(t,n),i=aA(null,t,s,e,i,n);var a=oA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ei(s)?(a=!0,i0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tA(t),i.updater=tb,t.stateNode=i,i._reactInternals=t,EC(t,s,e,n),t=OC(null,t,s,!0,a,n)):(t.tag=0,Gn&&a&&KP(t),Es(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ry(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=Mee(s),e=ga(s,e),i){case 0:t=kC(null,t,s,e,n);break e;case 1:t=GD(null,t,s,e,n);break e;case 11:t=WD(null,t,s,e,n);break e;case 14:t=HD(null,t,s,ga(s.type,e),n);break e}throw Error(Ue(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),kC(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),GD(e,t,s,i,n);case 3:e:{if(n5(t),e===null)throw Error(Ue(387));s=t.pendingProps,a=t.memoizedState,i=a.element,EF(e,t),u0(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=tf(Error(Ue(423)),t),t=KD(e,t,s,n,i);break e}else if(s!==i){i=tf(Error(Ue(424)),t),t=KD(e,t,s,n,i);break e}else for(ji=hc(t.stateNode.containerInfo.firstChild),bi=t,Gn=!0,Na=null,n=PF(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jh(),s===i){t=sl(e,t,n);break e}Es(e,t,s,n)}t=t.child}return t;case 5:return TF(t),e===null&&_C(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,bC(s,i)?o=null:a!==null&&bC(s,a)&&(t.flags|=32),t5(e,t),Es(e,t,o,n),t.child;case 6:return e===null&&_C(t),null;case 13:return r5(e,t,n);case 4:return nA(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Zh(t,null,s,n):Es(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),WD(e,t,s,i,n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:return Es(e,t,t.pendingProps.children,n),t.child;case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,In(l0,s._currentValue),s._currentValue=o,a!==null)if(Da(a.value,o)){if(a.children===i.children&&!Zs.current){t=sl(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Xo(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),PC(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),PC(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Ph(t,n),i=Ji(i),s=s(i),t.flags|=1,Es(e,t,s,n),t.child;case 14:return s=t.type,i=ga(s,t.pendingProps),i=ga(s.type,i),HD(e,t,s,i,n);case 15:return ZF(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),Ry(e,t),t.tag=1,ei(s)?(e=!0,i0(t)):e=!1,Ph(t,n),QF(t,s,i),EC(t,s,i,n),OC(null,t,s,!0,e,n);case 19:return s5(e,t,n);case 22:return e5(e,t,n)}throw Error(Ue(156,t.tag))};function j5(e,t){return GL(e,t)}function Dee(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(e,t,n,s){return new Dee(e,t,n,s)}function vA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mee(e){if(typeof e=="function")return vA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$P)return 11;if(e===RP)return 14}return 2}function gc(e,t){var n=e.alternate;return n===null?(n=Hi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function By(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")vA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ah:return Mu(n.children,i,a,t);case IP:o=8,i|=8;break;case ZS:return e=Hi(12,n,t,i|2),e.elementType=ZS,e.lanes=a,e;case eC:return e=Hi(13,n,t,i),e.elementType=eC,e.lanes=a,e;case tC:return e=Hi(19,n,t,i),e.elementType=tC,e.lanes=a,e;case TL:return sb(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AL:o=10;break e;case EL:o=9;break e;case $P:o=11;break e;case RP:o=14;break e;case zl:o=16,s=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Hi(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Mu(e,t,n,s){return e=Hi(7,e,s,t),e.lanes=n,e}function sb(e,t,n,s){return e=Hi(22,e,s,t),e.elementType=TL,e.lanes=n,e.stateNode={isHidden:!1},e}function WN(e,t,n){return e=Hi(6,e,null,t),e.lanes=n,e}function HN(e,t,n){return t=Hi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Iee(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_N(0),this.expirationTimes=_N(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_N(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xA(e,t,n,s,i,a,o,l,c){return e=new Iee(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Hi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tA(a),e}function $ee(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ih,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function b5(e){if(!e)return wc;e=e._reactInternals;e:{if(od(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(ei(n))return bF(e,n,t)}return t}function w5(e,t,n,s,i,a,o,l,c){return e=xA(n,s,!0,e,i,a,o,l,c),e.context=b5(null),n=e.current,s=Is(),i=pc(n),a=Xo(s,i),a.callback=t??null,fc(n,a,i),e.current.lanes=i,sv(e,i,s),ti(e,s),e}function ib(e,t,n,s){var i=t.current,a=Is(),o=pc(i);return n=b5(n),t.context===null?t.context=n:t.pendingContext=n,t=Xo(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=fc(i,t,o),e!==null&&(Ea(e,i,o,a),My(e,i,o)),o}function x0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yA(e,t){sM(e,t),(e=e.alternate)&&sM(e,t)}function Ree(){return null}var N5=typeof reportError=="function"?reportError:function(e){console.error(e)};function jA(e){this._internalRoot=e}ab.prototype.render=jA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));ib(e,t,null,null)};ab.prototype.unmount=jA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vu(function(){ib(null,e,null,null)}),t[nl]=null}};function ab(e){this._internalRoot=e}ab.prototype.unstable_scheduleHydration=function(e){if(e){var t=eF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ql.length&&t!==0&&t<ql[n].priority;n++);ql.splice(n,0,e),n===0&&nF(e)}};function bA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ob(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iM(){}function Lee(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=x0(o);a.call(u)}}var o=w5(t,s,e,0,null,!1,!1,"",iM);return e._reactRootContainer=o,e[nl]=o.current,Qp(e.nodeType===8?e.parentNode:e),Vu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=x0(c);l.call(u)}}var c=xA(e,0,!1,null,null,!1,!1,"",iM);return e._reactRootContainer=c,e[nl]=c.current,Qp(e.nodeType===8?e.parentNode:e),Vu(function(){ib(t,c,n,s)}),c}function lb(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=x0(o);l.call(c)}}ib(t,o,e,i)}else o=Lee(n,t,e,i,s);return x0(o)}JL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mp(t.pendingLanes);n!==0&&(BP(t,n|1),ti(t,mr()),!(an&6)&&(nf=mr()+500,Tc()))}break;case 13:Vu(function(){var s=rl(e,1);if(s!==null){var i=Is();Ea(s,e,1,i)}}),yA(e,1)}};zP=function(e){if(e.tag===13){var t=rl(e,134217728);if(t!==null){var n=Is();Ea(t,e,134217728,n)}yA(e,134217728)}};ZL=function(e){if(e.tag===13){var t=pc(e),n=rl(e,t);if(n!==null){var s=Is();Ea(n,e,t,s)}yA(e,t)}};eF=function(){return Nn};tF=function(e,t){var n=Nn;try{return Nn=e,t()}finally{Nn=n}};dC=function(e,t,n){switch(t){case"input":if(sC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=Jj(s);if(!i)throw Error(Ue(90));OL(s),sC(s,i)}}}break;case"textarea":ML(e,n);break;case"select":t=n.value,t!=null&&Nh(e,!!n.multiple,t,!1)}};zL=mA;VL=Vu;var Fee={usingClientEntryPoint:!1,Events:[av,uh,Jj,FL,BL,mA]},Gm={findFiberByHostInstance:mu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bee={bundleType:Gm.bundleType,version:Gm.version,rendererPackageName:Gm.rendererPackageName,rendererConfig:Gm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WL(e),e===null?null:e.stateNode},findFiberByHostInstance:Gm.findFiberByHostInstance||Ree,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wx.isDisabled&&Wx.supportsFiber)try{Kj=Wx.inject(Bee),co=Wx}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fee;Pi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bA(t))throw Error(Ue(200));return $ee(e,t,null,n)};Pi.createRoot=function(e,t){if(!bA(e))throw Error(Ue(299));var n=!1,s="",i=N5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=xA(e,1,!1,null,null,n,!1,s,i),e[nl]=t.current,Qp(e.nodeType===8?e.parentNode:e),new jA(t)};Pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=WL(t),e=e===null?null:e.stateNode,e};Pi.flushSync=function(e){return Vu(e)};Pi.hydrate=function(e,t,n){if(!ob(t))throw Error(Ue(200));return lb(null,e,t,!0,n)};Pi.hydrateRoot=function(e,t,n){if(!bA(e))throw Error(Ue(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=N5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=w5(t,null,e,1,n??null,i,!1,a,o),e[nl]=t.current,Qp(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ab(t)};Pi.render=function(e,t,n){if(!ob(t))throw Error(Ue(200));return lb(null,e,t,!1,n)};Pi.unmountComponentAtNode=function(e){if(!ob(e))throw Error(Ue(40));return e._reactRootContainer?(Vu(function(){lb(null,null,e,!1,function(){e._reactRootContainer=null,e[nl]=null})}),!0):!1};Pi.unstable_batchedUpdates=mA;Pi.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ob(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return lb(e,t,n,!1,s)};Pi.version="18.3.1-next-f1338f8080-20240426";function S5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S5)}catch(e){console.error(e)}}S5(),SL.exports=Pi;var ld=SL.exports;const C5=vn(ld);var _5,aM=ld;_5=aM.createRoot,aM.hydrateRoot;const zee=1,Vee=1e6;let GN=0;function Uee(){return GN=(GN+1)%Number.MAX_SAFE_INTEGER,GN.toString()}const KN=new Map,oM=e=>{if(KN.has(e))return;const t=setTimeout(()=>{KN.delete(e),Tp({type:"REMOVE_TOAST",toastId:e})},Vee);KN.set(e,t)},qee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?oM(n):e.toasts.forEach(s=>{oM(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},zy=[];let Vy={toasts:[]};function Tp(e){Vy=qee(Vy,e),zy.forEach(t=>{t(Vy)})}function Wee({...e}){const t=Uee(),n=i=>Tp({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Tp({type:"DISMISS_TOAST",toastId:t});return Tp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function $t(){const[e,t]=w.useState(Vy);return w.useEffect(()=>(zy.push(t),()=>{const n=zy.indexOf(t);n>-1&&zy.splice(n,1)}),[e]),{...e,toast:Wee,dismiss:n=>Tp({type:"DISMISS_TOAST",toastId:n})}}function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function lM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function il(...e){return t=>{let n=!1;const s=e.map(i=>{const a=lM(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():lM(e[i],null)}}}}function Xt(...e){return w.useCallback(il(...e),e)}function Hee(e,t){const n=w.createContext(t),s=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=w.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function ni(e,t=[]){let n=[];function s(a,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{var N;const{scope:m,children:g,...x}=f,v=((N=m==null?void 0:m[e])==null?void 0:N[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=w.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,Gee(i,...t)]}function Gee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Nc(e){const t=Yee(e),n=w.forwardRef((s,i)=>{const{children:a,...o}=s,l=w.Children.toArray(a),c=l.find(Xee);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Kee=Nc("Slot");function Yee(e){const t=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const o=Zee(i),l=Jee(a,i.props);return i.type!==w.Fragment&&(l.ref=s?il(s,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var P5=Symbol("radix.slottable");function Qee(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=P5,t}function Xee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===P5}function Jee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Zee(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function cb(e){const t=e+"CollectionProvider",[n,s]=ni(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:N}=v,j=W.useRef(null),b=W.useRef(new Map).current;return r.jsx(i,{scope:y,itemMap:b,collectionRef:j,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=Nc(l),u=W.forwardRef((v,y)=>{const{scope:N,children:j}=v,b=a(l,N),C=Xt(y,b.collectionRef);return r.jsx(c,{ref:C,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Nc(d),g=W.forwardRef((v,y)=>{const{scope:N,children:j,...b}=v,C=W.useRef(null),_=Xt(y,C),A=a(d,N);return W.useEffect(()=>(A.itemMap.set(C,{ref:C,...b}),()=>void A.itemMap.delete(C))),r.jsx(m,{[f]:"",ref:_,children:j})});g.displayName=d;function x(v){const y=a(e+"CollectionConsumer",v);return W.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((A,P)=>b.indexOf(A.ref.current)-b.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,s]}var ete=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=ete.reduce((e,t)=>{const n=Nc(`Primitive.${t}`),s=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function wA(e,t){e&&ld.flushSync(()=>e.dispatchEvent(t))}function $s(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function tte(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var nte="DismissableLayer",qC="dismissableLayer.update",rte="dismissableLayer.pointerDownOutside",ste="dismissableLayer.focusOutside",cM,A5=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(A5),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),x=Xt(t,P=>f(P)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),j=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,C=j>=N,_=ate(P=>{const E=P.target,D=[...u.branches].some(I=>I.contains(E));!C||D||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},m),A=ote(P=>{const E=P.target;[...u.branches].some(I=>I.contains(E))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},m);return tte(P=>{j===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),uM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=cM)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),uM())},[d,u]),w.useEffect(()=>{const P=()=>g({});return document.addEventListener(qC,P),()=>document.removeEventListener(qC,P)},[]),r.jsx(it.div,{...c,ref:x,style:{pointerEvents:b?C?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,_.onPointerDownCapture)})});cd.displayName=nte;var ite="DismissableLayerBranch",E5=w.forwardRef((e,t)=>{const n=w.useContext(A5),s=w.useRef(null),i=Xt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(it.div,{...e,ref:i})});E5.displayName=ite;function ate(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){T5(rte,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function ote(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&T5(ste,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function uM(){const e=new CustomEvent(qC);document.dispatchEvent(e)}function T5(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?wA(i,a):i.dispatchEvent(a)}var lte=cd,cte=E5,Nr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},ute="Portal",Uf=w.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=w.useState(!1);Nr(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?C5.createPortal(r.jsx(it.div,{...s,ref:t}),o):null});Uf.displayName=ute;function dte(e,t){return w.useReducer((n,s)=>t[n][s]??n,e)}var ri=e=>{const{present:t,children:n}=e,s=hte(t),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=Xt(s.ref,fte(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};ri.displayName="Presence";function hte(e){const[t,n]=w.useState(),s=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=dte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Hx(s.current);a.current=l==="mounted"?u:"none"},[l]),Nr(()=>{const u=s.current,d=i.current;if(d!==e){const m=a.current,g=Hx(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Nr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Hx(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=g=>{g.target===t&&(a.current=Hx(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Hx(e){return(e==null?void 0:e.animationName)||"none"}function fte(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mte=kP[" useInsertionEffect ".trim().toString()]||Nr;function vo({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=pte({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=w.useCallback(d=>{var f;if(l){const m=gte(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function pte({defaultProp:e,onChange:t}){const[n,s]=w.useState(e),i=w.useRef(n),a=w.useRef(t);return mte(()=>{a.current=t},[t]),w.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function gte(e){return typeof e=="function"}var k5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vte="VisuallyHidden",ub=w.forwardRef((e,t)=>r.jsx(it.span,{...e,ref:t,style:{...k5,...e.style}}));ub.displayName=vte;var xte=ub,NA="ToastProvider",[SA,yte,jte]=cb("Toast"),[O5,A6e]=ni("Toast",[jte]),[bte,db]=O5(NA),D5=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${NA}\`. Expected non-empty \`string\`.`),r.jsx(SA.Provider,{scope:t,children:r.jsx(bte,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};D5.displayName=NA;var M5="ToastViewport",wte=["F8"],WC="toast.viewportPause",HC="toast.viewportResume",I5=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=wte,label:i="Notifications ({hotkey})",...a}=e,o=db(M5,n),l=yte(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Xt(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const y=N=>{var b;s.length!==0&&s.every(C=>N[C]||N.code===C)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),w.useEffect(()=>{const y=c.current,N=f.current;if(x&&y&&N){const j=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(WC);N.dispatchEvent(A),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(HC);N.dispatchEvent(A),o.isClosePausedRef.current=!1}},C=A=>{!y.contains(A.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",j),y.addEventListener("focusout",C),y.addEventListener("pointermove",j),y.addEventListener("pointerleave",_),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",j),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",j),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:y})=>{const j=l().map(b=>{const C=b.ref.current,_=[C,...Ite(C)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?j.reverse():j).flat()},[l]);return w.useEffect(()=>{const y=f.current;if(y){const N=j=>{var _,A,P;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const E=document.activeElement,D=j.shiftKey;if(j.target===y&&D){(_=u.current)==null||_.focus();return}const O=v({tabbingDirection:D?"backwards":"forwards"}),L=O.findIndex(B=>B===E);YN(O.slice(L+1))?j.preventDefault():D?(A=u.current)==null||A.focus():(P=d.current)==null||P.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,v]),r.jsxs(cte,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(GC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});YN(y)}}),r.jsx(SA.Slot,{scope:n,children:r.jsx(it.ol,{tabIndex:-1,...a,ref:m})}),x&&r.jsx(GC,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});YN(y)}})]})});I5.displayName=M5;var $5="ToastFocusProxy",GC=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=db($5,n);return r.jsx(ub,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});GC.displayName=$5;var lv="Toast",Nte="toast.swipeStart",Ste="toast.swipeMove",Cte="toast.swipeCancel",_te="toast.swipeEnd",R5=w.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=vo({prop:s,defaultProp:i??!0,onChange:a,caller:lv});return r.jsx(ri,{present:n||l,children:r.jsx(Ete,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:$s(e.onPause),onResume:$s(e.onResume),onSwipeStart:Ke(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});R5.displayName=lv;var[Pte,Ate]=O5(lv,{onClose(){}}),Ete=w.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...x}=e,v=db(lv,n),[y,N]=w.useState(null),j=Xt(t,B=>N(B)),b=w.useRef(null),C=w.useRef(null),_=i||v.duration,A=w.useRef(0),P=w.useRef(_),E=w.useRef(0),{onToastAdd:D,onToastRemove:I}=v,k=$s(()=>{var ee;(y==null?void 0:y.contains(document.activeElement))&&((ee=v.viewport)==null||ee.focus()),o()}),O=w.useCallback(B=>{!B||B===1/0||(window.clearTimeout(E.current),A.current=new Date().getTime(),E.current=window.setTimeout(k,B))},[k]);w.useEffect(()=>{const B=v.viewport;if(B){const ee=()=>{O(P.current),u==null||u()},G=()=>{const J=new Date().getTime()-A.current;P.current=P.current-J,window.clearTimeout(E.current),c==null||c()};return B.addEventListener(WC,G),B.addEventListener(HC,ee),()=>{B.removeEventListener(WC,G),B.removeEventListener(HC,ee)}}},[v.viewport,_,c,u,O]),w.useEffect(()=>{a&&!v.isClosePausedRef.current&&O(_)},[a,_,v.isClosePausedRef,O]),w.useEffect(()=>(D(),()=>I()),[D,I]);const L=w.useMemo(()=>y?q5(y):null,[y]);return v.viewport?r.jsxs(r.Fragment,{children:[L&&r.jsx(Tte,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),r.jsx(Pte,{scope:n,onClose:k,children:ld.createPortal(r.jsx(SA.ItemSlot,{scope:n,children:r.jsx(lte,{asChild:!0,onEscapeKeyDown:Ke(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(it.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ke(e.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ke(e.onPointerMove,B=>{if(!b.current)return;const ee=B.clientX-b.current.x,G=B.clientY-b.current.y,J=!!C.current,q=["left","right"].includes(v.swipeDirection),$=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,oe=q?$(0,ee):0,ge=q?0:$(0,G),re=B.pointerType==="touch"?10:2,Z={x:oe,y:ge},ne={originalEvent:B,delta:Z};J?(C.current=Z,Gx(Ste,f,ne,{discrete:!1})):dM(Z,v.swipeDirection,re)?(C.current=Z,Gx(Nte,d,ne,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ee)>re||Math.abs(G)>re)&&(b.current=null)}),onPointerUp:Ke(e.onPointerUp,B=>{const ee=C.current,G=B.target;if(G.hasPointerCapture(B.pointerId)&&G.releasePointerCapture(B.pointerId),C.current=null,b.current=null,ee){const J=B.currentTarget,q={originalEvent:B,delta:ee};dM(ee,v.swipeDirection,v.swipeThreshold)?Gx(_te,g,q,{discrete:!0}):Gx(Cte,m,q,{discrete:!0}),J.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Tte=e=>{const{__scopeToast:t,children:n,...s}=e,i=db(lv,t),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return Dte(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Uf,{asChild:!0,children:r.jsx(ub,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},kte="ToastTitle",L5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});L5.displayName=kte;var Ote="ToastDescription",F5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});F5.displayName=Ote;var B5="ToastAction",z5=w.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(U5,{altText:n,asChild:!0,children:r.jsx(CA,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${B5}\`. Expected non-empty \`string\`.`),null)});z5.displayName=B5;var V5="ToastClose",CA=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=Ate(V5,n);return r.jsx(U5,{asChild:!0,children:r.jsx(it.button,{type:"button",...s,ref:t,onClick:Ke(e.onClick,i.onClose)})})});CA.displayName=V5;var U5=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(it.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function q5(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Mte(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...q5(s))}}),t}function Gx(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?wA(i,a):i.dispatchEvent(a)}var dM=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function Dte(e=()=>{}){const t=$s(e);Nr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function Mte(e){return e.nodeType===e.ELEMENT_NODE}function Ite(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function YN(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var $te=D5,W5=I5,H5=R5,G5=L5,K5=F5,Y5=z5,Q5=CA;function X5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=X5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Tt(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=X5(e))&&(s&&(s+=" "),s+=t);return s}const hM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fM=Tt,cv=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return fM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=hM(d)||hM(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return fM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J5=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...Lte,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:J5("lucide",i),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(Fte,{ref:a,iconNode:t,className:J5(`lucide-${Rte(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=Ye("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ye("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Ye("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ye("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ye("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Ye("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Ye("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=Ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Ye("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=Ye("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Ye("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=Ye("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Ye("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Ye("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=Ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),TA="-",lne=e=>{const t=une(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(TA);return l[0]===""&&l.length!==1&&l.shift(),r6(l,t)||cne(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},r6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?r6(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(TA);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},xM=/^\[(.+)\]$/,cne=e=>{if(xM.test(e)){const t=xM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},une=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return hne(Object.entries(e.classGroups),n).forEach(([a,o])=>{JC(o,s,a,t)}),s},JC=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:yM(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(dne(i)){JC(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{JC(o,yM(t,a),n,s)})})},yM=(e,t)=>{let n=e;return t.split(TA).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},dne=e=>e.isThemeGetter,hne=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,fne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},s6="!",mne=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let N=l[y];if(u===0){if(N===i&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(N==="/"){f=y;continue}}N==="["?u++:N==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(s6),x=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},pne=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},gne=e=>({cache:fne(e.cacheSize),parseClassName:mne(e),...lne(e)}),vne=/\s+/,xne=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(vne);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=s(x?m.substring(0,g):m);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=pne(d).join(":"),N=f?y+s6:y,j=N+v;if(a.includes(j))continue;a.push(j);const b=i(v,x);for(let C=0;C<b.length;++C){const _=b[C];a.push(N+_)}l=u+(l.length>0?" "+l:l)}return l};function yne(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=i6(t))&&(s&&(s+=" "),s+=n);return s}const i6=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=i6(e[s]))&&(n&&(n+=" "),n+=t);return n};function jne(e,...t){let n,s,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=gne(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=xne(c,n);return i(c,d),d}return function(){return a(yne.apply(null,arguments))}}const Fn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},a6=/^\[(?:([a-z-]+):)?(.+)\]$/i,bne=/^\d+\/\d+$/,wne=new Set(["px","full","screen"]),Nne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_ne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mo=e=>Th(e)||wne.has(e)||bne.test(e),Dl=e=>Hf(e,"length",Ine),Th=e=>!!e&&!Number.isNaN(Number(e)),XN=e=>Hf(e,"number",Th),Km=e=>!!e&&Number.isInteger(Number(e)),Ane=e=>e.endsWith("%")&&Th(e.slice(0,-1)),Bt=e=>a6.test(e),Ml=e=>Nne.test(e),Ene=new Set(["length","size","percentage"]),Tne=e=>Hf(e,Ene,o6),kne=e=>Hf(e,"position",o6),One=new Set(["image","url"]),Dne=e=>Hf(e,One,Rne),Mne=e=>Hf(e,"",$ne),Ym=()=>!0,Hf=(e,t,n)=>{const s=a6.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},Ine=e=>Sne.test(e)&&!Cne.test(e),o6=()=>!1,$ne=e=>_ne.test(e),Rne=e=>Pne.test(e),Lne=()=>{const e=Fn("colors"),t=Fn("spacing"),n=Fn("blur"),s=Fn("brightness"),i=Fn("borderColor"),a=Fn("borderRadius"),o=Fn("borderSpacing"),l=Fn("borderWidth"),c=Fn("contrast"),u=Fn("grayscale"),d=Fn("hueRotate"),f=Fn("invert"),m=Fn("gap"),g=Fn("gradientColorStops"),x=Fn("gradientColorStopPositions"),v=Fn("inset"),y=Fn("margin"),N=Fn("opacity"),j=Fn("padding"),b=Fn("saturate"),C=Fn("scale"),_=Fn("sepia"),A=Fn("skew"),P=Fn("space"),E=Fn("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Bt,t],O=()=>[Bt,t],L=()=>["",Mo,Dl],B=()=>["auto",Th,Bt],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Bt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[Th,Bt];return{cacheSize:500,separator:":",theme:{colors:[Ym],spacing:[Mo,Dl],blur:["none","",Ml,Bt],brightness:ge(),borderColor:[e],borderRadius:["none","","full",Ml,Bt],borderSpacing:O(),borderWidth:L(),contrast:ge(),grayscale:$(),hueRotate:ge(),invert:$(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Ane,Dl],inset:k(),margin:k(),opacity:ge(),padding:O(),saturate:ge(),scale:ge(),sepia:$(),skew:ge(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[Ml]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Bt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Km,Bt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Km,Bt]}],"grid-cols":[{"grid-cols":[Ym]}],"col-start-end":[{col:["auto",{span:["full",Km,Bt]},Bt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ym]}],"row-start-end":[{row:["auto",{span:[Km,Bt]},Bt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,t]}],"min-w":[{"min-w":[Bt,t,"min","max","fit"]}],"max-w":[{"max-w":[Bt,t,"none","full","min","max","fit","prose",{screen:[Ml]},Ml]}],h:[{h:[Bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ml,Dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",XN]}],"font-family":[{font:[Ym]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",Th,XN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mo,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mo,Dl]}],"underline-offset":[{"underline-offset":["auto",Mo,Bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),kne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Mo,Bt]}],"outline-w":[{outline:[Mo,Dl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Mo,Dl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ml,Mne]}],"shadow-color":[{shadow:[Ym]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ml,Bt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Km,Bt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mo,Dl,XN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Fne=jne(Lne);function et(...e){return Fne(Tt(e))}function af(e){if(!e)return"Âge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let s=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();if((i<0||i===0&&n.getDate()<t.getDate())&&(s--,i+=12),s===0){if(i===0){const a=Math.floor((n.getTime()-t.getTime())/864e5);return`${a} jour${a>1?"s":""}`}return`${i} mois`}else return i===0?`${s} an${s>1?"s":""}`:`${s} an${s>1?"s":""} et ${i} mois`}function ho(e){if(!e)return"Non renseigné";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const Bne=$te,l6=w.forwardRef(({className:e,...t},n)=>r.jsx(W5,{ref:n,className:et("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l6.displayName=W5.displayName;const zne=cv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c6=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(H5,{ref:s,className:et(zne({variant:t}),e),...n}));c6.displayName=H5.displayName;const Vne=w.forwardRef(({className:e,...t},n)=>r.jsx(Y5,{ref:n,className:et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Vne.displayName=Y5.displayName;const u6=w.forwardRef(({className:e,...t},n)=>r.jsx(Q5,{ref:n,className:et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(fb,{className:"h-4 w-4"})}));u6.displayName=Q5.displayName;const d6=w.forwardRef(({className:e,...t},n)=>r.jsx(G5,{ref:n,className:et("text-sm font-semibold",e),...t}));d6.displayName=G5.displayName;const h6=w.forwardRef(({className:e,...t},n)=>r.jsx(K5,{ref:n,className:et("text-sm opacity-90",e),...t}));h6.displayName=K5.displayName;function Une(){const{toasts:e}=$t();return r.jsxs(Bne,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(c6,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(d6,{children:n}),s&&r.jsx(h6,{children:s})]}),i,r.jsx(u6,{})]},t)}),r.jsx(l6,{})]})}var jM=["light","dark"],qne="(prefers-color-scheme: dark)",Wne=w.createContext(void 0),Hne={setTheme:e=>{},themes:[]},Gne=()=>{var e;return(e=w.useContext(Wne))!=null?e:Hne};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?jM.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,v=!1,y=!0)=>{let N=o?o[x]:x,j=v?x+"|| ''":`'${N}'`,b="";return i&&y&&!v&&jM.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?v||N?b+=`c.add(${j})`:b+="null":N&&(b+=`d[s](n,${j})`),b},g=e?`!function(){${d}${m(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${qne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var Kne=e=>{switch(e){case"success":return Xne;case"info":return Zne;case"warning":return Jne;case"error":return ere;default:return null}},Yne=Array(12).fill(0),Qne=({visible:e,className:t})=>W.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},W.createElement("div",{className:"sonner-spinner"},Yne.map((n,s)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Xne=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Jne=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Zne=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ere=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tre=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nre=()=>{let[e,t]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ZC=1,rre=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ZC++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0,a,o=s.then(async c=>{if(a=["resolve",c],W.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(ire(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ZC++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ks=new rre,sre=(e,t)=>{let n=(t==null?void 0:t.id)||ZC++;return Ks.addToast({title:e,...t,id:n}),n},ire=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",are=sre,ore=()=>Ks.toasts,lre=()=>Ks.getActiveToasts();Object.assign(are,{success:Ks.success,info:Ks.info,warning:Ks.warning,error:Ks.error,custom:Ks.custom,message:Ks.message,promise:Ks.promise,dismiss:Ks.dismiss,loading:Ks.loading},{getHistory:ore,getToasts:lre});function cre(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}cre(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kx(e){return e.label!==void 0}var ure=3,dre="32px",hre="16px",bM=4e3,fre=356,mre=14,pre=20,gre=200;function ha(...e){return e.filter(Boolean).join(" ")}function vre(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var xre=e=>{var t,n,s,i,a,o,l,c,u,d,f;let{invert:m,toast:g,unstyled:x,interacting:v,setHeights:y,visibleToasts:N,heights:j,index:b,toasts:C,expanded:_,removeToast:A,defaultRichColors:P,closeButton:E,style:D,cancelButtonStyle:I,actionButtonStyle:k,className:O="",descriptionClassName:L="",duration:B,position:ee,gap:G,loadingIcon:J,expandByDefault:q,classNames:$,icons:oe,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:re}=e,[Z,ne]=W.useState(null),[ve,je]=W.useState(null),[we,z]=W.useState(!1),[Q,te]=W.useState(!1),[K,M]=W.useState(!1),[xe,Ne]=W.useState(!1),[de,Pe]=W.useState(!1),[Ze,at]=W.useState(0),[dt,Se]=W.useState(0),qe=W.useRef(g.duration||B||bM),We=W.useRef(null),Lt=W.useRef(null),xn=b===0,Nt=b+1<=N,hn=g.type,dr=g.dismissible!==!1,Qn=g.className||"",ys=g.descriptionClassName||"",Ce=W.useMemo(()=>j.findIndex(jt=>jt.toastId===g.id)||0,[j,g.id]),Wt=W.useMemo(()=>{var jt;return(jt=g.closeButton)!=null?jt:E},[g.closeButton,E]),nt=W.useMemo(()=>g.duration||B||bM,[g.duration,B]),mt=W.useRef(0),sn=W.useRef(0),as=W.useRef(0),Qr=W.useRef(null),[Bs,bl]=ee.split("-"),le=W.useMemo(()=>j.reduce((jt,on,yn)=>yn>=Ce?jt:jt+on.height,0),[j,Ce]),He=nre(),Be=g.invert||m,kn=hn==="loading";sn.current=W.useMemo(()=>Ce*G+le,[Ce,le]),W.useEffect(()=>{qe.current=nt},[nt]),W.useEffect(()=>{z(!0)},[]),W.useEffect(()=>{let jt=Lt.current;if(jt){let on=jt.getBoundingClientRect().height;return Se(on),y(yn=>[{toastId:g.id,height:on,position:g.position},...yn]),()=>y(yn=>yn.filter(js=>js.toastId!==g.id))}},[y,g.id]),W.useLayoutEffect(()=>{if(!we)return;let jt=Lt.current,on=jt.style.height;jt.style.height="auto";let yn=jt.getBoundingClientRect().height;jt.style.height=on,Se(yn),y(js=>js.find(bs=>bs.toastId===g.id)?js.map(bs=>bs.toastId===g.id?{...bs,height:yn}:bs):[{toastId:g.id,height:yn,position:g.position},...js])},[we,g.title,g.description,y,g.id]);let Xn=W.useCallback(()=>{te(!0),at(sn.current),y(jt=>jt.filter(on=>on.toastId!==g.id)),setTimeout(()=>{A(g)},gre)},[g,A,y,sn]);W.useEffect(()=>{if(g.promise&&hn==="loading"||g.duration===1/0||g.type==="loading")return;let jt;return _||v||re&&He?(()=>{if(as.current<mt.current){let on=new Date().getTime()-mt.current;qe.current=qe.current-on}as.current=new Date().getTime()})():qe.current!==1/0&&(mt.current=new Date().getTime(),jt=setTimeout(()=>{var on;(on=g.onAutoClose)==null||on.call(g,g),Xn()},qe.current)),()=>clearTimeout(jt)},[_,v,g,hn,re,He,Xn]),W.useEffect(()=>{g.delete&&Xn()},[Xn,g.delete]);function ia(){var jt,on,yn;return oe!=null&&oe.loading?W.createElement("div",{className:ha($==null?void 0:$.loader,(jt=g==null?void 0:g.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":hn==="loading"},oe.loading):J?W.createElement("div",{className:ha($==null?void 0:$.loader,(on=g==null?void 0:g.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":hn==="loading"},J):W.createElement(Qne,{className:ha($==null?void 0:$.loader,(yn=g==null?void 0:g.classNames)==null?void 0:yn.loader),visible:hn==="loading"})}return W.createElement("li",{tabIndex:0,ref:Lt,className:ha(O,Qn,$==null?void 0:$.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[hn],(n=g==null?void 0:g.classNames)==null?void 0:n[hn]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:P,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":we,"data-promise":!!g.promise,"data-swiped":de,"data-removed":Q,"data-visible":Nt,"data-y-position":Bs,"data-x-position":bl,"data-index":b,"data-front":xn,"data-swiping":K,"data-dismissible":dr,"data-type":hn,"data-invert":Be,"data-swipe-out":xe,"data-swipe-direction":ve,"data-expanded":!!(_||q&&we),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${Q?Ze:sn.current}px`,"--initial-height":q?"auto":`${dt}px`,...D,...g.style},onDragEnd:()=>{M(!1),ne(null),Qr.current=null},onPointerDown:jt=>{kn||!dr||(We.current=new Date,at(sn.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(M(!0),Qr.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,on,yn,js;if(xe||!dr)return;Qr.current=null;let bs=Number(((jt=Lt.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ei=Number(((on=Lt.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ai=new Date().getTime()-((yn=We.current)==null?void 0:yn.getTime()),ws=Z==="x"?bs:Ei,zs=Math.abs(ws)/ai;if(Math.abs(ws)>=pre||zs>.11){at(sn.current),(js=g.onDismiss)==null||js.call(g,g),je(Z==="x"?bs>0?"right":"left":Ei>0?"down":"up"),Xn(),Ne(!0),Pe(!1);return}M(!1),ne(null)},onPointerMove:jt=>{var on,yn,js,bs;if(!Qr.current||!dr||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;let Ei=jt.clientY-Qr.current.y,ai=jt.clientX-Qr.current.x,ws=(yn=e.swipeDirections)!=null?yn:vre(ee);!Z&&(Math.abs(ai)>1||Math.abs(Ei)>1)&&ne(Math.abs(ai)>Math.abs(Ei)?"x":"y");let zs={x:0,y:0};Z==="y"?(ws.includes("top")||ws.includes("bottom"))&&(ws.includes("top")&&Ei<0||ws.includes("bottom")&&Ei>0)&&(zs.y=Ei):Z==="x"&&(ws.includes("left")||ws.includes("right"))&&(ws.includes("left")&&ai<0||ws.includes("right")&&ai>0)&&(zs.x=ai),(Math.abs(zs.x)>0||Math.abs(zs.y)>0)&&Pe(!0),(js=Lt.current)==null||js.style.setProperty("--swipe-amount-x",`${zs.x}px`),(bs=Lt.current)==null||bs.style.setProperty("--swipe-amount-y",`${zs.y}px`)}},Wt&&!g.jsx?W.createElement("button",{"aria-label":ge,"data-disabled":kn,"data-close-button":!0,onClick:kn||!dr?()=>{}:()=>{var jt;Xn(),(jt=g.onDismiss)==null||jt.call(g,g)},className:ha($==null?void 0:$.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(a=oe==null?void 0:oe.close)!=null?a:tre):null,g.jsx||w.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:W.createElement(W.Fragment,null,hn||g.icon||g.promise?W.createElement("div",{"data-icon":"",className:ha($==null?void 0:$.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ia():null,g.type!=="loading"?g.icon||(oe==null?void 0:oe[hn])||Kne(hn):null):null,W.createElement("div",{"data-content":"",className:ha($==null?void 0:$.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:ha($==null?void 0:$.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:ha(L,ys,$==null?void 0:$.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),w.isValidElement(g.cancel)?g.cancel:g.cancel&&Kx(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||I,onClick:jt=>{var on,yn;Kx(g.cancel)&&dr&&((yn=(on=g.cancel).onClick)==null||yn.call(on,jt),Xn())},className:ha($==null?void 0:$.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,w.isValidElement(g.action)?g.action:g.action&&Kx(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:jt=>{var on,yn;Kx(g.action)&&((yn=(on=g.action).onClick)==null||yn.call(on,jt),!jt.defaultPrevented&&Xn())},className:ha($==null?void 0:$.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function wM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function yre(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?hre:dre;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var jre=w.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:x=ure,toastOptions:v,dir:y=wM(),gap:N=mre,loadingIcon:j,icons:b,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:_}=e,[A,P]=W.useState([]),E=W.useMemo(()=>Array.from(new Set([s].concat(A.filter(re=>re.position).map(re=>re.position)))),[A,s]),[D,I]=W.useState([]),[k,O]=W.useState(!1),[L,B]=W.useState(!1),[ee,G]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=W.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=W.useRef(null),oe=W.useRef(!1),ge=W.useCallback(re=>{P(Z=>{var ne;return(ne=Z.find(ve=>ve.id===re.id))!=null&&ne.delete||Ks.dismiss(re.id),Z.filter(({id:ve})=>ve!==re.id)})},[]);return W.useEffect(()=>Ks.subscribe(re=>{if(re.dismiss){P(Z=>Z.map(ne=>ne.id===re.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{C5.flushSync(()=>{P(Z=>{let ne=Z.findIndex(ve=>ve.id===re.id);return ne!==-1?[...Z.slice(0,ne),{...Z[ne],...re},...Z.slice(ne+1)]:[re,...Z]})})})}),[]),W.useEffect(()=>{if(d!=="system"){G(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:Z})=>{G(Z?"dark":"light")})}catch{re.addListener(({matches:ne})=>{try{G(ne?"dark":"light")}catch(ve){console.error(ve)}})}},[d]),W.useEffect(()=>{A.length<=1&&O(!1)},[A]),W.useEffect(()=>{let re=Z=>{var ne,ve;i.every(je=>Z[je]||Z.code===je)&&(O(!0),(ne=J.current)==null||ne.focus()),Z.code==="Escape"&&(document.activeElement===J.current||(ve=J.current)!=null&&ve.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[i]),W.useEffect(()=>{if(J.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,oe.current=!1)}},[J.current]),W.createElement("section",{ref:t,"aria-label":`${C} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((re,Z)=>{var ne;let[ve,je]=re.split("-");return A.length?W.createElement("ol",{key:re,dir:y==="auto"?wM():y,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":ve,"data-lifted":k&&A.length>1&&!a,"data-x-position":je,style:{"--front-toast-height":`${((ne=D[0])==null?void 0:ne.height)||0}px`,"--width":`${fre}px`,"--gap":`${N}px`,...g,...yre(c,u)},onBlur:we=>{oe.current&&!we.currentTarget.contains(we.relatedTarget)&&(oe.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,$.current=we.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},A.filter(we=>!we.position&&Z===0||we.position===re).map((we,z)=>{var Q,te;return W.createElement(xre,{key:we.id,icons:b,index:z,toast:we,defaultRichColors:f,duration:(Q=v==null?void 0:v.duration)!=null?Q:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(te=v==null?void 0:v.closeButton)!=null?te:o,interacting:L,position:re,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ge,toasts:A.filter(K=>K.position==we.position),heights:D.filter(K=>K.position==we.position),setHeights:I,expandByDefault:a,gap:N,loadingIcon:j,expanded:k,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const bre=({...e})=>{const{theme:t="system"}=Gne();return r.jsx(jre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var wre=kP[" useId ".trim().toString()]||(()=>{}),Nre=0;function rs(e){const[t,n]=w.useState(wre());return Nr(()=>{n(s=>s??String(Nre++))},[e]),t?`radix-${t}`:""}const Sre=["top","right","bottom","left"],Sc=Math.min,vi=Math.max,b0=Math.round,Yx=Math.floor,fo=e=>({x:e,y:e}),Cre={left:"right",right:"left",bottom:"top",top:"bottom"},_re={start:"end",end:"start"};function e2(e,t,n){return vi(e,Sc(t,n))}function ll(e,t){return typeof e=="function"?e(t):e}function cl(e){return e.split("-")[0]}function Gf(e){return e.split("-")[1]}function kA(e){return e==="x"?"y":"x"}function OA(e){return e==="y"?"height":"width"}const Pre=new Set(["top","bottom"]);function io(e){return Pre.has(cl(e))?"y":"x"}function DA(e){return kA(io(e))}function Are(e,t,n){n===void 0&&(n=!1);const s=Gf(e),i=DA(e),a=OA(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=w0(o)),[o,w0(o)]}function Ere(e){const t=w0(e);return[t2(e),t,t2(t)]}function t2(e){return e.replace(/start|end/g,t=>_re[t])}const NM=["left","right"],SM=["right","left"],Tre=["top","bottom"],kre=["bottom","top"];function Ore(e,t,n){switch(e){case"top":case"bottom":return n?t?SM:NM:t?NM:SM;case"left":case"right":return t?Tre:kre;default:return[]}}function Dre(e,t,n,s){const i=Gf(e);let a=Ore(cl(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(t2)))),a}function w0(e){return e.replace(/left|right|bottom|top/g,t=>Cre[t])}function Mre(e){return{top:0,right:0,bottom:0,left:0,...e}}function f6(e){return typeof e!="number"?Mre(e):{top:e,right:e,bottom:e,left:e}}function N0(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function CM(e,t,n){let{reference:s,floating:i}=e;const a=io(t),o=DA(t),l=OA(o),c=cl(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-i.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-i.width,y:f};break;default:g={x:s.x,y:s.y}}switch(Gf(t)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const Ire=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=CM(u,s,c),m=s,g={},x=0;for(let v=0;v<l.length;v++){const{name:y,fn:N}=l[v],{x:j,y:b,data:C,reset:_}=await N({x:d,y:f,initialPlacement:s,placement:m,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=j??d,f=b??f,g={...g,[y]:{...g[y],...C}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:f}=CM(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function og(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=ll(t,e),x=f6(g),y=l[m?f==="floating"?"reference":"floating":f],N=N0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),C=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=N0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(N.top-_.top+x.top)/C.y,bottom:(_.bottom-N.bottom+x.bottom)/C.y,left:(N.left-_.left+x.left)/C.x,right:(_.right-N.right+x.right)/C.x}}const $re=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ll(e,t)||{};if(u==null)return{};const f=f6(d),m={x:n,y:s},g=DA(i),x=OA(g),v=await o.getDimensions(u),y=g==="y",N=y?"top":"left",j=y?"bottom":"right",b=y?"clientHeight":"clientWidth",C=a.reference[x]+a.reference[g]-m[g]-a.floating[x],_=m[g]-a.reference[g],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=A?A[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(A)))&&(P=l.floating[b]||a.floating[x]);const E=C/2-_/2,D=P/2-v[x]/2-1,I=Sc(f[N],D),k=Sc(f[j],D),O=I,L=P-v[x]-k,B=P/2-v[x]/2+E,ee=e2(O,B,L),G=!c.arrow&&Gf(i)!=null&&B!==ee&&a.reference[x]/2-(B<O?I:k)-v[x]/2<0,J=G?B<O?B-O:B-L:0;return{[g]:m[g]+J,data:{[g]:ee,centerOffset:B-ee-J,...G&&{alignmentOffset:J}},reset:G}}}),Rre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=ll(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=cl(i),j=io(l),b=cl(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(b||!v?[w0(l)]:Ere(l)),A=x!=="none";!m&&A&&_.push(...Dre(l,v,x,C));const P=[l,..._],E=await og(t,y),D=[];let I=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&D.push(E[N]),f){const B=Are(i,o,C);D.push(E[B[0]],E[B[1]])}if(I=[...I,{placement:i,overflows:D}],!D.every(B=>B<=0)){var k,O;const B=(((k=a.flip)==null?void 0:k.index)||0)+1,ee=P[B];if(ee&&(!(f==="alignment"?j!==io(ee):!1)||I.every(q=>q.overflows[0]>0&&io(q.placement)===j)))return{data:{index:B,overflows:I},reset:{placement:ee}};let G=(O=I.filter(J=>J.overflows[0]<=0).sort((J,q)=>J.overflows[1]-q.overflows[1])[0])==null?void 0:O.placement;if(!G)switch(g){case"bestFit":{var L;const J=(L=I.filter(q=>{if(A){const $=io(q.placement);return $===j||$==="y"}return!0}).map(q=>[q.placement,q.overflows.filter($=>$>0).reduce(($,oe)=>$+oe,0)]).sort((q,$)=>q[1]-$[1])[0])==null?void 0:L[0];J&&(G=J);break}case"initialPlacement":G=l;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function _M(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function PM(e){return Sre.some(t=>e[t]>=0)}const Lre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=ll(e,t);switch(s){case"referenceHidden":{const a=await og(t,{...i,elementContext:"reference"}),o=_M(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PM(o)}}}case"escaped":{const a=await og(t,{...i,altBoundary:!0}),o=_M(a,n.floating);return{data:{escapedOffsets:o,escaped:PM(o)}}}default:return{}}}}},m6=new Set(["left","top"]);async function Fre(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=cl(n),l=Gf(n),c=io(n)==="y",u=m6.has(o)?-1:1,d=a&&c?-1:1,f=ll(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const Bre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Fre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},zre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:j}=y;return{x:N,y:j}}},...c}=ll(e,t),u={x:n,y:s},d=await og(t,c),f=io(cl(i)),m=kA(f);let g=u[m],x=u[f];if(a){const y=m==="y"?"top":"left",N=m==="y"?"bottom":"right",j=g+d[y],b=g-d[N];g=e2(j,g,b)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",j=x+d[y],b=x-d[N];x=e2(j,x,b)}const v=l.fn({...t,[m]:g,[f]:x});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},Vre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ll(e,t),d={x:n,y:s},f=io(i),m=kA(f);let g=d[m],x=d[f];const v=ll(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",C=a.reference[m]-a.floating[b]+y.mainAxis,_=a.reference[m]+a.reference[b]-y.mainAxis;g<C?g=C:g>_&&(g=_)}if(u){var N,j;const b=m==="y"?"width":"height",C=m6.has(cl(i)),_=a.reference[f]-a.floating[b]+(C&&((N=o.offset)==null?void 0:N[f])||0)+(C?0:y.crossAxis),A=a.reference[f]+a.reference[b]+(C?0:((j=o.offset)==null?void 0:j[f])||0)-(C?y.crossAxis:0);x<_?x=_:x>A&&(x=A)}return{[m]:g,[f]:x}}}},Ure=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ll(e,t),d=await og(t,u),f=cl(i),m=Gf(i),g=io(i)==="y",{width:x,height:v}=a.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=m==="end"?"top":"bottom");const j=v-d.top-d.bottom,b=x-d.left-d.right,C=Sc(v-d[y],j),_=Sc(x-d[N],b),A=!t.middlewareData.shift;let P=C,E=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=j),A&&!m){const I=vi(d.left,0),k=vi(d.right,0),O=vi(d.top,0),L=vi(d.bottom,0);g?E=x-2*(I!==0||k!==0?I+k:vi(d.left,d.right)):P=v-2*(O!==0||L!==0?O+L:vi(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:P});const D=await o.getDimensions(l.floating);return x!==D.width||v!==D.height?{reset:{rects:!0}}:{}}}};function mb(){return typeof window<"u"}function Kf(e){return p6(e)?(e.nodeName||"").toLowerCase():"#document"}function Ni(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jo(e){var t;return(t=(p6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function p6(e){return mb()?e instanceof Node||e instanceof Ni(e).Node:!1}function $a(e){return mb()?e instanceof Element||e instanceof Ni(e).Element:!1}function xo(e){return mb()?e instanceof HTMLElement||e instanceof Ni(e).HTMLElement:!1}function AM(e){return!mb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ni(e).ShadowRoot}const qre=new Set(["inline","contents"]);function uv(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Ra(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!qre.has(i)}const Wre=new Set(["table","td","th"]);function Hre(e){return Wre.has(Kf(e))}const Gre=[":popover-open",":modal"];function pb(e){return Gre.some(t=>{try{return e.matches(t)}catch{return!1}})}const Kre=["transform","translate","scale","rotate","perspective"],Yre=["transform","translate","scale","rotate","perspective","filter"],Qre=["paint","layout","strict","content"];function MA(e){const t=IA(),n=$a(e)?Ra(e):e;return Kre.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Yre.some(s=>(n.willChange||"").includes(s))||Qre.some(s=>(n.contain||"").includes(s))}function Xre(e){let t=Cc(e);for(;xo(t)&&!of(t);){if(MA(t))return t;if(pb(t))return null;t=Cc(t)}return null}function IA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jre=new Set(["html","body","#document"]);function of(e){return Jre.has(Kf(e))}function Ra(e){return Ni(e).getComputedStyle(e)}function gb(e){return $a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cc(e){if(Kf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AM(e)&&e.host||jo(e);return AM(t)?t.host:t}function g6(e){const t=Cc(e);return of(t)?e.ownerDocument?e.ownerDocument.body:e.body:xo(t)&&uv(t)?t:g6(t)}function lg(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=g6(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=Ni(i);if(a){const l=n2(o);return t.concat(o,o.visualViewport||[],uv(i)?i:[],l&&n?lg(l):[])}return t.concat(i,lg(i,[],n))}function n2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function v6(e){const t=Ra(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=xo(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=b0(n)!==a||b0(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function $A(e){return $a(e)?e:e.contextElement}function kh(e){const t=$A(e);if(!xo(t))return fo(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=v6(t);let o=(a?b0(n.width):n.width)/s,l=(a?b0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Zre=fo(0);function x6(e){const t=Ni(e);return!IA()||!t.visualViewport?Zre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ese(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ni(e)?!1:t}function qu(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=$A(e);let o=fo(1);t&&(s?$a(s)&&(o=kh(s)):o=kh(e));const l=ese(a,n,s)?x6(a):fo(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=Ni(a),g=s&&$a(s)?Ni(s):s;let x=m,v=n2(x);for(;v&&s&&g!==x;){const y=kh(v),N=v.getBoundingClientRect(),j=Ra(v),b=N.left+(v.clientLeft+parseFloat(j.paddingLeft))*y.x,C=N.top+(v.clientTop+parseFloat(j.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=C,x=Ni(v),v=n2(x)}}return N0({width:d,height:f,x:c,y:u})}function RA(e,t){const n=gb(e).scrollLeft;return t?t.left+n:qu(jo(e)).left+n}function y6(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:RA(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function tse(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=jo(s),l=t?pb(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=fo(1);const d=fo(0),f=xo(s);if((f||!f&&!a)&&((Kf(s)!=="body"||uv(o))&&(c=gb(s)),xo(s))){const g=qu(s);u=kh(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=o&&!f&&!a?y6(o,c,!0):fo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function nse(e){return Array.from(e.getClientRects())}function rse(e){const t=jo(e),n=gb(e),s=e.ownerDocument.body,i=vi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=vi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+RA(e);const l=-n.scrollTop;return Ra(s).direction==="rtl"&&(o+=vi(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function sse(e,t){const n=Ni(e),s=jo(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=IA();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const ise=new Set(["absolute","fixed"]);function ase(e,t){const n=qu(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=xo(e)?kh(e):fo(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function EM(e,t,n){let s;if(t==="viewport")s=sse(e,n);else if(t==="document")s=rse(jo(e));else if($a(t))s=ase(t,n);else{const i=x6(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return N0(s)}function j6(e,t){const n=Cc(e);return n===t||!$a(n)||of(n)?!1:Ra(n).position==="fixed"||j6(n,t)}function ose(e,t){const n=t.get(e);if(n)return n;let s=lg(e,[],!1).filter(l=>$a(l)&&Kf(l)!=="body"),i=null;const a=Ra(e).position==="fixed";let o=a?Cc(e):e;for(;$a(o)&&!of(o);){const l=Ra(o),c=MA(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&ise.has(i.position)||uv(o)&&!c&&j6(e,o))?s=s.filter(d=>d!==o):i=l,o=Cc(o)}return t.set(e,s),s}function lse(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?pb(t)?[]:ose(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=EM(t,d,i);return u.top=vi(f.top,u.top),u.right=Sc(f.right,u.right),u.bottom=Sc(f.bottom,u.bottom),u.left=vi(f.left,u.left),u},EM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cse(e){const{width:t,height:n}=v6(e);return{width:t,height:n}}function use(e,t,n){const s=xo(t),i=jo(t),a=n==="fixed",o=qu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=fo(0);function u(){c.x=RA(i)}if(s||!s&&!a)if((Kf(t)!=="body"||uv(i))&&(l=gb(t)),s){const g=qu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?y6(i,l):fo(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function JN(e){return Ra(e).position==="static"}function TM(e,t){if(!xo(e)||Ra(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jo(e)===n&&(n=n.ownerDocument.body),n}function b6(e,t){const n=Ni(e);if(pb(e))return n;if(!xo(e)){let i=Cc(e);for(;i&&!of(i);){if($a(i)&&!JN(i))return i;i=Cc(i)}return n}let s=TM(e,t);for(;s&&Hre(s)&&JN(s);)s=TM(s,t);return s&&of(s)&&JN(s)&&!MA(s)?n:s||Xre(e)||n}const dse=async function(e){const t=this.getOffsetParent||b6,n=this.getDimensions,s=await n(e.floating);return{reference:use(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function hse(e){return Ra(e).direction==="rtl"}const fse={convertOffsetParentRelativeRectToViewportRelativeRect:tse,getDocumentElement:jo,getClippingRect:lse,getOffsetParent:b6,getElementRects:dse,getClientRects:nse,getDimensions:cse,getScale:kh,isElement:$a,isRTL:hse};function w6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mse(e,t){let n=null,s;const i=jo(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const x=Yx(f),v=Yx(i.clientWidth-(d+m)),y=Yx(i.clientHeight-(f+g)),N=Yx(d),b={rootMargin:-x+"px "+-v+"px "+-y+"px "+-N+"px",threshold:vi(0,Sc(1,c))||1};let C=!0;function _(A){const P=A[0].intersectionRatio;if(P!==c){if(!C)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!w6(u,e.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(_,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return o(!0),a}function pse(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=$A(e),d=i||a?[...u?lg(u):[],...lg(t)]:[];d.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=u&&l?mse(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(N=>{let[j]=N;j&&j.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let x,v=c?qu(e):null;c&&y();function y(){const N=qu(e);v&&!w6(v,N)&&n(),v=N,x=requestAnimationFrame(y)}return n(),()=>{var N;d.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),f==null||f(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const gse=Bre,vse=zre,xse=Rre,yse=Ure,jse=Lre,kM=$re,bse=Vre,wse=(e,t,n)=>{const s=new Map,i={platform:fse,...n},a={...i.platform,_c:s};return Ire(e,t,{...i,platform:a})};var Nse=typeof document<"u",Sse=function(){},Uy=Nse?w.useLayoutEffect:Sse;function S0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!S0(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!S0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function N6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OM(e,t){const n=N6(e);return Math.round(t*n)/n}function ZN(e){const t=w.useRef(e);return Uy(()=>{t.current=e}),t}function Cse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(s);S0(m,s)||g(s);const[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useCallback(q=>{q!==A.current&&(A.current=q,v(q))},[]),b=w.useCallback(q=>{q!==P.current&&(P.current=q,N(q))},[]),C=a||x,_=o||y,A=w.useRef(null),P=w.useRef(null),E=w.useRef(d),D=c!=null,I=ZN(c),k=ZN(i),O=ZN(u),L=w.useCallback(()=>{if(!A.current||!P.current)return;const q={placement:t,strategy:n,middleware:m};k.current&&(q.platform=k.current),wse(A.current,P.current,q).then($=>{const oe={...$,isPositioned:O.current!==!1};B.current&&!S0(E.current,oe)&&(E.current=oe,ld.flushSync(()=>{f(oe)}))})},[m,t,n,k,O]);Uy(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const B=w.useRef(!1);Uy(()=>(B.current=!0,()=>{B.current=!1}),[]),Uy(()=>{if(C&&(A.current=C),_&&(P.current=_),C&&_){if(I.current)return I.current(C,_,L);L()}},[C,_,L,I,D]);const ee=w.useMemo(()=>({reference:A,floating:P,setReference:j,setFloating:b}),[j,b]),G=w.useMemo(()=>({reference:C,floating:_}),[C,_]),J=w.useMemo(()=>{const q={position:n,left:0,top:0};if(!G.floating)return q;const $=OM(G.floating,d.x),oe=OM(G.floating,d.y);return l?{...q,transform:"translate("+$+"px, "+oe+"px)",...N6(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:oe}},[n,l,G.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:L,refs:ee,elements:G,floatingStyles:J}),[d,L,ee,G,J])}const _se=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?kM({element:s.current,padding:i}).fn(n):{}:s?kM({element:s,padding:i}).fn(n):{}}}},Pse=(e,t)=>({...gse(e),options:[e,t]}),Ase=(e,t)=>({...vse(e),options:[e,t]}),Ese=(e,t)=>({...bse(e),options:[e,t]}),Tse=(e,t)=>({...xse(e),options:[e,t]}),kse=(e,t)=>({...yse(e),options:[e,t]}),Ose=(e,t)=>({...jse(e),options:[e,t]}),Dse=(e,t)=>({..._se(e),options:[e,t]});var Mse="Arrow",S6=w.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(it.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});S6.displayName=Mse;var Ise=S6;function LA(e){const[t,n]=w.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var FA="Popper",[C6,kc]=ni(FA),[$se,_6]=C6(FA),P6=e=>{const{__scopePopper:t,children:n}=e,[s,i]=w.useState(null);return r.jsx($se,{scope:t,anchor:s,onAnchorChange:i,children:n})};P6.displayName=FA;var A6="PopperAnchor",E6=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=_6(A6,n),o=w.useRef(null),l=Xt(t,o);return w.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(it.div,{...i,ref:l})});E6.displayName=A6;var BA="PopperContent",[Rse,Lse]=C6(BA),T6=w.forwardRef((e,t)=>{var we,z,Q,te,K,M;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=_6(BA,n),[N,j]=w.useState(null),b=Xt(t,xe=>j(xe)),[C,_]=w.useState(null),A=LA(C),P=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,D=s+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,L={padding:I,boundary:k.filter(Bse),altBoundary:O},{refs:B,floatingStyles:ee,placement:G,isPositioned:J,middlewareData:q}=Cse({strategy:"fixed",placement:D,whileElementsMounted:(...xe)=>pse(...xe,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[Pse({mainAxis:i+E,alignmentAxis:o}),c&&Ase({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Ese():void 0,...L}),c&&Tse({...L}),kse({...L,apply:({elements:xe,rects:Ne,availableWidth:de,availableHeight:Pe})=>{const{width:Ze,height:at}=Ne.reference,dt=xe.floating.style;dt.setProperty("--radix-popper-available-width",`${de}px`),dt.setProperty("--radix-popper-available-height",`${Pe}px`),dt.setProperty("--radix-popper-anchor-width",`${Ze}px`),dt.setProperty("--radix-popper-anchor-height",`${at}px`)}}),C&&Dse({element:C,padding:l}),zse({arrowWidth:P,arrowHeight:E}),m&&Ose({strategy:"referenceHidden",...L})]}),[$,oe]=D6(G),ge=$s(x);Nr(()=>{J&&(ge==null||ge())},[J,ge]);const re=(we=q.arrow)==null?void 0:we.x,Z=(z=q.arrow)==null?void 0:z.y,ne=((Q=q.arrow)==null?void 0:Q.centerOffset)!==0,[ve,je]=w.useState();return Nr(()=>{N&&je(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:J?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(te=q.transformOrigin)==null?void 0:te.x,(K=q.transformOrigin)==null?void 0:K.y].join(" "),...((M=q.hide)==null?void 0:M.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Rse,{scope:n,placedSide:$,onArrowChange:_,arrowX:re,arrowY:Z,shouldHideArrow:ne,children:r.jsx(it.div,{"data-side":$,"data-align":oe,...v,ref:b,style:{...v.style,animation:J?void 0:"none"}})})})});T6.displayName=BA;var k6="PopperArrow",Fse={top:"bottom",right:"left",bottom:"top",left:"right"},O6=w.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=Lse(k6,s),o=Fse[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(Ise,{...i,ref:n,style:{...i.style,display:"block"}})})});O6.displayName=k6;function Bse(e){return e!==null}var zse=e=>({name:"transformOrigin",options:e,fn(t){var y,N,j;const{placement:n,rects:s,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=D6(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,g=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?f:`${m}px`,v=`${-c}px`):u==="top"?(x=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?f:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,v=o?f:`${g}px`),{data:{x,y:v}}}});function D6(e){const[t,n="center"]=e.split("-");return[t,n]}var zA=P6,dv=E6,vb=T6,xb=O6,[yb,E6e]=ni("Tooltip",[kc]),VA=kc(),M6="TooltipProvider",Vse=700,DM="tooltip.open",[Use,I6]=yb(M6),$6=e=>{const{__scopeTooltip:t,delayDuration:n=Vse,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),r.jsx(Use,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};$6.displayName=M6;var R6="Tooltip",[T6e,jb]=yb(R6),r2="TooltipTrigger",qse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=jb(r2,n),a=I6(r2,n),o=VA(n),l=w.useRef(null),c=Xt(t,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(dv,{asChild:!0,...o,children:r.jsx(it.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:Ke(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ke(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ke(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ke(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ke(e.onBlur,i.onClose),onClick:Ke(e.onClick,i.onClose)})})});qse.displayName=r2;var Wse="TooltipPortal",[k6e,Hse]=yb(Wse,{forceMount:void 0}),lf="TooltipContent",L6=w.forwardRef((e,t)=>{const n=Hse(lf,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=jb(lf,e.__scopeTooltip);return r.jsx(ri,{present:s||o.open,children:o.disableHoverableContent?r.jsx(F6,{side:i,...a,ref:t}):r.jsx(Gse,{side:i,...a,ref:t})})}),Gse=w.forwardRef((e,t)=>{const n=jb(lf,e.__scopeTooltip),s=I6(lf,e.__scopeTooltip),i=w.useRef(null),a=Xt(t,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,m=w.useCallback(()=>{l(null),f(!1)},[f]),g=w.useCallback((x,v)=>{const y=x.currentTarget,N={x:x.clientX,y:x.clientY},j=Jse(N,y.getBoundingClientRect()),b=Zse(N,j),C=eie(v.getBoundingClientRect()),_=nie([...b,...C]);l(_),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const x=y=>g(y,d),v=y=>g(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),w.useEffect(()=>{if(o){const x=v=>{const y=v.target,N={x:v.clientX,y:v.clientY},j=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!tie(N,o);j?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),r.jsx(F6,{...e,ref:a})}),[Kse,Yse]=yb(R6,{isInside:!1}),Qse=Qee("TooltipContent"),F6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=jb(lf,n),u=VA(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(DM,d),()=>document.removeEventListener(DM,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),r.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(vb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Qse,{children:s}),r.jsx(Kse,{scope:n,isInside:!0,children:r.jsx(xte,{id:c.contentId,role:"tooltip",children:i||s})})]})})});L6.displayName=lf;var B6="TooltipArrow",Xse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=VA(n);return Yse(B6,n).isInside?null:r.jsx(xb,{...i,...s,ref:t})});Xse.displayName=B6;function Jse(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Zse(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function eie(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function tie(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function nie(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),rie(t)}function rie(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var sie=$6,z6=L6;const iie=sie,aie=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(z6,{ref:s,sideOffset:t,className:et("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));aie.displayName=z6.displayName;var Yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oie={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Kl,_P,nL,lie=(nL=class{constructor(){ut(this,Kl,oie);ut(this,_P,!1)}setTimeoutProvider(e){Xe(this,Kl,e)}setTimeout(e,t){return ce(this,Kl).setTimeout(e,t)}clearTimeout(e){ce(this,Kl).clearTimeout(e)}setInterval(e,t){return ce(this,Kl).setInterval(e,t)}clearInterval(e){ce(this,Kl).clearInterval(e)}},Kl=new WeakMap,_P=new WeakMap,nL),xu=new lie;function cie(e){setTimeout(e,0)}var Wu=typeof window>"u"||"Deno"in globalThis;function Ts(){}function uie(e,t){return typeof e=="function"?e(t):e}function s2(e){return typeof e=="number"&&e>=0&&e!==1/0}function V6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vc(e,t){return typeof e=="function"?e(t):e}function Vi(e,t){return typeof e=="function"?e(t):e}function MM(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==UA(o,t.options))return!1}else if(!cg(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function IM(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Hu(t.options.mutationKey)!==Hu(a))return!1}else if(!cg(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function UA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hu)(e)}function Hu(e){return JSON.stringify(e,(t,n)=>i2(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function cg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>cg(e[n],t[n])):!1}var die=Object.prototype.hasOwnProperty;function U6(e,t){if(e===t)return e;const n=$M(e)&&$M(t);if(!n&&!(i2(e)&&i2(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<i:die.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const g=U6(f,m);l[d]=g,g===f&&c++}return i===o&&c===i?e:l}function C0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $M(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function i2(e){if(!RM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!RM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function RM(e){return Object.prototype.toString.call(e)==="[object Object]"}function hie(e){return new Promise(t=>{xu.setTimeout(t,e)})}function a2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?U6(e,t):t}function fie(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function mie(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var qA=Symbol();function q6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function W6(e,t){return typeof e=="function"?e(...t):!!e}var Su,Yl,Lh,rL,pie=(rL=class extends Yf{constructor(){super();ut(this,Su);ut(this,Yl);ut(this,Lh);Xe(this,Lh,t=>{if(!Wu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,Yl)||this.setEventListener(ce(this,Lh))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Yl))==null||t.call(this),Xe(this,Yl,void 0))}setEventListener(t){var n;Xe(this,Lh,t),(n=ce(this,Yl))==null||n.call(this),Xe(this,Yl,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ce(this,Su)!==t&&(Xe(this,Su,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ce(this,Su)=="boolean"?ce(this,Su):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Su=new WeakMap,Yl=new WeakMap,Lh=new WeakMap,rL),WA=new pie;function o2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var gie=cie;function vie(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=gie;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var Or=vie(),Fh,Ql,Bh,sL,xie=(sL=class extends Yf{constructor(){super();ut(this,Fh,!0);ut(this,Ql);ut(this,Bh);Xe(this,Bh,t=>{if(!Wu&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){ce(this,Ql)||this.setEventListener(ce(this,Bh))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,Ql))==null||t.call(this),Xe(this,Ql,void 0))}setEventListener(t){var n;Xe(this,Bh,t),(n=ce(this,Ql))==null||n.call(this),Xe(this,Ql,t(this.setOnline.bind(this)))}setOnline(t){ce(this,Fh)!==t&&(Xe(this,Fh,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ce(this,Fh)}},Fh=new WeakMap,Ql=new WeakMap,Bh=new WeakMap,sL),_0=new xie;function yie(e){return Math.min(1e3*2**e,3e4)}function H6(e){return(e??"online")==="online"?_0.isOnline():!0}var l2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function G6(e){let t=!1,n=0,s;const i=o2(),a=()=>i.status!=="pending",o=v=>{var y;if(!a()){const N=new l2(v);m(N),(y=e.onCancel)==null||y.call(e,N)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>WA.isFocused()&&(e.networkMode==="always"||_0.isOnline())&&e.canRun(),d=()=>H6(e.networkMode)&&e.canRun(),f=v=>{a()||(s==null||s(),i.resolve(v))},m=v=>{a()||(s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var y;s=N=>{(a()||u())&&v(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(a())return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(f).catch(N=>{var A;if(a())return;const j=e.retry??(Wu?0:3),b=e.retryDelay??yie,C=typeof b=="function"?b(n,N):b,_=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,N);if(t||!_){m(N);return}n++,(A=e.onFail)==null||A.call(e,n,N),hie(C).then(()=>u()?void 0:g()).then(()=>{t?m(N):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),i)}}var Cu,iL,K6=(iL=class{constructor(){ut(this,Cu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s2(this.gcTime)&&Xe(this,Cu,xu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wu?1/0:5*60*1e3))}clearGcTimeout(){ce(this,Cu)&&(xu.clearTimeout(ce(this,Cu)),Xe(this,Cu,void 0))}},Cu=new WeakMap,iL),_u,zh,zi,Pu,Br,Jg,Au,va,$o,aL,jie=(aL=class extends K6{constructor(t){super();ut(this,va);ut(this,_u);ut(this,zh);ut(this,zi);ut(this,Pu);ut(this,Br);ut(this,Jg);ut(this,Au);Xe(this,Au,!1),Xe(this,Jg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,Pu,t.client),Xe(this,zi,ce(this,Pu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,_u,LM(this.options)),this.state=t.state??ce(this,_u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ce(this,Br))==null?void 0:t.promise}setOptions(t){if(this.options={...ce(this,Jg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=LM(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Xe(this,_u,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,zi).remove(this)}setData(t,n){const s=a2(this.state.data,t,this.options);return Vt(this,va,$o).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Vt(this,va,$o).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=ce(this,Br))==null?void 0:s.promise;return(i=ce(this,Br))==null||i.cancel(t),n?n.then(Ts).catch(Ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,_u))}isActive(){return this.observers.some(t=>Vi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!V6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,Br))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,Br))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ce(this,zi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ce(this,Br)&&(ce(this,Au)?ce(this,Br).cancel({revert:!0}):ce(this,Br).cancelRetry()),this.scheduleGc()),ce(this,zi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,va,$o).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,g,x,v,y,N,j,b;if(this.state.fetchStatus!=="idle"&&((c=ce(this,Br))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,Br))return ce(this,Br).continueRetry(),ce(this,Br).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(_=>_.options.queryFn);C&&this.setOptions(C.options)}const s=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Xe(this,Au,!0),s.signal)})},a=()=>{const C=q6(this.options,n),A=(()=>{const P={client:ce(this,Pu),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return Xe(this,Au,!1),this.options.persister?this.options.persister(C,A,this):C(A)},l=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,Pu),state:this.state,fetchFn:a};return i(C),C})();(u=this.options.behavior)==null||u.onFetch(l,this),Xe(this,zh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Vt(this,va,$o).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Xe(this,Br,G6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof l2&&C.revert&&this.setState({...ce(this,zh),fetchStatus:"idle"}),s.abort()},onFail:(C,_)=>{Vt(this,va,$o).call(this,{type:"failed",failureCount:C,error:_})},onPause:()=>{Vt(this,va,$o).call(this,{type:"pause"})},onContinue:()=>{Vt(this,va,$o).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await ce(this,Br).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(g=(m=ce(this,zi).config).onSuccess)==null||g.call(m,C,this),(v=(x=ce(this,zi).config).onSettled)==null||v.call(x,C,this.state.error,this),C}catch(C){if(C instanceof l2){if(C.silent)return ce(this,Br).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Vt(this,va,$o).call(this,{type:"error",error:C}),(N=(y=ce(this,zi).config).onError)==null||N.call(y,C,this),(b=(j=ce(this,zi).config).onSettled)==null||b.call(j,this.state.data,C,this),C}finally{this.scheduleGc()}}},_u=new WeakMap,zh=new WeakMap,zi=new WeakMap,Pu=new WeakMap,Br=new WeakMap,Jg=new WeakMap,Au=new WeakMap,va=new WeakSet,$o=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Y6(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Xe(this,zh,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Or.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ce(this,zi).notify({query:this,type:"updated",action:t})})},aL);function Y6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function LM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hs,rn,Zg,Ps,Eu,Vh,Vo,Xl,ev,Uh,qh,Tu,ku,Jl,Wh,gn,gp,c2,u2,d2,h2,f2,m2,p2,Q6,oL,bie=(oL=class extends Yf{constructor(t,n){super();ut(this,gn);ut(this,Hs);ut(this,rn);ut(this,Zg);ut(this,Ps);ut(this,Eu);ut(this,Vh);ut(this,Vo);ut(this,Xl);ut(this,ev);ut(this,Uh);ut(this,qh);ut(this,Tu);ut(this,ku);ut(this,Jl);ut(this,Wh,new Set);this.options=n,Xe(this,Hs,t),Xe(this,Xl,null),Xe(this,Vo,o2()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ce(this,rn).addObserver(this),FM(ce(this,rn),this.options)?Vt(this,gn,gp).call(this):this.updateResult(),Vt(this,gn,h2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return g2(ce(this,rn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return g2(ce(this,rn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Vt(this,gn,f2).call(this),Vt(this,gn,m2).call(this),ce(this,rn).removeObserver(this)}setOptions(t){const n=this.options,s=ce(this,rn);if(this.options=ce(this,Hs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vi(this.options.enabled,ce(this,rn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Vt(this,gn,p2).call(this),ce(this,rn).setOptions(this.options),n._defaulted&&!C0(this.options,n)&&ce(this,Hs).getQueryCache().notify({type:"observerOptionsUpdated",query:ce(this,rn),observer:this});const i=this.hasListeners();i&&BM(ce(this,rn),s,this.options,n)&&Vt(this,gn,gp).call(this),this.updateResult(),i&&(ce(this,rn)!==s||Vi(this.options.enabled,ce(this,rn))!==Vi(n.enabled,ce(this,rn))||vc(this.options.staleTime,ce(this,rn))!==vc(n.staleTime,ce(this,rn)))&&Vt(this,gn,c2).call(this);const a=Vt(this,gn,u2).call(this);i&&(ce(this,rn)!==s||Vi(this.options.enabled,ce(this,rn))!==Vi(n.enabled,ce(this,rn))||a!==ce(this,Jl))&&Vt(this,gn,d2).call(this,a)}getOptimisticResult(t){const n=ce(this,Hs).getQueryCache().build(ce(this,Hs),t),s=this.createResult(n,t);return Nie(this,s)&&(Xe(this,Ps,s),Xe(this,Vh,this.options),Xe(this,Eu,ce(this,rn).state)),s}getCurrentResult(){return ce(this,Ps)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ce(this,Vo).status==="pending"&&ce(this,Vo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){ce(this,Wh).add(t)}getCurrentQuery(){return ce(this,rn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ce(this,Hs).defaultQueryOptions(t),s=ce(this,Hs).getQueryCache().build(ce(this,Hs),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Vt(this,gn,gp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ce(this,Ps)))}createResult(t,n){var D;const s=ce(this,rn),i=this.options,a=ce(this,Ps),o=ce(this,Eu),l=ce(this,Vh),u=t!==s?t.state:ce(this,Zg),{state:d}=t;let f={...d},m=!1,g;if(n._optimisticResults){const I=this.hasListeners(),k=!I&&FM(t,n),O=I&&BM(t,s,n,i);(k||O)&&(f={...f,...Y6(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=f;g=f.data;let N=!1;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let I;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(I=a.data,N=!0):I=typeof n.placeholderData=="function"?n.placeholderData((D=ce(this,qh))==null?void 0:D.state.data,ce(this,qh)):n.placeholderData,I!==void 0&&(y="success",g=a2(a==null?void 0:a.data,I,n),m=!0)}if(n.select&&g!==void 0&&!N)if(a&&g===(o==null?void 0:o.data)&&n.select===ce(this,ev))g=ce(this,Uh);else try{Xe(this,ev,n.select),g=n.select(g),g=a2(a==null?void 0:a.data,g,n),Xe(this,Uh,g),Xe(this,Xl,null)}catch(I){Xe(this,Xl,I)}ce(this,Xl)&&(x=ce(this,Xl),g=ce(this,Uh),v=Date.now(),y="error");const j=f.fetchStatus==="fetching",b=y==="pending",C=y==="error",_=b&&j,A=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:C,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!b,isLoadingError:C&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:C&&A,isStale:HA(t,n),refetch:this.refetch,promise:ce(this,Vo),isEnabled:Vi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},k=()=>{const L=Xe(this,Vo,E.promise=o2());I(L)},O=ce(this,Vo);switch(O.status){case"pending":t.queryHash===s.queryHash&&I(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&k();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&k();break}}return E}updateResult(){const t=ce(this,Ps),n=this.createResult(ce(this,rn),this.options);if(Xe(this,Eu,ce(this,rn).state),Xe(this,Vh,this.options),ce(this,Eu).data!==void 0&&Xe(this,qh,ce(this,rn)),C0(n,t))return;Xe(this,Ps,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!ce(this,Wh).size)return!0;const o=new Set(a??ce(this,Wh));return this.options.throwOnError&&o.add("error"),Object.keys(ce(this,Ps)).some(l=>{const c=l;return ce(this,Ps)[c]!==t[c]&&o.has(c)})};Vt(this,gn,Q6).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Vt(this,gn,h2).call(this)}},Hs=new WeakMap,rn=new WeakMap,Zg=new WeakMap,Ps=new WeakMap,Eu=new WeakMap,Vh=new WeakMap,Vo=new WeakMap,Xl=new WeakMap,ev=new WeakMap,Uh=new WeakMap,qh=new WeakMap,Tu=new WeakMap,ku=new WeakMap,Jl=new WeakMap,Wh=new WeakMap,gn=new WeakSet,gp=function(t){Vt(this,gn,p2).call(this);let n=ce(this,rn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ts)),n},c2=function(){Vt(this,gn,f2).call(this);const t=vc(this.options.staleTime,ce(this,rn));if(Wu||ce(this,Ps).isStale||!s2(t))return;const s=V6(ce(this,Ps).dataUpdatedAt,t)+1;Xe(this,Tu,xu.setTimeout(()=>{ce(this,Ps).isStale||this.updateResult()},s))},u2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ce(this,rn)):this.options.refetchInterval)??!1},d2=function(t){Vt(this,gn,m2).call(this),Xe(this,Jl,t),!(Wu||Vi(this.options.enabled,ce(this,rn))===!1||!s2(ce(this,Jl))||ce(this,Jl)===0)&&Xe(this,ku,xu.setInterval(()=>{(this.options.refetchIntervalInBackground||WA.isFocused())&&Vt(this,gn,gp).call(this)},ce(this,Jl)))},h2=function(){Vt(this,gn,c2).call(this),Vt(this,gn,d2).call(this,Vt(this,gn,u2).call(this))},f2=function(){ce(this,Tu)&&(xu.clearTimeout(ce(this,Tu)),Xe(this,Tu,void 0))},m2=function(){ce(this,ku)&&(xu.clearInterval(ce(this,ku)),Xe(this,ku,void 0))},p2=function(){const t=ce(this,Hs).getQueryCache().build(ce(this,Hs),this.options);if(t===ce(this,rn))return;const n=ce(this,rn);Xe(this,rn,t),Xe(this,Zg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Q6=function(t){Or.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ce(this,Ps))}),ce(this,Hs).getQueryCache().notify({query:ce(this,rn),type:"observerResultsUpdated"})})},oL);function wie(e,t){return Vi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function FM(e,t){return wie(e,t)||e.state.data!==void 0&&g2(e,t,t.refetchOnMount)}function g2(e,t,n){if(Vi(t.enabled,e)!==!1&&vc(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&HA(e,t)}return!1}function BM(e,t,n,s){return(e!==t||Vi(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&HA(e,n)}function HA(e,t){return Vi(t.enabled,e)!==!1&&e.isStaleByTime(vc(t.staleTime,e))}function Nie(e,t){return!C0(e.getCurrentResult(),t)}function zM(e){return{onFetch:(t,n)=>{var d,f,m,g,x;const s=t.options,i=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=q6(t.options,t.fetchOptions),j=async(b,C,_)=>{if(v)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:C,direction:_?"backward":"forward",meta:t.options.meta};return y(k),k})(),E=await N(P),{maxPages:D}=t.options,I=_?mie:fie;return{pages:I(b.pages,E,D),pageParams:I(b.pageParams,C,D)}};if(i&&a.length){const b=i==="backward",C=b?Sie:VM,_={pages:a,pageParams:o},A=C(s,_);l=await j(_,A,b)}else{const b=e??a.length;do{const C=c===0?o[0]??s.initialPageParam:VM(s,l);if(c>0&&C==null)break;l=await j(l,C),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function VM(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Sie(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var tv,Ja,As,Ou,Za,Rl,lL,Cie=(lL=class extends K6{constructor(t){super();ut(this,Za);ut(this,tv);ut(this,Ja);ut(this,As);ut(this,Ou);Xe(this,tv,t.client),this.mutationId=t.mutationId,Xe(this,As,t.mutationCache),Xe(this,Ja,[]),this.state=t.state||X6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ce(this,Ja).includes(t)||(ce(this,Ja).push(t),this.clearGcTimeout(),ce(this,As).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,Ja,ce(this,Ja).filter(n=>n!==t)),this.scheduleGc(),ce(this,As).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ce(this,Ja).length||(this.state.status==="pending"?this.scheduleGc():ce(this,As).remove(this))}continue(){var t;return((t=ce(this,Ou))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,g,x,v,y,N,j,b,C,_,A,P,E,D;const n=()=>{Vt(this,Za,Rl).call(this,{type:"continue"})},s={client:ce(this,tv),meta:this.options.meta,mutationKey:this.options.mutationKey};Xe(this,Ou,G6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(I,k)=>{Vt(this,Za,Rl).call(this,{type:"failed",failureCount:I,error:k})},onPause:()=>{Vt(this,Za,Rl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,As).canRun(this)}));const i=this.state.status==="pending",a=!ce(this,Ou).canStart();try{if(i)n();else{Vt(this,Za,Rl).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=ce(this,As).config).onMutate)==null?void 0:l.call(o,t,this,s));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,s));k!==this.state.context&&Vt(this,Za,Rl).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const I=await ce(this,Ou).start();return await((f=(d=ce(this,As).config).onSuccess)==null?void 0:f.call(d,I,t,this.state.context,this,s)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,I,t,this.state.context,s)),await((v=(x=ce(this,As).config).onSettled)==null?void 0:v.call(x,I,null,this.state.variables,this.state.context,this,s)),await((N=(y=this.options).onSettled)==null?void 0:N.call(y,I,null,t,this.state.context,s)),Vt(this,Za,Rl).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(j=ce(this,As).config).onError)==null?void 0:b.call(j,I,t,this.state.context,this,s)),await((_=(C=this.options).onError)==null?void 0:_.call(C,I,t,this.state.context,s)),await((P=(A=ce(this,As).config).onSettled)==null?void 0:P.call(A,void 0,I,this.state.variables,this.state.context,this,s)),await((D=(E=this.options).onSettled)==null?void 0:D.call(E,void 0,I,t,this.state.context,s)),I}finally{Vt(this,Za,Rl).call(this,{type:"error",error:I})}}finally{ce(this,As).runNext(this)}}},tv=new WeakMap,Ja=new WeakMap,As=new WeakMap,Ou=new WeakMap,Za=new WeakSet,Rl=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Or.batch(()=>{ce(this,Ja).forEach(s=>{s.onMutationUpdate(t)}),ce(this,As).notify({mutation:this,type:"updated",action:t})})},lL);function X6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Uo,xa,nv,cL,_ie=(cL=class extends Yf{constructor(t={}){super();ut(this,Uo);ut(this,xa);ut(this,nv);this.config=t,Xe(this,Uo,new Set),Xe(this,xa,new Map),Xe(this,nv,0)}build(t,n,s){const i=new Cie({client:t,mutationCache:this,mutationId:++Ax(this,nv)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){ce(this,Uo).add(t);const n=Qx(t);if(typeof n=="string"){const s=ce(this,xa).get(n);s?s.push(t):ce(this,xa).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ce(this,Uo).delete(t)){const n=Qx(t);if(typeof n=="string"){const s=ce(this,xa).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&ce(this,xa).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Qx(t);if(typeof n=="string"){const s=ce(this,xa).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=Qx(t);if(typeof n=="string"){const i=(s=ce(this,xa).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Or.batch(()=>{ce(this,Uo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ce(this,Uo).clear(),ce(this,xa).clear()})}getAll(){return Array.from(ce(this,Uo))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>IM(n,s))}findAll(t={}){return this.getAll().filter(n=>IM(t,n))}notify(t){Or.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Or.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ts))))}},Uo=new WeakMap,xa=new WeakMap,nv=new WeakMap,cL);function Qx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var qo,Zl,Gs,Wo,el,qy,v2,uL,Pie=(uL=class extends Yf{constructor(n,s){super();ut(this,el);ut(this,qo);ut(this,Zl);ut(this,Gs);ut(this,Wo);Xe(this,qo,n),this.setOptions(s),this.bindMethods(),Vt(this,el,qy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=ce(this,qo).defaultMutationOptions(n),C0(this.options,s)||ce(this,qo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ce(this,Gs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Hu(s.mutationKey)!==Hu(this.options.mutationKey)?this.reset():((i=ce(this,Gs))==null?void 0:i.state.status)==="pending"&&ce(this,Gs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ce(this,Gs))==null||n.removeObserver(this)}onMutationUpdate(n){Vt(this,el,qy).call(this),Vt(this,el,v2).call(this,n)}getCurrentResult(){return ce(this,Zl)}reset(){var n;(n=ce(this,Gs))==null||n.removeObserver(this),Xe(this,Gs,void 0),Vt(this,el,qy).call(this),Vt(this,el,v2).call(this)}mutate(n,s){var i;return Xe(this,Wo,s),(i=ce(this,Gs))==null||i.removeObserver(this),Xe(this,Gs,ce(this,qo).getMutationCache().build(ce(this,qo),this.options)),ce(this,Gs).addObserver(this),ce(this,Gs).execute(n)}},qo=new WeakMap,Zl=new WeakMap,Gs=new WeakMap,Wo=new WeakMap,el=new WeakSet,qy=function(){var s;const n=((s=ce(this,Gs))==null?void 0:s.state)??X6();Xe(this,Zl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},v2=function(n){Or.batch(()=>{var s,i,a,o,l,c,u,d;if(ce(this,Wo)&&this.hasListeners()){const f=ce(this,Zl).variables,m=ce(this,Zl).context,g={client:ce(this,qo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(s=ce(this,Wo)).onSuccess)==null||i.call(s,n.data,f,m,g),(o=(a=ce(this,Wo)).onSettled)==null||o.call(a,n.data,null,f,m,g)):(n==null?void 0:n.type)==="error"&&((c=(l=ce(this,Wo)).onError)==null||c.call(l,n.error,f,m,g),(d=(u=ce(this,Wo)).onSettled)==null||d.call(u,void 0,n.error,f,m,g))}this.listeners.forEach(f=>{f(ce(this,Zl))})})},uL),eo,dL,Aie=(dL=class extends Yf{constructor(t={}){super();ut(this,eo);this.config=t,Xe(this,eo,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??UA(i,n);let o=this.get(a);return o||(o=new jie({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){ce(this,eo).has(t.queryHash)||(ce(this,eo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ce(this,eo).get(t.queryHash);n&&(t.destroy(),n===t&&ce(this,eo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Or.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ce(this,eo).get(t)}getAll(){return[...ce(this,eo).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>MM(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>MM(t,s)):n}notify(t){Or.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Or.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Or.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},eo=new WeakMap,dL),ar,ec,tc,Hh,Gh,nc,Kh,Yh,hL,Eie=(hL=class{constructor(e={}){ut(this,ar);ut(this,ec);ut(this,tc);ut(this,Hh);ut(this,Gh);ut(this,nc);ut(this,Kh);ut(this,Yh);Xe(this,ar,e.queryCache||new Aie),Xe(this,ec,e.mutationCache||new _ie),Xe(this,tc,e.defaultOptions||{}),Xe(this,Hh,new Map),Xe(this,Gh,new Map),Xe(this,nc,0)}mount(){Ax(this,nc)._++,ce(this,nc)===1&&(Xe(this,Kh,WA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,ar).onFocus())})),Xe(this,Yh,_0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,ar).onOnline())})))}unmount(){var e,t;Ax(this,nc)._--,ce(this,nc)===0&&((e=ce(this,Kh))==null||e.call(this),Xe(this,Kh,void 0),(t=ce(this,Yh))==null||t.call(this),Xe(this,Yh,void 0))}isFetching(e){return ce(this,ar).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ce(this,ec).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,ar).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ce(this,ar).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(vc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ce(this,ar).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=ce(this,ar).get(s.queryHash),a=i==null?void 0:i.state.data,o=uie(t,a);if(o!==void 0)return ce(this,ar).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Or.batch(()=>ce(this,ar).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,ar).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ce(this,ar);Or.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ce(this,ar);return Or.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Or.batch(()=>ce(this,ar).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Ts).catch(Ts)}invalidateQueries(e,t={}){return Or.batch(()=>(ce(this,ar).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Or.batch(()=>ce(this,ar).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ts)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ts)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ce(this,ar).build(this,t);return n.isStaleByTime(vc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ts).catch(Ts)}fetchInfiniteQuery(e){return e.behavior=zM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ts).catch(Ts)}ensureInfiniteQueryData(e){return e.behavior=zM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _0.isOnline()?ce(this,ec).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,ar)}getMutationCache(){return ce(this,ec)}getDefaultOptions(){return ce(this,tc)}setDefaultOptions(e){Xe(this,tc,e)}setQueryDefaults(e,t){ce(this,Hh).set(Hu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ce(this,Hh).values()],n={};return t.forEach(s=>{cg(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){ce(this,Gh).set(Hu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ce(this,Gh).values()],n={};return t.forEach(s=>{cg(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ce(this,tc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=UA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ce(this,tc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ce(this,ar).clear(),ce(this,ec).clear()}},ar=new WeakMap,ec=new WeakMap,tc=new WeakMap,Hh=new WeakMap,Gh=new WeakMap,nc=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,hL),J6=w.createContext(void 0),is=e=>{const t=w.useContext(J6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Tie=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(J6.Provider,{value:e,children:t})),Z6=w.createContext(!1),kie=()=>w.useContext(Z6);Z6.Provider;function Oie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Die=w.createContext(Oie()),Mie=()=>w.useContext(Die),Iie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$ie=e=>{w.useEffect(()=>{e.clearReset()},[e])},Rie=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||W6(n,[e.error,s])),Lie=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Fie=(e,t)=>e.isLoading&&e.isFetching&&!t,Bie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,UM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function zie(e,t,n){var f,m,g,x,v;const s=kie(),i=Mie(),a=is(),o=a.defaultQueryOptions(e);(m=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",Lie(o),Iie(o,i),$ie(i);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const N=d?c.subscribe(Or.batchCalls(y)):Ts;return c.updateResult(),N},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),Bie(o,u))throw UM(o,c,i);if(Rie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!Wu&&Fie(u,s)){const y=l?UM(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(Ts).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function gl(e,t){return zie(e,bie)}function xs(e,t){const n=is(),[s]=w.useState(()=>new Pie(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const i=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(Or.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((o,l)=>{s.mutate(o,l).catch(Ts)},[s]);if(i.error&&W6(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ug.apply(this,arguments)}var ac;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ac||(ac={}));const qM="popstate";function Vie(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return x2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:P0(i)}return qie(t,n,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Uie(){return Math.random().toString(36).substr(2,8)}function WM(e,t){return{usr:e.state,key:e.key,idx:t}}function x2(e,t,n,s){return n===void 0&&(n=null),ug({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qf(t):t,{state:n,key:t&&t.key||s||Uie()})}function P0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Qf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function qie(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=ac.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ug({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ac.Pop;let y=d(),N=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:N})}function m(y,N){l=ac.Push;let j=x2(v.location,y,N);u=d()+1;let b=WM(j,u),C=v.createHref(j);try{o.pushState(b,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(C)}a&&c&&c({action:l,location:v.location,delta:1})}function g(y,N){l=ac.Replace;let j=x2(v.location,y,N);u=d();let b=WM(j,u),C=v.createHref(j);o.replaceState(b,"",C),a&&c&&c({action:l,location:v.location,delta:0})}function x(y){let N=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof y=="string"?y:P0(y);return j=j.replace(/ $/,"%20"),xr(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qM,f),c=y,()=>{i.removeEventListener(qM,f),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let N=x(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(y){return o.go(y)}};return v}var HM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(HM||(HM={}));function Wie(e,t,n){return n===void 0&&(n="/"),Hie(e,t,n,!1)}function Hie(e,t,n,s){let i=typeof t=="string"?Qf(t):t,a=GA(i.pathname||"/",n);if(a==null)return null;let o=t8(e);Gie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=sae(a);l=nae(o[c],u,s)}return l}function t8(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=xc([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(xr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t8(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:eae(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of n8(a.path))i(a,o,c)}),t}function n8(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=n8(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Gie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tae(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Kie=/^:[\w-]+$/,Yie=3,Qie=2,Xie=1,Jie=10,Zie=-2,GM=e=>e==="*";function eae(e,t){let n=e.split("/"),s=n.length;return n.some(GM)&&(s+=Zie),t&&(s+=Qie),n.filter(i=>!GM(i)).reduce((i,a)=>i+(Kie.test(a)?Yie:a===""?Xie:Jie),s)}function tae(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function nae(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=KM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=KM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:xc([a,f.pathname]),pathnameBase:lae(xc([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=xc([a,f.pathnameBase]))}return o}function KM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=rae(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function rae(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),e8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function sae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return e8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function GA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function iae(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Qf(e):e;return{pathname:n?n.startsWith("/")?n:aae(n,t):t,search:cae(s),hash:uae(i)}}function aae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eS(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function KA(e,t){let n=oae(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function YA(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Qf(e):(i=ug({},e),xr(!i.pathname||!i.pathname.includes("?"),eS("?","pathname","search",i)),xr(!i.pathname||!i.pathname.includes("#"),eS("#","pathname","hash",i)),xr(!i.search||!i.search.includes("#"),eS("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=iae(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xc=e=>e.join("/").replace(/\/\/+/g,"/"),lae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const r8=["post","put","patch","delete"];new Set(r8);const hae=["get",...r8];new Set(hae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dg.apply(this,arguments)}const QA=w.createContext(null),fae=w.createContext(null),Oc=w.createContext(null),bb=w.createContext(null),Dc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),s8=w.createContext(null);function mae(e,t){let{relative:n}=t===void 0?{}:t;Xf()||xr(!1);let{basename:s,navigator:i}=w.useContext(Oc),{hash:a,pathname:o,search:l}=a8(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:xc([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Xf(){return w.useContext(bb)!=null}function Mc(){return Xf()||xr(!1),w.useContext(bb).location}function i8(e){w.useContext(Oc).static||w.useLayoutEffect(e)}function Jf(){let{isDataRoute:e}=w.useContext(Dc);return e?Pae():pae()}function pae(){Xf()||xr(!1);let e=w.useContext(QA),{basename:t,future:n,navigator:s}=w.useContext(Oc),{matches:i}=w.useContext(Dc),{pathname:a}=Mc(),o=JSON.stringify(KA(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return i8(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=YA(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xc([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function a8(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(Oc),{matches:i}=w.useContext(Dc),{pathname:a}=Mc(),o=JSON.stringify(KA(i,s.v7_relativeSplatPath));return w.useMemo(()=>YA(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function gae(e,t){return vae(e,t)}function vae(e,t,n,s){Xf()||xr(!1);let{navigator:i}=w.useContext(Oc),{matches:a}=w.useContext(Dc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Mc(),d;if(t){var f;let y=typeof t=="string"?Qf(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||xr(!1),d=y}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Wie(e,{pathname:g}),v=wae(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:xc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:xc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?w.createElement(bb.Provider,{value:{location:dg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ac.Pop}},v):v}function xae(){let e=_ae(),t=dae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const yae=w.createElement(xae,null);class jae extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Dc.Provider,{value:this.props.routeContext},w.createElement(s8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bae(e){let{routeContext:t,match:n,children:s}=e,i=w.useContext(QA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Dc.Provider,{value:t},s)}function wae(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||xr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,x=!1,v=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||yae,c&&(u<0&&m===0?(x=!0,y=null):u===m&&(x=!0,y=f.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,m+1)),j=()=>{let b;return g?b=v:x?b=y:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(bae,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(jae,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var o8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o8||{}),A0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(A0||{});function Nae(e){let t=w.useContext(QA);return t||xr(!1),t}function Sae(e){let t=w.useContext(fae);return t||xr(!1),t}function Cae(e){let t=w.useContext(Dc);return t||xr(!1),t}function l8(e){let t=Cae(),n=t.matches[t.matches.length-1];return n.route.id||xr(!1),n.route.id}function _ae(){var e;let t=w.useContext(s8),n=Sae(A0.UseRouteError),s=l8(A0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Pae(){let{router:e}=Nae(o8.UseNavigateStable),t=l8(A0.UseNavigateStable),n=w.useRef(!1);return i8(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,dg({fromRouteId:t},a)))},[e,t])}function Aae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function y2(e){let{to:t,replace:n,state:s,relative:i}=e;Xf()||xr(!1);let{future:a,static:o}=w.useContext(Oc),{matches:l}=w.useContext(Dc),{pathname:c}=Mc(),u=Jf(),d=YA(t,KA(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function sr(e){xr(!1)}function Eae(e){let{basename:t="/",children:n=null,location:s,navigationType:i=ac.Pop,navigator:a,static:o=!1,future:l}=e;Xf()&&xr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:dg({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Qf(s));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=s,v=w.useMemo(()=>{let y=GA(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:g,key:x},navigationType:i}},[c,d,f,m,g,x,i]);return v==null?null:w.createElement(Oc.Provider,{value:u},w.createElement(bb.Provider,{children:n,value:v}))}function Tae(e){let{children:t,location:n}=e;return gae(j2(t),n)}new Promise(()=>{});function j2(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let a=[...t,i];if(s.type===w.Fragment){n.push.apply(n,j2(s.props.children,a));return}s.type!==sr&&xr(!1),!s.props.index||!s.props.children||xr(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=j2(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b2(){return b2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},b2.apply(this,arguments)}function kae(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Oae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dae(e,t){return e.button===0&&(!t||t==="_self")&&!Oae(e)}function w2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function Mae(e,t){let n=w2(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const Iae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$ae="6";try{window.__reactRouterVersion=$ae}catch{}const Rae="startTransition",YM=kP[Rae];function Lae(e){let{basename:t,children:n,future:s,window:i}=e,a=w.useRef();a.current==null&&(a.current=Vie({window:i,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=w.useCallback(f=>{u&&YM?YM(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>Aae(s),[s]),w.createElement(Eae,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const Fae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=w.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=kae(t,Iae),{basename:g}=w.useContext(Oc),x,v=!1;if(typeof u=="string"&&Bae.test(u)&&(x=u,Fae))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=GA(C.pathname,g);C.origin===b.origin&&_!=null?u=_+C.search+C.hash:v=!0}catch{}let y=mae(u,{relative:i}),N=zae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function j(b){s&&s(b),b.defaultPrevented||N(b)}return w.createElement("a",b2({},m,{href:x||y,onClick:v||a?s:j,ref:n,target:c}))});var QM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(QM||(QM={}));var XM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(XM||(XM={}));function zae(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Jf(),u=Mc(),d=a8(e,{relative:o});return w.useCallback(f=>{if(Dae(f,n)){f.preventDefault();let m=s!==void 0?s:P0(u)===P0(d);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}function Vae(e){let t=w.useRef(w2(e)),n=w.useRef(!1),s=Mc(),i=w.useMemo(()=>Mae(s.search,n.current?null:t.current),[s.search]),a=Jf(),o=w.useCallback((l,c)=>{const u=w2(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const Uae=cv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=w.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?Kee:"button";return r.jsx(o,{className:et(Uae({variant:t,size:n,className:e})),ref:a,...i})});V.displayName="Button";const c8=w.createContext(void 0);function qae({children:e}){const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{localStorage.setItem("theme",t);const i=document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[t]);const s=()=>{n(i=>i==="light"?"dark":"light")};return r.jsx(c8.Provider,{value:{theme:t,setTheme:n,toggleTheme:s},children:e})}function u8(){const e=w.useContext(c8);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function JM(){const{theme:e,toggleTheme:t}=u8();return r.jsxs(V,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?r.jsx(ene,{className:"h-4 w-4"}):r.jsx(sne,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var Wae=w.createContext(void 0);function wb(e){const t=w.useContext(Wae);return e||t||"ltr"}var tS=0;function Nb(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZM()),document.body.insertAdjacentElement("beforeend",e[1]??ZM()),tS++,()=>{tS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tS--}},[])}function ZM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nS="focusScope.autoFocusOnMount",rS="focusScope.autoFocusOnUnmount",eI={bubbles:!1,cancelable:!0},Hae="FocusScope",hv=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=w.useState(null),u=$s(i),d=$s(a),f=w.useRef(null),m=Xt(t,v=>c(v)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let v=function(b){if(g.paused||!l)return;const C=b.target;l.contains(C)?f.current=C:Ll(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const C=b.relatedTarget;C!==null&&(l.contains(C)||Ll(f.current,{select:!0}))},N=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Ll(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const j=new MutationObserver(N);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),j.disconnect()}}},[s,l,g.paused]),w.useEffect(()=>{if(l){nI.add(g);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(nS,eI);l.addEventListener(nS,u),l.dispatchEvent(N),N.defaultPrevented||(Gae(Jae(d8(l)),{select:!0}),document.activeElement===v&&Ll(l))}return()=>{l.removeEventListener(nS,u),setTimeout(()=>{const N=new CustomEvent(rS,eI);l.addEventListener(rS,d),l.dispatchEvent(N),N.defaultPrevented||Ll(v??document.body,{select:!0}),l.removeEventListener(rS,d),nI.remove(g)},0)}}},[l,u,d,g]);const x=w.useCallback(v=>{if(!n&&!s||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const j=v.currentTarget,[b,C]=Kae(j);b&&C?!v.shiftKey&&N===C?(v.preventDefault(),n&&Ll(b,{select:!0})):v.shiftKey&&N===b&&(v.preventDefault(),n&&Ll(C,{select:!0})):N===j&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(it.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});hv.displayName=Hae;function Gae(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ll(s,{select:t}),document.activeElement!==n)return}function Kae(e){const t=d8(e),n=tI(t,e),s=tI(t.reverse(),e);return[n,s]}function d8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tI(e,t){for(const n of e)if(!Yae(n,{upTo:t}))return n}function Yae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qae(e){return e instanceof HTMLInputElement&&"select"in e}function Ll(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Qae(e)&&t&&e.select()}}var nI=Xae();function Xae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rI(e,t),e.unshift(t)},remove(t){var n;e=rI(e,t),(n=e[0])==null||n.resume()}}}function rI(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Jae(e){return e.filter(t=>t.tagName!=="A")}var sS="rovingFocusGroup.onEntryFocus",Zae={bubbles:!1,cancelable:!0},fv="RovingFocusGroup",[N2,h8,eoe]=cb(fv),[toe,Sb]=ni(fv,[eoe]),[noe,roe]=toe(fv),f8=w.forwardRef((e,t)=>r.jsx(N2.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(N2.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(soe,{...e,ref:t})})}));f8.displayName=fv;var soe=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=w.useRef(null),g=Xt(t,m),x=wb(a),[v,y]=vo({prop:o,defaultProp:l??null,onChange:c,caller:fv}),[N,j]=w.useState(!1),b=$s(u),C=h8(n),_=w.useRef(!1),[A,P]=w.useState(0);return w.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(sS,b),()=>E.removeEventListener(sS,b)},[b]),r.jsx(noe,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:w.useCallback(E=>y(E),[y]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(E=>E+1),[]),onFocusableItemRemove:w.useCallback(()=>P(E=>E-1),[]),children:r.jsx(it.div,{tabIndex:N||A===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{_.current=!0}),onFocus:Ke(e.onFocus,E=>{const D=!_.current;if(E.target===E.currentTarget&&D&&!N){const I=new CustomEvent(sS,Zae);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=C().filter(G=>G.focusable),O=k.find(G=>G.active),L=k.find(G=>G.id===v),ee=[O,L,...k].filter(Boolean).map(G=>G.ref.current);g8(ee,d)}}_.current=!1}),onBlur:Ke(e.onBlur,()=>j(!1))})})}),m8="RovingFocusGroupItem",p8=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=rs(),u=a||c,d=roe(m8,n),f=d.currentTabStopId===u,m=h8(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=d;return w.useEffect(()=>{if(s)return g(),()=>x()},[s,g,x]),r.jsx(N2.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(it.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ke(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:Ke(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ke(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=ooe(y,d.orientation,d.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(C=>C.focusable).map(C=>C.ref.current);if(N==="last")b.reverse();else if(N==="prev"||N==="next"){N==="prev"&&b.reverse();const C=b.indexOf(y.currentTarget);b=d.loop?loe(b,C+1):b.slice(C+1)}setTimeout(()=>g8(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});p8.displayName=m8;var ioe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aoe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ooe(e,t,n){const s=aoe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return ioe[s]}function g8(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function loe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var v8=f8,x8=p8,coe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zd=new WeakMap,Xx=new WeakMap,Jx={},iS=0,y8=function(e){return e&&(e.host||y8(e.parentNode))},uoe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=y8(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},doe=function(e,t,n,s){var i=uoe(t,Array.isArray(e)?e:[e]);Jx[n]||(Jx[n]=new WeakMap);var a=Jx[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),x=g!==null&&g!=="false",v=(zd.get(m)||0)+1,y=(a.get(m)||0)+1;zd.set(m,v),a.set(m,y),o.push(m),v===1&&x&&Xx.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return d(t),l.clear(),iS++,function(){o.forEach(function(f){var m=zd.get(f)-1,g=a.get(f)-1;zd.set(f,m),a.set(f,g),m||(Xx.has(f)||f.removeAttribute(s),Xx.delete(f)),g||f.removeAttribute(n)}),iS--,iS||(zd=new WeakMap,zd=new WeakMap,Xx=new WeakMap,Jx={})}},Cb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=coe(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),doe(s,i,n,"aria-hidden")):function(){return null}},no=function(){return no=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},no.apply(this,arguments)};function j8(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function hoe(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Wy="right-scroll-bar-position",Hy="width-before-scroll-bar",foe="with-scroll-bars-hidden",moe="--removed-body-scroll-bar-size";function aS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function poe(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var goe=typeof window<"u"?w.useLayoutEffect:w.useEffect,sI=new WeakMap;function voe(e,t){var n=poe(null,function(s){return e.forEach(function(i){return aS(i,s)})});return goe(function(){var s=sI.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||aS(l,null)}),a.forEach(function(l){i.has(l)||aS(l,o)})}sI.set(n,e)},[e]),n}function xoe(e){return e}function yoe(e,t){t===void 0&&(t=xoe);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function joe(e){e===void 0&&(e={});var t=yoe(null);return t.options=no({async:!0,ssr:!1},e),t}var b8=function(e){var t=e.sideCar,n=j8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,no({},n))};b8.isSideCarExport=!0;function boe(e,t){return e.useMedium(t),b8}var w8=joe(),oS=function(){},_b=w.forwardRef(function(e,t){var n=w.useRef(null),s=w.useState({onScrollCapture:oS,onWheelCapture:oS,onTouchMoveCapture:oS}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,b=e.gapMode,C=j8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,A=voe([n,t]),P=no(no({},C),i);return w.createElement(w.Fragment,null,d&&w.createElement(_,{sideCar:w8,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?w.cloneElement(w.Children.only(l),no(no({},P),{ref:A})):w.createElement(j,no({},P,{className:c,ref:A}),l))});_b.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_b.classNames={fullWidth:Hy,zeroRight:Wy};var woe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Noe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=woe();return t&&e.setAttribute("nonce",t),e}function Soe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Coe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _oe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Noe())&&(Soe(t,n),Coe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Poe=function(){var e=_oe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},N8=function(){var e=Poe(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},Aoe={left:0,top:0,right:0,gap:0},lS=function(e){return parseInt(e||"",10)||0},Eoe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[lS(n),lS(s),lS(i)]},Toe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Aoe;var t=Eoe(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},koe=N8(),Oh="data-scroll-locked",Ooe=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(foe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Oh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wy,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Hy,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Wy," .").concat(Wy,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Hy," .").concat(Hy,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Oh,`] {
    `).concat(moe,": ").concat(l,`px;
  }
`)},iI=function(){var e=parseInt(document.body.getAttribute(Oh)||"0",10);return isFinite(e)?e:0},Doe=function(){w.useEffect(function(){return document.body.setAttribute(Oh,(iI()+1).toString()),function(){var e=iI()-1;e<=0?document.body.removeAttribute(Oh):document.body.setAttribute(Oh,e.toString())}},[])},Moe=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;Doe();var a=w.useMemo(function(){return Toe(i)},[i]);return w.createElement(koe,{styles:Ooe(a,!t,i,n?"":"!important")})},S2=!1;if(typeof window<"u")try{var Zx=Object.defineProperty({},"passive",{get:function(){return S2=!0,!0}});window.addEventListener("test",Zx,Zx),window.removeEventListener("test",Zx,Zx)}catch{S2=!1}var Vd=S2?{passive:!1}:!1,Ioe=function(e){return e.tagName==="TEXTAREA"},S8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ioe(e)&&n[t]==="visible")},$oe=function(e){return S8(e,"overflowY")},Roe=function(e){return S8(e,"overflowX")},aI=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=C8(e,s);if(i){var a=_8(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Loe=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Foe=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},C8=function(e,t){return e==="v"?$oe(t):Roe(t)},_8=function(e,t){return e==="v"?Loe(t):Foe(t)},Boe=function(e,t){return e==="h"&&t==="rtl"?-1:1},zoe=function(e,t,n,s,i){var a=Boe(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var g=_8(e,l),x=g[0],v=g[1],y=g[2],N=v-y-a*x;(x||N)&&C8(e,l)&&(f+=N,m+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},ey=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oI=function(e){return[e.deltaX,e.deltaY]},lI=function(e){return e&&"current"in e?e.current:e},Voe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Uoe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qoe=0,Ud=[];function Woe(e){var t=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(qoe++)[0],a=w.useState(N8)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=hoe([e.lockRef.current],(e.shards||[]).map(lI),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=ey(v),j=n.current,b="deltaX"in v?v.deltaX:j[0]-N[0],C="deltaY"in v?v.deltaY:j[1]-N[1],_,A=v.target,P=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in v&&P==="h"&&A.type==="range")return!1;var E=aI(P,A);if(!E)return!0;if(E?_=P:(_=P==="v"?"h":"v",E=aI(P,A)),!E)return!1;if(!s.current&&"changedTouches"in v&&(b||C)&&(s.current=_),!_)return!0;var D=s.current||_;return zoe(D,y,v,D==="h"?b:C,!0)},[]),c=w.useCallback(function(v){var y=v;if(!(!Ud.length||Ud[Ud.length-1]!==a)){var N="deltaY"in y?oI(y):ey(y),j=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&Voe(_.delta,N)})[0];if(j&&j.should){y.cancelable&&y.preventDefault();return}if(!j){var b=(o.current.shards||[]).map(lI).filter(Boolean).filter(function(_){return _.contains(y.target)}),C=b.length>0?l(y,b[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=w.useCallback(function(v,y,N,j){var b={name:v,delta:y,target:N,should:j,shadowParent:Hoe(N)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(C){return C!==b})},1)},[]),d=w.useCallback(function(v){n.current=ey(v),s.current=void 0},[]),f=w.useCallback(function(v){u(v.type,oI(v),v.target,l(v,e.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,ey(v),v.target,l(v,e.lockRef.current))},[]);w.useEffect(function(){return Ud.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Vd),document.addEventListener("touchmove",c,Vd),document.addEventListener("touchstart",d,Vd),function(){Ud=Ud.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Vd),document.removeEventListener("touchmove",c,Vd),document.removeEventListener("touchstart",d,Vd)}},[]);var g=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(a,{styles:Uoe(i)}):null,g?w.createElement(Moe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Hoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Goe=boe(w8,Woe);var mv=w.forwardRef(function(e,t){return w.createElement(_b,no({},e,{ref:t,sideCar:Goe}))});mv.classNames=_b.classNames;var C2=["Enter"," "],Koe=["ArrowDown","PageUp","Home"],P8=["ArrowUp","PageDown","End"],Yoe=[...Koe,...P8],Qoe={ltr:[...C2,"ArrowRight"],rtl:[...C2,"ArrowLeft"]},Xoe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pv="Menu",[hg,Joe,Zoe]=cb(pv),[dd,A8]=ni(pv,[Zoe,kc,Sb]),Pb=kc(),E8=Sb(),[ele,hd]=dd(pv),[tle,gv]=dd(pv),T8=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,l=Pb(t),[c,u]=w.useState(null),d=w.useRef(!1),f=$s(a),m=wb(i);return w.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(zA,{...l,children:r.jsx(ele,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(tle,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};T8.displayName=pv;var nle="MenuAnchor",XA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Pb(n);return r.jsx(dv,{...i,...s,ref:t})});XA.displayName=nle;var JA="MenuPortal",[rle,k8]=dd(JA,{forceMount:void 0}),O8=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=hd(JA,t);return r.jsx(rle,{scope:t,forceMount:n,children:r.jsx(ri,{present:n||a.open,children:r.jsx(Uf,{asChild:!0,container:i,children:s})})})};O8.displayName=JA;var Qi="MenuContent",[sle,ZA]=dd(Qi),D8=w.forwardRef((e,t)=>{const n=k8(Qi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=hd(Qi,e.__scopeMenu),o=gv(Qi,e.__scopeMenu);return r.jsx(hg.Provider,{scope:e.__scopeMenu,children:r.jsx(ri,{present:s||a.open,children:r.jsx(hg.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(ile,{...i,ref:t}):r.jsx(ale,{...i,ref:t})})})})}),ile=w.forwardRef((e,t)=>{const n=hd(Qi,e.__scopeMenu),s=w.useRef(null),i=Xt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return Cb(a)},[]),r.jsx(eE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ale=w.forwardRef((e,t)=>{const n=hd(Qi,e.__scopeMenu);return r.jsx(eE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ole=Nc("MenuContent.ScrollLock"),eE=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,y=hd(Qi,n),N=gv(Qi,n),j=Pb(n),b=E8(n),C=Joe(n),[_,A]=w.useState(null),P=w.useRef(null),E=Xt(t,P,y.onContentChange),D=w.useRef(0),I=w.useRef(""),k=w.useRef(0),O=w.useRef(null),L=w.useRef("right"),B=w.useRef(0),ee=x?mv:w.Fragment,G=x?{as:ole,allowPinchZoom:!0}:void 0,J=$=>{var we,z;const oe=I.current+$,ge=C().filter(Q=>!Q.disabled),re=document.activeElement,Z=(we=ge.find(Q=>Q.ref.current===re))==null?void 0:we.textValue,ne=ge.map(Q=>Q.textValue),ve=yle(ne,oe,Z),je=(z=ge.find(Q=>Q.textValue===ve))==null?void 0:z.ref.current;(function Q(te){I.current=te,window.clearTimeout(D.current),te!==""&&(D.current=window.setTimeout(()=>Q(""),1e3))})(oe),je&&setTimeout(()=>je.focus())};w.useEffect(()=>()=>window.clearTimeout(D.current),[]),Nb();const q=w.useCallback($=>{var ge,re;return L.current===((ge=O.current)==null?void 0:ge.side)&&ble($,(re=O.current)==null?void 0:re.area)},[]);return r.jsx(sle,{scope:n,searchRef:I,onItemEnter:w.useCallback($=>{q($)&&$.preventDefault()},[q]),onItemLeave:w.useCallback($=>{var oe;q($)||((oe=P.current)==null||oe.focus(),A(null))},[q]),onTriggerLeave:w.useCallback($=>{q($)&&$.preventDefault()},[q]),pointerGraceTimerRef:k,onPointerGraceIntentChange:w.useCallback($=>{O.current=$},[]),children:r.jsx(ee,{...G,children:r.jsx(hv,{asChild:!0,trapped:i,onMountAutoFocus:Ke(a,$=>{var oe;$.preventDefault(),(oe=P.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(cd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:r.jsx(v8,{asChild:!0,...b,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:Ke(c,$=>{N.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(vb,{role:"menu","aria-orientation":"vertical","data-state":Y8(y.open),"data-radix-menu-content":"",dir:N.dir,...j,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:Ke(v.onKeyDown,$=>{const ge=$.target.closest("[data-radix-menu-content]")===$.currentTarget,re=$.ctrlKey||$.altKey||$.metaKey,Z=$.key.length===1;ge&&($.key==="Tab"&&$.preventDefault(),!re&&Z&&J($.key));const ne=P.current;if($.target!==ne||!Yoe.includes($.key))return;$.preventDefault();const je=C().filter(we=>!we.disabled).map(we=>we.ref.current);P8.includes($.key)&&je.reverse(),vle(je)}),onBlur:Ke(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(D.current),I.current="")}),onPointerMove:Ke(e.onPointerMove,fg($=>{const oe=$.target,ge=B.current!==$.clientX;if($.currentTarget.contains(oe)&&ge){const re=$.clientX>B.current?"right":"left";L.current=re,B.current=$.clientX}}))})})})})})})});D8.displayName=Qi;var lle="MenuGroup",tE=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{role:"group",...s,ref:t})});tE.displayName=lle;var cle="MenuLabel",M8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});M8.displayName=cle;var E0="MenuItem",cI="menu.itemSelect",Ab=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=w.useRef(null),o=gv(E0,e.__scopeMenu),l=ZA(E0,e.__scopeMenu),c=Xt(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(cI,{bubbles:!0,cancelable:!0});f.addEventListener(cI,g=>s==null?void 0:s(g),{once:!0}),wA(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(I8,{...i,ref:c,disabled:n,onClick:Ke(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:Ke(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Ke(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||C2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ab.displayName=E0;var I8=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=ZA(E0,n),l=E8(n),c=w.useRef(null),u=Xt(t,c),[d,f]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[a.children]),r.jsx(hg.ItemSlot,{scope:n,disabled:s,textValue:i??m,children:r.jsx(x8,{asChild:!0,...l,focusable:!s,children:r.jsx(it.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:Ke(e.onPointerMove,fg(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,fg(x=>o.onItemLeave(x))),onFocus:Ke(e.onFocus,()=>f(!0)),onBlur:Ke(e.onBlur,()=>f(!1))})})})}),ule="MenuCheckboxItem",$8=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(z8,{scope:e.__scopeMenu,checked:n,children:r.jsx(Ab,{role:"menuitemcheckbox","aria-checked":T0(n)?"mixed":n,...i,ref:t,"data-state":rE(n),onSelect:Ke(i.onSelect,()=>s==null?void 0:s(T0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$8.displayName=ule;var R8="MenuRadioGroup",[dle,hle]=dd(R8,{value:void 0,onValueChange:()=>{}}),L8=w.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=$s(s);return r.jsx(dle,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(tE,{...i,ref:t})})});L8.displayName=R8;var F8="MenuRadioItem",B8=w.forwardRef((e,t)=>{const{value:n,...s}=e,i=hle(F8,e.__scopeMenu),a=n===i.value;return r.jsx(z8,{scope:e.__scopeMenu,checked:a,children:r.jsx(Ab,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":rE(a),onSelect:Ke(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});B8.displayName=F8;var nE="MenuItemIndicator",[z8,fle]=dd(nE,{checked:!1}),V8=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=fle(nE,n);return r.jsx(ri,{present:s||T0(a.checked)||a.checked===!0,children:r.jsx(it.span,{...i,ref:t,"data-state":rE(a.checked)})})});V8.displayName=nE;var mle="MenuSeparator",U8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});U8.displayName=mle;var ple="MenuArrow",q8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Pb(n);return r.jsx(xb,{...i,...s,ref:t})});q8.displayName=ple;var gle="MenuSub",[D6e,W8]=dd(gle),vp="MenuSubTrigger",H8=w.forwardRef((e,t)=>{const n=hd(vp,e.__scopeMenu),s=gv(vp,e.__scopeMenu),i=W8(vp,e.__scopeMenu),a=ZA(vp,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(XA,{asChild:!0,...u,children:r.jsx(I8,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Y8(n.open),...e,ref:il(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,fg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ke(e.onPointerLeave,fg(f=>{var g,x;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",N=y?-5:5,j=m[y?"left":"right"],b=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:j,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:j,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,f=>{var g;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||Qoe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});H8.displayName=vp;var G8="MenuSubContent",K8=w.forwardRef((e,t)=>{const n=k8(Qi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=hd(Qi,e.__scopeMenu),o=gv(Qi,e.__scopeMenu),l=W8(G8,e.__scopeMenu),c=w.useRef(null),u=Xt(t,c);return r.jsx(hg.Provider,{scope:e.__scopeMenu,children:r.jsx(ri,{present:s||a.open,children:r.jsx(hg.Slot,{scope:e.__scopeMenu,children:r.jsx(eE,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ke(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=Xoe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});K8.displayName=G8;function Y8(e){return e?"open":"closed"}function T0(e){return e==="indeterminate"}function rE(e){return T0(e)?"indeterminate":e?"checked":"unchecked"}function vle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function xle(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function yle(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=xle(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function jle(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function ble(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return jle(n,t)}function fg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wle=T8,Nle=XA,Sle=O8,Cle=D8,_le=tE,Ple=M8,Ale=Ab,Ele=$8,Tle=L8,kle=B8,Ole=V8,Dle=U8,Mle=q8,Ile=H8,$le=K8,Eb="DropdownMenu",[Rle,M6e]=ni(Eb,[A8]),Fs=A8(),[Lle,Q8]=Rle(Eb),X8=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Fs(t),u=w.useRef(null),[d,f]=vo({prop:i,defaultProp:a??!1,onChange:o,caller:Eb});return r.jsx(Lle,{scope:t,triggerId:rs(),triggerRef:u,contentId:rs(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:l,children:r.jsx(wle,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};X8.displayName=Eb;var J8="DropdownMenuTrigger",Z8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=Q8(J8,n),o=Fs(n);return r.jsx(Nle,{asChild:!0,...o,children:r.jsx(it.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:il(t,a.triggerRef),onPointerDown:Ke(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ke(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Z8.displayName=J8;var Fle="DropdownMenuPortal",eB=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Fs(t);return r.jsx(Sle,{...s,...n})};eB.displayName=Fle;var tB="DropdownMenuContent",nB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Q8(tB,n),a=Fs(n),o=w.useRef(!1);return r.jsx(Cle,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nB.displayName=tB;var Ble="DropdownMenuGroup",zle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(_le,{...i,...s,ref:t})});zle.displayName=Ble;var Vle="DropdownMenuLabel",rB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ple,{...i,...s,ref:t})});rB.displayName=Vle;var Ule="DropdownMenuItem",sB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ale,{...i,...s,ref:t})});sB.displayName=Ule;var qle="DropdownMenuCheckboxItem",iB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ele,{...i,...s,ref:t})});iB.displayName=qle;var Wle="DropdownMenuRadioGroup",Hle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Tle,{...i,...s,ref:t})});Hle.displayName=Wle;var Gle="DropdownMenuRadioItem",aB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(kle,{...i,...s,ref:t})});aB.displayName=Gle;var Kle="DropdownMenuItemIndicator",oB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ole,{...i,...s,ref:t})});oB.displayName=Kle;var Yle="DropdownMenuSeparator",lB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Dle,{...i,...s,ref:t})});lB.displayName=Yle;var Qle="DropdownMenuArrow",Xle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Mle,{...i,...s,ref:t})});Xle.displayName=Qle;var Jle="DropdownMenuSubTrigger",cB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ile,{...i,...s,ref:t})});cB.displayName=Jle;var Zle="DropdownMenuSubContent",uB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx($le,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uB.displayName=Zle;var ece=X8,tce=Z8,nce=eB,dB=nB,hB=rB,fB=sB,mB=iB,pB=aB,gB=oB,vB=lB,xB=cB,yB=uB;const rce=ece,sce=tce,ice=w.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(xB,{ref:i,className:et("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Wte,{className:"ml-auto h-4 w-4"})]}));ice.displayName=xB.displayName;const ace=w.forwardRef(({className:e,...t},n)=>r.jsx(yB,{ref:n,className:et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ace.displayName=yB.displayName;const jB=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(nce,{children:r.jsx(dB,{ref:s,sideOffset:t,className:et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));jB.displayName=dB.displayName;const Gy=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(fB,{ref:s,className:et("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Gy.displayName=fB.displayName;const oce=w.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(mB,{ref:i,className:et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(gB,{children:r.jsx(_A,{className:"h-4 w-4"})})}),t]}));oce.displayName=mB.displayName;const lce=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(pB,{ref:s,className:et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(gB,{children:r.jsx(Gte,{className:"h-2 w-2 fill-current"})})}),t]}));lce.displayName=pB.displayName;const bB=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(hB,{ref:s,className:et("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));bB.displayName=hB.displayName;const _2=w.forwardRef(({className:e,...t},n)=>r.jsx(vB,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",e),...t}));_2.displayName=vB.displayName;var wB={exports:{}},NB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=w;function cce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uce=typeof Object.is=="function"?Object.is:cce,dce=cf.useState,hce=cf.useEffect,fce=cf.useLayoutEffect,mce=cf.useDebugValue;function pce(e,t){var n=t(),s=dce({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return fce(function(){i.value=n,i.getSnapshot=t,cS(i)&&a({inst:i})},[e,n,t]),hce(function(){return cS(i)&&a({inst:i}),e(function(){cS(i)&&a({inst:i})})},[e]),mce(n),n}function cS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!uce(e,n)}catch{return!0}}function gce(e,t){return t()}var vce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gce:pce;NB.useSyncExternalStore=cf.useSyncExternalStore!==void 0?cf.useSyncExternalStore:vce;wB.exports=NB;var xce=wB.exports;function yce(){return xce.useSyncExternalStore(jce,()=>!0,()=>!1)}function jce(){return()=>{}}var sE="Avatar",[bce,I6e]=ni(sE),[wce,SB]=bce(sE),CB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=w.useState("idle");return r.jsx(wce,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(it.span,{...s,ref:t})})});CB.displayName=sE;var _B="AvatarImage",PB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=SB(_B,n),l=Nce(s,a),c=$s(u=>{i(u),o.onImageLoadingStatusChange(u)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(it.img,{...a,ref:t,src:s}):null});PB.displayName=_B;var AB="AvatarFallback",EB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=SB(AB,n),[o,l]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(it.span,{...i,ref:t}):null});EB.displayName=AB;function uI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Nce(e,{referrerPolicy:t,crossOrigin:n}){const s=yce(),i=w.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>uI(a,e));return Nr(()=>{l(uI(a,e))},[a,e]),Nr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var TB=CB,kB=PB,OB=EB;const Gr=w.forwardRef(({className:e,...t},n)=>r.jsx(TB,{ref:n,className:et("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Gr.displayName=TB.displayName;const ul=w.forwardRef(({className:e,...t},n)=>r.jsx(kB,{ref:n,className:et("aspect-square h-full w-full",e),...t}));ul.displayName=kB.displayName;const Kr=w.forwardRef(({className:e,...t},n)=>r.jsx(OB,{ref:n,className:et("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kr.displayName=OB.displayName;const Sce="modulepreload",Cce=function(e){return"/"+e},dI={},vv=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=Cce(c),c in dI)return;dI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Sce,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},_ce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vv(async()=>{const{default:s}=await Promise.resolve().then(()=>Zf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class iE extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class Pce extends iE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hI extends iE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fI extends iE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var P2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(P2||(P2={}));var Ace=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Ece{constructor(t,{headers:n={},customFetch:s,region:i=P2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=_ce(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return Ace(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new Pce(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new hI(f);if(!f.ok)throw new fI(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield f.json():g==="application/octet-stream"?x=yield f.blob():g==="text/event-stream"?x=f:g==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof fI||i instanceof hI?i.context:void 0}}})}}var Qs={},aE={},Tb={},xv={},kb={},Ob={},Tce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},uf=Tce();const kce=uf.fetch,DB=uf.fetch.bind(uf),MB=uf.Headers,Oce=uf.Request,Dce=uf.Response,Zf=Object.freeze(Object.defineProperty({__proto__:null,Headers:MB,Request:Oce,Response:Dce,default:DB,fetch:kce},Symbol.toStringTag,{value:"Module"})),Mce=pJ(Zf);var Db={};Object.defineProperty(Db,"__esModule",{value:!0});let Ice=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Db.default=Ice;var IB=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ob,"__esModule",{value:!0});const $ce=IB(Mce),Rce=IB(Db);let Lce=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=$ce.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,f=null,m=null,g=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),N=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,g=200,x="OK")}catch{a.status===404&&y===""?(g=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&this.shouldThrowOnError)throw new Rce.default(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Ob.default=Lce;var Fce=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kb,"__esModule",{value:!0});const Bce=Fce(Ob);let zce=class extends Bce.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};kb.default=zce;var Vce=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xv,"__esModule",{value:!0});const Uce=Vce(kb);let qce=class extends Uce.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};xv.default=qce;var Wce=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tb,"__esModule",{value:!0});const Qm=Wce(xv);let Hce=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Qm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qm.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Tb.default=Hce;var $B=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aE,"__esModule",{value:!0});const Gce=$B(Tb),Kce=$B(xv);let Yce=class RB{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Gce.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new RB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;s||i?(l=s?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Kce.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};aE.default=Yce;var em=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.PostgrestError=Qs.PostgrestBuilder=Qs.PostgrestTransformBuilder=Qs.PostgrestFilterBuilder=Qs.PostgrestQueryBuilder=Qs.PostgrestClient=void 0;const LB=em(aE);Qs.PostgrestClient=LB.default;const FB=em(Tb);Qs.PostgrestQueryBuilder=FB.default;const BB=em(xv);Qs.PostgrestFilterBuilder=BB.default;const zB=em(kb);Qs.PostgrestTransformBuilder=zB.default;const VB=em(Ob);Qs.PostgrestBuilder=VB.default;const UB=em(Db);Qs.PostgrestError=UB.default;var Qce=Qs.default={PostgrestClient:LB.default,PostgrestQueryBuilder:FB.default,PostgrestFilterBuilder:BB.default,PostgrestTransformBuilder:zB.default,PostgrestBuilder:VB.default,PostgrestError:UB.default};const{PostgrestClient:Xce,PostgrestQueryBuilder:z6e,PostgrestFilterBuilder:V6e,PostgrestTransformBuilder:U6e,PostgrestBuilder:q6e,PostgrestError:W6e}=Qce;class Jce{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Zce="2.15.5",eue=`realtime-js/${Zce}`,tue="1.0.0",A2=1e4,nue=1e3,rue=100;var Op;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Op||(Op={}));var Ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ar||(Ar={}));var ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ja||(ja={}));var E2;(function(e){e.websocket="websocket"})(E2||(E2={}));var hu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hu||(hu={}));class sue{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class qB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var On;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(On||(On={}));const mI=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=iue(o,e,t,i),a),{})},iue=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?WB(a,o):T2(o)},WB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return cue(t,n)}switch(e){case On.bool:return aue(t);case On.float4:case On.float8:case On.int2:case On.int4:case On.int8:case On.numeric:case On.oid:return oue(t);case On.json:case On.jsonb:return lue(t);case On.timestamp:return uue(t);case On.abstime:case On.date:case On.daterange:case On.int4range:case On.int8range:case On.money:case On.reltime:case On.text:case On.time:case On.timestamptz:case On.timetz:case On.tsrange:case On.tstzrange:return T2(t);default:return T2(t)}},T2=e=>e,aue=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oue=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lue=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cue=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>WB(t,l))}return e},uue=e=>typeof e=="string"?e.replace(" ","T"):e,HB=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class uS{constructor(t,n,s={},i=A2){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pI||(pI={}));class Dp{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Dp.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Dp.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gI||(gI={}));var Mp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mp||(Mp={}));var Fo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fo||(Fo={}));class oE{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uS(this,ja.join,this.params,this.timeout),this.rejoinTimer=new qB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ja.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Dp(this),this.broadcastEndpointURL=HB(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Mp.PRESENCE]&&this.bindings[Mp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Fo.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Fo.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(Fo.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,N=[];for(let j=0;j<y;j++){const b=v[j],{filter:{event:C,schema:_,table:A,filter:P}}=b,E=g&&g[j];if(E&&E.event===C&&E.schema===_&&E.table===A&&E.filter===P)N.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Ar.errored,t==null||t(Fo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Fo.SUBSCRIBED);return}}).receive("error",g=>{this.state=Ar.errored,t==null||t(Fo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Ar.joined&&t===Mp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ar.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ja.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new uS(this,ja.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uS(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rue){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ja;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var x,v,y,N,j,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const C=g.id,_=(x=g.filter)===null||x===void 0?void 0:x.event;return C&&((v=n.ids)===null||v===void 0?void 0:v.includes(C))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const C=(j=(N=g==null?void 0:g.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return C==="*"||C===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:y,commit_timestamp:N,type:j,errors:b}=x;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:N,eventType:j,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(m,s)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&oE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ja.close,{},t)}_onError(t){this._on(ja.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mI(t.columns,t.old_record)),n}}const dS=()=>{},ty={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},due=[1e3,2e3,5e3,1e4],hue=1e4,fue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mue{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=A2,this.transport=null,this.heartbeatIntervalMs=ty.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dS,this.ref=0,this.reconnectTimer=null,this.logger=dS,this.conn=null,this.sendBuffer=[],this.serializer=new sue,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>vv(async()=>{const{default:l}=await Promise.resolve().then(()=>Zf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${E2.websocket}`,this.httpEndpoint=HB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jce.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tue}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Op.connecting:return hu.Connecting;case Op.open:return hu.Open;case Op.closing:return hu.Closing;default:return hu.Closed}}isConnected(){return this.connectionState()===hu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new oE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nue,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ty.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${s} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ja.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([fue],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:eue};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ja.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new qB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ty.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:A2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ty.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:dS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>due[f-1]||hue,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class lE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pue extends lE{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class k2 extends lE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var gue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const GB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vv(async()=>{const{default:s}=await Promise.resolve().then(()=>Zf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},vue=()=>gue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vv(()=>Promise.resolve().then(()=>Zf),void 0)).Response:Response}),O2=e=>{if(Array.isArray(e))return e.map(n=>O2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=O2(s)}),t},xue=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var fd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const hS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yue=(e,t,n)=>fd(void 0,void 0,void 0,function*(){const s=yield vue();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new pue(hS(i),a,o))}).catch(i=>{t(new k2(hS(i),i))}):t(new k2(hS(e),e))}),jue=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?i:(xue(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function yv(e,t,n,s,i,a){return fd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,jue(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>yue(c,l,s))})})}function k0(e,t,n,s){return fd(this,void 0,void 0,function*(){return yv(e,"GET",t,n,s)})}function Xa(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return yv(e,"POST",t,s,i,n)})}function D2(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return yv(e,"PUT",t,s,i,n)})}function bue(e,t,n,s){return fd(this,void 0,void 0,function*(){return yv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function KB(e,t,n,s,i){return fd(this,void 0,void 0,function*(){return yv(e,"DELETE",t,s,i,n)})}var _s=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const wue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nue{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=GB(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return _s(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},vI),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?D2:Xa)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}})}upload(t,n,s){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return _s(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:vI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield D2(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Er(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return _s(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Xa(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new lE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}update(t,n,s){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return _s(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}copy(t,n,s){return _s(this,void 0,void 0,function*(){try{return{data:{path:(yield Xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return _s(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Xa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return _s(this,void 0,void 0,function*(){try{const i=yield Xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}download(t,n){return _s(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield k0(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Er(l))return{data:null,error:l};throw l}})}info(t){return _s(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield k0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:O2(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}exists(t){return _s(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield bue(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s)&&s instanceof k2){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return _s(this,void 0,void 0,function*(){try{return{data:yield KB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}list(t,n,s){return _s(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wue),n),{prefix:t||""});return{data:yield Xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}listV2(t,n){return _s(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Xa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Sue="2.12.1",Cue={"X-Client-Info":`storage-js/${Sue}`};var qd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class _ue{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Cue),n),this.fetch=GB(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qd(this,void 0,void 0,function*(){try{return{data:yield k0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}})}getBucket(t){return qd(this,void 0,void 0,function*(){try{return{data:yield k0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return qd(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return qd(this,void 0,void 0,function*(){try{return{data:yield D2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}emptyBucket(t){return qd(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qd(this,void 0,void 0,function*(){try{return{data:yield KB(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}}class Pue extends _ue{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new Nue(this.url,this.headers,t,this.fetch)}}const Aue="2.57.4";let xp="";typeof Deno<"u"?xp="deno":typeof document<"u"?xp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xp="react-native":xp="node";const Eue={"X-Client-Info":`supabase-js-${xp}/${Aue}`},Tue={headers:Eue},kue={schema:"public"},Oue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Due={};var Mue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Iue=e=>{let t;return e?t=e:typeof fetch>"u"?t=DB:t=fetch,(...n)=>t(...n)},$ue=()=>typeof Headers>"u"?MB:Headers,Rue=(e,t,n)=>{const s=Iue(n),i=$ue();return(a,o)=>Mue(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var Lue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function Fue(e){return e.endsWith("/")?e:e+"/"}function Bue(e,t){var n,s;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Lue(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function zue(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fue(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const YB="2.71.1",th=30*1e3,M2=3,fS=M2*th,Vue="http://localhost:9999",Uue="supabase.auth.token",que={"X-Client-Info":`gotrue-js/${YB}`},I2="X-Supabase-Api-Version",QB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hue=10*60*1e3;class cE extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gue extends cE{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Kue(e){return Rt(e)&&e.name==="AuthApiError"}class XB extends cE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ic extends cE{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Fl extends Ic{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yue(e){return Rt(e)&&e.name==="AuthSessionMissingError"}class ny extends Ic{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ry extends Ic{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sy extends Ic{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Que(e){return Rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class xI extends Ic{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $2 extends Ic{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function mS(e){return Rt(e)&&e.name==="AuthRetryableFetchError"}class yI extends Ic{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class R2 extends Ic{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const O0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jI=` 	
\r=`.split(""),Xue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jI.length;t+=1)e[jI[t].charCodeAt(0)]=-2;for(let t=0;t<O0.length;t+=1)e[O0[t].charCodeAt(0)]=t;return e})();function bI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(O0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(O0[s]),t.queuedBits-=6}}function JB(e,t,n){const s=Xue[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wI(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{ede(o,s,n)};for(let o=0;o<e.length;o+=1)JB(e.charCodeAt(o),i,a);return t.join("")}function Jue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Zue(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Jue(s,t)}}function ede(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function tde(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)JB(e.charCodeAt(i),n,s);return new Uint8Array(t)}function nde(e){const t=[];return Zue(e,n=>t.push(n)),new Uint8Array(t)}function rde(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>bI(i,n,s)),bI(null,n,s),t.join("")}function sde(e){return Math.round(Date.now()/1e3)+e}function ide(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ma=()=>typeof window<"u"&&typeof document<"u",eu={tested:!1,writable:!1},ZB=()=>{if(!ma())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eu.tested)return eu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eu.tested=!0,eu.writable=!0}catch{eu.tested=!0,eu.writable=!1}return eu.writable};function ade(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const ez=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vv(async()=>{const{default:s}=await Promise.resolve().then(()=>Zf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},ode=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nh=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},tu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Il=async(e,t)=>{await e.removeItem(t)};class Mb{constructor(){this.promise=new Mb.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mb.promiseConstructor=Promise;function pS(e){const t=e.split(".");if(t.length!==3)throw new R2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Wue.test(t[s]))throw new R2("JWT not in base64url format");return{header:JSON.parse(wI(t[0])),payload:JSON.parse(wI(t[1])),signature:tde(t[2]),raw:{header:t[0],payload:t[1]}}}async function lde(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cde(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function ude(e){return("0"+e.toString(16)).substr(-2)}function dde(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,ude).join("")}async function hde(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function fde(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await hde(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wd(e,t,n=!1){const s=dde();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await nh(e,`${t}-code-verifier`,i);const a=await fde(s);return[a,s===a?"plain":"s256"]}const mde=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pde(e){const t=e.headers.get(I2);if(!t||!t.match(mde))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gde(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vde(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hd(e){if(!xde.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function NI(e){return JSON.parse(JSON.stringify(e))}var yde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const ou=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jde=[502,503,504];async function SI(e){var t;if(!ode(e))throw new $2(ou(e),0);if(jde.includes(e.status))throw new $2(ou(e),e.status);let n;try{n=await e.json()}catch(a){throw new XB(ou(a),a)}let s;const i=pde(e);if(i&&i.getTime()>=QB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new yI(ou(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Fl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new yI(ou(n),e.status,n.weak_password.reasons);throw new Gue(ou(n),e.status||500,s)}const bde=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Yt(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[I2]||(a[I2]=QB["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await wde(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function wde(e,t,n,s,i,a){const o=bde(t,s,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new $2(ou(c),0)}if(l.ok||await SI(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await SI(c)}}function Ro(e){var t;let n=null;_de(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sde(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function CI(e){const t=Ro(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Nde(e){return{data:e,error:null}}function Sde(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=yde(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Cde(e){return e}function _de(e){return e.access_token&&e.refresh_token&&e.expires_in}const vS=["global","local","others"];var Pde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class Ade{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=ez(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=vS[0]){if(vS.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vS.join(", ")}`);try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Hl})}catch(s){if(Rt(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=Pde(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Sde,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hl})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Cde});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hd(t);try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hl})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Hd(t);try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Hl})}catch(s){if(Rt(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Hd(t);try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Hl})}catch(s){if(Rt(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Hd(t.userId);try{const{data:n,error:s}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Hd(t.userId),Hd(t.id);try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}}function _I(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Ede(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gd={debug:!!(globalThis&&ZB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tz extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Tde extends tz{}async function kde(e,t,n){Gd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Gd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Gd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Gd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Gd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tde(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Ede();const Ode={url:Vue,storageKey:Uue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:que,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function PI(e,t,n){return await n()}const Kd={};class mg{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mg.nextInstanceID,mg.nextInstanceID+=1,this.instanceID>0&&ma()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ode),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ade({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ez(i.fetch),this.lock=i.lock||PI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ma()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=kde:this.lock=PI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_I(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_I(this.memoryStorage)),ma()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Kd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Kd[this.storageKey]=Object.assign(Object.assign({},Kd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Kd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Kd[this.storageKey]=Object.assign(Object.assign({},Kd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${YB}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ade(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ma()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Que(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Rt(n)?{error:n}:{error:new XB("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ro}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Rt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Wd(this.storage,this.storageKey)),a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:Ro})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ro})}else throw new ry("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CI})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CI})}else throw new ry("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ny}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,o,l,c,u,d,f,m,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:N,statement:j,options:b}=t;let C;if(ma())if(typeof N=="object")C=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))C=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const A=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),j?{statement:j}:null));let P;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")P=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)P=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const A=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:y,error:N}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:rde(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ro});if(N)throw N;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ny}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:N})}catch(y){if(Rt(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await tu(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ro});if(await Il(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ny}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Rt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ro}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ny}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wd(this.storage,this.storageKey));const{error:f}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ry("You must provide either an email or phone number.")}catch(l){if(Rt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ro});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Wd(this.storage,this.storageKey)),await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Nde})}catch(a){if(Rt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Fl;const{error:i}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ry("You must provide either an email or phone number and a type")}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await tu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<fS:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await tu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=gS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hl}):await this._useSession(async n=>{var s,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fl}:await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Hl})})}catch(n){if(Rt(n))return Yue(n)&&(await this._removeSession(),await Il(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Fl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Wd(this.storage,this.storageKey));const{data:u,error:d}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Hl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Rt(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fl;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=pS(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Fl;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ma())throw new sy("No browser detected.");if(t.error||t.error_description||t.error_code)throw new sy(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xI("No code detected.");const{data:j,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new sy("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=th&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const N={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(s){if(Rt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await tu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Kue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Il(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ide(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Wd(this.storage,this.storageKey,!0));try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Rt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Yt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ma()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Rt(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await Yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await cde(async i=>(i>0&&await lde(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ro})),(i,a)=>{const o=200*Math.pow(2,i);return a&&mS(a)&&Date.now()+o-s<th})}catch(s){if(this._debug(n,"error",s),Rt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),ma()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await tu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await tu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await nh(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:gS()}else if(i&&!i.user&&!i.user){const o=await tu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Il(this.storage,this.storageKey+"-user"),await nh(this.storage,this.storageKey,i)):i.user=gS()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fS;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${fS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),mS(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Fl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mb;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Fl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Rt(a)){const o={session:null,error:a};return mS(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await nh(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=NI(i);await nh(this.storage,this.storageKey,a)}else{const i=NI(n);await nh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Il(this.storage,this.storageKey),await Il(this.storage,this.storageKey+"-code-verifier"),await Il(this.storage,this.storageKey+"-user"),this.userStorage&&await Il(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ma()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),th);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/th);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${th}ms, refresh threshold is ${M2} ticks`),i<=M2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tz)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ma()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Wd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Hue>i)return s;const{data:a,error:o}=await Yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};s=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=pS(s);n!=null&&n.allowExpired||gde(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=vde(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,nde(`${l}.${c}`)))throw new R2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}}}mg.nextInstanceID=0;const Dde=mg;class Mde extends Dde{constructor(t){super(t)}}var Ide=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class $de{constructor(t,n,s){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const l=zue(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:kue,realtime:Due,auth:Object.assign(Object.assign({},Oue),{storageKey:c}),global:Tue},d=Bue(s??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Rue(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Xce(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Pue(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ece(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ide(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mde({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new mue(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rde=(e,t,n)=>new $de(e,t,n);function Lde(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Lde()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nz="https://fqmeqckchbppabetefuk.supabase.co",Fde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",qt=Rde(nz,Fde,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),rz=async()=>{const{data:{user:e},error:t}=await qt.auth.getUser();if(t)throw t;return e},Ib=async()=>{const e=await rz();if(!e)return null;const{data:t,error:n}=await qt.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},Bde=async(e,t,n,s,i="assistant")=>{const{data:a,error:o}=await qt.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:s,role:i}}});if(o)throw o;return a},zde=async()=>{const{error:e}=await qt.auth.signOut();if(e)throw e;try{localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-"+nz.split("//")[1].split(".")[0]+"-auth-token"),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(t){console.warn("Error clearing auth storage:",t)}},Vde=async e=>{const t=await rz();if(!t)throw new Error("No authenticated user");const{data:n,error:s}=await qt.from("user_profiles").select("*").eq("id",t.id).single();n||await sz(t);const i=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:a,error:o}=await qt.from("user_profiles").update(i).eq("id",t.id).select().single();if(o){const l=t.user_metadata||{},c=l.full_name||l.name||"",u=(n==null?void 0:n.username)||l.username||t.email.split("@")[0],d=(n==null?void 0:n.role)||l.role||"assistant",f={id:t.id,email:t.email,username:u,full_name:c,role:d,...i},{data:m,error:g}=await qt.from("user_profiles").upsert(f).select().single();if(g)throw new Error(`Profile update failed: ${g.message}`);return m}return a},sz=async e=>{const t=await Ib();if(t)return t;const n=e.user_metadata||{},s=n.full_name||n.name||"",i=n.username||e.email.split("@")[0],a=n.role||"assistant",{data:o,error:l}=await qt.from("user_profiles").insert({id:e.id,email:e.email,username:i,full_name:s,role:a}).select().single();if(l)throw l;return o},Ude=async e=>{const{data:t,error:n}=await qt.auth.resetPasswordForEmail(e,{redirectTo:"http://localhost:8000/dashboard/reset-password"});if(n)throw n;return t},Pa={all:["auth"],session:()=>[...Pa.all,"session"]},qde=async()=>{try{const{data:{session:e},error:t}=await qt.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await Ib()}catch{try{n=await sz(e.user)}catch(i){console.error("Failed to create user profile:",i);const a=e.user.user_metadata||{},o=a.full_name||a.name||"",l=a.username||e.user.email.split("@")[0];n={id:e.user.id,email:e.user.email,username:l,full_name:o,role:"assistant",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:a.avatar_url||a.picture||null}}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},Wde=()=>gl({queryKey:Pa.session(),queryFn:qde,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),Hde=()=>{const e=is();return xs({mutationFn:async({email:t,password:n})=>{const{data:s,error:i}=await qt.auth.signInWithPassword({email:t,password:n});if(i){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez réessayer plus tard"}[i.message]||i.message;throw new Error(o)}if(!s.user||!s.session)throw new Error("Échec de connexion - session invalide");return s.user},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:Pa.session()})},onError:()=>{e.setQueryData(Pa.session(),null)}})},Gde=()=>{const e=is();return xs({mutationFn:async()=>{await zde()},onSuccess:()=>{e.setQueryData(Pa.session(),null),e.removeQueries({queryKey:Pa.session()})}})},Kde=()=>{const e=is();return xs({mutationFn:async()=>{const t=await Ib();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:Pa.session()})}})},Yde=()=>xs({mutationFn:async()=>{const{data:e,error:t}=await qt.auth.signInWithOAuth({provider:"google",options:{redirectTo:"http://localhost:8000/dashboard/dashboard"}});if(t)throw t;return e}}),Qde=()=>xs({mutationFn:async e=>{await Ude(e)}}),iz=w.createContext(void 0);function Xde({children:e}){const{data:t,isLoading:n,error:s}=Wde(),i=Hde(),a=Gde(),o=Kde(),l=is(),[c,u]=w.useState(!1),d=w.useRef(!1);w.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:N}}=qt.auth.onAuthStateChange((b,C)=>{b==="SIGNED_OUT"?(l.setQueryData(Pa.session(),null),l.removeQueries({queryKey:Pa.session()})):b==="TOKEN_REFRESHED"&&C&&l.invalidateQueries({queryKey:Pa.session()}),c||u(!0)}),j=setTimeout(()=>{c||u(!0)},2e3);return()=>{N.unsubscribe(),clearTimeout(j),d.current=!1}},[l,c]);const f=async(N,j)=>{try{return await i.mutateAsync({email:N,password:j}),!0}catch(b){return console.error("Login error:",b),!1}},m=async()=>{try{await a.mutateAsync()}catch(N){console.error("Logout error:",N),l.setQueryData(Pa.session(),null)}},g=async()=>{await o.mutateAsync()},x=!c||n&&!s&&t===void 0,v=i.isPending||a.isPending,y={user:t||null,isAuthenticated:!!t&&c,isLoading:x||v,login:f,logout:m,refreshProfile:g};return r.jsx(iz.Provider,{value:y,children:e})}function $c(){const e=w.useContext(iz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function AI(){const{user:e,logout:t}=$c(),{toast:n}=$t(),s=Jf(),[i,a]=w.useState(!1),o=async()=>{a(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),a(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return r.jsx(wi,{className:"h-3 w-3"});case"assistant":return r.jsx(Rr,{className:"h-3 w-3"});default:return r.jsx(Rr,{className:"h-3 w-3"})}};return r.jsxs(rce,{children:[r.jsx(sce,{asChild:!0,children:r.jsx(V,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:r.jsx(Gr,{className:"h-8 w-8",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),r.jsxs(jB,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(bB,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),r.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),r.jsx(_2,{}),r.jsxs(Gy,{className:"cursor-pointer",onClick:()=>s("/profile"),children:[r.jsx(Rr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profil"})]}),r.jsxs(Gy,{className:"cursor-pointer",onClick:()=>s("/auth-settings"),children:[r.jsx(tne,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Paramètres de connexion"})]}),r.jsx(_2,{}),r.jsxs(Gy,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:i,children:[r.jsx(t6,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:i?"Déconnexion...":"Se déconnecter"})]})]})]})}const az=[{icon:Jte,label:"Dashboard",path:"/dashboard"},{icon:Ia,label:"Clients",path:"/clients"},{icon:Ut,label:"Animaux",path:"/pets"},{icon:At,label:"RDV",path:"/appointments"},{icon:ur,label:"Consultations",path:"/consultations"},{icon:ks,label:"Vaccinations",path:"/vaccinations"},{icon:ic,label:"Antiparasites",path:"/antiparasites"},{icon:e6,label:"Historiques",path:"/history"},{icon:QC,label:"Farm Mgmt",path:"/farm"}],oz=[{icon:Kn,label:"Stock",path:"/stock"},{icon:Z5,label:"Comptabilité",path:"/accounting"},{icon:Kte,label:"Paramètres",path:"/settings"}],Jde=[...az,...oz];function ds(){const e=Mc(),[t,n]=w.useState(!1);return r.jsx("nav",{className:"bg-card border-b shadow-card",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[r.jsxs(Sa,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(Ut,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),r.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),r.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),r.jsx("div",{className:"hidden sm:block",children:r.jsx(JM,{})})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[az.map(s=>r.jsx(V,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:r.jsxs(Sa,{to:s.path,children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:s.label})]})},s.path)),r.jsxs("div",{className:"relative group",children:[r.jsxs(V,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[r.jsx(gM,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),r.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.jsx("div",{className:"py-1",children:oz.map(s=>r.jsxs(Sa,{to:s.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===s.path?"bg-primary text-primary-foreground":""}`,children:[r.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.path))})})]})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-2",children:r.jsx(AI,{})}),r.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[r.jsx("div",{className:"sm:hidden",children:r.jsx(JM,{})}),r.jsx(AI,{}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?r.jsx(fb,{className:"h-4 w-4"}):r.jsx(gM,{className:"h-4 w-4"})})]})]}),t&&r.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:Jde.map(s=>r.jsx(V,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:r.jsxs(Sa,{to:s.path,children:[r.jsx(s.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"truncate",children:s.label})]})},s.path))})})]})})}class Zde extends w.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:r.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"🚨 Erreur dans l'application"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),r.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const lz=w.createContext(void 0),EI=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crème et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],Xm=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Doré",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],iy=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrôle annuel, bonne santé générale",diagnosis:"Aucun problème détecté",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrôle dans 1 an",cost:"85.00",notes:"Animal en excellente santé",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'appétit, léthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrôle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],ay=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrôle post-traitement",notes:"Vérifier l'amélioration de l'appétit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Stérilisation",notes:"Jeûne 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],oy=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachéobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la température et l'appétit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon appétit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprimés",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amélioration progressive",createdAt:"2024-01-10T14:15:00Z"}],ly=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orléans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Génisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gérée, animaux en bonne santé",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"Étable moderne 850m², stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank à lait 2000L, Système de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n°123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"Épouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pré",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"Étable moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"Élevage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau système de ventilation installé",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m², nurserie 200m², système de ventilation automatique",equipmentDetails:"Système d'alimentation automatique, Pompe à lisier, Générateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crédit Agricole Assurances - Police n°987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sœur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problème de ventilation détecté, surveillance renforcée",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatisé 1200m², aire de parcours 5000m²",equipmentDetails:"Système de ramassage automatique des œufs, Ventilation programmable, Éclairage LED",certifications:["Œufs de France","Bien-être animal"],insuranceDetails:"MMA - Police n°555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme Équine du Val",owner:"Sophie Moreau",address:"12 Chemin des Écuries, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["Équin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle français","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"Écurie de prestige, chevaux de compétition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"Écuries 800m², manège couvert 1200m², carrière extérieure 2000m²",equipmentDetails:"Tracteur, Système d'arrosage automatique, Éclairage LED, Système de sécurité",certifications:["Bien-être animal","Équitation de tradition française"],insuranceDetails:"Allianz - Police n°781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"Époux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrières (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualité, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m², entrepôt 150m², zone de conditionnement 100m²",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matériel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n°131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"Épouse"},createdAt:"2024-01-05T11:15:00Z"}],cy=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fièvre aphteuse",status:"completed",followUp:"Contrôle dans 6 mois",cost:450,notes:"Intervention réussie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"Élevage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrôle sanitaire trimestriel",status:"completed",followUp:"Prochain contrôle en avril",cost:280,notes:"Tous les paramètres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],uy=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Première vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],Yd=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprimé",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donné avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],Jm=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complète contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Éviter le bain 48h avant et après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cœur, Vers ronds, Vers plats",description:"Protection combinée externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Première dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin à jeun, répéter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combinée mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Dès 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sèche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Dès 8 semaines",seasonalTreatment:!0,notes:"Attention aux réactions cutanées, surveiller 24h après application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cœur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combinée mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cœur",description:"Vermifugation complète pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Première vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Dès 6 semaines",seasonalTreatment:!1,notes:"Comprimés appétents, peut être donné avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systémique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous âges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Dès 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Dès 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],TI=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique à large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vétérinaire Centrale",location:"Armoire A - Étagère 1",notes:"Stockage à température ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - Étagère 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hépatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 1",notes:"Conservation 2-8°C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vétérinaires SA",location:"Réfrigérateur - Étagère 2",notes:"Conservation 2-8°C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matériel d'injection",description:"Seringues stériles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matériel Médical Pro",location:"Armoire C - Étagère 1",notes:"Stériles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unité",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Médicale",location:"Armoire D - Étagère 1",notes:"Type IIR, boîte de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrés",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Médicale",location:"Armoire D - Étagère 2",notes:"Taille M, boîte de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomètre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomètre digital vétérinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unité",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"Équipement Vétérinaire",location:"Bureau - Tiroir 1",notes:"Résistant à l'eau, écran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Suppléments Vétérinaires",location:"Armoire A - Étagère 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],dy=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adénovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (première injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu'à 16 semaines)",notes:"Protocole d'initiation à 6-8-12-16 semaines puis rappel à 1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la législation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:"À l'âge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommandée pour chiens en collectivité",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les sérovars pathogènes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double sérovariels recommandé",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopénie, Rhinotrachéite virale féline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement à 1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon réglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon réglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carré)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carré)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire à celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hémorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function uE({children:e}){const t=()=>{try{const X=localStorage.getItem("vetpro-clients"),fe=localStorage.getItem("vetpro-pets"),pe=localStorage.getItem("vetpro-consultations"),Ge=localStorage.getItem("vetpro-appointments"),Je=localStorage.getItem("vetpro-prescriptions"),ze=localStorage.getItem("vetpro-farms"),ot=localStorage.getItem("vetpro-farmInterventions"),Pn=localStorage.getItem("vetpro-vaccinations"),jn=localStorage.getItem("vetpro-vaccinationProtocols"),ht=localStorage.getItem("vetpro-antiparasitics"),Ln=localStorage.getItem("vetpro-antiparasiticProtocols"),Xr=localStorage.getItem("vetpro-stockItems"),aa=localStorage.getItem("vetpro-stockAlerts"),Wa=localStorage.getItem("vetpro-stockMovements"),_d=localStorage.getItem("vetpro-accountingEntries");if(X&&fe){const r1=JSON.parse(X),Nm=JSON.parse(fe),s1=pe?JSON.parse(pe):iy,i1=Ge?JSON.parse(Ge):ay,a1=Je?JSON.parse(Je):oy,o1=ze?JSON.parse(ze):ly,Sm=ot?JSON.parse(ot):cy,l1=Pn?JSON.parse(Pn):uy,c1=jn?JSON.parse(jn):dy,u1=ht?JSON.parse(ht):Yd,d1=Ln?JSON.parse(Ln):Jm,h1=Xr?JSON.parse(Xr):TI,An=aa?JSON.parse(aa):[],Cn=Wa?JSON.parse(Wa):[],f1=_d?JSON.parse(_d):[];return{clients:r1.map(Vv=>({...Vv,pets:Nm.filter(m1=>m1.ownerId===Vv.id)})),pets:Nm,consultations:s1,appointments:i1,prescriptions:a1,farms:o1,farmInterventions:Sm,vaccinations:l1,vaccinationProtocols:c1,antiparasitics:u1,antiparasiticProtocols:d1,stockItems:h1,stockAlerts:An,stockMovements:Cn,accountingEntries:f1}}}catch(X){console.error("Erreur lors du chargement des données:",X)}return{clients:EI.map(X=>({...X,pets:Xm.filter(fe=>fe.ownerId===X.id)})),pets:Xm,consultations:iy,appointments:ay,prescriptions:oy,farms:ly,farmInterventions:cy,vaccinations:uy,vaccinationProtocols:dy,antiparasitics:Yd,antiparasiticProtocols:Jm,stockItems:TI,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(se,X,fe,pe=d,Ge=m,Je=x,ze=y,ot=j,Pn=C,jn=A,ht=E,Ln=I,Xr=O,aa=B,Wa=G)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(se)),localStorage.setItem("vetpro-pets",JSON.stringify(X)),localStorage.setItem("vetpro-consultations",JSON.stringify(fe)),localStorage.setItem("vetpro-appointments",JSON.stringify(pe)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(Ge)),localStorage.setItem("vetpro-farms",JSON.stringify(Je)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(ze)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(ot)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(Pn)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(jn)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ht)),localStorage.setItem("vetpro-stockItems",JSON.stringify(Ln)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Xr)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(aa)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(Wa))}catch(_d){console.error("Erreur lors de la sauvegarde des données:",_d)}},s=t(),[i,a]=w.useState(s.clients),[o,l]=w.useState(s.pets),[c,u]=w.useState(s.consultations),[d,f]=w.useState(s.appointments),[m,g]=w.useState(s.prescriptions),[x,v]=w.useState(s.farms),[y,N]=w.useState(s.farmInterventions),[j,b]=w.useState(s.vaccinations),[C,_]=w.useState(s.vaccinationProtocols),[A,P]=w.useState(s.antiparasitics),[E,D]=w.useState(s.antiparasiticProtocols),[I,k]=w.useState(s.stockItems||[]),[O,L]=w.useState(s.stockAlerts||[]),[B,ee]=w.useState(s.stockMovements||[]),[G,J]=w.useState(s.accountingEntries||[]);w.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Jm)),localStorage.getItem("vetpro-antiparasitics")||(localStorage.setItem("vetpro-antiparasitics",JSON.stringify(Yd)),P(Yd))},[]),w.useEffect(()=>{const se=new Date;new Date(se.getFullYear(),se.getMonth(),1),new Date(se.getFullYear(),se.getMonth()+1,0)},[]),w.useEffect(()=>{const se=new Date,X=new Date(se.getFullYear(),se.getMonth(),1),fe=new Date(se.getFullYear(),se.getMonth()+1,0);Cd(X.toISOString().split("T")[0],fe.toISOString().split("T")[0]),wm(X.toISOString().split("T")[0],fe.toISOString().split("T")[0])},[c,j,A,m,B]),w.useEffect(()=>{},[A]),w.useEffect(()=>{i.length>0&&c.length>=0&&j.length>=0&&A.length>=0&&d.length>=0&&i.forEach(se=>{re(se.id)})},[i.length,c.length,j.length,A.length,d.length]);const q=se=>{const X={...se,name:`${se.firstName} ${se.lastName}`,id:Math.max(...i.map(pe=>pe.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},fe=[...i,X];a(fe),n(fe,o,c,d,m,x,y,j)},$=se=>{const X={...se,id:Math.max(...o.map(Ge=>Ge.id),0)+1,status:se.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},fe=[...o,X];l(fe);const pe=i.map(Ge=>Ge.id===se.ownerId?{...Ge,pets:[...Ge.pets,{id:X.id,name:X.name,type:X.type,breed:X.breed,birthDate:X.birthDate,weight:X.weight,color:X.color,microchip:X.microchip,medicalNotes:X.medicalNotes,photo:X.photo,ownerId:X.ownerId,owner:X.owner,status:X.status,lastVisit:X.lastVisit,nextAppointment:X.nextAppointment,vaccinations:X.vaccinations}]}:Ge);a(pe),n(pe,fe,c,d,m,x,y,j)},oe=(se,X)=>{const fe=i.map(pe=>pe.id===se?{...pe,...X,name:X.firstName&&X.lastName?`${X.firstName} ${X.lastName}`:pe.name}:pe);a(fe),n(fe,o,c,d,m,x,y,j)},ge=(se,X)=>{({...o.find(Ge=>Ge.id===se),...X});const fe=o.map(Ge=>Ge.id===se?{...Ge,...X}:Ge);l(fe);const pe=i.map(Ge=>({...Ge,pets:Ge.pets.map(Je=>Je.id===se?{...Je,...X}:Je)}));a(pe),n(pe,fe,c)},re=se=>{const X=i.find(ht=>ht.id===se);if(!X)return;const fe=c.filter(ht=>ht.clientId===se),pe=j.filter(ht=>ht.clientId===se),Ge=A.filter(ht=>ht.clientId===se),Je=d.filter(ht=>ht.clientId===se&&ht.status==="completed"),ze=fe.length+pe.length+Ge.length+Je.length,ot=[...fe.map(ht=>({date:ht.date,type:"consultation"})),...pe.map(ht=>({date:ht.dateGiven,type:"vaccination"})),...Ge.map(ht=>({date:ht.dateGiven,type:"antiparasitic"})),...Je.map(ht=>({date:ht.date,type:"appointment"}))],Pn=ot.length>0?ot.reduce((ht,Ln)=>new Date(Ln.date)>new Date(ht.date)?Ln:ht).date:X.lastVisit,jn=i.map(ht=>ht.id===se?{...ht,totalVisits:ze,lastVisit:Pn}:ht);return a(jn),{totalVisits:ze,lastVisit:Pn}},Z=se=>{const X={...se,id:Math.max(...I.map(pe=>pe.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:se.currentStock*se.purchasePrice},fe=[...I,X];return k(fe),n(i,o,c,d,m,x,y,j,C,A,E,fe,O,B),X},ne=(se,X)=>{const fe=I.map(pe=>{if(pe.id===se){const Ge={...pe,...X};return(X.currentStock!==void 0||X.purchasePrice!==void 0)&&(Ge.totalValue=Ge.currentStock*Ge.purchasePrice),Ge.lastUpdated=new Date().toISOString(),Ge}return pe});return k(fe),n(i,o,c,d,m,x,y,j,C,A,E,fe,O,B),fe.find(pe=>pe.id===se)},ve=se=>{const X=I.filter(fe=>fe.id!==se);k(X),n(i,o,c,d,m,x,y,j,C,A,E,X,O,B)},je=se=>{const X={...se,id:Math.max(...B.map(pe=>pe.id),0)+1},fe=[...B,X];return ee(fe),n(i,o,c,d,m,x,y,j,C,A,E,I,O,fe),X},we=()=>{const se=[],X=new Date().toISOString().split("T")[0],fe=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return I.forEach(pe=>{pe.currentStock<=pe.minimumStock&&se.push({id:se.length+1,itemId:pe.id,itemName:pe.name,type:"low_stock",message:`Stock bas: ${pe.currentStock} ${pe.unit} restant(s)`,severity:pe.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),pe.expirationDate&&(pe.expirationDate<X?se.push({id:se.length+1,itemId:pe.id,itemName:pe.name,type:"expired",message:`Expiré le ${pe.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):pe.expirationDate<=fe&&se.push({id:se.length+1,itemId:pe.id,itemName:pe.name,type:"expiring_soon",message:`Expire le ${pe.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),se},z=se=>{const X={...se,id:Math.max(...c.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString(),photos:se.photos||[]},fe=[...c,X];u(fe);const pe=o.map(Je=>Je.id===se.petId?{...Je,lastVisit:se.date}:Je);l(pe);const Ge=i.map(Je=>({...Je,pets:Je.pets.map(ze=>ze.id===se.petId?{...ze,lastVisit:se.date}:ze)}));a(Ge),re(se.clientId),n(Ge,pe,fe)},Q=se=>{if(!o.find(Ge=>Ge.id===se))return;const fe=o.filter(Ge=>Ge.id!==se);l(fe);const pe=i.map(Ge=>({...Ge,pets:Ge.pets.filter(Je=>Je.id!==se)}));a(pe),n(pe,fe,c)},te=()=>{localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const se=EI.map(X=>({...X,pets:Xm.filter(fe=>fe.ownerId===X.id)}));a(se),l(Xm),u(iy),f(ay),g(oy),v(ly),N(cy),b(uy),_(dy),P(Yd),D(Jm),n(se,Xm,iy,ay,oy,ly,cy,uy,dy,Yd,Jm)},K=()=>{const se={clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:C,antiparasitics:A,antiparasiticProtocols:E},X=new Blob([JSON.stringify(se,null,2)],{type:"application/json"}),fe=URL.createObjectURL(X),pe=document.createElement("a");pe.href=fe,pe.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(fe)},M=se=>{const X=se.clients.map(fe=>({...fe,pets:se.pets.filter(pe=>pe.ownerId===fe.id)}));a(X),l(se.pets),u(se.consultations||[]),f(se.appointments||[]),g(se.prescriptions||[]),v(se.farms||[]),N(se.farmInterventions||[]),b(se.vaccinations||[]),_(se.vaccinationProtocols||[]),P(se.antiparasitics||[]),D(se.antiparasiticProtocols||[]),n(X,se.pets,se.consultations||[],se.appointments||[],se.prescriptions||[],se.farms||[],se.farmInterventions||[],se.vaccinations||[],se.vaccinationProtocols||[],se.antiparasitics||[],se.antiparasiticProtocols||[])},xe=(se,X)=>{const fe=c.map(pe=>pe.id===se?{...pe,...X}:pe);u(fe),n(i,o,fe)},Ne=se=>{const X=c.filter(fe=>fe.id!==se);u(X),n(i,o,X)},de=se=>{const X=I.find(fe=>fe.name.toLowerCase()===se.productName.toLowerCase()&&fe.category==="medication"&&fe.isActive);return X&&X.currentStock>=1?{...se,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...se,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...se,isInStock:!1,stockQuantity:0,stockDeducted:!1}},Pe=se=>{const X=de(se);let fe=[...I];if(X.stockDeducted&&X.stockItemId){const Je=fe.findIndex(ze=>ze.id===X.stockItemId);if(Je!==-1){const ze=fe[Je];fe[Je]={...ze,currentStock:ze.currentStock-1,lastUpdated:new Date().toISOString()},je({itemId:X.stockItemId,itemName:X.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,...A.map(ot=>ot.id))+1}`,performedBy:X.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${X.petName} - ${X.productName}`})}}const pe={...X,id:Math.max(0,...A.map(Je=>Je.id))+1,createdAt:new Date().toISOString()},Ge=[...A,pe];P(Ge),k(fe),re(se.clientId),n(i,o,c,d,m,x,y,j,C,Ge,E,fe,O,B),localStorage.getItem("vetpro-antiparasitics")},Ze=(se,X)=>{const fe=A.map(pe=>pe.id===se?{...pe,...X}:pe);P(fe),n(i,o,c,d,m,x,y,j,C,fe,E)},at=se=>{const X=A.filter(fe=>fe.id!==se);P(X),n(i,o,c,d,m,x,y,j,C,X,E)},dt=se=>{const X={...se,id:Math.max(0,...E.map(pe=>pe.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},fe=[...E,X];D(fe),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(fe))},Se=(se,X)=>{const fe=E.map(pe=>pe.id===se?{...pe,...X,updatedAt:new Date().toISOString()}:pe);D(fe),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(fe))},qe=se=>{const X=E.filter(fe=>fe.id!==se);D(X),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(X))},We=se=>A.find(X=>X.id===se),Lt=se=>A.filter(fe=>fe.petId===se),xn=se=>A.filter(X=>X.clientId===se),Nt=()=>{const se=new Date().toISOString().split("T")[0];return A.filter(X=>X.nextDueDate&&X.nextDueDate<se&&X.status!=="completed")},hn=(se=7)=>{const X=new Date,fe=new Date(X.getTime()+se*24*60*60*1e3);return A.filter(pe=>{if(!pe.nextDueDate)return!1;const Ge=new Date(pe.nextDueDate);return Ge>=X&&Ge<=fe})},dr=se=>A.filter(X=>X.status===se),Qn=se=>E.find(X=>X.id===se),ys=se=>E.filter(X=>X.species===se&&X.isActive),Ce=()=>E.filter(se=>se.isActive),Wt=se=>i.find(X=>X.id===se),nt=se=>o.find(X=>X.id===se),mt=se=>c.find(X=>X.id===se),sn=se=>o.filter(X=>X.ownerId===se),as=se=>c.filter(X=>X.petId===se),Qr=se=>c.filter(X=>X.clientId===se),Bs=se=>{const X={...se,id:Math.max(...d.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString()},fe=[...d,X];f(fe),re(se.clientId),n(i,o,c,fe,m)},bl=(se,X)=>{const fe=d.map(pe=>pe.id===se?{...pe,...X}:pe);f(fe),n(i,o,c,fe,m)},le=se=>{const X=d.filter(fe=>fe.id!==se);f(X),n(i,o,c,X,m)},He=se=>d.find(X=>X.id===se),Be=se=>d.filter(X=>X.clientId===se),kn=se=>d.filter(X=>X.petId===se),Xn=se=>d.filter(X=>X.date===se),ia=()=>{const se=new Date().toISOString().split("T")[0];return d.filter(X=>X.date>=se&&X.status!=="cancelled"&&X.status!=="completed").sort((X,fe)=>new Date(X.date+"T"+X.time).getTime()-new Date(fe.date+"T"+fe.time).getTime())},jt=()=>{const se=new Date().toISOString().split("T")[0];return d.filter(X=>X.date<se&&X.status==="scheduled").sort((X,fe)=>new Date(X.date+"T"+X.time).getTime()-new Date(fe.date+"T"+fe.time).getTime())},on=se=>se.map(X=>{const fe=I.find(pe=>pe.name.toLowerCase()===X.name.toLowerCase()&&pe.category==="medication"&&pe.isActive);return fe&&fe.currentStock>=X.quantity?{...X,stockItemId:fe.id,isInStock:!0,stockQuantity:fe.currentStock,stockDeducted:!0}:fe&&fe.currentStock>0?{...X,stockItemId:fe.id,isInStock:!0,stockQuantity:fe.currentStock,stockDeducted:!1}:{...X,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),yn=se=>{const X=on(se.medications);let fe=[...I];X.forEach(Je=>{if(Je.stockDeducted&&Je.stockItemId){const ze=fe.findIndex(ot=>ot.id===Je.stockItemId);if(ze!==-1){const ot=fe[ze];fe[ze]={...ot,currentStock:ot.currentStock-Je.quantity,lastUpdated:new Date().toISOString()},je({itemId:Je.stockItemId,itemName:Je.name,type:"out",quantity:Je.quantity,reason:"Prescription médicale",reference:`Prescription #${Math.max(...m.map(Pn=>Pn.id),0)+1}`,performedBy:se.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${se.petName} - ${se.diagnosis}`})}}});const pe={...se,medications:X,id:Math.max(...m.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString()},Ge=[...m,pe];g(Ge),k(fe),n(i,o,c,d,Ge,x,y,j,C,A,E,fe,O,B,G)},js=(se,X)=>{const fe=m.map(pe=>pe.id===se?{...pe,...X}:pe);g(fe),n(i,o,c,d,fe,x,y,j,C,A,E,I,O,B,G)},bs=se=>{const X=m.filter(fe=>fe.id!==se);g(X),n(i,o,c,d,X,x,y,j,C,A,E,I,O,B,G)},Ei=se=>m.find(X=>X.id===se),ai=se=>m.filter(X=>X.petId===se),ws=se=>m.filter(X=>X.consultationId===se),zs=()=>m.filter(se=>se.status==="active").sort((se,X)=>new Date(X.date).getTime()-new Date(se.date).getTime()),Rw=se=>{const X={...se,id:Math.max(...x.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString()},fe=[...x,X];v(fe),n(i,o,c,d,m,fe,y)},Lw=(se,X)=>{const fe=x.map(pe=>pe.id===se?{...pe,...X}:pe);v(fe),n(i,o,c,d,m,fe,y)},Fw=se=>{const X=x.filter(fe=>fe.id!==se);v(X),n(i,o,c,d,m,X,y)},Bw=se=>{const X={...se,id:Math.max(...y.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString()},fe=[...y,X];N(fe),n(i,o,c,d,m,x,fe)},zw=(se,X)=>{const fe=y.map(pe=>pe.id===se?{...pe,...X}:pe);N(fe),n(i,o,c,d,m,x,fe)},Vw=se=>{const X=y.filter(fe=>fe.id!==se);N(X),n(i,o,c,d,m,x,X)},Uw=se=>x.find(X=>X.id===se),qw=se=>y.find(X=>X.id===se),Dv=se=>y.filter(X=>X.farmId===se),Ww=()=>{const se=new Date().toISOString().split("T")[0];return y.filter(X=>X.date>=se&&X.status!=="cancelled").sort((X,fe)=>new Date(X.date).getTime()-new Date(fe.date).getTime())},Hw=se=>x.filter(X=>X.status===se),Gw=se=>{const X=I.find(fe=>fe.name.toLowerCase()===se.vaccineName.toLowerCase()&&fe.category==="vaccine"&&fe.isActive);return X&&X.currentStock>=1?{...se,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!0}:X&&X.currentStock>0?{...se,stockItemId:X.id,isInStock:!0,stockQuantity:X.currentStock,stockDeducted:!1}:{...se,isInStock:!1,stockQuantity:0,stockDeducted:!1}},jm=se=>{const X=Gw(se);let fe=[...I];if(X.stockDeducted&&X.stockItemId){const Ge=fe.findIndex(Je=>Je.id===X.stockItemId);if(Ge!==-1){const Je=fe[Ge];fe[Ge]={...Je,currentStock:Je.currentStock-1,lastUpdated:new Date().toISOString()},je({itemId:X.stockItemId,itemName:X.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...j.map(ze=>ze.id),0)+1}`,performedBy:X.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${X.petName} - ${X.vaccineName}`})}}const pe={...X,id:Math.max(...j.map(Ge=>Ge.id),0)+1,createdAt:new Date().toISOString()};return b(Ge=>{const Je=[...Ge,pe];return re(se.clientId),n(i,o,c,d,m,x,y,Je,C,A,E,fe,O,B),Je}),k(fe),pe.id},wd=(se,X)=>{const fe=j.map(pe=>pe.id===se?{...pe,...X}:pe);b(fe),n(i,o,c,d,m,x,y,fe)},Kw=se=>{const X=j.find(pe=>pe.id===se);if(!X)return;let fe=[...j];X.vaccinationCategory==="new"?(j.filter(pe=>pe.originalVaccinationId===se),fe=j.filter(pe=>pe.id!==se&&pe.originalVaccinationId!==se)):fe=j.filter(pe=>pe.id!==se),b(fe),n(i,o,c,d,m,x,y,fe)},So=se=>j.find(X=>X.id===se),Yw=se=>j.filter(X=>X.petId===se),Nd=se=>j.filter(X=>X.clientId===se),Qw=()=>{const se=new Date().toISOString().split("T")[0];return j.filter(X=>X.nextDueDate<se&&X.status!=="completed").sort((X,fe)=>new Date(X.nextDueDate).getTime()-new Date(fe.nextDueDate).getTime())},Xw=()=>{const se=new Date,X=new Date(se.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],fe=se.toISOString().split("T")[0];return j.filter(pe=>pe.nextDueDate>=fe&&pe.nextDueDate<=X&&pe.status!=="completed").sort((pe,Ge)=>new Date(pe.nextDueDate).getTime()-new Date(Ge.nextDueDate).getTime())},Jw=se=>j.filter(X=>X.status===se),Mv=()=>{const se=new Date().toISOString().split("T")[0];let X=!1;const fe=j.map(pe=>pe.status==="completed"?pe:pe.nextDueDate<se&&pe.status!=="overdue"?(X=!0,{...pe,status:"overdue"}):pe.nextDueDate>=se&&pe.status!=="scheduled"?(X=!0,{...pe,status:"scheduled"}):pe);return X&&(b(fe),n(i,o,c,d,m,x,y,fe)),fe},Iv=se=>{const X={...se,id:Math.max(...C.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},fe=[...C,X];_(fe),n(i,o,c,d,m,x,y,j,fe)},$v=(se,X)=>{const fe=C.map(pe=>pe.id===se?{...pe,...X,updatedAt:new Date().toISOString()}:pe);_(fe),n(i,o,c,d,m,x,y,j,fe)},Zw=se=>{const X=C.filter(fe=>fe.id!==se);_(X),n(i,o,c,d,m,x,y,j,X)},e1=se=>C.find(X=>X.id===se),t1=se=>C.filter(X=>X.species===se&&X.isActive),n1=()=>C.filter(se=>se.isActive),Rv=(se,X,fe)=>{const pe=C.find(ze=>ze.name===se&&ze.species===X&&ze.isActive);if(!pe||!pe.intervals.length)return null;const Ge=pe.intervals[pe.intervals.length-1],Je=new Date(fe);return Je.setDate(Je.getDate()+Ge.offsetDays),Je.toISOString().split("T")[0]},Lv=(se,X,fe)=>{var jn;const pe=So(se);if(!pe)return;const Ge={clientId:pe.clientId,clientName:pe.clientName,petId:pe.petId,petName:pe.petName,date:X,time:fe,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${pe.vaccineName}`,notes:`Rappel pour ${pe.vaccineName} (vaccination originale ID: ${se})`,status:"scheduled",reminderSent:!1};Bs(Ge);const Je=Math.max(...d.map(ht=>ht.id),0)+1,ze={petId:pe.petId,petName:pe.petName,clientId:pe.clientId,clientName:pe.clientName,vaccineName:pe.vaccineName,vaccineType:pe.vaccineType,vaccinationCategory:"reminder",dateGiven:X,nextDueDate:pe.nextDueDate,batchNumber:pe.batchNumber,veterinarian:pe.veterinarian,notes:`Rappel de ${pe.vaccineName} (original: ${se})`,status:"scheduled",cost:pe.cost,location:pe.location,manufacturer:pe.manufacturer,originalVaccinationId:se,reminderAppointmentId:Je,isReminder:!0};jm(ze);const ot={id:Math.max(...((jn=pe.reminderHistory)==null?void 0:jn.map(ht=>ht.id))||[0],0)+1,vaccinationId:se,appointmentId:Je,scheduledDate:X,status:"scheduled",notes:`Rappel programmé pour ${pe.vaccineName}`,createdAt:new Date().toISOString()},Pn=[...pe.reminderHistory||[],ot];return wd(se,{reminderHistory:Pn}),{appointment:Ge,reminderVaccination:ze,reminder:ot}},Fv=(se,X,fe)=>{var ze;const pe=So(se);if(!pe)return;const Je={status:"completed",reminderHistory:((ze=pe.reminderHistory)==null?void 0:ze.map(ot=>ot.appointmentId===X?{...ot,status:"completed"}:ot))||[],reminderAppointmentId:void 0};return fe&&(Je.nextDueDate=fe),wd(se,Je),bl(X,{status:"completed"}),pe},bm=(se,X)=>{const fe=So(se);if(!fe)return null;const pe={petId:fe.petId,petName:fe.petName,clientId:fe.clientId,clientName:fe.clientName,vaccineName:fe.vaccineName,vaccineType:fe.vaccineType,vaccinationCategory:"reminder",dateGiven:X.datePerformed,nextDueDate:X.newNextDueDate||fe.nextDueDate,calculatedDueDate:fe.calculatedDueDate,batchNumber:X.batchNumber||fe.batchNumber,veterinarian:X.veterinarian,notes:X.notes||`Rappel effectué - ${fe.vaccineName}`,status:"completed",cost:fe.cost,location:fe.location,manufacturer:fe.manufacturer,expirationDate:fe.expirationDate,adverseReactions:fe.adverseReactions,originalVaccinationId:se,isReminder:!0};jm(pe);const Ge={status:"completed",reminderAppointmentId:void 0};return X.newNextDueDate&&(Ge.nextDueDate=X.newNextDueDate),wd(se,Ge),pe},wl=se=>{const X={...se,id:Math.max(...G.map(pe=>pe.id),0)+1,createdAt:new Date().toISOString()},fe=[...G,X];return J(fe),n(i,o,c,d,m,x,y,j,C,A,E,I,O,B,fe),X},Bv=(se,X)=>{const fe=G.map(pe=>pe.id===se?{...pe,...X}:pe);J(fe),n(i,o,c,d,m,x,y,j,C,A,E,I,O,B,fe)},Sd=se=>{const X=G.filter(fe=>fe.id!==se);J(X),n(i,o,c,d,m,x,y,j,C,A,E,I,O,B,X)},Cd=(se,X)=>{const fe=new Date(se),pe=new Date(X);let Ge=0;const Je={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(ze=>{const ot=new Date(ze.date);return ot>=fe&&ot<=pe}).forEach(ze=>{var jn;const ot=parseFloat(((jn=ze.cost)==null?void 0:jn.toString())||"0");Ge+=ot,Je.consultations+=ot,G.find(ht=>ht.source==="consultation"&&ht.sourceId===ze.id)||wl({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${ze.petName}`,amount:ot,date:ze.date,reference:`Consultation #${ze.id}`,source:"consultation",sourceId:ze.id,notes:`Consultation automatique pour ${ze.petName}`})}),j.filter(ze=>{const ot=new Date(ze.dateGiven);return ot>=fe&&ot<=pe}).forEach(ze=>{var jn;const ot=parseFloat(((jn=ze.cost)==null?void 0:jn.toString())||"0");Ge+=ot,Je.vaccinations+=ot,G.find(ht=>ht.source==="vaccination"&&ht.sourceId===ze.id)||wl({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${ze.vaccineName}`,amount:ot,date:ze.dateGiven,reference:`Vaccination #${ze.id}`,source:"vaccination",sourceId:ze.id,notes:`Vaccination automatique pour ${ze.petName}`})}),A.filter(ze=>{const ot=new Date(ze.dateGiven);return ot>=fe&&ot<=pe}).forEach(ze=>{var jn;const ot=parseFloat(((jn=ze.cost)==null?void 0:jn.toString())||"0");Ge+=ot,Je.antiparasitics+=ot,G.find(ht=>ht.source==="antiparasitic"&&ht.sourceId===ze.id)||wl({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${ze.productName}`,amount:ot,date:ze.dateGiven,reference:`Antiparasitaire #${ze.id}`,source:"antiparasitic",sourceId:ze.id,notes:`Antiparasitaire automatique pour ${ze.petName}`})}),m.filter(ze=>{const ot=new Date(ze.createdAt);return ot>=fe&&ot<=pe}).forEach(ze=>{const ot=ze.medications.reduce((jn,ht)=>{var Ln;return jn+parseFloat(((Ln=ht.cost)==null?void 0:Ln.toString())||"0")*ht.quantity},0);Ge+=ot,Je.prescriptions+=ot,!G.find(jn=>jn.source==="prescription"&&jn.sourceId===ze.id)&&ot>0&&wl({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${ze.petName}`,amount:ot,date:ze.createdAt,reference:`Prescription #${ze.id}`,source:"prescription",sourceId:ze.id,notes:`Prescription automatique pour ${ze.petName}`})}),{totalRevenue:Ge,revenueBreakdown:Je}},wm=(se,X)=>{const fe=new Date(se),pe=new Date(X);let Ge=0;const Je={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return B.filter(ze=>{const ot=new Date(ze.date);return ot>=fe&&ot<=pe&&ze.type==="in"&&ze.reason==="Achat fournisseur"}).forEach(ze=>{const ot=I.find(Pn=>Pn.id===ze.itemId);if(ot){const Pn=ot.purchasePrice*ze.quantity;Ge+=Pn,Je.stockPurchases+=Pn,G.find(ht=>ht.source==="stock_purchase"&&ht.reference===ze.reference)||wl({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${ze.itemName}`,amount:Pn,date:ze.date,reference:ze.reference,source:"stock_purchase",notes:`Achat automatique de ${ze.quantity} ${ze.itemName}`})}}),{totalExpenses:Ge,expenseBreakdown:Je}},zv=(se,X,fe)=>{const{totalRevenue:pe,revenueBreakdown:Ge}=Cd(X,fe),{totalExpenses:Je,expenseBreakdown:ze}=wm(X,fe),ot=G.filter(Ln=>{const Xr=new Date(Ln.date),aa=new Date(X),Wa=new Date(fe);return Xr>=aa&&Xr<=Wa&&Ln.category==="manual"&&Ln.type==="revenue"}).reduce((Ln,Xr)=>Ln+Xr.amount,0),Pn=G.filter(Ln=>{const Xr=new Date(Ln.date),aa=new Date(X),Wa=new Date(fe);return Xr>=aa&&Xr<=Wa&&Ln.category==="manual"&&Ln.type==="expense"}).reduce((Ln,Xr)=>Ln+Xr.amount,0);Ge.manualEntries=ot,ze.manualEntries=Pn;const jn=pe+ot,ht=Je+Pn;return{period:se,totalRevenue:jn,totalExpenses:ht,netIncome:jn-ht,revenueBreakdown:Ge,expenseBreakdown:ze}};return r.jsx(lz.Provider,{value:{clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:C,antiparasitics:A,antiparasiticProtocols:E,stockItems:I,stockAlerts:O,stockMovements:B,accountingEntries:G,addClient:q,addPet:$,addConsultation:z,addAppointment:Bs,addPrescription:yn,addFarm:Rw,addFarmIntervention:Bw,addVaccination:jm,addVaccinationProtocol:Iv,addAntiparasitic:Pe,addAntiparasiticProtocol:dt,addStockItem:Z,addStockMovement:je,addAccountingEntry:wl,updateAccountingEntry:Bv,deleteAccountingEntry:Sd,calculateAutomaticRevenue:Cd,calculateAutomaticExpenses:wm,generateAccountingSummary:zv,updateClient:oe,updatePet:ge,updateConsultation:xe,updateAppointment:bl,updatePrescription:js,updateFarm:Lw,updateFarmIntervention:zw,updateVaccination:wd,updateVaccinationProtocol:$v,updateAntiparasitic:Ze,updateAntiparasiticProtocol:Se,updateStockItem:ne,deletePet:Q,deleteConsultation:Ne,deleteAppointment:le,deletePrescription:bs,deleteFarm:Fw,deleteFarmIntervention:Vw,deleteVaccination:Kw,deleteVaccinationProtocol:Zw,deleteAntiparasitic:at,deleteAntiparasiticProtocol:qe,deleteStockItem:ve,resetData:te,exportData:K,importData:M,getClientById:Wt,getPetById:nt,getConsultationById:mt,getAppointmentById:He,getPrescriptionById:Ei,getFarmById:Uw,getFarmInterventionById:qw,getVaccinationById:So,getVaccinationProtocolById:e1,getVaccinationProtocolsBySpecies:t1,getActiveVaccinationProtocols:n1,getAntiparasiticById:We,getAntiparasiticsByPetId:Lt,getAntiparasiticsByClientId:xn,getOverdueAntiparasitics:Nt,getUpcomingAntiparasitics:hn,getAntiparasiticsByStatus:dr,getAntiparasiticProtocolById:Qn,getAntiparasiticProtocolsBySpecies:ys,getActiveAntiparasiticProtocols:Ce,getPetsByOwnerId:sn,getConsultationsByPetId:as,getConsultationsByClientId:Qr,getAppointmentsByClientId:Be,getAppointmentsByPetId:kn,getAppointmentsByDate:Xn,getUpcomingAppointments:ia,getOverdueAppointments:jt,getPrescriptionsByPetId:ai,getPrescriptionsByConsultationId:ws,getActivePrescriptions:zs,getFarmInterventionsByFarmId:Dv,getUpcomingFarmInterventions:Ww,getFarmsByStatus:Hw,getVaccinationsByPetId:Yw,getVaccinationsByClientId:Nd,getOverdueVaccinations:Qw,getUpcomingVaccinations:Xw,getVaccinationsByStatus:Jw,createVaccinationReminder:Lv,completeVaccinationReminder:Fv,confirmVaccinationReminder:bm,updateVaccinationStatuses:Mv,calculateDueDateFromProtocol:Rv,updateClientStats:re,getStockAlerts:we},children:e})}const Pt=()=>{const e=w.useContext(lz);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},ie=w.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:et("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ie.displayName="Input";var ehe="Label",cz=w.forwardRef((e,t)=>r.jsx(it.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cz.displayName=ehe;var uz=cz;const the=cv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=w.forwardRef(({className:e,...t},n)=>r.jsx(uz,{ref:n,className:et(the(),e),...t}));F.displayName=uz.displayName;const ue=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ue.displayName="Card";const Ee=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("flex flex-col space-y-1.5 p-6",e),...t}));Ee.displayName="CardHeader";const ke=w.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:et("text-2xl font-semibold leading-none tracking-tight",e),...t}));ke.displayName="CardTitle";const df=w.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:et("text-sm text-muted-foreground",e),...t}));df.displayName="CardDescription";const he=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("p-6 pt-0",e),...t}));he.displayName="CardContent";const nhe=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("flex items-center p-6 pt-0",e),...t}));nhe.displayName="CardFooter";const rhe=cv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),D0=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:et(rhe({variant:t}),e),...n}));D0.displayName="Alert";const she=w.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:et("mb-1 font-medium leading-none tracking-tight",e),...t}));she.displayName="AlertTitle";const M0=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("text-sm [&_p]:leading-relaxed",e),...t}));M0.displayName="AlertDescription";function ihe(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(!1),{login:m,isLoading:g}=$c(),x=Yde(),v=Qde(),y=async C=>{if(C.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await m(e,n)||l("Email ou mot de passe incorrect, ou email non confirmé")},N=async()=>{l("");try{await x.mutateAsync()}catch{l("Erreur lors de la connexion avec Google")}},j=async C=>{if(C.preventDefault(),l(""),!e){l("Veuillez saisir votre email");return}try{await v.mutateAsync(e),f(!0)}catch(_){l(_ instanceof Error?_.message:"Une erreur est survenue")}},b=()=>{u(!1),f(!1),l(""),s("")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(ue,{className:"w-full max-w-md",children:[r.jsxs(Ee,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(Ut,{className:"h-8 w-8 text-primary"})})}),r.jsx(ke,{className:"text-2xl font-bold",children:"VetPro CRM3"}),r.jsx(df,{children:c?d?"Vérifiez votre email":"Réinitialiser votre mot de passe":"Connectez-vous à votre espace vétérinaire"})]}),r.jsx(he,{children:d?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Nous avons envoyé un lien de réinitialisation à ",r.jsx("strong",{children:e})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:"Cliquez sur le lien dans l'email pour réinitialiser votre mot de passe. Si vous ne voyez pas l'email, vérifiez votre dossier spam."})]}),r.jsxs(V,{onClick:b,className:"w-full",children:[r.jsx(mM,{className:"mr-2 h-4 w-4"}),"Retour à la connexion"]})]}):c?r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o&&r.jsx(D0,{variant:"destructive",children:r.jsx(M0,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"reset-email",children:"Email"}),r.jsx(ie,{id:"reset-email",type:"email",placeholder:"votre.email@example.com",value:e,onChange:C=>t(C.target.value),disabled:v.isPending,required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Entrez l'adresse email associée à votre compte"})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:v.isPending,children:v.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer le lien de réinitialisation"}),r.jsx("div",{className:"text-center",children:r.jsxs(V,{type:"button",variant:"link",onClick:b,className:"text-sm",children:[r.jsx(mM,{className:"mr-1 h-4 w-4"}),"Retour à la connexion"]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&r.jsx(D0,{variant:"destructive",children:r.jsx(M0,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:C=>t(C.target.value),disabled:g,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"password",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ie,{id:"password",type:i?"text":"password",placeholder:"••••••••",value:n,onChange:C=>s(C.target.value),disabled:g,required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),disabled:g,children:i?r.jsx(YC,{className:"h-4 w-4"}):r.jsx($r,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{type:"button",variant:"link",className:"text-xs p-0 h-auto",onClick:()=>u(!0),children:"Mot de passe oublié ?"})})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:g,children:g?r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continuer avec"})})]}),r.jsx(V,{type:"button",variant:"outline",className:"w-full",onClick:N,disabled:g||x.isPending,children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion avec Google..."]}):r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuer avec Google"]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",r.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})})]})})}function hs({children:e}){const{isAuthenticated:t,isLoading:n,user:s}=$c(),[i,a]=w.useState(!1);return w.useEffect(()=>{if(n){const o=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(o)}else a(!1)},[n]),i?r.jsx(y2,{to:"/login",replace:!0}):n&&!i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérification de l'authentification..."})]})}):!t||!s?r.jsx(y2,{to:"/login",replace:!0}):r.jsx(r.Fragment,{children:e})}function ahe({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:s,user:i}=$c(),[a,o]=w.useState(!1);return w.useEffect(()=>{if(s){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[s]),a?r.jsx(r.Fragment,{children:e}):s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&i?r.jsx(y2,{to:t,replace:!0}):r.jsx(r.Fragment,{children:e})}const dz="/assets/vet-hero-UFBVcjRL.jpg";function ohe(){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b",children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{variant:"ghost",asChild:!0,children:r.jsx(Sa,{to:"/login",children:"Se connecter"})}),r.jsx(V,{asChild:!0,children:r.jsx(Sa,{to:"/register",children:"Commencer"})})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Gérez votre pratique",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vétérinaire efficacement"})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide à gérer vos clients, leurs animaux, les rendez-vous, consultations et l'historique médical. Optimisez votre pratique avec notre solution tout-en-un."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Sa,{to:"/register",children:["Commencer gratuitement",r.jsx(KC,{className:"h-4 w-4"})]})}),r.jsx(V,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:r.jsx(Sa,{to:"/login",children:"Voir la démo"})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:dz,alt:"Vétérinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complète pour moderniser et optimiser votre pratique vétérinaire"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Ia,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez facilement vos clients et leurs animaux avec un système intuitif et complet."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(At,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground",children:"Planifiez et gérez vos rendez-vous avec un calendrier intelligent et flexible."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(ur,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique médical détaillé."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(e6,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),r.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activité avec des rapports détaillés et des tableaux de bord."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(wi,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sécurisé"}),r.jsx("p",{className:"text-muted-foreground",children:"Vos données sont protégées avec les plus hauts standards de sécurité."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Ut,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les exploitations agricoles et suivez la santé des troupeaux."})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Prêt à moderniser votre pratique ?"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vétérinaires qui font confiance à VetPro pour gérer leur clinique efficacement."}),r.jsx("div",{className:"flex gap-4 justify-center",children:r.jsx(V,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Sa,{to:"/register",children:["Commencer maintenant",r.jsx(KC,{className:"h-4 w-4"})]})})})]})})}),r.jsx("footer",{className:"border-t py-8",children:r.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," VetPro. Tous droits réservés."]})})})]})}const lhe=()=>{const e=Jf(),{toast:t}=$t(),[n,s]=w.useState(!1),[i,a]=w.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=u=>u.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(u)?/[a-z]/.test(u)?/\d/.test(u)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(u)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",l=u=>{a(d=>({...d,[u.target.id]:u.target.value}))},c=async u=>{if(u.preventDefault(),s(!0),i.password!==i.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),s(!1);return}const d=o(i.password);if(d){t({title:"Erreur",description:d,variant:"destructive"}),s(!1);return}try{await Bde(i.email,i.password,i.username,i.fullName,"assistant"),t({title:"Inscription réussie",description:"Votre compte a été créé avec succès. Veuillez vérifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(f){const m=f instanceof Error?f.message:"Une erreur est survenue lors de l'inscription";t({title:"Erreur d'inscription",description:m,variant:"destructive"})}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:r.jsxs(ue,{className:"w-full max-w-md",children:[r.jsxs(Ee,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Ut,{className:"h-12 w-12 text-primary"})}),r.jsx(ke,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),r.jsx(df,{children:"Créez votre compte vétérinaire"})]}),r.jsxs(he,{children:[r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(ie,{id:"username",placeholder:"martin.dubois",value:i.username,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"fullName",children:"Nom complet"}),r.jsx(ie,{id:"fullName",placeholder:"Dr. Martin Dubois",value:i.fullName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",placeholder:"votre.email@example.com",value:i.email,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"password",children:"Mot de passe"}),r.jsx(ie,{id:"password",type:"password",placeholder:"Votre mot de passe sécurisé",value:i.password,onChange:l,required:!0,minLength:8}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(ie,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:i.confirmPassword,onChange:l,required:!0,minLength:8})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"mr-2 h-4 w-4 animate-spin"}),"Création en cours..."]}):"Créer le compte"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",r.jsx(Sa,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r.jsx(Sa,{to:"/",className:"hover:underline",children:"Retour à l'accueil"})})]})]})]})})};var $b="Dialog",[hz,H6e]=ni($b),[che,Va]=hz($b),fz=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:$b});return r.jsx(che,{scope:t,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};fz.displayName=$b;var mz="DialogTrigger",pz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(mz,n),a=Xt(t,i.triggerRef);return r.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fE(i.open),...s,ref:a,onClick:Ke(e.onClick,i.onOpenToggle)})});pz.displayName=mz;var dE="DialogPortal",[uhe,gz]=hz(dE,{forceMount:void 0}),vz=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Va(dE,t);return r.jsx(uhe,{scope:t,forceMount:n,children:w.Children.map(s,o=>r.jsx(ri,{present:n||a.open,children:r.jsx(Uf,{asChild:!0,container:i,children:o})}))})};vz.displayName=dE;var I0="DialogOverlay",xz=w.forwardRef((e,t)=>{const n=gz(I0,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Va(I0,e.__scopeDialog);return a.modal?r.jsx(ri,{present:s||a.open,children:r.jsx(hhe,{...i,ref:t})}):null});xz.displayName=I0;var dhe=Nc("DialogOverlay.RemoveScroll"),hhe=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(I0,n);return r.jsx(mv,{as:dhe,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(it.div,{"data-state":fE(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Gu="DialogContent",yz=w.forwardRef((e,t)=>{const n=gz(Gu,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Va(Gu,e.__scopeDialog);return r.jsx(ri,{present:s||a.open,children:a.modal?r.jsx(fhe,{...i,ref:t}):r.jsx(mhe,{...i,ref:t})})});yz.displayName=Gu;var fhe=w.forwardRef((e,t)=>{const n=Va(Gu,e.__scopeDialog),s=w.useRef(null),i=Xt(t,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return Cb(a)},[]),r.jsx(jz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,a=>a.preventDefault())})}),mhe=w.forwardRef((e,t)=>{const n=Va(Gu,e.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(jz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),jz=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Va(Gu,n),c=w.useRef(null),u=Xt(t,c);return Nb(),r.jsxs(r.Fragment,{children:[r.jsx(hv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(cd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":fE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(phe,{titleId:l.titleId}),r.jsx(vhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hE="DialogTitle",bz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(hE,n);return r.jsx(it.h2,{id:i.titleId,...s,ref:t})});bz.displayName=hE;var wz="DialogDescription",Nz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(wz,n);return r.jsx(it.p,{id:i.descriptionId,...s,ref:t})});Nz.displayName=wz;var Sz="DialogClose",Cz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(Sz,n);return r.jsx(it.button,{type:"button",...s,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});Cz.displayName=Sz;function fE(e){return e?"open":"closed"}var _z="DialogTitleWarning",[G6e,Pz]=Hee(_z,{contentName:Gu,titleName:hE,docsSlug:"dialog"}),phe=({titleId:e})=>{const t=Pz(_z),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ghe="DialogDescriptionWarning",vhe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pz(ghe).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Az=fz,xhe=pz,Ez=vz,mE=xz,pE=yz,Tz=bz,kz=Nz,yhe=Cz;const St=Az,Rc=xhe,jhe=Ez,Oz=w.forwardRef(({className:e,...t},n)=>r.jsx(mE,{ref:n,className:et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Oz.displayName=mE.displayName;const bt=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(jhe,{children:[r.jsx(Oz,{}),r.jsxs(pE,{ref:s,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(yhe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(fb,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bt.displayName=pE.displayName;const Ct=({className:e,...t})=>r.jsx("div",{className:et("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ct.displayName="DialogHeader";const _t=w.forwardRef(({className:e,...t},n)=>r.jsx(Tz,{ref:n,className:et("text-lg font-semibold leading-none tracking-tight",e),...t}));_t.displayName=Tz.displayName;const pn=w.forwardRef(({className:e,...t},n)=>r.jsx(kz,{ref:n,className:et("text-sm text-muted-foreground",e),...t}));pn.displayName=kz.displayName;const wt=w.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:et("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));wt.displayName="Textarea";function kI(e,[t,n]){return Math.min(n,Math.max(t,e))}function gE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bhe=[" ","Enter","ArrowUp","ArrowDown"],whe=[" ","Enter"],Ku="Select",[Rb,Lb,Nhe]=cb(Ku),[tm,K6e]=ni(Ku,[Nhe,kc]),Fb=kc(),[She,Lc]=tm(Ku),[Che,_he]=tm(Ku),Dz=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=e,v=Fb(t),[y,N]=w.useState(null),[j,b]=w.useState(null),[C,_]=w.useState(!1),A=wb(u),[P,E]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:Ku}),[D,I]=vo({prop:o,defaultProp:l,onChange:c,caller:Ku}),k=w.useRef(null),O=y?x||!!y.closest("form"):!0,[L,B]=w.useState(new Set),ee=Array.from(L).map(G=>G.props.value).join(";");return r.jsx(zA,{...v,children:r.jsxs(She,{required:g,scope:t,trigger:y,onTriggerChange:N,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:_,contentId:rs(),value:D,onValueChange:I,open:P,onOpenChange:E,dir:A,triggerPointerDownPosRef:k,disabled:m,children:[r.jsx(Rb.Provider,{scope:t,children:r.jsx(Che,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(G=>{B(J=>new Set(J).add(G))},[]),onNativeOptionRemove:w.useCallback(G=>{B(J=>{const q=new Set(J);return q.delete(G),q})},[]),children:n})}),O?r.jsxs(rV,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:D,onChange:G=>I(G.target.value),disabled:m,form:x,children:[D===void 0?r.jsx("option",{value:""}):null,Array.from(L)]},ee):null]})})};Dz.displayName=Ku;var Mz="SelectTrigger",Iz=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Fb(n),o=Lc(Mz,n),l=o.disabled||s,c=Xt(t,o.onTriggerChange),u=Lb(n),d=w.useRef("touch"),[f,m,g]=iV(v=>{const y=u().filter(b=>!b.disabled),N=y.find(b=>b.value===o.value),j=aV(y,v,N);j!==void 0&&o.onValueChange(j.value)}),x=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(dv,{asChild:!0,...a,children:r.jsx(it.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sV(o.value)?"":void 0,...i,ref:c,onClick:Ke(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:Ke(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:Ke(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&bhe.includes(v.key)&&(x(),v.preventDefault())})})})});Iz.displayName=Mz;var $z="SelectValue",Rz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=e,c=Lc($z,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Xt(t,c.onValueNodeChange);return Nr(()=>{u(d)},[u,d]),r.jsx(it.span,{...l,ref:f,style:{pointerEvents:"none"},children:sV(c.value)?r.jsx(r.Fragment,{children:o}):a})});Rz.displayName=$z;var Phe="SelectIcon",Lz=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(it.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});Lz.displayName=Phe;var Ahe="SelectPortal",Fz=e=>r.jsx(Uf,{asChild:!0,...e});Fz.displayName=Ahe;var Yu="SelectContent",Bz=w.forwardRef((e,t)=>{const n=Lc(Yu,e.__scopeSelect),[s,i]=w.useState();if(Nr(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?ld.createPortal(r.jsx(zz,{scope:e.__scopeSelect,children:r.jsx(Rb.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(Vz,{...e,ref:t})});Bz.displayName=Yu;var pa=10,[zz,Fc]=tm(Yu),Ehe="SelectContentImpl",The=Nc("SelectContent.RemoveScroll"),Vz=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y,...N}=e,j=Lc(Yu,n),[b,C]=w.useState(null),[_,A]=w.useState(null),P=Xt(t,we=>C(we)),[E,D]=w.useState(null),[I,k]=w.useState(null),O=Lb(n),[L,B]=w.useState(!1),ee=w.useRef(!1);w.useEffect(()=>{if(b)return Cb(b)},[b]),Nb();const G=w.useCallback(we=>{const[z,...Q]=O().map(M=>M.ref.current),[te]=Q.slice(-1),K=document.activeElement;for(const M of we)if(M===K||(M==null||M.scrollIntoView({block:"nearest"}),M===z&&_&&(_.scrollTop=0),M===te&&_&&(_.scrollTop=_.scrollHeight),M==null||M.focus(),document.activeElement!==K))return},[O,_]),J=w.useCallback(()=>G([E,b]),[G,E,b]);w.useEffect(()=>{L&&J()},[L,J]);const{onOpenChange:q,triggerPointerDownPosRef:$}=j;w.useEffect(()=>{if(b){let we={x:0,y:0};const z=te=>{var K,M;we={x:Math.abs(Math.round(te.pageX)-(((K=$.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(te.pageY)-(((M=$.current)==null?void 0:M.y)??0))}},Q=te=>{we.x<=10&&we.y<=10?te.preventDefault():b.contains(te.target)||q(!1),document.removeEventListener("pointermove",z),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",Q,{capture:!0})}}},[b,q,$]),w.useEffect(()=>{const we=()=>q(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[q]);const[oe,ge]=iV(we=>{const z=O().filter(K=>!K.disabled),Q=z.find(K=>K.ref.current===document.activeElement),te=aV(z,we,Q);te&&setTimeout(()=>te.ref.current.focus())}),re=w.useCallback((we,z,Q)=>{const te=!ee.current&&!Q;(j.value!==void 0&&j.value===z||te)&&(D(we),te&&(ee.current=!0))},[j.value]),Z=w.useCallback(()=>b==null?void 0:b.focus(),[b]),ne=w.useCallback((we,z,Q)=>{const te=!ee.current&&!Q;(j.value!==void 0&&j.value===z||te)&&k(we)},[j.value]),ve=s==="popper"?L2:Uz,je=ve===L2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(zz,{scope:n,content:b,viewport:_,onViewportChange:A,itemRefCallback:re,selectedItem:E,onItemLeave:Z,itemTextRefCallback:ne,focusSelectedItem:J,selectedItemText:I,position:s,isPositioned:L,searchRef:oe,children:r.jsx(mv,{as:The,allowPinchZoom:!0,children:r.jsx(hv,{asChild:!0,trapped:j.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:Ke(i,we=>{var z;(z=j.trigger)==null||z.focus({preventScroll:!0}),we.preventDefault()}),children:r.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:r.jsx(ve,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:we=>we.preventDefault(),...N,...je,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ke(N.onKeyDown,we=>{const z=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!z&&we.key.length===1&&ge(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let te=O().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(we.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const K=we.target,M=te.indexOf(K);te=te.slice(M+1)}setTimeout(()=>G(te)),we.preventDefault()}})})})})})})});Vz.displayName=Ehe;var khe="SelectItemAlignedPosition",Uz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=Lc(Yu,n),o=Fc(Yu,n),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Xt(t,P=>d(P)),m=Lb(n),g=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:j}=o,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&N){const P=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),I=N.getBoundingClientRect();if(a.dir!=="rtl"){const K=I.left-E.left,M=D.left-K,xe=P.left-M,Ne=P.width+xe,de=Math.max(Ne,E.width),Pe=window.innerWidth-pa,Ze=kI(M,[pa,Math.max(pa,Pe-de)]);l.style.minWidth=Ne+"px",l.style.left=Ze+"px"}else{const K=E.right-I.right,M=window.innerWidth-D.right-K,xe=window.innerWidth-P.right-M,Ne=P.width+xe,de=Math.max(Ne,E.width),Pe=window.innerWidth-pa,Ze=kI(M,[pa,Math.max(pa,Pe-de)]);l.style.minWidth=Ne+"px",l.style.right=Ze+"px"}const k=m(),O=window.innerHeight-pa*2,L=v.scrollHeight,B=window.getComputedStyle(u),ee=parseInt(B.borderTopWidth,10),G=parseInt(B.paddingTop,10),J=parseInt(B.borderBottomWidth,10),q=parseInt(B.paddingBottom,10),$=ee+G+L+q+J,oe=Math.min(y.offsetHeight*5,$),ge=window.getComputedStyle(v),re=parseInt(ge.paddingTop,10),Z=parseInt(ge.paddingBottom,10),ne=P.top+P.height/2-pa,ve=O-ne,je=y.offsetHeight/2,we=y.offsetTop+je,z=ee+G+we,Q=$-z;if(z<=ne){const K=k.length>0&&y===k[k.length-1].ref.current;l.style.bottom="0px";const M=u.clientHeight-v.offsetTop-v.offsetHeight,xe=Math.max(ve,je+(K?Z:0)+M+J),Ne=z+xe;l.style.height=Ne+"px"}else{const K=k.length>0&&y===k[0].ref.current;l.style.top="0px";const xe=Math.max(ne,ee+v.offsetTop+(K?re:0)+je)+Q;l.style.height=xe+"px",v.scrollTop=z-ne+v.offsetTop}l.style.margin=`${pa}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,N,a.dir,s]);Nr(()=>b(),[b]);const[C,_]=w.useState();Nr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const A=w.useCallback(P=>{P&&x.current===!0&&(b(),j==null||j(),x.current=!1)},[b,j]);return r.jsx(Dhe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:r.jsx(it.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Uz.displayName=khe;var Ohe="SelectPopperPosition",L2=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=pa,...a}=e,o=Fb(n);return r.jsx(vb,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});L2.displayName=Ohe;var[Dhe,vE]=tm(Yu,{}),F2="SelectViewport",qz=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Fc(F2,n),o=vE(F2,n),l=Xt(t,a.onViewportChange),c=w.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Rb.Slot,{scope:n,children:r.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-pa*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<x){const j=N+g,b=Math.min(x,j),C=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});qz.displayName=F2;var Wz="SelectGroup",[Mhe,Ihe]=tm(Wz),$he=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=rs();return r.jsx(Mhe,{scope:n,id:i,children:r.jsx(it.div,{role:"group","aria-labelledby":i,...s,ref:t})})});$he.displayName=Wz;var Hz="SelectLabel",Gz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Ihe(Hz,n);return r.jsx(it.div,{id:i.id,...s,ref:t})});Gz.displayName=Hz;var $0="SelectItem",[Rhe,Kz]=tm($0),Yz=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=Lc($0,n),c=Fc($0,n),u=l.value===s,[d,f]=w.useState(a??""),[m,g]=w.useState(!1),x=Xt(t,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,s,i)}),v=rs(),y=w.useRef("touch"),N=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Rhe,{scope:n,value:s,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(j=>{f(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:r.jsx(Rb.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(it.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Ke(o.onFocus,()=>g(!0)),onBlur:Ke(o.onBlur,()=>g(!1)),onClick:Ke(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:Ke(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:Ke(o.onPointerDown,j=>{y.current=j.pointerType}),onPointerMove:Ke(o.onPointerMove,j=>{var b;y.current=j.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(o.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ke(o.onKeyDown,j=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&j.key===" "||(whe.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});Yz.displayName=$0;var yp="SelectItemText",Qz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=Lc(yp,n),l=Fc(yp,n),c=Kz(yp,n),u=_he(yp,n),[d,f]=w.useState(null),m=Xt(t,N=>f(N),c.onItemTextChange,N=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,N,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=w.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Nr(()=>(v(x),()=>y(x)),[v,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(it.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ld.createPortal(a.children,o.valueNode):null]})});Qz.displayName=yp;var Xz="SelectItemIndicator",Jz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return Kz(Xz,n).isSelected?r.jsx(it.span,{"aria-hidden":!0,...s,ref:t}):null});Jz.displayName=Xz;var B2="SelectScrollUpButton",Zz=w.forwardRef((e,t)=>{const n=Fc(B2,e.__scopeSelect),s=vE(B2,e.__scopeSelect),[i,a]=w.useState(!1),o=Xt(t,s.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(tV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Zz.displayName=B2;var z2="SelectScrollDownButton",eV=w.forwardRef((e,t)=>{const n=Fc(z2,e.__scopeSelect),s=vE(z2,e.__scopeSelect),[i,a]=w.useState(!1),o=Xt(t,s.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(tV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eV.displayName=z2;var tV=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Fc("SelectScrollButton",n),o=w.useRef(null),l=Lb(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Nr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(it.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{c()})})}),Lhe="SelectSeparator",nV=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(it.div,{"aria-hidden":!0,...s,ref:t})});nV.displayName=Lhe;var V2="SelectArrow",Fhe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Fb(n),a=Lc(V2,n),o=Fc(V2,n);return a.open&&o.position==="popper"?r.jsx(xb,{...i,...s,ref:t}):null});Fhe.displayName=V2;var Bhe="SelectBubbleInput",rV=w.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=w.useRef(null),a=Xt(s,i),o=gE(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(it.select,{...n,style:{...k5,...n.style},ref:a,defaultValue:t})});rV.displayName=Bhe;function sV(e){return e===""||e===void 0}function iV(e){const t=$s(e),n=w.useRef(""),s=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function aV(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=zhe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function zhe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Vhe=Dz,oV=Iz,Uhe=Rz,qhe=Lz,Whe=Fz,lV=Bz,Hhe=qz,cV=Gz,uV=Yz,Ghe=Qz,Khe=Jz,dV=Zz,hV=eV,fV=nV;const $e=Vhe,Re=Uhe,Me=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(oV,{ref:s,className:et("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(qhe,{asChild:!0,children:r.jsx(hb,{className:"h-4 w-4 opacity-50"})})]}));Me.displayName=oV.displayName;const mV=w.forwardRef(({className:e,...t},n)=>r.jsx(dV,{ref:n,className:et("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Hte,{className:"h-4 w-4"})}));mV.displayName=dV.displayName;const pV=w.forwardRef(({className:e,...t},n)=>r.jsx(hV,{ref:n,className:et("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(hb,{className:"h-4 w-4"})}));pV.displayName=hV.displayName;const Ie=w.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(Whe,{children:r.jsxs(lV,{ref:i,className:et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(mV,{}),r.jsx(Hhe,{className:et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(pV,{})]})}));Ie.displayName=lV.displayName;const Yhe=w.forwardRef(({className:e,...t},n)=>r.jsx(cV,{ref:n,className:et("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Yhe.displayName=cV.displayName;const U=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(uV,{ref:s,className:et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Khe,{children:r.jsx(_A,{className:"h-4 w-4"})})}),r.jsx(Ghe,{children:t})]}));U.displayName=uV.displayName;const Qhe=w.forwardRef(({className:e,...t},n)=>r.jsx(fV,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",e),...t}));Qhe.displayName=fV.displayName;const Xhe=async()=>{const{data:e,error:t}=await qt.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},Jhe=async e=>{const{data:{user:t}}=await qt.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await qt.from("clients").insert({...e,user_id:t.id,city:e.city||"Rabat",country:e.country||"Maroc",client_type:e.client_type||"particulier"}).select().single();if(s)throw new Error(`Error creating client: ${s.message}`);return n},Zhe=async(e,t)=>{const{data:n,error:s}=await qt.from("clients").update(t).eq("id",e).select().single();if(s)throw new Error(`Error updating client: ${s.message}`);return n},efe=async()=>{const{data:e,error:t}=await qt.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},tfe=async e=>{var o,l,c;const{data:{user:t}}=await qt.auth.getUser();if(!t)throw new Error("User not authenticated");const n={...e};"microchip_number"in n&&!((o=n.microchip_number)!=null&&o.trim())&&delete n.microchip_number,"birth_date"in n&&!((l=n.birth_date)!=null&&l.trim())&&delete n.birth_date,"sterilization_date"in n&&!((c=n.sterilization_date)!=null&&c.trim())&&delete n.sterilization_date;const s=u=>{switch(u){case"healthy":return"vivant";case"urgent":return"décédé";case"treatment":return"perdu";default:return"vivant"}},{data:i,error:a}=await qt.from("animals").insert({...n,user_id:t.id,sterilized:n.sterilized||!1,status:s(n.status)}).select(`
      *,
      client:clients(*)
    `).single();if(a)throw new Error(`Error creating animal: ${a.message}`);return i},nfe=async(e,t)=>{var a,o,l;const n={...t};"microchip_number"in n&&!((a=n.microchip_number)!=null&&a.trim())&&(n.microchip_number=null),"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&(n.birth_date=null),"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&(n.sterilization_date=null);const{data:s,error:i}=await qt.from("animals").update(n).eq("id",e).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error updating animal: ${i.message}`);return s},rfe=async e=>{const{data:{user:t}}=await qt.auth.getUser();if(!t)throw new Error("User not authenticated");const{medications:n,...s}=e,{data:i,error:a}=await qt.from("prescriptions").insert({...s,veterinarian_id:s.veterinarian_id||t.id}).select().single();if(a)throw new Error(`Error creating prescription: ${a.message}`);if(n&&n.length>0){const c=n.map(d=>({...d,prescription_id:i.id})),{error:u}=await qt.from("prescription_medications").insert(c);if(u)throw new Error(`Error creating prescription medications: ${u.message}`)}const{data:o,error:l}=await qt.from("prescriptions").select(`
      *,
      animal:animals(*),
      client:clients(*),
      medications:prescription_medications(*)
    `).eq("id",i.id).single();if(l)throw new Error(`Error fetching complete prescription: ${l.message}`);return o},sfe=async()=>{const{data:e,error:t}=await qt.from("appointments").select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).order("appointment_date",{ascending:!0});if(t)throw new Error(`Error fetching appointments: ${t.message}`);return e||[]},ife=async e=>{const{data:{user:t}}=await qt.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await qt.from("appointments").insert({...e,veterinarian_id:e.veterinarian_id||t.id,duration_minutes:e.duration_minutes||30}).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(s)throw new Error(`Error creating appointment: ${s.message}`);return n},afe=async(e,t)=>{const{data:n,error:s}=await qt.from("appointments").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(s)throw new Error(`Error updating appointment: ${s.message}`);return n},ofe=async e=>{const{error:t}=await qt.from("appointments").delete().eq("id",e);if(t)throw new Error(`Error deleting appointment: ${t.message}`)},lfe=async()=>{const{data:e,error:t}=await qt.from("stock_items").select("*").eq("active",!0).order("name",{ascending:!0});if(t)throw new Error(`Error fetching stock items: ${t.message}`);return e||[]},Ca={all:["clients"],lists:()=>[...Ca.all,"list"],list:e=>[...Ca.lists(),{filters:e}],details:()=>[...Ca.all,"detail"],detail:e=>[...Ca.details(),e],search:e=>[...Ca.all,"search",e]},xi={all:["animals"],lists:()=>[...xi.all,"list"],list:e=>[...xi.lists(),{filters:e}],details:()=>[...xi.all,"detail"],detail:e=>[...xi.details(),e],byClient:e=>[...xi.all,"client",e],search:e=>[...xi.all,"search",e]},ps={all:["appointments"],lists:()=>[...ps.all,"list"],list:e=>[...ps.lists(),{filters:e}],details:()=>[...ps.all,"detail"],detail:e=>[...ps.details(),e],byAnimal:e=>[...ps.all,"animal",e],byClient:e=>[...ps.all,"client",e]},jv={all:["stats"],clients:()=>[...jv.all,"clients"]},xE={all:["userProfile"],profile:()=>[...xE.all,"profile"]},md=()=>gl({queryKey:Ca.lists(),queryFn:Xhe,staleTime:5*60*1e3}),cfe=()=>{const e=is();return xs({mutationFn:Jhe,onSuccess:t=>{e.invalidateQueries({queryKey:Ca.lists()}),e.setQueryData(Ca.detail(t.id),t),e.invalidateQueries({queryKey:jv.clients()})}})},ufe=()=>{const e=is();return xs({mutationFn:({id:t,data:n})=>Zhe(t,n),onSuccess:t=>{e.setQueryData(Ca.detail(t.id),t),e.invalidateQueries({queryKey:Ca.lists()})}})},pd=()=>gl({queryKey:xi.lists(),queryFn:efe,staleTime:5*60*1e3}),dfe=()=>{const e=is();return xs({mutationFn:tfe,onSuccess:t=>{e.invalidateQueries({queryKey:xi.lists()}),e.setQueryData(xi.detail(t.id),t),e.invalidateQueries({queryKey:xi.byClient(t.client_id)}),e.invalidateQueries({queryKey:jv.clients()})}})},hfe=()=>{const e=is();return xs({mutationFn:({id:t,data:n})=>nfe(t,n),onSuccess:t=>{e.setQueryData(xi.detail(t.id),t),e.invalidateQueries({queryKey:xi.lists()}),e.invalidateQueries({queryKey:xi.byClient(t.client_id)})}})},gV=()=>gl({queryKey:["consultations"],queryFn:async()=>{const{data:e,error:t}=await qt.from("consultations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("consultation_date",{ascending:!1});if(t)throw t;return e||[]}}),vV=()=>{const e=is();return xs({mutationFn:async t=>{const{data:{user:n}}=await qt.auth.getUser();if(!n)throw new Error("User not authenticated");const s={...t,veterinarian_id:n.id,consultation_date:t.consultation_date||new Date().toISOString(),status:"completed"},{data:i,error:a}=await qt.from("consultations").insert(s).select().single();if(a)throw a;return i},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},ffe=()=>{const e=is();return xs({mutationFn:async t=>{const{error:n}=await qt.from("consultations").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},mfe=()=>gl({queryKey:["vaccinations"],queryFn:async()=>{const{data:e,error:t}=await qt.from("vaccinations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("date_vaccination",{ascending:!1});if(t)throw t;return e||[]}}),pfe=()=>gl({queryKey:["client-stats"],queryFn:async()=>{var a,o,l,c;const[e,t]=await Promise.all([qt.from("clients").select("id, status"),qt.from("animals").select("id, status")]);if(e.error||t.error)throw new Error("Failed to fetch client stats");const n=((a=e.data)==null?void 0:a.filter(u=>u.status==="actif").length)||0;(o=e.data)!=null&&o.length;const s=((l=t.data)==null?void 0:l.length)||0,i=((c=t.data)==null?void 0:c.reduce((u,d)=>(u[d.status]=(u[d.status]||0)+1,u),{}))||{};return{totalClients:n,totalAnimals:s,animalsByStatus:i}},staleTime:5*60*1e3}),gfe=()=>{const e=is();return xs({mutationFn:rfe,onSuccess:()=>{e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},vfe=()=>gl({queryKey:["stock-items"],queryFn:lfe,staleTime:5*60*1e3}),xfe=()=>gl({queryKey:xE.profile(),queryFn:Ib,staleTime:5*60*1e3}),yfe=()=>{const e=is();return xs({mutationFn:t=>Vde(t),onSuccess:t=>{e.setQueryData(xE.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})},xV=()=>gl({queryKey:ps.lists(),queryFn:sfe,staleTime:2*60*1e3}),yV=()=>{const e=is();return xs({mutationFn:ife,onSuccess:t=>{e.invalidateQueries({queryKey:ps.lists()}),t.animal_id&&e.invalidateQueries({queryKey:ps.byAnimal(t.animal_id)}),t.client_id&&(e.invalidateQueries({queryKey:ps.byClient(t.client_id)}),e.invalidateQueries({queryKey:Ca.detail(t.client_id)})),e.invalidateQueries({queryKey:jv.clients()})}})},jfe=()=>{const e=is();return xs({mutationFn:({id:t,data:n})=>afe(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:ps.lists()}),e.setQueryData(ps.lists(),n=>n?n.map(s=>s.id===t.id?t:s):[]),t.animal_id&&e.invalidateQueries({queryKey:ps.byAnimal(t.animal_id)}),t.client_id&&e.invalidateQueries({queryKey:ps.byClient(t.client_id)})}})},bfe=()=>{const e=is();return xs({mutationFn:ofe,onSuccess:(t,n)=>{e.setQueryData(ps.lists(),s=>s?s.filter(i=>i.id!==n):[]),e.invalidateQueries({queryKey:ps.lists()}),e.invalidateQueries({queryKey:jv.clients()})}})};function bv({open:e,onOpenChange:t}){const n=cfe(),{toast:s}=$t(),[i,a]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),o=u=>{const{id:d,value:f}=u.target;a(m=>({...m,[d]:f}))},l=(u,d)=>{a(f=>({...f,[u]:d}))},c=async u=>{u.preventDefault();try{await n.mutateAsync(i),s({title:"Client ajouté",description:`${i.first_name} ${i.last_name} a été ajouté et sauvegardé avec succès.`}),a({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),t(!1)}catch{s({title:"Erreur",description:"Une erreur s'est produite lors de l'ajout du client.",variant:"destructive"})}};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[500px]",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouveau Client"}),r.jsx(pn,{children:"Ajoutez un nouveau client à votre base de données."})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"first_name",children:"Prénom *"}),r.jsx(ie,{id:"first_name",value:i.first_name,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"last_name",children:"Nom *"}),r.jsx(ie,{id:"last_name",value:i.last_name,onChange:o,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:i.email||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(ie,{id:"phone",value:i.phone||"",onChange:o,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:i.address||"",onChange:o})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"city",children:"Ville"}),r.jsx(ie,{id:"city",value:i.city||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"postal_code",children:"Code postal"}),r.jsx(ie,{id:"postal_code",value:i.postal_code||"",onChange:o})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"mobile_phone",children:"Téléphone portable"}),r.jsx(ie,{id:"mobile_phone",value:i.mobile_phone||"",onChange:o,placeholder:"Numéro de téléphone portable"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"client_type",children:"Type de client"}),r.jsxs($e,{value:i.client_type,onValueChange:u=>l("client_type",u),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le type"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"particulier",children:"Particulier"}),r.jsx(U,{value:"eleveur",children:"Éleveur"}),r.jsx(U,{value:"ferme",children:"Ferme"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:i.notes||"",onChange:o,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",disabled:n.isPending,children:[n.isPending&&r.jsx(Ta,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajouter Client"]})]})]})]})})}const wfe=cv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...n}){return r.jsx("div",{className:et(wfe({variant:t}),e),...n})}const hy="vetpro-clinicSettings",jV={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},bV={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},wV={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},U2=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],fy={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:U2,farmManagement:jV,displayPreferences:bV,defaultConsultationPrice:150,scheduleSettings:wV},NV=w.createContext(void 0),Nfe=({children:e})=>{const[t,n]=w.useState(fy);w.useEffect(()=>{const i=localStorage.getItem(hy);if(i)try{const a=JSON.parse(i),o={...fy,...a,veterinarians:a.veterinarians&&a.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?U2:a.veterinarians||U2,farmManagement:{...jV,...a.farmManagement},displayPreferences:{...bV,...a.displayPreferences},scheduleSettings:{...wV,...a.scheduleSettings}};n(o),localStorage.setItem(hy,JSON.stringify(o))}catch(a){console.error("Erreur lors du chargement des paramètres:",a),n(fy)}else localStorage.setItem(hy,JSON.stringify(fy))},[]);const s=i=>{n(i),localStorage.setItem(hy,JSON.stringify(i))};return r.jsx(NV.Provider,{value:{settings:t,updateSettings:s},children:e})},Zt=()=>{const e=w.useContext(NV);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};var Bb="Checkbox",[Sfe,Y6e]=ni(Bb),[Cfe,yE]=Sfe(Bb);function _fe(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,g]=vo({prop:n,defaultProp:i??!1,onChange:c,caller:Bb}),[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useRef(!1),b=x?!!o||!!x.closest("form"):!0,C={checked:m,disabled:a,setChecked:g,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:yc(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:N};return r.jsx(Cfe,{scope:t,...C,children:Pfe(f)?f(C):s})}var SV="CheckboxTrigger",CV=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:x}=yE(SV,e),v=Xt(i,d),y=w.useRef(c);return w.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const j=()=>f(y.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[a,f]),r.jsx(it.button,{type:"button",role:"checkbox","aria-checked":yc(c)?"mixed":c,"aria-required":u,"data-state":TV(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:Ke(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ke(n,N=>{f(j=>yc(j)?!0:!j),x&&g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})})});CV.displayName=SV;var jE=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return r.jsx(_fe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(CV,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(EV,{__scopeCheckbox:n})]})})});jE.displayName=Bb;var _V="CheckboxIndicator",PV=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=yE(_V,n);return r.jsx(ri,{present:s||yc(a.checked)||a.checked===!0,children:r.jsx(it.span,{"data-state":TV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});PV.displayName=_V;var AV="CheckboxBubbleInput",EV=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:g}=yE(AV,e),x=Xt(n,g),v=gE(a),y=LA(s);w.useEffect(()=>{const j=m;if(!j)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,A=!i.current;if(v!==a&&_){const P=new Event("click",{bubbles:A});j.indeterminate=yc(a),_.call(j,yc(a)?!1:a),j.dispatchEvent(P)}},[m,v,a,i]);const N=w.useRef(yc(a)?!1:a);return r.jsx(it.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});EV.displayName=AV;function Pfe(e){return typeof e=="function"}function yc(e){return e==="indeterminate"}function TV(e){return yc(e)?"indeterminate":e?"checked":"unchecked"}const Xi=w.forwardRef(({className:e,...t},n)=>r.jsx(jE,{ref:n,className:et("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(PV,{className:et("flex items-center justify-center text-current"),children:r.jsx(_A,{className:"h-4 w-4"})})}));Xi.displayName=jE.displayName;function wv({open:e,onOpenChange:t}){const{data:n=[]}=md(),{data:s=[]}=pd(),i=dfe(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:g}))},f=async m=>{if(m.preventDefault(),!n.find(x=>x.id===l.ownerId)){o({title:"Erreur",description:"Veuillez sélectionner un propriétaire valide."});return}if(l.microchip&&l.microchip.trim()&&s.find(v=>v.microchip_number===l.microchip.trim())){o({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{const x={client_id:l.ownerId,name:l.name,species:l.type,breed:l.breed||void 0,color:l.color||void 0,sex:l.gender==="male"?"Mâle":l.gender==="female"?"Femelle":"Inconnu",weight:l.weight?Number(l.weight):void 0,birth_date:l.birthDate||void 0,...l.microchip&&l.microchip.trim()?{microchip_number:l.microchip.trim()}:{},notes:l.medicalNotes||void 0,photo_url:l.photo||void 0,status:l.status};await i.mutateAsync(x),o({title:"Animal ajouté",description:`${l.name} a été ajouté et sauvegardé avec succès.`}),c({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{o({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvel Animal"}),r.jsx(pn,{children:"Ajoutez un nouvel animal à votre base de données."})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(ie,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Type d'animal *"}),r.jsxs($e,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le type"})}),r.jsx(Ie,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(U,{value:x,children:x},g):null}).filter(Boolean):r.jsxs(r.Fragment,{children:[r.jsx(U,{value:"Chien",children:"Chien"}),r.jsx(U,{value:"Chat",children:"Chat"}),r.jsx(U,{value:"Oiseau",children:"Oiseau"}),r.jsx(U,{value:"Lapin",children:"Lapin"}),r.jsx(U,{value:"Furet",children:"Furet"}),r.jsx(U,{value:"Souris",children:"Souris"}),r.jsx(U,{value:"Hamster",children:"Hamster"}),r.jsx(U,{value:"Reptile",children:"Reptile"}),r.jsx(U,{value:"Autre",children:"Autre"})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Sexe"}),r.jsxs($e,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le sexe"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"male",children:"Mâle"}),r.jsx(U,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(ie,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Propriétaire *"}),n.length===0?r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):r.jsxs($e,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(Ie,{children:n.map(m=>r.jsxs(U,{value:m.id.toString(),children:[m.first_name," ",m.last_name," - ",m.email]},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(ie,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(wt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"État de santé"}),r.jsxs($e,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner l'état de santé"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"healthy",children:"En bonne santé"}),r.jsx(U,{value:"treatment",children:"En traitement"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(F,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(wt,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(wt,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Photo de l'animal"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,photo:x.result})),x.readAsDataURL(g)}}),l.photo&&r.jsx("img",{src:l.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Ajouter Animal"})]})]})]})})}function bE(e,t,n){const s=[],{openingTime:i,closingTime:a,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=my(i),d=my(a),f=l?my(l):null,m=c?my(c):null;for(let g=u;g<d;g+=o){const x=Efe(g),v=f&&m&&g>=f&&g<m,y=n.some(N=>N.date===e&&N.time===x);s.push({time:x,isAvailable:!y&&!v,isLunchBreak:!!v})}return s}function Afe(e,t,n,s){const a=bE(e,n,s).find(o=>o.time===t);return a?a.isAvailable:!1}function my(e){const[t,n]=e.split(":").map(Number);return t*60+n}function Efe(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function Tfe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function kfe(e,t){const n=Tfe(e).toLowerCase();return t.workingDays.includes(n)}function kV({open:e,onOpenChange:t,prefillClientId:n,prefillPetId:s,prefillType:i,prefillReason:a,originalVaccinationId:o}){var ee,G;const{data:l=[]}=md(),{data:c=[]}=pd(),{data:u=[]}=xV();yV();const{settings:d}=Zt(),{toast:f}=$t(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState([]),[j,b]=w.useState({clientId:"",petId:"",date:"",time:"",type:"",duration:30,reason:"",notes:""}),[C,_]=w.useState([]),[A,P]=w.useState([]);w.useEffect(()=>{e&&(b({clientId:n||"",petId:s||"",date:"",time:"",type:i||"",duration:30,reason:a||"",notes:""}),_([]),P([]))},[e,n,s,i,a]);const E=J=>c.filter(q=>q.client_id===J);w.useEffect(()=>{if(e&&n&&s){const J=E(n);_(J),J.find(q=>q.id===s)?b(q=>({...q,petId:s})):b(q=>({...q,petId:""}))}},[e,n,s,c]),w.useEffect(()=>{if(j.clientId){const J=E(j.clientId);_(J),(!s||!J.find(q=>q.id===j.petId))&&b(q=>({...q,petId:""}))}else _([])},[j.clientId,c,s]),w.useEffect(()=>{if(j.clientId>0){const J=getPetsByOwnerId(j.clientId);_(J),(!s||!J.find(q=>q.id===s))&&b(q=>({...q,petId:0}))}else _([])},[j.clientId,getPetsByOwnerId,s]),w.useEffect(()=>{if(j.date){const J=bE(j.date,d.scheduleSettings,u);N(J),j.time&&!Afe(j.date,j.time,d.scheduleSettings,u)&&b(q=>({...q,time:""}))}else N([])},[j.date,d.scheduleSettings,u]),w.useEffect(()=>{j.date&&j.time&&j.duration&&D()},[j.date,j.time,j.duration]);const D=()=>{const J=[],q=new Date(`${j.date}T${j.time}`),$=new Date(q.getTime()+j.duration*6e4),oe=q.getHours(),ge=$.getHours();(oe<8||ge>18)&&J.push("Le rendez-vous doit être entre 8h00 et 18h00");const re=q.getDay();(re===0||re===6)&&J.push("Pas de rendez-vous le weekend"),P(J)},I=J=>{b(q=>({...q,[J.target.id]:J.target.value}))},k=(J,q)=>{b($=>({...$,[J]:J==="clientId"||J==="petId"||J==="duration"?parseInt(q):q}))},O=J=>{if(J.preventDefault(),A.length>0){f({title:"Conflits détectés",description:A.join(", "),variant:"destructive"});return}if(!j.clientId||!j.petId||!j.date||!j.time||!j.type){f({title:"Informations manquantes",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const q=l.find(oe=>oe.id===j.clientId),$=pets.find(oe=>oe.id===j.petId);if(!q||!$){f({title:"Erreur",description:"Client ou animal non trouvé.",variant:"destructive"});return}addAppointment({clientId:j.clientId,clientName:q.name,petId:j.petId,petName:$.name,date:j.date,time:j.time,type:j.type,duration:j.duration,reason:j.reason,notes:j.notes,status:"scheduled",reminderSent:!1}),i==="vaccination"&&o&&(createVaccinationReminder(o,j.date,j.time),f({title:"Rappel enregistré",description:"Le rappel de vaccination a été ajouté."})),f({title:"Rendez-vous planifié",description:`RDV pour ${$.name} (${q.name}) prévu le ${j.date} à ${j.time}.`}),t(!1)},L=()=>new Date().toISOString().split("T")[0],B=J=>({consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"})[J]||J;return r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(pn,{children:"Planifiez un nouveau rendez-vous pour un client et son animal."})]}),r.jsxs("form",{onSubmit:O,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Client *"}),l.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible."}),r.jsxs(V,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>g(!0),children:[r.jsx(ft,{className:"h-3 w-3"}),"Ajouter Client"]})]}):r.jsxs($e,{value:j.clientId.toString(),onValueChange:J=>k("clientId",J),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le client"})}),r.jsx(Ie,{children:l.map(J=>r.jsx(U,{value:J.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-3 w-3"}),J.name]})},J.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Animal *"}),j.clientId===0?r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:r.jsx("p",{className:"text-gray-600 text-sm",children:"Sélectionnez d'abord un client"})}):C.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun animal pour ce client."}),r.jsxs(V,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>v(!0),children:[r.jsx(ft,{className:"h-3 w-3"}),"Ajouter Animal"]})]}):r.jsxs($e,{value:j.petId.toString(),onValueChange:J=>k("petId",J),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner l'animal"})}),r.jsx(Ie,{children:C.map(J=>r.jsx(U,{value:J.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-3 w-3"}),J.name," (",J.type,")"]})},J.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:j.date,onChange:I,min:L(),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"time",children:"Heure *"}),j.date?r.jsxs("div",{className:"space-y-2",children:[r.jsxs($e,{value:j.time,onValueChange:J=>b(q=>({...q,time:J})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un créneau"})}),r.jsx(Ie,{className:"max-h-60",children:y.map(J=>r.jsx(U,{value:J.time,disabled:!J.isAvailable,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:J.time}),J.isLunchBreak&&r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Pause"}),!J.isAvailable&&r.jsx(Le,{variant:"destructive",className:"text-xs",children:"Occupé"})]})},J.time))})]}),y.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun créneau disponible pour cette date"})]}):r.jsx(ie,{id:"time",type:"time",value:j.time,onChange:I,disabled:!0,placeholder:"Sélectionnez d'abord une date"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Type de consultation *"}),r.jsxs($e,{value:j.type,onValueChange:J=>k("type",J),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Type de RDV"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"consultation",children:"Consultation générale"}),r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"chirurgie",children:"Chirurgie"}),r.jsx(U,{value:"urgence",children:"Urgence"}),r.jsx(U,{value:"controle",children:"Contrôle post-opératoire"}),r.jsx(U,{value:"sterilisation",children:"Stérilisation"}),r.jsx(U,{value:"dentaire",children:"Soins dentaires"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Durée (minutes)"}),r.jsxs($e,{value:j.duration.toString(),onValueChange:J=>k("duration",J),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"15",children:"15 minutes"}),r.jsx(U,{value:"30",children:"30 minutes"}),r.jsx(U,{value:"45",children:"45 minutes"}),r.jsx(U,{value:"60",children:"1 heure"}),r.jsx(U,{value:"90",children:"1h30"}),r.jsx(U,{value:"120",children:"2 heures"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"reason",children:"Motif de consultation"}),r.jsx(ie,{id:"reason",value:j.reason,onChange:I,placeholder:"ex: Vaccination annuelle, boiterie, contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:j.notes,onChange:I,placeholder:"Instructions spéciales, préparation nécessaire..."})]}),A.length>0&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(kr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Conflits détectés :"})]}),r.jsx("ul",{className:"mt-2 text-sm text-red-700",children:A.map((J,q)=>r.jsxs("li",{children:["• ",J]},q))})]}),j.clientId&&j.petId&&j.date&&j.time&&j.type&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Résumé du rendez-vous :"}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Client :"})," ",(ee=l.find(J=>J.id===j.clientId))==null?void 0:ee.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animal :"})," ",(G=pets.find(J=>J.id===j.petId))==null?void 0:G.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",new Date(j.date).toLocaleDateString("fr-FR")]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Heure :"})," ",j.time]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type :"})," ",B(j.type)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Durée :"})," ",j.duration," minutes"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:A.length>0,children:"Planifier RDV"})]})]})]})}),r.jsx(bv,{open:m,onOpenChange:g}),r.jsx(wv,{open:x,onOpenChange:v})]})}function nm({open:e,onOpenChange:t}){const{data:n=[],isLoading:s}=md(),{data:i=[],isLoading:a}=pd(),o=vV(),{toast:l}=$t(),{settings:c}=Zt(),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState({clientId:"",clientName:"",animalId:"",animalName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]}),v=i.filter(C=>C.client_id===g.clientId),y=new Date().toISOString().split("T")[0];w.useEffect(()=>{c.defaultConsultationPrice&&!g.cost&&x(C=>({...C,cost:c.defaultConsultationPrice.toString()}))},[c.defaultConsultationPrice,g.cost]);const N=C=>{x(_=>({..._,[C.target.id]:C.target.value}))},j=(C,_)=>{if(C==="clientId"){const A=n.find(P=>P.id===_);x(P=>({...P,clientId:_,clientName:A?`${A.first_name} ${A.last_name}`:"",animalId:"",animalName:""}))}else if(C==="animalId"){const A=i.find(P=>P.id===_);x(P=>({...P,animalId:_,animalName:(A==null?void 0:A.name)||""}))}else x(A=>({...A,[C]:_}))},b=async C=>{if(C.preventDefault(),!g.clientId||!g.animalId){l({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}try{const _={client_id:g.clientId,animal_id:g.animalId,consultation_type:"routine",consultation_date:g.date||y,weight:g.weight?Math.min(parseFloat(g.weight),999.9):void 0,temperature:g.temperature?Math.min(parseFloat(g.temperature),99.9):void 0,symptoms:g.symptoms,diagnosis:g.diagnosis,treatment:g.treatment,follow_up_notes:g.followUp,notes:g.notes};await o.mutateAsync(_),l({title:"Consultation enregistrée",description:`Consultation pour ${g.animalName} (${g.clientName}) a été enregistrée avec succès.`}),x({clientId:"",clientName:"",animalId:"",animalName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]}),t(!1)}catch{l({title:"Erreur",description:"Impossible d'enregistrer la consultation. Veuillez réessayer.",variant:"destructive"})}};return w.useEffect(()=>{e&&x({clientId:"",clientName:"",animalId:"",animalName:"",date:y,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:c.defaultConsultationPrice.toString(),notes:"",photos:[]})},[e,y]),r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Consultation"}),r.jsx(pn,{children:"Enregistrez une nouvelle consultation vétérinaire."})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Client *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{value:g.clientId.toString(),onValueChange:C=>j("clientId",C),children:[r.jsx(Me,{className:"flex-1",children:r.jsx(Re,{placeholder:"Sélectionner le client"})}),r.jsx(Ie,{children:n.map(C=>r.jsxs(U,{value:C.id,children:[C.first_name," ",C.last_name]},C.id))})]}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>d(!0),className:"px-2",children:r.jsx(ft,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Animal *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($e,{value:g.animalId,onValueChange:C=>j("animalId",C),disabled:!g.clientId,children:[r.jsx(Me,{className:"flex-1",children:r.jsx(Re,{placeholder:g.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(Ie,{children:v.map(C=>r.jsxs(U,{value:C.id,children:[C.name," (",C.species,")"]},C.id))})]}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>m(!0),className:"px-2",disabled:!g.clientId,children:r.jsx(ft,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:g.date||y,onChange:N,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",min:"0",max:"999.9",value:g.weight,onChange:N,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(ie,{id:"temperature",type:"number",step:"0.1",min:"0",max:"99.9",value:g.temperature,onChange:N,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(wt,{id:"symptoms",value:g.symptoms,onChange:N,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(wt,{id:"diagnosis",value:g.diagnosis,onChange:N,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(wt,{id:"treatment",value:g.treatment,onChange:N,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(ie,{id:"followUp",value:g.followUp,onChange:N,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"cost",children:["Coût (",c.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",step:"0.01",value:g.cost,onChange:N,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(wt,{id:"notes",value:g.notes,onChange:N,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(F,{children:"Photos de la consultation"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async C=>{const _=Array.from(C.target.files||[]),A=await Promise.all(_.map(P=>new Promise((E,D)=>{const I=new FileReader;I.onload=()=>E(I.result),I.onerror=()=>D(),I.readAsDataURL(P)})));x(P=>({...P,photos:[...P.photos,...A]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),g.photos.length>0&&r.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:g.photos.map((C,_)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:C,alt:`photo-${_}`,className:"h-24 w-24 object-cover rounded"}),r.jsx("button",{type:"button",onClick:()=>x(A=>({...A,photos:A.photos.filter((P,E)=>E!==_)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},_))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:!g.animalId||o.isPending,children:o.isPending?"Enregistrement...":"Enregistrer Consultation"})]})]})]})}),r.jsx(bv,{open:u,onOpenChange:d}),r.jsx(wv,{open:f,onOpenChange:m})]})}const Ofe=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:s}=$c();return!s||!t.includes(s.profile.role)?r.jsx(r.Fragment,{children:n}):r.jsx(r.Fragment,{children:e})},q2=({children:e,fallback:t=null})=>r.jsx(Ofe,{allowedRoles:["admin"],fallback:t,children:e});function Dfe(){const{clients:e,pets:t,consultations:n,vaccinations:s,antiparasitics:i,generateAccountingSummary:a}=Pt(),{settings:o}=Zt(),l=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),c=l.length===1?`Bienvenue ${l[0].title} ${l[0].name}`:`Bienvenue à ${o.clinicName}`,[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(!1),N=e.length,j=t.length,b=s.length,C=i.length,_=new Date().toISOString().split("T")[0],A=n.filter(O=>O.date===_).length,P=new Date().getMonth(),E=new Date().getFullYear(),D=new Date(E,P,1).toISOString().split("T")[0],I=new Date(E,P+1,0).toISOString().split("T")[0],k=a(`${E}-${String(P+1).padStart(2,"0")}`,D,I);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[o.logo&&r.jsx("img",{src:o.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vétérinaire Complète"})]}),r.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[c,", ",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Gérez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vétérinaire optimisée en un seul endroit."}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsxs(V,{size:"lg",className:"gap-2 medical-glow",onClick:()=>d(!0),children:[r.jsx(Ia,{className:"h-5 w-5"}),"Nouveau Client",r.jsx(KC,{className:"h-4 w-4"})]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>x(!0),children:[r.jsx(Ut,{className:"h-5 w-5"}),"Nouvel Animal"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>m(!0),children:[r.jsx(At,{className:"h-5 w-5"}),"Planifier RDV"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>y(!0),children:[r.jsx(br,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),r.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:N}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-secondary",children:j}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-accent",children:A}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:C}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),r.jsx(q2,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[k.totalRevenue.toFixed(0)," ",o.currency||"€"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:dz,alt:"Vétérinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),r.jsx(bv,{open:u,onOpenChange:d}),r.jsx(kV,{open:f,onOpenChange:m}),r.jsx(wv,{open:g,onOpenChange:x}),r.jsx(nm,{open:v,onOpenChange:y})]})}function Mfe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,vaccinations:o,antiparasitics:l,stockItems:c,stockMovements:u,accountingEntries:d,getUpcomingAppointments:f,getOverdueAppointments:m,generateAccountingSummary:g}=Pt(),{settings:x}=Zt(),v=e.length,y=t.length;n.length,s.length,i.length;const N=a.length,j=o.length,b=l.length,C=c.length,_=new Date().getMonth(),A=new Date().getFullYear(),P=n.filter(z=>{const Q=new Date(z.date);return Q.getMonth()===_&&Q.getFullYear()===A}).length,E=o.filter(z=>{const Q=new Date(z.dateGiven);return Q.getMonth()===_&&Q.getFullYear()===A}).length,D=l.filter(z=>{const Q=new Date(z.dateGiven);return Q.getMonth()===_&&Q.getFullYear()===A}).length,I=new Date().toISOString().split("T")[0],k=n.filter(z=>z.date===I).length,O=s.filter(z=>z.date===I&&z.status!=="cancelled"&&z.status!=="completed").length,L=f();m();const B=c.filter(z=>z.currentStock<=z.minimumStock).length,ee=c.filter(z=>z.currentStock===0).length;c.reduce((z,Q)=>z+Q.currentStock*Q.purchasePrice,0);const G=new Date(A,_,1).toISOString().split("T")[0],J=new Date(A,_+1,0).toISOString().split("T")[0],q=g(`${A}-${String(_+1).padStart(2,"0")}`,G,J),$=q.totalRevenue;q.totalExpenses;const oe=q.netIncome,ge=(z,Q)=>{if(Q===0)return z>0?"+100%":"0%";const te=(z-Q)/Q*100;return te>=0?`+${Math.round(te)}%`:`${Math.round(te)}%`},re=_===0?11:_-1,Z=_===0?A-1:A,ne=n.filter(z=>{const Q=new Date(z.date);return Q.getMonth()===re&&Q.getFullYear()===Z}).length,ve=e.filter(z=>{const Q=new Date(z.lastVisit);return Q.getMonth()===re&&Q.getFullYear()===Z}).length,je=t.filter(z=>{if(!z.lastVisit)return!1;const Q=new Date(z.lastVisit);return Q.getMonth()===re&&Q.getFullYear()===Z}).length;s.filter(z=>{const Q=new Date(z.date);return Q.getMonth()===re&&Q.getFullYear()===Z}).length;const we=[{title:"Clients Total",value:v.toString(),change:ge(v,ve),icon:Ia,color:"text-blue-600",bgColor:"bg-blue-50",description:`${v>0?Math.round(v/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:y.toString(),change:ge(y,je),icon:Ut,color:"text-red-600",bgColor:"bg-red-50",description:`${y>0?Math.round(y/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:O.toString(),change:O>0?"+"+Math.min(20,Math.floor(O*.3))+"%":"0%",icon:At,color:"text-purple-600",bgColor:"bg-purple-50",description:`${L.length} à venir cette semaine`},{title:"Consultations",value:P.toString(),change:ge(P,ne),icon:br,color:"text-green-600",bgColor:"bg-green-50",description:`${k} aujourd'hui`},{title:"Revenus Réels",value:`${$.toFixed(0)} ${x.currency||"€"}`,change:$>0?"+"+Math.round($/1e3*10)+"%":"0%",icon:qf,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bénéfice: ${oe.toFixed(0)} ${x.currency||"€"}`},{title:"Activité Ferme",value:N.toString(),change:N>0?"+"+Math.min(15,Math.floor(N*.2))+"%":"0%",icon:Ma,color:"text-orange-600",bgColor:"bg-orange-50",description:`${N} exploitations actives`},{title:"Vaccinations",value:E.toString(),change:E>0?"+"+Math.min(25,Math.floor(E*.3))+"%":"0%",icon:ks,color:"text-blue-600",bgColor:"bg-blue-50",description:`${j} total ce mois`},{title:"Antiparasitaires",value:D.toString(),change:D>0?"+"+Math.min(20,Math.floor(D*.25))+"%":"0%",icon:wi,color:"text-purple-600",bgColor:"bg-purple-50",description:`${b} total ce mois`},{title:"Stock",value:C.toString(),change:B>0?"-"+Math.min(15,Math.floor(B*.2))+"%":"0%",icon:B>0?Wn:Kn,color:B>0?"text-red-600":"text-green-600",bgColor:B>0?"bg-red-50":"bg-green-50",description:`${B} en rupture, ${ee} épuisés`}];return r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:we.map(z=>r.jsxs(ue,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium text-muted-foreground",children:z.title}),r.jsx("div",{className:`p-2 rounded-lg ${z.bgColor}`,children:r.jsx(z.icon,{className:`h-4 w-4 ${z.color}`})})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:z.value}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.jsx("span",{className:"text-secondary font-medium",children:z.change})," vs mois dernier"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:z.description})]})]},z.title))})}function Ife({open:e,onOpenChange:t,client:n,onEdit:s}){return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[600px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Profil Client"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-20 w-20",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(i=>i[0]).join("")})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3"}),n.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Adresse"}),r.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[r.jsx(ud,{className:"h-4 w-4 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Ut,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?r.jsx("div",{className:"space-y-2",children:n.pets.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:i.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.type," • ",i.breed]})]}),r.jsx(Le,{variant:"outline",children:i.status==="healthy"?"En bonne santé":i.status==="treatment"?"En traitement":"Urgent"})]},a))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistré"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total visites:"}),r.jsx("p",{children:n.totalVisits})]})]}),n.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes"}),r.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:s,className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function $fe({open:e,onOpenChange:t,client:n}){const{updateClient:s}=Pt(),{toast:i}=$t(),[a,o]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});w.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(s(n.id,a),i({title:"Client modifié",description:`Les informations de ${a.firstName} ${a.lastName} ont été mises à jour.`}),t(!1))};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier Client"})}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"firstName",children:"Prénom *"}),r.jsx(ie,{id:"firstName",value:a.firstName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"lastName",children:"Nom *"}),r.jsx(ie,{id:"lastName",value:a.lastName,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:a.email,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone *"}),r.jsx(ie,{id:"phone",value:a.phone,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:a.address,onChange:l})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"city",children:"Ville"}),r.jsx(ie,{id:"city",value:a.city,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"postalCode",children:"Code postal"}),r.jsx(ie,{id:"postalCode",value:a.postalCode,onChange:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"idNumber",children:"N° pièce d'identité"}),r.jsx(ie,{id:"idNumber",value:a.idNumber,onChange:l,placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:a.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function Rfe(){const{clients:e,pets:t,consultations:n,appointments:s}=Pt();Zt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((P,E)=>new Date(E.lastVisit).getTime()-new Date(P.lastVisit).getTime()).slice(0,5),x=e.length,v=e.filter(P=>{const E=new Date(P.lastVisit),D=new Date;return D.setDate(D.getDate()-30),E>=D}).length,y=e.filter(P=>{const E=new Date(P.lastVisit),D=new Date().getMonth(),I=new Date().getFullYear();return E.getMonth()===D&&E.getFullYear()===I}).length,N=x>0?(t.length/x).toFixed(1):"0",j=P=>{f(P),l(!0)},b=P=>{f(P),u(!0)},C=()=>{l(!1),u(!0)},_=P=>{const E=new Date(P),I=Math.abs(new Date().getTime()-E.getTime()),k=Math.ceil(I/(1e3*60*60*24));return k===0?"Aujourd'hui":k===1?"Hier":k<7?`Il y a ${k} jours`:k<30?`Il y a ${Math.floor(k/7)} semaine${Math.floor(k/7)>1?"s":""}`:`Il y a ${Math.floor(k/30)} mois`},A=P=>{const E=t.filter(k=>k.ownerId===P.id),D=n.filter(k=>k.clientId===P.id),I=s.filter(k=>k.clientId===P.id);return{pets:E.length,consultations:D.length,appointments:I.length,lastActivity:D.length>0?Math.max(...D.map(k=>new Date(k.date).getTime())):new Date(P.lastVisit).getTime()}};return r.jsxs(r.Fragment,{children:[r.jsxs(ue,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ke,{className:"text-lg font-semibold",children:"Clients Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ia,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," actifs"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",y," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rn,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",N," animaux"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Client"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ia,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun client enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier client"})]}):g.map(P=>{const E=A(P);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{children:r.jsx(Kr,{className:"bg-primary text-primary-foreground",children:P.name.split(" ").map(D=>D[0]).join("")})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium",children:P.name}),r.jsxs(Le,{variant:"outline",className:"text-xs",children:[E.pets," animal",E.pets>1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3"}),P.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),P.phone]}),P.city&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ud,{className:"h-3 w-3"}),P.city]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Dernière visite: ",_(P.lastVisit)]}),r.jsxs("span",{children:["Total visites: ",P.totalVisits]}),r.jsxs("span",{children:["Consultations: ",E.consultations]}),r.jsxs("span",{children:["RDV: ",E.appointments]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(P),children:[r.jsx($r,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>b(P),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]},P.id)})})]}),r.jsx(bv,{open:i,onOpenChange:a}),r.jsx(Ife,{open:o,onOpenChange:l,client:d,onEdit:C}),r.jsx($fe,{open:c,onOpenChange:u,client:d})]})}function OV({open:e,onOpenChange:t,pet:n,onEdit:s,onShowDossier:i}){const{updatePet:a}=Pt(),[o,l]=w.useState(null);w.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=w.useRef(null),u=d=>{var m;const f=(m=d.target.files)==null?void 0:m[0];if(f){const g=new FileReader;g.onload=x=>{var y;const v=(y=x.target)==null?void 0:y.result;l(v),a(n.id,{photo:v})},g.readAsDataURL(f)}};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Profil Animal"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Gr,{className:"h-24 w-24",children:o?r.jsx(ul,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Ut,{className:"h-12 w-12"})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[r.jsx(rf,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&r.jsx(V,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),a(n.id,{photo:void 0})},children:"Supprimer photo"}),r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsx(Le,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"}),r.jsx("p",{className:"text-muted-foreground",children:n.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"}),r.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spécifiée"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"}),r.jsx("p",{className:"text-muted-foreground",children:n.birthDate?r.jsxs(r.Fragment,{children:[af(n.birthDate),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:["Né(e) le ",ho(n.birthDate)]})]}):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spécifié"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"}),r.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spécifiée"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"}),r.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Puce électronique:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,f)=>r.jsx(Le,{variant:"outline",children:d},f))})]}),n.medicalNotes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes médicales"}),r.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),r.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:i,className:"gap-2",children:[r.jsx(ur,{className:"h-4 w-4"}),"Voir Dossier Médical"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:s,className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}function Lfe({open:e,onOpenChange:t,pet:n}){const{updatePet:s,clients:i}=Pt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});w.useEffect(()=>{n&&c({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:m==="ownerId"?parseInt(g):g}))},f=m=>{if(m.preventDefault(),!n)return;const g=i.find(x=>x.id===l.ownerId);s(n.id,{...l,owner:(g==null?void 0:g.name)||n.owner}),o({title:"Animal modifié",description:`Les informations de ${l.name} ont été mises à jour.`}),t(!1)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier Animal"})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(ie,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Type d'animal *"}),r.jsxs($e,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsx(Ie,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(U,{value:x,children:x},g):null}).filter(Boolean):r.jsx(U,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Sexe"}),r.jsxs($e,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le sexe"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"male",children:"Mâle"}),r.jsx(U,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(ie,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Propriétaire *"}),r.jsxs($e,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsx(Ie,{children:i.map(m=>r.jsx(U,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Statut de santé"}),r.jsxs($e,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"healthy",children:"En bonne santé"}),r.jsx(U,{value:"treatment",children:"En traitement"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"microchip",children:"Numéro de puce électronique"}),r.jsx(ie,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"medicalNotes",children:"Notes médicales"}),r.jsx(wt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions médicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(F,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numéro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'éleveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:l.fatherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree du père",value:l.fatherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race du père",value:l.fatherBreed,onChange:u}),r.jsx(wt,{placeholder:"Titres du père",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:l.motherName,onChange:u}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:l.motherPedigree,onChange:u}),r.jsx(ie,{placeholder:"Race de la mère",value:l.motherBreed,onChange:u}),r.jsx(wt,{placeholder:"Titres de la mère",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var zb="Tabs",[Ffe,Q6e]=ni(zb,[Sb]),DV=Sb(),[Bfe,wE]=Ffe(zb),MV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=wb(l),[f,m]=vo({prop:s,onChange:i,defaultProp:a??"",caller:zb});return r.jsx(Bfe,{scope:n,baseId:rs(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:r.jsx(it.div,{dir:d,"data-orientation":o,...u,ref:t})})});MV.displayName=zb;var IV="TabsList",$V=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=wE(IV,n),o=DV(n);return r.jsx(v8,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(it.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});$V.displayName=IV;var RV="TabsTrigger",LV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=wE(RV,n),l=DV(n),c=zV(o.baseId,s),u=VV(o.baseId,s),d=s===o.value;return r.jsx(x8,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(it.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Ke(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Ke(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Ke(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});LV.displayName=RV;var FV="TabsContent",BV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=wE(FV,n),c=zV(l.baseId,s),u=VV(l.baseId,s),d=s===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(ri,{present:i||d,children:({present:m})=>r.jsx(it.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});BV.displayName=FV;function zV(e,t){return`${e}-trigger-${t}`}function VV(e,t){return`${e}-content-${t}`}var zfe=MV,UV=$V,qV=LV,WV=BV;const vl=zfe,bo=w.forwardRef(({className:e,...t},n)=>r.jsx(UV,{ref:n,className:et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));bo.displayName=UV.displayName;const ln=w.forwardRef(({className:e,...t},n)=>r.jsx(qV,{ref:n,className:et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ln.displayName=qV.displayName;const cn=w.forwardRef(({className:e,...t},n)=>r.jsx(WV,{ref:n,className:et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cn.displayName=WV.displayName;function na(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _c(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function HV(e,t){const n=na(e);return isNaN(t)?_c(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const GV=6048e5,Vfe=864e5;let Ufe={};function Vb(){return Ufe}function pg(e,t){var l,c,u,d;const n=Vb(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=na(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function R0(e){return pg(e,{weekStartsOn:1})}function KV(e){const t=na(e),n=t.getFullYear(),s=_c(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=R0(s),a=_c(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=R0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function L0(e){const t=na(e);return t.setHours(0,0,0,0),t}function OI(e){const t=na(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function qfe(e,t){const n=L0(e),s=L0(t),i=+n-OI(n),a=+s-OI(s);return Math.round((i-a)/Vfe)}function Wfe(e){const t=KV(e),n=_c(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),R0(n)}function Hfe(e,t){const n=L0(e),s=L0(t);return+n==+s}function Gfe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Kfe(e){if(!Gfe(e)&&typeof e!="number")return!1;const t=na(e);return!isNaN(Number(t))}function Yfe(e){const t=na(e),n=_c(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Qfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xfe=(e,t,n)=>{let s;const i=Qfe[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Dh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Jfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tme={date:Dh({formats:Jfe,defaultWidth:"full"}),time:Dh({formats:Zfe,defaultWidth:"full"}),dateTime:Dh({formats:eme,defaultWidth:"full"})},nme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rme=(e,t,n,s)=>nme[e];function ro(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const sme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ime={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ame={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ome={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ume=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dme={ordinalNumber:ume,era:ro({values:sme,defaultWidth:"wide"}),quarter:ro({values:ime,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ro({values:ame,defaultWidth:"wide"}),day:ro({values:ome,defaultWidth:"wide"}),dayPeriod:ro({values:lme,defaultWidth:"wide",formattingValues:cme,defaultFormattingWidth:"wide"})};function so(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?fme(l,f=>f.test(o)):hme(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function hme(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function fme(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function YV(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const mme=/^(\d+)(th|st|nd|rd)?/i,pme=/\d+/i,gme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vme={any:[/^b/i,/^(a|c)/i]},xme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yme={any:[/1/i,/2/i,/3/i,/4/i]},jme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_me={ordinalNumber:YV({matchPattern:mme,parsePattern:pme,valueCallback:e=>parseInt(e,10)}),era:so({matchPatterns:gme,defaultMatchWidth:"wide",parsePatterns:vme,defaultParseWidth:"any"}),quarter:so({matchPatterns:xme,defaultMatchWidth:"wide",parsePatterns:yme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:so({matchPatterns:jme,defaultMatchWidth:"wide",parsePatterns:bme,defaultParseWidth:"any"}),day:so({matchPatterns:wme,defaultMatchWidth:"wide",parsePatterns:Nme,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:Sme,defaultMatchWidth:"any",parsePatterns:Cme,defaultParseWidth:"any"})},Pme={code:"en-US",formatDistance:Xfe,formatLong:tme,formatRelative:rme,localize:dme,match:_me,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ame(e){const t=na(e);return qfe(t,Yfe(t))+1}function Eme(e){const t=na(e),n=+R0(t)-+Wfe(t);return Math.round(n/GV)+1}function QV(e,t){var d,f,m,g;const n=na(e),s=n.getFullYear(),i=Vb(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=_c(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=pg(o,t),c=_c(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=pg(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function Tme(e,t){var l,c,u,d;const n=Vb(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=QV(e,t),a=_c(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),pg(a,t)}function kme(e,t){const n=na(e),s=+pg(n,t)-+Tme(n,t);return Math.round(s/GV)+1}function wn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const $l={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return wn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):wn(n+1,2)},d(e,t){return wn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return wn(e.getHours()%12||12,t.length)},H(e,t){return wn(e.getHours(),t.length)},m(e,t){return wn(e.getMinutes(),t.length)},s(e,t){return wn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return wn(i,t.length)}},Qd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DI={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return $l.y(e,t)},Y:function(e,t,n,s){const i=QV(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return wn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):wn(a,t.length)},R:function(e,t){const n=KV(e);return wn(n,t.length)},u:function(e,t){const n=e.getFullYear();return wn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return wn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return wn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return $l.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return wn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=kme(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):wn(i,t.length)},I:function(e,t,n){const s=Eme(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):wn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$l.d(e,t)},D:function(e,t,n){const s=Ame(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):wn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return wn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return wn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return wn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Qd.noon:s===0?i=Qd.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Qd.evening:s>=12?i=Qd.afternoon:s>=4?i=Qd.morning:i=Qd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return $l.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$l.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):wn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):wn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$l.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$l.s(e,t)},S:function(e,t){return $l.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return II(s);case"XXXX":case"XX":return lu(s);case"XXXXX":case"XXX":default:return lu(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return II(s);case"xxxx":case"xx":return lu(s);case"xxxxx":case"xxx":default:return lu(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+MI(s,":");case"OOOO":default:return"GMT"+lu(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+MI(s,":");case"zzzz":default:return"GMT"+lu(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return wn(s,t.length)},T:function(e,t,n){const s=e.getTime();return wn(s,t.length)}};function MI(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+wn(a,2)}function II(e,t){return e%60===0?(e>0?"-":"+")+wn(Math.abs(e)/60,2):lu(e,t)}function lu(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=wn(Math.trunc(s/60),2),a=wn(s%60,2);return n+i+t+a}const $I=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},XV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ome=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return $I(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",$I(s,t)).replace("{{time}}",XV(i,t))},Dme={p:XV,P:Ome},Mme=/^D+$/,Ime=/^Y+$/,$me=["D","DD","YY","YYYY"];function Rme(e){return Mme.test(e)}function Lme(e){return Ime.test(e)}function Fme(e,t,n){const s=Bme(e,t,n);if(console.warn(s),$me.includes(e))throw new RangeError(s)}function Bme(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ume=/^'([^]*?)'?$/,qme=/''/g,Wme=/[a-zA-Z]/;function It(e,t,n){var d,f,m,g,x,v,y,N;const s=Vb(),i=(n==null?void 0:n.locale)??s.locale??Pme,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((N=(y=s.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=na(e);if(!Kfe(l))throw new RangeError("Invalid time value");let c=t.match(Vme).map(j=>{const b=j[0];if(b==="p"||b==="P"){const C=Dme[b];return C(j,i.formatLong)}return j}).join("").match(zme).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:Hme(j)};if(DI[b])return{isToken:!0,value:j};if(b.match(Wme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const b=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Lme(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Rme(b))&&Fme(b,t,String(e));const C=DI[b[0]];return C(l,b,i.localize,u)}).join("")}function Hme(e){const t=e.match(Ume);return t?t[1].replace(qme,"'"):e}var RI=1,Gme=.9,Kme=.8,Yme=.17,xS=.1,yS=.999,Qme=.9999,Xme=.99,Jme=/[\\\/_+.#"@\[\(\{&]/,Zme=/[\\\/_+.#"@\[\(\{&]/g,epe=/[\s-]/,JV=/[\s-]/g;function W2(e,t,n,s,i,a,o){if(a===t.length)return i===e.length?RI:Xme;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(a),u=n.indexOf(c,i),d=0,f,m,g,x;u>=0;)f=W2(e,t,n,s,u+1,a+1,o),f>d&&(u===i?f*=RI:Jme.test(e.charAt(u-1))?(f*=Kme,g=e.slice(i,u-1).match(Zme),g&&i>0&&(f*=Math.pow(yS,g.length))):epe.test(e.charAt(u-1))?(f*=Gme,x=e.slice(i,u-1).match(JV),x&&i>0&&(f*=Math.pow(yS,x.length))):(f*=Yme,i>0&&(f*=Math.pow(yS,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=Qme)),(f<xS&&n.charAt(u-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(u-1)!==s.charAt(a))&&(m=W2(e,t,n,s,u+1,a+2,o),m*xS>f&&(f=m*xS)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function LI(e){return e.toLowerCase().replace(JV," ")}function tpe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,W2(e,t,LI(e),LI(t),0,0,{})}var Zm='[cmdk-group=""]',jS='[cmdk-group-items=""]',npe='[cmdk-group-heading=""]',ZV='[cmdk-item=""]',FI=`${ZV}:not([aria-disabled="true"])`,H2="cmdk-item-select",rh="data-value",rpe=(e,t,n)=>tpe(e,t,n),eU=w.createContext(void 0),Nv=()=>w.useContext(eU),tU=w.createContext(void 0),NE=()=>w.useContext(tU),nU=w.createContext(void 0),rU=w.forwardRef((e,t)=>{let n=sh(()=>{var re,Z;return{search:"",value:(Z=(re=e.value)!=null?re:e.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=sh(()=>new Set),i=sh(()=>new Map),a=sh(()=>new Map),o=sh(()=>new Set),l=sU(e),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:g,loop:x,disablePointerSelection:v=!1,vimBindings:y=!0,...N}=e,j=rs(),b=rs(),C=rs(),_=w.useRef(null),A=mpe();Qu(()=>{if(d!==void 0){let re=d.trim();n.current.value=re,P.emit()}},[d]),Qu(()=>{A(6,L)},[]);let P=w.useMemo(()=>({subscribe:re=>(o.current.add(re),()=>o.current.delete(re)),snapshot:()=>n.current,setState:(re,Z,ne)=>{var ve,je,we,z;if(!Object.is(n.current[re],Z)){if(n.current[re]=Z,re==="search")O(),I(),A(1,k);else if(re==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Q=document.getElementById(C);Q?Q.focus():(ve=document.getElementById(j))==null||ve.focus()}if(A(7,()=>{var Q;n.current.selectedItemId=(Q=B())==null?void 0:Q.id,P.emit()}),ne||A(5,L),((je=l.current)==null?void 0:je.value)!==void 0){let Q=Z??"";(z=(we=l.current).onValueChange)==null||z.call(we,Q);return}}P.emit()}},emit:()=>{o.current.forEach(re=>re())}}),[]),E=w.useMemo(()=>({value:(re,Z,ne)=>{var ve;Z!==((ve=a.current.get(re))==null?void 0:ve.value)&&(a.current.set(re,{value:Z,keywords:ne}),n.current.filtered.items.set(re,D(Z,ne)),A(2,()=>{I(),P.emit()}))},item:(re,Z)=>(s.current.add(re),Z&&(i.current.has(Z)?i.current.get(Z).add(re):i.current.set(Z,new Set([re]))),A(3,()=>{O(),I(),n.current.value||k(),P.emit()}),()=>{a.current.delete(re),s.current.delete(re),n.current.filtered.items.delete(re);let ne=B();A(4,()=>{O(),(ne==null?void 0:ne.getAttribute("id"))===re&&k(),P.emit()})}),group:re=>(i.current.has(re)||i.current.set(re,new Set),()=>{a.current.delete(re),i.current.delete(re)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:j,inputId:C,labelId:b,listInnerRef:_}),[]);function D(re,Z){var ne,ve;let je=(ve=(ne=l.current)==null?void 0:ne.filter)!=null?ve:rpe;return re?je(re,n.current.search,Z):0}function I(){if(!n.current.search||l.current.shouldFilter===!1)return;let re=n.current.filtered.items,Z=[];n.current.filtered.groups.forEach(ve=>{let je=i.current.get(ve),we=0;je.forEach(z=>{let Q=re.get(z);we=Math.max(Q,we)}),Z.push([ve,we])});let ne=_.current;ee().sort((ve,je)=>{var we,z;let Q=ve.getAttribute("id"),te=je.getAttribute("id");return((we=re.get(te))!=null?we:0)-((z=re.get(Q))!=null?z:0)}).forEach(ve=>{let je=ve.closest(jS);je?je.appendChild(ve.parentElement===je?ve:ve.closest(`${jS} > *`)):ne.appendChild(ve.parentElement===ne?ve:ve.closest(`${jS} > *`))}),Z.sort((ve,je)=>je[1]-ve[1]).forEach(ve=>{var je;let we=(je=_.current)==null?void 0:je.querySelector(`${Zm}[${rh}="${encodeURIComponent(ve[0])}"]`);we==null||we.parentElement.appendChild(we)})}function k(){let re=ee().find(ne=>ne.getAttribute("aria-disabled")!=="true"),Z=re==null?void 0:re.getAttribute(rh);P.setState("value",Z||void 0)}function O(){var re,Z,ne,ve;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let je=0;for(let we of s.current){let z=(Z=(re=a.current.get(we))==null?void 0:re.value)!=null?Z:"",Q=(ve=(ne=a.current.get(we))==null?void 0:ne.keywords)!=null?ve:[],te=D(z,Q);n.current.filtered.items.set(we,te),te>0&&je++}for(let[we,z]of i.current)for(let Q of z)if(n.current.filtered.items.get(Q)>0){n.current.filtered.groups.add(we);break}n.current.filtered.count=je}function L(){var re,Z,ne;let ve=B();ve&&(((re=ve.parentElement)==null?void 0:re.firstChild)===ve&&((ne=(Z=ve.closest(Zm))==null?void 0:Z.querySelector(npe))==null||ne.scrollIntoView({block:"nearest"})),ve.scrollIntoView({block:"nearest"}))}function B(){var re;return(re=_.current)==null?void 0:re.querySelector(`${ZV}[aria-selected="true"]`)}function ee(){var re;return Array.from(((re=_.current)==null?void 0:re.querySelectorAll(FI))||[])}function G(re){let Z=ee()[re];Z&&P.setState("value",Z.getAttribute(rh))}function J(re){var Z;let ne=B(),ve=ee(),je=ve.findIndex(z=>z===ne),we=ve[je+re];(Z=l.current)!=null&&Z.loop&&(we=je+re<0?ve[ve.length-1]:je+re===ve.length?ve[0]:ve[je+re]),we&&P.setState("value",we.getAttribute(rh))}function q(re){let Z=B(),ne=Z==null?void 0:Z.closest(Zm),ve;for(;ne&&!ve;)ne=re>0?hpe(ne,Zm):fpe(ne,Zm),ve=ne==null?void 0:ne.querySelector(FI);ve?P.setState("value",ve.getAttribute(rh)):J(re)}let $=()=>G(ee().length-1),oe=re=>{re.preventDefault(),re.metaKey?$():re.altKey?q(1):J(1)},ge=re=>{re.preventDefault(),re.metaKey?G(0):re.altKey?q(-1):J(-1)};return w.createElement(it.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:re=>{var Z;(Z=N.onKeyDown)==null||Z.call(N,re);let ne=re.nativeEvent.isComposing||re.keyCode===229;if(!(re.defaultPrevented||ne))switch(re.key){case"n":case"j":{y&&re.ctrlKey&&oe(re);break}case"ArrowDown":{oe(re);break}case"p":case"k":{y&&re.ctrlKey&&ge(re);break}case"ArrowUp":{ge(re);break}case"Home":{re.preventDefault(),G(0);break}case"End":{re.preventDefault(),$();break}case"Enter":{re.preventDefault();let ve=B();if(ve){let je=new Event(H2);ve.dispatchEvent(je)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:gpe},c),Ub(e,re=>w.createElement(tU.Provider,{value:P},w.createElement(eU.Provider,{value:E},re))))}),spe=w.forwardRef((e,t)=>{var n,s;let i=rs(),a=w.useRef(null),o=w.useContext(nU),l=Nv(),c=sU(e),u=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Qu(()=>{if(!u)return l.item(i,o==null?void 0:o.id)},[u]);let d=iU(i,a,[e.value,e.children,a],e.keywords),f=NE(),m=Pc(A=>A.value&&A.value===d.current),g=Pc(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);w.useEffect(()=>{let A=a.current;if(!(!A||e.disabled))return A.addEventListener(H2,x),()=>A.removeEventListener(H2,x)},[g,e.onSelect,e.disabled]);function x(){var A,P;v(),(P=(A=c.current).onSelect)==null||P.call(A,d.current)}function v(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:y,value:N,onSelect:j,forceMount:b,keywords:C,..._}=e;return w.createElement(it.div,{ref:il(a,t),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||l.getDisablePointerSelection()?void 0:v,onClick:y?void 0:x},e.children)}),ipe=w.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:i,...a}=e,o=rs(),l=w.useRef(null),c=w.useRef(null),u=rs(),d=Nv(),f=Pc(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Qu(()=>d.group(o),[]),iU(o,l,[e.value,e.heading,c]);let m=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(it.div,{ref:il(l,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Ub(e,g=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(nU.Provider,{value:m},g))))}),ape=w.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,i=w.useRef(null),a=Pc(o=>!o.search);return!n&&!a?null:w.createElement(it.div,{ref:il(i,t),...s,"cmdk-separator":"",role:"separator"})}),ope=w.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,i=e.value!=null,a=NE(),o=Pc(u=>u.search),l=Pc(u=>u.selectedItemId),c=Nv();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(it.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),lpe=w.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),l=Pc(u=>u.selectedItemId),c=Nv();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),w.createElement(it.div,{ref:il(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},Ub(e,u=>w.createElement("div",{ref:il(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),cpe=w.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:o,...l}=e;return w.createElement(Az,{open:n,onOpenChange:s},w.createElement(Ez,{container:o},w.createElement(mE,{"cmdk-overlay":"",className:i}),w.createElement(pE,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(rU,{ref:t,...l}))))}),upe=w.forwardRef((e,t)=>Pc(n=>n.filtered.count===0)?w.createElement(it.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),dpe=w.forwardRef((e,t)=>{let{progress:n,children:s,label:i="Loading...",...a}=e;return w.createElement(it.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Ub(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),si=Object.assign(rU,{List:lpe,Item:spe,Input:ope,Group:ipe,Separator:ape,Dialog:cpe,Empty:upe,Loading:dpe});function hpe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function fpe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function sU(e){let t=w.useRef(e);return Qu(()=>{t.current=e}),t}var Qu=typeof window>"u"?w.useEffect:w.useLayoutEffect;function sh(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function Pc(e){let t=NE(),n=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,n,n)}function iU(e,t,n,s=[]){let i=w.useRef(),a=Nv();return Qu(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=s.map(u=>u.trim());a.value(e,l,c),(o=t.current)==null||o.setAttribute(rh,l),i.current=l}),i}var mpe=()=>{let[e,t]=w.useState(),n=sh(()=>new Map);return Qu(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,i)=>{n.current.set(s,i),t({})}};function ppe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ub({asChild:e,children:t},n){return e&&w.isValidElement(t)?w.cloneElement(ppe(t),{ref:t.ref},n(t.props.children)):n(t)}var gpe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const SE=w.forwardRef(({className:e,...t},n)=>r.jsx(si,{ref:n,className:et("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));SE.displayName=si.displayName;const CE=w.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(pr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(si.Input,{ref:n,className:et("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));CE.displayName=si.Input.displayName;const _E=w.forwardRef(({className:e,...t},n)=>r.jsx(si.List,{ref:n,className:et("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));_E.displayName=si.List.displayName;const PE=w.forwardRef((e,t)=>r.jsx(si.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));PE.displayName=si.Empty.displayName;const AE=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Group,{ref:n,className:et("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));AE.displayName=si.Group.displayName;const vpe=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Separator,{ref:n,className:et("-mx-1 h-px bg-border",e),...t}));vpe.displayName=si.Separator.displayName;const gg=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Item,{ref:n,className:et("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));gg.displayName=si.Item.displayName;var qb="Popover",[aU,X6e]=ni(qb,[kc]),Sv=kc(),[xpe,Bc]=aU(qb),oU=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=Sv(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,m]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:qb});return r.jsx(zA,{...l,children:r.jsx(xpe,{scope:t,contentId:rs(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};oU.displayName=qb;var lU="PopoverAnchor",ype=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Bc(lU,n),a=Sv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(dv,{...a,...s,ref:t})});ype.displayName=lU;var cU="PopoverTrigger",uU=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Bc(cU,n),a=Sv(n),o=Xt(t,i.triggerRef),l=r.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pU(i.open),...s,ref:o,onClick:Ke(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(dv,{asChild:!0,...a,children:l})});uU.displayName=cU;var EE="PopoverPortal",[jpe,bpe]=aU(EE,{forceMount:void 0}),dU=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=Bc(EE,t);return r.jsx(jpe,{scope:t,forceMount:n,children:r.jsx(ri,{present:n||a.open,children:r.jsx(Uf,{asChild:!0,container:i,children:s})})})};dU.displayName=EE;var hf="PopoverContent",hU=w.forwardRef((e,t)=>{const n=bpe(hf,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=Bc(hf,e.__scopePopover);return r.jsx(ri,{present:s||a.open,children:a.modal?r.jsx(Npe,{...i,ref:t}):r.jsx(Spe,{...i,ref:t})})});hU.displayName=hf;var wpe=Nc("PopoverContent.RemoveScroll"),Npe=w.forwardRef((e,t)=>{const n=Bc(hf,e.__scopePopover),s=w.useRef(null),i=Xt(t,s),a=w.useRef(!1);return w.useEffect(()=>{const o=s.current;if(o)return Cb(o)},[]),r.jsx(mv,{as:wpe,allowPinchZoom:!0,children:r.jsx(fU,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Spe=w.forwardRef((e,t)=>{const n=Bc(hf,e.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(fU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),fU=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Bc(hf,n),g=Sv(n);return Nb(),r.jsx(hv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(cd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(vb,{"data-state":pU(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mU="PopoverClose",Cpe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Bc(mU,n);return r.jsx(it.button,{type:"button",...s,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});Cpe.displayName=mU;var _pe="PopoverArrow",Ppe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Sv(n);return r.jsx(xb,{...i,...s,ref:t})});Ppe.displayName=_pe;function pU(e){return e?"open":"closed"}var Ape=oU,Epe=uU,Tpe=dU,gU=hU;const vU=Ape,xU=Epe,TE=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(Tpe,{children:r.jsx(gU,{ref:i,align:t,sideOffset:n,className:et("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));TE.displayName=gU.displayName;const kpe=[{value:"left_shoulder",label:"Épaule gauche"},{value:"right_shoulder",label:"Épaule droite"},{value:"left_hip",label:"Hanche gauche"},{value:"right_hip",label:"Hanche droite"},{value:"subcutaneous",label:"Sous-cutané"}];function F0({children:e,selectedPetId:t,selectedClientId:n,isReminder:s=!1,originalVaccinationId:i,open:a,onOpenChange:o,editingVaccination:l}){const{clients:c,pets:u,addVaccination:d,updateVaccination:f,getVaccinationProtocolsBySpecies:m,calculateDueDateFromProtocol:g,stockItems:x}=Pt(),{settings:v}=Zt(),{toast:y}=$t(),[N,j]=w.useState(!1),b=a!==void 0?a:N,C=o||j;w.useState(!1);const[_,A]=w.useState(!1),[P,E]=w.useState(!1),[D,I]=w.useState([]),[k,O]=w.useState({clientId:n||"",petId:t||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),[L,B]=w.useState([]),ee=L||[],[G,J]=w.useState({}),[q,$]=w.useState(null),[oe,ge]=w.useState("");w.useEffect(()=>{n&&O(z=>({...z,clientId:n.toString()})),t&&O(z=>({...z,petId:t.toString()}))},[n,t]),w.useEffect(()=>{const z=x.filter(Q=>Q.category==="vaccine"&&Q.isActive&&Q.currentStock>0).sort((Q,te)=>Q.name.localeCompare(te.name));I(z)},[x]),w.useEffect(()=>{l&&O({clientId:l.clientId.toString(),petId:l.petId.toString(),vaccineName:l.vaccineName,vaccineType:l.vaccineType,dateGiven:l.dateGiven,nextDueDate:l.nextDueDate,batchNumber:l.batchNumber||"",veterinarian:l.veterinarian||"",notes:l.notes||"",cost:l.cost||"",location:l.location||"",manufacturer:l.manufacturer||"",injectionSite:l.injectionSite||""})},[l]),w.useEffect(()=>{if(k.vaccineName&&k.dateGiven&&k.petId){const z=u.find(Q=>Q.id===parseInt(k.petId));if(z){const Q=g(k.vaccineName,z.type,k.dateGiven);Q&&ge(Q)}}},[k.vaccineName,k.dateGiven,k.petId,u,g]),w.useEffect(()=>{if(ee.length>0&&k.dateGiven){const z={};ee.forEach(Q=>{Q.intervals.forEach(te=>{const K=`${Q.id}-${te.offsetDays}`;z[K]=It(HV(new Date(k.dateGiven),te.offsetDays),"yyyy-MM-dd")})}),J(z)}else J({})},[ee,k.dateGiven]);const re=z=>{O(Q=>({...Q,vaccineName:z.name,manufacturer:z.manufacturer||Q.manufacturer,cost:z.sellingPrice.toString()})),A(!1),E(!1)},Z=()=>{E(!0),A(!1)},ne=()=>{E(!1),O(z=>({...z,vaccineName:"",manufacturer:"",cost:""}))},ve=z=>{if(z.preventDefault(),l){if(!k.clientId||!k.petId){y({title:"Erreur",description:"Client ou animal manquant",variant:"destructive"});return}}else if(!k.clientId||!k.petId||ee.length===0&&!k.vaccineName){y({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const Q=c.find(M=>M.id===parseInt(k.clientId)),te=u.find(M=>M.id===parseInt(k.petId));if(!Q||!te){y({title:"Erreur",description:"Client ou animal introuvable",variant:"destructive"});return}if(ee.length>0&&!l){ee.forEach(M=>{var xe,Ne;if(M.intervals&&Array.isArray(M.intervals)){let de;const Pe=M.intervals.find(Ze=>Ze.offsetDays===0);if(Pe){const Ze=`${M.id}-${Pe.offsetDays}`,at=G[Ze]||"";de=d({clientId:parseInt(k.clientId),clientName:((xe=c.find(dt=>dt.id===parseInt(k.clientId)))==null?void 0:xe.name)||"",petId:parseInt(k.petId),petName:((Ne=u.find(dt=>dt.id===parseInt(k.petId)))==null?void 0:Ne.name)||"",vaccineName:`${M.name} (${Pe.label})`,vaccineType:M.vaccineType,dateGiven:k.dateGiven,nextDueDate:at,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"completed",cost:k.cost,location:k.location,manufacturer:M.manufacturer||k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,vaccinationCategory:"new",isReminder:!1})}M.intervals.forEach(Ze=>{var at,dt;if(Ze.offsetDays>0){const Se=`${M.id}-${Ze.offsetDays}`,qe=G[Se]||"";d({clientId:parseInt(k.clientId),clientName:((at=c.find(We=>We.id===parseInt(k.clientId)))==null?void 0:at.name)||"",petId:parseInt(k.petId),petName:((dt=u.find(We=>We.id===parseInt(k.petId)))==null?void 0:dt.name)||"",vaccineName:`${M.name} (${Ze.label})`,vaccineType:M.vaccineType,dateGiven:qe,nextDueDate:qe,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"scheduled",cost:k.cost,location:k.location,manufacturer:M.manufacturer||k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,vaccinationCategory:"reminder",originalVaccinationId:de,isReminder:!0})}})}}),y({title:"Vaccinations enregistrées",description:`${ee.length} vaccinations ajoutées.`}),B([]),C(!1);return}const K=Object.values(G).sort().pop()||oe||k.dateGiven;if(l){const M=l.vaccinationCategory==="reminder"?"rappel":"vaccination";f(l.id,{clientId:parseInt(k.clientId),clientName:Q.name,petId:parseInt(k.petId),petName:te.name,vaccineName:k.vaccineName,vaccineType:k.vaccineType,vaccinationCategory:l.vaccinationCategory,dateGiven:k.dateGiven,nextDueDate:l.vaccinationCategory==="reminder"?k.dateGiven:K,calculatedDueDate:oe,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:l.status,cost:k.cost,location:k.location,manufacturer:k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,originalVaccinationId:l.originalVaccinationId,isReminder:l.isReminder}),y({title:`${M.charAt(0).toUpperCase()+M.slice(1)} modifiée`,description:`${M.charAt(0).toUpperCase()+M.slice(1)} ${k.vaccineName} modifiée pour ${te.name}`})}else d({clientId:parseInt(k.clientId),clientName:Q.name,petId:parseInt(k.petId),petName:te.name,vaccineName:k.vaccineName,vaccineType:k.vaccineType,vaccinationCategory:s?"reminder":"new",dateGiven:k.dateGiven,nextDueDate:K,calculatedDueDate:oe,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"completed",cost:k.cost,location:k.location,manufacturer:k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,originalVaccinationId:s?i:void 0,isReminder:s}),y({title:"Vaccination enregistrée",description:`Vaccination ${k.vaccineName} ajoutée pour ${te.name}`});O({clientId:(n==null?void 0:n.toString())||"",petId:(t==null?void 0:t.toString())||"",vaccineName:"",vaccineType:"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),B([]),C(!1)},je=u.find(z=>z.id===parseInt(k.petId)),we=je?m(je.type):[];return r.jsxs(St,{open:b,onOpenChange:C,children:[r.jsx(Rc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(ks,{className:"h-5 w-5"}),l?l.vaccinationCategory==="reminder"?"Modifier le Rappel":"Modifier la Vaccination":"Nouvelle Vaccination"]}),l&&l.vaccinationCategory==="reminder"&&r.jsxs("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded-md border border-orange-200",children:[r.jsx("strong",{children:"Mode édition de rappel :"})," Vous modifiez uniquement ce rappel spécifique. Les autres rappels de la même vaccination ne seront pas affectés."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement cette vaccination spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"clientId",children:"Client *"}),r.jsxs($e,{value:k.clientId,onValueChange:z=>{O(Q=>({...Q,clientId:z,petId:""})),$(null)},disabled:!!l,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un client"})}),r.jsx(Ie,{children:c&&Array.isArray(c)&&c.length>0?c.map(z=>r.jsx(U,{value:z.id.toString(),children:z.name},z.id)):r.jsx(U,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"petId",children:"Animal *"}),r.jsxs($e,{value:k.petId,onValueChange:z=>{O(Q=>({...Q,petId:z})),$(null)},disabled:l?!0:!k.clientId,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un animal"})}),r.jsx(Ie,{children:u.filter(z=>z.ownerId===parseInt(k.clientId)).map(z=>r.jsxs(U,{value:z.id.toString(),children:[z.name," (",z.type,")"]},z.id))})]})]})]}),we.length>0&&!l&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs(F,{children:["Protocoles suggérés pour ",je==null?void 0:je.type," (sélection multiple)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:we.map(z=>{const Q=ee.some(te=>te.id===z.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Xi,{id:`protocol-${z.id}`,checked:Q,onCheckedChange:te=>{B(te?K=>[...K,z]:K=>K.filter(M=>M.id!==z.id))}}),r.jsxs("label",{htmlFor:`protocol-${z.id}`,className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:z.name}),r.jsx("div",{className:"text-xs text-gray-600",children:z.description})]})]},z.id)})})]}),ee.length>0&&!l?r.jsxs(ue,{className:"mb-4",children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-sm",children:"Vaccins sélectionnés"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:ee.map(z=>r.jsx("li",{children:z.name},z.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs(F,{htmlFor:"vaccineName",children:["Nom du vaccin ",!l&&"*"]}),r.jsxs(Le,{variant:"outline",className:"text-xs",children:[D.length," vaccins en stock"]})]}),P?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:ne,className:"text-xs",children:"Changer"})]}),r.jsx(ie,{value:k.vaccineName,onChange:z=>O(Q=>({...Q,vaccineName:z.target.value})),placeholder:"Nom du vaccin (non disponible en stock)",className:"bg-white",required:!l})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(vU,{open:_,onOpenChange:A,children:[r.jsx(xU,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":_,className:"flex-1 justify-between",children:[k.vaccineName||"Sélectionner un vaccin...",r.jsx(hb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(TE,{className:"w-[400px] p-0",children:r.jsxs(SE,{children:[r.jsx(CE,{placeholder:"Rechercher un vaccin..."}),r.jsxs(_E,{children:[r.jsx(PE,{children:"Aucun vaccin trouvé."}),r.jsxs(AE,{children:[D.map(z=>r.jsxs(gg,{value:z.name,onSelect:()=>re(z),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:z.name})]}),r.jsxs(Le,{variant:z.currentStock>=5?"default":"destructive",className:"ml-2",children:[z.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[z.manufacturer&&r.jsxs("span",{children:["Fabricant: ",z.manufacturer]}),r.jsxs("span",{children:["Prix: ",z.sellingPrice.toFixed(2)," ",v.currency]})]})]},z.id)),r.jsx(gg,{onSelect:Z,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Vaccin non disponible en stock"})]})]})})]})]})]})})]}),k.vaccineName&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:Z,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(pr,{className:"h-4 w-4"})})]}),k.vaccineName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const z=D.find(Q=>Q.name.toLowerCase()===k.vaccineName.toLowerCase());return z?z.currentStock>=1?r.jsxs(Le,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(er,{className:"h-3 w-3 mr-1"}),"En stock (",z.currentStock,")"]}):r.jsxs(Le,{variant:"destructive",children:[r.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs(Le,{variant:"secondary",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vaccineType",children:"Type de vaccin"}),r.jsxs($e,{value:k.vaccineType,onValueChange:z=>O(Q=>({...Q,vaccineType:z})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Type de vaccin"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"core",children:"Essentiel"}),r.jsx(U,{value:"non-core",children:"Optionnel"}),r.jsx(U,{value:"rabies",children:"Rage"}),r.jsx(U,{value:"custom",children:"Personnalisé"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"dateGiven",children:["Date d'administration ",!l&&"*"]}),r.jsx(ie,{id:"dateGiven",type:"date",value:k.dateGiven,onChange:z=>O(Q=>({...Q,dateGiven:z.target.value})),required:!l})]})}),ee.length>0&&!l&&r.jsx("div",{className:"space-y-4 mb-4",children:ee.map(z=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",z.name]}),z.intervals.map(Q=>{const te=`${z.id}-${Q.offsetDays}`,K=new Date(k.dateGiven);K.setDate(K.getDate()+Q.offsetDays);const M=K.toISOString().split("T")[0];return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[Q.label," (+",Q.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:te,children:"Date de rappel"}),r.jsx(ie,{id:te,type:"date",value:G[te]||M,onChange:xe=>J(Ne=>({...Ne,[te]:xe.target.value}))}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Suggérée: ",K.toLocaleDateString("fr-FR")]})]})]},te)})]},z.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsxs($e,{value:k.veterinarian,onValueChange:z=>O(Q=>({...Q,veterinarian:z})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(Ie,{children:v.veterinarians.filter(z=>z.isActive).map(z=>r.jsx(U,{value:z.name,children:z.name},z.id))})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"location",children:"Site d'injection"}),r.jsxs($e,{value:k.location,onValueChange:z=>O(Q=>({...Q,location:z})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le site"})}),r.jsx(Ie,{children:kpe.map(z=>r.jsx(U,{value:z.value,children:z.label},z.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",value:k.batchNumber,onChange:z=>O(Q=>({...Q,batchNumber:z.target.value})),placeholder:"Ex: VAC2024-001"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:k.manufacturer,onChange:z=>O(Q=>({...Q,manufacturer:z.target.value})),placeholder:"Ex: Zoetis, Merial"})]}),r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"cost",children:["Coût (",v.currency,")"]}),r.jsx(ie,{id:"cost",value:k.cost,onChange:z=>O(Q=>({...Q,cost:z.target.value})),placeholder:"0.00",type:"number",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"expirationDate",children:"Date d'expiration du vaccin"}),r.jsx(ie,{id:"expirationDate",type:"date",value:k.expirationDate,onChange:z=>O(Q=>({...Q,expirationDate:z.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:k.notes,onChange:z=>O(Q=>({...Q,notes:z.target.value})),placeholder:"Notes sur la vaccination...",rows:3})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"adverseReactions",children:"Réactions adverses"}),r.jsx(wt,{id:"adverseReactions",value:k.adverseReactions,onChange:z=>O(Q=>({...Q,adverseReactions:z.target.value})),placeholder:"Décrire toute réaction adverse observée...",rows:2})]}),k.vaccineName&&r.jsxs(ue,{className:"mt-4",children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"text-sm flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(he,{children:(()=>{const z=D.find(Q=>Q.name.toLowerCase()===k.vaccineName.toLowerCase());return z?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:z.name}),r.jsxs(Le,{variant:z.currentStock>=1?"default":"destructive",children:[z.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",z.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",z.sellingPrice.toFixed(2)," ",v.currency]}),r.jsxs("div",{children:["Stock minimum: ",z.minimumStock]}),z.currentStock<=z.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:"Vaccin non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"Le vaccin sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>setOpen(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",children:[r.jsx(ks,{className:"h-4 w-4 mr-2"}),"Enregistrer la vaccination"]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[je&&r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-sm",children:"Informations Animal"})}),r.jsx(he,{className:"pt-0",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",je.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",je.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Race:"})," ",je.breed||"Non spécifiée"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Âge:"})," ",je.birthDate?`${Math.floor((new Date().getTime()-new Date(je.birthDate).getTime())/(365.25*24*60*60*1e3))} ans`:"Non spécifié"]})]})})]}),r.jsxs(ue,{className:"border-amber-200 bg-amber-50",children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"text-sm text-amber-700 flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4"}),"Important"]})}),r.jsx(he,{className:"pt-0",children:r.jsxs("ul",{className:"text-xs text-amber-700 space-y-1",children:[r.jsx("li",{children:"• Vérifiez la date d'expiration du vaccin"}),r.jsx("li",{children:"• Respectez la chaîne du froid"}),r.jsx("li",{children:"• Surveillez les réactions dans les 24h"}),r.jsx("li",{children:"• Enregistrez le numéro de lot"}),r.jsx("li",{children:"• Planifiez le rappel"})]})})]})]})]})]})]})}function B0({children:e,selectedClientId:t,selectedPetId:n,open:s,onOpenChange:i,editingAntiparasitic:a}){var ge,re;const{clients:o,pets:l,addAntiparasitic:c,updateAntiparasitic:u,getAntiparasiticProtocolsBySpecies:d,addAppointment:f,stockItems:m}=Pt(),{settings:g}=Zt(),{toast:x}=$t(),[v,y]=w.useState(!1),N=s!==void 0?s:v,j=i||y,[b,C]=w.useState({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),[_,A]=w.useState([]),[P,E]=w.useState(!1),[D,I]=w.useState(!1),[k,O]=w.useState([]),L=_||[],[B,ee]=w.useState({});w.useEffect(()=>{t&&C(Z=>({...Z,clientId:t.toString(),petId:""})),n&&C(Z=>({...Z,petId:n.toString()}))},[t,n]),w.useEffect(()=>{const Z=m.filter(ne=>ne.category==="medication"&&ne.isActive&&ne.currentStock>0).sort((ne,ve)=>ne.name.localeCompare(ve.name));O(Z)},[m]),w.useEffect(()=>{a&&C({clientId:a.clientId.toString(),petId:a.petId.toString(),dateGiven:a.dateGiven,nextDueDate:a.nextDueDate||"",dosage:a.dosage||"",administrationRoute:a.administrationRoute||"",veterinarian:a.veterinarian||"",notes:a.notes||"",batchNumber:a.batchNumber||"",manufacturer:a.manufacturer||"",weight:a.weight||"",cost:a.cost||"",sideEffects:a.sideEffects||""})},[a]),w.useEffect(()=>{if(L.length&&b.dateGiven){const Z={};L.forEach(ne=>{ne.intervals.forEach(ve=>{const je=`${ne.id}-${ve.offsetDays}`;Z[je]=It(HV(new Date(b.dateGiven),ve.offsetDays),"yyyy-MM-dd")})}),ee(Z)}else ee({})},[L,b.dateGiven]);const G=b.petId?d(((ge=l.find(Z=>Z.id===parseInt(b.petId)))==null?void 0:ge.type)||""):[],J=Z=>{C(ne=>({...ne,productName:Z.name,manufacturer:Z.manufacturer||ne.manufacturer,cost:Z.sellingPrice.toString()})),E(!1),I(!1)},q=()=>{I(!0),E(!1)},$=()=>{I(!1),C(Z=>({...Z,productName:"",manufacturer:"",cost:""}))},oe=Z=>{if(Z.preventDefault(),!b.clientId||!b.petId){x({title:"Erreur",description:"Client et animal requis.",variant:"destructive"});return}const ne=o.find(je=>je.id===parseInt(b.clientId)),ve=l.find(je=>je.id===parseInt(b.petId));if(!ne||!ve){x({title:"Erreur",description:"Client ou animal introuvable.",variant:"destructive"});return}if(a){u(a.id,{clientId:parseInt(b.clientId),clientName:ne.name,petId:parseInt(b.petId),petName:ve.name,productName:a.productName,productType:a.productType,targetParasites:a.targetParasites,dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:a.status,cost:b.cost,sideEffects:b.sideEffects}),x({title:"Traitement modifié",description:`Le traitement ${a.productName} a été mis à jour avec succès.`}),j(!1);return}if(L.length>0)L.forEach(je=>{je.intervals.forEach(we=>{const z=`${je.id}-${we.offsetDays}`,Q=B[z]||"",te=we.offsetDays===0?b.dateGiven:Q;c({clientId:ne.id,clientName:ne.name,petId:ve.id,petName:ve.name,productName:`${je.name} (${we.label})`,productType:je.productType,targetParasites:je.targetParasites,dateGiven:te,nextDueDate:Q,dosage:b.dosage,administrationRoute:b.administrationRoute||je.productType,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer||je.manufacturer||"",weight:b.weight,status:we.offsetDays===0?"completed":"scheduled",cost:b.cost,sideEffects:b.sideEffects})})}),L.forEach(je=>{(je.intervals||[]).forEach(we=>{const z=`${je.id}-${we.offsetDays}`,Q=B[z];Q&&we.offsetDays>0&&f({clientId:ne.id,clientName:ne.name,petId:ve.id,petName:ve.name,date:Q,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${je.name}`,status:"scheduled",reminderSent:!1})})}),x({title:"Traitements ajoutés",description:`${L.reduce((je,we)=>je+we.intervals.length,0)} traitement(s) enregistré(s) dans le dossier médical et rappels programmés.`});else{const je=b.notes||"Traitement antiparasitaire";c({clientId:ne.id,clientName:ne.name,petId:ve.id,petName:ve.name,productName:je,productType:"external",targetParasites:"Non spécifié",dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:"completed",cost:b.cost,sideEffects:b.sideEffects}),b.nextDueDate&&f({clientId:ne.id,clientName:ne.name,petId:ve.id,petName:ve.name,date:b.nextDueDate,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${je}`,status:"scheduled",reminderSent:!1}),x({title:"Traitement ajouté",description:`Traitement pour ${ve.name} enregistré dans le dossier médical.`})}A([]),C({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:It(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),j(!1)};return r.jsxs(St,{open:N,onOpenChange:j,children:[!a&&r.jsx(Rc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau traitement"]})}),r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsx(_t,{children:a?`Modifier ${a.productName}`:"Nouveau traitement antiparasitaire"})}),r.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode édition :"})," Vous modifiez uniquement ce traitement spécifique. Le client et l'animal sont verrouillés. Les protocoles ne sont pas affichés car ils ne s'appliquent qu'à la création."]}),r.jsxs("div",{children:[r.jsx(F,{children:"Client *"}),r.jsxs($e,{value:b.clientId,onValueChange:Z=>C(ne=>({...ne,clientId:Z,petId:""})),disabled:a,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un client"})}),r.jsx(Ie,{children:o&&Array.isArray(o)&&o.length>0?o.map(Z=>r.jsx(U,{value:Z.id.toString(),children:Z.name},Z.id)):r.jsx(U,{value:"no-clients",disabled:!0,children:"Aucun client trouvé"})})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Animal *"}),r.jsxs($e,{value:b.petId,onValueChange:Z=>C(ne=>({...ne,petId:Z})),disabled:!b.clientId||a,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un animal"})}),r.jsx(Ie,{children:l.filter(Z=>Z.ownerId===parseInt(b.clientId)).map(Z=>r.jsxs(U,{value:Z.id.toString(),children:[Z.name," (",Z.type,")"]},Z.id))})]})]})]}),G.length>0&&!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{children:["Protocoles suggérés (",(re=l.find(Z=>Z.id===parseInt(b.petId)))==null?void 0:re.type,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:G.map(Z=>{const ne=L.some(ve=>ve.id===Z.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Xi,{checked:ne,onCheckedChange:ve=>A(ve?je=>[...je,Z]:je=>je.filter(we=>we.id!==Z.id))}),r.jsxs("label",{className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:Z.name}),r.jsx("div",{className:"text-xs text-gray-600",children:Z.description})]})]},Z.id)})})]}),L.length>0?r.jsxs(ue,{className:"mb-4",children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-sm",children:"Protocoles sélectionnés"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:L.map(Z=>r.jsx("li",{children:Z.name},Z.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(F,{children:"Produit antiparasitaire"}),r.jsxs(Le,{variant:"outline",className:"text-xs",children:[k.length," antiparasitaires en stock"]})]}),D?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:$,className:"text-xs",children:"Changer"})]}),r.jsx(ie,{value:b.productName,onChange:Z=>C(ne=>({...ne,productName:Z.target.value})),placeholder:"Nom du produit antiparasitaire (non disponible en stock)",className:"bg-white"})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(vU,{open:P,onOpenChange:E,children:[r.jsx(xU,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":P,className:"flex-1 justify-between",children:[b.productName||"Sélectionner un antiparasitaire...",r.jsx(hb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(TE,{className:"w-[400px] p-0",children:r.jsxs(SE,{children:[r.jsx(CE,{placeholder:"Rechercher un antiparasitaire..."}),r.jsxs(_E,{children:[r.jsx(PE,{children:"Aucun antiparasitaire trouvé."}),r.jsxs(AE,{children:[k.map(Z=>r.jsxs(gg,{value:Z.name,onSelect:()=>J(Z),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:Z.name})]}),r.jsxs(Le,{variant:Z.currentStock>=5?"default":"destructive",className:"ml-2",children:[Z.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[Z.manufacturer&&r.jsxs("span",{children:["Fabricant: ",Z.manufacturer]}),r.jsxs("span",{children:["Prix: ",Z.sellingPrice.toFixed(2)," ",g.currency]})]})]},Z.id)),r.jsx(gg,{onSelect:q,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Antiparasitaire non disponible en stock"})]})]})})]})]})]})})]}),b.productName&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:q,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(pr,{className:"h-4 w-4"})})]}),b.productName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const Z=k.find(ne=>ne.name.toLowerCase()===b.productName.toLowerCase());return Z?Z.currentStock>=1?r.jsxs(Le,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(er,{className:"h-3 w-3 mr-1"}),"En stock (",Z.currentStock,")"]}):r.jsxs(Le,{variant:"destructive",children:[r.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs(Le,{variant:"secondary",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Type"}),r.jsx(ie,{value:b.administrationRoute,onChange:Z=>C(ne=>({...ne,administrationRoute:Z.target.value})),placeholder:"Type (oral, topical...)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Date d'administration *"}),r.jsx(ie,{type:"date",value:b.dateGiven,onChange:Z=>C(ne=>({...ne,dateGiven:Z.target.value})),required:!0})]}),!L.length&&r.jsxs("div",{children:[r.jsx(F,{children:"Date de rappel"}),r.jsx(ie,{type:"date",value:b.nextDueDate,onChange:Z=>C(ne=>({...ne,nextDueDate:Z.target.value}))})]})]}),L.length>0&&r.jsx("div",{className:"space-y-4 mb-4",children:L.map(Z=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Étapes pour ",Z.name]}),Z.intervals.map(ne=>{const ve=`${Z.id}-${ne.offsetDays}`;return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[ne.label," (+",ne.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(F,{children:"Date exacte"}),r.jsx(ie,{type:"date",id:ve,value:B[ve]||"",onChange:je=>ee(we=>({...we,[ve]:je.target.value}))})]})]},ve)})]},Z.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Dosage"}),r.jsx(ie,{value:b.dosage,onChange:Z=>C(ne=>({...ne,dosage:Z.target.value})),placeholder:"Dosage"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Vétérinaire"}),r.jsxs($e,{value:b.veterinarian,onValueChange:Z=>C(ne=>({...ne,veterinarian:Z})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un vétérinaire"})}),r.jsx(Ie,{children:(g.veterinarians||[]).filter(Z=>Z.isActive).map(Z=>r.jsx(U,{value:Z.name,children:Z.name},Z.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Numéro de lot"}),r.jsx(ie,{value:b.batchNumber,onChange:Z=>C(ne=>({...ne,batchNumber:Z.target.value})),placeholder:"Numéro de lot"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Fabricant"}),r.jsx(ie,{value:b.manufacturer,onChange:Z=>C(ne=>({...ne,manufacturer:Z.target.value})),placeholder:"Fabricant"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Poids"}),r.jsx(ie,{value:b.weight,onChange:Z=>C(ne=>({...ne,weight:Z.target.value})),placeholder:"Poids"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Coût"}),r.jsx(ie,{type:"number",step:"0.01",value:b.cost,onChange:Z=>C(ne=>({...ne,cost:Z.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Effets indésirables"}),r.jsx(ie,{value:b.sideEffects,onChange:Z=>C(ne=>({...ne,sideEffects:Z.target.value})),placeholder:"Effets indésirables"})]}),b.productName&&r.jsxs(ue,{className:"mt-4",children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"text-sm flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),"Résumé du stock"]})}),r.jsx(he,{children:(()=>{const Z=k.find(ne=>ne.name.toLowerCase()===b.productName.toLowerCase());return Z?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:Z.name}),r.jsxs(Le,{variant:Z.currentStock>=1?"default":"destructive",children:[Z.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",Z.manufacturer||"Non spécifié"]}),r.jsxs("div",{children:["Prix de vente: ",Z.sellingPrice.toFixed(2)," ",g.currency]}),r.jsxs("div",{children:["Stock minimum: ",Z.minimumStock]}),Z.currentStock<=Z.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:"⚠️ Stock bas - Réapprovisionnement recommandé"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:"Antiparasitaire non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"L'antiparasitaire sera administré sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",type:"button",onClick:()=>i?i(!1):y(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Ajouter"})]})]})]})]})}function Ope({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:s,calculateDueDateFromProtocol:i}=Pt(),{toast:a}=$t(),[o,l]=w.useState({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){a({title:"Erreur",description:"Le nom du vétérinaire est requis",variant:"destructive"});return}let f=o.newNextDueDate;!f&&n&&(f=i(n.vaccineName,"chien",o.datePerformed)||""),s(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:f})&&(a({title:"Rappel confirmé",description:`Le rappel de ${n.vaccineName} a été confirmé et enregistré`}),l({datePerformed:It(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(f=>({...f,[d.target.name]:d.target.value}))};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[500px]",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Confirmer le rappel de vaccination"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination à confirmer :"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prévu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"datePerformed",children:"Date d'administration *"}),r.jsx(ie,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(ie,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vétérinaire",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numéro de lot du vaccin"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),r.jsx(ie,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calculée selon le protocole"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var Dpe=Array.isArray,ii=Dpe,Mpe=typeof cr=="object"&&cr&&cr.Object===Object&&cr,yU=Mpe,Ipe=yU,$pe=typeof self=="object"&&self&&self.Object===Object&&self,Rpe=Ipe||$pe||Function("return this")(),wo=Rpe,Lpe=wo,Fpe=Lpe.Symbol,Cv=Fpe,BI=Cv,jU=Object.prototype,Bpe=jU.hasOwnProperty,zpe=jU.toString,ep=BI?BI.toStringTag:void 0;function Vpe(e){var t=Bpe.call(e,ep),n=e[ep];try{e[ep]=void 0;var s=!0}catch{}var i=zpe.call(e);return s&&(t?e[ep]=n:delete e[ep]),i}var Upe=Vpe,qpe=Object.prototype,Wpe=qpe.toString;function Hpe(e){return Wpe.call(e)}var Gpe=Hpe,zI=Cv,Kpe=Upe,Ype=Gpe,Qpe="[object Null]",Xpe="[object Undefined]",VI=zI?zI.toStringTag:void 0;function Jpe(e){return e==null?e===void 0?Xpe:Qpe:VI&&VI in Object(e)?Kpe(e):Ype(e)}var xl=Jpe;function Zpe(e){return e!=null&&typeof e=="object"}var yl=Zpe,ege=xl,tge=yl,nge="[object Symbol]";function rge(e){return typeof e=="symbol"||tge(e)&&ege(e)==nge}var rm=rge,sge=ii,ige=rm,age=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oge=/^\w*$/;function lge(e,t){if(sge(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ige(e)?!0:oge.test(e)||!age.test(e)||t!=null&&e in Object(t)}var kE=lge;function cge(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zc=cge;const sm=vn(zc);var uge=xl,dge=zc,hge="[object AsyncFunction]",fge="[object Function]",mge="[object GeneratorFunction]",pge="[object Proxy]";function gge(e){if(!dge(e))return!1;var t=uge(e);return t==fge||t==mge||t==hge||t==pge}var OE=gge;const yt=vn(OE);var vge=wo,xge=vge["__core-js_shared__"],yge=xge,bS=yge,UI=function(){var e=/[^.]+$/.exec(bS&&bS.keys&&bS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jge(e){return!!UI&&UI in e}var bge=jge,wge=Function.prototype,Nge=wge.toString;function Sge(e){if(e!=null){try{return Nge.call(e)}catch{}try{return e+""}catch{}}return""}var bU=Sge,Cge=OE,_ge=bge,Pge=zc,Age=bU,Ege=/[\\^$.*+?()[\]{}|]/g,Tge=/^\[object .+?Constructor\]$/,kge=Function.prototype,Oge=Object.prototype,Dge=kge.toString,Mge=Oge.hasOwnProperty,Ige=RegExp("^"+Dge.call(Mge).replace(Ege,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $ge(e){if(!Pge(e)||_ge(e))return!1;var t=Cge(e)?Ige:Tge;return t.test(Age(e))}var Rge=$ge;function Lge(e,t){return e==null?void 0:e[t]}var Fge=Lge,Bge=Rge,zge=Fge;function Vge(e,t){var n=zge(e,t);return Bge(n)?n:void 0}var gd=Vge,Uge=gd,qge=Uge(Object,"create"),Wb=qge,qI=Wb;function Wge(){this.__data__=qI?qI(null):{},this.size=0}var Hge=Wge;function Gge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kge=Gge,Yge=Wb,Qge="__lodash_hash_undefined__",Xge=Object.prototype,Jge=Xge.hasOwnProperty;function Zge(e){var t=this.__data__;if(Yge){var n=t[e];return n===Qge?void 0:n}return Jge.call(t,e)?t[e]:void 0}var eve=Zge,tve=Wb,nve=Object.prototype,rve=nve.hasOwnProperty;function sve(e){var t=this.__data__;return tve?t[e]!==void 0:rve.call(t,e)}var ive=sve,ave=Wb,ove="__lodash_hash_undefined__";function lve(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ave&&t===void 0?ove:t,this}var cve=lve,uve=Hge,dve=Kge,hve=eve,fve=ive,mve=cve;function im(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}im.prototype.clear=uve;im.prototype.delete=dve;im.prototype.get=hve;im.prototype.has=fve;im.prototype.set=mve;var pve=im;function gve(){this.__data__=[],this.size=0}var vve=gve;function xve(e,t){return e===t||e!==e&&t!==t}var DE=xve,yve=DE;function jve(e,t){for(var n=e.length;n--;)if(yve(e[n][0],t))return n;return-1}var Hb=jve,bve=Hb,wve=Array.prototype,Nve=wve.splice;function Sve(e){var t=this.__data__,n=bve(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Nve.call(t,n,1),--this.size,!0}var Cve=Sve,_ve=Hb;function Pve(e){var t=this.__data__,n=_ve(t,e);return n<0?void 0:t[n][1]}var Ave=Pve,Eve=Hb;function Tve(e){return Eve(this.__data__,e)>-1}var kve=Tve,Ove=Hb;function Dve(e,t){var n=this.__data__,s=Ove(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var Mve=Dve,Ive=vve,$ve=Cve,Rve=Ave,Lve=kve,Fve=Mve;function am(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}am.prototype.clear=Ive;am.prototype.delete=$ve;am.prototype.get=Rve;am.prototype.has=Lve;am.prototype.set=Fve;var Gb=am,Bve=gd,zve=wo,Vve=Bve(zve,"Map"),ME=Vve,WI=pve,Uve=Gb,qve=ME;function Wve(){this.size=0,this.__data__={hash:new WI,map:new(qve||Uve),string:new WI}}var Hve=Wve;function Gve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Kve=Gve,Yve=Kve;function Qve(e,t){var n=e.__data__;return Yve(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Kb=Qve,Xve=Kb;function Jve(e){var t=Xve(this,e).delete(e);return this.size-=t?1:0,t}var Zve=Jve,exe=Kb;function txe(e){return exe(this,e).get(e)}var nxe=txe,rxe=Kb;function sxe(e){return rxe(this,e).has(e)}var ixe=sxe,axe=Kb;function oxe(e,t){var n=axe(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var lxe=oxe,cxe=Hve,uxe=Zve,dxe=nxe,hxe=ixe,fxe=lxe;function om(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}om.prototype.clear=cxe;om.prototype.delete=uxe;om.prototype.get=dxe;om.prototype.has=hxe;om.prototype.set=fxe;var IE=om,wU=IE,mxe="Expected a function";function $E(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mxe);var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,s);return n.cache=a.set(i,o)||a,o};return n.cache=new($E.Cache||wU),n}$E.Cache=wU;var NU=$E;const pxe=vn(NU);var gxe=NU,vxe=500;function xxe(e){var t=gxe(e,function(s){return n.size===vxe&&n.clear(),s}),n=t.cache;return t}var yxe=xxe,jxe=yxe,bxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wxe=/\\(\\)?/g,Nxe=jxe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bxe,function(n,s,i,a){t.push(i?a.replace(wxe,"$1"):s||n)}),t}),Sxe=Nxe;function Cxe(e,t){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}var RE=Cxe,HI=Cv,_xe=RE,Pxe=ii,Axe=rm,Exe=1/0,GI=HI?HI.prototype:void 0,KI=GI?GI.toString:void 0;function SU(e){if(typeof e=="string")return e;if(Pxe(e))return _xe(e,SU)+"";if(Axe(e))return KI?KI.call(e):"";var t=e+"";return t=="0"&&1/e==-Exe?"-0":t}var Txe=SU,kxe=Txe;function Oxe(e){return e==null?"":kxe(e)}var CU=Oxe,Dxe=ii,Mxe=kE,Ixe=Sxe,$xe=CU;function Rxe(e,t){return Dxe(e)?e:Mxe(e,t)?[e]:Ixe($xe(e))}var _U=Rxe,Lxe=rm,Fxe=1/0;function Bxe(e){if(typeof e=="string"||Lxe(e))return e;var t=e+"";return t=="0"&&1/e==-Fxe?"-0":t}var Yb=Bxe,zxe=_U,Vxe=Yb;function Uxe(e,t){t=zxe(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Vxe(t[n++])];return n&&n==s?e:void 0}var LE=Uxe,qxe=LE;function Wxe(e,t,n){var s=e==null?void 0:qxe(e,t);return s===void 0?n:s}var PU=Wxe;const Si=vn(PU);function Hxe(e){return e==null}var Gxe=Hxe;const Et=vn(Gxe);var Kxe=xl,Yxe=ii,Qxe=yl,Xxe="[object String]";function Jxe(e){return typeof e=="string"||!Yxe(e)&&Qxe(e)&&Kxe(e)==Xxe}var Zxe=Jxe;const Xu=vn(Zxe);var AU={exports:{}},Sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=Symbol.for("react.element"),BE=Symbol.for("react.portal"),Qb=Symbol.for("react.fragment"),Xb=Symbol.for("react.strict_mode"),Jb=Symbol.for("react.profiler"),Zb=Symbol.for("react.provider"),ew=Symbol.for("react.context"),eye=Symbol.for("react.server_context"),tw=Symbol.for("react.forward_ref"),nw=Symbol.for("react.suspense"),rw=Symbol.for("react.suspense_list"),sw=Symbol.for("react.memo"),iw=Symbol.for("react.lazy"),tye=Symbol.for("react.offscreen"),EU;EU=Symbol.for("react.module.reference");function ra(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case FE:switch(e=e.type,e){case Qb:case Jb:case Xb:case nw:case rw:return e;default:switch(e=e&&e.$$typeof,e){case eye:case ew:case tw:case iw:case sw:case Zb:return e;default:return t}}case BE:return t}}}Sn.ContextConsumer=ew;Sn.ContextProvider=Zb;Sn.Element=FE;Sn.ForwardRef=tw;Sn.Fragment=Qb;Sn.Lazy=iw;Sn.Memo=sw;Sn.Portal=BE;Sn.Profiler=Jb;Sn.StrictMode=Xb;Sn.Suspense=nw;Sn.SuspenseList=rw;Sn.isAsyncMode=function(){return!1};Sn.isConcurrentMode=function(){return!1};Sn.isContextConsumer=function(e){return ra(e)===ew};Sn.isContextProvider=function(e){return ra(e)===Zb};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===FE};Sn.isForwardRef=function(e){return ra(e)===tw};Sn.isFragment=function(e){return ra(e)===Qb};Sn.isLazy=function(e){return ra(e)===iw};Sn.isMemo=function(e){return ra(e)===sw};Sn.isPortal=function(e){return ra(e)===BE};Sn.isProfiler=function(e){return ra(e)===Jb};Sn.isStrictMode=function(e){return ra(e)===Xb};Sn.isSuspense=function(e){return ra(e)===nw};Sn.isSuspenseList=function(e){return ra(e)===rw};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qb||e===Jb||e===Xb||e===nw||e===rw||e===tye||typeof e=="object"&&e!==null&&(e.$$typeof===iw||e.$$typeof===sw||e.$$typeof===Zb||e.$$typeof===ew||e.$$typeof===tw||e.$$typeof===EU||e.getModuleId!==void 0)};Sn.typeOf=ra;AU.exports=Sn;var nye=AU.exports,rye=xl,sye=yl,iye="[object Number]";function aye(e){return typeof e=="number"||sye(e)&&rye(e)==iye}var TU=aye;const oye=vn(TU);var lye=TU;function cye(e){return lye(e)&&e!=+e}var uye=cye;const lm=vn(uye);var Os=function(t){return t===0?0:t>0?1:-1},yu=function(t){return Xu(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return oye(t)&&!lm(t)},dye=function(t){return Et(t)},Ir=function(t){return Ve(t)||Xu(t)},hye=0,vd=function(t){var n=++hye;return"".concat(t||"").concat(n)},Ds=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!Xu(t))return s;var a;if(yu(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return lm(a)&&(a=s),i&&a>n&&(a=n),a},Gl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},fye=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},i=0;i<n;i++)if(!s[t[i]])s[t[i]]=!0;else return!0;return!1},Dr=function(t,n){return Ve(t)&&Ve(n)?function(s){return t+s*(n-t)}:function(){return n}};function z0(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Si(s,t))===n})}var mye=function(t,n){return Ve(t)&&Ve(n)?t-n:Xu(t)&&Xu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Mh(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function G2(e){"@babel/helpers - typeof";return G2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G2(e)}var pye=["viewBox","children"],gye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YI=["points","pathLength"],wS={svg:pye,polygon:YI,polyline:YI},zE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],V0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!sm(s))return null;var i={};return Object.keys(s).forEach(function(a){zE.includes(a)&&(i[a]=n||function(o){return s[a](s,o)})}),i},vye=function(t,n,s){return function(i){return t(n,s,i),null}},Ju=function(t,n,s){if(!sm(t)||G2(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];zE.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=vye(o,n,s))}),i},xye=["children"],yye=["children"];function QI(e,t){if(e==null)return{};var n=jye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function jye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function K2(e){"@babel/helpers - typeof";return K2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K2(e)}var XI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},JI=null,NS=null,VE=function e(t){if(t===JI&&Array.isArray(NS))return NS;var n=[];return w.Children.forEach(t,function(s){Et(s)||(nye.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),NS=n,JI=t,n};function Ci(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(i){return Jo(i)}):s=[Jo(t)],VE(e).forEach(function(i){var a=Si(i,"type.displayName")||Si(i,"type.name");s.indexOf(a)!==-1&&n.push(i)}),n}function gi(e,t){var n=Ci(e,t);return n&&n[0]}var ZI=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,i=n.height;return!(!Ve(s)||s<=0||!Ve(i)||i<=0)},bye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wye=function(t){return t&&t.type&&Xu(t.type)&&bye.indexOf(t.type)>=0},kU=function(t){return t&&K2(t)==="object"&&"clipDot"in t},Nye=function(t,n,s,i){var a,o=(a=wS==null?void 0:wS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(t)&&(i&&o.includes(n)||gye.includes(n))||s&&zE.includes(n)},ct=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!sm(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;Nye((l=i)===null||l===void 0?void 0:l[o],o,n,s)&&(a[o]=i[o])}),a},Y2=function e(t,n){if(t===n)return!0;var s=w.Children.count(t);if(s!==w.Children.count(n))return!1;if(s===0)return!0;if(s===1)return e4(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<s;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!e4(a,o))return!1}return!0},e4=function(t,n){if(Et(t)&&Et(n))return!0;if(!Et(t)&&!Et(n)){var s=t.props||{},i=s.children,a=QI(s,xye),o=n.props||{},l=o.children,c=QI(o,yye);return i&&l?Mh(a,c)&&Y2(i,l):!i&&!l?Mh(a,c):!1}return!1},t4=function(t,n){var s=[],i={};return VE(t).forEach(function(a,o){if(wye(a))s.push(a);else if(a){var l=Jo(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);s.push(f),i[l]=!0}}}),s},Sye=function(t){var n=t&&t.type;return n&&XI[n]?XI[n]:null},Cye=function(t,n){return VE(n).indexOf(t)},_ye=["children","width","height","viewBox","className","style","title","desc"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q2.apply(this,arguments)}function Pye(e,t){if(e==null)return{};var n=Aye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Aye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function X2(e){var t=e.children,n=e.width,s=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=Pye(e,_ye),d=i||{width:n,height:s,x:0,y:0},f=Tt("recharts-surface",a);return W.createElement("svg",Q2({},ct(u,!0,"svg"),{className:f,width:n,height:s,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),t)}var Eye=["children","className"];function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J2.apply(this,arguments)}function Tye(e,t){if(e==null)return{};var n=kye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Qt=W.forwardRef(function(e,t){var n=e.children,s=e.className,i=Tye(e,Eye),a=Tt("recharts-layer",s);return W.createElement("g",J2({className:a},ct(i,!0),{ref:t}),n)}),ka=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a]};function Oye(e,t,n){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++s<i;)a[s]=e[s+t];return a}var Dye=Oye,Mye=Dye;function Iye(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:Mye(e,t,n)}var $ye=Iye,Rye="\\ud800-\\udfff",Lye="\\u0300-\\u036f",Fye="\\ufe20-\\ufe2f",Bye="\\u20d0-\\u20ff",zye=Lye+Fye+Bye,Vye="\\ufe0e\\ufe0f",Uye="\\u200d",qye=RegExp("["+Uye+Rye+zye+Vye+"]");function Wye(e){return qye.test(e)}var OU=Wye;function Hye(e){return e.split("")}var Gye=Hye,DU="\\ud800-\\udfff",Kye="\\u0300-\\u036f",Yye="\\ufe20-\\ufe2f",Qye="\\u20d0-\\u20ff",Xye=Kye+Yye+Qye,Jye="\\ufe0e\\ufe0f",Zye="["+DU+"]",Z2="["+Xye+"]",e_="\\ud83c[\\udffb-\\udfff]",e0e="(?:"+Z2+"|"+e_+")",MU="[^"+DU+"]",IU="(?:\\ud83c[\\udde6-\\uddff]){2}",$U="[\\ud800-\\udbff][\\udc00-\\udfff]",t0e="\\u200d",RU=e0e+"?",LU="["+Jye+"]?",n0e="(?:"+t0e+"(?:"+[MU,IU,$U].join("|")+")"+LU+RU+")*",r0e=LU+RU+n0e,s0e="(?:"+[MU+Z2+"?",Z2,IU,$U,Zye].join("|")+")",i0e=RegExp(e_+"(?="+e_+")|"+s0e+r0e,"g");function a0e(e){return e.match(i0e)||[]}var o0e=a0e,l0e=Gye,c0e=OU,u0e=o0e;function d0e(e){return c0e(e)?u0e(e):l0e(e)}var h0e=d0e,f0e=$ye,m0e=OU,p0e=h0e,g0e=CU;function v0e(e){return function(t){t=g0e(t);var n=m0e(t)?p0e(t):void 0,s=n?n[0]:t.charAt(0),i=n?f0e(n,1).join(""):t.slice(1);return s[e]()+i}}var x0e=v0e,y0e=x0e,j0e=y0e("toUpperCase"),b0e=j0e;const aw=vn(b0e);function Mn(e){return function(){return e}}const FU=Math.cos,U0=Math.sin,Ua=Math.sqrt,q0=Math.PI,ow=2*q0,t_=Math.PI,n_=2*t_,cu=1e-6,w0e=n_-cu;function BU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function N0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BU;const n=10**t;return function(s){this._+=s[0];for(let i=1,a=s.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+s[i]}}class S0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BU:N0e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,i){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(t,n,s,i,a,o){this._append`C${+t},${+n},${+s},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,s,i,a){if(t=+t,n=+n,s=+s,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=s-t,u=i-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>cu)if(!(Math.abs(f*c-u*d)>cu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=s-o,x=i-l,v=c*c+u*u,y=g*g+x*x,N=Math.sqrt(v),j=Math.sqrt(m),b=a*Math.tan((t_-Math.acos((v+m-y)/(2*N*j)))/2),C=b/j,_=b/N;Math.abs(C-1)>cu&&this._append`L${t+C*d},${n+C*f}`,this._append`A${a},${a},0,0,${+(f*g>d*x)},${this._x1=t+_*c},${this._y1=n+_*u}`}}arc(t,n,s,i,a,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(i),c=s*Math.sin(i),u=t+l,d=n+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>cu||Math.abs(this._y1-d)>cu)&&this._append`L${u},${d}`,s&&(m<0&&(m=m%n_+n_),m>w0e?this._append`A${s},${s},0,1,${f},${t-l},${n-c}A${s},${s},0,1,${f},${this._x1=u},${this._y1=d}`:m>cu&&this._append`A${s},${s},0,${+(m>=t_)},${f},${this._x1=t+s*Math.cos(a)},${this._y1=n+s*Math.sin(a)}`)}rect(t,n,s,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function UE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new S0e(t)}function qE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zU(e){this._context=e}zU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lw(e){return new zU(e)}function VU(e){return e[0]}function UU(e){return e[1]}function qU(e,t){var n=Mn(!0),s=null,i=lw,a=null,o=UE(l);e=typeof e=="function"?e:e===void 0?VU:Mn(e),t=typeof t=="function"?t:t===void 0?UU:Mn(t);function l(c){var u,d=(c=qE(c)).length,f,m=!1,g;for(s==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Mn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Mn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Mn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,s!=null&&(a=i(s)),l):i},l.context=function(c){return arguments.length?(c==null?s=a=null:a=i(s=c),l):s},l}function py(e,t,n){var s=null,i=Mn(!0),a=null,o=lw,l=null,c=UE(u);e=typeof e=="function"?e:e===void 0?VU:Mn(+e),t=typeof t=="function"?t:Mn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?UU:Mn(+n);function u(f){var m,g,x,v=(f=qE(f)).length,y,N=!1,j,b=new Array(v),C=new Array(v);for(a==null&&(l=o(j=c())),m=0;m<=v;++m){if(!(m<v&&i(y=f[m],m,f))===N)if(N=!N)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(b[x],C[x]);l.lineEnd(),l.areaEnd()}N&&(b[m]=+e(y,m,f),C[m]=+t(y,m,f),l.point(s?+s(y,m,f):b[m],n?+n(y,m,f):C[m]))}if(j)return l=null,j+""||null}function d(){return qU().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Mn(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Mn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class WU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function C0e(e){return new WU(e,!0)}function _0e(e){return new WU(e,!1)}const WE={draw(e,t){const n=Ua(t/q0);e.moveTo(n,0),e.arc(0,0,n,0,ow)}},P0e={draw(e,t){const n=Ua(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},HU=Ua(1/3),A0e=HU*2,E0e={draw(e,t){const n=Ua(t/A0e),s=n*HU;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},T0e={draw(e,t){const n=Ua(t),s=-n/2;e.rect(s,s,n,n)}},k0e=.8908130915292852,GU=U0(q0/10)/U0(7*q0/10),O0e=U0(ow/10)*GU,D0e=-FU(ow/10)*GU,M0e={draw(e,t){const n=Ua(t*k0e),s=O0e*n,i=D0e*n;e.moveTo(0,-n),e.lineTo(s,i);for(let a=1;a<5;++a){const o=ow*a/5,l=FU(o),c=U0(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*i,c*s+l*i)}e.closePath()}},SS=Ua(3),I0e={draw(e,t){const n=-Ua(t/(SS*3));e.moveTo(0,n*2),e.lineTo(-SS*n,-n),e.lineTo(SS*n,-n),e.closePath()}},Li=-.5,Fi=Ua(3)/2,r_=1/Ua(12),$0e=(r_/2+1)*3,R0e={draw(e,t){const n=Ua(t/$0e),s=n/2,i=n*r_,a=s,o=n*r_+n,l=-a,c=o;e.moveTo(s,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Li*s-Fi*i,Fi*s+Li*i),e.lineTo(Li*a-Fi*o,Fi*a+Li*o),e.lineTo(Li*l-Fi*c,Fi*l+Li*c),e.lineTo(Li*s+Fi*i,Li*i-Fi*s),e.lineTo(Li*a+Fi*o,Li*o-Fi*a),e.lineTo(Li*l+Fi*c,Li*c-Fi*l),e.closePath()}};function L0e(e,t){let n=null,s=UE(i);e=typeof e=="function"?e:Mn(e||WE),t=typeof t=="function"?t:Mn(t===void 0?64:+t);function i(){let a;if(n||(n=a=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Mn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Mn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function W0(){}function H0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function KU(e){this._context=e}KU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:H0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F0e(e){return new KU(e)}function YU(e){this._context=e}YU.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:H0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B0e(e){return new YU(e)}function QU(e){this._context=e}QU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:H0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z0e(e){return new QU(e)}function XU(e){this._context=e}XU.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V0e(e){return new XU(e)}function n4(e){return e<0?-1:1}function r4(e,t,n){var s=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(s||i<0&&-0),o=(n-e._y1)/(i||s<0&&-0),l=(a*i+o*s)/(s+i);return(n4(a)+n4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function s4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function CS(e,t,n){var s=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-s)/3;e._context.bezierCurveTo(s+l,i+l*t,a-l,o-l*n,a,o)}function G0(e){this._context=e}G0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:CS(this,this._t0,s4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,CS(this,s4(this,n=r4(this,e,t)),n);break;default:CS(this,this._t0,n=r4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function JU(e){this._context=new ZU(e)}(JU.prototype=Object.create(G0.prototype)).point=function(e,t){G0.prototype.point.call(this,t,e)};function ZU(e){this._context=e}ZU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,i,a){this._context.bezierCurveTo(t,e,s,n,a,i)}};function U0e(e){return new G0(e)}function q0e(e){return new JU(e)}function eq(e){this._context=e}eq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=i4(e),i=i4(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(s[0][a],i[0][a],s[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function i4(e){var t,n=e.length-1,s,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=i[t]/a[t-1],a[t]-=s,o[t]-=s*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function W0e(e){return new eq(e)}function cw(e,t){this._context=e,this._t=t}cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function H0e(e){return new cw(e,.5)}function G0e(e){return new cw(e,0)}function K0e(e){return new cw(e,1)}function ff(e,t){if((o=e.length)>1)for(var n=1,s,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],s=0;s<l;++s)a[s][1]+=a[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function s_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Y0e(e,t){return e[t]}function Q0e(e){const t=[];return t.key=e,t}function X0e(){var e=Mn([]),t=s_,n=ff,s=Y0e;function i(a){var o=Array.from(e.apply(this,arguments),Q0e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(f,o[l].key,u,a)]).data=f;for(l=0,d=qE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Mn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(s=typeof a=="function"?a:Mn(+a),i):s},i.order=function(a){return arguments.length?(t=a==null?s_:typeof a=="function"?a:Mn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??ff,i):n},i}function J0e(e,t){if((s=e.length)>0){for(var n,s,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<s;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<s;++n)e[n][i][1]/=o}ff(e,t)}}function Z0e(e,t){if((i=e.length)>0){for(var n=0,s=e[t[0]],i,a=s.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}ff(e,t)}}function eje(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,s=1,i,a,o;s<a;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[s][1]||0,m=d[s-1][1]||0,g=(f-m)/2,x=0;x<l;++x){var v=e[t[x]],y=v[s][1]||0,N=v[s-1][1]||0;g+=y-N}c+=f,u+=g*f}i[s-1][1]+=i[s-1][0]=n,c&&(n-=u/c)}i[s-1][1]+=i[s-1][0]=n,ff(e,t)}}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}var tje=["type","size","sizeType"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i_.apply(this,arguments)}function a4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function o4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(n),!0).forEach(function(s){nje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nje(e,t,n){return t=rje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rje(e){var t=sje(e,"string");return vg(t)=="symbol"?t:t+""}function sje(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ije(e,t){if(e==null)return{};var n=aje(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function aje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var tq={symbolCircle:WE,symbolCross:P0e,symbolDiamond:E0e,symbolSquare:T0e,symbolStar:M0e,symbolTriangle:I0e,symbolWye:R0e},oje=Math.PI/180,lje=function(t){var n="symbol".concat(aw(t));return tq[n]||WE},cje=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*oje;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uje=function(t,n){tq["symbol".concat(aw(t))]=n},HE=function(t){var n=t.type,s=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=ije(t,tje),u=o4(o4({},c),{},{type:s,size:a,sizeType:l}),d=function(){var y=lje(s),N=L0e().type(y).size(cje(a,l,s));return N()},f=u.className,m=u.cx,g=u.cy,x=ct(u,!0);return m===+m&&g===+g&&a===+a?W.createElement("path",i_({},x,{className:Tt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};HE.registerSymbol=uje;function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a_.apply(this,arguments)}function l4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function dje(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(n),!0).forEach(function(s){xg(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fje(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rq(s.key),s)}}function mje(e,t,n){return t&&fje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pje(e,t,n){return t=K0(t),gje(e,nq()?Reflect.construct(t,n||[],K0(e).constructor):t.apply(e,n))}function gje(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vje(e)}function vje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nq=function(){return!!e})()}function K0(e){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(e)}function xje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},o_(e,t)}function xg(e,t,n){return t=rq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(e){var t=yje(e,"string");return mf(t)=="symbol"?t:t+""}function yje(e,t){if(mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi=32,GE=function(e){function t(){return hje(this,t),pje(this,t,arguments)}return xje(t,e),mje(t,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,a=Bi/2,o=Bi/6,l=Bi/3,c=s.inactive?i:s.color;if(s.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:a,x2:Bi,y2:a,className:"recharts-legend-icon"});if(s.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Bi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(s.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Bi/8,"h").concat(Bi,"v").concat(Bi*3/4,"h").concat(-Bi,"z"),className:"recharts-legend-icon"});if(W.isValidElement(s.legendIcon)){var u=dje({},s);return delete u.legendIcon,W.cloneElement(s.legendIcon,u)}return W.createElement(HE,{fill:c,cx:a,cy:a,size:Bi,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Bi,height:Bi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,x){var v=g.formatter||c,y=Tt(xg(xg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=yt(g.value)?null:g.value;ka(!yt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=g.inactive?u:g.color;return W.createElement("li",a_({className:y,style:f,key:"legend-item-".concat(x)},Ju(s.props,g,x)),W.createElement(X2,{width:o,height:o,viewBox:d,style:m},s.renderIcon(g)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},v?v(N,g,x):N))})}},{key:"render",value:function(){var s=this.props,i=s.payload,a=s.layout,o=s.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);xg(GE,"displayName","Legend");xg(GE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jje=Gb;function bje(){this.__data__=new jje,this.size=0}var wje=bje;function Nje(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Sje=Nje;function Cje(e){return this.__data__.get(e)}var _je=Cje;function Pje(e){return this.__data__.has(e)}var Aje=Pje,Eje=Gb,Tje=ME,kje=IE,Oje=200;function Dje(e,t){var n=this.__data__;if(n instanceof Eje){var s=n.__data__;if(!Tje||s.length<Oje-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new kje(s)}return n.set(e,t),this.size=n.size,this}var Mje=Dje,Ije=Gb,$je=wje,Rje=Sje,Lje=_je,Fje=Aje,Bje=Mje;function cm(e){var t=this.__data__=new Ije(e);this.size=t.size}cm.prototype.clear=$je;cm.prototype.delete=Rje;cm.prototype.get=Lje;cm.prototype.has=Fje;cm.prototype.set=Bje;var sq=cm,zje="__lodash_hash_undefined__";function Vje(e){return this.__data__.set(e,zje),this}var Uje=Vje;function qje(e){return this.__data__.has(e)}var Wje=qje,Hje=IE,Gje=Uje,Kje=Wje;function Y0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Hje;++t<n;)this.add(e[t])}Y0.prototype.add=Y0.prototype.push=Gje;Y0.prototype.has=Kje;var iq=Y0;function Yje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var aq=Yje;function Qje(e,t){return e.has(t)}var oq=Qje,Xje=iq,Jje=aq,Zje=oq,ebe=1,tbe=2;function nbe(e,t,n,s,i,a){var o=n&ebe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,g=n&tbe?new Xje:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],v=t[f];if(s)var y=o?s(v,x,f,t,e,a):s(x,v,f,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(g){if(!Jje(t,function(N,j){if(!Zje(g,j)&&(x===N||i(x,N,n,s,a)))return g.push(j)})){m=!1;break}}else if(!(x===v||i(x,v,n,s,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var lq=nbe,rbe=wo,sbe=rbe.Uint8Array,ibe=sbe;function abe(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var obe=abe;function lbe(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var KE=lbe,c4=Cv,u4=ibe,cbe=DE,ube=lq,dbe=obe,hbe=KE,fbe=1,mbe=2,pbe="[object Boolean]",gbe="[object Date]",vbe="[object Error]",xbe="[object Map]",ybe="[object Number]",jbe="[object RegExp]",bbe="[object Set]",wbe="[object String]",Nbe="[object Symbol]",Sbe="[object ArrayBuffer]",Cbe="[object DataView]",d4=c4?c4.prototype:void 0,_S=d4?d4.valueOf:void 0;function _be(e,t,n,s,i,a,o){switch(n){case Cbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Sbe:return!(e.byteLength!=t.byteLength||!a(new u4(e),new u4(t)));case pbe:case gbe:case ybe:return cbe(+e,+t);case vbe:return e.name==t.name&&e.message==t.message;case jbe:case wbe:return e==t+"";case xbe:var l=dbe;case bbe:var c=s&fbe;if(l||(l=hbe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=mbe,o.set(e,t);var d=ube(l(e),l(t),s,i,a,o);return o.delete(e),d;case Nbe:if(_S)return _S.call(e)==_S.call(t)}return!1}var Pbe=_be;function Abe(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var cq=Abe,Ebe=cq,Tbe=ii;function kbe(e,t,n){var s=t(e);return Tbe(e)?s:Ebe(s,n(e))}var Obe=kbe;function Dbe(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Mbe=Dbe;function Ibe(){return[]}var $be=Ibe,Rbe=Mbe,Lbe=$be,Fbe=Object.prototype,Bbe=Fbe.propertyIsEnumerable,h4=Object.getOwnPropertySymbols,zbe=h4?function(e){return e==null?[]:(e=Object(e),Rbe(h4(e),function(t){return Bbe.call(e,t)}))}:Lbe,Vbe=zbe;function Ube(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var qbe=Ube,Wbe=xl,Hbe=yl,Gbe="[object Arguments]";function Kbe(e){return Hbe(e)&&Wbe(e)==Gbe}var Ybe=Kbe,f4=Ybe,Qbe=yl,uq=Object.prototype,Xbe=uq.hasOwnProperty,Jbe=uq.propertyIsEnumerable,Zbe=f4(function(){return arguments}())?f4:function(e){return Qbe(e)&&Xbe.call(e,"callee")&&!Jbe.call(e,"callee")},YE=Zbe,Q0={exports:{}};function ewe(){return!1}var twe=ewe;Q0.exports;(function(e,t){var n=wo,s=twe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(Q0,Q0.exports);var dq=Q0.exports,nwe=9007199254740991,rwe=/^(?:0|[1-9]\d*)$/;function swe(e,t){var n=typeof e;return t=t??nwe,!!t&&(n=="number"||n!="symbol"&&rwe.test(e))&&e>-1&&e%1==0&&e<t}var QE=swe,iwe=9007199254740991;function awe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iwe}var XE=awe,owe=xl,lwe=XE,cwe=yl,uwe="[object Arguments]",dwe="[object Array]",hwe="[object Boolean]",fwe="[object Date]",mwe="[object Error]",pwe="[object Function]",gwe="[object Map]",vwe="[object Number]",xwe="[object Object]",ywe="[object RegExp]",jwe="[object Set]",bwe="[object String]",wwe="[object WeakMap]",Nwe="[object ArrayBuffer]",Swe="[object DataView]",Cwe="[object Float32Array]",_we="[object Float64Array]",Pwe="[object Int8Array]",Awe="[object Int16Array]",Ewe="[object Int32Array]",Twe="[object Uint8Array]",kwe="[object Uint8ClampedArray]",Owe="[object Uint16Array]",Dwe="[object Uint32Array]",zn={};zn[Cwe]=zn[_we]=zn[Pwe]=zn[Awe]=zn[Ewe]=zn[Twe]=zn[kwe]=zn[Owe]=zn[Dwe]=!0;zn[uwe]=zn[dwe]=zn[Nwe]=zn[hwe]=zn[Swe]=zn[fwe]=zn[mwe]=zn[pwe]=zn[gwe]=zn[vwe]=zn[xwe]=zn[ywe]=zn[jwe]=zn[bwe]=zn[wwe]=!1;function Mwe(e){return cwe(e)&&lwe(e.length)&&!!zn[owe(e)]}var Iwe=Mwe;function $we(e){return function(t){return e(t)}}var hq=$we,X0={exports:{}};X0.exports;(function(e,t){var n=yU,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(X0,X0.exports);var Rwe=X0.exports,Lwe=Iwe,Fwe=hq,m4=Rwe,p4=m4&&m4.isTypedArray,Bwe=p4?Fwe(p4):Lwe,fq=Bwe,zwe=qbe,Vwe=YE,Uwe=ii,qwe=dq,Wwe=QE,Hwe=fq,Gwe=Object.prototype,Kwe=Gwe.hasOwnProperty;function Ywe(e,t){var n=Uwe(e),s=!n&&Vwe(e),i=!n&&!s&&qwe(e),a=!n&&!s&&!i&&Hwe(e),o=n||s||i||a,l=o?zwe(e.length,String):[],c=l.length;for(var u in e)(t||Kwe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wwe(u,c)))&&l.push(u);return l}var Qwe=Ywe,Xwe=Object.prototype;function Jwe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Xwe;return e===n}var Zwe=Jwe;function e1e(e,t){return function(n){return e(t(n))}}var mq=e1e,t1e=mq,n1e=t1e(Object.keys,Object),r1e=n1e,s1e=Zwe,i1e=r1e,a1e=Object.prototype,o1e=a1e.hasOwnProperty;function l1e(e){if(!s1e(e))return i1e(e);var t=[];for(var n in Object(e))o1e.call(e,n)&&n!="constructor"&&t.push(n);return t}var c1e=l1e,u1e=OE,d1e=XE;function h1e(e){return e!=null&&d1e(e.length)&&!u1e(e)}var _v=h1e,f1e=Qwe,m1e=c1e,p1e=_v;function g1e(e){return p1e(e)?f1e(e):m1e(e)}var uw=g1e,v1e=Obe,x1e=Vbe,y1e=uw;function j1e(e){return v1e(e,y1e,x1e)}var b1e=j1e,g4=b1e,w1e=1,N1e=Object.prototype,S1e=N1e.hasOwnProperty;function C1e(e,t,n,s,i,a){var o=n&w1e,l=g4(e),c=l.length,u=g4(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:S1e.call(t,m)))return!1}var g=a.get(e),x=a.get(t);if(g&&x)return g==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){m=l[f];var N=e[m],j=t[m];if(s)var b=o?s(j,N,m,t,e,a):s(N,j,m,e,t,a);if(!(b===void 0?N===j||i(N,j,n,s,a):b)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return a.delete(e),a.delete(t),v}var _1e=C1e,P1e=gd,A1e=wo,E1e=P1e(A1e,"DataView"),T1e=E1e,k1e=gd,O1e=wo,D1e=k1e(O1e,"Promise"),M1e=D1e,I1e=gd,$1e=wo,R1e=I1e($1e,"Set"),pq=R1e,L1e=gd,F1e=wo,B1e=L1e(F1e,"WeakMap"),z1e=B1e,l_=T1e,c_=ME,u_=M1e,d_=pq,h_=z1e,gq=xl,um=bU,v4="[object Map]",V1e="[object Object]",x4="[object Promise]",y4="[object Set]",j4="[object WeakMap]",b4="[object DataView]",U1e=um(l_),q1e=um(c_),W1e=um(u_),H1e=um(d_),G1e=um(h_),uu=gq;(l_&&uu(new l_(new ArrayBuffer(1)))!=b4||c_&&uu(new c_)!=v4||u_&&uu(u_.resolve())!=x4||d_&&uu(new d_)!=y4||h_&&uu(new h_)!=j4)&&(uu=function(e){var t=gq(e),n=t==V1e?e.constructor:void 0,s=n?um(n):"";if(s)switch(s){case U1e:return b4;case q1e:return v4;case W1e:return x4;case H1e:return y4;case G1e:return j4}return t});var K1e=uu,PS=sq,Y1e=lq,Q1e=Pbe,X1e=_1e,w4=K1e,N4=ii,S4=dq,J1e=fq,Z1e=1,C4="[object Arguments]",_4="[object Array]",gy="[object Object]",eNe=Object.prototype,P4=eNe.hasOwnProperty;function tNe(e,t,n,s,i,a){var o=N4(e),l=N4(t),c=o?_4:w4(e),u=l?_4:w4(t);c=c==C4?gy:c,u=u==C4?gy:u;var d=c==gy,f=u==gy,m=c==u;if(m&&S4(e)){if(!S4(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new PS),o||J1e(e)?Y1e(e,t,n,s,i,a):Q1e(e,t,c,n,s,i,a);if(!(n&Z1e)){var g=d&&P4.call(e,"__wrapped__"),x=f&&P4.call(t,"__wrapped__");if(g||x){var v=g?e.value():e,y=x?t.value():t;return a||(a=new PS),i(v,y,n,s,a)}}return m?(a||(a=new PS),X1e(e,t,n,s,i,a)):!1}var nNe=tNe,rNe=nNe,A4=yl;function vq(e,t,n,s,i){return e===t?!0:e==null||t==null||!A4(e)&&!A4(t)?e!==e&&t!==t:rNe(e,t,n,s,vq,i)}var JE=vq,sNe=sq,iNe=JE,aNe=1,oNe=2;function lNe(e,t,n,s){var i=n.length,a=i,o=!s;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new sNe;if(s)var m=s(u,d,c,e,t,f);if(!(m===void 0?iNe(d,u,aNe|oNe,s,f):m))return!1}}return!0}var cNe=lNe,uNe=zc;function dNe(e){return e===e&&!uNe(e)}var xq=dNe,hNe=xq,fNe=uw;function mNe(e){for(var t=fNe(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,hNe(i)]}return t}var pNe=mNe;function gNe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var yq=gNe,vNe=cNe,xNe=pNe,yNe=yq;function jNe(e){var t=xNe(e);return t.length==1&&t[0][2]?yNe(t[0][0],t[0][1]):function(n){return n===e||vNe(n,e,t)}}var bNe=jNe;function wNe(e,t){return e!=null&&t in Object(e)}var NNe=wNe,SNe=_U,CNe=YE,_Ne=ii,PNe=QE,ANe=XE,ENe=Yb;function TNe(e,t,n){t=SNe(t,e);for(var s=-1,i=t.length,a=!1;++s<i;){var o=ENe(t[s]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++s!=i?a:(i=e==null?0:e.length,!!i&&ANe(i)&&PNe(o,i)&&(_Ne(e)||CNe(e)))}var kNe=TNe,ONe=NNe,DNe=kNe;function MNe(e,t){return e!=null&&DNe(e,t,ONe)}var INe=MNe,$Ne=JE,RNe=PU,LNe=INe,FNe=kE,BNe=xq,zNe=yq,VNe=Yb,UNe=1,qNe=2;function WNe(e,t){return FNe(e)&&BNe(t)?zNe(VNe(e),t):function(n){var s=RNe(n,e);return s===void 0&&s===t?LNe(n,e):$Ne(t,s,UNe|qNe)}}var HNe=WNe;function GNe(e){return e}var dm=GNe;function KNe(e){return function(t){return t==null?void 0:t[e]}}var YNe=KNe,QNe=LE;function XNe(e){return function(t){return QNe(t,e)}}var JNe=XNe,ZNe=YNe,eSe=JNe,tSe=kE,nSe=Yb;function rSe(e){return tSe(e)?ZNe(nSe(e)):eSe(e)}var sSe=rSe,iSe=bNe,aSe=HNe,oSe=dm,lSe=ii,cSe=sSe;function uSe(e){return typeof e=="function"?e:e==null?oSe:typeof e=="object"?lSe(e)?aSe(e[0],e[1]):iSe(e):cSe(e)}var No=uSe;function dSe(e,t,n,s){for(var i=e.length,a=n+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var jq=dSe;function hSe(e){return e!==e}var fSe=hSe;function mSe(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}var pSe=mSe,gSe=jq,vSe=fSe,xSe=pSe;function ySe(e,t,n){return t===t?xSe(e,t,n):gSe(e,vSe,n)}var jSe=ySe,bSe=jSe;function wSe(e,t){var n=e==null?0:e.length;return!!n&&bSe(e,t,0)>-1}var NSe=wSe;function SSe(e,t,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(t,e[s]))return!0;return!1}var CSe=SSe;function _Se(){}var PSe=_Se,AS=pq,ASe=PSe,ESe=KE,TSe=1/0,kSe=AS&&1/ESe(new AS([,-0]))[1]==TSe?function(e){return new AS(e)}:ASe,OSe=kSe,DSe=iq,MSe=NSe,ISe=CSe,$Se=oq,RSe=OSe,LSe=KE,FSe=200;function BSe(e,t,n){var s=-1,i=MSe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=ISe;else if(a>=FSe){var u=t?null:RSe(e);if(u)return LSe(u);o=!1,i=$Se,c=new DSe}else c=t?[]:l;e:for(;++s<a;){var d=e[s],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var zSe=BSe,VSe=No,USe=zSe;function qSe(e,t){return e&&e.length?USe(e,VSe(t)):[]}var WSe=qSe;const E4=vn(WSe);function bq(e,t,n){return t===!0?E4(e,n):yt(t)?E4(e,t):e}function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}var HSe=["ref"];function T4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(n),!0).forEach(function(s){dw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function GSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Nq(s.key),s)}}function KSe(e,t,n){return t&&k4(e.prototype,t),n&&k4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YSe(e,t,n){return t=J0(t),QSe(e,wq()?Reflect.construct(t,n||[],J0(e).constructor):t.apply(e,n))}function QSe(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XSe(e)}function XSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!e})()}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(e)}function JSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},f_(e,t)}function dw(e,t,n){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nq(e){var t=ZSe(e,"string");return pf(t)=="symbol"?t:t+""}function ZSe(e,t){if(pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eCe(e,t){if(e==null)return{};var n=tCe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function tCe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function nCe(e){return e.value}function rCe(e,t){if(W.isValidElement(e))return W.cloneElement(e,t);if(typeof e=="function")return W.createElement(e,t);t.ref;var n=eCe(t,HSe);return W.createElement(GE,n)}var O4=1,Ih=function(e){function t(){var n;GSe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=YSe(this,t,[].concat(i)),dw(n,"lastBoundingBox",{width:-1,height:-1}),n}return JSe(t,e),KSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>O4||Math.abs(i.height-this.lastBoundingBox.height)>O4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,s&&s(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Io(Io({},f),m)}},{key:"render",value:function(){var s=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Io(Io({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){s.wrapperNode=g}},rCe(a,Io(Io({},this.props),{},{payload:bq(d,u,nCe)})))}}],[{key:"getWithHeight",value:function(s,i){var a=Io(Io({},this.defaultProps),s.props),o=a.layout;return o==="vertical"&&Ve(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}])}(w.PureComponent);dw(Ih,"displayName","Legend");dw(Ih,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var D4=Cv,sCe=YE,iCe=ii,M4=D4?D4.isConcatSpreadable:void 0;function aCe(e){return iCe(e)||sCe(e)||!!(M4&&e&&e[M4])}var oCe=aCe,lCe=cq,cCe=oCe;function Sq(e,t,n,s,i){var a=-1,o=e.length;for(n||(n=cCe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?Sq(l,t-1,n,s,i):lCe(i,l):s||(i[i.length]=l)}return i}var Cq=Sq;function uCe(e){return function(t,n,s){for(var i=-1,a=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var dCe=uCe,hCe=dCe,fCe=hCe(),mCe=fCe,pCe=mCe,gCe=uw;function vCe(e,t){return e&&pCe(e,t,gCe)}var _q=vCe,xCe=_v;function yCe(e,t){return function(n,s){if(n==null)return n;if(!xCe(n))return e(n,s);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&s(o[a],a,o)!==!1;);return n}}var jCe=yCe,bCe=_q,wCe=jCe,NCe=wCe(bCe),ZE=NCe,SCe=ZE,CCe=_v;function _Ce(e,t){var n=-1,s=CCe(e)?Array(e.length):[];return SCe(e,function(i,a,o){s[++n]=t(i,a,o)}),s}var Pq=_Ce;function PCe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var ACe=PCe,I4=rm;function ECe(e,t){if(e!==t){var n=e!==void 0,s=e===null,i=e===e,a=I4(e),o=t!==void 0,l=t===null,c=t===t,u=I4(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||s&&o&&c||!n&&c||!i)return 1;if(!s&&!a&&!u&&e<t||u&&n&&i&&!s&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var TCe=ECe,kCe=TCe;function OCe(e,t,n){for(var s=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++s<o;){var c=kCe(i[s],a[s]);if(c){if(s>=l)return c;var u=n[s];return c*(u=="desc"?-1:1)}}return e.index-t.index}var DCe=OCe,ES=RE,MCe=LE,ICe=No,$Ce=Pq,RCe=ACe,LCe=hq,FCe=DCe,BCe=dm,zCe=ii;function VCe(e,t,n){t.length?t=ES(t,function(a){return zCe(a)?function(o){return MCe(o,a.length===1?a[0]:a)}:a}):t=[BCe];var s=-1;t=ES(t,LCe(ICe));var i=$Ce(e,function(a,o,l){var c=ES(t,function(u){return u(a)});return{criteria:c,index:++s,value:a}});return RCe(i,function(a,o){return FCe(a,o,n)})}var UCe=VCe;function qCe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var WCe=qCe,HCe=WCe,$4=Math.max;function GCe(e,t,n){return t=$4(t===void 0?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=$4(s.length-t,0),o=Array(a);++i<a;)o[i]=s[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=s[i];return l[t]=n(o),HCe(e,this,l)}}var KCe=GCe;function YCe(e){return function(){return e}}var QCe=YCe,XCe=gd,JCe=function(){try{var e=XCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Aq=JCe,ZCe=QCe,R4=Aq,e2e=dm,t2e=R4?function(e,t){return R4(e,"toString",{configurable:!0,enumerable:!1,value:ZCe(t),writable:!0})}:e2e,n2e=t2e,r2e=800,s2e=16,i2e=Date.now;function a2e(e){var t=0,n=0;return function(){var s=i2e(),i=s2e-(s-n);if(n=s,i>0){if(++t>=r2e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var o2e=a2e,l2e=n2e,c2e=o2e,u2e=c2e(l2e),d2e=u2e,h2e=dm,f2e=KCe,m2e=d2e;function p2e(e,t){return m2e(f2e(e,t,h2e),e+"")}var g2e=p2e,v2e=DE,x2e=_v,y2e=QE,j2e=zc;function b2e(e,t,n){if(!j2e(n))return!1;var s=typeof t;return(s=="number"?x2e(n)&&y2e(t,n.length):s=="string"&&t in n)?v2e(n[t],e):!1}var hw=b2e,w2e=Cq,N2e=UCe,S2e=g2e,L4=hw,C2e=S2e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&L4(e,t[0],t[1])?t=[]:n>2&&L4(t[0],t[1],t[2])&&(t=[t[0]]),N2e(e,w2e(t,1),[])}),_2e=C2e;const eT=vn(_2e);function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m_.apply(this,arguments)}function P2e(e,t){return k2e(e)||T2e(e,t)||E2e(e,t)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2e(e,t){if(e){if(typeof e=="string")return F4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F4(e,t)}}function F4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function T2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function k2e(e){if(Array.isArray(e))return e}function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function TS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(s){O2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function O2e(e,t,n){return t=D2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D2e(e){var t=M2e(e,"string");return yg(t)=="symbol"?t:t+""}function M2e(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I2e(e){return Array.isArray(e)&&Ir(e[0])&&Ir(e[1])?e.join(" ~ "):e}var $2e=function(t){var n=t.separator,s=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,g=t.wrapperClassName,x=t.labelClassName,v=t.label,y=t.labelFormatter,N=t.accessibilityLayer,j=N===void 0?!1:N,b=function(){if(d&&d.length){var O={padding:0,margin:0},L=(m?eT(d,m):d).map(function(B,ee){if(B.type==="none")return null;var G=TS({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),J=B.formatter||f||I2e,q=B.value,$=B.name,oe=q,ge=$;if(J&&oe!=null&&ge!=null){var re=J(q,$,B,ee,d);if(Array.isArray(re)){var Z=P2e(re,2);oe=Z[0],ge=Z[1]}else oe=re}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:G},Ir(ge)?W.createElement("span",{className:"recharts-tooltip-item-name"},ge):null,Ir(ge)?W.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,W.createElement("span",{className:"recharts-tooltip-item-value"},oe),W.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},C=TS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=TS({margin:0},u),A=!Et(v),P=A?v:"",E=Tt("recharts-default-tooltip",g),D=Tt("recharts-tooltip-label",x);A&&y&&d!==void 0&&d!==null&&(P=y(v,d));var I=j?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",m_({className:E,style:C},I),W.createElement("p",{className:D,style:_},W.isValidElement(P)?P:"".concat(P)),b())};function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function vy(e,t,n){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R2e(e){var t=L2e(e,"string");return jg(t)=="symbol"?t:t+""}function L2e(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp="recharts-tooltip-wrapper",F2e={visibility:"hidden"};function B2e(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return Tt(tp,vy(vy(vy(vy({},"".concat(tp,"-right"),Ve(n)&&t&&Ve(t.x)&&n>=t.x),"".concat(tp,"-left"),Ve(n)&&t&&Ve(t.x)&&n<t.x),"".concat(tp,"-bottom"),Ve(s)&&t&&Ve(t.y)&&s>=t.y),"".concat(tp,"-top"),Ve(s)&&t&&Ve(t.y)&&s<t.y))}function z4(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ve(a[s]))return a[s];var d=n[s]-l-i,f=n[s]+i;if(t[s])return o[s]?d:f;if(o[s]){var m=d,g=c[s];return m<g?Math.max(f,c[s]):Math.max(d,c[s])}var x=f+l,v=c[s]+u;return x>v?Math.max(d,c[s]):Math.max(f,c[s])}function z2e(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function V2e(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=z4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=z4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=z2e({translateX:d,translateY:f,useTranslate3d:l})):u=F2e,{cssProperties:u,cssClasses:B2e({translateX:d,translateY:f,coordinate:n})}}function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function U4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(s){g_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function U2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Tq(s.key),s)}}function W2e(e,t,n){return t&&q2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H2e(e,t,n){return t=Z0(t),G2e(e,Eq()?Reflect.construct(t,n||[],Z0(e).constructor):t.apply(e,n))}function G2e(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K2e(e)}function K2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eq=function(){return!!e})()}function Z0(e){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(e)}function Y2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},p_(e,t)}function g_(e,t,n){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tq(e){var t=Q2e(e,"string");return gf(t)=="symbol"?t:t+""}function Q2e(e,t){if(gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q4=1,X2e=function(e){function t(){var n;U2e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=H2e(this,t,[].concat(i)),g_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),g_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Y2e(t,e),W2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>q4||Math.abs(s.height-this.state.lastBoundingBox.height)>q4)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,N=i.viewBox,j=i.wrapperStyle,b=V2e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),C=b.cssClasses,_=b.cssProperties,A=U4(U4({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return W.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(E){s.wrapperNode=E}},u)}}])}(w.PureComponent),J2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Oa={isSsr:J2e(),get:function(t){return Oa[t]},set:function(t,n){if(typeof t=="string")Oa[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(i){Oa[i]=t[i]})}}};function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function H4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(s){tT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Z2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Oq(s.key),s)}}function t_e(e,t,n){return t&&e_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n_e(e,t,n){return t=ej(t),r_e(e,kq()?Reflect.construct(t,n||[],ej(e).constructor):t.apply(e,n))}function r_e(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_e(e)}function s_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!e})()}function ej(e){return ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ej(e)}function i_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},v_(e,t)}function tT(e,t,n){return t=Oq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oq(e){var t=a_e(e,"string");return vf(t)=="symbol"?t:t+""}function a_e(e,t){if(vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o_e(e){return e.dataKey}function l_e(e,t){return W.isValidElement(e)?W.cloneElement(e,t):typeof e=="function"?W.createElement(e,t):W.createElement($2e,t)}var qr=function(e){function t(){return Z2e(this,t),n_e(this,t,arguments)}return i_e(t,e),t_e(t,[{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,N=i.reverseDirection,j=i.useTranslate3d,b=i.viewBox,C=i.wrapperStyle,_=x??[];f&&_.length&&(_=bq(x.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),v,o_e));var A=_.length>0;return W.createElement(X2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:A,offset:g,position:y,reverseDirection:N,useTranslate3d:j,viewBox:b,wrapperStyle:C},l_e(u,H4(H4({},this.props),{},{payload:_})))}}])}(w.PureComponent);tT(qr,"displayName","Tooltip");tT(qr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Oa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var c_e=wo,u_e=function(){return c_e.Date.now()},d_e=u_e,h_e=/\s/;function f_e(e){for(var t=e.length;t--&&h_e.test(e.charAt(t)););return t}var m_e=f_e,p_e=m_e,g_e=/^\s+/;function v_e(e){return e&&e.slice(0,p_e(e)+1).replace(g_e,"")}var x_e=v_e,y_e=x_e,G4=zc,j_e=rm,K4=NaN,b_e=/^[-+]0x[0-9a-f]+$/i,w_e=/^0b[01]+$/i,N_e=/^0o[0-7]+$/i,S_e=parseInt;function C_e(e){if(typeof e=="number")return e;if(j_e(e))return K4;if(G4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=G4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=y_e(e);var n=w_e.test(e);return n||N_e.test(e)?S_e(e.slice(2),n?2:8):b_e.test(e)?K4:+e}var Dq=C_e,__e=zc,kS=d_e,Y4=Dq,P_e="Expected a function",A_e=Math.max,E_e=Math.min;function T_e(e,t,n){var s,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(P_e);t=Y4(t)||0,__e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?A_e(Y4(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(A){var P=s,E=i;return s=i=void 0,u=A,o=e.apply(E,P),o}function x(A){return u=A,l=setTimeout(N,t),d?g(A):o}function v(A){var P=A-c,E=A-u,D=t-P;return f?E_e(D,a-E):D}function y(A){var P=A-c,E=A-u;return c===void 0||P>=t||P<0||f&&E>=a}function N(){var A=kS();if(y(A))return j(A);l=setTimeout(N,v(A))}function j(A){return l=void 0,m&&s?g(A):(s=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,s=c=i=l=void 0}function C(){return l===void 0?o:j(kS())}function _(){var A=kS(),P=y(A);if(s=arguments,i=this,c=A,P){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(N,t),g(c)}return l===void 0&&(l=setTimeout(N,t)),o}return _.cancel=b,_.flush=C,_}var k_e=T_e,O_e=k_e,D_e=zc,M_e="Expected a function";function I_e(e,t,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(M_e);return D_e(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),O_e(e,t,{leading:s,maxWait:t,trailing:i})}var $_e=I_e;const Mq=vn($_e);function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function Q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(n),!0).forEach(function(s){R_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function R_e(e,t,n){return t=L_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L_e(e){var t=F_e(e,"string");return bg(t)=="symbol"?t:t+""}function F_e(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B_e(e,t){return q_e(e)||U_e(e,t)||V_e(e,t)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(e,t){if(e){if(typeof e=="string")return X4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function U_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function q_e(e){if(Array.isArray(e))return e}var dl=w.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,i=s===void 0?{width:-1,height:-1}:s,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,g=e.children,x=e.debounce,v=x===void 0?0:x,y=e.id,N=e.className,j=e.onResize,b=e.style,C=b===void 0?{}:b,_=w.useRef(null),A=w.useRef();A.current=j,w.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var P=w.useState({containerWidth:i.width,containerHeight:i.height}),E=B_e(P,2),D=E[0],I=E[1],k=w.useCallback(function(L,B){I(function(ee){var G=Math.round(L),J=Math.round(B);return ee.containerWidth===G&&ee.containerHeight===J?ee:{containerWidth:G,containerHeight:J}})},[]);w.useEffect(function(){var L=function($){var oe,ge=$[0].contentRect,re=ge.width,Z=ge.height;k(re,Z),(oe=A.current)===null||oe===void 0||oe.call(A,re,Z)};v>0&&(L=Mq(L,v,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),ee=_.current.getBoundingClientRect(),G=ee.width,J=ee.height;return k(G,J),B.observe(_.current),function(){B.disconnect()}},[k,v]);var O=w.useMemo(function(){var L=D.containerWidth,B=D.containerHeight;if(L<0||B<0)return null;ka(yu(o)||yu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ka(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=yu(o)?L:o,G=yu(c)?B:c;n&&n>0&&(ee?G=ee/n:G&&(ee=G*n),m&&G>m&&(G=m)),ka(ee>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,G,o,c,d,f,n);var J=!Array.isArray(g)&&Jo(g.type).endsWith("Chart");return W.Children.map(g,function(q){return W.isValidElement(q)?w.cloneElement(q,xy({width:ee,height:G},J?{style:xy({height:"100%",width:"100%",maxHeight:G,maxWidth:ee},q.props.style)}:{})):q})},[n,g,c,m,f,d,D,o]);return W.createElement("div",{id:y?"".concat(y):void 0,className:Tt("recharts-responsive-container",N),style:xy(xy({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:_},O)}),hm=function(t){return null};hm.displayName="Cell";function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(s){W_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function W_e(e,t,n){return t=H_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_e(e){var t=G_e(e,"string");return wg(t)=="symbol"?t:t+""}function G_e(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd={widthCache:{},cacheCount:0},K_e=2e3,Y_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Z4="recharts_measurement_span";function Q_e(e){var t=x_({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Ip=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oa.isSsr)return{width:0,height:0};var s=Q_e(n),i=JSON.stringify({text:t,copyStyle:s});if(Xd.widthCache[i])return Xd.widthCache[i];try{var a=document.getElementById(Z4);a||(a=document.createElement("span"),a.setAttribute("id",Z4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=x_(x_({},Y_e),s);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Xd.widthCache[i]=c,++Xd.cacheCount>K_e&&(Xd.cacheCount=0,Xd.widthCache={}),c}catch{return{width:0,height:0}}},X_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function tj(e,t){return tPe(e)||ePe(e,t)||Z_e(e,t)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(e,t){if(e){if(typeof e=="string")return e$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e$(e,t)}}function e$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ePe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tPe(e){if(Array.isArray(e))return e}function nPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,sPe(s.key),s)}}function rPe(e,t,n){return t&&t$(e.prototype,t),n&&t$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sPe(e){var t=iPe(e,"string");return Ng(t)=="symbol"?t:t+""}function iPe(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ng(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Iq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lPe=Object.keys(Iq),vh="NaN";function cPe(e,t){return e*Iq[t]}var yy=function(){function e(t,n){nPe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!aPe.test(n)&&(this.num=NaN,this.unit=""),lPe.includes(n)&&(this.num=cPe(t,n),this.unit="px")}return rPe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,i=(s=oPe.exec(n))!==null&&s!==void 0?s:[],a=tj(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function $q(e){if(e.includes(vh))return vh;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=n$.exec(t))!==null&&n!==void 0?n:[],i=tj(s,4),a=i[1],o=i[2],l=i[3],c=yy.parse(a??""),u=yy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return vh;t=t.replace(n$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=r$.exec(t))!==null&&f!==void 0?f:[],g=tj(m,4),x=g[1],v=g[2],y=g[3],N=yy.parse(x??""),j=yy.parse(y??""),b=v==="+"?N.add(j):N.subtract(j);if(b.isNaN())return vh;t=t.replace(r$,b.toString())}return t}var s$=/\(([^()]*)\)/;function uPe(e){for(var t=e;t.includes("(");){var n=s$.exec(t),s=tj(n,2),i=s[1];t=t.replace(s$,$q(i))}return t}function dPe(e){var t=e.replace(/\s+/g,"");return t=uPe(t),t=$q(t),t}function hPe(e){try{return dPe(e)}catch{return vh}}function OS(e){var t=hPe(e.slice(5,-1));return t===vh?"":t}var fPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mPe=["dx","dy","angle","className","breakAll"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y_.apply(this,arguments)}function i$(e,t){if(e==null)return{};var n=pPe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function pPe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function a$(e,t){return yPe(e)||xPe(e,t)||vPe(e,t)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vPe(e,t){if(e){if(typeof e=="string")return o$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o$(e,t)}}function o$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function xPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yPe(e){if(Array.isArray(e))return e}var Rq=/[ \f\n\r\t\v\u2028\u2029]+/,Lq=function(t){var n=t.children,s=t.breakAll,i=t.style;try{var a=[];Et(n)||(s?a=n.toString().split(""):a=n.toString().split(Rq));var o=a.map(function(c){return{word:c,width:Ip(c,i).width}}),l=s?0:Ip(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},jPe=function(t,n,s,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ve(o),f=l,m=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(G,J){var q=J.word,$=J.width,oe=G[G.length-1];if(oe&&(i==null||a||oe.width+$+s<Number(i)))oe.words.push(q),oe.width+=$+s;else{var ge={words:[q],width:$};G.push(ge)}return G},[])},g=m(n),x=function(ee){return ee.reduce(function(G,J){return G.width>J.width?G:J})};if(!d)return g;for(var v="…",y=function(ee){var G=f.slice(0,ee),J=Lq({breakAll:u,style:c,children:G+v}).wordsWithComputedWidth,q=m(J),$=q.length>o||x(q).width>Number(i);return[$,q]},N=0,j=f.length-1,b=0,C;N<=j&&b<=f.length-1;){var _=Math.floor((N+j)/2),A=_-1,P=y(A),E=a$(P,2),D=E[0],I=E[1],k=y(_),O=a$(k,1),L=O[0];if(!D&&!L&&(N=_+1),D&&L&&(j=_-1),!D&&L){C=I;break}b++}return C||g},l$=function(t){var n=Et(t)?[]:t.toString().split(Rq);return[{words:n}]},bPe=function(t){var n=t.width,s=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!Oa.isSsr){var c,u,d=Lq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return l$(i);return jPe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,s)}return l$(i)},c$="#808080",Zu=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,g=m===void 0?"start":m,x=t.verticalAnchor,v=x===void 0?"end":x,y=t.fill,N=y===void 0?c$:y,j=i$(t,fPe),b=w.useMemo(function(){return bPe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),C=j.dx,_=j.dy,A=j.angle,P=j.className,E=j.breakAll,D=i$(j,mPe);if(!Ir(s)||!Ir(a))return null;var I=s+(Ve(C)?C:0),k=a+(Ve(_)?_:0),O;switch(v){case"start":O=OS("calc(".concat(u,")"));break;case"middle":O=OS("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=OS("calc(".concat(b.length-1," * -").concat(l,")"));break}var L=[];if(f){var B=b[0].width,ee=j.width;L.push("scale(".concat((Ve(ee)?ee/B:1)/B,")"))}return A&&L.push("rotate(".concat(A,", ").concat(I,", ").concat(k,")")),L.length&&(D.transform=L.join(" ")),W.createElement("text",y_({},ct(D,!0),{x:I,y:k,className:Tt("recharts-text",P),textAnchor:g,fill:N.includes("url")?c$:N}),b.map(function(G,J){var q=G.words.join(E?"":" ");return W.createElement("tspan",{x:I,dy:J===0?O:l,key:"".concat(q,"-").concat(J)},q)}))};function jc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nT(e){let t,n,s;e.length!==2?(t=jc,n=(l,c)=>jc(e(l),c),s=(l,c)=>e(l)-c):(t=e===jc||e===wPe?e:NPe,n=e,s=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function NPe(){return 0}function Fq(e){return e===null?NaN:+e}function*SPe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const CPe=nT(jc),Pv=CPe.right;nT(Fq).center;class u$ extends Map{constructor(t,n=APe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,i]of t)this.set(s,i)}get(t){return super.get(d$(this,t))}has(t){return super.has(d$(this,t))}set(t,n){return super.set(_Pe(this,t),n)}delete(t){return super.delete(PPe(this,t))}}function d$({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function _Pe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function PPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function APe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function EPe(e=jc){if(e===jc)return Bq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function Bq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TPe=Math.sqrt(50),kPe=Math.sqrt(10),OPe=Math.sqrt(2);function nj(e,t,n){const s=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(s)),a=s/Math.pow(10,i),o=a>=TPe?10:a>=kPe?5:a>=OPe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?nj(e,t,n*2):[l,c,u]}function j_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[i,a,o]=s?nj(t,e,n):nj(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function b_(e,t,n){return t=+t,e=+e,n=+n,nj(e,t,n)[2]}function w_(e,t,n){t=+t,e=+e,n=+n;const s=t<e,i=s?b_(t,e,n):b_(e,t,n);return(s?-1:1)*(i<0?1/-i:i)}function h$(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function f$(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function zq(e,t,n=0,s=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(i=i===void 0?Bq:EPe(i);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/c+m)),x=Math.min(s,Math.floor(t+(c-u)*f/c+m));zq(e,t,g,x,i)}const a=e[t];let o=n,l=s;for(np(e,n,t),i(e[s],a)>0&&np(e,n,s);o<l;){for(np(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?np(e,n,l):(++l,np(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function np(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function DPe(e,t,n){if(e=Float64Array.from(SPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return f$(e);if(t>=1)return h$(e);var s,i=(s-1)*t,a=Math.floor(i),o=h$(zq(e,a).subarray(0,a+1)),l=f$(e.subarray(a+1));return o+(l-o)*(i-a)}}function MPe(e,t,n=Fq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,i=(s-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function IPe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var s=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++s<i;)a[s]=e+s*n;return a}function sa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const N_=Symbol("implicit");function rT(){var e=new u$,t=[],n=[],s=N_;function i(a){let o=e.get(a);if(o===void 0){if(s!==N_)return s;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new u$;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return rT(t,n).unknown(s)},sa.apply(i,arguments),i}function Sg(){var e=rT().unknown(void 0),t=e.domain,n=e.range,s=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,g=i<s,x=g?i:s,v=g?s:i;a=(v-x)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),x+=(v-x-a*(m-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=IPe(m).map(function(N){return x+a*N});return n(g?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,i]=m,s=+s,i=+i,f()):[s,i]},e.rangeRound=function(m){return[s,i]=m,s=+s,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Sg(t(),[s,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},sa.apply(f(),arguments)}function Vq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Vq(t())},e}function $p(){return Vq(Sg.apply(null,arguments).paddingInner(1))}function sT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Uq(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Av(){}var Cg=.7,rj=1/Cg,$h="\\s*([+-]?\\d+)\\s*",_g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Pe=/^#([0-9a-f]{3,8})$/,RPe=new RegExp(`^rgb\\(${$h},${$h},${$h}\\)$`),LPe=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),FPe=new RegExp(`^rgba\\(${$h},${$h},${$h},${_g}\\)$`),BPe=new RegExp(`^rgba\\(${mo},${mo},${mo},${_g}\\)$`),zPe=new RegExp(`^hsl\\(${_g},${mo},${mo}\\)$`),VPe=new RegExp(`^hsla\\(${_g},${mo},${mo},${_g}\\)$`),m$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sT(Av,Pg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:p$,formatHex:p$,formatHex8:UPe,formatHsl:qPe,formatRgb:g$,toString:g$});function p$(){return this.rgb().formatHex()}function UPe(){return this.rgb().formatHex8()}function qPe(){return qq(this).formatHsl()}function g$(){return this.rgb().formatRgb()}function Pg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$Pe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?v$(t):n===3?new Js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RPe.exec(e))?new Js(t[1],t[2],t[3],1):(t=LPe.exec(e))?new Js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FPe.exec(e))?jy(t[1],t[2],t[3],t[4]):(t=BPe.exec(e))?jy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zPe.exec(e))?j$(t[1],t[2]/100,t[3]/100,1):(t=VPe.exec(e))?j$(t[1],t[2]/100,t[3]/100,t[4]):m$.hasOwnProperty(e)?v$(m$[e]):e==="transparent"?new Js(NaN,NaN,NaN,0):null}function v$(e){return new Js(e>>16&255,e>>8&255,e&255,1)}function jy(e,t,n,s){return s<=0&&(e=t=n=NaN),new Js(e,t,n,s)}function WPe(e){return e instanceof Av||(e=Pg(e)),e?(e=e.rgb(),new Js(e.r,e.g,e.b,e.opacity)):new Js}function S_(e,t,n,s){return arguments.length===1?WPe(e):new Js(e,t,n,s??1)}function Js(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}sT(Js,S_,Uq(Av,{brighter(e){return e=e==null?rj:Math.pow(rj,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cg:Math.pow(Cg,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Js(Iu(this.r),Iu(this.g),Iu(this.b),sj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x$,formatHex:x$,formatHex8:HPe,formatRgb:y$,toString:y$}));function x$(){return`#${ju(this.r)}${ju(this.g)}${ju(this.b)}`}function HPe(){return`#${ju(this.r)}${ju(this.g)}${ju(this.b)}${ju((isNaN(this.opacity)?1:this.opacity)*255)}`}function y$(){const e=sj(this.opacity);return`${e===1?"rgb(":"rgba("}${Iu(this.r)}, ${Iu(this.g)}, ${Iu(this.b)}${e===1?")":`, ${e})`}`}function sj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Iu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ju(e){return e=Iu(e),(e<16?"0":"")+e.toString(16)}function j$(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _a(e,t,n,s)}function qq(e){if(e instanceof _a)return new _a(e.h,e.s,e.l,e.opacity);if(e instanceof Av||(e=Pg(e)),!e)return new _a;if(e instanceof _a)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,i=Math.min(t,n,s),a=Math.max(t,n,s),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-s)/l+(n<s)*6:n===a?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new _a(o,l,c,e.opacity)}function GPe(e,t,n,s){return arguments.length===1?qq(e):new _a(e,t,n,s??1)}function _a(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}sT(_a,GPe,Uq(Av,{brighter(e){return e=e==null?rj:Math.pow(rj,e),new _a(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cg:Math.pow(Cg,e),new _a(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,i=2*n-s;return new Js(DS(e>=240?e-240:e+120,i,s),DS(e,i,s),DS(e<120?e+240:e-120,i,s),this.opacity)},clamp(){return new _a(b$(this.h),by(this.s),by(this.l),sj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sj(this.opacity);return`${e===1?"hsl(":"hsla("}${b$(this.h)}, ${by(this.s)*100}%, ${by(this.l)*100}%${e===1?")":`, ${e})`}`}}));function b$(e){return e=(e||0)%360,e<0?e+360:e}function by(e){return Math.max(0,Math.min(1,e||0))}function DS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const iT=e=>()=>e;function KPe(e,t){return function(n){return e+n*t}}function YPe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function QPe(e){return(e=+e)==1?Wq:function(t,n){return n-t?YPe(t,n,e):iT(isNaN(t)?n:t)}}function Wq(e,t){var n=t-e;return n?KPe(e,n):iT(isNaN(e)?t:e)}const w$=function e(t){var n=QPe(t);function s(i,a){var o=n((i=S_(i)).r,(a=S_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Wq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return s.gamma=e,s}(1);function XPe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),i;return function(a){for(i=0;i<n;++i)s[i]=e[i]*(1-a)+t[i]*a;return s}}function JPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZPe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,i=new Array(s),a=new Array(n),o;for(o=0;o<s;++o)i[o]=fm(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<s;++o)a[o]=i[o](l);return a}}function eAe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function ij(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tAe(e,t){var n={},s={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=fm(e[i],t[i]):s[i]=t[i];return function(a){for(i in n)s[i]=n[i](a);return s}}var C_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MS=new RegExp(C_.source,"g");function nAe(e){return function(){return e}}function rAe(e){return function(t){return e(t)+""}}function sAe(e,t){var n=C_.lastIndex=MS.lastIndex=0,s,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=C_.exec(e))&&(i=MS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(s=s[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:ij(s,i)})),n=MS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?rAe(c[0].x):nAe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function fm(e,t){var n=typeof t,s;return t==null||n==="boolean"?iT(t):(n==="number"?ij:n==="string"?(s=Pg(t))?(t=s,w$):sAe:t instanceof Pg?w$:t instanceof Date?eAe:JPe(t)?XPe:Array.isArray(t)?ZPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tAe:ij)(e,t)}function aT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function iAe(e,t){t===void 0&&(t=e,e=fm);for(var n=0,s=t.length-1,i=t[0],a=new Array(s<0?0:s);n<s;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return a[l](o-l)}}function aAe(e){return function(){return e}}function aj(e){return+e}var N$=[0,1];function Ms(e){return e}function __(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:aAe(isNaN(t)?NaN:.5)}function oAe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function lAe(e,t,n){var s=e[0],i=e[1],a=t[0],o=t[1];return i<s?(s=__(i,s),a=n(o,a)):(s=__(s,i),a=n(a,o)),function(l){return a(s(l))}}function cAe(e,t,n){var s=Math.min(e.length,t.length)-1,i=new Array(s),a=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)i[o]=__(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Pv(e,l,1,s)-1;return a[c](i[c](l))}}function Ev(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fw(){var e=N$,t=N$,n=fm,s,i,a,o=Ms,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ms&&(o=oAe(e[0],e[m-1])),l=m>2?cAe:lAe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(s),t,n)))(s(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(s),ij)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,aj),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=aT,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ms,d()):o!==Ms},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,g){return s=m,i=g,d()}}function oT(){return fw()(Ms,Ms)}function uAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function oj(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function xf(e){return e=oj(Math.abs(e)),e?e[1]:NaN}function dAe(e,t){return function(n,s){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function hAe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ag(e){if(!(t=fAe.exec(e)))throw new Error("invalid format: "+e);var t;return new lT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ag.prototype=lT.prototype;function lT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mAe(e){e:for(var t=e.length,n=1,s=-1,i;n<t;++n)switch(e[n]){case".":s=i=n;break;case"0":s===0&&(s=n),i=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(i+1):e}var Hq;function pAe(e,t){var n=oj(e,t);if(!n)return e+"";var s=n[0],i=n[1],a=i-(Hq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=s.length;return a===o?s:a>o?s+new Array(a-o+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+oj(e,Math.max(0,t+a-1))[0]}function S$(e,t){var n=oj(e,t);if(!n)return e+"";var s=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const C$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>S$(e*100,t),r:S$,s:pAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _$(e){return e}var P$=Array.prototype.map,A$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gAe(e){var t=e.grouping===void 0||e.thousands===void 0?_$:dAe(P$.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?_$:hAe(P$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ag(f);var m=f.fill,g=f.align,x=f.sign,v=f.symbol,y=f.zero,N=f.width,j=f.comma,b=f.precision,C=f.trim,_=f.type;_==="n"?(j=!0,_="g"):C$[_]||(b===void 0&&(b=12),C=!0,_="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",P=v==="$"?s:/[%p]/.test(_)?o:"",E=C$[_],D=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(k){var O=A,L=P,B,ee,G;if(_==="c")L=E(k)+L,k="";else{k=+k;var J=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),b),C&&(k=mAe(k)),J&&+k==0&&x!=="+"&&(J=!1),O=(J?x==="("?x:l:x==="-"||x==="("?"":x)+O,L=(_==="s"?A$[8+Hq/3]:"")+L+(J&&x==="("?")":""),D){for(B=-1,ee=k.length;++B<ee;)if(G=k.charCodeAt(B),48>G||G>57){L=(G===46?i+k.slice(B+1):k.slice(B))+L,k=k.slice(0,B);break}}}j&&!y&&(k=t(k,1/0));var q=O.length+k.length+L.length,$=q<N?new Array(N-q+1).join(m):"";switch(j&&y&&(k=t($+k,$.length?N-L.length:1/0),$=""),g){case"<":k=O+k+L+$;break;case"=":k=O+$+k+L;break;case"^":k=$.slice(0,q=$.length>>1)+O+k+L+$.slice(q);break;default:k=$+O+k+L;break}return a(k)}return I.toString=function(){return f+""},I}function d(f,m){var g=u((f=Ag(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(xf(m)/3)))*3,v=Math.pow(10,-x),y=A$[8+x/3];return function(N){return g(v*N)+y}}return{format:u,formatPrefix:d}}var wy,cT,Gq;vAe({thousands:",",grouping:[3],currency:["$",""]});function vAe(e){return wy=gAe(e),cT=wy.format,Gq=wy.formatPrefix,wy}function xAe(e){return Math.max(0,-xf(Math.abs(e)))}function yAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xf(t)/3)))*3-xf(Math.abs(e)))}function jAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xf(t)-xf(e))+1}function Kq(e,t,n,s){var i=w_(e,t,n),a;switch(s=Ag(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(a=yAe(i,o))&&(s.precision=a),Gq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=jAe(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=xAe(i))&&(s.precision=a-(s.type==="%")*2);break}}return cT(s)}function Vc(e){var t=e.domain;return e.ticks=function(n){var s=t();return j_(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var i=t();return Kq(i[0],i[i.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),i=0,a=s.length-1,o=s[i],l=s[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=b_(o,l,n),u===c)return s[i]=o,s[a]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function lj(){var e=oT();return e.copy=function(){return Ev(e,lj())},sa.apply(e,arguments),Vc(e)}function Yq(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,aj),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return Yq(e).unknown(t)},e=arguments.length?Array.from(e,aj):[0,1],Vc(n)}function Qq(e,t){e=e.slice();var n=0,s=e.length-1,i=e[n],a=e[s],o;return a<i&&(o=n,n=s,s=o,o=i,i=a,a=o),e[n]=t.floor(i),e[s]=t.ceil(a),e}function E$(e){return Math.log(e)}function T$(e){return Math.exp(e)}function bAe(e){return-Math.log(-e)}function wAe(e){return-Math.exp(-e)}function NAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function SAe(e){return e===10?NAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function k$(e){return(t,n)=>-e(-t,n)}function uT(e){const t=e(E$,T$),n=t.domain;let s=10,i,a;function o(){return i=CAe(s),a=SAe(s),n()[0]<0?(i=k$(i),a=k$(a),e(bAe,wAe)):e(E$,T$),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),g=i(d),x,v;const y=l==null?10:+l;let N=[];if(!(s%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<s;++x)if(v=m<0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}}else for(;m<=g;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}N.length*2<y&&(N=j_(u,d,y))}else N=j_(m,g,Math.min(g-m,y)).map(a);return f?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Ag(c)).precision==null&&(c.trim=!0),c=cT(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*s<s-.5&&(f*=s),f<=u?c(d):""}},t.nice=()=>n(Qq(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Xq(){const e=uT(fw()).domain([1,10]);return e.copy=()=>Ev(e,Xq()).base(e.base()),sa.apply(e,arguments),e}function O$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function D$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dT(e){var t=1,n=e(O$(t),D$(t));return n.constant=function(s){return arguments.length?e(O$(t=+s),D$(t)):t},Vc(n)}function Jq(){var e=dT(fw());return e.copy=function(){return Ev(e,Jq()).constant(e.constant())},sa.apply(e,arguments)}function M$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _Ae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PAe(e){return e<0?-e*e:e*e}function hT(e){var t=e(Ms,Ms),n=1;function s(){return n===1?e(Ms,Ms):n===.5?e(_Ae,PAe):e(M$(n),M$(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,s()):n},Vc(t)}function fT(){var e=hT(fw());return e.copy=function(){return Ev(e,fT()).exponent(e.exponent())},sa.apply(e,arguments),e}function AAe(){return fT.apply(null,arguments).exponent(.5)}function I$(e){return Math.sign(e)*e*e}function EAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Zq(){var e=oT(),t=[0,1],n=!1,s;function i(a){var o=EAe(e(a));return isNaN(o)?s:n?Math.round(o):o}return i.invert=function(a){return e.invert(I$(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,aj)).map(I$)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return Zq(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},sa.apply(i,arguments),Vc(i)}function e7(){var e=[],t=[],n=[],s;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=MPe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?s:t[Pv(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(jc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(s=o,a):s},a.quantiles=function(){return n.slice()},a.copy=function(){return e7().domain(e).range(t).unknown(s)},sa.apply(a,arguments)}function t7(){var e=0,t=1,n=1,s=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Pv(s,c,0,n)]:a}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return t7().domain([e,t]).range(i).unknown(a)},sa.apply(Vc(o),arguments)}function n7(){var e=[.5],t=[0,1],n,s=1;function i(a){return a!=null&&a<=a?t[Pv(e,a,0,s)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),s=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),s=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return n7().domain(e).range(t).unknown(n)},sa.apply(i,arguments)}const IS=new Date,$S=new Date;function Lr(e,t,n,s){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Lr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(IS.setTime(+a),$S.setTime(+o),e(IS),e($S),Math.floor(n(IS,$S))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(s?o=>s(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const cj=Lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):cj);cj.range;const Ko=1e3,Gi=Ko*60,Yo=Gi*60,hl=Yo*24,mT=hl*7,$$=hl*30,RS=hl*365,bu=Lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getUTCSeconds());bu.range;const pT=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ko)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getMinutes());pT.range;const gT=Lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCMinutes());gT.range;const vT=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ko-e.getMinutes()*Gi)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getHours());vT.range;const xT=Lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getUTCHours());xT.range;const Tv=Lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gi)/hl,e=>e.getDate()-1);Tv.range;const mw=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hl,e=>e.getUTCDate()-1);mw.range;const r7=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hl,e=>Math.floor(e/hl));r7.range;function xd(e){return Lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Gi)/mT)}const pw=xd(0),uj=xd(1),TAe=xd(2),kAe=xd(3),yf=xd(4),OAe=xd(5),DAe=xd(6);pw.range;uj.range;TAe.range;kAe.range;yf.range;OAe.range;DAe.range;function yd(e){return Lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/mT)}const gw=yd(0),dj=yd(1),MAe=yd(2),IAe=yd(3),jf=yd(4),$Ae=yd(5),RAe=yd(6);gw.range;dj.range;MAe.range;IAe.range;jf.range;$Ae.range;RAe.range;const yT=Lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yT.range;const jT=Lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jT.range;const fl=Lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fl.range;const ml=Lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ml.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ml.range;function s7(e,t,n,s,i,a){const o=[[bu,1,Ko],[bu,5,5*Ko],[bu,15,15*Ko],[bu,30,30*Ko],[a,1,Gi],[a,5,5*Gi],[a,15,15*Gi],[a,30,30*Gi],[i,1,Yo],[i,3,3*Yo],[i,6,6*Yo],[i,12,12*Yo],[s,1,hl],[s,2,2*hl],[n,1,mT],[t,1,$$],[t,3,3*$$],[e,1,RS]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),x=g?g.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,g=nT(([,,y])=>y).right(o,m);if(g===o.length)return e.every(w_(u/RS,d/RS,f));if(g===0)return cj.every(Math.max(w_(u,d,f),1));const[x,v]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return x.every(v)}return[l,c]}const[LAe,FAe]=s7(ml,jT,gw,r7,xT,gT),[BAe,zAe]=s7(fl,yT,pw,Tv,vT,pT);function LS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function FS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function VAe(e){var t=e.dateTime,n=e.date,s=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=sp(i),d=ip(i),f=sp(a),m=ip(a),g=sp(o),x=ip(o),v=sp(l),y=ip(l),N=sp(c),j=ip(c),b={a:J,A:q,b:$,B:oe,c:null,d:V$,e:V$,f:dEe,g:bEe,G:NEe,H:lEe,I:cEe,j:uEe,L:i7,m:hEe,M:fEe,p:ge,q:re,Q:W$,s:H$,S:mEe,u:pEe,U:gEe,V:vEe,w:xEe,W:yEe,x:null,X:null,y:jEe,Y:wEe,Z:SEe,"%":q$},C={a:Z,A:ne,b:ve,B:je,c:null,d:U$,e:U$,f:AEe,g:LEe,G:BEe,H:CEe,I:_Ee,j:PEe,L:o7,m:EEe,M:TEe,p:we,q:z,Q:W$,s:H$,S:kEe,u:OEe,U:DEe,V:MEe,w:IEe,W:$Ee,x:null,X:null,y:REe,Y:FEe,Z:zEe,"%":q$},_={a:I,A:k,b:O,B:L,c:B,d:B$,e:B$,f:sEe,g:F$,G:L$,H:z$,I:z$,j:eEe,L:rEe,m:ZAe,M:tEe,p:D,q:JAe,Q:aEe,s:oEe,S:nEe,u:GAe,U:KAe,V:YAe,w:HAe,W:QAe,x:ee,X:G,y:F$,Y:L$,Z:XAe,"%":iEe};b.x=A(n,b),b.X=A(s,b),b.c=A(t,b),C.x=A(n,C),C.X=A(s,C),C.c=A(t,C);function A(Q,te){return function(K){var M=[],xe=-1,Ne=0,de=Q.length,Pe,Ze,at;for(K instanceof Date||(K=new Date(+K));++xe<de;)Q.charCodeAt(xe)===37&&(M.push(Q.slice(Ne,xe)),(Ze=R$[Pe=Q.charAt(++xe)])!=null?Pe=Q.charAt(++xe):Ze=Pe==="e"?" ":"0",(at=te[Pe])&&(Pe=at(K,Ze)),M.push(Pe),Ne=xe+1);return M.push(Q.slice(Ne,xe)),M.join("")}}function P(Q,te){return function(K){var M=rp(1900,void 0,1),xe=E(M,Q,K+="",0),Ne,de;if(xe!=K.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(te&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(Ne=FS(rp(M.y,0,1)),de=Ne.getUTCDay(),Ne=de>4||de===0?dj.ceil(Ne):dj(Ne),Ne=mw.offset(Ne,(M.V-1)*7),M.y=Ne.getUTCFullYear(),M.m=Ne.getUTCMonth(),M.d=Ne.getUTCDate()+(M.w+6)%7):(Ne=LS(rp(M.y,0,1)),de=Ne.getDay(),Ne=de>4||de===0?uj.ceil(Ne):uj(Ne),Ne=Tv.offset(Ne,(M.V-1)*7),M.y=Ne.getFullYear(),M.m=Ne.getMonth(),M.d=Ne.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),de="Z"in M?FS(rp(M.y,0,1)).getUTCDay():LS(rp(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(de+5)%7:M.w+M.U*7-(de+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,FS(M)):LS(M)}}function E(Q,te,K,M){for(var xe=0,Ne=te.length,de=K.length,Pe,Ze;xe<Ne;){if(M>=de)return-1;if(Pe=te.charCodeAt(xe++),Pe===37){if(Pe=te.charAt(xe++),Ze=_[Pe in R$?te.charAt(xe++):Pe],!Ze||(M=Ze(Q,K,M))<0)return-1}else if(Pe!=K.charCodeAt(M++))return-1}return M}function D(Q,te,K){var M=u.exec(te.slice(K));return M?(Q.p=d.get(M[0].toLowerCase()),K+M[0].length):-1}function I(Q,te,K){var M=g.exec(te.slice(K));return M?(Q.w=x.get(M[0].toLowerCase()),K+M[0].length):-1}function k(Q,te,K){var M=f.exec(te.slice(K));return M?(Q.w=m.get(M[0].toLowerCase()),K+M[0].length):-1}function O(Q,te,K){var M=N.exec(te.slice(K));return M?(Q.m=j.get(M[0].toLowerCase()),K+M[0].length):-1}function L(Q,te,K){var M=v.exec(te.slice(K));return M?(Q.m=y.get(M[0].toLowerCase()),K+M[0].length):-1}function B(Q,te,K){return E(Q,t,te,K)}function ee(Q,te,K){return E(Q,n,te,K)}function G(Q,te,K){return E(Q,s,te,K)}function J(Q){return o[Q.getDay()]}function q(Q){return a[Q.getDay()]}function $(Q){return c[Q.getMonth()]}function oe(Q){return l[Q.getMonth()]}function ge(Q){return i[+(Q.getHours()>=12)]}function re(Q){return 1+~~(Q.getMonth()/3)}function Z(Q){return o[Q.getUTCDay()]}function ne(Q){return a[Q.getUTCDay()]}function ve(Q){return c[Q.getUTCMonth()]}function je(Q){return l[Q.getUTCMonth()]}function we(Q){return i[+(Q.getUTCHours()>=12)]}function z(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var te=A(Q+="",b);return te.toString=function(){return Q},te},parse:function(Q){var te=P(Q+="",!1);return te.toString=function(){return Q},te},utcFormat:function(Q){var te=A(Q+="",C);return te.toString=function(){return Q},te},utcParse:function(Q){var te=P(Q+="",!0);return te.toString=function(){return Q},te}}}var R$={"-":"",_:" ",0:"0"},Yr=/^\s*\d+/,UAe=/^%/,qAe=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var s=e<0?"-":"",i=(s?-e:e)+"",a=i.length;return s+(a<n?new Array(n-a+1).join(t)+i:i)}function WAe(e){return e.replace(qAe,"\\$&")}function sp(e){return new RegExp("^(?:"+e.map(WAe).join("|")+")","i")}function ip(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function HAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function GAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function KAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function YAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function QAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function L$(e,t,n){var s=Yr.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function F$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function XAe(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function JAe(e,t,n){var s=Yr.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function ZAe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function B$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function eEe(e,t,n){var s=Yr.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function z$(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function tEe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function nEe(e,t,n){var s=Yr.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function rEe(e,t,n){var s=Yr.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function sEe(e,t,n){var s=Yr.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function iEe(e,t,n){var s=UAe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function aEe(e,t,n){var s=Yr.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function oEe(e,t,n){var s=Yr.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function V$(e,t){return un(e.getDate(),t,2)}function lEe(e,t){return un(e.getHours(),t,2)}function cEe(e,t){return un(e.getHours()%12||12,t,2)}function uEe(e,t){return un(1+Tv.count(fl(e),e),t,3)}function i7(e,t){return un(e.getMilliseconds(),t,3)}function dEe(e,t){return i7(e,t)+"000"}function hEe(e,t){return un(e.getMonth()+1,t,2)}function fEe(e,t){return un(e.getMinutes(),t,2)}function mEe(e,t){return un(e.getSeconds(),t,2)}function pEe(e){var t=e.getDay();return t===0?7:t}function gEe(e,t){return un(pw.count(fl(e)-1,e),t,2)}function a7(e){var t=e.getDay();return t>=4||t===0?yf(e):yf.ceil(e)}function vEe(e,t){return e=a7(e),un(yf.count(fl(e),e)+(fl(e).getDay()===4),t,2)}function xEe(e){return e.getDay()}function yEe(e,t){return un(uj.count(fl(e)-1,e),t,2)}function jEe(e,t){return un(e.getFullYear()%100,t,2)}function bEe(e,t){return e=a7(e),un(e.getFullYear()%100,t,2)}function wEe(e,t){return un(e.getFullYear()%1e4,t,4)}function NEe(e,t){var n=e.getDay();return e=n>=4||n===0?yf(e):yf.ceil(e),un(e.getFullYear()%1e4,t,4)}function SEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function U$(e,t){return un(e.getUTCDate(),t,2)}function CEe(e,t){return un(e.getUTCHours(),t,2)}function _Ee(e,t){return un(e.getUTCHours()%12||12,t,2)}function PEe(e,t){return un(1+mw.count(ml(e),e),t,3)}function o7(e,t){return un(e.getUTCMilliseconds(),t,3)}function AEe(e,t){return o7(e,t)+"000"}function EEe(e,t){return un(e.getUTCMonth()+1,t,2)}function TEe(e,t){return un(e.getUTCMinutes(),t,2)}function kEe(e,t){return un(e.getUTCSeconds(),t,2)}function OEe(e){var t=e.getUTCDay();return t===0?7:t}function DEe(e,t){return un(gw.count(ml(e)-1,e),t,2)}function l7(e){var t=e.getUTCDay();return t>=4||t===0?jf(e):jf.ceil(e)}function MEe(e,t){return e=l7(e),un(jf.count(ml(e),e)+(ml(e).getUTCDay()===4),t,2)}function IEe(e){return e.getUTCDay()}function $Ee(e,t){return un(dj.count(ml(e)-1,e),t,2)}function REe(e,t){return un(e.getUTCFullYear()%100,t,2)}function LEe(e,t){return e=l7(e),un(e.getUTCFullYear()%100,t,2)}function FEe(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function BEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jf(e):jf.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function zEe(){return"+0000"}function q$(){return"%"}function W$(e){return+e}function H$(e){return Math.floor(+e/1e3)}var Jd,c7,u7;VEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VEe(e){return Jd=VAe(e),c7=Jd.format,Jd.parse,u7=Jd.utcFormat,Jd.utcParse,Jd}function UEe(e){return new Date(e)}function qEe(e){return e instanceof Date?+e:+new Date(+e)}function bT(e,t,n,s,i,a,o,l,c,u){var d=oT(),f=d.invert,m=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),j=u("%b %d"),b=u("%B"),C=u("%Y");function _(A){return(c(A)<A?g:l(A)<A?x:o(A)<A?v:a(A)<A?y:s(A)<A?i(A)<A?N:j:n(A)<A?b:C)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?m(Array.from(A,qEe)):m().map(UEe)},d.ticks=function(A){var P=m();return e(P[0],P[P.length-1],A??10)},d.tickFormat=function(A,P){return P==null?_:u(P)},d.nice=function(A){var P=m();return(!A||typeof A.range!="function")&&(A=t(P[0],P[P.length-1],A??10)),A?m(Qq(P,A)):d},d.copy=function(){return Ev(d,bT(e,t,n,s,i,a,o,l,c,u))},d}function WEe(){return sa.apply(bT(BAe,zAe,fl,yT,pw,Tv,vT,pT,bu,c7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HEe(){return sa.apply(bT(LAe,FAe,ml,jT,gw,mw,xT,gT,bu,u7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vw(){var e=0,t=1,n,s,i,a,o=Ms,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),s=a(t=+t),i=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var g,x;return arguments.length?([g,x]=m,o=f(g,x),u):[o(0),o(1)]}}return u.range=d(fm),u.rangeRound=d(aT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),s=f(t),i=n===s?0:1/(s-n),u}}function Uc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function d7(){var e=Vc(vw()(Ms));return e.copy=function(){return Uc(e,d7())},jl.apply(e,arguments)}function h7(){var e=uT(vw()).domain([1,10]);return e.copy=function(){return Uc(e,h7()).base(e.base())},jl.apply(e,arguments)}function f7(){var e=dT(vw());return e.copy=function(){return Uc(e,f7()).constant(e.constant())},jl.apply(e,arguments)}function wT(){var e=hT(vw());return e.copy=function(){return Uc(e,wT()).exponent(e.exponent())},jl.apply(e,arguments)}function GEe(){return wT.apply(null,arguments).exponent(.5)}function m7(){var e=[],t=Ms;function n(s){if(s!=null&&!isNaN(s=+s))return t((Pv(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let i of s)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(jc),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,i)=>t(i/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(i,a)=>DPe(e,a/s))},n.copy=function(){return m7(t).domain(e)},jl.apply(n,arguments)}function xw(){var e=0,t=.5,n=1,s=1,i,a,o,l,c,u=Ms,d,f=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-a)*(s*v<s*a?l:c),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g):[e,t,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var N,j,b;return arguments.length?([N,j,b]=y,u=iAe(v,[N,j,b]),g):[u(0),u(.5),u(1)]}}return g.range=x(fm),g.rangeRound=x(aT),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return d=v,i=v(e),a=v(t),o=v(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g}}function p7(){var e=Vc(xw()(Ms));return e.copy=function(){return Uc(e,p7())},jl.apply(e,arguments)}function g7(){var e=uT(xw()).domain([.1,1,10]);return e.copy=function(){return Uc(e,g7()).base(e.base())},jl.apply(e,arguments)}function v7(){var e=dT(xw());return e.copy=function(){return Uc(e,v7()).constant(e.constant())},jl.apply(e,arguments)}function NT(){var e=hT(xw());return e.copy=function(){return Uc(e,NT()).exponent(e.exponent())},jl.apply(e,arguments)}function KEe(){return NT.apply(null,arguments).exponent(.5)}const G$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sg,scaleDiverging:p7,scaleDivergingLog:g7,scaleDivergingPow:NT,scaleDivergingSqrt:KEe,scaleDivergingSymlog:v7,scaleIdentity:Yq,scaleImplicit:N_,scaleLinear:lj,scaleLog:Xq,scaleOrdinal:rT,scalePoint:$p,scalePow:fT,scaleQuantile:e7,scaleQuantize:t7,scaleRadial:Zq,scaleSequential:d7,scaleSequentialLog:h7,scaleSequentialPow:wT,scaleSequentialQuantile:m7,scaleSequentialSqrt:GEe,scaleSequentialSymlog:f7,scaleSqrt:AAe,scaleSymlog:Jq,scaleThreshold:n7,scaleTime:WEe,scaleUtc:HEe,tickFormat:Kq},Symbol.toStringTag,{value:"Module"}));var YEe=rm;function QEe(e,t,n){for(var s=-1,i=e.length;++s<i;){var a=e[s],o=t(a);if(o!=null&&(l===void 0?o===o&&!YEe(o):n(o,l)))var l=o,c=a}return c}var yw=QEe;function XEe(e,t){return e>t}var x7=XEe,JEe=yw,ZEe=x7,eTe=dm;function tTe(e){return e&&e.length?JEe(e,eTe,ZEe):void 0}var nTe=tTe;const oc=vn(nTe);function rTe(e,t){return e<t}var y7=rTe,sTe=yw,iTe=y7,aTe=dm;function oTe(e){return e&&e.length?sTe(e,aTe,iTe):void 0}var lTe=oTe;const jw=vn(lTe);var cTe=RE,uTe=No,dTe=Pq,hTe=ii;function fTe(e,t){var n=hTe(e)?cTe:dTe;return n(e,uTe(t))}var mTe=fTe,pTe=Cq,gTe=mTe;function vTe(e,t){return pTe(gTe(e,t),1)}var xTe=vTe;const yTe=vn(xTe);var jTe=JE;function bTe(e,t){return jTe(e,t)}var wTe=bTe;const ed=vn(wTe);var mm=1e9,NTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CT,Yn=!0,ea="[DecimalError] ",$u=ea+"Invalid argument: ",ST=ea+"Exponent out of range: ",pm=Math.floor,du=Math.pow,STe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yi,Vr=1e7,Vn=7,j7=9007199254740991,hj=pm(j7/Vn),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,n,s,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(s=a.d.length,i=e.d.length,t=0,n=s<i?s:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return s===i?0:s>i^a.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Vn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(e){return Zo(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,n=t.constructor;return Tn(Zo(t,new n(e),0,1),n.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return wr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,n=this,s=n.constructor,i=s.precision,a=i+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(yi))throw Error(ea+"NaN");if(n.s<1)throw Error(ea+(n.s?"NaN":"-Infinity"));return n.eq(yi)?new s(0):(Yn=!1,t=Zo(Eg(n,a),Eg(e,a),a),Yn=!0,Tn(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N7(t,e):b7(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,n=this,s=n.constructor,i=s.precision;if(e=new s(e),!e.s)throw Error(ea+"NaN");return n.s?(Yn=!1,t=Zo(n,e,0,1).times(e),Yn=!0,n.minus(t)):Tn(new s(n),i)};st.naturalExponential=st.exp=function(){return w7(this)};st.naturalLogarithm=st.ln=function(){return Eg(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b7(t,e):N7(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,n,s,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($u+e);if(t=wr(i)+1,s=i.d.length-1,n=s*Vn+1,s=i.d[s],s){for(;s%10==0;s/=10)n--;for(s=i.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};st.squareRoot=st.sqrt=function(){var e,t,n,s,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ea+"NaN")}for(e=wr(l),Yn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ao(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=pm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=s,s=a.plus(Zo(l,a,o+2)).times(.5),ao(a.d).slice(0,o)===(t=ao(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Tn(a,n+1,0),a.times(a).eq(l)){s=a;break}}else if(t!="9999")break;o+=4}return Yn=!0,Tn(s,n)};st.times=st.mul=function(e){var t,n,s,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,o=c,c=u,u=o),a=[],o=c+u,s=o;s--;)a.push(0);for(s=u;--s>=0;){for(t=0,i=c+s;i>s;)l=a[i]+g[s]*m[i-s-1]+t,a[i--]=l%Vr|0,t=l/Vr|0;a[i]=(a[i]+t)%Vr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Yn?Tn(e,f.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(yo(e,0,mm),t===void 0?t=s.rounding:yo(t,0,8),Tn(n,e+wr(n)+1,t))};st.toExponential=function(e,t){var n,s=this,i=s.constructor;return e===void 0?n=td(s,!0):(yo(e,0,mm),t===void 0?t=i.rounding:yo(t,0,8),s=Tn(new i(s),e+1,t),n=td(s,!0,e+1)),n};st.toFixed=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?td(i):(yo(e,0,mm),t===void 0?t=a.rounding:yo(t,0,8),s=Tn(new a(i),e+wr(i)+1,t),n=td(s.abs(),!1,e+wr(s)+1),i.isneg()&&!i.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return Tn(new t(e),wr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,n,s,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(yi);if(l=new c(l),!l.s){if(e.s<1)throw Error(ea+"Infinity");return l}if(l.eq(yi))return l;if(s=c.precision,e.eq(yi))return Tn(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=j7){for(i=new c(yi),t=Math.ceil(s/Vn+4),Yn=!1;n%2&&(i=i.times(l),Y$(i.d,t)),n=pm(n/2),n!==0;)l=l.times(l),Y$(l.d,t);return Yn=!0,e.s<0?new c(yi).div(i):Tn(i,s)}}else if(a<0)throw Error(ea+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Yn=!1,i=e.times(Eg(l,s+u)),Yn=!0,i=w7(i),i.s=a,i};st.toPrecision=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?(n=wr(i),s=td(i,n<=a.toExpNeg||n>=a.toExpPos)):(yo(e,1,mm),t===void 0?t=a.rounding:yo(t,0,8),i=Tn(new a(i),e,t),n=wr(i),s=td(i,e<=n||n<=a.toExpNeg,e)),s};st.toSignificantDigits=st.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(yo(e,1,mm),t===void 0?t=s.rounding:yo(t,0,8)),Tn(new s(n),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wr(e),n=e.constructor;return td(e,t<=n.toExpNeg||t>=n.toExpPos)};function b7(e,t){var n,s,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Yn?Tn(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(s=c,a=-a,l=u.length):(s=u,i=o,l=c.length),o=Math.ceil(f/Vn),l=o>l?o+1:l+1,a>l&&(a=l,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,s=u,u=c,c=s),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Vr|0,c[a]%=Vr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Yn?Tn(t,f):t}function yo(e,t,n){if(e!==~~e||e<t||e>n)throw Error($u+e)}function ao(e){var t,n,s,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)s=e[t]+"",n=Vn-s.length,n&&(a+=Ul(n)),a+=s;o=e[t],s=o+"",n=Vn-s.length,n&&(a+=Ul(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Zo=function(){function e(s,i){var a,o=0,l=s.length;for(s=s.slice();l--;)a=s[l]*i+o,s[l]=a%Vr|0,o=a/Vr|0;return o&&s.unshift(o),s}function t(s,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(s[l]!=i[l]){c=s[l]>i[l]?1:-1;break}return c}function n(s,i,a){for(var o=0;a--;)s[a]-=o,o=s[a]<i[a]?1:0,s[a]=o*Vr+s[a]-i[a];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,a,o){var l,c,u,d,f,m,g,x,v,y,N,j,b,C,_,A,P,E,D=s.constructor,I=s.s==i.s?1:-1,k=s.d,O=i.d;if(!s.s)return new D(s);if(!i.s)throw Error(ea+"Division by zero");for(c=s.e-i.e,P=O.length,_=k.length,g=new D(I),x=g.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--c,a==null?j=a=D.precision:o?j=a+(wr(s)-wr(i))+1:j=a,j<0)return new D(0);if(j=j/Vn+2|0,u=0,P==1)for(d=0,O=O[0],j++;(u<_||d)&&j--;u++)b=d*Vr+(k[u]||0),x[u]=b/O|0,d=b%O|0;else{for(d=Vr/(O[0]+1)|0,d>1&&(O=e(O,d),k=e(k,d),P=O.length,_=k.length),C=P,v=k.slice(0,P),y=v.length;y<P;)v[y++]=0;E=O.slice(),E.unshift(0),A=O[0],O[1]>=Vr/2&&++A;do d=0,l=t(O,v,P,y),l<0?(N=v[0],P!=y&&(N=N*Vr+(v[1]||0)),d=N/A|0,d>1?(d>=Vr&&(d=Vr-1),f=e(O,d),m=f.length,y=v.length,l=t(f,v,m,y),l==1&&(d--,n(f,P<m?E:O,m))):(d==0&&(l=d=1),f=O.slice()),m=f.length,m<y&&f.unshift(0),n(v,f,y),l==-1&&(y=v.length,l=t(O,v,P,y),l<1&&(d++,n(v,P<y?E:O,y))),y=v.length):l===0&&(d++,v=[0]),x[u++]=d,l&&v[0]?v[y++]=k[C]||0:(v=[k[C]],y=1);while((C++<_||v[0]!==void 0)&&j--)}return x[0]||x.shift(),g.e=c,Tn(g,o?a+wr(g)+1:a)}}();function w7(e,t){var n,s,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(wr(e)>16)throw Error(ST+wr(e));if(!e.s)return new d(yi);for(t==null?(Yn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(du(2,u))/Math.LN10*2+5|0,l+=s,n=i=a=new d(yi),d.precision=l;;){if(i=Tn(i.times(e),l),n=n.times(++c),o=a.plus(Zo(i,n,l)),ao(o.d).slice(0,l)===ao(a.d).slice(0,l)){for(;u--;)a=Tn(a.times(a),l);return d.precision=f,t==null?(Yn=!0,Tn(a,f)):a}a=o}}function wr(e){for(var t=e.e*Vn,n=e.d[0];n>=10;n/=10)t++;return t}function BS(e,t,n){if(t>e.LN10.sd())throw Yn=!0,n&&(e.precision=n),Error(ea+"LN10 precision limit exceeded");return Tn(new e(e.LN10),t)}function Ul(e){for(var t="";e--;)t+="0";return t}function Eg(e,t){var n,s,i,a,o,l,c,u,d,f=1,m=10,g=e,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(ea+(g.s?"NaN":"-Infinity"));if(g.eq(yi))return new v(0);if(t==null?(Yn=!1,u=y):u=t,g.eq(10))return t==null&&(Yn=!0),BS(v,u);if(u+=m,v.precision=u,n=ao(x),s=n.charAt(0),a=wr(g),Math.abs(a)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(e),n=ao(g.d),s=n.charAt(0),f++;a=wr(g),s>1?(g=new v("0."+n),a++):g=new v(s+"."+n.slice(1))}else return c=BS(v,u+2,y).times(a+""),g=Eg(new v(s+"."+n.slice(1)),u-m).plus(c),v.precision=y,t==null?(Yn=!0,Tn(g,y)):g;for(l=o=g=Zo(g.minus(yi),g.plus(yi),u),d=Tn(g.times(g),u),i=3;;){if(o=Tn(o.times(d),u),c=l.plus(Zo(o,new v(i),u)),ao(c.d).slice(0,u)===ao(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(BS(v,u+2,y).times(a+""))),l=Zo(l,new v(f),u),v.precision=y,t==null?(Yn=!0,Tn(l,y)):l;l=c,i+=2}}function K$(e,t){var n,s,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(s,i),t){if(i-=s,n=n-s-1,e.e=pm(n/Vn),e.d=[],s=(n+1)%Vn,n<0&&(s+=Vn),s<i){for(s&&e.d.push(+t.slice(0,s)),i-=Vn;s<i;)e.d.push(+t.slice(s,s+=Vn));t=t.slice(s),s=Vn-t.length}else s-=i;for(;s--;)t+="0";if(e.d.push(+t),Yn&&(e.e>hj||e.e<-hj))throw Error(ST+n)}else e.s=0,e.e=0,e.d=[0];return e}function Tn(e,t,n){var s,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(s=t-o,s<0)s+=Vn,i=t,u=f[d=0];else{if(d=Math.ceil((s+1)/Vn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;s%=Vn,i=s-Vn+o}if(n!==void 0&&(a=du(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?i>0?u/du(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=wr(e),f.length=1,t=t-a-1,f[0]=du(10,(Vn-t%Vn)%Vn),e.e=pm(-t/Vn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=d,a=1,d--):(f.length=d+1,a=du(10,Vn-s),f[d]=i>0?(u/du(10,o-i)%du(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Vr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Vr)break;f[d--]=0,a=1}for(s=f.length;f[--s]===0;)f.pop();if(Yn&&(e.e>hj||e.e<-hj))throw Error(ST+wr(e));return e}function N7(e,t){var n,s,i,a,o,l,c,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Yn?Tn(t,g):t;if(c=e.d,f=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,s=u,l=c.length),i=Math.max(Math.ceil(g/Vn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Vr-1;--c[a],c[i]+=Vr}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Yn?Tn(t,g):t):new m(0)}function td(e,t,n){var s,i=wr(e),a=ao(e.d),o=a.length;return t?(n&&(s=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ul(s):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ul(-i-1)+a,n&&(s=n-o)>0&&(a+=Ul(s))):i>=o?(a+=Ul(i+1-o),n&&(s=n-i-1)>0&&(a=a+"."+Ul(s))):((s=i+1)<o&&(a=a.slice(0,s)+"."+a.slice(s)),n&&(s=n-o)>0&&(i+1===o&&(a+="."),a+=Ul(s))),e.s<0?"-"+a:a}function Y$(e,t){if(e.length>t)return e.length=t,!0}function S7(e){var t,n,s;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($u+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return K$(o,a.toString())}else if(typeof a!="string")throw Error($u+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,STe.test(a))K$(o,a);else throw Error($u+a)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=S7,i.config=i.set=CTe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return i.config(e),i}function CTe(e){if(!e||typeof e!="object")throw Error(ea+"Object expected");var t,n,s,i=["precision",1,mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((s=e[n=i[t]])!==void 0)if(pm(s)===s&&s>=i[t+1]&&s<=i[t+2])this[n]=s;else throw Error($u+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error($u+n+": "+s);return this}var CT=S7(NTe);yi=new CT(1);const _n=CT;function _Te(e){return TTe(e)||ETe(e)||ATe(e)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ATe(e,t){if(e){if(typeof e=="string")return P_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(e,t)}}function ETe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function TTe(e){if(Array.isArray(e))return P_(e)}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var kTe=function(t){return t},C7={"@@functional/placeholder":!0},_7=function(t){return t===C7},Q$=function(t){return function n(){return arguments.length===0||arguments.length===1&&_7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},OTe=function e(t,n){return t===1?n:Q$(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==C7}).length;return o>=t?n.apply(void 0,i):e(t-o,Q$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return _7(f)?c.shift():f});return n.apply(void 0,_Te(d).concat(c))}))})},bw=function(t){return OTe(t.length,t)},A_=function(t,n){for(var s=[],i=t;i<n;++i)s[i-t]=i;return s},DTe=bw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),MTe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return kTe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},E_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},P7=function(t){var n=null,s=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,s=t.apply(void 0,a)),s}};function ITe(e){var t;return e===0?t=1:t=Math.floor(new _n(e).abs().log(10).toNumber())+1,t}function $Te(e,t,n){for(var s=new _n(e),i=0,a=[];s.lt(t)&&i<1e5;)a.push(s.toNumber()),s=s.add(n),i++;return a}var RTe=bw(function(e,t,n){var s=+e,i=+t;return s+n*(i-s)}),LTe=bw(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),FTe=bw(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const ww={rangeStep:$Te,getDigitCount:ITe,interpolateNumber:RTe,uninterpolateNumber:LTe,uninterpolateTruncation:FTe};function T_(e){return VTe(e)||zTe(e)||A7(e)||BTe()}function BTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function VTe(e){if(Array.isArray(e))return k_(e)}function Tg(e,t){return WTe(e)||qTe(e,t)||A7(e,t)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(e,t){if(e){if(typeof e=="string")return k_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(e,t)}}function k_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function qTe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,a=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function WTe(e){if(Array.isArray(e))return e}function E7(e){var t=Tg(e,2),n=t[0],s=t[1],i=n,a=s;return n>s&&(i=s,a=n),[i,a]}function T7(e,t,n){if(e.lte(0))return new _n(0);var s=ww.getDigitCount(e.toNumber()),i=new _n(10).pow(s),a=e.div(i),o=s!==1?.05:.1,l=new _n(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new _n(Math.ceil(c))}function HTe(e,t,n){var s=1,i=new _n(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(s=new _n(10).pow(ww.getDigitCount(e)-1),i=new _n(Math.floor(i.div(s).toNumber())).mul(s)):a>1&&(i=new _n(Math.floor(e)))}else e===0?i=new _n(Math.floor((t-1)/2)):n||(i=new _n(Math.floor(e)));var o=Math.floor((t-1)/2),l=MTe(DTe(function(c){return i.add(new _n(c-o).mul(s)).toNumber()}),A_);return l(0,t)}function k7(e,t,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new _n(0),tickMin:new _n(0),tickMax:new _n(0)};var a=T7(new _n(t).sub(e).div(n-1),s,i),o;e<=0&&t>=0?o=new _n(0):(o=new _n(e).add(t).div(2),o=o.sub(new _n(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new _n(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?k7(e,t,n,s,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new _n(l).mul(a)),tickMax:o.add(new _n(c).mul(a))})}function GTe(e){var t=Tg(e,2),n=t[0],s=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=E7([n,s]),c=Tg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(T_(A_(0,i-1).map(function(){return 1/0}))):[].concat(T_(A_(0,i-1).map(function(){return-1/0})),[d]);return n>s?E_(f):f}if(u===d)return HTe(u,i,a);var m=k7(u,d,o,a),g=m.step,x=m.tickMin,v=m.tickMax,y=ww.rangeStep(x,v.add(new _n(.1).mul(g)),g);return n>s?E_(y):y}function KTe(e,t){var n=Tg(e,2),s=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=E7([s,i]),l=Tg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,i];if(c===u)return[c];var d=Math.max(t,2),f=T7(new _n(u).sub(c).div(d-1),a,0),m=[].concat(T_(ww.rangeStep(new _n(c),new _n(u).sub(new _n(.99).mul(f)),f)),[u]);return s>i?E_(m):m}var YTe=P7(GTe),QTe=P7(KTe),XTe="Invariant failed";function nd(e,t){throw new Error(XTe)}var JTe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fj.apply(this,arguments)}function ZTe(e,t){return rke(e)||nke(e,t)||tke(e,t)||eke()}function eke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tke(e,t){if(e){if(typeof e=="string")return X$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X$(e,t)}}function X$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function nke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function rke(e){if(Array.isArray(e))return e}function ske(e,t){if(e==null)return{};var n=ike(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ike(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ake(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oke(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,M7(s.key),s)}}function lke(e,t,n){return t&&oke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cke(e,t,n){return t=mj(t),uke(e,O7()?Reflect.construct(t,n||[],mj(e).constructor):t.apply(e,n))}function uke(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dke(e)}function dke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O7=function(){return!!e})()}function mj(e){return mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mj(e)}function hke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},O_(e,t)}function D7(e,t,n){return t=M7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M7(e){var t=fke(e,"string");return bf(t)=="symbol"?t:t+""}function fke(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kv=function(e){function t(){return ake(this,t),cke(this,t,arguments)}return hke(t,e),lke(t,[{key:"render",value:function(){var s=this.props,i=s.offset,a=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,d=s.xAxis,f=s.yAxis,m=ske(s,JTe),g=ct(m,!1);this.props.direction==="x"&&d.type!=="number"&&nd();var x=c.map(function(v){var y=u(v,l),N=y.x,j=y.y,b=y.value,C=y.errorVal;if(!C)return null;var _=[],A,P;if(Array.isArray(C)){var E=ZTe(C,2);A=E[0],P=E[1]}else A=P=C;if(a==="vertical"){var D=d.scale,I=j+i,k=I+o,O=I-o,L=D(b-A),B=D(b+P);_.push({x1:B,y1:k,x2:B,y2:O}),_.push({x1:L,y1:I,x2:B,y2:I}),_.push({x1:L,y1:k,x2:L,y2:O})}else if(a==="horizontal"){var ee=f.scale,G=N+i,J=G-o,q=G+o,$=ee(b-A),oe=ee(b+P);_.push({x1:J,y1:oe,x2:q,y2:oe}),_.push({x1:G,y1:$,x2:G,y2:oe}),_.push({x1:J,y1:$,x2:q,y2:$})}return W.createElement(Qt,fj({className:"recharts-errorBar",key:"bar-".concat(_.map(function(ge){return"".concat(ge.x1,"-").concat(ge.x2,"-").concat(ge.y1,"-").concat(ge.y2)}))},g),_.map(function(ge){return W.createElement("line",fj({},ge,{key:"line-".concat(ge.x1,"-").concat(ge.x2,"-").concat(ge.y1,"-").concat(ge.y2)}))}))});return W.createElement(Qt,{className:"recharts-errorBars"},x)}}])}(W.Component);D7(kv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});D7(kv,"displayName","ErrorBar");function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function J$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(n),!0).forEach(function(s){mke(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mke(e,t,n){return t=pke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pke(e){var t=gke(e,"string");return kg(t)=="symbol"?t:t+""}function gke(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I7=function(t){var n=t.children,s=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=gi(n,Ih);if(!o)return null;var l=Ih.defaultProps,c=l!==void 0?nu(nu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(s||[]).reduce(function(d,f){var m=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(s||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?nu(nu({},m),f.props):{},x=g.dataKey,v=g.name,y=g.legendType,N=g.hide;return{inactive:N,dataKey:x,type:c.iconType||y||"square",color:_T(f),value:v||x,payload:g}}),nu(nu(nu({},c),Ih.getWithHeight(o,i)),{},{payload:u,item:o})};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function Z$(e){return jke(e)||yke(e)||xke(e)||vke()}function vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xke(e,t){if(e){if(typeof e=="string")return D_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(e,t)}}function yke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jke(e){if(Array.isArray(e))return D_(e)}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(s){Rh(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Rh(e,t,n){return t=bke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bke(e){var t=wke(e,"string");return Og(t)=="symbol"?t:t+""}function wke(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,n){return Et(e)||Et(t)?n:Ir(t)?Si(e,t,n):yt(t)?t(e):n}function Rp(e,t,n,s){var i=yTe(e,function(l){return gr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ve(l)||parseFloat(l)});return a.length?[jw(a),oc(a)]:[1/0,-1/0]}var o=s?i.filter(function(l){return!Et(l)}):i;return o.map(function(l){return Ir(l)||l instanceof Date?l:""})}var Nke=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Os(f-d)!==Os(m-f)){var x=[];if(Os(m-f)===Os(c[1]-c[0])){g=m;var v=f+c[1]-c[0];x[0]=Math.min(v,(v+d)/2),x[1]=Math.max(v,(v+d)/2)}else{g=d;var y=m+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var N=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>N[0]&&t<=N[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var j=Math.min(d,m),b=Math.max(d,m);if(t>(j+f)/2&&t<=(b+f)/2){o=i[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(s[C].coordinate+s[C+1].coordinate)/2||C>0&&C<l-1&&t>(s[C].coordinate+s[C-1].coordinate)/2&&t<=(s[C].coordinate+s[C+1].coordinate)/2||C===l-1&&t>(s[C].coordinate+s[C-1].coordinate)/2){o=s[C].index;break}return o},_T=function(t){var n,s=t,i=s.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Ske=function(t){var n=t.barSize,s=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var x=d[f[m]],v=x.items,y=x.cateAxisId,N=v.filter(function(P){return Jo(P.type).indexOf("Bar")>=0});if(N&&N.length){var j=N[0].type.defaultProps,b=j!==void 0?lr(lr({},j),N[0].props):N[0].props,C=b.barSize,_=b[y];o[_]||(o[_]=[]);var A=Et(C)?n:C;o[_].push({item:N[0],stackList:N.slice(1),barSize:Et(A)?void 0:Ds(A,s,0)})}}return o},Cke=function(t){var n=t.barGap,s=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ds(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,x=o.reduce(function(C,_){return C+_.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&g>0&&(m=!0,g*=.9,x=c*g);var v=(i-x)/2>>0,y={offset:v-u,size:0};d=o.reduce(function(C,_){var A={item:_.item,position:{offset:y.offset+y.size+u,size:m?g:_.barSize}},P=[].concat(Z$(C),[A]);return y=P[P.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){P.push({item:E,position:y})}),P},f)}else{var N=Ds(s,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var j=(i-2*N-(c-1)*u)/c;j>1&&(j>>=0);var b=l===+l?Math.min(j,l):j;d=o.reduce(function(C,_,A){var P=[].concat(Z$(C),[{item:_.item,position:{offset:N+(j+u)*A+(j-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){P.push({item:E,position:P[P.length-1].position})}),P},f)}return d},_ke=function(t,n,s,i){var a=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=I7({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&Ve(t[g]))return lr(lr({},t),{},Rh({},g,t[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&Ve(t[x]))return lr(lr({},t),{},Rh({},x,t[x]+(m||0)))}return t},Pke=function(t,n,s){return Et(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},$7=function(t,n,s,i,a){var o=n.props.children,l=Ci(o,kv).filter(function(u){return Pke(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=gr(d,s);if(Et(f))return u;var m=Array.isArray(f)?[jw(f),oc(f)]:[f,f],g=c.reduce(function(x,v){var y=gr(d,v,0),N=m[0]-Math.abs(Array.isArray(y)?y[0]:y),j=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,x[0]),Math.max(j,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Ake=function(t,n,s,i,a){var o=n.map(function(l){return $7(t,l,s,a,i)}).filter(function(l){return!Et(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},R7=function(t,n,s,i,a){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&$7(t,c,u,i)||Rp(t,u,s,a)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},L7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},F7=function(t,n,s,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===s&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(s),l},Qo=function(t,n,s){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||s)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Os(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!lm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!s?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:a?a[f]:f,index:m,offset:u}})},zS=new WeakMap,Ny=function(t,n){if(typeof n!="function")return t;zS.has(t)||zS.set(t,new WeakMap);var s=zS.get(t);if(s.has(n))return s.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,i),i},B7=function(t,n,s){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Sg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:lj(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:$p(),realScaleType:"point"}:a==="category"?{scale:Sg(),realScaleType:"band"}:{scale:lj(),realScaleType:"linear"};if(Xu(i)){var c="scale".concat(aw(i));return{scale:(G$[c]||$p)(),realScaleType:G$[c]?c:"point"}}return yt(i)?{scale:i}:{scale:$p(),realScaleType:"point"}},tR=1e-4,z7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,i=t.range(),a=Math.min(i[0],i[1])-tR,o=Math.max(i[0],i[1])+tR,l=t(n[0]),c=t(n[s-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[s-1]])}},Eke=function(t,n){if(!t)return null;for(var s=0,i=t.length;s<i;s++)if(t[s].item===n)return t[s].position;return null},Tke=function(t,n){if(!n||n.length!==2||!Ve(n[0])||!Ve(n[1]))return t;var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ve(t[0])||t[0]<s)&&(a[0]=s),(!Ve(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<s&&(a[1]=s),a},kke=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0,l=0;l<n;++l){var c=lm(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=a,t[l][s][1]=a+c,a=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},Oke=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0;o<n;++o){var l=lm(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=a,t[o][s][1]=a+l,a=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},Dke={sign:kke,expand:J0e,none:ff,silhouette:Z0e,wiggle:eje,positive:Oke},Mke=function(t,n,s){var i=n.map(function(l){return l.props.dataKey}),a=Dke[s],o=X0e().keys(i).value(function(l,c){return+gr(l,c,0)}).order(s_).offset(a);return o(t)},Ike=function(t,n,s,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?lr(lr({},m.type.defaultProps),m.props):m.props,v=x.stackId,y=x.hide;if(y)return f;var N=x[s],j=f[N]||{hasStack:!1,stackGroups:{}};if(Ir(v)){var b=j.stackGroups[v]||{numericAxisId:s,cateAxisId:i,items:[]};b.items.push(m),j.hasStack=!0,j.stackGroups[v]=b}else j.stackGroups[vd("_stackId_")]={numericAxisId:s,cateAxisId:i,items:[m]};return lr(lr({},f),{},Rh({},N,j))},c),d={};return Object.keys(u).reduce(function(f,m){var g=u[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var N=g.stackGroups[y];return lr(lr({},v),{},Rh({},y,{numericAxisId:s,cateAxisId:i,items:N.items,stackedData:Mke(t,N.items,a)}))},x)}return lr(lr({},f),{},Rh({},m,g))},d)},V7=function(t,n){var s=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=YTe(u,a,l);return t.domain([jw(d),oc(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),m=QTe(f,a,l);return{niceTicks:m}}return null};function pj(e){var t=e.axis,n=e.ticks,s=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Et(i[t.dataKey])){var l=z0(n,"value",i[t.dataKey]);if(l)return l.coordinate+s/2}return n[a]?n[a].coordinate+s/2:null}var c=gr(i,Et(o)?t.dataKey:o);return Et(c)?null:t.scale(c)}var nR=function(t){var n=t.axis,s=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+i:null;var c=gr(o,n.dataKey,n.domain[l]);return Et(c)?null:n.scale(c)-a/2+i},$ke=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var i=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]);return i<=0&&a>=0?0:a<0?a:i}return s[0]},Rke=function(t,n){var s,i=(s=t.type)!==null&&s!==void 0&&s.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Ir(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Lke=function(t){return t.reduce(function(n,s){return[jw(s.concat([n[0]]).filter(Ve)),oc(s.concat([n[1]]).filter(Ve))]},[1/0,-1/0])},U7=function(t,n,s){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=Lke(d.slice(n,s+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},rR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M_=function(t,n,s){if(yt(t))return t(n,s);if(!Array.isArray(t))return n;var i=[];if(Ve(t[0]))i[0]=s?t[0]:Math.min(t[0],n[0]);else if(rR.test(t[0])){var a=+rR.exec(t[0])[1];i[0]=n[0]-a}else yt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ve(t[1]))i[1]=s?t[1]:Math.max(t[1],n[1]);else if(sR.test(t[1])){var o=+sR.exec(t[1])[1];i[1]=n[1]+o}else yt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},gj=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!s||i>0)return i}if(t&&n&&n.length>=2){for(var a=eT(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},iR=function(t,n,s){return!t||!t.length||ed(t,Si(s,"type.defaultProps.domain"))?n:t},q7=function(t,n){var s=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=s.dataKey,a=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,d=s.hide;return lr(lr({},ct(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:_T(t),value:gr(n,i),type:c,payload:n,chartType:u,hide:d})};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(s){W7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function W7(e,t,n){return t=Fke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fke(e){var t=Bke(e,"string");return Dg(t)=="symbol"?t:t+""}function Bke(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zke(e,t){return Wke(e)||qke(e,t)||Uke(e,t)||Vke()}function Vke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uke(e,t){if(e){if(typeof e=="string")return oR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(e,t)}}function oR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function qke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Wke(e){if(Array.isArray(e))return e}var vj=Math.PI/180,Hke=function(t){return t*180/Math.PI},$n=function(t,n,s,i){return{x:t+Math.cos(-vj*i)*s,y:n+Math.sin(-vj*i)*s}},H7=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},Gke=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ds(t.cx,o,o/2),f=Ds(t.cy,l,l/2),m=H7(o,l,s),g=Ds(t.innerRadius,m,0),x=Ds(t.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(y,N){var j=n[N],b=j.domain,C=j.reversed,_;if(Et(j.range))i==="angleAxis"?_=[c,u]:i==="radiusAxis"&&(_=[g,x]),C&&(_=[_[1],_[0]]);else{_=j.range;var A=_,P=zke(A,2);c=P[0],u=P[1]}var E=B7(j,a),D=E.realScaleType,I=E.scale;I.domain(b).range(_),z7(I);var k=V7(I,Bo(Bo({},j),{},{realScaleType:D})),O=Bo(Bo(Bo({},j),k),{},{range:_,radius:x,realScaleType:D,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return Bo(Bo({},y),{},W7({},N,O))},{})},Kke=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-o,2))},Yke=function(t,n){var s=t.x,i=t.y,a=n.cx,o=n.cy,l=Kke({x:s,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(s-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Hke(u),angleInRadian:u}},Qke=function(t){var n=t.startAngle,s=t.endAngle,i=Math.floor(n/360),a=Math.floor(s/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:s-o*360}},Xke=function(t,n){var s=n.startAngle,i=n.endAngle,a=Math.floor(s/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},lR=function(t,n){var s=t.x,i=t.y,a=Yke({x:s,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Qke(n),f=d.startAngle,m=d.endAngle,g=l,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?Bo(Bo({},n),{},{radius:o,angle:Xke(g,n)}):null},G7=function(t){return!w.isValidElement(t)&&!yt(t)&&typeof t!="boolean"?t.className:""};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var Jke=["offset"];function Zke(e){return rOe(e)||nOe(e)||tOe(e)||eOe()}function eOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tOe(e,t){if(e){if(typeof e=="string")return I_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(e,t)}}function nOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rOe(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function sOe(e,t){if(e==null)return{};var n=iOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function iOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(s){aOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function aOe(e,t,n){return t=oOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oOe(e){var t=lOe(e,"string");return Mg(t)=="symbol"?t:t+""}function lOe(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ig.apply(this,arguments)}var cOe=function(t){var n=t.value,s=t.formatter,i=Et(t.children)?n:t.children;return yt(s)?s(i):i},uOe=function(t,n){var s=Os(n-t),i=Math.min(Math.abs(n-t),360);return s*i},dOe=function(t,n,s){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(f+m)/2,N=uOe(g,x),j=N>=0?1:-1,b,C;i==="insideStart"?(b=g+j*o,C=v):i==="insideEnd"?(b=x-j*o,C=!v):i==="end"&&(b=x+j*o,C=v),C=N<=0?C:!C;var _=$n(u,d,y,b),A=$n(u,d,y,b+(C?1:-1)*359),P="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),E=Et(t.id)?vd("recharts-radial-line-"):t.id;return W.createElement("text",Ig({},s,{dominantBaseline:"central",className:Tt("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:E,d:P})),W.createElement("textPath",{xlinkHref:"#".concat(E)},n))},hOe=function(t){var n=t.viewBox,s=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(i==="outside"){var g=$n(o,l,u+s,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=$n(o,l,y,m),j=N.x,b=N.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},fOe=function(t){var n=t.viewBox,s=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,g=f>0?"end":"start",x=f>0?"start":"end",v=u>=0?1:-1,y=v*i,N=v>0?"end":"start",j=v>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Pr(Pr({},b),s?{height:Math.max(c-s.y,0),width:u}:{})}if(a==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:x};return Pr(Pr({},C),s?{height:Math.max(s.y+s.height-(c+d),0),width:u}:{})}if(a==="left"){var _={x:l-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},_),s?{width:Math.max(_.x-s.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Pr(Pr({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:d}:{})}var P=s?{width:u,height:d}:{};return a==="insideLeft"?Pr({x:l+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},P):a==="insideRight"?Pr({x:l+u-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideTop"?Pr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?Pr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:g},P):a==="insideTopLeft"?Pr({x:l+y,y:c+m,textAnchor:j,verticalAnchor:x},P):a==="insideTopRight"?Pr({x:l+u-y,y:c+m,textAnchor:N,verticalAnchor:x},P):a==="insideBottomLeft"?Pr({x:l+y,y:c+d-m,textAnchor:j,verticalAnchor:g},P):a==="insideBottomRight"?Pr({x:l+u-y,y:c+d-m,textAnchor:N,verticalAnchor:g},P):sm(a)&&(Ve(a.x)||yu(a.x))&&(Ve(a.y)||yu(a.y))?Pr({x:l+Ds(a.x,u),y:c+Ds(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):Pr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},mOe=function(t){return"cx"in t&&Ve(t.cx)};function Wr(e){var t=e.offset,n=t===void 0?5:t,s=sOe(e,Jke),i=Pr({offset:n},s),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!a||Et(l)&&Et(c)&&!w.isValidElement(u)&&!yt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var g;if(yt(u)){if(g=w.createElement(u,i),w.isValidElement(g))return g}else g=cOe(i);var x=mOe(a),v=ct(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return dOe(i,g,v);var y=x?hOe(i):fOe(i);return W.createElement(Zu,Ig({className:Tt("recharts-label",f)},v,y,{breakAll:m}),g)}Wr.displayName="Label";var K7=function(t){var n=t.cx,s=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,g=t.top,x=t.left,v=t.width,y=t.height,N=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ve(v)&&Ve(y)){if(Ve(f)&&Ve(m))return{x:f,y:m,width:v,height:y};if(Ve(g)&&Ve(x))return{x:g,y:x,width:v,height:y}}return Ve(f)&&Ve(m)?{x:f,y:m,width:0,height:0}:Ve(n)&&Ve(s)?{cx:n,cy:s,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},pOe=function(t,n){return t?t===!0?W.createElement(Wr,{key:"label-implicit",viewBox:n}):Ir(t)?W.createElement(Wr,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===Wr?w.cloneElement(t,{key:"label-implicit",viewBox:n}):W.createElement(Wr,{key:"label-implicit",content:t,viewBox:n}):yt(t)?W.createElement(Wr,{key:"label-implicit",content:t,viewBox:n}):sm(t)?W.createElement(Wr,Ig({viewBox:n},t,{key:"label-implicit"})):null:null},gOe=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var i=t.children,a=K7(t),o=Ci(i,Wr).map(function(c,u){return w.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!s)return o;var l=pOe(t.label,n||a);return[l].concat(Zke(o))};Wr.parseViewBox=K7;Wr.renderCallByParent=gOe;function vOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xOe=vOe;const yOe=vn(xOe);function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}var jOe=["valueAccessor"],bOe=["data","dataKey","clockWise","id","textBreakAll"];function wOe(e){return _Oe(e)||COe(e)||SOe(e)||NOe()}function NOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SOe(e,t){if(e){if(typeof e=="string")return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}}function COe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Oe(e){if(Array.isArray(e))return $_(e)}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xj.apply(this,arguments)}function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function dR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(s){POe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function POe(e,t,n){return t=AOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AOe(e){var t=EOe(e,"string");return $g(t)=="symbol"?t:t+""}function EOe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hR(e,t){if(e==null)return{};var n=TOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function TOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var kOe=function(t){return Array.isArray(t.value)?yOe(t.value):t.value};function po(e){var t=e.valueAccessor,n=t===void 0?kOe:t,s=hR(e,jOe),i=s.data,a=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=hR(s,bOe);return!i||!i.length?null:W.createElement(Qt,{className:"recharts-label-list"},i.map(function(d,f){var m=Et(a)?n(d,f):gr(d&&d.payload,a),g=Et(l)?{}:{id:"".concat(l,"-").concat(f)};return W.createElement(Wr,xj({},ct(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Wr.parseViewBox(Et(o)?d:dR(dR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}po.displayName="LabelList";function OOe(e,t){return e?e===!0?W.createElement(po,{key:"labelList-implicit",data:t}):W.isValidElement(e)||yt(e)?W.createElement(po,{key:"labelList-implicit",data:t,content:e}):sm(e)?W.createElement(po,xj({data:t},e,{key:"labelList-implicit"})):null:null}function DOe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=Ci(s,po).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=OOe(e.label,t);return[a].concat(wOe(i))}po.renderCallByParent=DOe;function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R_.apply(this,arguments)}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(s){MOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function MOe(e,t,n){return t=IOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IOe(e){var t=$Oe(e,"string");return Rg(t)=="symbol"?t:t+""}function $Oe(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ROe=function(t,n){var s=Os(n-t),i=Math.min(Math.abs(n-t),359.999);return s*i},Sy=function(t){var n=t.cx,s=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/vj,m=u?a:a+o*f,g=$n(n,s,d,m),x=$n(n,s,i,m),v=u?a-o*f:a,y=$n(n,s,d*Math.cos(f*vj),v);return{center:g,circleTangency:x,lineTangency:y,theta:f}},Y7=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=ROe(o,l),u=o+c,d=$n(n,s,a,o),f=$n(n,s,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=$n(n,s,i,o),x=$n(n,s,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(s," Z");return m},LOe=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Os(d-u),m=Sy({cx:n,cy:s,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,v=m.theta,y=Sy({cx:n,cy:s,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,j=y.lineTangency,b=y.theta,C=c?Math.abs(u-d):Math.abs(u-d)-v-b;if(C<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Y7({cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var _="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var A=Sy({cx:n,cy:s,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=A.circleTangency,E=A.lineTangency,D=A.theta,I=Sy({cx:n,cy:s,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=I.circleTangency,O=I.lineTangency,L=I.theta,B=c?Math.abs(u-d):Math.abs(u-d)-D-L;if(B<0&&o===0)return"".concat(_,"L").concat(n,",").concat(s,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(n,",").concat(s,"Z");return _},FOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Q7=function(t){var n=mR(mR({},FOe),t),s=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<a||d===f)return null;var g=Tt("recharts-sector",m),x=o-a,v=Ds(l,x,0,!0),y;return v>0&&Math.abs(d-f)<360?y=LOe({cx:s,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=Y7({cx:s,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),W.createElement("path",R_({},ct(n,!0),{className:g,d:y,role:"img"}))};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},L_.apply(this,arguments)}function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function gR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(s){BOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BOe(e,t,n){return t=zOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zOe(e){var t=VOe(e,"string");return Lg(t)=="symbol"?t:t+""}function VOe(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vR={curveBasisClosed:B0e,curveBasisOpen:z0e,curveBasis:F0e,curveBumpX:C0e,curveBumpY:_0e,curveLinearClosed:V0e,curveLinear:lw,curveMonotoneX:U0e,curveMonotoneY:q0e,curveNatural:W0e,curveStep:H0e,curveStepAfter:K0e,curveStepBefore:G0e},Cy=function(t){return t.x===+t.x&&t.y===+t.y},ap=function(t){return t.x},op=function(t){return t.y},UOe=function(t,n){if(yt(t))return t;var s="curve".concat(aw(t));return(s==="curveMonotone"||s==="curveBump")&&n?vR["".concat(s).concat(n==="vertical"?"Y":"X")]:vR[s]||lw},qOe=function(t){var n=t.type,s=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=UOe(s,l),f=u?a.filter(function(v){return Cy(v)}):a,m;if(Array.isArray(o)){var g=u?o.filter(function(v){return Cy(v)}):o,x=f.map(function(v,y){return gR(gR({},v),{},{base:g[y]})});return l==="vertical"?m=py().y(op).x1(ap).x0(function(v){return v.base.x}):m=py().x(ap).y1(op).y0(function(v){return v.base.y}),m.defined(Cy).curve(d),m(x)}return l==="vertical"&&Ve(o)?m=py().y(op).x1(ap).x0(o):Ve(o)?m=py().x(ap).y1(op).y0(o):m=qU().x(ap).y(op),m.defined(Cy).curve(d),m(f)},Ru=function(t){var n=t.className,s=t.points,i=t.path,a=t.pathRef;if((!s||!s.length)&&!i)return null;var o=s&&s.length?qOe(t):i;return w.createElement("path",L_({},ct(t,!1),V0(t),{className:Tt("recharts-curve",n),d:o,ref:a}))},X7={exports:{}},WOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HOe=WOe,GOe=HOe;function J7(){}function Z7(){}Z7.resetWarningCache=J7;var KOe=function(){function e(s,i,a,o,l,c){if(c!==GOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Z7,resetWarningCache:J7};return n.PropTypes=n,n};X7.exports=KOe();var YOe=X7.exports;const mn=vn(YOe);var QOe=Object.getOwnPropertyNames,XOe=Object.getOwnPropertySymbols,JOe=Object.prototype.hasOwnProperty;function xR(e,t){return function(s,i,a){return e(s,i,a)&&t(s,i,a)}}function _y(e){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,i);var a=i.cache,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);var c=e(n,s,i);return a.delete(n),a.delete(s),c}}function yR(e){return QOe(e).concat(XOe(e))}var ZOe=Object.hasOwn||function(e,t){return JOe.call(e,t)};function jd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var eDe="__v",tDe="__o",nDe="_owner",jR=Object.getOwnPropertyDescriptor,bR=Object.keys;function rDe(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function sDe(e,t){return jd(e.getTime(),t.getTime())}function iDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function aDe(e,t){return e===t}function wR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,g=l.value;if(n.equals(m[0],g[0],c,f,e,t,n)&&n.equals(m[1],g[1],m[0],g[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var oDe=jd;function lDe(e,t,n){var s=bR(e),i=s.length;if(bR(t).length!==i)return!1;for(;i-- >0;)if(!eW(e,t,n,s[i]))return!1;return!0}function lp(e,t,n){var s=yR(e),i=s.length;if(yR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=s[i],!eW(e,t,n,a)||(o=jR(e,a),l=jR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function cDe(e,t){return jd(e.valueOf(),t.valueOf())}function uDe(e,t){return e.source===t.source&&e.flags===t.flags}function NR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function dDe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function hDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function eW(e,t,n,s){return(s===nDe||s===tDe||s===eDe)&&(e.$$typeof||t.$$typeof)?!0:ZOe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var fDe="[object Arguments]",mDe="[object Boolean]",pDe="[object Date]",gDe="[object Error]",vDe="[object Map]",xDe="[object Number]",yDe="[object Object]",jDe="[object RegExp]",bDe="[object Set]",wDe="[object String]",NDe="[object URL]",SDe=Array.isArray,SR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,CR=Object.assign,CDe=Object.prototype.toString.call.bind(Object.prototype.toString);function _De(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var N=typeof x;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?o(x,v,y):N==="function"?i(x,v,y):!1;var j=x.constructor;if(j!==v.constructor)return!1;if(j===Object)return l(x,v,y);if(SDe(x))return t(x,v,y);if(SR!=null&&SR(x))return f(x,v,y);if(j===Date)return n(x,v,y);if(j===RegExp)return u(x,v,y);if(j===Map)return a(x,v,y);if(j===Set)return d(x,v,y);var b=CDe(x);return b===pDe?n(x,v,y):b===jDe?u(x,v,y):b===vDe?a(x,v,y):b===bDe?d(x,v,y):b===yDe?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):b===NDe?m(x,v,y):b===gDe?s(x,v,y):b===fDe?l(x,v,y):b===mDe||b===xDe||b===wDe?c(x,v,y):!1}}function PDe(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,i={areArraysEqual:s?lp:rDe,areDatesEqual:sDe,areErrorsEqual:iDe,areFunctionsEqual:aDe,areMapsEqual:s?xR(wR,lp):wR,areNumbersEqual:oDe,areObjectsEqual:s?lp:lDe,arePrimitiveWrappersEqual:cDe,areRegExpsEqual:uDe,areSetsEqual:s?xR(NR,lp):NR,areTypedArraysEqual:s?lp:dDe,areUrlsEqual:hDe};if(n&&(i=CR({},i,n(i))),t){var a=_y(i.areArraysEqual),o=_y(i.areMapsEqual),l=_y(i.areObjectsEqual),c=_y(i.areSetsEqual);i=CR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function ADe(e){return function(t,n,s,i,a,o,l){return e(t,n,l)}}function EDe(e){var t=e.circular,n=e.comparator,s=e.createState,i=e.equals,a=e.strict;if(s)return function(c,u){var d=s(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return n(c,u,{cache:m,equals:i,meta:g,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var TDe=qc();qc({strict:!0});qc({circular:!0});qc({circular:!0,strict:!0});qc({createInternalComparator:function(){return jd}});qc({strict:!0,createInternalComparator:function(){return jd}});qc({circular:!0,createInternalComparator:function(){return jd}});qc({circular:!0,createInternalComparator:function(){return jd},strict:!0});function qc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=PDe(e),c=_De(l),u=s?s(c):ADe(c);return EDe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function kDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _R(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):kDe(i)};requestAnimationFrame(s)}function F_(e){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F_(e)}function ODe(e){return $De(e)||IDe(e)||MDe(e)||DDe()}function DDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MDe(e,t){if(e){if(typeof e=="string")return PR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(e,t)}}function PR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function IDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $De(e){if(Array.isArray(e))return e}function RDe(){var e={},t=function(){return null},n=!1,s=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=ODe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){_R(i.bind(null,u),c);return}i(c),_R(i.bind(null,u));return}F_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,s(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ER(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(s){tW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function tW(e,t,n){return t=LDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LDe(e){var t=FDe(e,"string");return Fg(t)==="symbol"?t:String(t)}function FDe(e,t){if(Fg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Fg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BDe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,i){return s.filter(function(a){return i.includes(a)})})},zDe=function(t){return t},VDe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lp=function(t,n){return Object.keys(n).reduce(function(s,i){return ER(ER({},s),{},tW({},i,t(i,n[i])))},{})},TR=function(t,n,s){return t.map(function(i){return"".concat(VDe(i)," ").concat(n,"ms ").concat(s)}).join(",")};function UDe(e,t){return HDe(e)||WDe(e,t)||nW(e,t)||qDe()}function qDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function HDe(e){if(Array.isArray(e))return e}function GDe(e){return QDe(e)||YDe(e)||nW(e)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nW(e,t){if(e){if(typeof e=="string")return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}}function YDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QDe(e){if(Array.isArray(e))return B_(e)}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var yj=1e-4,rW=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},sW=function(t,n){return t.map(function(s,i){return s*Math.pow(n,i)}).reduce(function(s,i){return s+i})},kR=function(t,n){return function(s){var i=rW(t,n);return sW(i,s)}},XDe=function(t,n){return function(s){var i=rW(t,n),a=[].concat(GDe(i.map(function(o,l){return o*l}).slice(1)),[0]);return sW(a,s)}},OR=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=UDe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=kR(i,o),m=kR(a,l),g=XDe(i,o),x=function(N){return N>1?1:N<0?0:N},v=function(N){for(var j=N>1?1:N,b=j,C=0;C<8;++C){var _=f(b)-j,A=g(b);if(Math.abs(_-j)<yj||A<yj)return m(b);b=x(b-_/A)}return m(b)};return v.isStepper=!1,v},JDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var g=-(d-f)*s,x=m*a,v=m+(g-x)*l/1e3,y=m*l/1e3+d;return Math.abs(y-f)<yj&&Math.abs(v)<yj?[f,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},ZDe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OR(i);case"spring":return JDe();default:if(i.split("(")[0]==="cubic-bezier")return OR(i)}return typeof i=="function"?i:null};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function DR(e){return nMe(e)||tMe(e)||iW(e)||eMe()}function eMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nMe(e){if(Array.isArray(e))return V_(e)}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(s){z_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function z_(e,t,n){return t=rMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rMe(e){var t=sMe(e,"string");return Bg(t)==="symbol"?t:String(t)}function sMe(e,t){if(Bg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Bg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iMe(e,t){return lMe(e)||oMe(e,t)||iW(e,t)||aMe()}function aMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(e,t){if(e){if(typeof e=="string")return V_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function oMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lMe(e){if(Array.isArray(e))return e}var jj=function(t,n,s){return t+(n-t)*s},U_=function(t){var n=t.from,s=t.to;return n!==s},cMe=function e(t,n,s){var i=Lp(function(a,o){if(U_(o)){var l=t(o.from,o.to,o.velocity),c=iMe(l,2),u=c[0],d=c[1];return es(es({},o),{},{from:u,velocity:d})}return o},n);return s<1?Lp(function(a,o){return U_(o)?es(es({},o),{},{velocity:jj(o.velocity,i[a].velocity,s),from:jj(o.from,i[a].from,s)}):o},n):e(t,i,s-1)};const uMe=function(e,t,n,s,i){var a=BDe(e,t),o=a.reduce(function(y,N){return es(es({},y),{},z_({},N,[e[N],t[N]]))},{}),l=a.reduce(function(y,N){return es(es({},y),{},z_({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Lp(function(N,j){return j.from},l)},g=function(){return!Object.values(l).filter(U_).length},x=function(N){u||(u=N);var j=N-u,b=j/n.dt;l=cMe(n,l,b),i(es(es(es({},e),t),m())),u=N,g()||(c=requestAnimationFrame(f))},v=function(N){d||(d=N);var j=(N-d)/s,b=Lp(function(_,A){return jj.apply(void 0,DR(A).concat([n(j)]))},o);if(i(es(es(es({},e),t),b)),j<1)c=requestAnimationFrame(f);else{var C=Lp(function(_,A){return jj.apply(void 0,DR(A).concat([n(1)]))},o);i(es(es(es({},e),t),C))}};return f=n.isStepper?x:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}var dMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hMe(e,t){if(e==null)return{};var n=fMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fMe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function VS(e){return vMe(e)||gMe(e)||pMe(e)||mMe()}function mMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(e,t){if(e){if(typeof e=="string")return q_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(e,t)}}function gMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vMe(e){if(Array.isArray(e))return q_(e)}function q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(s){jp(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jp(e,t,n){return t=aW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yMe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aW(s.key),s)}}function jMe(e,t,n){return t&&yMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aW(e){var t=bMe(e,"string");return wf(t)==="symbol"?t:String(t)}function bMe(e,t){if(wf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},W_(e,t)}function NMe(e){var t=SMe();return function(){var s=bj(e),i;if(t){var a=bj(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return H_(this,i)}}function H_(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_(e)}function G_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bj(e){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bj(e)}var La=function(e){wMe(n,e);var t=NMe(n);function n(s,i){var a;xMe(this,n),a=t.call(this,s,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(G_(a)),a.changeStyle=a.changeStyle.bind(G_(a)),!l||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),H_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},H_(a);a.state={style:c?jp({},c,u):u}}else a.state={style:{}};return a}return jMe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var g={style:c?jp({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(g);return}if(!(TDe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?f:i.to;if(this.state&&m){var y={style:c?jp({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(y)}this.runAnimation(fa(fa({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,g=uMe(o,l,ZDe(u),c,this.changeStyle),x=function(){a.stopJSAnimation=g()};this.manager.start([m,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,g=function(v,y,N){if(N===0)return v;var j=y.duration,b=y.easing,C=b===void 0?"ease":b,_=y.style,A=y.properties,P=y.onAnimationEnd,E=N>0?o[N-1]:y,D=A||Object.keys(_);if(typeof C=="function"||C==="spring")return[].concat(VS(v),[a.runJSAnimation.bind(a,{from:E.style,to:_,duration:j,easing:C}),j]);var I=TR(D,j,C),k=fa(fa(fa({},E.style),_),{},{transition:I});return[].concat(VS(v),[k,j,P]).filter(zDe)};return this.manager.start([c].concat(VS(o.reduce(g,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=RDe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?jp({},l,c):c,y=TR(Object.keys(v),o,u);x.start([d,a,fa(fa({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=hMe(i,dMe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,N=x.className,j=w.cloneElement(g,fa(fa({},c),{},{style:fa(fa({},y),d),className:N}));return j};return u===1?f(w.Children.only(a)):W.createElement("div",null,w.Children.map(a,function(m){return f(m)}))}}]),n}(w.PureComponent);La.displayName="Animate";La.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};La.propTypes={from:mn.oneOfType([mn.object,mn.string]),to:mn.oneOfType([mn.object,mn.string]),attributeName:mn.string,duration:mn.number,begin:mn.number,easing:mn.oneOfType([mn.string,mn.func]),steps:mn.arrayOf(mn.shape({duration:mn.number.isRequired,style:mn.object.isRequired,easing:mn.oneOfType([mn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mn.func]),properties:mn.arrayOf("string"),onAnimationEnd:mn.func})),children:mn.oneOfType([mn.node,mn.func]),isActive:mn.bool,canBegin:mn.bool,onAnimationEnd:mn.func,shouldReAnimate:mn.bool,onAnimationStart:mn.func,onAnimationReStart:mn.func};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wj.apply(this,arguments)}function CMe(e,t){return EMe(e)||AMe(e,t)||PMe(e,t)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PMe(e,t){if(e){if(typeof e=="string")return $R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $R(e,t)}}function $R(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function AMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function EMe(e){if(Array.isArray(e))return e}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function LR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(s){TMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function TMe(e,t,n){return t=kMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kMe(e){var t=OMe(e,"string");return zg(t)=="symbol"?t:t+""}function OMe(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(zg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FR=function(t,n,s,i,a){var o=Math.min(Math.abs(s)/2,Math.abs(i)/2),l=i>=0?1:-1,c=s>=0?1:-1,u=i>=0&&s>=0||i<0&&s<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=a[m]>o?o:a[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+s-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*f[1])),d+="L ".concat(t+s,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+s-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s-c*x,",").concat(n+i,`
            L `).concat(t+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*x," Z")}else d="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(i," h ").concat(-s," Z");return d},DMe=function(t,n){if(!t||!n)return!1;var s=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=u&&s<=d&&i>=f&&i<=m}return!1},MMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PT=function(t){var n=LR(LR({},MMe),t),s=w.useRef(),i=w.useState(-1),a=CMe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var C=s.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Tt("recharts-rectangle",g);return j?W.createElement(La,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:x,isActive:j},function(C){var _=C.width,A=C.height,P=C.x,E=C.y;return W.createElement(La,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:N,easing:x},W.createElement("path",wj({},ct(n,!0),{className:b,d:FR(P,E,_,A,m),ref:s})))}):W.createElement("path",wj({},ct(n,!0),{className:b,d:FR(c,u,d,f,m)}))},IMe=["points","className","baseLinePoints","connectNulls"];function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xh.apply(this,arguments)}function $Me(e,t){if(e==null)return{};var n=RMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function RMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function BR(e){return zMe(e)||BMe(e)||FMe(e)||LMe()}function LMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FMe(e,t){if(e){if(typeof e=="string")return K_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(e,t)}}function BMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zMe(e){if(Array.isArray(e))return K_(e)}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var zR=function(t){return t&&t.x===+t.x&&t.y===+t.y},VMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){zR(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),zR(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Fp=function(t,n){var s=VMe(t);n&&(s=[s.reduce(function(a,o){return[].concat(BR(a),BR(o))},[])]);var i=s.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(i,"Z"):i},UMe=function(t,n,s){var i=Fp(t,s);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Fp(n.reverse(),s).slice(1))},qMe=function(t){var n=t.points,s=t.className,i=t.baseLinePoints,a=t.connectNulls,o=$Me(t,IMe);if(!n||!n.length)return null;var l=Tt("recharts-polygon",s);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=UMe(n,i,a);return W.createElement("g",{className:l},W.createElement("path",xh({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?W.createElement("path",xh({},ct(o,!0),{fill:"none",d:Fp(n,a)})):null,c?W.createElement("path",xh({},ct(o,!0),{fill:"none",d:Fp(i,a)})):null)}var d=Fp(n,a);return W.createElement("path",xh({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y_.apply(this,arguments)}var Ov=function(t){var n=t.cx,s=t.cy,i=t.r,a=t.className,o=Tt("recharts-dot",a);return n===+n&&s===+s&&i===+i?w.createElement("circle",Y_({},ct(t,!1),V0(t),{className:o,cx:n,cy:s,r:i})):null};function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}var WMe=["x","y","top","left","width","height","className"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q_.apply(this,arguments)}function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function HMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(s){GMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function GMe(e,t,n){return t=KMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KMe(e){var t=YMe(e,"string");return Vg(t)=="symbol"?t:t+""}function YMe(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QMe(e,t){if(e==null)return{};var n=XMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function XMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var JMe=function(t,n,s,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(s)},ZMe=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,g=m===void 0?0:m,x=t.className,v=QMe(t,WMe),y=HMe({x:s,y:a,top:l,left:u,width:f,height:g},v);return!Ve(s)||!Ve(a)||!Ve(f)||!Ve(g)||!Ve(l)||!Ve(u)?null:W.createElement("path",Q_({},ct(y,!0),{className:Tt("recharts-cross",x),d:JMe(s,a,f,g,l,u)}))},eIe=yw,tIe=x7,nIe=No;function rIe(e,t){return e&&e.length?eIe(e,nIe(t),tIe):void 0}var sIe=rIe;const iIe=vn(sIe);var aIe=yw,oIe=No,lIe=y7;function cIe(e,t){return e&&e.length?aIe(e,oIe(t),lIe):void 0}var uIe=cIe;const dIe=vn(uIe);var hIe=["cx","cy","angle","ticks","axisLine"],fIe=["ticks","tick","angle","tickFormatter","stroke"];function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bp.apply(this,arguments)}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(s){Nw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qR(e,t){if(e==null)return{};var n=mIe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function pIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,lW(s.key),s)}}function gIe(e,t,n){return t&&WR(e.prototype,t),n&&WR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vIe(e,t,n){return t=Nj(t),xIe(e,oW()?Reflect.construct(t,n||[],Nj(e).constructor):t.apply(e,n))}function xIe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yIe(e)}function yIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oW=function(){return!!e})()}function Nj(e){return Nj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nj(e)}function jIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},X_(e,t)}function Nw(e,t,n){return t=lW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lW(e){var t=bIe(e,"string");return Nf(t)=="symbol"?t:t+""}function bIe(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Nf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sw=function(e){function t(){return pIe(this,t),vIe(this,t,arguments)}return jIe(t,e),gIe(t,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return $n(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=iIe(l,function(d){return d.coordinate||0}),u=dIe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=qR(s,hIe),d=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),f=$n(i,a,d[0],o),m=$n(i,a,d[1],o),g=ru(ru(ru({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return W.createElement("line",Bp({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=qR(i,fIe),f=this.getTickTextAnchor(),m=ct(d,!1),g=ct(o,!1),x=a.map(function(v,y){var N=s.getTickValueCoord(v),j=ru(ru(ru(ru({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:y},N),{},{payload:v});return W.createElement(Qt,Bp({className:Tt("recharts-polar-radius-axis-tick",G7(o)),key:"tick-".concat(v.coordinate)},Ju(s.props,v,y)),t.renderTickItem(o,j,c?c(v.value,y):v.value))});return W.createElement(Qt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.axisLine,o=s.tick;return!i||!i.length?null:W.createElement(Qt,{className:Tt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Wr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,a){var o;return W.isValidElement(s)?o=W.cloneElement(s,i):yt(s)?o=s(i):o=W.createElement(Zu,Bp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);Nw(Sw,"displayName","PolarRadiusAxis");Nw(Sw,"axisType","radiusAxis");Nw(Sw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fu.apply(this,arguments)}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(s){Cw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,uW(s.key),s)}}function NIe(e,t,n){return t&&GR(e.prototype,t),n&&GR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SIe(e,t,n){return t=Sj(t),CIe(e,cW()?Reflect.construct(t,n||[],Sj(e).constructor):t.apply(e,n))}function CIe(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ie(e)}function _Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cW=function(){return!!e})()}function Sj(e){return Sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sj(e)}function PIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},J_(e,t)}function Cw(e,t,n){return t=uW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=AIe(e,"string");return Sf(t)=="symbol"?t:t+""}function AIe(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Sf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EIe=Math.PI/180,KR=1e-5,_w=function(e){function t(){return wIe(this,t),SIe(this,t,arguments)}return PIe(t,e),NIe(t,[{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=$n(a,o,l,s.coordinate),m=$n(a,o,l+(c==="inner"?-1:1)*d,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,a=Math.cos(-s.coordinate*EIe),o;return a>KR?o=i==="outer"?"start":"end":a<-KR?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=su(su({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return W.createElement(Ov,fu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(m){return $n(i,a,o,m.coordinate)});return W.createElement(qMe,fu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ct(this.props,!1),f=ct(o,!1),m=su(su({},d),{},{fill:"none"},ct(l,!1)),g=a.map(function(x,v){var y=s.getTickLineCoord(x),N=s.getTickTextAnchor(x),j=su(su(su({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:x,x:y.x2,y:y.y2});return W.createElement(Qt,fu({className:Tt("recharts-polar-angle-axis-tick",G7(o)),key:"tick-".concat(x.coordinate)},Ju(s.props,x,v)),l&&W.createElement("line",fu({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,j,c?c(x.value,v):x.value))});return W.createElement(Qt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.radius,o=s.axisLine;return a<=0||!i||!i.length?null:W.createElement(Qt,{className:Tt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,a){var o;return W.isValidElement(s)?o=W.cloneElement(s,i):yt(s)?o=s(i):o=W.createElement(Zu,fu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);Cw(_w,"displayName","PolarAngleAxis");Cw(_w,"axisType","angleAxis");Cw(_w,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TIe=mq,kIe=TIe(Object.getPrototypeOf,Object),OIe=kIe,DIe=xl,MIe=OIe,IIe=yl,$Ie="[object Object]",RIe=Function.prototype,LIe=Object.prototype,dW=RIe.toString,FIe=LIe.hasOwnProperty,BIe=dW.call(Object);function zIe(e){if(!IIe(e)||DIe(e)!=$Ie)return!1;var t=MIe(e);if(t===null)return!0;var n=FIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&dW.call(n)==BIe}var VIe=zIe;const UIe=vn(VIe);var qIe=xl,WIe=yl,HIe="[object Boolean]";function GIe(e){return e===!0||e===!1||WIe(e)&&qIe(e)==HIe}var KIe=GIe;const YIe=vn(KIe);function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cj.apply(this,arguments)}function QIe(e,t){return e4e(e)||ZIe(e,t)||JIe(e,t)||XIe()}function XIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JIe(e,t){if(e){if(typeof e=="string")return YR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YR(e,t)}}function YR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ZIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function e4e(e){if(Array.isArray(e))return e}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function XR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(s){t4e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function t4e(e,t,n){return t=n4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n4e(e){var t=r4e(e,"string");return Ug(t)=="symbol"?t:t+""}function r4e(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JR=function(t,n,s,i,a){var o=s-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+a),l+="L ".concat(t+s-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},s4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i4e=function(t){var n=XR(XR({},s4e),t),s=w.useRef(),i=w.useState(-1),a=QIe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=Tt("recharts-trapezoid",g);return N?W.createElement(La,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:x,isActive:N},function(b){var C=b.upperWidth,_=b.lowerWidth,A=b.height,P=b.x,E=b.y;return W.createElement(La,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},W.createElement("path",Cj({},ct(n,!0),{className:j,d:JR(P,E,C,_,A),ref:s})))}):W.createElement("g",null,W.createElement("path",Cj({},ct(n,!0),{className:j,d:JR(c,u,d,f,m)})))},a4e=["option","shapeType","propTransformer","activeClassName","isActive"];function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function o4e(e,t){if(e==null)return{};var n=l4e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function l4e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(s){c4e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function c4e(e,t,n){return t=u4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u4e(e){var t=d4e(e,"string");return qg(t)=="symbol"?t:t+""}function d4e(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h4e(e,t){return _j(_j({},t),e)}function f4e(e,t){return e==="symbols"}function e3(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return W.createElement(PT,n);case"trapezoid":return W.createElement(i4e,n);case"sector":return W.createElement(Q7,n);case"symbols":if(f4e(t))return W.createElement(HE,n);break;default:return null}}function m4e(e){return w.isValidElement(e)?e.props:e}function hW(e){var t=e.option,n=e.shapeType,s=e.propTransformer,i=s===void 0?h4e:s,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=o4e(e,a4e),u;if(w.isValidElement(t))u=w.cloneElement(t,_j(_j({},c),m4e(t)));else if(yt(t))u=t(c);else if(UIe(t)&&!YIe(t)){var d=i(t,c);u=W.createElement(e3,{shapeType:n,elementProps:d})}else{var f=c;u=W.createElement(e3,{shapeType:n,elementProps:f})}return l?W.createElement(Qt,{className:o},u):u}function Pw(e,t){return t!=null&&"trapezoids"in e.props}function Aw(e,t){return t!=null&&"sectors"in e.props}function Wg(e,t){return t!=null&&"points"in e.props}function p4e(e,t){var n,s,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return i&&a}function g4e(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function v4e(e,t){var n=e.x===t.x,s=e.y===t.y,i=e.z===t.z;return n&&s&&i}function x4e(e,t){var n;return Pw(e,t)?n=p4e:Aw(e,t)?n=g4e:Wg(e,t)&&(n=v4e),n}function y4e(e,t){var n;return Pw(e,t)?n="trapezoids":Aw(e,t)?n="sectors":Wg(e,t)&&(n="points"),n}function j4e(e,t){if(Pw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Aw(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Wg(e,t)?t.payload:{}}function b4e(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,i=y4e(n,t),a=j4e(n,t),o=s.filter(function(c,u){var d=ed(a,c),f=n.props[i].filter(function(x){var v=x4e(n,t);return v(x,t)}),m=n.props[i].indexOf(f[f.length-1]),g=u===m;return d&&g}),l=s.indexOf(o[o.length-1]);return l}var Ky;function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yh.apply(this,arguments)}function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(s){Wi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function w4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mW(s.key),s)}}function N4e(e,t,n){return t&&n3(e.prototype,t),n&&n3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S4e(e,t,n){return t=Pj(t),C4e(e,fW()?Reflect.construct(t,n||[],Pj(e).constructor):t.apply(e,n))}function C4e(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _4e(e)}function _4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fW=function(){return!!e})()}function Pj(e){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pj(e)}function P4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Z_(e,t)}function Wi(e,t,n){return t=mW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mW(e){var t=A4e(e,"string");return Cf(t)=="symbol"?t:t+""}function A4e(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qa=function(e){function t(n){var s;return w4e(this,t),s=S4e(this,t,[n]),Wi(s,"pieRef",null),Wi(s,"sectorRefs",[]),Wi(s,"id",vd("recharts-pie-")),Wi(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),yt(i)&&i()}),Wi(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),yt(i)&&i()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return P4e(t,e),N4e(t,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ct(this.props,!1),f=ct(o,!1),m=ct(l,!1),g=o&&o.offsetRadius||20,x=s.map(function(v,y){var N=(v.startAngle+v.endAngle)/2,j=$n(v.cx,v.cy,v.outerRadius+g,N),b=Dn(Dn(Dn(Dn({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(j.x,v.cx)},j),C=Dn(Dn(Dn(Dn({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[$n(v.cx,v.cy,v.outerRadius,N),j]}),_=c;return Et(c)&&Et(u)?_="value":Et(c)&&(_=u),W.createElement(Qt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(o,b,gr(v,_)))});return W.createElement(Qt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return s.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,g=f?o:m,x=Dn(Dn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return W.createElement(Qt,yh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ju(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),W.createElement(hW,yh({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,g=f.prevIsAnimationActive;return W.createElement(La,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],N=a&&a[0],j=N.startAngle;return a.forEach(function(b,C){var _=m&&m[C],A=C>0?Si(b,"paddingAngle",0):0;if(_){var P=Dr(_.endAngle-_.startAngle,b.endAngle-b.startAngle),E=Dn(Dn({},b),{},{startAngle:j+A,endAngle:j+P(v)+A});y.push(E),j=E.endAngle}else{var D=b.endAngle,I=b.startAngle,k=Dr(0,D-I),O=k(v),L=Dn(Dn({},b),{},{startAngle:j+A,endAngle:j+O+A});y.push(L),j=L.endAngle}}),W.createElement(Qt,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,a=s.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ed(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Ve(u)||!Ve(d)||!Ve(f)||!Ve(m))return null;var v=Tt("recharts-pie",l);return W.createElement(Qt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){s.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Wr.renderCallByParent(this.props,null,!1),(!g||x)&&po.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i,a){if(W.isValidElement(s))return W.cloneElement(s,i);if(yt(s))return s(i);var o=Tt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return W.createElement(Ru,yh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,i,a){if(W.isValidElement(s))return W.cloneElement(s,i);var o=a;if(yt(s)&&(o=s(i),W.isValidElement(o)))return o;var l=Tt("recharts-pie-label-text",typeof s!="boolean"&&!yt(s)?s.className:"");return W.createElement(Zu,yh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Ky=qa;Wi(qa,"displayName","Pie");Wi(qa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Oa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wi(qa,"parseDeltaAngle",function(e,t){var n=Os(t-e),s=Math.min(Math.abs(t-e),360);return n*s});Wi(qa,"getRealPieData",function(e){var t=e.data,n=e.children,s=ct(e,!1),i=Ci(n,hm);return t&&t.length?t.map(function(a,o){return Dn(Dn(Dn({payload:a},s),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Dn(Dn({},s),a.props)}):[]});Wi(qa,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,i=t.width,a=t.height,o=H7(i,a),l=s+Ds(e.cx,i,i/2),c=n+Ds(e.cy,a,a/2),u=Ds(e.innerRadius,o,0),d=Ds(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Wi(qa,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?Dn(Dn({},t.type.defaultProps),t.props):t.props,i=Ky.getRealPieData(s);if(!i||!i.length)return null;var a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,m=s.tooltipType,g=Math.abs(s.minAngle),x=Ky.parseCoordinateOfPie(s,n),v=Ky.parseDeltaAngle(o,l),y=Math.abs(v),N=u;Et(u)&&Et(f)?(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Et(u)&&(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var j=i.filter(function(E){return gr(E,N,0)!==0}).length,b=(y>=360?j:j-1)*c,C=y-j*g-b,_=i.reduce(function(E,D){var I=gr(D,N,0);return E+(Ve(I)?I:0)},0),A;if(_>0){var P;A=i.map(function(E,D){var I=gr(E,N,0),k=gr(E,d,D),O=(Ve(I)?I:0)/_,L;D?L=P.endAngle+Os(v)*c*(I!==0?1:0):L=o;var B=L+Os(v)*((I!==0?g:0)+O*C),ee=(L+B)/2,G=(x.innerRadius+x.outerRadius)/2,J=[{name:k,value:I,payload:E,dataKey:N,type:m}],q=$n(x.cx,x.cy,G,ee);return P=Dn(Dn(Dn({percent:O,cornerRadius:a,name:k,tooltipPayload:J,midAngle:ee,middleRadius:G,tooltipPosition:q},E),x),{},{value:gr(E,N),startAngle:L,endAngle:B,payload:E,paddingAngle:Os(v)*c}),P})}return Dn(Dn({},x),{},{sectors:A,data:i})});var E4e=Math.ceil,T4e=Math.max;function k4e(e,t,n,s){for(var i=-1,a=T4e(E4e((t-e)/(n||1)),0),o=Array(a);a--;)o[s?a:++i]=e,e+=n;return o}var O4e=k4e,D4e=Dq,r3=1/0,M4e=17976931348623157e292;function I4e(e){if(!e)return e===0?e:0;if(e=D4e(e),e===r3||e===-r3){var t=e<0?-1:1;return t*M4e}return e===e?e:0}var pW=I4e,$4e=O4e,R4e=hw,US=pW;function L4e(e){return function(t,n,s){return s&&typeof s!="number"&&R4e(t,n,s)&&(n=s=void 0),t=US(t),n===void 0?(n=t,t=0):n=US(n),s=s===void 0?t<n?1:-1:US(s),$4e(t,n,s,e)}}var F4e=L4e,B4e=F4e,z4e=B4e(),V4e=z4e;const Aj=vn(V4e);function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function i3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(n),!0).forEach(function(s){gW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gW(e,t,n){return t=U4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U4e(e){var t=q4e(e,"string");return Hg(t)=="symbol"?t:t+""}function q4e(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W4e=["Webkit","Moz","O","ms"],H4e=function(t,n){var s=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=W4e.reduce(function(a,o){return i3(i3({},a),{},gW({},o+s,n))},{});return i[t]=n,i};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ej.apply(this,arguments)}function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function qS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(s){mi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function G4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,xW(s.key),s)}}function K4e(e,t,n){return t&&o3(e.prototype,t),n&&o3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y4e(e,t,n){return t=Tj(t),Q4e(e,vW()?Reflect.construct(t,n||[],Tj(e).constructor):t.apply(e,n))}function Q4e(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X4e(e)}function X4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vW=function(){return!!e})()}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tj(e)}function J4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},eP(e,t)}function mi(e,t,n){return t=xW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xW(e){var t=Z4e(e,"string");return _f(t)=="symbol"?t:t+""}function Z4e(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e$e=function(t){var n=t.data,s=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=$p().domain(Aj(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(i),scale:u,scaleValues:d}},l3=function(t){return t.changedTouches&&!!t.changedTouches.length},Pf=function(e){function t(n){var s;return G4e(this,t),s=Y4e(this,t,[n]),mi(s,"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),mi(s,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),mi(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=s.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),s.detachDragEndListener()}),mi(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),mi(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),mi(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),mi(s,"handleSlideDragStart",function(i){var a=l3(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return J4e(t,e),K4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,a=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),m=Math.max(i,a),g=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(s){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=gr(a[s],l,s);return yt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,g=c.endIndex,x=c.onChange,v=s.pageX-a;v>0?v=Math.min(v,u+d-f-l,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==m||y.endIndex!==g)&&x&&x(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var a=l3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,v=d.gap,y=d.data,N={startX:this.state.startX,endX:this.state.endX},j=s.pageX-a;j>0?j=Math.min(j,f+m-g-u):j<0&&(j=Math.max(j,f-u)),N[o]=u+j;var b=this.getIndex(N),C=b.startIndex,_=b.endIndex,A=function(){var E=y.length-1;return o==="startX"&&(l>c?C%v===0:_%v===0)||l<c&&_===E||o==="endX"&&(l>c?_%v===0:C%v===0)||l>c&&_===E};this.setState(mi(mi({},o,u+j),"brushMoveStartX",s.pageX),function(){x&&A()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(s,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(mi({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return W.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.data,u=s.children,d=s.padding,f=w.Children.only(u);return f?W.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,N=Math.max(s,this.props.x),j=qS(qS({},ct(this.props,!1)),{},{x:N,y:u,width:d,height:f}),b=g||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return W.createElement(Qt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,j))}},{key:"renderSlide",value:function(s,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(s,i)+u,f=Math.max(Math.abs(i-s)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,a=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,d=this.state,f=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:u};return W.createElement(Qt,{className:"recharts-brush-texts"},W.createElement(Zu,Ej({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:o+l/2},x),this.getTextOfTick(i)),W.createElement(Zu,Ej({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+g,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var s=this.props,i=s.data,a=s.className,o=s.children,l=s.x,c=s.y,u=s.width,d=s.height,f=s.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,y=m.isSlideMoving,N=m.isTravellerMoving,j=m.isTravellerFocused;if(!i||!i.length||!Ve(l)||!Ve(c)||!Ve(u)||!Ve(d)||u<=0||d<=0)return null;var b=Tt("recharts-brush",a),C=W.Children.count(o)===1,_=H4e("userSelect","none");return W.createElement(Qt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||N||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,a=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(a+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var a;return W.isValidElement(s)?a=W.cloneElement(s,i):yt(s)?a=s(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(s,i){var a=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,d=s.startIndex,f=s.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return qS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?e$e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,i){for(var a=s.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>i?l=c:o=c}return i>=s[l]?l:o}}])}(w.PureComponent);mi(Pf,"displayName","Brush");mi(Pf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var t$e=ZE;function n$e(e,t){var n;return t$e(e,function(s,i,a){return n=t(s,i,a),!n}),!!n}var r$e=n$e,s$e=aq,i$e=No,a$e=r$e,o$e=ii,l$e=hw;function c$e(e,t,n){var s=o$e(e)?s$e:a$e;return n&&l$e(e,t,n)&&(t=void 0),s(e,i$e(t))}var u$e=c$e;const d$e=vn(u$e);var go=function(t,n){var s=t.alwaysShow,i=t.ifOverflow;return s&&(i="extendDomain"),i===n},c3=Aq;function h$e(e,t,n){t=="__proto__"&&c3?c3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var f$e=h$e,m$e=f$e,p$e=_q,g$e=No;function v$e(e,t){var n={};return t=g$e(t),p$e(e,function(s,i,a){m$e(n,i,t(s,i,a))}),n}var x$e=v$e;const y$e=vn(x$e);function j$e(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var b$e=j$e,w$e=ZE;function N$e(e,t){var n=!0;return w$e(e,function(s,i,a){return n=!!t(s,i,a),n}),n}var S$e=N$e,C$e=b$e,_$e=S$e,P$e=No,A$e=ii,E$e=hw;function T$e(e,t,n){var s=A$e(e)?C$e:_$e;return n&&E$e(e,t,n)&&(t=void 0),s(e,P$e(t))}var k$e=T$e;const yW=vn(k$e);var O$e=["x","y"];function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function tP(){return tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tP.apply(this,arguments)}function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(s){D$e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function D$e(e,t,n){return t=M$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M$e(e){var t=I$e(e,"string");return Gg(t)=="symbol"?t:t+""}function I$e(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $$e(e,t){if(e==null)return{};var n=R$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function R$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function L$e(e,t){var n=e.x,s=e.y,i=$$e(e,O$e),a="".concat(n),o=parseInt(a,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return cp(cp(cp(cp(cp({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function d3(e){return W.createElement(hW,tP({shapeType:"rectangle",propTransformer:L$e,activeClassName:"recharts-active-bar"},e))}var F$e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,i){if(typeof t=="number")return t;var a=Ve(s)||dye(s);return a?t(s,i):(a||nd(),n)}},B$e=["value","background"],jW;function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function z$e(e,t){if(e==null)return{};var n=V$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function V$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kj.apply(this,arguments)}function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(s){lc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function U$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wW(s.key),s)}}function q$e(e,t,n){return t&&f3(e.prototype,t),n&&f3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W$e(e,t,n){return t=Oj(t),H$e(e,bW()?Reflect.construct(t,n||[],Oj(e).constructor):t.apply(e,n))}function H$e(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G$e(e)}function G$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bW=function(){return!!e})()}function Oj(e){return Oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oj(e)}function K$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nP(e,t)}function nP(e,t){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},nP(e,t)}function lc(e,t,n){return t=wW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=Y$e(e,"string");return Af(t)=="symbol"?t:t+""}function Y$e(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oo=function(e){function t(){var n;U$e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=W$e(this,t,[].concat(i)),lc(n,"state",{isAnimationFinished:!1}),lc(n,"id",vd("recharts-bar-")),lc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),lc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return K$e(t,e),q$e(t,[{key:"renderRectanglesStatically",value:function(s){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ct(this.props,!1);return s&&s.map(function(f,m){var g=m===c,x=g?u:o,v=yr(yr(yr({},d),f),{},{isActive:g,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(Qt,kj({className:"recharts-bar-rectangle"},Ju(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),W.createElement(d3,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return W.createElement(La,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=a.map(function(y,N){var j=m&&m[N];if(j){var b=Dr(j.x,y.x),C=Dr(j.y,y.y),_=Dr(j.width,y.width),A=Dr(j.height,y.height);return yr(yr({},y),{},{x:b(x),y:C(x),width:_(x),height:A(x)})}if(o==="horizontal"){var P=Dr(0,y.height),E=P(x);return yr(yr({},y),{},{y:y.y+y.height-E,height:E})}var D=Dr(0,y.width),I=D(x);return yr(yr({},y),{},{width:I})});return W.createElement(Qt,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,a=s.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ed(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=ct(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=z$e(u,B$e);if(!f)return null;var g=yr(yr(yr(yr(yr({},m),{},{fill:"#eee"},f),c),Ju(s.props,u,d)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(d3,kj({key:"background-bar-".concat(d),option:s.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ci(d,kv);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,N){var j=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:j,errorVal:gr(y,N)}},x={clipPath:s?"url(#clipPath-".concat(i,")"):null};return W.createElement(Qt,x,f.map(function(v){return W.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,a=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,d=s.top,f=s.width,m=s.height,g=s.isAnimationActive,x=s.background,v=s.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,N=Tt("recharts-bar",o),j=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,C=j||b,_=Et(v)?this.id:v;return W.createElement(Qt,{className:N},j||b?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(_)},W.createElement("rect",{x:j?u:u-f/2,y:b?d:d-m/2,width:j?f:f*2,height:b?m:m*2}))):null,W.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(_,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,_),(!g||y)&&po.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}}])}(w.PureComponent);jW=oo;lc(oo,"displayName","Bar");lc(oo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Oa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});lc(oo,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=Eke(s,n);if(!g)return null;var x=t.layout,v=n.type.defaultProps,y=v!==void 0?yr(yr({},v),n.props):n.props,N=y.dataKey,j=y.children,b=y.minPointSize,C=x==="horizontal"?o:a,_=u?C.scale.domain():null,A=$ke({numericAxis:C}),P=Ci(j,hm),E=f.map(function(D,I){var k,O,L,B,ee,G;u?k=Tke(u[d+I],_):(k=gr(D,N),Array.isArray(k)||(k=[A,k]));var J=F$e(b,jW.defaultProps.minPointSize)(k[1],I);if(x==="horizontal"){var q,$=[o.scale(k[0]),o.scale(k[1])],oe=$[0],ge=$[1];O=nR({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:D,index:I}),L=(q=ge??oe)!==null&&q!==void 0?q:void 0,B=g.size;var re=oe-ge;if(ee=Number.isNaN(re)?0:re,G={x:O,y:o.y,width:B,height:o.height},Math.abs(J)>0&&Math.abs(ee)<Math.abs(J)){var Z=Os(ee||J)*(Math.abs(J)-Math.abs(ee));L-=Z,ee+=Z}}else{var ne=[a.scale(k[0]),a.scale(k[1])],ve=ne[0],je=ne[1];if(O=ve,L=nR({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:D,index:I}),B=je-ve,ee=g.size,G={x:a.x,y:L,width:a.width,height:ee},Math.abs(J)>0&&Math.abs(B)<Math.abs(J)){var we=Os(B||J)*(Math.abs(J)-Math.abs(B));B+=we}}return yr(yr(yr({},D),{},{x:O,y:L,width:B,height:ee,value:u?k:k[1],payload:D,background:G},P&&P[I]&&P[I].props),{},{tooltipPayload:[q7(n,D)],tooltipPosition:{x:O+B/2,y:L+ee/2}})});return yr({data:E,layout:x},m)});function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function Q$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,NW(s.key),s)}}function X$e(e,t,n){return t&&m3(e.prototype,t),n&&m3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(n),!0).forEach(function(s){Ew(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ew(e,t,n){return t=NW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=J$e(e,"string");return Kg(t)=="symbol"?t:t+""}function J$e(e,t){if(Kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AT=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!gi(u,oo);return d.reduce(function(g,x){var v=n[x],y=v.orientation,N=v.domain,j=v.padding,b=j===void 0?{}:j,C=v.mirror,_=v.reversed,A="".concat(y).concat(C?"Mirror":""),P,E,D,I,k;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var O=N[1]-N[0],L=1/0,B=v.categoricalDomain.sort(mye);if(B.forEach(function(ne,ve){ve>0&&(L=Math.min((ne||0)-(B[ve-1]||0),L))}),Number.isFinite(L)){var ee=L/O,G=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(P=ee*G/2),v.padding==="no-gap"){var J=Ds(t.barCategoryGap,ee*G),q=ee*G/2;P=q-J-(q-J)/G*J}}}i==="xAxis"?E=[s.left+(b.left||0)+(P||0),s.left+s.width-(b.right||0)-(P||0)]:i==="yAxis"?E=c==="horizontal"?[s.top+s.height-(b.bottom||0),s.top+(b.top||0)]:[s.top+(b.top||0)+(P||0),s.top+s.height-(b.bottom||0)-(P||0)]:E=v.range,_&&(E=[E[1],E[0]]);var $=B7(v,a,m),oe=$.scale,ge=$.realScaleType;oe.domain(N).range(E),z7(oe);var re=V7(oe,ba(ba({},v),{},{realScaleType:ge}));i==="xAxis"?(k=y==="top"&&!C||y==="bottom"&&C,D=s.left,I=f[A]-k*v.height):i==="yAxis"&&(k=y==="left"&&!C||y==="right"&&C,D=f[A]-k*v.width,I=s.top);var Z=ba(ba(ba({},v),re),{},{realScaleType:ge,x:D,y:I,scale:oe,width:i==="xAxis"?s.width:v.width,height:i==="yAxis"?s.height:v.height});return Z.bandSize=gj(Z,re),!v.hide&&i==="xAxis"?f[A]+=(k?-1:1)*Z.height:v.hide||(f[A]+=(k?-1:1)*Z.width),ba(ba({},g),{},Ew({},x,Z))},{})},SW=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(s,a),y:Math.min(i,o),width:Math.abs(a-s),height:Math.abs(o-i)}},Z$e=function(t){var n=t.x1,s=t.y1,i=t.x2,a=t.y2;return SW({x:n,y:s},{x:i,y:a})},CW=function(){function e(t){Q$e(this,e),this.scale=t}return X$e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,a=s.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),i=s[0],a=s[s.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();Ew(CW,"EPS",1e-4);var ET=function(t){var n=Object.keys(t).reduce(function(s,i){return ba(ba({},s),{},Ew({},i,CW.create(t[i])))},{});return ba(ba({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return y$e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return yW(i,function(a,o){return n[o].isInRange(a)})}})};function eRe(e){return(e%180+180)%180}var tRe=function(t){var n=t.width,s=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=eRe(i),o=a*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},nRe=No,rRe=_v,sRe=uw;function iRe(e){return function(t,n,s){var i=Object(t);if(!rRe(t)){var a=nRe(n);t=sRe(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,s);return o>-1?i[a?t[o]:o]:void 0}}var aRe=iRe,oRe=pW;function lRe(e){var t=oRe(e),n=t%1;return t===t?n?t-n:t:0}var cRe=lRe,uRe=jq,dRe=No,hRe=cRe,fRe=Math.max;function mRe(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var i=n==null?0:hRe(n);return i<0&&(i=fRe(s+i,0)),uRe(e,dRe(t),i)}var pRe=mRe,gRe=aRe,vRe=pRe,xRe=gRe(vRe),yRe=xRe;const jRe=vn(yRe);var bRe=pxe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),TT=w.createContext(void 0),kT=w.createContext(void 0),_W=w.createContext(void 0),PW=w.createContext({}),AW=w.createContext(void 0),EW=w.createContext(0),TW=w.createContext(0),g3=function(t){var n=t.state,s=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=bRe(a);return W.createElement(TT.Provider,{value:s},W.createElement(kT.Provider,{value:i},W.createElement(PW.Provider,{value:a},W.createElement(_W.Provider,{value:d},W.createElement(AW.Provider,{value:o},W.createElement(EW.Provider,{value:u},W.createElement(TW.Provider,{value:c},l)))))))},wRe=function(){return w.useContext(AW)},kW=function(t){var n=w.useContext(TT);n==null&&nd();var s=n[t];return s==null&&nd(),s},NRe=function(){var t=w.useContext(TT);return Gl(t)},SRe=function(){var t=w.useContext(kT),n=jRe(t,function(s){return yW(s.domain,Number.isFinite)});return n||Gl(t)},OW=function(t){var n=w.useContext(kT);n==null&&nd();var s=n[t];return s==null&&nd(),s},CRe=function(){var t=w.useContext(_W);return t},_Re=function(){return w.useContext(PW)},OT=function(){return w.useContext(TW)},DT=function(){return w.useContext(EW)};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function PRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ARe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,MW(s.key),s)}}function ERe(e,t,n){return t&&ARe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TRe(e,t,n){return t=Dj(t),kRe(e,DW()?Reflect.construct(t,n||[],Dj(e).constructor):t.apply(e,n))}function kRe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ORe(e)}function ORe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!e})()}function Dj(e){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dj(e)}function DRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rP(e,t)}function rP(e,t){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},rP(e,t)}function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function x3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(s){MT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function MT(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=MRe(e,"string");return Ef(t)=="symbol"?t:t+""}function MRe(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IRe(e,t){return FRe(e)||LRe(e,t)||RRe(e,t)||$Re()}function $Re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRe(e,t){if(e){if(typeof e=="string")return y3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y3(e,t)}}function y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function LRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function FRe(e){if(Array.isArray(e))return e}function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sP.apply(this,arguments)}var BRe=function(t,n){var s;return W.isValidElement(t)?s=W.cloneElement(t,n):yt(t)?s=t(n):s=W.createElement("line",sP({},n,{className:"recharts-reference-line-line"})),s},zRe=function(t,n,s,i,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,g=a.height;if(s){var x=u.y,v=t.y.apply(x,{position:o});if(go(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(n){var N=u.x,j=t.x.apply(N,{position:o});if(go(u,"discard")&&!t.x.isInRange(j))return null;var b=[{x:j,y:f+g},{x:j,y:f}];return l==="top"?b.reverse():b}if(i){var C=u.segment,_=C.map(function(A){return t.apply(A,{position:o})});return go(u,"discard")&&d$e(_,function(A){return!t.isInRange(A)})?null:_}return null};function VRe(e){var t=e.x,n=e.y,s=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=wRe(),d=kW(i),f=OW(a),m=CRe();if(!u||!m)return null;ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=ET({x:d.scale,y:f.scale}),x=Ir(t),v=Ir(n),y=s&&s.length===2,N=zRe(g,x,v,y,m,e.position,d.orientation,f.orientation,e);if(!N)return null;var j=IRe(N,2),b=j[0],C=b.x,_=b.y,A=j[1],P=A.x,E=A.y,D=go(e,"hidden")?"url(#".concat(u,")"):void 0,I=x3(x3({clipPath:D},ct(e,!0)),{},{x1:C,y1:_,x2:P,y2:E});return W.createElement(Qt,{className:Tt("recharts-reference-line",l)},BRe(o,I),Wr.renderCallByParent(e,Z$e({x1:C,y1:_,x2:P,y2:E})))}var IT=function(e){function t(){return PRe(this,t),TRe(this,t,arguments)}return DRe(t,e),ERe(t,[{key:"render",value:function(){return W.createElement(VRe,this.props)}}])}(W.Component);MT(IT,"displayName","ReferenceLine");MT(IT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iP.apply(this,arguments)}function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function j3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function b3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(s){Tw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function URe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$W(s.key),s)}}function WRe(e,t,n){return t&&qRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HRe(e,t,n){return t=Mj(t),GRe(e,IW()?Reflect.construct(t,n||[],Mj(e).constructor):t.apply(e,n))}function GRe(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(e)}function KRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!e})()}function Mj(e){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mj(e)}function YRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aP(e,t)}function aP(e,t){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},aP(e,t)}function Tw(e,t,n){return t=$W(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=QRe(e,"string");return Tf(t)=="symbol"?t:t+""}function QRe(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XRe=function(t){var n=t.x,s=t.y,i=t.xAxis,a=t.yAxis,o=ET({x:i.scale,y:a.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return go(t,"discard")&&!o.isInRange(l)?null:l},kw=function(e){function t(){return URe(this,t),HRe(this,t,arguments)}return YRe(t,e),WRe(t,[{key:"render",value:function(){var s=this.props,i=s.x,a=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=Ir(i),d=Ir(a);if(ka(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=XRe(this.props);if(!f)return null;var m=f.x,g=f.y,x=this.props,v=x.shape,y=x.className,N=go(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=b3(b3({clipPath:N},ct(this.props,!0)),{},{cx:m,cy:g});return W.createElement(Qt,{className:Tt("recharts-reference-dot",y)},t.renderDot(v,j),Wr.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])}(W.Component);Tw(kw,"displayName","ReferenceDot");Tw(kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tw(kw,"renderDot",function(e,t){var n;return W.isValidElement(e)?n=W.cloneElement(e,t):yt(e)?n=e(t):n=W.createElement(Ov,iP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oP.apply(this,arguments)}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function N3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(n),!0).forEach(function(s){Ow(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function JRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,LW(s.key),s)}}function e3e(e,t,n){return t&&ZRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t3e(e,t,n){return t=Ij(t),n3e(e,RW()?Reflect.construct(t,n||[],Ij(e).constructor):t.apply(e,n))}function n3e(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r3e(e)}function r3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!e})()}function Ij(e){return Ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ij(e)}function s3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lP(e,t)}function lP(e,t){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},lP(e,t)}function Ow(e,t,n){return t=LW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=i3e(e,"string");return kf(t)=="symbol"?t:t+""}function i3e(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a3e=function(t,n,s,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=ET({x:d.scale,y:f.scale}),g={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return go(a,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:SW(g,x)},Dw=function(e){function t(){return JRe(this,t),t3e(this,t,arguments)}return s3e(t,e),e3e(t,[{key:"render",value:function(){var s=this.props,i=s.x1,a=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,d=s.clipPathId;ka(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ir(i),m=Ir(a),g=Ir(o),x=Ir(l),v=this.props.shape;if(!f&&!m&&!g&&!x&&!v)return null;var y=a3e(f,m,g,x,this.props);if(!y&&!v)return null;var N=go(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(Qt,{className:Tt("recharts-reference-area",c)},t.renderRect(v,N3(N3({clipPath:N},ct(this.props,!0)),y)),Wr.renderCallByParent(this.props,y))}}])}(W.Component);Ow(Dw,"displayName","ReferenceArea");Ow(Dw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ow(Dw,"renderRect",function(e,t){var n;return W.isValidElement(e)?n=W.cloneElement(e,t):yt(e)?n=e(t):n=W.createElement(PT,oP({},t,{className:"recharts-reference-area-rect"})),n});function FW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],i=0;i<e.length;i+=t)s.push(e[i]);return s}function o3e(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return tRe(s,n)}function l3e(e,t,n){var s=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:s?i:a,end:s?i+o:a+l}:{start:s?i+o:a+l,end:s?i:a}}function $j(e,t,n,s,i){if(e*t<e*s||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-s)>=0&&e*(t+e*a/2-i)<=0}function c3e(e,t){return FW(e,t+1)}function u3e(e,t,n,s,i){for(var a=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:FW(s,u)};var v=c,y,N=function(){return y===void 0&&(y=n(x,v)),y},j=x.coordinate,b=c===0||$j(e,j,N,d,l);b||(c=0,d=o,u+=1),b&&(d=j+e*(N()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function S3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(n),!0).forEach(function(s){d3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function d3e(e,t,n){return t=h3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h3e(e){var t=f3e(e,"string");return Yg(t)=="symbol"?t:t+""}function f3e(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m3e(e,t,n,s,i){for(var a=(s||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(m){var g=a[m],x,v=function(){return x===void 0&&(x=n(g,m)),x};if(m===o-1){var y=e*(g.coordinate+e*v()/2-c);a[m]=g=fs(fs({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[m]=g=fs(fs({},g),{},{tickCoord:g.coordinate});var N=$j(e,g.tickCoord,v,l,c);N&&(c=g.tickCoord-e*(v()/2+i),a[m]=fs(fs({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function p3e(e,t,n,s,i,a){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=s[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=fs(fs({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var g=$j(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+i),o[l-1]=fs(fs({},d),{},{isShow:!0}))}for(var x=a?l-1:l,v=function(j){var b=o[j],C,_=function(){return C===void 0&&(C=n(b,j)),C};if(j===0){var A=e*(b.coordinate-e*_()/2-c);o[j]=b=fs(fs({},b),{},{tickCoord:A<0?b.coordinate-A*e:b.coordinate})}else o[j]=b=fs(fs({},b),{},{tickCoord:b.coordinate});var P=$j(e,b.tickCoord,_,c,u);P&&(c=b.tickCoord+e*(_()/2+i),o[j]=fs(fs({},b),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function $T(e,t,n){var s=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!s)return[];if(Ve(c)||Oa.isSsr)return c3e(i,typeof c=="number"&&Ve(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?Ip(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,C){var _=yt(u)?u(b.value,C):b.value;return g==="width"?o3e(Ip(_,{fontSize:t,letterSpacing:n}),x,f):Ip(_,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Os(i[1].coordinate-i[0].coordinate):1,N=l3e(a,y,g);return c==="equidistantPreserveStart"?u3e(y,N,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=p3e(y,N,v,i,o,c==="preserveStartEnd"):m=m3e(y,N,v,i,o),m.filter(function(j){return j.isShow}))}var g3e=["viewBox"],v3e=["viewBox"],x3e=["ticks"];function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jh.apply(this,arguments)}function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(s){RT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function WS(e,t){if(e==null)return{};var n=y3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function y3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function j3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zW(s.key),s)}}function b3e(e,t,n){return t&&_3(e.prototype,t),n&&_3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w3e(e,t,n){return t=Rj(t),N3e(e,BW()?Reflect.construct(t,n||[],Rj(e).constructor):t.apply(e,n))}function N3e(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S3e(e)}function S3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BW=function(){return!!e})()}function Rj(e){return Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rj(e)}function C3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cP(e,t)}function cP(e,t){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},cP(e,t)}function RT(e,t,n){return t=zW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zW(e){var t=_3e(e,"string");return Of(t)=="symbol"?t:t+""}function _3e(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gm=function(e){function t(n){var s;return j3e(this,t),s=w3e(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return C3e(t,e),b3e(t,[{key:"shouldComponentUpdate",value:function(s,i){var a=s.viewBox,o=WS(s,g3e),l=this.props,c=l.viewBox,u=WS(l,v3e);return!Mh(a,c)||!Mh(o,u)||!Mh(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,g,x,v,y,N,j,b=f?-1:1,C=s.tickSize||d,_=Ve(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=x=s.coordinate,y=o+ +!f*c,v=y-b*C,j=v-b*m,N=_;break;case"left":v=y=s.coordinate,x=a+ +!f*l,g=x-b*C,N=g-b*m,j=_;break;case"right":v=y=s.coordinate,x=a+ +f*l,g=x+b*C,N=g+b*m,j=_;break;default:g=x=s.coordinate,y=o+ +f*c,v=y+b*C,j=v+b*m,N=_;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:N,y:j}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,d=s.axisLine,f=_r(_r(_r({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=_r(_r({},f),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=_r(_r({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return W.createElement("line",jh({},f,{className:Tt("recharts-cartesian-axis-line",Si(d,"className"))}))}},{key:"renderTicks",value:function(s,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,g=$T(_r(_r({},this.props),{},{ticks:s}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ct(this.props,!1),N=ct(d,!1),j=_r(_r({},y),{},{fill:"none"},ct(c,!1)),b=g.map(function(C,_){var A=o.getTickLineCoord(C),P=A.line,E=A.tick,D=_r(_r(_r(_r({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},N),E),{},{index:_,payload:C,visibleTicksCount:g.length,tickFormatter:f});return W.createElement(Qt,jh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Ju(o.props,C,_)),c&&W.createElement("line",jh({},j,P,{className:Tt("recharts-cartesian-axis-tick-line",Si(c,"className"))})),d&&t.renderTickItem(d,D,"".concat(yt(f)?f(C.value,_):C.value).concat(m||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var s=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,g=WS(f,x3e),x=m;return yt(c)&&(x=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!x||!x.length?null:W.createElement(Qt,{className:Tt("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Wr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,a){var o,l=Tt(i.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(s)?o=W.cloneElement(s,_r(_r({},i),{},{className:l})):yt(s)?o=s(_r(_r({},i),{},{className:l})):o=W.createElement(Zu,jh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);RT(gm,"displayName","CartesianAxis");RT(gm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var P3e=["x1","y1","x2","y2","key"],A3e=["offset"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(s){E3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function E3e(e,t,n){return t=T3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T3e(e){var t=k3e(e,"string");return rd(t)=="symbol"?t:t+""}function k3e(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(rd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wu.apply(this,arguments)}function A3(e,t){if(e==null)return{};var n=O3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function O3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var D3e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return W.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function VW(e,t){var n;if(W.isValidElement(e))n=W.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=A3(t,P3e),u=ct(c,!1);u.offset;var d=A3(u,A3e);n=W.createElement("line",wu({},d,{x1:s,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function M3e(e){var t=e.x,n=e.width,s=e.horizontal,i=s===void 0?!0:s,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=gs(gs({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return VW(i,u)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function I3e(e){var t=e.y,n=e.height,s=e.vertical,i=s===void 0?!0:s,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=gs(gs({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return VW(i,u)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $3e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?i+o-m:d[g+1]-m;if(v<=0)return null;var y=g%t.length;return W.createElement("rect",{key:"react-".concat(g),y:m,x:s,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function R3e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?a+l-m:d[g+1]-m;if(v<=0)return null;var y=g%s.length;return W.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:v,height:c,stroke:"none",fill:s[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var L3e=function(t,n){var s=t.xAxis,i=t.width,a=t.height,o=t.offset;return F7($T(gs(gs(gs({},gm.defaultProps),s),{},{ticks:Qo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},F3e=function(t,n){var s=t.yAxis,i=t.width,a=t.height,o=t.offset;return F7($T(gs(gs(gs({},gm.defaultProps),s),{},{ticks:Qo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Zd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sd(e){var t,n,s,i,a,o,l=OT(),c=DT(),u=_Re(),d=gs(gs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Zd.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Zd.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Zd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Zd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Zd.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),f=d.x,m=d.y,g=d.width,x=d.height,v=d.syncWithTicks,y=d.horizontalValues,N=d.verticalValues,j=NRe(),b=SRe();if(!Ve(g)||g<=0||!Ve(x)||x<=0||!Ve(f)||f!==+f||!Ve(m)||m!==+m)return null;var C=d.verticalCoordinatesGenerator||L3e,_=d.horizontalCoordinatesGenerator||F3e,A=d.horizontalPoints,P=d.verticalPoints;if((!A||!A.length)&&yt(_)){var E=y&&y.length,D=_({yAxis:b?gs(gs({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:v);ka(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rd(D),"]")),Array.isArray(D)&&(A=D)}if((!P||!P.length)&&yt(C)){var I=N&&N.length,k=C({xAxis:j?gs(gs({},j),{},{ticks:I?N:j.ticks}):void 0,width:l,height:c,offset:u},I?!0:v);ka(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rd(k),"]")),Array.isArray(k)&&(P=k)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(D3e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(M3e,wu({},d,{offset:u,horizontalPoints:A,xAxis:j,yAxis:b})),W.createElement(I3e,wu({},d,{offset:u,verticalPoints:P,xAxis:j,yAxis:b})),W.createElement($3e,wu({},d,{horizontalPoints:A})),W.createElement(R3e,wu({},d,{verticalPoints:P})))}sd.displayName="CartesianGrid";var B3e=["type","layout","connectNulls","ref"],z3e=["key"];function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function E3(e,t){if(e==null)return{};var n=V3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function V3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zp.apply(this,arguments)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(s){wa(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function eh(e){return H3e(e)||W3e(e)||q3e(e)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q3e(e,t){if(e){if(typeof e=="string")return uP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uP(e,t)}}function W3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H3e(e){if(Array.isArray(e))return uP(e)}function uP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function G3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qW(s.key),s)}}function K3e(e,t,n){return t&&k3(e.prototype,t),n&&k3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y3e(e,t,n){return t=Lj(t),Q3e(e,UW()?Reflect.construct(t,n||[],Lj(e).constructor):t.apply(e,n))}function Q3e(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X3e(e)}function X3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UW=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lj(e)}function J3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dP(e,t)}function dP(e,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},dP(e,t)}function wa(e,t,n){return t=qW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=Z3e(e,"string");return Df(t)=="symbol"?t:t+""}function Z3e(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mf=function(e){function t(){var n;G3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=Y3e(this,t,[].concat(i)),wa(n,"state",{isAnimationFinished:!0,totalLength:0}),wa(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),wa(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,j){return N+j});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>f){g=[].concat(eh(c.slice(0,x)),[f-v]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(eh(t.repeat(c,d)),eh(g),y).map(function(N){return"".concat(N,"px")}).join(", ")}),wa(n,"id",vd("recharts-line-")),wa(n,"pathRef",function(o){n.mainCurve=o}),wa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),wa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return J3e(t,e),K3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ci(d,kv);if(!f)return null;var m=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:gr(v.payload,y)}},g={clipPath:s?"url(#clipPath-".concat(i,")"):null};return W.createElement(Qt,g,f.map(function(x){return W.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ct(this.props,!1),m=ct(c,!0),g=u.map(function(v,y){var N=fi(fi(fi({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return t.renderDotItem(c,N)}),x={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return W.createElement(Qt,zp({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(s,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=E3(l,B3e),m=fi(fi(fi({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:d});return W.createElement(Ru,zp({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,N=this.state,j=N.prevPoints,b=N.totalLength;return W.createElement(La,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var _=C.t;if(j){var A=j.length/l.length,P=l.map(function(O,L){var B=Math.floor(L*A);if(j[B]){var ee=j[B],G=Dr(ee.x,O.x),J=Dr(ee.y,O.y);return fi(fi({},O),{},{x:G(_),y:J(_)})}if(x){var q=Dr(v*2,O.x),$=Dr(y/2,O.y);return fi(fi({},O),{},{x:q(_),y:$(_)})}return fi(fi({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(P,s,i)}var E=Dr(0,b),D=E(_),I;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});I=a.getStrokeDasharray(D,b,k)}else I=a.generateSimpleStrokeDasharray(b,D);return a.renderCurveStatically(l,s,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(s,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ed(u,o))?this.renderCurveWithAnimation(s,i):this.renderCurveStatically(o,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Tt("recharts-line",c),C=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,A=C||_,P=Et(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},D=E.r,I=D===void 0?3:D,k=E.strokeWidth,O=k===void 0?2:k,L=kU(o)?o:{},B=L.clipDot,ee=B===void 0?!0:B,G=I*2+O;return W.createElement(Qt,{className:b},C||_?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(P)},W.createElement("rect",{x:C?m:m-g/2,y:_?f:f-x/2,width:C?g:g*2,height:_?x:x*2})),!ee&&W.createElement("clipPath",{id:"clipPath-dots-".concat(P)},W.createElement("rect",{x:m-G/2,y:f-G/2,width:g+G,height:x+G}))):null,!j&&this.renderCurve(A,P),this.renderErrorBar(A,P),(j||o)&&this.renderDots(A,ee,P),(!v||N)&&po.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:i.curPoints}:s.points!==i.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,i){for(var a=s.length%2!==0?[].concat(eh(s),[0]):s,o=[],l=0;l<i;++l)o=[].concat(eh(o),eh(a));return o}},{key:"renderDotItem",value:function(s,i){var a;if(W.isValidElement(s))a=W.cloneElement(s,i);else if(yt(s))a=s(i);else{var o=i.key,l=E3(i,z3e),c=Tt("recharts-line-dot",typeof s!="boolean"?s.className:"");a=W.createElement(Ov,zp({key:o},l,{className:c}))}return a}}])}(w.PureComponent);wa(Mf,"displayName","Line");wa(Mf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Oa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wa(Mf,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,g){var x=gr(m,o);return d==="horizontal"?{x:pj({axis:n,ticks:i,bandSize:l,entry:m,index:g}),y:Et(x)?null:s.scale(x),value:x,payload:m}:{x:Et(x)?null:n.scale(x),y:pj({axis:s,ticks:a,bandSize:l,entry:m,index:g}),value:x,payload:m}});return fi({points:f,layout:d},u)});var eLe=["layout","type","stroke","connectNulls","isRange","ref"],tLe=["key"],WW;function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function HW(e,t){if(e==null)return{};var n=nLe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nLe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nu.apply(this,arguments)}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(s){lo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KW(s.key),s)}}function sLe(e,t,n){return t&&D3(e.prototype,t),n&&D3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iLe(e,t,n){return t=Fj(t),aLe(e,GW()?Reflect.construct(t,n||[],Fj(e).constructor):t.apply(e,n))}function aLe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oLe(e)}function oLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GW=function(){return!!e})()}function Fj(e){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fj(e)}function lLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hP(e,t)}function hP(e,t){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},hP(e,t)}function lo(e,t,n){return t=KW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=cLe(e,"string");return If(t)=="symbol"?t:t+""}function cLe(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(If(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ta=function(e){function t(){var n;rLe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=iLe(this,t,[].concat(i)),lo(n,"state",{isAnimationFinished:!0}),lo(n,"id",vd("recharts-area-")),lo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yt(o)&&o()}),lo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yt(o)&&o()}),n}return lLe(t,e),sLe(t,[{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ct(this.props,!1),g=ct(u,!0),x=d.map(function(y,N){var j=Bl(Bl(Bl({key:"dot-".concat(N),r:3},m),g),{},{index:N,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,j)}),v={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return W.createElement(Qt,Nu({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=s*Math.abs(c-u),f=oc(o.map(function(m){return m.y||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(oc(a.map(function(m){return m.y||0})),f)),Ve(f)?W.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=s*Math.abs(c-u),f=oc(o.map(function(m){return m.x||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(oc(a.map(function(m){return m.x||0})),f)),Ve(f)?W.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var g=HW(l,eLe);return W.createElement(Qt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},W.createElement(Ru,Nu({},ct(g,!0),{points:s,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&W.createElement(Ru,Nu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})),d!=="none"&&m&&W.createElement(Ru,Nu({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=this.state,v=x.prevPoints,y=x.prevBaseLine;return W.createElement(La,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(v){var b=v.length/l.length,C=l.map(function(E,D){var I=Math.floor(D*b);if(v[I]){var k=v[I],O=Dr(k.x,E.x),L=Dr(k.y,E.y);return Bl(Bl({},E),{},{x:O(j),y:L(j)})}return E}),_;if(Ve(c)&&typeof c=="number"){var A=Dr(y,c);_=A(j)}else if(Et(c)||lm(c)){var P=Dr(y,0);_=P(j)}else _=c.map(function(E,D){var I=Math.floor(D*b);if(y[I]){var k=y[I],O=Dr(k.x,E.x),L=Dr(k.y,E.y);return Bl(Bl({},E),{},{x:O(j),y:L(j)})}return E});return a.renderAreaStatically(C,_,s,i)}return W.createElement(Qt,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(j))),W.createElement(Qt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,s,i)))})}},{key:"renderArea",value:function(s,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!ed(d,o)||!ed(f,l))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(o,l,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Tt("recharts-area",c),C=f&&f.allowDataOverflow,_=m&&m.allowDataOverflow,A=C||_,P=Et(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},D=E.r,I=D===void 0?3:D,k=E.strokeWidth,O=k===void 0?2:k,L=kU(o)?o:{},B=L.clipDot,ee=B===void 0?!0:B,G=I*2+O;return W.createElement(Qt,{className:b},C||_?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(P)},W.createElement("rect",{x:C?d:d-g/2,y:_?u:u-x/2,width:C?g:g*2,height:_?x:x*2})),!ee&&W.createElement("clipPath",{id:"clipPath-dots-".concat(P)},W.createElement("rect",{x:d-G/2,y:u-G/2,width:g+G,height:x+G}))):null,j?null:this.renderArea(A,P),(o||j)&&this.renderDots(A,ee,P),(!v||N)&&po.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(w.PureComponent);WW=ta;lo(ta,"displayName","Area");lo(ta,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Oa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});lo(ta,"getBaseValue",function(e,t,n,s){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ve(l)&&typeof l=="number")return l;var c=i==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});lo(ta,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=t.layout,x=u&&u.length,v=WW.getBaseValue(t,n,s,i),y=g==="horizontal",N=!1,j=f.map(function(C,_){var A;x?A=u[d+_]:(A=gr(C,c),Array.isArray(A)?N=!0:A=[v,A]);var P=A[1]==null||x&&gr(C,c)==null;return y?{x:pj({axis:s,ticks:a,bandSize:l,entry:C,index:_}),y:P?null:i.scale(A[1]),value:A,payload:C}:{x:P?null:s.scale(A[1]),y:pj({axis:i,ticks:o,bandSize:l,entry:C,index:_}),value:A,payload:C}}),b;return x||N?b=j.map(function(C){var _=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:_!=null&&C.y!=null?i.scale(_):null}:{x:_!=null?s.scale(_):null,y:C.y}}):b=y?i.scale(v):s.scale(v),Bl({points:j,baseLine:b,layout:g,isRange:N},m)});lo(ta,"renderDotItem",function(e,t){var n;if(W.isValidElement(e))n=W.cloneElement(e,t);else if(yt(e))n=e(t);else{var s=Tt("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=HW(t,tLe);n=W.createElement(Ov,Nu({},a,{key:i,className:s}))}return n});function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function uLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XW(s.key),s)}}function hLe(e,t,n){return t&&dLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fLe(e,t,n){return t=Bj(t),mLe(e,YW()?Reflect.construct(t,n||[],Bj(e).constructor):t.apply(e,n))}function mLe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pLe(e)}function pLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!e})()}function Bj(e){return Bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bj(e)}function gLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}function fP(e,t){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},fP(e,t)}function QW(e,t,n){return t=XW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=vLe(e,"string");return $f(t)=="symbol"?t:t+""}function vLe(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mP.apply(this,arguments)}function xLe(e){var t=e.xAxisId,n=OT(),s=DT(),i=kW(t);return i==null?null:w.createElement(gm,mP({},i,{className:Tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return Qo(o,!0)}}))}var Fa=function(e){function t(){return uLe(this,t),fLe(this,t,arguments)}return gLe(t,e),hLe(t,[{key:"render",value:function(){return w.createElement(xLe,this.props)}}])}(w.Component);QW(Fa,"displayName","XAxis");QW(Fa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function yLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,e9(s.key),s)}}function bLe(e,t,n){return t&&jLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wLe(e,t,n){return t=zj(t),NLe(e,JW()?Reflect.construct(t,n||[],zj(e).constructor):t.apply(e,n))}function NLe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SLe(e)}function SLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function zj(e){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zj(e)}function CLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pP(e,t)}function pP(e,t){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},pP(e,t)}function ZW(e,t,n){return t=e9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e9(e){var t=_Le(e,"string");return Rf(t)=="symbol"?t:t+""}function _Le(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gP.apply(this,arguments)}var PLe=function(t){var n=t.yAxisId,s=OT(),i=DT(),a=OW(n);return a==null?null:w.createElement(gm,gP({},a,{className:Tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:i},ticksGenerator:function(l){return Qo(l,!0)}}))},Ba=function(e){function t(){return yLe(this,t),wLe(this,t,arguments)}return CLe(t,e),bLe(t,[{key:"render",value:function(){return w.createElement(PLe,this.props)}}])}(w.Component);ZW(Ba,"displayName","YAxis");ZW(Ba,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M3(e){return kLe(e)||TLe(e)||ELe(e)||ALe()}function ALe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ELe(e,t){if(e){if(typeof e=="string")return vP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(e,t)}}function TLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kLe(e){if(Array.isArray(e))return vP(e)}function vP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var xP=function(t,n,s,i,a){var o=Ci(t,IT),l=Ci(t,kw),c=[].concat(M3(o),M3(l)),u=Ci(t,Dw),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,y){if(y.props[d]===s&&go(y.props,"extendDomain")&&Ve(y.props[f])){var N=y.props[f];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},m)),u.length){var g="".concat(f,"1"),x="".concat(f,"2");m=u.reduce(function(v,y){if(y.props[d]===s&&go(y.props,"extendDomain")&&Ve(y.props[g])&&Ve(y.props[x])){var N=y.props[g],j=y.props[x];return[Math.min(v[0],N,j),Math.max(v[1],N,j)]}return v},m)}return a&&a.length&&(m=a.reduce(function(v,y){return Ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},m)),m},t9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,g,x){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],N=arguments.length,j,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,g),!0;case 6:return y.fn.call(y.context,d,f,m,g,x),!0}for(b=1,j=new Array(N-1);b<N;b++)j[b-1]=arguments[b];y.fn.apply(y.context,j)}else{var C=y.length,_;for(b=0;b<C;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),N){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,m);break;default:if(!j)for(_=1,j=new Array(N-1);_<N;_++)j[_-1]=arguments[_];y[b].fn.apply(y[b].context,j)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,y=[],N=x.length;v<N;v++)(x[v].fn!==d||m&&!x[v].once||f&&x[v].context!==f)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(t9);var OLe=t9.exports;const DLe=vn(OLe);var HS=new DLe,GS="recharts.syncMouseEvents";function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function MLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ILe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,n9(s.key),s)}}function $Le(e,t,n){return t&&ILe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KS(e,t,n){return t=n9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n9(e){var t=RLe(e,"string");return Qg(t)=="symbol"?t:t+""}function RLe(e,t){if(Qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LLe=function(){function e(){MLe(this,e),KS(this,"activeIndex",0),KS(this,"coordinateList",[]),KS(this,"layout","horizontal")}return $Le(e,[{key:"setDetails",value:function(n){var s,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(s=a??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function FLe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],i=e==null?void 0:e[1];if(s&&i&&Ve(s)&&Ve(i))return!0}return!1}function BLe(e,t,n,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function r9(e){var t=e.cx,n=e.cy,s=e.radius,i=e.startAngle,a=e.endAngle,o=$n(t,n,s,i),l=$n(t,n,s,a);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:i,endAngle:a}}function zLe(e,t,n){var s,i,a,o;if(e==="horizontal")s=t.x,a=s,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,s=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=$n(l,c,u,f),g=$n(l,c,d,f);s=m.x,i=m.y,a=g.x,o=g.y}else return r9(t);return[{x:s,y:i},{x:a,y:o}]}function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function I3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(n),!0).forEach(function(s){VLe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function VLe(e,t,n){return t=ULe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ULe(e){var t=qLe(e,"string");return Xg(t)=="symbol"?t:t+""}function qLe(e,t){if(Xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WLe(e){var t,n,s=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,g=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var x,v=Ru;if(m==="ScatterChart")x=o,v=ZMe;else if(m==="BarChart")x=BLe(f,o,c,d),v=PT;else if(f==="radial"){var y=r9(o),N=y.cx,j=y.cy,b=y.radius,C=y.startAngle,_=y.endAngle;x={cx:N,cy:j,startAngle:C,endAngle:_,innerRadius:b,outerRadius:b},v=Q7}else x={points:zLe(f,o,c)},v=Ru;var A=Py(Py(Py(Py({stroke:"#ccc",pointerEvents:"none"},c),x),ct(g,!1)),{},{payload:l,payloadIndex:u,className:Tt("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,A):w.createElement(v,A)}var HLe=["item"],GLe=["children","className","width","height","style","compact","title","desc"];function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bh.apply(this,arguments)}function $3(e,t){return QLe(e)||YLe(e,t)||i9(e,t)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QLe(e){if(Array.isArray(e))return e}function R3(e,t){if(e==null)return{};var n=XLe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function XLe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function JLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,a9(s.key),s)}}function eFe(e,t,n){return t&&ZLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tFe(e,t,n){return t=Vj(t),nFe(e,s9()?Reflect.construct(t,n||[],Vj(e).constructor):t.apply(e,n))}function nFe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rFe(e)}function rFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!e})()}function Vj(e){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vj(e)}function sFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yP(e,t)}function yP(e,t){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},yP(e,t)}function Ff(e){return oFe(e)||aFe(e)||i9(e)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i9(e,t){if(e){if(typeof e=="string")return jP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(e,t)}}function aFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oFe(e){if(Array.isArray(e))return jP(e)}function jP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function L3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(n),!0).forEach(function(s){xt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xt(e,t,n){return t=a9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a9(e){var t=lFe(e,"string");return Lf(t)=="symbol"?t:t+""}function lFe(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cFe={xAxis:["bottom","top"],yAxis:["left","right"]},uFe={width:"100%",height:"100%"},o9={x:0,y:0};function Ay(e){return e}var dFe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},hFe=function(t,n,s,i){var a=n.find(function(d){return d&&d.index===s});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Ae(Ae(Ae({},i),$n(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return Ae(Ae(Ae({},i),$n(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return o9},Mw=function(t,n){var s=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ff(l),Ff(u)):l},[]);return o.length>0?o:t&&t.length&&Ve(i)&&Ve(a)?t.slice(i,a+1):[]};function l9(e){return e==="number"?[0,"auto"]:void 0}var bP=function(t,n,s,i){var a=t.graphicalItems,o=t.tooltipAxis,l=Mw(n,t);return s<0||!a||!a.length||s>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;m=z0(g,o.dataKey,i)}else m=f&&f[s]||l[s];return m?[].concat(Ff(c),[q7(u,m)]):c},[])},F3=function(t,n,s,i){var a=i||{x:t.chartX,y:t.chartY},o=dFe(a,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Nke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=bP(t,n,d,f),g=hFe(s,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},fFe=function(t,n){var s=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,g=L7(d,a);return s.reduce(function(x,v){var y,N=v.type.defaultProps!==void 0?Ae(Ae({},v.type.defaultProps),v.props):v.props,j=N.type,b=N.dataKey,C=N.allowDataOverflow,_=N.allowDuplicatedCategory,A=N.scale,P=N.ticks,E=N.includeHidden,D=N[o];if(x[D])return x;var I=Mw(t.data,{graphicalItems:i.filter(function(re){var Z,ne=o in re.props?re.props[o]:(Z=re.type.defaultProps)===null||Z===void 0?void 0:Z[o];return ne===D}),dataStartIndex:c,dataEndIndex:u}),k=I.length,O,L,B;FLe(N.domain,C,j)&&(O=M_(N.domain,null,C),g&&(j==="number"||A!=="auto")&&(B=Rp(I,b,"category")));var ee=l9(j);if(!O||O.length===0){var G,J=(G=N.domain)!==null&&G!==void 0?G:ee;if(b){if(O=Rp(I,b,j),j==="category"&&g){var q=fye(O);_&&q?(L=O,O=Aj(0,k)):_||(O=iR(J,O,v).reduce(function(re,Z){return re.indexOf(Z)>=0?re:[].concat(Ff(re),[Z])},[]))}else if(j==="category")_?O=O.filter(function(re){return re!==""&&!Et(re)}):O=iR(J,O,v).reduce(function(re,Z){return re.indexOf(Z)>=0||Z===""||Et(Z)?re:[].concat(Ff(re),[Z])},[]);else if(j==="number"){var $=Ake(I,i.filter(function(re){var Z,ne,ve=o in re.props?re.props[o]:(Z=re.type.defaultProps)===null||Z===void 0?void 0:Z[o],je="hide"in re.props?re.props.hide:(ne=re.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ve===D&&(E||!je)}),b,a,d);$&&(O=$)}g&&(j==="number"||A!=="auto")&&(B=Rp(I,b,"category"))}else g?O=Aj(0,k):l&&l[D]&&l[D].hasStack&&j==="number"?O=m==="expand"?[0,1]:U7(l[D].stackGroups,c,u):O=R7(I,i.filter(function(re){var Z=o in re.props?re.props[o]:re.type.defaultProps[o],ne="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return Z===D&&(E||!ne)}),j,d,!0);if(j==="number")O=xP(f,O,D,a,P),J&&(O=M_(J,O,C));else if(j==="category"&&J){var oe=J,ge=O.every(function(re){return oe.indexOf(re)>=0});ge&&(O=oe)}}return Ae(Ae({},x),{},xt({},D,Ae(Ae({},N),{},{axisType:a,domain:O,categoricalDomain:B,duplicateDomain:L,originalDomain:(y=N.domain)!==null&&y!==void 0?y:ee,isCategorical:g,layout:d})))},{})},mFe=function(t,n){var s=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=Mw(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),g=m.length,x=L7(d,a),v=-1;return s.reduce(function(y,N){var j=N.type.defaultProps!==void 0?Ae(Ae({},N.type.defaultProps),N.props):N.props,b=j[o],C=l9("number");if(!y[b]){v++;var _;return x?_=Aj(0,g):l&&l[b]&&l[b].hasStack?(_=U7(l[b].stackGroups,c,u),_=xP(f,_,b,a)):(_=M_(C,R7(m,s.filter(function(A){var P,E,D=o in A.props?A.props[o]:(P=A.type.defaultProps)===null||P===void 0?void 0:P[o],I="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return D===b&&!I}),"number",d),i.defaultProps.allowDataOverflow),_=xP(f,_,b,a)),Ae(Ae({},y),{},xt({},b,Ae(Ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:Si(cFe,"".concat(a,".").concat(v%2),null),domain:_,originalDomain:C,isCategorical:x,layout:d})))}return y},{})},pFe=function(t,n){var s=n.axisType,i=s===void 0?"xAxis":s,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=Ci(d,a),g={};return m&&m.length?g=fFe(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=mFe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},gFe=function(t){var n=Gl(t),s=Qo(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:eT(s,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:gj(n,s)}},B3=function(t){var n=t.children,s=t.defaultShowTooltip,i=gi(n,Pf),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},vFe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Jo(n&&n.type);return s&&s.indexOf("Bar")>=0})},z3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xFe=function(t,n){var s=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,d=s.height,f=s.children,m=s.margin||{},g=gi(f,Pf),x=gi(f,Ih),v=Object.keys(c).reduce(function(_,A){var P=c[A],E=P.orientation;return!P.mirror&&!P.hide?Ae(Ae({},_),{},xt({},E,_[E]+P.width)):_},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(_,A){var P=o[A],E=P.orientation;return!P.mirror&&!P.hide?Ae(Ae({},_),{},xt({},E,Si(_,"".concat(E))+P.height)):_},{top:m.top||0,bottom:m.bottom||0}),N=Ae(Ae({},y),v),j=N.bottom;g&&(N.bottom+=g.props.height||Pf.defaultProps.height),x&&n&&(N=_ke(N,i,s,n));var b=u-N.left-N.right,C=d-N.top-N.bottom;return Ae(Ae({brushBottom:j},N),{},{width:Math.max(b,0),height:Math.max(C,0)})},yFe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Iw=function(t){var n=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(N,j){var b=j.graphicalItems,C=j.stackGroups,_=j.offset,A=j.updateId,P=j.dataStartIndex,E=j.dataEndIndex,D=N.barSize,I=N.layout,k=N.barGap,O=N.barCategoryGap,L=N.maxBarSize,B=z3(I),ee=B.numericAxisName,G=B.cateAxisName,J=vFe(b),q=[];return b.forEach(function($,oe){var ge=Mw(N.data,{graphicalItems:[$],dataStartIndex:P,dataEndIndex:E}),re=$.type.defaultProps!==void 0?Ae(Ae({},$.type.defaultProps),$.props):$.props,Z=re.dataKey,ne=re.maxBarSize,ve=re["".concat(ee,"Id")],je=re["".concat(G,"Id")],we={},z=c.reduce(function(qe,We){var Lt=j["".concat(We.axisType,"Map")],xn=re["".concat(We.axisType,"Id")];Lt&&Lt[xn]||We.axisType==="zAxis"||nd();var Nt=Lt[xn];return Ae(Ae({},qe),{},xt(xt({},We.axisType,Nt),"".concat(We.axisType,"Ticks"),Qo(Nt)))},we),Q=z[G],te=z["".concat(G,"Ticks")],K=C&&C[ve]&&C[ve].hasStack&&Rke($,C[ve].stackGroups),M=Jo($.type).indexOf("Bar")>=0,xe=gj(Q,te),Ne=[],de=J&&Ske({barSize:D,stackGroups:C,totalSize:yFe(z,G)});if(M){var Pe,Ze,at=Et(ne)?L:ne,dt=(Pe=(Ze=gj(Q,te,!0))!==null&&Ze!==void 0?Ze:at)!==null&&Pe!==void 0?Pe:0;Ne=Cke({barGap:k,barCategoryGap:O,bandSize:dt!==xe?dt:xe,sizeList:de[je],maxBarSize:at}),dt!==xe&&(Ne=Ne.map(function(qe){return Ae(Ae({},qe),{},{position:Ae(Ae({},qe.position),{},{offset:qe.position.offset-dt/2})})}))}var Se=$&&$.type&&$.type.getComposedData;Se&&q.push({props:Ae(Ae({},Se(Ae(Ae({},z),{},{displayedData:ge,props:N,dataKey:Z,item:$,bandSize:xe,barPosition:Ne,offset:_,stackedData:K,layout:I,dataStartIndex:P,dataEndIndex:E}))),{},xt(xt(xt({key:$.key||"item-".concat(oe)},ee,z[ee]),G,z[G]),"animationId",A)),childIndex:Cye($,N.children),item:$})}),q},g=function(N,j){var b=N.props,C=N.dataStartIndex,_=N.dataEndIndex,A=N.updateId;if(!ZI({props:b}))return null;var P=b.children,E=b.layout,D=b.stackOffset,I=b.data,k=b.reverseStackOrder,O=z3(E),L=O.numericAxisName,B=O.cateAxisName,ee=Ci(P,s),G=Ike(I,ee,"".concat(L,"Id"),"".concat(B,"Id"),D,k),J=c.reduce(function(re,Z){var ne="".concat(Z.axisType,"Map");return Ae(Ae({},re),{},xt({},ne,pFe(b,Ae(Ae({},Z),{},{graphicalItems:ee,stackGroups:Z.axisType===L&&G,dataStartIndex:C,dataEndIndex:_}))))},{}),q=xFe(Ae(Ae({},J),{},{props:b,graphicalItems:ee}),j==null?void 0:j.legendBBox);Object.keys(J).forEach(function(re){J[re]=d(b,J[re],q,re.replace("Map",""),n)});var $=J["".concat(B,"Map")],oe=gFe($),ge=m(b,Ae(Ae({},J),{},{dataStartIndex:C,dataEndIndex:_,updateId:A,graphicalItems:ee,stackGroups:G,offset:q}));return Ae(Ae({formattedGraphicalItems:ge,graphicalItems:ee,offset:q,stackGroups:G},oe),J)},x=function(y){function N(j){var b,C,_;return JLe(this,N),_=tFe(this,N,[j]),xt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(_,"accessibilityManager",new LLe),xt(_,"handleLegendBBoxUpdate",function(A){if(A){var P=_.state,E=P.dataStartIndex,D=P.dataEndIndex,I=P.updateId;_.setState(Ae({legendBBox:A},g({props:_.props,dataStartIndex:E,dataEndIndex:D,updateId:I},Ae(Ae({},_.state),{},{legendBBox:A}))))}}),xt(_,"handleReceiveSyncEvent",function(A,P,E){if(_.props.syncId===A){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(P)}}),xt(_,"handleBrushChange",function(A){var P=A.startIndex,E=A.endIndex;if(P!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var D=_.state.updateId;_.setState(function(){return Ae({dataStartIndex:P,dataEndIndex:E},g({props:_.props,dataStartIndex:P,dataEndIndex:E,updateId:D},_.state))}),_.triggerSyncEvent({dataStartIndex:P,dataEndIndex:E})}}),xt(_,"handleMouseEnter",function(A){var P=_.getMouseInfo(A);if(P){var E=Ae(Ae({},P),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var D=_.props.onMouseEnter;yt(D)&&D(E,A)}}),xt(_,"triggeredAfterMouseMove",function(A){var P=_.getMouseInfo(A),E=P?Ae(Ae({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var D=_.props.onMouseMove;yt(D)&&D(E,A)}),xt(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),xt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),xt(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),xt(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var E=_.props.onMouseLeave;yt(E)&&E(P,A)}),xt(_,"handleOuterEvent",function(A){var P=Sye(A),E=Si(_.props,"".concat(P));if(P&&yt(E)){var D,I;/.*touch.*/i.test(P)?I=_.getMouseInfo(A.changedTouches[0]):I=_.getMouseInfo(A),E((D=I)!==null&&D!==void 0?D:{},A)}}),xt(_,"handleClick",function(A){var P=_.getMouseInfo(A);if(P){var E=Ae(Ae({},P),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var D=_.props.onClick;yt(D)&&D(E,A)}}),xt(_,"handleMouseDown",function(A){var P=_.props.onMouseDown;if(yt(P)){var E=_.getMouseInfo(A);P(E,A)}}),xt(_,"handleMouseUp",function(A){var P=_.props.onMouseUp;if(yt(P)){var E=_.getMouseInfo(A);P(E,A)}}),xt(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),xt(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),xt(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),xt(_,"handleDoubleClick",function(A){var P=_.props.onDoubleClick;if(yt(P)){var E=_.getMouseInfo(A);P(E,A)}}),xt(_,"handleContextMenu",function(A){var P=_.props.onContextMenu;if(yt(P)){var E=_.getMouseInfo(A);P(E,A)}}),xt(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&HS.emit(GS,_.props.syncId,A,_.eventEmitterSymbol)}),xt(_,"applySyncEvent",function(A){var P=_.props,E=P.layout,D=P.syncMethod,I=_.state.updateId,k=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(Ae({dataStartIndex:k,dataEndIndex:O},g({props:_.props,dataStartIndex:k,dataEndIndex:O,updateId:I},_.state)));else if(A.activeTooltipIndex!==void 0){var L=A.chartX,B=A.chartY,ee=A.activeTooltipIndex,G=_.state,J=G.offset,q=G.tooltipTicks;if(!J)return;if(typeof D=="function")ee=D(q,A);else if(D==="value"){ee=-1;for(var $=0;$<q.length;$++)if(q[$].value===A.activeLabel){ee=$;break}}var oe=Ae(Ae({},J),{},{x:J.left,y:J.top}),ge=Math.min(L,oe.x+oe.width),re=Math.min(B,oe.y+oe.height),Z=q[ee]&&q[ee].value,ne=bP(_.state,_.props.data,ee),ve=q[ee]?{x:E==="horizontal"?q[ee].coordinate:ge,y:E==="horizontal"?re:q[ee].coordinate}:o9;_.setState(Ae(Ae({},A),{},{activeLabel:Z,activeCoordinate:ve,activePayload:ne,activeTooltipIndex:ee}))}else _.setState(A)}),xt(_,"renderCursor",function(A){var P,E=_.state,D=E.isTooltipActive,I=E.activeCoordinate,k=E.activePayload,O=E.offset,L=E.activeTooltipIndex,B=E.tooltipAxisBandSize,ee=_.getTooltipEventType(),G=(P=A.props.active)!==null&&P!==void 0?P:D,J=_.props.layout,q=A.key||"_recharts-cursor";return W.createElement(WLe,{key:q,activeCoordinate:I,activePayload:k,activeTooltipIndex:L,chartName:n,element:A,isActive:G,layout:J,offset:O,tooltipAxisBandSize:B,tooltipEventType:ee})}),xt(_,"renderPolarAxis",function(A,P,E){var D=Si(A,"type.axisType"),I=Si(_.state,"".concat(D,"Map")),k=A.type.defaultProps,O=k!==void 0?Ae(Ae({},k),A.props):A.props,L=I&&I[O["".concat(D,"Id")]];return w.cloneElement(A,Ae(Ae({},L),{},{className:Tt(D,L.className),key:A.key||"".concat(P,"-").concat(E),ticks:Qo(L,!0)}))}),xt(_,"renderPolarGrid",function(A){var P=A.props,E=P.radialLines,D=P.polarAngles,I=P.polarRadius,k=_.state,O=k.radiusAxisMap,L=k.angleAxisMap,B=Gl(O),ee=Gl(L),G=ee.cx,J=ee.cy,q=ee.innerRadius,$=ee.outerRadius;return w.cloneElement(A,{polarAngles:Array.isArray(D)?D:Qo(ee,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(I)?I:Qo(B,!0).map(function(oe){return oe.coordinate}),cx:G,cy:J,innerRadius:q,outerRadius:$,key:A.key||"polar-grid",radialLines:E})}),xt(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,P=_.props,E=P.children,D=P.width,I=P.height,k=_.props.margin||{},O=D-(k.left||0)-(k.right||0),L=I7({children:E,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!L)return null;var B=L.item,ee=R3(L,HLe);return w.cloneElement(B,Ae(Ae({},ee),{},{chartWidth:D,chartHeight:I,margin:k,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),xt(_,"renderTooltip",function(){var A,P=_.props,E=P.children,D=P.accessibilityLayer,I=gi(E,qr);if(!I)return null;var k=_.state,O=k.isTooltipActive,L=k.activeCoordinate,B=k.activePayload,ee=k.activeLabel,G=k.offset,J=(A=I.props.active)!==null&&A!==void 0?A:O;return w.cloneElement(I,{viewBox:Ae(Ae({},G),{},{x:G.left,y:G.top}),active:J,label:ee,payload:J?B:[],coordinate:L,accessibilityLayer:D})}),xt(_,"renderBrush",function(A){var P=_.props,E=P.margin,D=P.data,I=_.state,k=I.offset,O=I.dataStartIndex,L=I.dataEndIndex,B=I.updateId;return w.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Ny(_.handleBrushChange,A.props.onChange),data:D,x:Ve(A.props.x)?A.props.x:k.left,y:Ve(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:Ve(A.props.width)?A.props.width:k.width,startIndex:O,endIndex:L,updateId:"brush-".concat(B)})}),xt(_,"renderReferenceElement",function(A,P,E){if(!A)return null;var D=_,I=D.clipPathId,k=_.state,O=k.xAxisMap,L=k.yAxisMap,B=k.offset,ee=A.type.defaultProps||{},G=A.props,J=G.xAxisId,q=J===void 0?ee.xAxisId:J,$=G.yAxisId,oe=$===void 0?ee.yAxisId:$;return w.cloneElement(A,{key:A.key||"".concat(P,"-").concat(E),xAxis:O[q],yAxis:L[oe],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:I})}),xt(_,"renderActivePoints",function(A){var P=A.item,E=A.activePoint,D=A.basePoint,I=A.childIndex,k=A.isRange,O=[],L=P.props.key,B=P.item.type.defaultProps!==void 0?Ae(Ae({},P.item.type.defaultProps),P.item.props):P.item.props,ee=B.activeDot,G=B.dataKey,J=Ae(Ae({index:I,dataKey:G,cx:E.x,cy:E.y,r:4,fill:_T(P.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ct(ee,!1)),V0(ee));return O.push(N.renderActiveDot(ee,J,"".concat(L,"-activePoint-").concat(I))),D?O.push(N.renderActiveDot(ee,Ae(Ae({},J),{},{cx:D.x,cy:D.y}),"".concat(L,"-basePoint-").concat(I))):k&&O.push(null),O}),xt(_,"renderGraphicChild",function(A,P,E){var D=_.filterFormatItem(A,P,E);if(!D)return null;var I=_.getTooltipEventType(),k=_.state,O=k.isTooltipActive,L=k.tooltipAxis,B=k.activeTooltipIndex,ee=k.activeLabel,G=_.props.children,J=gi(G,qr),q=D.props,$=q.points,oe=q.isRange,ge=q.baseLine,re=D.item.type.defaultProps!==void 0?Ae(Ae({},D.item.type.defaultProps),D.item.props):D.item.props,Z=re.activeDot,ne=re.hide,ve=re.activeBar,je=re.activeShape,we=!!(!ne&&O&&J&&(Z||ve||je)),z={};I!=="axis"&&J&&J.props.trigger==="click"?z={onClick:Ny(_.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(z={onMouseLeave:Ny(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Ny(_.handleItemMouseEnter,A.props.onMouseEnter)});var Q=w.cloneElement(A,Ae(Ae({},D.props),z));function te(We){return typeof L.dataKey=="function"?L.dataKey(We.payload):null}if(we)if(B>=0){var K,M;if(L.dataKey&&!L.allowDuplicatedCategory){var xe=typeof L.dataKey=="function"?te:"payload.".concat(L.dataKey.toString());K=z0($,xe,ee),M=oe&&ge&&z0(ge,xe,ee)}else K=$==null?void 0:$[B],M=oe&&ge&&ge[B];if(je||ve){var Ne=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[w.cloneElement(A,Ae(Ae(Ae({},D.props),z),{},{activeIndex:Ne})),null,null]}if(!Et(K))return[Q].concat(Ff(_.renderActivePoints({item:D,activePoint:K,basePoint:M,childIndex:B,isRange:oe})))}else{var de,Pe=(de=_.getItemByXY(_.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:Q},Ze=Pe.graphicalItem,at=Ze.item,dt=at===void 0?A:at,Se=Ze.childIndex,qe=Ae(Ae(Ae({},D.props),z),{},{activeIndex:Se});return[w.cloneElement(dt,qe),null,null]}return oe?[Q,null,null]:[Q,null]}),xt(_,"renderCustomized",function(A,P,E){return w.cloneElement(A,Ae(Ae({key:"recharts-customized-".concat(E)},_.props),_.state))}),xt(_,"renderMap",{CartesianGrid:{handler:Ay,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Ay},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Ay},YAxis:{handler:Ay},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:vd("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=Mq(_.triggeredAfterMouseMove,(C=j.throttleDelay)!==null&&C!==void 0?C:1e3/60),_.state={},_}return sFe(N,y),eFe(N,[{key:"componentDidMount",value:function(){var b,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,C=b.children,_=b.data,A=b.height,P=b.layout,E=gi(C,qr);if(E){var D=E.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,k=bP(this.state,_,D,I),O=this.state.tooltipTicks[D].coordinate,L=(this.state.offset.top+A)/2,B=P==="horizontal",ee=B?{x:O,y:L}:{y:O,x:L},G=this.state.formattedGraphicalItems.find(function(q){var $=q.item;return $.type.name==="Scatter"});G&&(ee=Ae(Ae({},ee),G.props.points[D].tooltipPosition),k=G.props.points[D].tooltipPayload);var J={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:I,activePayload:k,activeCoordinate:ee};this.setState(J),this.renderCursor(E),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){Y2([gi(b.children,qr)],[gi(this.props.children,qr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=gi(this.props.children,qr);if(b&&typeof b.props.shared=="boolean"){var C=b.props.shared?"axis":"item";return l.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var C=this.container,_=C.getBoundingClientRect(),A=X_e(_),P={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},E=_.width/C.offsetWidth||1,D=this.inRange(P.chartX,P.chartY,E);if(!D)return null;var I=this.state,k=I.xAxisMap,O=I.yAxisMap,L=this.getTooltipEventType(),B=F3(this.state,this.props.data,this.props.layout,D);if(L!=="axis"&&k&&O){var ee=Gl(k).scale,G=Gl(O).scale,J=ee&&ee.invert?ee.invert(P.chartX):null,q=G&&G.invert?G.invert(P.chartY):null;return Ae(Ae({},P),{},{xValue:J,yValue:q},B)}return B?Ae(Ae({},P),B):null}},{key:"inRange",value:function(b,C){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,P=b/_,E=C/_;if(A==="horizontal"||A==="vertical"){var D=this.state.offset,I=P>=D.left&&P<=D.left+D.width&&E>=D.top&&E<=D.top+D.height;return I?{x:P,y:E}:null}var k=this.state,O=k.angleAxisMap,L=k.radiusAxisMap;if(O&&L){var B=Gl(O);return lR({x:P,y:E},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,C=this.getTooltipEventType(),_=gi(b,qr),A={};_&&C==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=V0(this.props,this.handleOuterEvent);return Ae(Ae({},P),A)}},{key:"addListener",value:function(){HS.on(GS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){HS.removeListener(GS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,C,_){for(var A=this.state.formattedGraphicalItems,P=0,E=A.length;P<E;P++){var D=A[P];if(D.item===b||D.props.key===b.key||C===Jo(D.item.type)&&_===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,C=this.state.offset,_=C.left,A=C.top,P=C.height,E=C.width;return W.createElement("defs",null,W.createElement("clipPath",{id:b},W.createElement("rect",{x:_,y:A,height:P,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(C,_){var A=$3(_,2),P=A[0],E=A[1];return Ae(Ae({},C),{},xt({},P,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(C,_){var A=$3(_,2),P=A[0],E=A[1];return Ae(Ae({},C),{},xt({},P,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(b){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(b){var C=this.state,_=C.formattedGraphicalItems,A=C.activeItem;if(_&&_.length)for(var P=0,E=_.length;P<E;P++){var D=_[P],I=D.props,k=D.item,O=k.type.defaultProps!==void 0?Ae(Ae({},k.type.defaultProps),k.props):k.props,L=Jo(k.type);if(L==="Bar"){var B=(I.data||[]).find(function(q){return DMe(b,q)});if(B)return{graphicalItem:D,payload:B}}else if(L==="RadialBar"){var ee=(I.data||[]).find(function(q){return lR(b,q)});if(ee)return{graphicalItem:D,payload:ee}}else if(Pw(D,A)||Aw(D,A)||Wg(D,A)){var G=b4e({graphicalItem:D,activeTooltipItem:A,itemData:O.data}),J=O.activeIndex===void 0?G:O.activeIndex;return{graphicalItem:Ae(Ae({},D),{},{childIndex:J}),payload:Wg(D,A)?O.data[G]:D.props.data[G]}}}return null}},{key:"render",value:function(){var b=this;if(!ZI(this))return null;var C=this.props,_=C.children,A=C.className,P=C.width,E=C.height,D=C.style,I=C.compact,k=C.title,O=C.desc,L=R3(C,GLe),B=ct(L,!1);if(I)return W.createElement(g3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(X2,bh({},B,{width:P,height:E,title:k,desc:O}),this.renderClipPath(),t4(_,this.renderMap)));if(this.props.accessibilityLayer){var ee,G;B.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,B.role=(G=this.props.role)!==null&&G!==void 0?G:"application",B.onKeyDown=function(q){b.accessibilityManager.keyboardEvent(q)},B.onFocus=function(){b.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return W.createElement(g3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",bh({className:Tt("recharts-wrapper",A),style:Ae({position:"relative",cursor:"default",width:P,height:E},D)},J,{ref:function($){b.container=$}}),W.createElement(X2,bh({},B,{width:P,height:E,title:k,desc:O,style:uFe}),this.renderClipPath(),t4(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);xt(x,"displayName",n),xt(x,"defaultProps",Ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xt(x,"getDerivedStateFromProps",function(y,N){var j=y.dataKey,b=y.data,C=y.children,_=y.width,A=y.height,P=y.layout,E=y.stackOffset,D=y.margin,I=N.dataStartIndex,k=N.dataEndIndex;if(N.updateId===void 0){var O=B3(y);return Ae(Ae(Ae({},O),{},{updateId:0},g(Ae(Ae({props:y},O),{},{updateId:0}),N)),{},{prevDataKey:j,prevData:b,prevWidth:_,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:D,prevChildren:C})}if(j!==N.prevDataKey||b!==N.prevData||_!==N.prevWidth||A!==N.prevHeight||P!==N.prevLayout||E!==N.prevStackOffset||!Mh(D,N.prevMargin)){var L=B3(y),B={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},ee=Ae(Ae({},F3(N,b,P)),{},{updateId:N.updateId+1}),G=Ae(Ae(Ae({},L),B),ee);return Ae(Ae(Ae({},G),g(Ae({props:y},G),N)),{},{prevDataKey:j,prevData:b,prevWidth:_,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:D,prevChildren:C})}if(!Y2(C,N.prevChildren)){var J,q,$,oe,ge=gi(C,Pf),re=ge&&(J=(q=ge.props)===null||q===void 0?void 0:q.startIndex)!==null&&J!==void 0?J:I,Z=ge&&($=(oe=ge.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&$!==void 0?$:k,ne=re!==I||Z!==k,ve=!Et(b),je=ve&&!ne?N.updateId:N.updateId+1;return Ae(Ae({updateId:je},g(Ae(Ae({props:y},N),{},{updateId:je,dataStartIndex:re,dataEndIndex:Z}),N)),{},{prevChildren:C,dataStartIndex:re,dataEndIndex:Z})}return null}),xt(x,"renderActiveDot",function(y,N,j){var b;return w.isValidElement(y)?b=w.cloneElement(y,N):yt(y)?b=y(N):b=W.createElement(Ov,N),W.createElement(Qt,{className:"recharts-active-dot",key:j},b)});var v=w.forwardRef(function(N,j){return W.createElement(x,bh({},N,{ref:j}))});return v.displayName=x.displayName,v},V3=Iw({chartName:"LineChart",GraphicalChild:Mf,axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:AT}),jFe=Iw({chartName:"BarChart",GraphicalChild:oo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:AT}),LT=Iw({chartName:"PieChart",GraphicalChild:qa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_w},{axisType:"radiusAxis",AxisComp:Sw}],formatAxisMap:Gke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),FT=Iw({chartName:"AreaChart",GraphicalChild:ta,axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:AT});function BT({open:e,onOpenChange:t,petId:n,consultationId:s}){const{data:i=[]}=md(),{data:a=[]}=pd(),{data:o=[]}=vfe(),l=gfe(),{toast:c}=$t(),[u,d]=w.useState({diagnosis:"",notes:"",validUntil:""}),[f,m]=w.useState([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}]),g=a.find(_=>_.id===n),x=g?i.find(_=>_.id===g.client_id):null,v=o.filter(_=>(_.category==="medication"||_.category==="supplement")&&_.current_quantity>0&&_.active),y=_=>{const{name:A,value:P}=_.target;d(E=>({...E,[A]:P}))},N=(_,A,P)=>{m(E=>E.map((D,I)=>I===_?{...D,[A]:P}:D))},j=()=>{m(_=>[..._,{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])},b=_=>{f.length>1&&m(A=>A.filter((P,E)=>E!==_))},C=async _=>{if(_.preventDefault(),!g||!x){c({title:"Erreur",description:"Impossible de trouver l'animal ou le client associé.",variant:"destructive"});return}const A=f.filter(E=>E.medication_name.trim()!=="");if(A.length===0){c({title:"Erreur",description:"Veuillez ajouter au moins un médicament à la prescription.",variant:"destructive"});return}const P={consultation_id:s,animal_id:g.id,client_id:x.id,diagnosis:u.diagnosis,notes:u.notes,valid_until:u.validUntil||void 0,medications:A};try{await l.mutateAsync(P),c({title:"Prescription créée",description:`Prescription créée avec succès pour ${g.name}.`}),t(!1),d({diagnosis:"",notes:"",validUntil:""}),m([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])}catch(E){console.error("Error creating prescription:",E),c({title:"Erreur",description:"Une erreur est survenue lors de la création de la prescription.",variant:"destructive"})}};return!g||!x?r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur"}),r.jsx(pn,{children:"Impossible de trouver l'animal ou le client associé."})]})})}):r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Prescription"}),r.jsxs(pn,{children:["Créer une nouvelle prescription pour ",g.name," (",x.first_name," ",x.last_name,")"]})]}),r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(wt,{id:"diagnosis",name:"diagnosis",value:u.diagnosis,onChange:y,placeholder:"Entrez le diagnostic...",className:"h-20"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"validUntil",children:"Valide jusqu'au (optionnel)"}),r.jsx(ie,{id:"validUntil",name:"validUntil",type:"date",value:u.validUntil,onChange:y})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(F,{className:"text-lg font-semibold",children:"Médicaments"}),r.jsxs(V,{type:"button",onClick:j,size:"sm",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter un médicament"]})]}),f.map((_,A)=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",A+1]}),f.length>1&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>b(A),children:r.jsx(Un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Médicament *"}),r.jsxs($e,{value:_.medication_name,onValueChange:P=>N(A,"medication_name",P),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner ou taper..."})}),r.jsx(Ie,{children:v.map(P=>r.jsxs(U,{value:P.name,children:[P.name," (",P.current_quantity," ",P.unit,")"]},P.id))})]}),!v.find(P=>P.name===_.medication_name)&&r.jsx(ie,{className:"mt-2",value:_.medication_name,onChange:P=>N(A,"medication_name",P.target.value),placeholder:"Nom du médicament personnalisé"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Dosage"}),r.jsx(ie,{value:_.dosage||"",onChange:P=>N(A,"dosage",P.target.value),placeholder:"ex: 5mg"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Fréquence"}),r.jsxs($e,{value:_.frequency||"",onValueChange:P=>N(A,"frequency",P),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner..."})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"1x/jour",children:"1 fois par jour"}),r.jsx(U,{value:"2x/jour",children:"2 fois par jour"}),r.jsx(U,{value:"3x/jour",children:"3 fois par jour"}),r.jsx(U,{value:"1x/semaine",children:"1 fois par semaine"}),r.jsx(U,{value:"selon besoin",children:"Selon besoin"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Durée"}),r.jsx(ie,{value:_.duration||"",onChange:P=>N(A,"duration",P.target.value),placeholder:"ex: 7 jours"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Quantité *"}),r.jsx(ie,{type:"number",min:"1",value:_.quantity,onChange:P=>N(A,"quantity",parseInt(P.target.value)||1)})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Voie d'administration"}),r.jsxs($e,{value:_.route||"oral",onValueChange:P=>N(A,"route",P),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"oral",children:"Orale"}),r.jsx(U,{value:"injectable",children:"Injectable"}),r.jsx(U,{value:"topique",children:"Topique"}),r.jsx(U,{value:"intraveineuse",children:"Intraveineuse"}),r.jsx(U,{value:"intramusculaire",children:"Intramusculaire"}),r.jsx(U,{value:"sous-cutanée",children:"Sous-cutanée"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Instructions spéciales"}),r.jsx(wt,{value:_.instructions||"",onChange:P=>N(A,"instructions",P.target.value),placeholder:"Instructions particulières pour ce médicament...",className:"h-16"})]})]},A))]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes générales"}),r.jsx(wt,{id:"notes",name:"notes",value:u.notes,onChange:y,placeholder:"Notes générales sur la prescription...",className:"h-20"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:"Annuler"}),r.jsx(V,{type:"submit",disabled:l.isPending,children:l.isPending?"Création...":"Créer la prescription"})]})]})]})})}function bFe({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:s}=Pt(),{toast:i}=$t(),[a,o]=w.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=w.useState([]);w.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=y=>{o(N=>({...N,[y.target.id]:y.target.value}))},d=(y,N)=>{o(j=>({...j,[y]:N}))},f=(y,N,j)=>{const b=[...l];b[y]={...b[y],[N]:N==="quantity"||N==="refills"||N==="cost"?Number(j):j},c(b)},m=()=>{const y=Math.max(...l.map(N=>N.id),0)+1;c([...l,{id:y,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprimés",refills:0,cost:0}])},g=y=>{l.length>1&&c(l.filter((N,j)=>j!==y))},x=y=>{if(y.preventDefault(),!n)return;const N=l.filter(j=>j.name.trim()!=="");if(N.length===0){i({title:"Erreur",description:"Au moins un médicament doit être spécifié.",variant:"destructive"});return}s(n.id,{date:a.date,prescribedBy:a.prescribedBy,diagnosis:a.diagnosis,medications:N,instructions:a.instructions,duration:a.duration,followUpDate:a.followUpDate||void 0,status:a.status,notes:a.notes}),i({title:"Prescription mise à jour",description:"La prescription a été modifiée avec succès."}),t(!1)},v=()=>l.reduce((y,N)=>y+(N.cost||0),0);return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Eh,{className:"h-5 w-5"}),"Modifier la Prescription"]}),r.jsxs(pn,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date de prescription *"}),r.jsx(ie,{id:"date",type:"date",value:a.date,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"prescribedBy",children:"Prescrit par *"}),r.jsx(ie,{id:"prescribedBy",value:a.prescribedBy,onChange:u,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"diagnosis",children:"Diagnostic *"}),r.jsx(ie,{id:"diagnosis",value:a.diagnosis,onChange:u,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"duration",children:"Durée du traitement"}),r.jsx(ie,{id:"duration",value:a.duration,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUpDate",children:"Date de suivi"}),r.jsx(ie,{id:"followUpDate",type:"date",value:a.followUpDate,onChange:u,min:a.date})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Statut"}),r.jsxs($e,{value:a.status,onValueChange:y=>d("status",y),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"active",children:"Active"}),r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"discontinued",children:"Arrêtée"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(F,{className:"text-base font-medium",children:"Médicaments prescrits"}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:m,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter médicament"]})]}),r.jsx("div",{className:"space-y-4",children:l.map((y,N)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Médicament ",N+1]}),l.length>1&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>g(N),className:"text-red-600 hover:text-red-700",children:r.jsx(Un,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Nom du médicament *"}),r.jsx(ie,{value:y.name,onChange:j=>f(N,"name",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Dosage *"}),r.jsx(ie,{value:y.dosage,onChange:j=>f(N,"dosage",j.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Fréquence *"}),r.jsx(ie,{value:y.frequency,onChange:j=>f(N,"frequency",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Durée"}),r.jsx(ie,{value:y.duration,onChange:j=>f(N,"duration",j.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Quantité"}),r.jsx(ie,{type:"number",value:y.quantity,onChange:j=>f(N,"quantity",parseInt(j.target.value)),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Unité"}),r.jsxs($e,{value:y.unit,onValueChange:j=>f(N,"unit",j),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"comprimés",children:"Comprimés"}),r.jsx(U,{value:"ml",children:"ml"}),r.jsx(U,{value:"g",children:"g"}),r.jsx(U,{value:"mg",children:"mg"}),r.jsx(U,{value:"ampoules",children:"Ampoules"}),r.jsx(U,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Coût (€)"}),r.jsx(ie,{type:"number",step:"0.01",value:y.cost,onChange:j=>f(N,"cost",parseFloat(j.target.value)),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Instructions spécifiques"}),r.jsx(ie,{value:y.instructions,onChange:j=>f(N,"instructions",j.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Renouvellements"}),r.jsx(ie,{type:"number",value:y.refills,onChange:j=>f(N,"refills",parseInt(j.target.value)),min:"0"})]})]})]},y.id))}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(Le,{variant:"outline",className:"text-lg px-4 py-2",children:["Coût total: ",v().toFixed(2),"€"]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"instructions",children:"Instructions générales"}),r.jsx(wt,{id:"instructions",value:a.instructions,onChange:u,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:a.notes,onChange:u,rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",className:"gap-2",children:[r.jsx(kp,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const wFe="vetpro-veterinarians";function wP({prescription:e}){const{settings:t}=Zt();JSON.parse(localStorage.getItem(wFe)||"[]");const n=e.prescribedBy,s=()=>{const i=window.open("","_blank");if(!i)return;const a=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MÉDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tél: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propriétaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Durée du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Médicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Durée</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantité</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Coût</th>
                      <td>${o.cost.toFixed(2)}€</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Coût total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}€
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions générales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prévue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vétérinaire</p>
            <p><small>Cette prescription est valable pour la durée du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;i.document.write(a),i.document.close(),i.focus(),i.print(),i.close()};return r.jsxs(V,{size:"sm",variant:"outline",onClick:s,className:"gap-2",children:[r.jsx(EA,{className:"h-4 w-4"}),"Générer Ordonnance"]})}const NFe={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},SFe={active:"Active",completed:"Terminée",discontinued:"Arrêtée"};function c9({petId:e,consultationId:t}){const{prescriptions:n,getPrescriptionsByPetId:s,getPrescriptionsByConsultationId:i,deletePrescription:a}=Pt(),{toast:o}=$t(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),g=t?i(t):s(e),x=j=>{m(j),d(!0)},v=j=>{confirm(`Êtes-vous sûr de vouloir supprimer la prescription pour ${j.medications.map(b=>b.name).join(", ")} ?`)&&(a(j.id),o({title:"Prescription supprimée",description:"La prescription a été supprimée avec succès."}))},y=j=>{switch(j){case"active":return r.jsx(kr,{className:"h-4 w-4 text-green-600"});case"completed":return r.jsx(er,{className:"h-4 w-4 text-gray-600"});case"discontinued":return r.jsx(ig,{className:"h-4 w-4 text-red-600"});default:return r.jsx(Rn,{className:"h-4 w-4 text-gray-600"})}},N=j=>j.reduce((b,C)=>b+(C.cost||0),0);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Eh,{className:"h-5 w-5"}),"Prescriptions (",g.length,")"]}),r.jsxs(V,{size:"sm",onClick:()=>c(!0),disabled:!t,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),g.length===0?r.jsx(ue,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Eh,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune prescription trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer une nouvelle prescription"})]})}):r.jsx("div",{className:"space-y-4",children:g.sort((j,b)=>new Date(b.date).getTime()-new Date(j.date).getTime()).map(j=>r.jsxs(ue,{className:"card-hover",children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[y(j.status),r.jsx(Le,{className:NFe[j.status],children:SFe[j.status]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx(At,{className:"h-4 w-4 inline mr-1"}),new Date(j.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(wP,{prescription:j}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>x(j),className:"h-8 w-8 p-0",title:"Modifier",children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>v(j),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:r.jsx(Un,{className:"h-3 w-3"})})]})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prescrit par:"}),r.jsx("p",{className:"text-muted-foreground",children:j.prescribedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-muted-foreground",children:j.diagnosis})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"}),r.jsx("p",{className:"text-muted-foreground",children:j.duration})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Coût total:"}),r.jsxs("p",{className:"text-muted-foreground",children:[N(j.medications).toFixed(2),"€"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Médicaments prescrits:"}),r.jsx("div",{className:"space-y-3",children:j.medications.map(b=>r.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Posologie:"})," ",b.dosage," - ",b.frequency]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",b.duration]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Quantité:"})," ",b.quantity," ",b.unit]}),b.refills&&b.refills>0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Renouvellements:"})," ",b.refills]}),b.instructions&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Instructions:"})," ",b.instructions]})]}),b.cost&&r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"font-medium",children:[b.cost.toFixed(2),"€"]})})]})},b.id))})]}),j.instructions&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Instructions générales:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.instructions})]}),j.followUpDate&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Rn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Suivi prévu:"}),r.jsx("span",{className:"text-muted-foreground",children:new Date(j.followUpDate).toLocaleDateString("fr-FR")})]}),j.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.notes})]})]})]},j.id))})]}),t&&r.jsx(BT,{open:l,onOpenChange:c,petId:e.toString(),consultationId:t.toString()}),r.jsx(bFe,{open:u,onOpenChange:d,prescription:f})]})}var u9={exports:{}};(function(e,t){(function(n,s){e.exports=s(w)})(typeof self<"u"?self:cr,function(n){return function(){var s={155:function(N){N.exports=n}},i={};function a(N){var j=i[N];if(j!==void 0)return j.exports;var b=i[N]={exports:{}};return s[N](b,b.exports,a),b.exports}a.d=function(N,j){for(var b in j)a.o(j,b)&&!a.o(N,b)&&Object.defineProperty(N,b,{enumerable:!0,get:j[b]})},a.o=function(N,j){return Object.prototype.hasOwnProperty.call(N,j)},a.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return y}});var l=a(155);function c({level:N="error",messages:j,suppressErrors:b=!1}){b||(N==="error"?console.error(j):N==="warning"?console.warn(j):console.debug(j))}function u(N,j){if(j||!N){const b=document.getElementById("printWindow");b&&document.body.removeChild(b)}}function d(N){return N instanceof Error?N:new Error("Unknown Error")}function f(N,j){const{documentTitle:b,onAfterPrint:C,onPrintError:_,preserveAfterPrint:A,print:P,suppressErrors:E}=j;setTimeout(()=>{var D,I;if(N.contentWindow){let O=function(){C==null||C(),u(A)};var k=O;if(N.contentWindow.focus(),P)P(N).then(O).catch(L=>{_?_("print",d(L)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(N.contentWindow.print){const L=(I=(D=N.contentDocument)===null||D===void 0?void 0:D.title)!==null&&I!==void 0?I:"",B=N.ownerDocument.title;b&&(N.ownerDocument.title=b,N.contentDocument&&(N.contentDocument.title=b)),N.contentWindow.print(),b&&(N.ownerDocument.title=B,N.contentDocument&&(N.contentDocument.title=L))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(L=>{var B,ee;return((ee=(B=navigator.userAgent)!==null&&B!==void 0?B:navigator.vendor)!==null&&ee!==void 0?ee:"opera"in window&&window.opera).match(L)})?setTimeout(O,500):O()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function m(N){const j=[],b=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let C=b.nextNode();for(;C;)j.push(C),C=b.nextNode();return j}function g(N,j,b){const C=m(N),_=m(j);if(C.length===_.length)for(let A=0;A<C.length;A++){const P=C[A],E=_[A],D=P.shadowRoot;if(D!==null){const I=E.attachShadow({mode:D.mode});I.innerHTML=D.innerHTML,g(D,I,b)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,j],suppressErrors:b})}const x=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function v(N,j,b,C){var _,A,P,E,D;const{contentNode:I,clonedContentNode:k,clonedImgNodes:O,clonedVideoNodes:L,numResourcesToLoad:B,originalCanvasNodes:ee}=b,{bodyClass:G,fonts:J,ignoreGlobalStyles:q,pageStyle:$,nonce:oe,suppressErrors:ge,copyShadowRoots:re}=C;N.onload=null;const Z=(_=N.contentDocument)!==null&&_!==void 0?_:(A=N.contentWindow)===null||A===void 0?void 0:A.document;if(Z){const ne=Z.body.appendChild(k);re&&g(I,ne,!!ge),J&&(!((P=N.contentDocument)===null||P===void 0)&&P.fonts&&(!((E=N.contentWindow)===null||E===void 0)&&E.FontFace)?J.forEach(K=>{const M=new FontFace(K.family,K.source,{weight:K.weight,style:K.style});N.contentDocument.fonts.add(M),M.loaded.then(()=>{j(M)}).catch(xe=>{j(M,["Failed loading the font:",M,"Load error:",d(xe)])})}):(J.forEach(K=>{j(K)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:ge})));const ve=$??x,je=Z.createElement("style");oe&&(je.setAttribute("nonce",oe),Z.head.setAttribute("nonce",oe)),je.appendChild(Z.createTextNode(ve)),Z.head.appendChild(je),G&&Z.body.classList.add(...G.split(" "));const we=Z.querySelectorAll("canvas");for(let K=0;K<ee.length;++K){const M=ee[K],xe=we[K];if(xe===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",M],suppressErrors:ge});continue}const Ne=xe.getContext("2d");Ne&&Ne.drawImage(M,0,0)}for(let K=0;K<O.length;K++){const M=O[K],xe=M.getAttribute("src");if(xe){const Ne=new Image;Ne.onload=()=>{j(M)},Ne.onerror=(de,Pe,Ze,at,dt)=>{j(M,["Error loading <img>",M,"Error",dt])},Ne.src=xe}else j(M,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',M])}for(let K=0;K<L.length;K++){const M=L[K];M.preload="auto";const xe=M.getAttribute("poster");if(xe){const Ne=new Image;Ne.onload=()=>{j(M)},Ne.onerror=(de,Pe,Ze,at,dt)=>{j(M,["Error loading video poster",xe,"for video",M,"Error:",dt])},Ne.src=xe}else M.readyState>=2?j(M):M.src?(M.onloadeddata=()=>{j(M)},M.onerror=(Ne,de,Pe,Ze,at)=>{j(M,["Error loading video",M,"Error",at])},M.onstalled=()=>{j(M,["Loading video stalled, skipping",M])}):j(M,["Error loading video, `src` is empty",M])}const z="select",Q=I.querySelectorAll(z),te=Z.querySelectorAll(z);for(let K=0;K<Q.length;K++)te[K].value=Q[K].value;if(!q){const K=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let M=0,xe=K.length;M<xe;++M){const Ne=K[M];if(Ne.tagName.toLowerCase()==="style"){const de=Z.createElement(Ne.tagName),Pe=Ne.sheet;if(Pe){let Ze="";try{const at=Pe.cssRules.length;for(let dt=0;dt<at;++dt)typeof Pe.cssRules[dt].cssText=="string"&&(Ze+=`${Pe.cssRules[dt].cssText}\r
`)}catch(at){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ne,`Original error: ${d(at).message}`],level:"warning"})}de.setAttribute("id",`react-to-print-${M}`),oe&&de.setAttribute("nonce",oe),de.appendChild(Z.createTextNode(Ze)),Z.head.appendChild(de)}}else if(Ne.getAttribute("href"))if(Ne.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ne],level:"warning"}),j(Ne);else{const de=Z.createElement(Ne.tagName);for(let Pe=0,Ze=Ne.attributes.length;Pe<Ze;++Pe){const at=Ne.attributes[Pe];at&&de.setAttribute(at.nodeName,(D=at.nodeValue)!==null&&D!==void 0?D:"")}de.onload=()=>{j(de)},de.onerror=(Pe,Ze,at,dt,Se)=>{j(de,["Failed to load",de,"Error:",Se])},oe&&de.setAttribute("nonce",oe),Z.head.appendChild(de)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ne],level:"warning"}),j(Ne)}}}B===0&&f(N,C)}function y({bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:C,fonts:_,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:D,onPrintError:I,pageStyle:k,preserveAfterPrint:O,print:L,suppressErrors:B}){return(0,l.useCallback)(ee=>{function G(){const J={bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:C,fonts:_,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:D,onPrintError:I,pageStyle:k,preserveAfterPrint:O,print:L,suppressErrors:B},q=function(){const ge=document.createElement("iframe");return ge.width=`${document.documentElement.clientWidth}px`,ge.height=`${document.documentElement.clientHeight}px`,ge.style.position="absolute",ge.style.top=`-${document.documentElement.clientHeight+100}px`,ge.style.left=`-${document.documentElement.clientWidth+100}px`,ge.id="printWindow",ge.srcdoc="<!DOCTYPE html>",ge}(),$=function(ge,re){const{contentRef:Z,fonts:ne,ignoreGlobalStyles:ve,suppressErrors:je}=re,we=function({contentRef:xe,optionalContent:Ne,suppressErrors:de}){return Ne&&typeof Ne=="function"?(xe&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Ne()):xe?xe.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:de})}({contentRef:Z,optionalContent:ge,suppressErrors:je});if(!we)return;const z=we.cloneNode(!0),Q=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),te=z.querySelectorAll("img"),K=z.querySelectorAll("video"),M=ne?ne.length:0;return{contentNode:we,clonedContentNode:z,clonedImgNodes:te,clonedVideoNodes:K,numResourcesToLoad:(ve?0:Q.length)+te.length+K.length+M,originalCanvasNodes:we.querySelectorAll("canvas")}}(ee,J);if(!$)return void c({messages:["There is nothing to print"],suppressErrors:B});const oe=function(ge,re,Z){const{suppressErrors:ne}=ge,ve=[],je=[];return function(we,z){ve.includes(we)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",we],suppressErrors:ne}):(z?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...z],suppressErrors:ne}),je.push(we)):ve.push(we),ve.length+je.length===re&&f(Z,ge))}}(J,$.numResourcesToLoad,q);(function(ge,re,Z,ne){ge.onload=()=>{v(ge,re,Z,ne)},document.body.appendChild(ge)})(q,oe,$,J)}u(O,!0),D?D().then(()=>{G()}).catch(J=>{I==null||I("onBeforePrint",d(J))}):G()},[N,j,b,C,_,A,P,E,D,I,k,O,L,B])}return o}()})})(u9);var zT=u9.exports,CFe=Object.defineProperty,Uj=Object.getOwnPropertySymbols,d9=Object.prototype.hasOwnProperty,h9=Object.prototype.propertyIsEnumerable,U3=(e,t,n)=>t in e?CFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NP=(e,t)=>{for(var n in t||(t={}))d9.call(t,n)&&U3(e,n,t[n]);if(Uj)for(var n of Uj(t))h9.call(t,n)&&U3(e,n,t[n]);return e},SP=(e,t)=>{var n={};for(var s in e)d9.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Uj)for(var s of Uj(e))t.indexOf(s)<0&&h9.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var id;(e=>{const t=class Kt{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Kt.MIN_VERSION||c>Kt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),f==-1){let x=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<x&&(f=v,x=y),this.applyMask(v)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Kt.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Kt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,g=!0){if(!(Kt.MIN_VERSION<=d&&d<=f&&f<=Kt.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,v;for(x=d;;x++){const b=Kt.getNumDataCodewords(x,u)*8,C=o.getTotalBits(c,x);if(C<=b){v=C;break}if(x>=f)throw new RangeError("Data too long")}for(const b of[Kt.Ecc.MEDIUM,Kt.Ecc.QUARTILE,Kt.Ecc.HIGH])g&&v<=Kt.getNumDataCodewords(x,b)*8&&(u=b);let y=[];for(const b of c){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(x),y);for(const C of b.getData())y.push(C)}i(y.length==v);const N=Kt.getNumDataCodewords(x,u)*8;i(y.length<=N),n(0,Math.min(4,N-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let b=236;y.length<N;b^=253)n(b,8,y);let j=[];for(;j.length*8<y.length;)j.push(0);return y.forEach((b,C)=>j[C>>>3]|=b<<7-(C&7)),new Kt(x,u,j,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,s(f,m));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,s(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,s(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,s(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const f=s(u,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,f),this.setFunctionModule(g,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),g=c+f,x=u+d;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Kt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Kt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Kt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(Kt.getNumRawDataModules(u)/8),x=f-g%f,v=Math.floor(g/f);let y=[];const N=Kt.reedSolomonComputeDivisor(m);for(let b=0,C=0;b<f;b++){let _=c.slice(C,C+v-m+(b<x?0:1));C+=_.length;const A=Kt.reedSolomonComputeRemainder(_,N);b<x&&_.push(0),y.push(_.concat(A))}let j=[];for(let b=0;b<y[0].length;b++)y.forEach((C,_)=>{(b!=v-m||_>=x)&&j.push(C[b])});return i(j.length==g),j}drawCodewords(c){if(c.length!=Math.floor(Kt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const g=d-m,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][g]&&u<c.length*8&&(this.modules[v][g]=s(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[m][y]==g?(x++,x==5?c+=Kt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Kt.PENALTY_N3),g=this.modules[m][y],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Kt.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][m]==g?(x++,x==5?c+=Kt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Kt.PENALTY_N3),g=this.modules[y][m],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Kt.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const x=this.modules[m][g];x==this.modules[m][g+1]&&x==this.modules[m+1][g]&&x==this.modules[m+1][g+1]&&(c+=Kt.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,x)=>g+(x?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=f&&f<=9),c+=f*Kt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Kt.MIN_VERSION||c>Kt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Kt.getNumRawDataModules(c)/8)-Kt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Kt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Kt.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Kt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((g,x)=>d[x]^=Kt.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class ir{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new ir(ir.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!ir.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new ir(ir.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!ir.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=ir.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=ir.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(ir.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new ir(ir.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:ir.isNumeric(c)?[ir.makeNumeric(c)]:ir.isAlphanumeric(c)?[ir.makeAlphanumeric(c)]:[ir.makeBytes(ir.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new ir(ir.Mode.ECI,0,u)}static isNumeric(c){return ir.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return ir.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(id||(id={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(id||(id={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(id||(id={}));var wh=id;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _Fe={L:wh.QrCode.Ecc.LOW,M:wh.QrCode.Ecc.MEDIUM,Q:wh.QrCode.Ecc.QUARTILE,H:wh.QrCode.Ecc.HIGH},f9=128,m9="L",p9="#FFFFFF",g9="#000000",v9=!1,x9=1,PFe=4,AFe=0,EFe=.1;function y9(e,t=0){const n=[];return e.forEach(function(s,i){let a=null;s.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===s.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function j9(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function TFe(e,t,n,s){if(s==null)return null;const i=e.length+n*2,a=Math.floor(t*EFe),o=i/t,l=(s.width||a)*o,c=(s.height||a)*o,u=s.x==null?e.length/2-l/2:s.x*o,d=s.y==null?e.length/2-c/2:s.y*o,f=s.opacity==null?1:s.opacity;let m=null;if(s.excavate){let x=Math.floor(u),v=Math.floor(d),y=Math.ceil(l+u-x),N=Math.ceil(c+d-v);m={x,y:v,w:y,h:N}}const g=s.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:g}}function kFe(e,t){return t!=null?Math.max(Math.floor(t),0):e?PFe:AFe}function b9({value:e,level:t,minVersion:n,includeMargin:s,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=W.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((v,y)=>(v.push(...wh.QrSegment.makeSegments(y)),v),[]);return wh.QrCode.encodeSegments(x,_Fe[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=W.useMemo(()=>{let g=c.getModules();const x=kFe(s,i),v=g.length+x*2,y=TFe(g,o,x,a);return{cells:g,margin:x,numCells:v,calculatedImageSettings:y}},[c,o,a,s,i]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var OFe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),w9=W.forwardRef(function(t,n){const s=t,{value:i,size:a=f9,level:o=m9,bgColor:l=p9,fgColor:c=g9,includeMargin:u=v9,minVersion:d=x9,boostLevel:f,marginSize:m,imageSettings:g}=s,v=SP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=v,N=SP(v,["style"]),j=g==null?void 0:g.src,b=W.useRef(null),C=W.useRef(null),_=W.useCallback(B=>{b.current=B,typeof n=="function"?n(B):n&&(n.current=B)},[n]),[A,P]=W.useState(!1),{margin:E,cells:D,numCells:I,calculatedImageSettings:k}=b9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:a});W.useEffect(()=>{if(b.current!=null){const B=b.current,ee=B.getContext("2d");if(!ee)return;let G=D;const J=C.current,q=k!=null&&J!==null&&J.complete&&J.naturalHeight!==0&&J.naturalWidth!==0;q&&k.excavation!=null&&(G=j9(D,k.excavation));const $=window.devicePixelRatio||1;B.height=B.width=a*$;const oe=a/I*$;ee.scale(oe,oe),ee.fillStyle=l,ee.fillRect(0,0,I,I),ee.fillStyle=c,OFe?ee.fill(new Path2D(y9(G,E))):D.forEach(function(ge,re){ge.forEach(function(Z,ne){Z&&ee.fillRect(ne+E,re+E,1,1)})}),k&&(ee.globalAlpha=k.opacity),q&&ee.drawImage(J,k.x+E,k.y+E,k.w,k.h)}}),W.useEffect(()=>{P(!1)},[j]);const O=NP({height:a,width:a},y);let L=null;return j!=null&&(L=W.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{P(!0)},ref:C,crossOrigin:k==null?void 0:k.crossOrigin})),W.createElement(W.Fragment,null,W.createElement("canvas",NP({style:O,height:a,width:a,ref:_,role:"img"},N)),L)});w9.displayName="QRCodeCanvas";var DFe=W.forwardRef(function(t,n){const s=t,{value:i,size:a=f9,level:o=m9,bgColor:l=p9,fgColor:c=g9,includeMargin:u=v9,minVersion:d=x9,boostLevel:f,title:m,marginSize:g,imageSettings:x}=s,v=SP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:N,numCells:j,calculatedImageSettings:b}=b9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:x,size:a});let C=N,_=null;x!=null&&b!=null&&(b.excavation!=null&&(C=j9(N,b.excavation)),_=W.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const A=y9(C,y);return W.createElement("svg",NP({height:a,width:a,viewBox:`0 0 ${j} ${j}`,ref:n,role:"img"},v),!!m&&W.createElement("title",null,m),W.createElement("path",{fill:l,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),W.createElement("path",{fill:c,d:A,shapeRendering:"crispEdges"}),_)});DFe.displayName="QRCodeSVG";var qj={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */qj.exports;(function(e,t){(function(){var n,s="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,m=2,g=4,x=1,v=2,y=1,N=2,j=4,b=8,C=16,_=32,A=64,P=128,E=256,D=512,I=30,k="...",O=800,L=16,B=1,ee=2,G=3,J=1/0,q=9007199254740991,$=17976931348623157e292,oe=NaN,ge=4294967295,re=ge-1,Z=ge>>>1,ne=[["ary",P],["bind",y],["bindKey",N],["curry",b],["curryRight",C],["flip",D],["partial",_],["partialRight",A],["rearg",E]],ve="[object Arguments]",je="[object Array]",we="[object AsyncFunction]",z="[object Boolean]",Q="[object Date]",te="[object DOMException]",K="[object Error]",M="[object Function]",xe="[object GeneratorFunction]",Ne="[object Map]",de="[object Number]",Pe="[object Null]",Ze="[object Object]",at="[object Promise]",dt="[object Proxy]",Se="[object RegExp]",qe="[object Set]",We="[object String]",Lt="[object Symbol]",xn="[object Undefined]",Nt="[object WeakMap]",hn="[object WeakSet]",dr="[object ArrayBuffer]",Qn="[object DataView]",ys="[object Float32Array]",Ce="[object Float64Array]",Wt="[object Int8Array]",nt="[object Int16Array]",mt="[object Int32Array]",sn="[object Uint8Array]",as="[object Uint8ClampedArray]",Qr="[object Uint16Array]",Bs="[object Uint32Array]",bl=/\b__p \+= '';/g,le=/\b(__p \+=) '' \+/g,He=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,kn=/[&<>"']/g,Xn=RegExp(Be.source),ia=RegExp(kn.source),jt=/<%-([\s\S]+?)%>/g,on=/<%([\s\S]+?)%>/g,yn=/<%=([\s\S]+?)%>/g,js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bs=/^\w*$/,Ei=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ai=/[\\^$.*+?()[\]{}|]/g,ws=RegExp(ai.source),zs=/^\s+/,Rw=/\s/,Lw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fw=/\{\n\/\* \[wrapped with (.+)\] \*/,Bw=/,? & /,zw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vw=/[()=,{}\[\]\/\s]/,Uw=/\\(\\)?/g,qw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dv=/\w*$/,Ww=/^[-+]0x[0-9a-f]+$/i,Hw=/^0b[01]+$/i,Gw=/^\[object .+?Constructor\]$/,jm=/^0o[0-7]+$/i,wd=/^(?:0|[1-9]\d*)$/,Kw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,So=/($^)/,Yw=/['\n\r\u2028\u2029\\]/g,Nd="\\ud800-\\udfff",Qw="\\u0300-\\u036f",Xw="\\ufe20-\\ufe2f",Jw="\\u20d0-\\u20ff",Mv=Qw+Xw+Jw,Iv="\\u2700-\\u27bf",$v="a-z\\xdf-\\xf6\\xf8-\\xff",Zw="\\xac\\xb1\\xd7\\xf7",e1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",t1="\\u2000-\\u206f",n1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rv="A-Z\\xc0-\\xd6\\xd8-\\xde",Lv="\\ufe0e\\ufe0f",Fv=Zw+e1+t1+n1,bm="['’]",wl="["+Nd+"]",Bv="["+Fv+"]",Sd="["+Mv+"]",Cd="\\d+",wm="["+Iv+"]",zv="["+$v+"]",se="[^"+Nd+Fv+Cd+Iv+$v+Rv+"]",X="\\ud83c[\\udffb-\\udfff]",fe="(?:"+Sd+"|"+X+")",pe="[^"+Nd+"]",Ge="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Rv+"]",ot="\\u200d",Pn="(?:"+zv+"|"+se+")",jn="(?:"+ze+"|"+se+")",ht="(?:"+bm+"(?:d|ll|m|re|s|t|ve))?",Ln="(?:"+bm+"(?:D|LL|M|RE|S|T|VE))?",Xr=fe+"?",aa="["+Lv+"]?",Wa="(?:"+ot+"(?:"+[pe,Ge,Je].join("|")+")"+aa+Xr+")*",_d="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nm=aa+Xr+Wa,s1="(?:"+[wm,Ge,Je].join("|")+")"+Nm,i1="(?:"+[pe+Sd+"?",Sd,Ge,Je,wl].join("|")+")",a1=RegExp(bm,"g"),o1=RegExp(Sd,"g"),Sm=RegExp(X+"(?="+X+")|"+i1+Nm,"g"),l1=RegExp([ze+"?"+zv+"+"+ht+"(?="+[Bv,ze,"$"].join("|")+")",jn+"+"+Ln+"(?="+[Bv,ze+Pn,"$"].join("|")+")",ze+"?"+Pn+"+"+ht,ze+"+"+Ln,r1,_d,Cd,s1].join("|"),"g"),c1=RegExp("["+ot+Nd+Mv+Lv+"]"),u1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,d1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],h1=-1,An={};An[ys]=An[Ce]=An[Wt]=An[nt]=An[mt]=An[sn]=An[as]=An[Qr]=An[Bs]=!0,An[ve]=An[je]=An[dr]=An[z]=An[Qn]=An[Q]=An[K]=An[M]=An[Ne]=An[de]=An[Ze]=An[Se]=An[qe]=An[We]=An[Nt]=!1;var Cn={};Cn[ve]=Cn[je]=Cn[dr]=Cn[Qn]=Cn[z]=Cn[Q]=Cn[ys]=Cn[Ce]=Cn[Wt]=Cn[nt]=Cn[mt]=Cn[Ne]=Cn[de]=Cn[Ze]=Cn[Se]=Cn[qe]=Cn[We]=Cn[Lt]=Cn[sn]=Cn[as]=Cn[Qr]=Cn[Bs]=!0,Cn[K]=Cn[M]=Cn[Nt]=!1;var f1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},UT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},m1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},M9=parseFloat,I9=parseInt,qT=typeof cr=="object"&&cr&&cr.Object===Object&&cr,$9=typeof self=="object"&&self&&self.Object===Object&&self,Jr=qT||$9||Function("return this")(),p1=t&&!t.nodeType&&t,Wc=p1&&!0&&e&&!e.nodeType&&e,WT=Wc&&Wc.exports===p1,g1=WT&&qT.process,Ti=function(){try{var ye=Wc&&Wc.require&&Wc.require("util").types;return ye||g1&&g1.binding&&g1.binding("util")}catch{}}(),HT=Ti&&Ti.isArrayBuffer,GT=Ti&&Ti.isDate,KT=Ti&&Ti.isMap,YT=Ti&&Ti.isRegExp,QT=Ti&&Ti.isSet,XT=Ti&&Ti.isTypedArray;function oi(ye,Te,_e){switch(_e.length){case 0:return ye.call(Te);case 1:return ye.call(Te,_e[0]);case 2:return ye.call(Te,_e[0],_e[1]);case 3:return ye.call(Te,_e[0],_e[1],_e[2])}return ye.apply(Te,_e)}function R9(ye,Te,_e,tt){for(var kt=-1,dn=ye==null?0:ye.length;++kt<dn;){var Sr=ye[kt];Te(tt,Sr,_e(Sr),ye)}return tt}function ki(ye,Te){for(var _e=-1,tt=ye==null?0:ye.length;++_e<tt&&Te(ye[_e],_e,ye)!==!1;);return ye}function L9(ye,Te){for(var _e=ye==null?0:ye.length;_e--&&Te(ye[_e],_e,ye)!==!1;);return ye}function JT(ye,Te){for(var _e=-1,tt=ye==null?0:ye.length;++_e<tt;)if(!Te(ye[_e],_e,ye))return!1;return!0}function Nl(ye,Te){for(var _e=-1,tt=ye==null?0:ye.length,kt=0,dn=[];++_e<tt;){var Sr=ye[_e];Te(Sr,_e,ye)&&(dn[kt++]=Sr)}return dn}function Uv(ye,Te){var _e=ye==null?0:ye.length;return!!_e&&Pd(ye,Te,0)>-1}function v1(ye,Te,_e){for(var tt=-1,kt=ye==null?0:ye.length;++tt<kt;)if(_e(Te,ye[tt]))return!0;return!1}function Hn(ye,Te){for(var _e=-1,tt=ye==null?0:ye.length,kt=Array(tt);++_e<tt;)kt[_e]=Te(ye[_e],_e,ye);return kt}function Sl(ye,Te){for(var _e=-1,tt=Te.length,kt=ye.length;++_e<tt;)ye[kt+_e]=Te[_e];return ye}function x1(ye,Te,_e,tt){var kt=-1,dn=ye==null?0:ye.length;for(tt&&dn&&(_e=ye[++kt]);++kt<dn;)_e=Te(_e,ye[kt],kt,ye);return _e}function F9(ye,Te,_e,tt){var kt=ye==null?0:ye.length;for(tt&&kt&&(_e=ye[--kt]);kt--;)_e=Te(_e,ye[kt],kt,ye);return _e}function y1(ye,Te){for(var _e=-1,tt=ye==null?0:ye.length;++_e<tt;)if(Te(ye[_e],_e,ye))return!0;return!1}var B9=j1("length");function z9(ye){return ye.split("")}function V9(ye){return ye.match(zw)||[]}function ZT(ye,Te,_e){var tt;return _e(ye,function(kt,dn,Sr){if(Te(kt,dn,Sr))return tt=dn,!1}),tt}function qv(ye,Te,_e,tt){for(var kt=ye.length,dn=_e+(tt?1:-1);tt?dn--:++dn<kt;)if(Te(ye[dn],dn,ye))return dn;return-1}function Pd(ye,Te,_e){return Te===Te?eH(ye,Te,_e):qv(ye,ek,_e)}function U9(ye,Te,_e,tt){for(var kt=_e-1,dn=ye.length;++kt<dn;)if(tt(ye[kt],Te))return kt;return-1}function ek(ye){return ye!==ye}function tk(ye,Te){var _e=ye==null?0:ye.length;return _e?w1(ye,Te)/_e:oe}function j1(ye){return function(Te){return Te==null?n:Te[ye]}}function b1(ye){return function(Te){return ye==null?n:ye[Te]}}function nk(ye,Te,_e,tt,kt){return kt(ye,function(dn,Sr,En){_e=tt?(tt=!1,dn):Te(_e,dn,Sr,En)}),_e}function q9(ye,Te){var _e=ye.length;for(ye.sort(Te);_e--;)ye[_e]=ye[_e].value;return ye}function w1(ye,Te){for(var _e,tt=-1,kt=ye.length;++tt<kt;){var dn=Te(ye[tt]);dn!==n&&(_e=_e===n?dn:_e+dn)}return _e}function N1(ye,Te){for(var _e=-1,tt=Array(ye);++_e<ye;)tt[_e]=Te(_e);return tt}function W9(ye,Te){return Hn(Te,function(_e){return[_e,ye[_e]]})}function rk(ye){return ye&&ye.slice(0,ok(ye)+1).replace(zs,"")}function li(ye){return function(Te){return ye(Te)}}function S1(ye,Te){return Hn(Te,function(_e){return ye[_e]})}function Cm(ye,Te){return ye.has(Te)}function sk(ye,Te){for(var _e=-1,tt=ye.length;++_e<tt&&Pd(Te,ye[_e],0)>-1;);return _e}function ik(ye,Te){for(var _e=ye.length;_e--&&Pd(Te,ye[_e],0)>-1;);return _e}function H9(ye,Te){for(var _e=ye.length,tt=0;_e--;)ye[_e]===Te&&++tt;return tt}var G9=b1(f1),K9=b1(UT);function Y9(ye){return"\\"+m1[ye]}function Q9(ye,Te){return ye==null?n:ye[Te]}function Ad(ye){return c1.test(ye)}function X9(ye){return u1.test(ye)}function J9(ye){for(var Te,_e=[];!(Te=ye.next()).done;)_e.push(Te.value);return _e}function C1(ye){var Te=-1,_e=Array(ye.size);return ye.forEach(function(tt,kt){_e[++Te]=[kt,tt]}),_e}function ak(ye,Te){return function(_e){return ye(Te(_e))}}function Cl(ye,Te){for(var _e=-1,tt=ye.length,kt=0,dn=[];++_e<tt;){var Sr=ye[_e];(Sr===Te||Sr===d)&&(ye[_e]=d,dn[kt++]=_e)}return dn}function Wv(ye){var Te=-1,_e=Array(ye.size);return ye.forEach(function(tt){_e[++Te]=tt}),_e}function Z9(ye){var Te=-1,_e=Array(ye.size);return ye.forEach(function(tt){_e[++Te]=[tt,tt]}),_e}function eH(ye,Te,_e){for(var tt=_e-1,kt=ye.length;++tt<kt;)if(ye[tt]===Te)return tt;return-1}function tH(ye,Te,_e){for(var tt=_e+1;tt--;)if(ye[tt]===Te)return tt;return tt}function Ed(ye){return Ad(ye)?rH(ye):B9(ye)}function oa(ye){return Ad(ye)?sH(ye):z9(ye)}function ok(ye){for(var Te=ye.length;Te--&&Rw.test(ye.charAt(Te)););return Te}var nH=b1(Vv);function rH(ye){for(var Te=Sm.lastIndex=0;Sm.test(ye);)++Te;return Te}function sH(ye){return ye.match(Sm)||[]}function iH(ye){return ye.match(l1)||[]}var aH=function ye(Te){Te=Te==null?Jr:Td.defaults(Jr.Object(),Te,Td.pick(Jr,d1));var _e=Te.Array,tt=Te.Date,kt=Te.Error,dn=Te.Function,Sr=Te.Math,En=Te.Object,_1=Te.RegExp,oH=Te.String,Oi=Te.TypeError,Hv=_e.prototype,lH=dn.prototype,kd=En.prototype,Gv=Te["__core-js_shared__"],Kv=lH.toString,bn=kd.hasOwnProperty,cH=0,lk=function(){var h=/[^.]+$/.exec(Gv&&Gv.keys&&Gv.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Yv=kd.toString,uH=Kv.call(En),dH=Jr._,hH=_1("^"+Kv.call(bn).replace(ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qv=WT?Te.Buffer:n,_l=Te.Symbol,Xv=Te.Uint8Array,ck=Qv?Qv.allocUnsafe:n,Jv=ak(En.getPrototypeOf,En),uk=En.create,dk=kd.propertyIsEnumerable,Zv=Hv.splice,hk=_l?_l.isConcatSpreadable:n,_m=_l?_l.iterator:n,Hc=_l?_l.toStringTag:n,ex=function(){try{var h=Xc(En,"defineProperty");return h({},"",{}),h}catch{}}(),fH=Te.clearTimeout!==Jr.clearTimeout&&Te.clearTimeout,mH=tt&&tt.now!==Jr.Date.now&&tt.now,pH=Te.setTimeout!==Jr.setTimeout&&Te.setTimeout,tx=Sr.ceil,nx=Sr.floor,P1=En.getOwnPropertySymbols,gH=Qv?Qv.isBuffer:n,fk=Te.isFinite,vH=Hv.join,xH=ak(En.keys,En),Cr=Sr.max,os=Sr.min,yH=tt.now,jH=Te.parseInt,mk=Sr.random,bH=Hv.reverse,A1=Xc(Te,"DataView"),Pm=Xc(Te,"Map"),E1=Xc(Te,"Promise"),Od=Xc(Te,"Set"),Am=Xc(Te,"WeakMap"),Em=Xc(En,"create"),rx=Am&&new Am,Dd={},wH=Jc(A1),NH=Jc(Pm),SH=Jc(E1),CH=Jc(Od),_H=Jc(Am),sx=_l?_l.prototype:n,Tm=sx?sx.valueOf:n,pk=sx?sx.toString:n;function H(h){if(rr(h)&&!Mt(h)&&!(h instanceof en)){if(h instanceof Di)return h;if(bn.call(h,"__wrapped__"))return gO(h)}return new Di(h)}var Md=function(){function h(){}return function(p){if(!Jn(p))return{};if(uk)return uk(p);h.prototype=p;var S=new h;return h.prototype=n,S}}();function ix(){}function Di(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}H.templateSettings={escape:jt,evaluate:on,interpolate:yn,variable:"",imports:{_:H}},H.prototype=ix.prototype,H.prototype.constructor=H,Di.prototype=Md(ix.prototype),Di.prototype.constructor=Di;function en(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function PH(){var h=new en(this.__wrapped__);return h.__actions__=Vs(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Vs(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Vs(this.__views__),h}function AH(){if(this.__filtered__){var h=new en(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function EH(){var h=this.__wrapped__.value(),p=this.__dir__,S=Mt(h),T=p<0,R=S?h.length:0,Y=zG(0,R,this.__views__),ae=Y.start,me=Y.end,be=me-ae,Oe=T?me:ae-1,De=this.__iteratees__,Fe=De.length,Qe=0,lt=os(be,this.__takeCount__);if(!S||!T&&R==be&&lt==be)return Fk(h,this.__actions__);var gt=[];e:for(;be--&&Qe<lt;){Oe+=p;for(var zt=-1,vt=h[Oe];++zt<Fe;){var Gt=De[zt],nn=Gt.iteratee,di=Gt.type,Cs=nn(vt);if(di==ee)vt=Cs;else if(!Cs){if(di==B)continue e;break e}}gt[Qe++]=vt}return gt}en.prototype=Md(ix.prototype),en.prototype.constructor=en;function Gc(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function TH(){this.__data__=Em?Em(null):{},this.size=0}function kH(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function OH(h){var p=this.__data__;if(Em){var S=p[h];return S===c?n:S}return bn.call(p,h)?p[h]:n}function DH(h){var p=this.__data__;return Em?p[h]!==n:bn.call(p,h)}function MH(h,p){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=Em&&p===n?c:p,this}Gc.prototype.clear=TH,Gc.prototype.delete=kH,Gc.prototype.get=OH,Gc.prototype.has=DH,Gc.prototype.set=MH;function Co(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function IH(){this.__data__=[],this.size=0}function $H(h){var p=this.__data__,S=ax(p,h);if(S<0)return!1;var T=p.length-1;return S==T?p.pop():Zv.call(p,S,1),--this.size,!0}function RH(h){var p=this.__data__,S=ax(p,h);return S<0?n:p[S][1]}function LH(h){return ax(this.__data__,h)>-1}function FH(h,p){var S=this.__data__,T=ax(S,h);return T<0?(++this.size,S.push([h,p])):S[T][1]=p,this}Co.prototype.clear=IH,Co.prototype.delete=$H,Co.prototype.get=RH,Co.prototype.has=LH,Co.prototype.set=FH;function _o(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function BH(){this.size=0,this.__data__={hash:new Gc,map:new(Pm||Co),string:new Gc}}function zH(h){var p=xx(this,h).delete(h);return this.size-=p?1:0,p}function VH(h){return xx(this,h).get(h)}function UH(h){return xx(this,h).has(h)}function qH(h,p){var S=xx(this,h),T=S.size;return S.set(h,p),this.size+=S.size==T?0:1,this}_o.prototype.clear=BH,_o.prototype.delete=zH,_o.prototype.get=VH,_o.prototype.has=UH,_o.prototype.set=qH;function Kc(h){var p=-1,S=h==null?0:h.length;for(this.__data__=new _o;++p<S;)this.add(h[p])}function WH(h){return this.__data__.set(h,c),this}function HH(h){return this.__data__.has(h)}Kc.prototype.add=Kc.prototype.push=WH,Kc.prototype.has=HH;function la(h){var p=this.__data__=new Co(h);this.size=p.size}function GH(){this.__data__=new Co,this.size=0}function KH(h){var p=this.__data__,S=p.delete(h);return this.size=p.size,S}function YH(h){return this.__data__.get(h)}function QH(h){return this.__data__.has(h)}function XH(h,p){var S=this.__data__;if(S instanceof Co){var T=S.__data__;if(!Pm||T.length<i-1)return T.push([h,p]),this.size=++S.size,this;S=this.__data__=new _o(T)}return S.set(h,p),this.size=S.size,this}la.prototype.clear=GH,la.prototype.delete=KH,la.prototype.get=YH,la.prototype.has=QH,la.prototype.set=XH;function gk(h,p){var S=Mt(h),T=!S&&Zc(h),R=!S&&!T&&kl(h),Y=!S&&!T&&!R&&Ld(h),ae=S||T||R||Y,me=ae?N1(h.length,oH):[],be=me.length;for(var Oe in h)(p||bn.call(h,Oe))&&!(ae&&(Oe=="length"||R&&(Oe=="offset"||Oe=="parent")||Y&&(Oe=="buffer"||Oe=="byteLength"||Oe=="byteOffset")||To(Oe,be)))&&me.push(Oe);return me}function vk(h){var p=h.length;return p?h[B1(0,p-1)]:n}function JH(h,p){return yx(Vs(h),Yc(p,0,h.length))}function ZH(h){return yx(Vs(h))}function T1(h,p,S){(S!==n&&!ca(h[p],S)||S===n&&!(p in h))&&Po(h,p,S)}function km(h,p,S){var T=h[p];(!(bn.call(h,p)&&ca(T,S))||S===n&&!(p in h))&&Po(h,p,S)}function ax(h,p){for(var S=h.length;S--;)if(ca(h[S][0],p))return S;return-1}function eG(h,p,S,T){return Pl(h,function(R,Y,ae){p(T,R,S(R),ae)}),T}function xk(h,p){return h&&Ga(p,Fr(p),h)}function tG(h,p){return h&&Ga(p,qs(p),h)}function Po(h,p,S){p=="__proto__"&&ex?ex(h,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[p]=S}function k1(h,p){for(var S=-1,T=p.length,R=_e(T),Y=h==null;++S<T;)R[S]=Y?n:dN(h,p[S]);return R}function Yc(h,p,S){return h===h&&(S!==n&&(h=h<=S?h:S),p!==n&&(h=h>=p?h:p)),h}function Mi(h,p,S,T,R,Y){var ae,me=p&f,be=p&m,Oe=p&g;if(S&&(ae=R?S(h,T,R,Y):S(h)),ae!==n)return ae;if(!Jn(h))return h;var De=Mt(h);if(De){if(ae=UG(h),!me)return Vs(h,ae)}else{var Fe=ls(h),Qe=Fe==M||Fe==xe;if(kl(h))return Vk(h,me);if(Fe==Ze||Fe==ve||Qe&&!R){if(ae=be||Qe?{}:oO(h),!me)return be?OG(h,tG(ae,h)):kG(h,xk(ae,h))}else{if(!Cn[Fe])return R?h:{};ae=qG(h,Fe,me)}}Y||(Y=new la);var lt=Y.get(h);if(lt)return lt;Y.set(h,ae),$O(h)?h.forEach(function(vt){ae.add(Mi(vt,p,S,vt,h,Y))}):MO(h)&&h.forEach(function(vt,Gt){ae.set(Gt,Mi(vt,p,S,Gt,h,Y))});var gt=Oe?be?X1:Q1:be?qs:Fr,zt=De?n:gt(h);return ki(zt||h,function(vt,Gt){zt&&(Gt=vt,vt=h[Gt]),km(ae,Gt,Mi(vt,p,S,Gt,h,Y))}),ae}function nG(h){var p=Fr(h);return function(S){return yk(S,h,p)}}function yk(h,p,S){var T=S.length;if(h==null)return!T;for(h=En(h);T--;){var R=S[T],Y=p[R],ae=h[R];if(ae===n&&!(R in h)||!Y(ae))return!1}return!0}function jk(h,p,S){if(typeof h!="function")throw new Oi(o);return Lm(function(){h.apply(n,S)},p)}function Om(h,p,S,T){var R=-1,Y=Uv,ae=!0,me=h.length,be=[],Oe=p.length;if(!me)return be;S&&(p=Hn(p,li(S))),T?(Y=v1,ae=!1):p.length>=i&&(Y=Cm,ae=!1,p=new Kc(p));e:for(;++R<me;){var De=h[R],Fe=S==null?De:S(De);if(De=T||De!==0?De:0,ae&&Fe===Fe){for(var Qe=Oe;Qe--;)if(p[Qe]===Fe)continue e;be.push(De)}else Y(p,Fe,T)||be.push(De)}return be}var Pl=Gk(Ha),bk=Gk(D1,!0);function rG(h,p){var S=!0;return Pl(h,function(T,R,Y){return S=!!p(T,R,Y),S}),S}function ox(h,p,S){for(var T=-1,R=h.length;++T<R;){var Y=h[T],ae=p(Y);if(ae!=null&&(me===n?ae===ae&&!ui(ae):S(ae,me)))var me=ae,be=Y}return be}function sG(h,p,S,T){var R=h.length;for(S=Ft(S),S<0&&(S=-S>R?0:R+S),T=T===n||T>R?R:Ft(T),T<0&&(T+=R),T=S>T?0:LO(T);S<T;)h[S++]=p;return h}function wk(h,p){var S=[];return Pl(h,function(T,R,Y){p(T,R,Y)&&S.push(T)}),S}function Zr(h,p,S,T,R){var Y=-1,ae=h.length;for(S||(S=HG),R||(R=[]);++Y<ae;){var me=h[Y];p>0&&S(me)?p>1?Zr(me,p-1,S,T,R):Sl(R,me):T||(R[R.length]=me)}return R}var O1=Kk(),Nk=Kk(!0);function Ha(h,p){return h&&O1(h,p,Fr)}function D1(h,p){return h&&Nk(h,p,Fr)}function lx(h,p){return Nl(p,function(S){return ko(h[S])})}function Qc(h,p){p=El(p,h);for(var S=0,T=p.length;h!=null&&S<T;)h=h[Ka(p[S++])];return S&&S==T?h:n}function Sk(h,p,S){var T=p(h);return Mt(h)?T:Sl(T,S(h))}function Ns(h){return h==null?h===n?xn:Pe:Hc&&Hc in En(h)?BG(h):ZG(h)}function M1(h,p){return h>p}function iG(h,p){return h!=null&&bn.call(h,p)}function aG(h,p){return h!=null&&p in En(h)}function oG(h,p,S){return h>=os(p,S)&&h<Cr(p,S)}function I1(h,p,S){for(var T=S?v1:Uv,R=h[0].length,Y=h.length,ae=Y,me=_e(Y),be=1/0,Oe=[];ae--;){var De=h[ae];ae&&p&&(De=Hn(De,li(p))),be=os(De.length,be),me[ae]=!S&&(p||R>=120&&De.length>=120)?new Kc(ae&&De):n}De=h[0];var Fe=-1,Qe=me[0];e:for(;++Fe<R&&Oe.length<be;){var lt=De[Fe],gt=p?p(lt):lt;if(lt=S||lt!==0?lt:0,!(Qe?Cm(Qe,gt):T(Oe,gt,S))){for(ae=Y;--ae;){var zt=me[ae];if(!(zt?Cm(zt,gt):T(h[ae],gt,S)))continue e}Qe&&Qe.push(gt),Oe.push(lt)}}return Oe}function lG(h,p,S,T){return Ha(h,function(R,Y,ae){p(T,S(R),Y,ae)}),T}function Dm(h,p,S){p=El(p,h),h=dO(h,p);var T=h==null?h:h[Ka($i(p))];return T==null?n:oi(T,h,S)}function Ck(h){return rr(h)&&Ns(h)==ve}function cG(h){return rr(h)&&Ns(h)==dr}function uG(h){return rr(h)&&Ns(h)==Q}function Mm(h,p,S,T,R){return h===p?!0:h==null||p==null||!rr(h)&&!rr(p)?h!==h&&p!==p:dG(h,p,S,T,Mm,R)}function dG(h,p,S,T,R,Y){var ae=Mt(h),me=Mt(p),be=ae?je:ls(h),Oe=me?je:ls(p);be=be==ve?Ze:be,Oe=Oe==ve?Ze:Oe;var De=be==Ze,Fe=Oe==Ze,Qe=be==Oe;if(Qe&&kl(h)){if(!kl(p))return!1;ae=!0,De=!1}if(Qe&&!De)return Y||(Y=new la),ae||Ld(h)?sO(h,p,S,T,R,Y):LG(h,p,be,S,T,R,Y);if(!(S&x)){var lt=De&&bn.call(h,"__wrapped__"),gt=Fe&&bn.call(p,"__wrapped__");if(lt||gt){var zt=lt?h.value():h,vt=gt?p.value():p;return Y||(Y=new la),R(zt,vt,S,T,Y)}}return Qe?(Y||(Y=new la),FG(h,p,S,T,R,Y)):!1}function hG(h){return rr(h)&&ls(h)==Ne}function $1(h,p,S,T){var R=S.length,Y=R,ae=!T;if(h==null)return!Y;for(h=En(h);R--;){var me=S[R];if(ae&&me[2]?me[1]!==h[me[0]]:!(me[0]in h))return!1}for(;++R<Y;){me=S[R];var be=me[0],Oe=h[be],De=me[1];if(ae&&me[2]){if(Oe===n&&!(be in h))return!1}else{var Fe=new la;if(T)var Qe=T(Oe,De,be,h,p,Fe);if(!(Qe===n?Mm(De,Oe,x|v,T,Fe):Qe))return!1}}return!0}function _k(h){if(!Jn(h)||KG(h))return!1;var p=ko(h)?hH:Gw;return p.test(Jc(h))}function fG(h){return rr(h)&&Ns(h)==Se}function mG(h){return rr(h)&&ls(h)==qe}function pG(h){return rr(h)&&Cx(h.length)&&!!An[Ns(h)]}function Pk(h){return typeof h=="function"?h:h==null?Ws:typeof h=="object"?Mt(h)?Tk(h[0],h[1]):Ek(h):YO(h)}function R1(h){if(!Rm(h))return xH(h);var p=[];for(var S in En(h))bn.call(h,S)&&S!="constructor"&&p.push(S);return p}function gG(h){if(!Jn(h))return JG(h);var p=Rm(h),S=[];for(var T in h)T=="constructor"&&(p||!bn.call(h,T))||S.push(T);return S}function L1(h,p){return h<p}function Ak(h,p){var S=-1,T=Us(h)?_e(h.length):[];return Pl(h,function(R,Y,ae){T[++S]=p(R,Y,ae)}),T}function Ek(h){var p=Z1(h);return p.length==1&&p[0][2]?cO(p[0][0],p[0][1]):function(S){return S===h||$1(S,h,p)}}function Tk(h,p){return tN(h)&&lO(p)?cO(Ka(h),p):function(S){var T=dN(S,h);return T===n&&T===p?hN(S,h):Mm(p,T,x|v)}}function cx(h,p,S,T,R){h!==p&&O1(p,function(Y,ae){if(R||(R=new la),Jn(Y))vG(h,p,ae,S,cx,T,R);else{var me=T?T(rN(h,ae),Y,ae+"",h,p,R):n;me===n&&(me=Y),T1(h,ae,me)}},qs)}function vG(h,p,S,T,R,Y,ae){var me=rN(h,S),be=rN(p,S),Oe=ae.get(be);if(Oe){T1(h,S,Oe);return}var De=Y?Y(me,be,S+"",h,p,ae):n,Fe=De===n;if(Fe){var Qe=Mt(be),lt=!Qe&&kl(be),gt=!Qe&&!lt&&Ld(be);De=be,Qe||lt||gt?Mt(me)?De=me:hr(me)?De=Vs(me):lt?(Fe=!1,De=Vk(be,!0)):gt?(Fe=!1,De=Uk(be,!0)):De=[]:Fm(be)||Zc(be)?(De=me,Zc(me)?De=FO(me):(!Jn(me)||ko(me))&&(De=oO(be))):Fe=!1}Fe&&(ae.set(be,De),R(De,be,T,Y,ae),ae.delete(be)),T1(h,S,De)}function kk(h,p){var S=h.length;if(S)return p+=p<0?S:0,To(p,S)?h[p]:n}function Ok(h,p,S){p.length?p=Hn(p,function(Y){return Mt(Y)?function(ae){return Qc(ae,Y.length===1?Y[0]:Y)}:Y}):p=[Ws];var T=-1;p=Hn(p,li(pt()));var R=Ak(h,function(Y,ae,me){var be=Hn(p,function(Oe){return Oe(Y)});return{criteria:be,index:++T,value:Y}});return q9(R,function(Y,ae){return TG(Y,ae,S)})}function xG(h,p){return Dk(h,p,function(S,T){return hN(h,T)})}function Dk(h,p,S){for(var T=-1,R=p.length,Y={};++T<R;){var ae=p[T],me=Qc(h,ae);S(me,ae)&&Im(Y,El(ae,h),me)}return Y}function yG(h){return function(p){return Qc(p,h)}}function F1(h,p,S,T){var R=T?U9:Pd,Y=-1,ae=p.length,me=h;for(h===p&&(p=Vs(p)),S&&(me=Hn(h,li(S)));++Y<ae;)for(var be=0,Oe=p[Y],De=S?S(Oe):Oe;(be=R(me,De,be,T))>-1;)me!==h&&Zv.call(me,be,1),Zv.call(h,be,1);return h}function Mk(h,p){for(var S=h?p.length:0,T=S-1;S--;){var R=p[S];if(S==T||R!==Y){var Y=R;To(R)?Zv.call(h,R,1):U1(h,R)}}return h}function B1(h,p){return h+nx(mk()*(p-h+1))}function jG(h,p,S,T){for(var R=-1,Y=Cr(tx((p-h)/(S||1)),0),ae=_e(Y);Y--;)ae[T?Y:++R]=h,h+=S;return ae}function z1(h,p){var S="";if(!h||p<1||p>q)return S;do p%2&&(S+=h),p=nx(p/2),p&&(h+=h);while(p);return S}function Ht(h,p){return sN(uO(h,p,Ws),h+"")}function bG(h){return vk(Fd(h))}function wG(h,p){var S=Fd(h);return yx(S,Yc(p,0,S.length))}function Im(h,p,S,T){if(!Jn(h))return h;p=El(p,h);for(var R=-1,Y=p.length,ae=Y-1,me=h;me!=null&&++R<Y;){var be=Ka(p[R]),Oe=S;if(be==="__proto__"||be==="constructor"||be==="prototype")return h;if(R!=ae){var De=me[be];Oe=T?T(De,be,me):n,Oe===n&&(Oe=Jn(De)?De:To(p[R+1])?[]:{})}km(me,be,Oe),me=me[be]}return h}var Ik=rx?function(h,p){return rx.set(h,p),h}:Ws,NG=ex?function(h,p){return ex(h,"toString",{configurable:!0,enumerable:!1,value:mN(p),writable:!0})}:Ws;function SG(h){return yx(Fd(h))}function Ii(h,p,S){var T=-1,R=h.length;p<0&&(p=-p>R?0:R+p),S=S>R?R:S,S<0&&(S+=R),R=p>S?0:S-p>>>0,p>>>=0;for(var Y=_e(R);++T<R;)Y[T]=h[T+p];return Y}function CG(h,p){var S;return Pl(h,function(T,R,Y){return S=p(T,R,Y),!S}),!!S}function ux(h,p,S){var T=0,R=h==null?T:h.length;if(typeof p=="number"&&p===p&&R<=Z){for(;T<R;){var Y=T+R>>>1,ae=h[Y];ae!==null&&!ui(ae)&&(S?ae<=p:ae<p)?T=Y+1:R=Y}return R}return V1(h,p,Ws,S)}function V1(h,p,S,T){var R=0,Y=h==null?0:h.length;if(Y===0)return 0;p=S(p);for(var ae=p!==p,me=p===null,be=ui(p),Oe=p===n;R<Y;){var De=nx((R+Y)/2),Fe=S(h[De]),Qe=Fe!==n,lt=Fe===null,gt=Fe===Fe,zt=ui(Fe);if(ae)var vt=T||gt;else Oe?vt=gt&&(T||Qe):me?vt=gt&&Qe&&(T||!lt):be?vt=gt&&Qe&&!lt&&(T||!zt):lt||zt?vt=!1:vt=T?Fe<=p:Fe<p;vt?R=De+1:Y=De}return os(Y,re)}function $k(h,p){for(var S=-1,T=h.length,R=0,Y=[];++S<T;){var ae=h[S],me=p?p(ae):ae;if(!S||!ca(me,be)){var be=me;Y[R++]=ae===0?0:ae}}return Y}function Rk(h){return typeof h=="number"?h:ui(h)?oe:+h}function ci(h){if(typeof h=="string")return h;if(Mt(h))return Hn(h,ci)+"";if(ui(h))return pk?pk.call(h):"";var p=h+"";return p=="0"&&1/h==-J?"-0":p}function Al(h,p,S){var T=-1,R=Uv,Y=h.length,ae=!0,me=[],be=me;if(S)ae=!1,R=v1;else if(Y>=i){var Oe=p?null:$G(h);if(Oe)return Wv(Oe);ae=!1,R=Cm,be=new Kc}else be=p?[]:me;e:for(;++T<Y;){var De=h[T],Fe=p?p(De):De;if(De=S||De!==0?De:0,ae&&Fe===Fe){for(var Qe=be.length;Qe--;)if(be[Qe]===Fe)continue e;p&&be.push(Fe),me.push(De)}else R(be,Fe,S)||(be!==me&&be.push(Fe),me.push(De))}return me}function U1(h,p){return p=El(p,h),h=dO(h,p),h==null||delete h[Ka($i(p))]}function Lk(h,p,S,T){return Im(h,p,S(Qc(h,p)),T)}function dx(h,p,S,T){for(var R=h.length,Y=T?R:-1;(T?Y--:++Y<R)&&p(h[Y],Y,h););return S?Ii(h,T?0:Y,T?Y+1:R):Ii(h,T?Y+1:0,T?R:Y)}function Fk(h,p){var S=h;return S instanceof en&&(S=S.value()),x1(p,function(T,R){return R.func.apply(R.thisArg,Sl([T],R.args))},S)}function q1(h,p,S){var T=h.length;if(T<2)return T?Al(h[0]):[];for(var R=-1,Y=_e(T);++R<T;)for(var ae=h[R],me=-1;++me<T;)me!=R&&(Y[R]=Om(Y[R]||ae,h[me],p,S));return Al(Zr(Y,1),p,S)}function Bk(h,p,S){for(var T=-1,R=h.length,Y=p.length,ae={};++T<R;){var me=T<Y?p[T]:n;S(ae,h[T],me)}return ae}function W1(h){return hr(h)?h:[]}function H1(h){return typeof h=="function"?h:Ws}function El(h,p){return Mt(h)?h:tN(h,p)?[h]:pO(fn(h))}var _G=Ht;function Tl(h,p,S){var T=h.length;return S=S===n?T:S,!p&&S>=T?h:Ii(h,p,S)}var zk=fH||function(h){return Jr.clearTimeout(h)};function Vk(h,p){if(p)return h.slice();var S=h.length,T=ck?ck(S):new h.constructor(S);return h.copy(T),T}function G1(h){var p=new h.constructor(h.byteLength);return new Xv(p).set(new Xv(h)),p}function PG(h,p){var S=p?G1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.byteLength)}function AG(h){var p=new h.constructor(h.source,Dv.exec(h));return p.lastIndex=h.lastIndex,p}function EG(h){return Tm?En(Tm.call(h)):{}}function Uk(h,p){var S=p?G1(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}function qk(h,p){if(h!==p){var S=h!==n,T=h===null,R=h===h,Y=ui(h),ae=p!==n,me=p===null,be=p===p,Oe=ui(p);if(!me&&!Oe&&!Y&&h>p||Y&&ae&&be&&!me&&!Oe||T&&ae&&be||!S&&be||!R)return 1;if(!T&&!Y&&!Oe&&h<p||Oe&&S&&R&&!T&&!Y||me&&S&&R||!ae&&R||!be)return-1}return 0}function TG(h,p,S){for(var T=-1,R=h.criteria,Y=p.criteria,ae=R.length,me=S.length;++T<ae;){var be=qk(R[T],Y[T]);if(be){if(T>=me)return be;var Oe=S[T];return be*(Oe=="desc"?-1:1)}}return h.index-p.index}function Wk(h,p,S,T){for(var R=-1,Y=h.length,ae=S.length,me=-1,be=p.length,Oe=Cr(Y-ae,0),De=_e(be+Oe),Fe=!T;++me<be;)De[me]=p[me];for(;++R<ae;)(Fe||R<Y)&&(De[S[R]]=h[R]);for(;Oe--;)De[me++]=h[R++];return De}function Hk(h,p,S,T){for(var R=-1,Y=h.length,ae=-1,me=S.length,be=-1,Oe=p.length,De=Cr(Y-me,0),Fe=_e(De+Oe),Qe=!T;++R<De;)Fe[R]=h[R];for(var lt=R;++be<Oe;)Fe[lt+be]=p[be];for(;++ae<me;)(Qe||R<Y)&&(Fe[lt+S[ae]]=h[R++]);return Fe}function Vs(h,p){var S=-1,T=h.length;for(p||(p=_e(T));++S<T;)p[S]=h[S];return p}function Ga(h,p,S,T){var R=!S;S||(S={});for(var Y=-1,ae=p.length;++Y<ae;){var me=p[Y],be=T?T(S[me],h[me],me,S,h):n;be===n&&(be=h[me]),R?Po(S,me,be):km(S,me,be)}return S}function kG(h,p){return Ga(h,eN(h),p)}function OG(h,p){return Ga(h,iO(h),p)}function hx(h,p){return function(S,T){var R=Mt(S)?R9:eG,Y=p?p():{};return R(S,h,pt(T,2),Y)}}function Id(h){return Ht(function(p,S){var T=-1,R=S.length,Y=R>1?S[R-1]:n,ae=R>2?S[2]:n;for(Y=h.length>3&&typeof Y=="function"?(R--,Y):n,ae&&Ss(S[0],S[1],ae)&&(Y=R<3?n:Y,R=1),p=En(p);++T<R;){var me=S[T];me&&h(p,me,T,Y)}return p})}function Gk(h,p){return function(S,T){if(S==null)return S;if(!Us(S))return h(S,T);for(var R=S.length,Y=p?R:-1,ae=En(S);(p?Y--:++Y<R)&&T(ae[Y],Y,ae)!==!1;);return S}}function Kk(h){return function(p,S,T){for(var R=-1,Y=En(p),ae=T(p),me=ae.length;me--;){var be=ae[h?me:++R];if(S(Y[be],be,Y)===!1)break}return p}}function DG(h,p,S){var T=p&y,R=$m(h);function Y(){var ae=this&&this!==Jr&&this instanceof Y?R:h;return ae.apply(T?S:this,arguments)}return Y}function Yk(h){return function(p){p=fn(p);var S=Ad(p)?oa(p):n,T=S?S[0]:p.charAt(0),R=S?Tl(S,1).join(""):p.slice(1);return T[h]()+R}}function $d(h){return function(p){return x1(GO(HO(p).replace(a1,"")),h,"")}}function $m(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=Md(h.prototype),T=h.apply(S,p);return Jn(T)?T:S}}function MG(h,p,S){var T=$m(h);function R(){for(var Y=arguments.length,ae=_e(Y),me=Y,be=Rd(R);me--;)ae[me]=arguments[me];var Oe=Y<3&&ae[0]!==be&&ae[Y-1]!==be?[]:Cl(ae,be);if(Y-=Oe.length,Y<S)return eO(h,p,fx,R.placeholder,n,ae,Oe,n,n,S-Y);var De=this&&this!==Jr&&this instanceof R?T:h;return oi(De,this,ae)}return R}function Qk(h){return function(p,S,T){var R=En(p);if(!Us(p)){var Y=pt(S,3);p=Fr(p),S=function(me){return Y(R[me],me,R)}}var ae=h(p,S,T);return ae>-1?R[Y?p[ae]:ae]:n}}function Xk(h){return Eo(function(p){var S=p.length,T=S,R=Di.prototype.thru;for(h&&p.reverse();T--;){var Y=p[T];if(typeof Y!="function")throw new Oi(o);if(R&&!ae&&vx(Y)=="wrapper")var ae=new Di([],!0)}for(T=ae?T:S;++T<S;){Y=p[T];var me=vx(Y),be=me=="wrapper"?J1(Y):n;be&&nN(be[0])&&be[1]==(P|b|_|E)&&!be[4].length&&be[9]==1?ae=ae[vx(be[0])].apply(ae,be[3]):ae=Y.length==1&&nN(Y)?ae[me]():ae.thru(Y)}return function(){var Oe=arguments,De=Oe[0];if(ae&&Oe.length==1&&Mt(De))return ae.plant(De).value();for(var Fe=0,Qe=S?p[Fe].apply(this,Oe):De;++Fe<S;)Qe=p[Fe].call(this,Qe);return Qe}})}function fx(h,p,S,T,R,Y,ae,me,be,Oe){var De=p&P,Fe=p&y,Qe=p&N,lt=p&(b|C),gt=p&D,zt=Qe?n:$m(h);function vt(){for(var Gt=arguments.length,nn=_e(Gt),di=Gt;di--;)nn[di]=arguments[di];if(lt)var Cs=Rd(vt),hi=H9(nn,Cs);if(T&&(nn=Wk(nn,T,R,lt)),Y&&(nn=Hk(nn,Y,ae,lt)),Gt-=hi,lt&&Gt<Oe){var fr=Cl(nn,Cs);return eO(h,p,fx,vt.placeholder,S,nn,fr,me,be,Oe-Gt)}var ua=Fe?S:this,Do=Qe?ua[h]:h;return Gt=nn.length,me?nn=eK(nn,me):gt&&Gt>1&&nn.reverse(),De&&be<Gt&&(nn.length=be),this&&this!==Jr&&this instanceof vt&&(Do=zt||$m(Do)),Do.apply(ua,nn)}return vt}function Jk(h,p){return function(S,T){return lG(S,h,p(T),{})}}function mx(h,p){return function(S,T){var R;if(S===n&&T===n)return p;if(S!==n&&(R=S),T!==n){if(R===n)return T;typeof S=="string"||typeof T=="string"?(S=ci(S),T=ci(T)):(S=Rk(S),T=Rk(T)),R=h(S,T)}return R}}function K1(h){return Eo(function(p){return p=Hn(p,li(pt())),Ht(function(S){var T=this;return h(p,function(R){return oi(R,T,S)})})})}function px(h,p){p=p===n?" ":ci(p);var S=p.length;if(S<2)return S?z1(p,h):p;var T=z1(p,tx(h/Ed(p)));return Ad(p)?Tl(oa(T),0,h).join(""):T.slice(0,h)}function IG(h,p,S,T){var R=p&y,Y=$m(h);function ae(){for(var me=-1,be=arguments.length,Oe=-1,De=T.length,Fe=_e(De+be),Qe=this&&this!==Jr&&this instanceof ae?Y:h;++Oe<De;)Fe[Oe]=T[Oe];for(;be--;)Fe[Oe++]=arguments[++me];return oi(Qe,R?S:this,Fe)}return ae}function Zk(h){return function(p,S,T){return T&&typeof T!="number"&&Ss(p,S,T)&&(S=T=n),p=Oo(p),S===n?(S=p,p=0):S=Oo(S),T=T===n?p<S?1:-1:Oo(T),jG(p,S,T,h)}}function gx(h){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=Ri(p),S=Ri(S)),h(p,S)}}function eO(h,p,S,T,R,Y,ae,me,be,Oe){var De=p&b,Fe=De?ae:n,Qe=De?n:ae,lt=De?Y:n,gt=De?n:Y;p|=De?_:A,p&=~(De?A:_),p&j||(p&=~(y|N));var zt=[h,p,R,lt,Fe,gt,Qe,me,be,Oe],vt=S.apply(n,zt);return nN(h)&&hO(vt,zt),vt.placeholder=T,fO(vt,h,p)}function Y1(h){var p=Sr[h];return function(S,T){if(S=Ri(S),T=T==null?0:os(Ft(T),292),T&&fk(S)){var R=(fn(S)+"e").split("e"),Y=p(R[0]+"e"+(+R[1]+T));return R=(fn(Y)+"e").split("e"),+(R[0]+"e"+(+R[1]-T))}return p(S)}}var $G=Od&&1/Wv(new Od([,-0]))[1]==J?function(h){return new Od(h)}:vN;function tO(h){return function(p){var S=ls(p);return S==Ne?C1(p):S==qe?Z9(p):W9(p,h(p))}}function Ao(h,p,S,T,R,Y,ae,me){var be=p&N;if(!be&&typeof h!="function")throw new Oi(o);var Oe=T?T.length:0;if(Oe||(p&=~(_|A),T=R=n),ae=ae===n?ae:Cr(Ft(ae),0),me=me===n?me:Ft(me),Oe-=R?R.length:0,p&A){var De=T,Fe=R;T=R=n}var Qe=be?n:J1(h),lt=[h,p,S,T,R,De,Fe,Y,ae,me];if(Qe&&XG(lt,Qe),h=lt[0],p=lt[1],S=lt[2],T=lt[3],R=lt[4],me=lt[9]=lt[9]===n?be?0:h.length:Cr(lt[9]-Oe,0),!me&&p&(b|C)&&(p&=~(b|C)),!p||p==y)var gt=DG(h,p,S);else p==b||p==C?gt=MG(h,p,me):(p==_||p==(y|_))&&!R.length?gt=IG(h,p,S,T):gt=fx.apply(n,lt);var zt=Qe?Ik:hO;return fO(zt(gt,lt),h,p)}function nO(h,p,S,T){return h===n||ca(h,kd[S])&&!bn.call(T,S)?p:h}function rO(h,p,S,T,R,Y){return Jn(h)&&Jn(p)&&(Y.set(p,h),cx(h,p,n,rO,Y),Y.delete(p)),h}function RG(h){return Fm(h)?n:h}function sO(h,p,S,T,R,Y){var ae=S&x,me=h.length,be=p.length;if(me!=be&&!(ae&&be>me))return!1;var Oe=Y.get(h),De=Y.get(p);if(Oe&&De)return Oe==p&&De==h;var Fe=-1,Qe=!0,lt=S&v?new Kc:n;for(Y.set(h,p),Y.set(p,h);++Fe<me;){var gt=h[Fe],zt=p[Fe];if(T)var vt=ae?T(zt,gt,Fe,p,h,Y):T(gt,zt,Fe,h,p,Y);if(vt!==n){if(vt)continue;Qe=!1;break}if(lt){if(!y1(p,function(Gt,nn){if(!Cm(lt,nn)&&(gt===Gt||R(gt,Gt,S,T,Y)))return lt.push(nn)})){Qe=!1;break}}else if(!(gt===zt||R(gt,zt,S,T,Y))){Qe=!1;break}}return Y.delete(h),Y.delete(p),Qe}function LG(h,p,S,T,R,Y,ae){switch(S){case Qn:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case dr:return!(h.byteLength!=p.byteLength||!Y(new Xv(h),new Xv(p)));case z:case Q:case de:return ca(+h,+p);case K:return h.name==p.name&&h.message==p.message;case Se:case We:return h==p+"";case Ne:var me=C1;case qe:var be=T&x;if(me||(me=Wv),h.size!=p.size&&!be)return!1;var Oe=ae.get(h);if(Oe)return Oe==p;T|=v,ae.set(h,p);var De=sO(me(h),me(p),T,R,Y,ae);return ae.delete(h),De;case Lt:if(Tm)return Tm.call(h)==Tm.call(p)}return!1}function FG(h,p,S,T,R,Y){var ae=S&x,me=Q1(h),be=me.length,Oe=Q1(p),De=Oe.length;if(be!=De&&!ae)return!1;for(var Fe=be;Fe--;){var Qe=me[Fe];if(!(ae?Qe in p:bn.call(p,Qe)))return!1}var lt=Y.get(h),gt=Y.get(p);if(lt&&gt)return lt==p&&gt==h;var zt=!0;Y.set(h,p),Y.set(p,h);for(var vt=ae;++Fe<be;){Qe=me[Fe];var Gt=h[Qe],nn=p[Qe];if(T)var di=ae?T(nn,Gt,Qe,p,h,Y):T(Gt,nn,Qe,h,p,Y);if(!(di===n?Gt===nn||R(Gt,nn,S,T,Y):di)){zt=!1;break}vt||(vt=Qe=="constructor")}if(zt&&!vt){var Cs=h.constructor,hi=p.constructor;Cs!=hi&&"constructor"in h&&"constructor"in p&&!(typeof Cs=="function"&&Cs instanceof Cs&&typeof hi=="function"&&hi instanceof hi)&&(zt=!1)}return Y.delete(h),Y.delete(p),zt}function Eo(h){return sN(uO(h,n,yO),h+"")}function Q1(h){return Sk(h,Fr,eN)}function X1(h){return Sk(h,qs,iO)}var J1=rx?function(h){return rx.get(h)}:vN;function vx(h){for(var p=h.name+"",S=Dd[p],T=bn.call(Dd,p)?S.length:0;T--;){var R=S[T],Y=R.func;if(Y==null||Y==h)return R.name}return p}function Rd(h){var p=bn.call(H,"placeholder")?H:h;return p.placeholder}function pt(){var h=H.iteratee||pN;return h=h===pN?Pk:h,arguments.length?h(arguments[0],arguments[1]):h}function xx(h,p){var S=h.__data__;return GG(p)?S[typeof p=="string"?"string":"hash"]:S.map}function Z1(h){for(var p=Fr(h),S=p.length;S--;){var T=p[S],R=h[T];p[S]=[T,R,lO(R)]}return p}function Xc(h,p){var S=Q9(h,p);return _k(S)?S:n}function BG(h){var p=bn.call(h,Hc),S=h[Hc];try{h[Hc]=n;var T=!0}catch{}var R=Yv.call(h);return T&&(p?h[Hc]=S:delete h[Hc]),R}var eN=P1?function(h){return h==null?[]:(h=En(h),Nl(P1(h),function(p){return dk.call(h,p)}))}:xN,iO=P1?function(h){for(var p=[];h;)Sl(p,eN(h)),h=Jv(h);return p}:xN,ls=Ns;(A1&&ls(new A1(new ArrayBuffer(1)))!=Qn||Pm&&ls(new Pm)!=Ne||E1&&ls(E1.resolve())!=at||Od&&ls(new Od)!=qe||Am&&ls(new Am)!=Nt)&&(ls=function(h){var p=Ns(h),S=p==Ze?h.constructor:n,T=S?Jc(S):"";if(T)switch(T){case wH:return Qn;case NH:return Ne;case SH:return at;case CH:return qe;case _H:return Nt}return p});function zG(h,p,S){for(var T=-1,R=S.length;++T<R;){var Y=S[T],ae=Y.size;switch(Y.type){case"drop":h+=ae;break;case"dropRight":p-=ae;break;case"take":p=os(p,h+ae);break;case"takeRight":h=Cr(h,p-ae);break}}return{start:h,end:p}}function VG(h){var p=h.match(Fw);return p?p[1].split(Bw):[]}function aO(h,p,S){p=El(p,h);for(var T=-1,R=p.length,Y=!1;++T<R;){var ae=Ka(p[T]);if(!(Y=h!=null&&S(h,ae)))break;h=h[ae]}return Y||++T!=R?Y:(R=h==null?0:h.length,!!R&&Cx(R)&&To(ae,R)&&(Mt(h)||Zc(h)))}function UG(h){var p=h.length,S=new h.constructor(p);return p&&typeof h[0]=="string"&&bn.call(h,"index")&&(S.index=h.index,S.input=h.input),S}function oO(h){return typeof h.constructor=="function"&&!Rm(h)?Md(Jv(h)):{}}function qG(h,p,S){var T=h.constructor;switch(p){case dr:return G1(h);case z:case Q:return new T(+h);case Qn:return PG(h,S);case ys:case Ce:case Wt:case nt:case mt:case sn:case as:case Qr:case Bs:return Uk(h,S);case Ne:return new T;case de:case We:return new T(h);case Se:return AG(h);case qe:return new T;case Lt:return EG(h)}}function WG(h,p){var S=p.length;if(!S)return h;var T=S-1;return p[T]=(S>1?"& ":"")+p[T],p=p.join(S>2?", ":" "),h.replace(Lw,`{
/* [wrapped with `+p+`] */
`)}function HG(h){return Mt(h)||Zc(h)||!!(hk&&h&&h[hk])}function To(h,p){var S=typeof h;return p=p??q,!!p&&(S=="number"||S!="symbol"&&wd.test(h))&&h>-1&&h%1==0&&h<p}function Ss(h,p,S){if(!Jn(S))return!1;var T=typeof p;return(T=="number"?Us(S)&&To(p,S.length):T=="string"&&p in S)?ca(S[p],h):!1}function tN(h,p){if(Mt(h))return!1;var S=typeof h;return S=="number"||S=="symbol"||S=="boolean"||h==null||ui(h)?!0:bs.test(h)||!js.test(h)||p!=null&&h in En(p)}function GG(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function nN(h){var p=vx(h),S=H[p];if(typeof S!="function"||!(p in en.prototype))return!1;if(h===S)return!0;var T=J1(S);return!!T&&h===T[0]}function KG(h){return!!lk&&lk in h}var YG=Gv?ko:yN;function Rm(h){var p=h&&h.constructor,S=typeof p=="function"&&p.prototype||kd;return h===S}function lO(h){return h===h&&!Jn(h)}function cO(h,p){return function(S){return S==null?!1:S[h]===p&&(p!==n||h in En(S))}}function QG(h){var p=Nx(h,function(T){return S.size===u&&S.clear(),T}),S=p.cache;return p}function XG(h,p){var S=h[1],T=p[1],R=S|T,Y=R<(y|N|P),ae=T==P&&S==b||T==P&&S==E&&h[7].length<=p[8]||T==(P|E)&&p[7].length<=p[8]&&S==b;if(!(Y||ae))return h;T&y&&(h[2]=p[2],R|=S&y?0:j);var me=p[3];if(me){var be=h[3];h[3]=be?Wk(be,me,p[4]):me,h[4]=be?Cl(h[3],d):p[4]}return me=p[5],me&&(be=h[5],h[5]=be?Hk(be,me,p[6]):me,h[6]=be?Cl(h[5],d):p[6]),me=p[7],me&&(h[7]=me),T&P&&(h[8]=h[8]==null?p[8]:os(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=R,h}function JG(h){var p=[];if(h!=null)for(var S in En(h))p.push(S);return p}function ZG(h){return Yv.call(h)}function uO(h,p,S){return p=Cr(p===n?h.length-1:p,0),function(){for(var T=arguments,R=-1,Y=Cr(T.length-p,0),ae=_e(Y);++R<Y;)ae[R]=T[p+R];R=-1;for(var me=_e(p+1);++R<p;)me[R]=T[R];return me[p]=S(ae),oi(h,this,me)}}function dO(h,p){return p.length<2?h:Qc(h,Ii(p,0,-1))}function eK(h,p){for(var S=h.length,T=os(p.length,S),R=Vs(h);T--;){var Y=p[T];h[T]=To(Y,S)?R[Y]:n}return h}function rN(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var hO=mO(Ik),Lm=pH||function(h,p){return Jr.setTimeout(h,p)},sN=mO(NG);function fO(h,p,S){var T=p+"";return sN(h,WG(T,tK(VG(T),S)))}function mO(h){var p=0,S=0;return function(){var T=yH(),R=L-(T-S);if(S=T,R>0){if(++p>=O)return arguments[0]}else p=0;return h.apply(n,arguments)}}function yx(h,p){var S=-1,T=h.length,R=T-1;for(p=p===n?T:p;++S<p;){var Y=B1(S,R),ae=h[Y];h[Y]=h[S],h[S]=ae}return h.length=p,h}var pO=QG(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(Ei,function(S,T,R,Y){p.push(R?Y.replace(Uw,"$1"):T||S)}),p});function Ka(h){if(typeof h=="string"||ui(h))return h;var p=h+"";return p=="0"&&1/h==-J?"-0":p}function Jc(h){if(h!=null){try{return Kv.call(h)}catch{}try{return h+""}catch{}}return""}function tK(h,p){return ki(ne,function(S){var T="_."+S[0];p&S[1]&&!Uv(h,T)&&h.push(T)}),h.sort()}function gO(h){if(h instanceof en)return h.clone();var p=new Di(h.__wrapped__,h.__chain__);return p.__actions__=Vs(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function nK(h,p,S){(S?Ss(h,p,S):p===n)?p=1:p=Cr(Ft(p),0);var T=h==null?0:h.length;if(!T||p<1)return[];for(var R=0,Y=0,ae=_e(tx(T/p));R<T;)ae[Y++]=Ii(h,R,R+=p);return ae}function rK(h){for(var p=-1,S=h==null?0:h.length,T=0,R=[];++p<S;){var Y=h[p];Y&&(R[T++]=Y)}return R}function sK(){var h=arguments.length;if(!h)return[];for(var p=_e(h-1),S=arguments[0],T=h;T--;)p[T-1]=arguments[T];return Sl(Mt(S)?Vs(S):[S],Zr(p,1))}var iK=Ht(function(h,p){return hr(h)?Om(h,Zr(p,1,hr,!0)):[]}),aK=Ht(function(h,p){var S=$i(p);return hr(S)&&(S=n),hr(h)?Om(h,Zr(p,1,hr,!0),pt(S,2)):[]}),oK=Ht(function(h,p){var S=$i(p);return hr(S)&&(S=n),hr(h)?Om(h,Zr(p,1,hr,!0),n,S):[]});function lK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Ft(p),Ii(h,p<0?0:p,T)):[]}function cK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Ft(p),p=T-p,Ii(h,0,p<0?0:p)):[]}function uK(h,p){return h&&h.length?dx(h,pt(p,3),!0,!0):[]}function dK(h,p){return h&&h.length?dx(h,pt(p,3),!0):[]}function hK(h,p,S,T){var R=h==null?0:h.length;return R?(S&&typeof S!="number"&&Ss(h,p,S)&&(S=0,T=R),sG(h,p,S,T)):[]}function vO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Ft(S);return R<0&&(R=Cr(T+R,0)),qv(h,pt(p,3),R)}function xO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T-1;return S!==n&&(R=Ft(S),R=S<0?Cr(T+R,0):os(R,T-1)),qv(h,pt(p,3),R,!0)}function yO(h){var p=h==null?0:h.length;return p?Zr(h,1):[]}function fK(h){var p=h==null?0:h.length;return p?Zr(h,J):[]}function mK(h,p){var S=h==null?0:h.length;return S?(p=p===n?1:Ft(p),Zr(h,p)):[]}function pK(h){for(var p=-1,S=h==null?0:h.length,T={};++p<S;){var R=h[p];T[R[0]]=R[1]}return T}function jO(h){return h&&h.length?h[0]:n}function gK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Ft(S);return R<0&&(R=Cr(T+R,0)),Pd(h,p,R)}function vK(h){var p=h==null?0:h.length;return p?Ii(h,0,-1):[]}var xK=Ht(function(h){var p=Hn(h,W1);return p.length&&p[0]===h[0]?I1(p):[]}),yK=Ht(function(h){var p=$i(h),S=Hn(h,W1);return p===$i(S)?p=n:S.pop(),S.length&&S[0]===h[0]?I1(S,pt(p,2)):[]}),jK=Ht(function(h){var p=$i(h),S=Hn(h,W1);return p=typeof p=="function"?p:n,p&&S.pop(),S.length&&S[0]===h[0]?I1(S,n,p):[]});function bK(h,p){return h==null?"":vH.call(h,p)}function $i(h){var p=h==null?0:h.length;return p?h[p-1]:n}function wK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T;return S!==n&&(R=Ft(S),R=R<0?Cr(T+R,0):os(R,T-1)),p===p?tH(h,p,R):qv(h,ek,R,!0)}function NK(h,p){return h&&h.length?kk(h,Ft(p)):n}var SK=Ht(bO);function bO(h,p){return h&&h.length&&p&&p.length?F1(h,p):h}function CK(h,p,S){return h&&h.length&&p&&p.length?F1(h,p,pt(S,2)):h}function _K(h,p,S){return h&&h.length&&p&&p.length?F1(h,p,n,S):h}var PK=Eo(function(h,p){var S=h==null?0:h.length,T=k1(h,p);return Mk(h,Hn(p,function(R){return To(R,S)?+R:R}).sort(qk)),T});function AK(h,p){var S=[];if(!(h&&h.length))return S;var T=-1,R=[],Y=h.length;for(p=pt(p,3);++T<Y;){var ae=h[T];p(ae,T,h)&&(S.push(ae),R.push(T))}return Mk(h,R),S}function iN(h){return h==null?h:bH.call(h)}function EK(h,p,S){var T=h==null?0:h.length;return T?(S&&typeof S!="number"&&Ss(h,p,S)?(p=0,S=T):(p=p==null?0:Ft(p),S=S===n?T:Ft(S)),Ii(h,p,S)):[]}function TK(h,p){return ux(h,p)}function kK(h,p,S){return V1(h,p,pt(S,2))}function OK(h,p){var S=h==null?0:h.length;if(S){var T=ux(h,p);if(T<S&&ca(h[T],p))return T}return-1}function DK(h,p){return ux(h,p,!0)}function MK(h,p,S){return V1(h,p,pt(S,2),!0)}function IK(h,p){var S=h==null?0:h.length;if(S){var T=ux(h,p,!0)-1;if(ca(h[T],p))return T}return-1}function $K(h){return h&&h.length?$k(h):[]}function RK(h,p){return h&&h.length?$k(h,pt(p,2)):[]}function LK(h){var p=h==null?0:h.length;return p?Ii(h,1,p):[]}function FK(h,p,S){return h&&h.length?(p=S||p===n?1:Ft(p),Ii(h,0,p<0?0:p)):[]}function BK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Ft(p),p=T-p,Ii(h,p<0?0:p,T)):[]}function zK(h,p){return h&&h.length?dx(h,pt(p,3),!1,!0):[]}function VK(h,p){return h&&h.length?dx(h,pt(p,3)):[]}var UK=Ht(function(h){return Al(Zr(h,1,hr,!0))}),qK=Ht(function(h){var p=$i(h);return hr(p)&&(p=n),Al(Zr(h,1,hr,!0),pt(p,2))}),WK=Ht(function(h){var p=$i(h);return p=typeof p=="function"?p:n,Al(Zr(h,1,hr,!0),n,p)});function HK(h){return h&&h.length?Al(h):[]}function GK(h,p){return h&&h.length?Al(h,pt(p,2)):[]}function KK(h,p){return p=typeof p=="function"?p:n,h&&h.length?Al(h,n,p):[]}function aN(h){if(!(h&&h.length))return[];var p=0;return h=Nl(h,function(S){if(hr(S))return p=Cr(S.length,p),!0}),N1(p,function(S){return Hn(h,j1(S))})}function wO(h,p){if(!(h&&h.length))return[];var S=aN(h);return p==null?S:Hn(S,function(T){return oi(p,n,T)})}var YK=Ht(function(h,p){return hr(h)?Om(h,p):[]}),QK=Ht(function(h){return q1(Nl(h,hr))}),XK=Ht(function(h){var p=$i(h);return hr(p)&&(p=n),q1(Nl(h,hr),pt(p,2))}),JK=Ht(function(h){var p=$i(h);return p=typeof p=="function"?p:n,q1(Nl(h,hr),n,p)}),ZK=Ht(aN);function eY(h,p){return Bk(h||[],p||[],km)}function tY(h,p){return Bk(h||[],p||[],Im)}var nY=Ht(function(h){var p=h.length,S=p>1?h[p-1]:n;return S=typeof S=="function"?(h.pop(),S):n,wO(h,S)});function NO(h){var p=H(h);return p.__chain__=!0,p}function rY(h,p){return p(h),h}function jx(h,p){return p(h)}var sY=Eo(function(h){var p=h.length,S=p?h[0]:0,T=this.__wrapped__,R=function(Y){return k1(Y,h)};return p>1||this.__actions__.length||!(T instanceof en)||!To(S)?this.thru(R):(T=T.slice(S,+S+(p?1:0)),T.__actions__.push({func:jx,args:[R],thisArg:n}),new Di(T,this.__chain__).thru(function(Y){return p&&!Y.length&&Y.push(n),Y}))});function iY(){return NO(this)}function aY(){return new Di(this.value(),this.__chain__)}function oY(){this.__values__===n&&(this.__values__=RO(this.value()));var h=this.__index__>=this.__values__.length,p=h?n:this.__values__[this.__index__++];return{done:h,value:p}}function lY(){return this}function cY(h){for(var p,S=this;S instanceof ix;){var T=gO(S);T.__index__=0,T.__values__=n,p?R.__wrapped__=T:p=T;var R=T;S=S.__wrapped__}return R.__wrapped__=h,p}function uY(){var h=this.__wrapped__;if(h instanceof en){var p=h;return this.__actions__.length&&(p=new en(this)),p=p.reverse(),p.__actions__.push({func:jx,args:[iN],thisArg:n}),new Di(p,this.__chain__)}return this.thru(iN)}function dY(){return Fk(this.__wrapped__,this.__actions__)}var hY=hx(function(h,p,S){bn.call(h,S)?++h[S]:Po(h,S,1)});function fY(h,p,S){var T=Mt(h)?JT:rG;return S&&Ss(h,p,S)&&(p=n),T(h,pt(p,3))}function mY(h,p){var S=Mt(h)?Nl:wk;return S(h,pt(p,3))}var pY=Qk(vO),gY=Qk(xO);function vY(h,p){return Zr(bx(h,p),1)}function xY(h,p){return Zr(bx(h,p),J)}function yY(h,p,S){return S=S===n?1:Ft(S),Zr(bx(h,p),S)}function SO(h,p){var S=Mt(h)?ki:Pl;return S(h,pt(p,3))}function CO(h,p){var S=Mt(h)?L9:bk;return S(h,pt(p,3))}var jY=hx(function(h,p,S){bn.call(h,S)?h[S].push(p):Po(h,S,[p])});function bY(h,p,S,T){h=Us(h)?h:Fd(h),S=S&&!T?Ft(S):0;var R=h.length;return S<0&&(S=Cr(R+S,0)),_x(h)?S<=R&&h.indexOf(p,S)>-1:!!R&&Pd(h,p,S)>-1}var wY=Ht(function(h,p,S){var T=-1,R=typeof p=="function",Y=Us(h)?_e(h.length):[];return Pl(h,function(ae){Y[++T]=R?oi(p,ae,S):Dm(ae,p,S)}),Y}),NY=hx(function(h,p,S){Po(h,S,p)});function bx(h,p){var S=Mt(h)?Hn:Ak;return S(h,pt(p,3))}function SY(h,p,S,T){return h==null?[]:(Mt(p)||(p=p==null?[]:[p]),S=T?n:S,Mt(S)||(S=S==null?[]:[S]),Ok(h,p,S))}var CY=hx(function(h,p,S){h[S?0:1].push(p)},function(){return[[],[]]});function _Y(h,p,S){var T=Mt(h)?x1:nk,R=arguments.length<3;return T(h,pt(p,4),S,R,Pl)}function PY(h,p,S){var T=Mt(h)?F9:nk,R=arguments.length<3;return T(h,pt(p,4),S,R,bk)}function AY(h,p){var S=Mt(h)?Nl:wk;return S(h,Sx(pt(p,3)))}function EY(h){var p=Mt(h)?vk:bG;return p(h)}function TY(h,p,S){(S?Ss(h,p,S):p===n)?p=1:p=Ft(p);var T=Mt(h)?JH:wG;return T(h,p)}function kY(h){var p=Mt(h)?ZH:SG;return p(h)}function OY(h){if(h==null)return 0;if(Us(h))return _x(h)?Ed(h):h.length;var p=ls(h);return p==Ne||p==qe?h.size:R1(h).length}function DY(h,p,S){var T=Mt(h)?y1:CG;return S&&Ss(h,p,S)&&(p=n),T(h,pt(p,3))}var MY=Ht(function(h,p){if(h==null)return[];var S=p.length;return S>1&&Ss(h,p[0],p[1])?p=[]:S>2&&Ss(p[0],p[1],p[2])&&(p=[p[0]]),Ok(h,Zr(p,1),[])}),wx=mH||function(){return Jr.Date.now()};function IY(h,p){if(typeof p!="function")throw new Oi(o);return h=Ft(h),function(){if(--h<1)return p.apply(this,arguments)}}function _O(h,p,S){return p=S?n:p,p=h&&p==null?h.length:p,Ao(h,P,n,n,n,n,p)}function PO(h,p){var S;if(typeof p!="function")throw new Oi(o);return h=Ft(h),function(){return--h>0&&(S=p.apply(this,arguments)),h<=1&&(p=n),S}}var oN=Ht(function(h,p,S){var T=y;if(S.length){var R=Cl(S,Rd(oN));T|=_}return Ao(h,T,p,S,R)}),AO=Ht(function(h,p,S){var T=y|N;if(S.length){var R=Cl(S,Rd(AO));T|=_}return Ao(p,T,h,S,R)});function EO(h,p,S){p=S?n:p;var T=Ao(h,b,n,n,n,n,n,p);return T.placeholder=EO.placeholder,T}function TO(h,p,S){p=S?n:p;var T=Ao(h,C,n,n,n,n,n,p);return T.placeholder=TO.placeholder,T}function kO(h,p,S){var T,R,Y,ae,me,be,Oe=0,De=!1,Fe=!1,Qe=!0;if(typeof h!="function")throw new Oi(o);p=Ri(p)||0,Jn(S)&&(De=!!S.leading,Fe="maxWait"in S,Y=Fe?Cr(Ri(S.maxWait)||0,p):Y,Qe="trailing"in S?!!S.trailing:Qe);function lt(fr){var ua=T,Do=R;return T=R=n,Oe=fr,ae=h.apply(Do,ua),ae}function gt(fr){return Oe=fr,me=Lm(Gt,p),De?lt(fr):ae}function zt(fr){var ua=fr-be,Do=fr-Oe,QO=p-ua;return Fe?os(QO,Y-Do):QO}function vt(fr){var ua=fr-be,Do=fr-Oe;return be===n||ua>=p||ua<0||Fe&&Do>=Y}function Gt(){var fr=wx();if(vt(fr))return nn(fr);me=Lm(Gt,zt(fr))}function nn(fr){return me=n,Qe&&T?lt(fr):(T=R=n,ae)}function di(){me!==n&&zk(me),Oe=0,T=be=R=me=n}function Cs(){return me===n?ae:nn(wx())}function hi(){var fr=wx(),ua=vt(fr);if(T=arguments,R=this,be=fr,ua){if(me===n)return gt(be);if(Fe)return zk(me),me=Lm(Gt,p),lt(be)}return me===n&&(me=Lm(Gt,p)),ae}return hi.cancel=di,hi.flush=Cs,hi}var $Y=Ht(function(h,p){return jk(h,1,p)}),RY=Ht(function(h,p,S){return jk(h,Ri(p)||0,S)});function LY(h){return Ao(h,D)}function Nx(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new Oi(o);var S=function(){var T=arguments,R=p?p.apply(this,T):T[0],Y=S.cache;if(Y.has(R))return Y.get(R);var ae=h.apply(this,T);return S.cache=Y.set(R,ae)||Y,ae};return S.cache=new(Nx.Cache||_o),S}Nx.Cache=_o;function Sx(h){if(typeof h!="function")throw new Oi(o);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function FY(h){return PO(2,h)}var BY=_G(function(h,p){p=p.length==1&&Mt(p[0])?Hn(p[0],li(pt())):Hn(Zr(p,1),li(pt()));var S=p.length;return Ht(function(T){for(var R=-1,Y=os(T.length,S);++R<Y;)T[R]=p[R].call(this,T[R]);return oi(h,this,T)})}),lN=Ht(function(h,p){var S=Cl(p,Rd(lN));return Ao(h,_,n,p,S)}),OO=Ht(function(h,p){var S=Cl(p,Rd(OO));return Ao(h,A,n,p,S)}),zY=Eo(function(h,p){return Ao(h,E,n,n,n,p)});function VY(h,p){if(typeof h!="function")throw new Oi(o);return p=p===n?p:Ft(p),Ht(h,p)}function UY(h,p){if(typeof h!="function")throw new Oi(o);return p=p==null?0:Cr(Ft(p),0),Ht(function(S){var T=S[p],R=Tl(S,0,p);return T&&Sl(R,T),oi(h,this,R)})}function qY(h,p,S){var T=!0,R=!0;if(typeof h!="function")throw new Oi(o);return Jn(S)&&(T="leading"in S?!!S.leading:T,R="trailing"in S?!!S.trailing:R),kO(h,p,{leading:T,maxWait:p,trailing:R})}function WY(h){return _O(h,1)}function HY(h,p){return lN(H1(p),h)}function GY(){if(!arguments.length)return[];var h=arguments[0];return Mt(h)?h:[h]}function KY(h){return Mi(h,g)}function YY(h,p){return p=typeof p=="function"?p:n,Mi(h,g,p)}function QY(h){return Mi(h,f|g)}function XY(h,p){return p=typeof p=="function"?p:n,Mi(h,f|g,p)}function JY(h,p){return p==null||yk(h,p,Fr(p))}function ca(h,p){return h===p||h!==h&&p!==p}var ZY=gx(M1),eQ=gx(function(h,p){return h>=p}),Zc=Ck(function(){return arguments}())?Ck:function(h){return rr(h)&&bn.call(h,"callee")&&!dk.call(h,"callee")},Mt=_e.isArray,tQ=HT?li(HT):cG;function Us(h){return h!=null&&Cx(h.length)&&!ko(h)}function hr(h){return rr(h)&&Us(h)}function nQ(h){return h===!0||h===!1||rr(h)&&Ns(h)==z}var kl=gH||yN,rQ=GT?li(GT):uG;function sQ(h){return rr(h)&&h.nodeType===1&&!Fm(h)}function iQ(h){if(h==null)return!0;if(Us(h)&&(Mt(h)||typeof h=="string"||typeof h.splice=="function"||kl(h)||Ld(h)||Zc(h)))return!h.length;var p=ls(h);if(p==Ne||p==qe)return!h.size;if(Rm(h))return!R1(h).length;for(var S in h)if(bn.call(h,S))return!1;return!0}function aQ(h,p){return Mm(h,p)}function oQ(h,p,S){S=typeof S=="function"?S:n;var T=S?S(h,p):n;return T===n?Mm(h,p,n,S):!!T}function cN(h){if(!rr(h))return!1;var p=Ns(h);return p==K||p==te||typeof h.message=="string"&&typeof h.name=="string"&&!Fm(h)}function lQ(h){return typeof h=="number"&&fk(h)}function ko(h){if(!Jn(h))return!1;var p=Ns(h);return p==M||p==xe||p==we||p==dt}function DO(h){return typeof h=="number"&&h==Ft(h)}function Cx(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=q}function Jn(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function rr(h){return h!=null&&typeof h=="object"}var MO=KT?li(KT):hG;function cQ(h,p){return h===p||$1(h,p,Z1(p))}function uQ(h,p,S){return S=typeof S=="function"?S:n,$1(h,p,Z1(p),S)}function dQ(h){return IO(h)&&h!=+h}function hQ(h){if(YG(h))throw new kt(a);return _k(h)}function fQ(h){return h===null}function mQ(h){return h==null}function IO(h){return typeof h=="number"||rr(h)&&Ns(h)==de}function Fm(h){if(!rr(h)||Ns(h)!=Ze)return!1;var p=Jv(h);if(p===null)return!0;var S=bn.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&Kv.call(S)==uH}var uN=YT?li(YT):fG;function pQ(h){return DO(h)&&h>=-q&&h<=q}var $O=QT?li(QT):mG;function _x(h){return typeof h=="string"||!Mt(h)&&rr(h)&&Ns(h)==We}function ui(h){return typeof h=="symbol"||rr(h)&&Ns(h)==Lt}var Ld=XT?li(XT):pG;function gQ(h){return h===n}function vQ(h){return rr(h)&&ls(h)==Nt}function xQ(h){return rr(h)&&Ns(h)==hn}var yQ=gx(L1),jQ=gx(function(h,p){return h<=p});function RO(h){if(!h)return[];if(Us(h))return _x(h)?oa(h):Vs(h);if(_m&&h[_m])return J9(h[_m]());var p=ls(h),S=p==Ne?C1:p==qe?Wv:Fd;return S(h)}function Oo(h){if(!h)return h===0?h:0;if(h=Ri(h),h===J||h===-J){var p=h<0?-1:1;return p*$}return h===h?h:0}function Ft(h){var p=Oo(h),S=p%1;return p===p?S?p-S:p:0}function LO(h){return h?Yc(Ft(h),0,ge):0}function Ri(h){if(typeof h=="number")return h;if(ui(h))return oe;if(Jn(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Jn(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=rk(h);var S=Hw.test(h);return S||jm.test(h)?I9(h.slice(2),S?2:8):Ww.test(h)?oe:+h}function FO(h){return Ga(h,qs(h))}function bQ(h){return h?Yc(Ft(h),-q,q):h===0?h:0}function fn(h){return h==null?"":ci(h)}var wQ=Id(function(h,p){if(Rm(p)||Us(p)){Ga(p,Fr(p),h);return}for(var S in p)bn.call(p,S)&&km(h,S,p[S])}),BO=Id(function(h,p){Ga(p,qs(p),h)}),Px=Id(function(h,p,S,T){Ga(p,qs(p),h,T)}),NQ=Id(function(h,p,S,T){Ga(p,Fr(p),h,T)}),SQ=Eo(k1);function CQ(h,p){var S=Md(h);return p==null?S:xk(S,p)}var _Q=Ht(function(h,p){h=En(h);var S=-1,T=p.length,R=T>2?p[2]:n;for(R&&Ss(p[0],p[1],R)&&(T=1);++S<T;)for(var Y=p[S],ae=qs(Y),me=-1,be=ae.length;++me<be;){var Oe=ae[me],De=h[Oe];(De===n||ca(De,kd[Oe])&&!bn.call(h,Oe))&&(h[Oe]=Y[Oe])}return h}),PQ=Ht(function(h){return h.push(n,rO),oi(zO,n,h)});function AQ(h,p){return ZT(h,pt(p,3),Ha)}function EQ(h,p){return ZT(h,pt(p,3),D1)}function TQ(h,p){return h==null?h:O1(h,pt(p,3),qs)}function kQ(h,p){return h==null?h:Nk(h,pt(p,3),qs)}function OQ(h,p){return h&&Ha(h,pt(p,3))}function DQ(h,p){return h&&D1(h,pt(p,3))}function MQ(h){return h==null?[]:lx(h,Fr(h))}function IQ(h){return h==null?[]:lx(h,qs(h))}function dN(h,p,S){var T=h==null?n:Qc(h,p);return T===n?S:T}function $Q(h,p){return h!=null&&aO(h,p,iG)}function hN(h,p){return h!=null&&aO(h,p,aG)}var RQ=Jk(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Yv.call(p)),h[p]=S},mN(Ws)),LQ=Jk(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Yv.call(p)),bn.call(h,p)?h[p].push(S):h[p]=[S]},pt),FQ=Ht(Dm);function Fr(h){return Us(h)?gk(h):R1(h)}function qs(h){return Us(h)?gk(h,!0):gG(h)}function BQ(h,p){var S={};return p=pt(p,3),Ha(h,function(T,R,Y){Po(S,p(T,R,Y),T)}),S}function zQ(h,p){var S={};return p=pt(p,3),Ha(h,function(T,R,Y){Po(S,R,p(T,R,Y))}),S}var VQ=Id(function(h,p,S){cx(h,p,S)}),zO=Id(function(h,p,S,T){cx(h,p,S,T)}),UQ=Eo(function(h,p){var S={};if(h==null)return S;var T=!1;p=Hn(p,function(Y){return Y=El(Y,h),T||(T=Y.length>1),Y}),Ga(h,X1(h),S),T&&(S=Mi(S,f|m|g,RG));for(var R=p.length;R--;)U1(S,p[R]);return S});function qQ(h,p){return VO(h,Sx(pt(p)))}var WQ=Eo(function(h,p){return h==null?{}:xG(h,p)});function VO(h,p){if(h==null)return{};var S=Hn(X1(h),function(T){return[T]});return p=pt(p),Dk(h,S,function(T,R){return p(T,R[0])})}function HQ(h,p,S){p=El(p,h);var T=-1,R=p.length;for(R||(R=1,h=n);++T<R;){var Y=h==null?n:h[Ka(p[T])];Y===n&&(T=R,Y=S),h=ko(Y)?Y.call(h):Y}return h}function GQ(h,p,S){return h==null?h:Im(h,p,S)}function KQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:Im(h,p,S,T)}var UO=tO(Fr),qO=tO(qs);function YQ(h,p,S){var T=Mt(h),R=T||kl(h)||Ld(h);if(p=pt(p,4),S==null){var Y=h&&h.constructor;R?S=T?new Y:[]:Jn(h)?S=ko(Y)?Md(Jv(h)):{}:S={}}return(R?ki:Ha)(h,function(ae,me,be){return p(S,ae,me,be)}),S}function QQ(h,p){return h==null?!0:U1(h,p)}function XQ(h,p,S){return h==null?h:Lk(h,p,H1(S))}function JQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:Lk(h,p,H1(S),T)}function Fd(h){return h==null?[]:S1(h,Fr(h))}function ZQ(h){return h==null?[]:S1(h,qs(h))}function eX(h,p,S){return S===n&&(S=p,p=n),S!==n&&(S=Ri(S),S=S===S?S:0),p!==n&&(p=Ri(p),p=p===p?p:0),Yc(Ri(h),p,S)}function tX(h,p,S){return p=Oo(p),S===n?(S=p,p=0):S=Oo(S),h=Ri(h),oG(h,p,S)}function nX(h,p,S){if(S&&typeof S!="boolean"&&Ss(h,p,S)&&(p=S=n),S===n&&(typeof p=="boolean"?(S=p,p=n):typeof h=="boolean"&&(S=h,h=n)),h===n&&p===n?(h=0,p=1):(h=Oo(h),p===n?(p=h,h=0):p=Oo(p)),h>p){var T=h;h=p,p=T}if(S||h%1||p%1){var R=mk();return os(h+R*(p-h+M9("1e-"+((R+"").length-1))),p)}return B1(h,p)}var rX=$d(function(h,p,S){return p=p.toLowerCase(),h+(S?WO(p):p)});function WO(h){return fN(fn(h).toLowerCase())}function HO(h){return h=fn(h),h&&h.replace(Kw,G9).replace(o1,"")}function sX(h,p,S){h=fn(h),p=ci(p);var T=h.length;S=S===n?T:Yc(Ft(S),0,T);var R=S;return S-=p.length,S>=0&&h.slice(S,R)==p}function iX(h){return h=fn(h),h&&ia.test(h)?h.replace(kn,K9):h}function aX(h){return h=fn(h),h&&ws.test(h)?h.replace(ai,"\\$&"):h}var oX=$d(function(h,p,S){return h+(S?"-":"")+p.toLowerCase()}),lX=$d(function(h,p,S){return h+(S?" ":"")+p.toLowerCase()}),cX=Yk("toLowerCase");function uX(h,p,S){h=fn(h),p=Ft(p);var T=p?Ed(h):0;if(!p||T>=p)return h;var R=(p-T)/2;return px(nx(R),S)+h+px(tx(R),S)}function dX(h,p,S){h=fn(h),p=Ft(p);var T=p?Ed(h):0;return p&&T<p?h+px(p-T,S):h}function hX(h,p,S){h=fn(h),p=Ft(p);var T=p?Ed(h):0;return p&&T<p?px(p-T,S)+h:h}function fX(h,p,S){return S||p==null?p=0:p&&(p=+p),jH(fn(h).replace(zs,""),p||0)}function mX(h,p,S){return(S?Ss(h,p,S):p===n)?p=1:p=Ft(p),z1(fn(h),p)}function pX(){var h=arguments,p=fn(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var gX=$d(function(h,p,S){return h+(S?"_":"")+p.toLowerCase()});function vX(h,p,S){return S&&typeof S!="number"&&Ss(h,p,S)&&(p=S=n),S=S===n?ge:S>>>0,S?(h=fn(h),h&&(typeof p=="string"||p!=null&&!uN(p))&&(p=ci(p),!p&&Ad(h))?Tl(oa(h),0,S):h.split(p,S)):[]}var xX=$d(function(h,p,S){return h+(S?" ":"")+fN(p)});function yX(h,p,S){return h=fn(h),S=S==null?0:Yc(Ft(S),0,h.length),p=ci(p),h.slice(S,S+p.length)==p}function jX(h,p,S){var T=H.templateSettings;S&&Ss(h,p,S)&&(p=n),h=fn(h),p=Px({},p,T,nO);var R=Px({},p.imports,T.imports,nO),Y=Fr(R),ae=S1(R,Y),me,be,Oe=0,De=p.interpolate||So,Fe="__p += '",Qe=_1((p.escape||So).source+"|"+De.source+"|"+(De===yn?qw:So).source+"|"+(p.evaluate||So).source+"|$","g"),lt="//# sourceURL="+(bn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++h1+"]")+`
`;h.replace(Qe,function(vt,Gt,nn,di,Cs,hi){return nn||(nn=di),Fe+=h.slice(Oe,hi).replace(Yw,Y9),Gt&&(me=!0,Fe+=`' +
__e(`+Gt+`) +
'`),Cs&&(be=!0,Fe+=`';
`+Cs+`;
__p += '`),nn&&(Fe+=`' +
((__t = (`+nn+`)) == null ? '' : __t) +
'`),Oe=hi+vt.length,vt}),Fe+=`';
`;var gt=bn.call(p,"variable")&&p.variable;if(!gt)Fe=`with (obj) {
`+Fe+`
}
`;else if(Vw.test(gt))throw new kt(l);Fe=(be?Fe.replace(bl,""):Fe).replace(le,"$1").replace(He,"$1;"),Fe="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(me?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fe+`return __p
}`;var zt=KO(function(){return dn(Y,lt+"return "+Fe).apply(n,ae)});if(zt.source=Fe,cN(zt))throw zt;return zt}function bX(h){return fn(h).toLowerCase()}function wX(h){return fn(h).toUpperCase()}function NX(h,p,S){if(h=fn(h),h&&(S||p===n))return rk(h);if(!h||!(p=ci(p)))return h;var T=oa(h),R=oa(p),Y=sk(T,R),ae=ik(T,R)+1;return Tl(T,Y,ae).join("")}function SX(h,p,S){if(h=fn(h),h&&(S||p===n))return h.slice(0,ok(h)+1);if(!h||!(p=ci(p)))return h;var T=oa(h),R=ik(T,oa(p))+1;return Tl(T,0,R).join("")}function CX(h,p,S){if(h=fn(h),h&&(S||p===n))return h.replace(zs,"");if(!h||!(p=ci(p)))return h;var T=oa(h),R=sk(T,oa(p));return Tl(T,R).join("")}function _X(h,p){var S=I,T=k;if(Jn(p)){var R="separator"in p?p.separator:R;S="length"in p?Ft(p.length):S,T="omission"in p?ci(p.omission):T}h=fn(h);var Y=h.length;if(Ad(h)){var ae=oa(h);Y=ae.length}if(S>=Y)return h;var me=S-Ed(T);if(me<1)return T;var be=ae?Tl(ae,0,me).join(""):h.slice(0,me);if(R===n)return be+T;if(ae&&(me+=be.length-me),uN(R)){if(h.slice(me).search(R)){var Oe,De=be;for(R.global||(R=_1(R.source,fn(Dv.exec(R))+"g")),R.lastIndex=0;Oe=R.exec(De);)var Fe=Oe.index;be=be.slice(0,Fe===n?me:Fe)}}else if(h.indexOf(ci(R),me)!=me){var Qe=be.lastIndexOf(R);Qe>-1&&(be=be.slice(0,Qe))}return be+T}function PX(h){return h=fn(h),h&&Xn.test(h)?h.replace(Be,nH):h}var AX=$d(function(h,p,S){return h+(S?" ":"")+p.toUpperCase()}),fN=Yk("toUpperCase");function GO(h,p,S){return h=fn(h),p=S?n:p,p===n?X9(h)?iH(h):V9(h):h.match(p)||[]}var KO=Ht(function(h,p){try{return oi(h,n,p)}catch(S){return cN(S)?S:new kt(S)}}),EX=Eo(function(h,p){return ki(p,function(S){S=Ka(S),Po(h,S,oN(h[S],h))}),h});function TX(h){var p=h==null?0:h.length,S=pt();return h=p?Hn(h,function(T){if(typeof T[1]!="function")throw new Oi(o);return[S(T[0]),T[1]]}):[],Ht(function(T){for(var R=-1;++R<p;){var Y=h[R];if(oi(Y[0],this,T))return oi(Y[1],this,T)}})}function kX(h){return nG(Mi(h,f))}function mN(h){return function(){return h}}function OX(h,p){return h==null||h!==h?p:h}var DX=Xk(),MX=Xk(!0);function Ws(h){return h}function pN(h){return Pk(typeof h=="function"?h:Mi(h,f))}function IX(h){return Ek(Mi(h,f))}function $X(h,p){return Tk(h,Mi(p,f))}var RX=Ht(function(h,p){return function(S){return Dm(S,h,p)}}),LX=Ht(function(h,p){return function(S){return Dm(h,S,p)}});function gN(h,p,S){var T=Fr(p),R=lx(p,T);S==null&&!(Jn(p)&&(R.length||!T.length))&&(S=p,p=h,h=this,R=lx(p,Fr(p)));var Y=!(Jn(S)&&"chain"in S)||!!S.chain,ae=ko(h);return ki(R,function(me){var be=p[me];h[me]=be,ae&&(h.prototype[me]=function(){var Oe=this.__chain__;if(Y||Oe){var De=h(this.__wrapped__),Fe=De.__actions__=Vs(this.__actions__);return Fe.push({func:be,args:arguments,thisArg:h}),De.__chain__=Oe,De}return be.apply(h,Sl([this.value()],arguments))})}),h}function FX(){return Jr._===this&&(Jr._=dH),this}function vN(){}function BX(h){return h=Ft(h),Ht(function(p){return kk(p,h)})}var zX=K1(Hn),VX=K1(JT),UX=K1(y1);function YO(h){return tN(h)?j1(Ka(h)):yG(h)}function qX(h){return function(p){return h==null?n:Qc(h,p)}}var WX=Zk(),HX=Zk(!0);function xN(){return[]}function yN(){return!1}function GX(){return{}}function KX(){return""}function YX(){return!0}function QX(h,p){if(h=Ft(h),h<1||h>q)return[];var S=ge,T=os(h,ge);p=pt(p),h-=ge;for(var R=N1(T,p);++S<h;)p(S);return R}function XX(h){return Mt(h)?Hn(h,Ka):ui(h)?[h]:Vs(pO(fn(h)))}function JX(h){var p=++cH;return fn(h)+p}var ZX=mx(function(h,p){return h+p},0),eJ=Y1("ceil"),tJ=mx(function(h,p){return h/p},1),nJ=Y1("floor");function rJ(h){return h&&h.length?ox(h,Ws,M1):n}function sJ(h,p){return h&&h.length?ox(h,pt(p,2),M1):n}function iJ(h){return tk(h,Ws)}function aJ(h,p){return tk(h,pt(p,2))}function oJ(h){return h&&h.length?ox(h,Ws,L1):n}function lJ(h,p){return h&&h.length?ox(h,pt(p,2),L1):n}var cJ=mx(function(h,p){return h*p},1),uJ=Y1("round"),dJ=mx(function(h,p){return h-p},0);function hJ(h){return h&&h.length?w1(h,Ws):0}function fJ(h,p){return h&&h.length?w1(h,pt(p,2)):0}return H.after=IY,H.ary=_O,H.assign=wQ,H.assignIn=BO,H.assignInWith=Px,H.assignWith=NQ,H.at=SQ,H.before=PO,H.bind=oN,H.bindAll=EX,H.bindKey=AO,H.castArray=GY,H.chain=NO,H.chunk=nK,H.compact=rK,H.concat=sK,H.cond=TX,H.conforms=kX,H.constant=mN,H.countBy=hY,H.create=CQ,H.curry=EO,H.curryRight=TO,H.debounce=kO,H.defaults=_Q,H.defaultsDeep=PQ,H.defer=$Y,H.delay=RY,H.difference=iK,H.differenceBy=aK,H.differenceWith=oK,H.drop=lK,H.dropRight=cK,H.dropRightWhile=uK,H.dropWhile=dK,H.fill=hK,H.filter=mY,H.flatMap=vY,H.flatMapDeep=xY,H.flatMapDepth=yY,H.flatten=yO,H.flattenDeep=fK,H.flattenDepth=mK,H.flip=LY,H.flow=DX,H.flowRight=MX,H.fromPairs=pK,H.functions=MQ,H.functionsIn=IQ,H.groupBy=jY,H.initial=vK,H.intersection=xK,H.intersectionBy=yK,H.intersectionWith=jK,H.invert=RQ,H.invertBy=LQ,H.invokeMap=wY,H.iteratee=pN,H.keyBy=NY,H.keys=Fr,H.keysIn=qs,H.map=bx,H.mapKeys=BQ,H.mapValues=zQ,H.matches=IX,H.matchesProperty=$X,H.memoize=Nx,H.merge=VQ,H.mergeWith=zO,H.method=RX,H.methodOf=LX,H.mixin=gN,H.negate=Sx,H.nthArg=BX,H.omit=UQ,H.omitBy=qQ,H.once=FY,H.orderBy=SY,H.over=zX,H.overArgs=BY,H.overEvery=VX,H.overSome=UX,H.partial=lN,H.partialRight=OO,H.partition=CY,H.pick=WQ,H.pickBy=VO,H.property=YO,H.propertyOf=qX,H.pull=SK,H.pullAll=bO,H.pullAllBy=CK,H.pullAllWith=_K,H.pullAt=PK,H.range=WX,H.rangeRight=HX,H.rearg=zY,H.reject=AY,H.remove=AK,H.rest=VY,H.reverse=iN,H.sampleSize=TY,H.set=GQ,H.setWith=KQ,H.shuffle=kY,H.slice=EK,H.sortBy=MY,H.sortedUniq=$K,H.sortedUniqBy=RK,H.split=vX,H.spread=UY,H.tail=LK,H.take=FK,H.takeRight=BK,H.takeRightWhile=zK,H.takeWhile=VK,H.tap=rY,H.throttle=qY,H.thru=jx,H.toArray=RO,H.toPairs=UO,H.toPairsIn=qO,H.toPath=XX,H.toPlainObject=FO,H.transform=YQ,H.unary=WY,H.union=UK,H.unionBy=qK,H.unionWith=WK,H.uniq=HK,H.uniqBy=GK,H.uniqWith=KK,H.unset=QQ,H.unzip=aN,H.unzipWith=wO,H.update=XQ,H.updateWith=JQ,H.values=Fd,H.valuesIn=ZQ,H.without=YK,H.words=GO,H.wrap=HY,H.xor=QK,H.xorBy=XK,H.xorWith=JK,H.zip=ZK,H.zipObject=eY,H.zipObjectDeep=tY,H.zipWith=nY,H.entries=UO,H.entriesIn=qO,H.extend=BO,H.extendWith=Px,gN(H,H),H.add=ZX,H.attempt=KO,H.camelCase=rX,H.capitalize=WO,H.ceil=eJ,H.clamp=eX,H.clone=KY,H.cloneDeep=QY,H.cloneDeepWith=XY,H.cloneWith=YY,H.conformsTo=JY,H.deburr=HO,H.defaultTo=OX,H.divide=tJ,H.endsWith=sX,H.eq=ca,H.escape=iX,H.escapeRegExp=aX,H.every=fY,H.find=pY,H.findIndex=vO,H.findKey=AQ,H.findLast=gY,H.findLastIndex=xO,H.findLastKey=EQ,H.floor=nJ,H.forEach=SO,H.forEachRight=CO,H.forIn=TQ,H.forInRight=kQ,H.forOwn=OQ,H.forOwnRight=DQ,H.get=dN,H.gt=ZY,H.gte=eQ,H.has=$Q,H.hasIn=hN,H.head=jO,H.identity=Ws,H.includes=bY,H.indexOf=gK,H.inRange=tX,H.invoke=FQ,H.isArguments=Zc,H.isArray=Mt,H.isArrayBuffer=tQ,H.isArrayLike=Us,H.isArrayLikeObject=hr,H.isBoolean=nQ,H.isBuffer=kl,H.isDate=rQ,H.isElement=sQ,H.isEmpty=iQ,H.isEqual=aQ,H.isEqualWith=oQ,H.isError=cN,H.isFinite=lQ,H.isFunction=ko,H.isInteger=DO,H.isLength=Cx,H.isMap=MO,H.isMatch=cQ,H.isMatchWith=uQ,H.isNaN=dQ,H.isNative=hQ,H.isNil=mQ,H.isNull=fQ,H.isNumber=IO,H.isObject=Jn,H.isObjectLike=rr,H.isPlainObject=Fm,H.isRegExp=uN,H.isSafeInteger=pQ,H.isSet=$O,H.isString=_x,H.isSymbol=ui,H.isTypedArray=Ld,H.isUndefined=gQ,H.isWeakMap=vQ,H.isWeakSet=xQ,H.join=bK,H.kebabCase=oX,H.last=$i,H.lastIndexOf=wK,H.lowerCase=lX,H.lowerFirst=cX,H.lt=yQ,H.lte=jQ,H.max=rJ,H.maxBy=sJ,H.mean=iJ,H.meanBy=aJ,H.min=oJ,H.minBy=lJ,H.stubArray=xN,H.stubFalse=yN,H.stubObject=GX,H.stubString=KX,H.stubTrue=YX,H.multiply=cJ,H.nth=NK,H.noConflict=FX,H.noop=vN,H.now=wx,H.pad=uX,H.padEnd=dX,H.padStart=hX,H.parseInt=fX,H.random=nX,H.reduce=_Y,H.reduceRight=PY,H.repeat=mX,H.replace=pX,H.result=HQ,H.round=uJ,H.runInContext=ye,H.sample=EY,H.size=OY,H.snakeCase=gX,H.some=DY,H.sortedIndex=TK,H.sortedIndexBy=kK,H.sortedIndexOf=OK,H.sortedLastIndex=DK,H.sortedLastIndexBy=MK,H.sortedLastIndexOf=IK,H.startCase=xX,H.startsWith=yX,H.subtract=dJ,H.sum=hJ,H.sumBy=fJ,H.template=jX,H.times=QX,H.toFinite=Oo,H.toInteger=Ft,H.toLength=LO,H.toLower=bX,H.toNumber=Ri,H.toSafeInteger=bQ,H.toString=fn,H.toUpper=wX,H.trim=NX,H.trimEnd=SX,H.trimStart=CX,H.truncate=_X,H.unescape=PX,H.uniqueId=JX,H.upperCase=AX,H.upperFirst=fN,H.each=SO,H.eachRight=CO,H.first=jO,gN(H,function(){var h={};return Ha(H,function(p,S){bn.call(H.prototype,S)||(h[S]=p)}),h}(),{chain:!1}),H.VERSION=s,ki(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){H[h].placeholder=H}),ki(["drop","take"],function(h,p){en.prototype[h]=function(S){S=S===n?1:Cr(Ft(S),0);var T=this.__filtered__&&!p?new en(this):this.clone();return T.__filtered__?T.__takeCount__=os(S,T.__takeCount__):T.__views__.push({size:os(S,ge),type:h+(T.__dir__<0?"Right":"")}),T},en.prototype[h+"Right"]=function(S){return this.reverse()[h](S).reverse()}}),ki(["filter","map","takeWhile"],function(h,p){var S=p+1,T=S==B||S==G;en.prototype[h]=function(R){var Y=this.clone();return Y.__iteratees__.push({iteratee:pt(R,3),type:S}),Y.__filtered__=Y.__filtered__||T,Y}}),ki(["head","last"],function(h,p){var S="take"+(p?"Right":"");en.prototype[h]=function(){return this[S](1).value()[0]}}),ki(["initial","tail"],function(h,p){var S="drop"+(p?"":"Right");en.prototype[h]=function(){return this.__filtered__?new en(this):this[S](1)}}),en.prototype.compact=function(){return this.filter(Ws)},en.prototype.find=function(h){return this.filter(h).head()},en.prototype.findLast=function(h){return this.reverse().find(h)},en.prototype.invokeMap=Ht(function(h,p){return typeof h=="function"?new en(this):this.map(function(S){return Dm(S,h,p)})}),en.prototype.reject=function(h){return this.filter(Sx(pt(h)))},en.prototype.slice=function(h,p){h=Ft(h);var S=this;return S.__filtered__&&(h>0||p<0)?new en(S):(h<0?S=S.takeRight(-h):h&&(S=S.drop(h)),p!==n&&(p=Ft(p),S=p<0?S.dropRight(-p):S.take(p-h)),S)},en.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},en.prototype.toArray=function(){return this.take(ge)},Ha(en.prototype,function(h,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),T=/^(?:head|last)$/.test(p),R=H[T?"take"+(p=="last"?"Right":""):p],Y=T||/^find/.test(p);R&&(H.prototype[p]=function(){var ae=this.__wrapped__,me=T?[1]:arguments,be=ae instanceof en,Oe=me[0],De=be||Mt(ae),Fe=function(Gt){var nn=R.apply(H,Sl([Gt],me));return T&&Qe?nn[0]:nn};De&&S&&typeof Oe=="function"&&Oe.length!=1&&(be=De=!1);var Qe=this.__chain__,lt=!!this.__actions__.length,gt=Y&&!Qe,zt=be&&!lt;if(!Y&&De){ae=zt?ae:new en(this);var vt=h.apply(ae,me);return vt.__actions__.push({func:jx,args:[Fe],thisArg:n}),new Di(vt,Qe)}return gt&&zt?h.apply(this,me):(vt=this.thru(Fe),gt?T?vt.value()[0]:vt.value():vt)})}),ki(["pop","push","shift","sort","splice","unshift"],function(h){var p=Hv[h],S=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",T=/^(?:pop|shift)$/.test(h);H.prototype[h]=function(){var R=arguments;if(T&&!this.__chain__){var Y=this.value();return p.apply(Mt(Y)?Y:[],R)}return this[S](function(ae){return p.apply(Mt(ae)?ae:[],R)})}}),Ha(en.prototype,function(h,p){var S=H[p];if(S){var T=S.name+"";bn.call(Dd,T)||(Dd[T]=[]),Dd[T].push({name:p,func:S})}}),Dd[fx(n,N).name]=[{name:"wrapper",func:n}],en.prototype.clone=PH,en.prototype.reverse=AH,en.prototype.value=EH,H.prototype.at=sY,H.prototype.chain=iY,H.prototype.commit=aY,H.prototype.next=oY,H.prototype.plant=cY,H.prototype.reverse=uY,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=dY,H.prototype.first=H.prototype.head,_m&&(H.prototype[_m]=lY),H},Td=aH();Wc?((Wc.exports=Td)._=Td,p1._=Td):Jr._=Td}).call(cr)})(qj,qj.exports);var YS=qj.exports;const CP=w.forwardRef(({petId:e},t)=>{const{settings:n}=Zt(),{getPetById:s,getClientById:i,getVaccinationsByPetId:a}=Pt(),o=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),l=s(e),c=l?i(l.ownerId):null,u=l?a(l.id):[],d=f=>{const m=new Date(f),g=new Date;if(YS.isNaN(m.getTime()))return"N/A";let x=g.getFullYear()-m.getFullYear(),v=g.getMonth()-m.getMonth(),y=g.getDate()-m.getDate();if(y<0){v--;const b=new Date(g.getFullYear(),g.getMonth(),0);y+=b.getDate()}v<0&&(x--,v+=12);const N=Math.floor(y/7),j=[];return x>0&&j.push(`${x} an${x>1?"s":""}`),v>0&&j.push(`${v} mois`),N>0&&j.push(`${N} semain${N>1?"es":""}`),j.join(", ")||"0 jour"};return!l||!c?null:r.jsxs("div",{ref:t,className:"p-8 bg-white text-gray-900 font-sans",children:[n.showClinicInfo&&r.jsxs("section",{className:"mb-4 text-sm",children:[r.jsx("img",{src:n.logo,alt:"Logo",className:"h-12 mb-2"}),r.jsx("p",{children:n.clinicName}),r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.phone," | ",n.email]}),n.website&&r.jsx("p",{children:n.website})]}),r.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-primary",children:"Certificat de Vaccination"}),r.jsx(w9,{value:`pet:${l.id}`,size:100})]}),n.showVetsInfo&&r.jsxs("section",{className:"mb-6 text-sm",children:[r.jsx("h2",{className:"font-medium mb-2",children:"Vétérinaires"}),o.map(f=>r.jsxs("p",{children:[f.title," ",f.name," - ",f.specialty]},f.id))]}),l.photo&&r.jsx("div",{className:"mb-6 text-center",children:r.jsx("img",{src:l.photo,alt:l.name,className:"w-32 h-32 object-cover rounded-full mx-auto"})}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Informations de l'animal"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",l.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",l.breed||"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",l.birthDate?d(l.birthDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",c.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Contact:"})," ",c.phone]})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Historique des Vaccinations"}),r.jsx("div",{className:"mt-4 space-y-4",children:u.map(f=>r.jsxs(ue,{className:"border-primary/50",children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:f.vaccineName})}),r.jsxs(he,{className:"p-4 text-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Date donnée:"})," ",f.dateGiven&&!YS.isNaN(Date.parse(f.dateGiven))?It(new Date(f.dateGiven),"dd/MM/yyyy"):"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Rappel prévu:"})," ",f.nextDueDate&&!YS.isNaN(Date.parse(f.nextDueDate))?It(new Date(f.nextDueDate),"dd/MM/yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vétérinaire:"})," ",f.veterinarian]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Statut:"})," ",f.status]})]})]})]},f.id))})]}),r.jsxs("footer",{className:"mt-8 text-center text-xs text-gray-500",children:["Généré le ",It(new Date,"dd/MM/yyyy")," - VetPro CRM"]})]})});function N9({open:e,onOpenChange:t,pet:n}){const{consultations:s,clients:i,getConsultationsByPetId:a,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:f,updateConsultation:m,updateVaccination:g,updateVaccinationStatuses:x}=Pt(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,C]=w.useState(!1),[_,A]=w.useState(!1),[P,E]=w.useState("overview"),[D,I]=w.useState(!1),[k,O]=w.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[L,B]=w.useState((n==null?void 0:n.additionalPhotos)||[]),[ee,G]=w.useState({clientId:0,petId:0,type:"",reason:""}),[J,q]=w.useState(null),[$,oe]=w.useState(!1),[ge,re]=w.useState(null),[Z,ne]=w.useState(null),{toast:ve}=$t(),je=w.useRef(null),we=zT.useReactToPrint({contentRef:je,onAfterPrint:()=>t(!1)});w.useEffect(()=>{e&&x()},[e,x]);const z=()=>{n&&(f(n.id,{...n,...k}),Object.assign(n,k),I(!1))},Q=()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),I(!1))},te=le=>{n&&(G({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${le.vaccineName}`}),q(le),j(!0))},K=le=>{re(le),oe(!0)},M=(le,He)=>{g(le,{status:He}),ne(null),ve({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[He]}"`})},xe=(le,He)=>{const Be=s.find(ia=>ia.id===le);if(!Be||!Be.photos)return;const kn=Be.photos.filter((ia,jt)=>jt!==He),Xn={...Be,photos:kn};m(le,Xn)},Ne=async le=>{var kn;const He=(kn=le.target.files)==null?void 0:kn[0];if(!He)return;const Be=new FileReader;Be.onload=()=>{const Xn=Be.result,ia=[...L,Xn];B(ia),n&&f(n.id,{...n,additionalPhotos:ia})},Be.readAsDataURL(He)},de=le=>{const He=L.filter((Be,kn)=>kn!==le);B(He),n&&f(n.id,{...n,additionalPhotos:He})};if(w.useEffect(()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),B(n.additionalPhotos||[]))},[n]),!n)return null;const Pe=o(n.ownerId),Ze=a(n.id),at=u(n.id),dt=d(n.id),Se=[...Ze].sort((le,He)=>new Date(He.date).getTime()-new Date(le.date).getTime()),qe=[...at].sort((le,He)=>new Date(He.dateGiven).getTime()-new Date(le.dateGiven).getTime()),We=[...dt||[]].sort((le,He)=>new Date(He.dateGiven).getTime()-new Date(le.dateGiven).getTime()),Lt=Se.filter(le=>le.weight||le.temperature).map(le=>({date:new Date(le.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:le.weight?parseFloat(le.weight):0,temperature:le.temperature?parseFloat(le.temperature):0})).reverse(),xn=Se.filter(le=>le.weight).map(le=>parseFloat(le.weight)),Nt=Se.filter(le=>le.temperature).map(le=>parseFloat(le.temperature)),hn=xn[0]||0,dr=xn[1]||0,Qn=hn-dr,ys=Qn>0?"up":Qn<0?"down":"stable",Ce=Nt[0]||0,Wt=Nt.length>0?Nt.reduce((le,He)=>le+He,0)/Nt.length:0,nt=Se[0],mt=nt!=null&&nt.followUp?{reason:nt.followUp,estimatedDate:new Date(nt.date)}:null,sn=[];if(nt){const le=(new Date().getTime()-new Date(nt.date).getTime())/2592e6;le>6&&sn.push({type:"warning",title:"Contrôle de routine recommandé",message:`Dernière consultation il y a ${Math.floor(le)} mois`,action:"Planifier consultation",actionType:"consultation"})}(Ce>39.5||Ce<37.5)&&sn.push({type:"danger",title:"Température anormale",message:`Température actuelle: ${Ce}°C`,action:"Contrôle urgent",actionType:"consultation"}),Qn<-2&&sn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Qn)}kg depuis la dernière consultation`,action:"Surveiller",actionType:"consultation"});const as=new Date;new Date(as.getTime()+7*24*60*60*1e3),at.forEach(le=>{if(le.nextDueDate){const He=new Date(le.nextDueDate),Be=Math.ceil((He.getTime()-as.getTime())/(1e3*60*60*24));Be<0?sn.push({type:"danger",title:"Vaccination en retard",message:`${le.vaccineName} - ${Math.abs(Be)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):Be<=7&&sn.push({type:"warning",title:"Vaccination à prévoir",message:`${le.vaccineName} - Dans ${Be} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),dt.forEach(le=>{if(le.nextDueDate){const He=new Date(le.nextDueDate),Be=Math.ceil((He.getTime()-as.getTime())/(1e3*60*60*24));Be<0?sn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${le.productName} - ${Math.abs(Be)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):Be<=7&&sn.push({type:"warning",title:"Traitement antiparasitaire à prévoir",message:`${le.productName} - Dans ${Be} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const Qr=()=>{G({clientId:(Pe==null?void 0:Pe.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),j(!0)},Bs=le=>{let He="consultation",Be="";switch(le){case"consultation":He="consultation",Be="Contrôle de routine recommandé";break;case"vaccination":He="vaccination",Be="Vaccination à effectuer";break;case"antiparasitic":He="controle",Be="Traitement antiparasitaire à effectuer";break;default:He="consultation",Be="Rendez-vous médical"}G({clientId:(Pe==null?void 0:Pe.id)||0,petId:n.id,type:He,reason:Be}),j(!0)},bl=()=>{const le=window.open("","_blank");if(!le)return;const He=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Médical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Médical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Généré le:</strong> ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espèce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
              <p><strong>Âge:</strong> ${n.birthDate?af(n.birthDate):"Non spécifié"}</p>
              <p><strong>Poids actuel:</strong> ${hn}kg</p>
              <p><strong>Température actuelle:</strong> ${Ce}°C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spécifiée"}</p>
              <p><strong>Puce électronique:</strong> ${n.microchip||"Non spécifiée"}</p>
              ${n.medicalNotes?`<p><strong>Notes médicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propriétaire</h3>
              <p><strong>Nom:</strong> ${(Pe==null?void 0:Pe.name)||"Non spécifié"}</p>
              <p><strong>Email:</strong> ${(Pe==null?void 0:Pe.email)||"Non spécifié"}</p>
              <p><strong>Téléphone:</strong> ${(Pe==null?void 0:Pe.phone)||"Non spécifié"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${Se.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${at.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${dt.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${hn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${Se.length})</h3>
            ${Se.length>0?Se.map(Be=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(Be.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${Be.weight||"Non renseigné"}</p>
                    <p><strong>Température:</strong> ${Be.temperature||"Non renseigné"}</p>
                    ${Be.symptoms?`<p><strong>Symptômes:</strong> ${Be.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${Be.diagnosis?`<p><strong>Diagnostic:</strong> ${Be.diagnosis}</p>`:""}
                    ${Be.treatment?`<p><strong>Traitement:</strong> ${Be.treatment}</p>`:""}
                    ${Be.medications?`<p><strong>Médicaments:</strong> ${Be.medications}</p>`:""}
                  </div>
                </div>
                ${Be.notes?`<p><strong>Notes:</strong> ${Be.notes}</p>`:""}
                ${Be.photos&&Be.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${Be.photos.map((kn,Xn)=>`
                      <div style="text-align: center;">
                        <img src="${kn}" alt="Photo consultation ${Xn+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${Xn+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistrée</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${at.length})</h3>
            ${at.length>0?at.map(Be=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${Be.vaccineName} - ${new Date(Be.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${Be.vaccineType||"Non spécifié"}</p>
                <p><strong>Prochain rappel:</strong> ${Be.nextDueDate?new Date(Be.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Be.veterinarian||"Non spécifié"}</p>
                ${Be.notes?`<p><strong>Notes:</strong> ${Be.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistrée</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${dt.length})</h3>
            ${dt.length>0?dt.map(Be=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${Be.productName} - ${new Date(Be.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${Be.productType||"Non spécifié"}</p>
                    <p><strong>Parasites ciblés:</strong> ${Be.targetParasites||"Non spécifié"}</p>
                    <p><strong>Voie d'administration:</strong> ${Be.administrationRoute||"Non spécifié"}</p>
                    <p><strong>Dosage:</strong> ${Be.dosage||"Non spécifié"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${Be.nextDueDate?new Date(Be.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                <p><strong>Vétérinaire:</strong> ${Be.veterinarian||"Non spécifié"}</p>
                    <p><strong>Statut:</strong> ${Be.status==="completed"?"Terminé":Be.status==="scheduled"?"Planifié":Be.status==="overdue"?"En retard":"Manqué"}</p>
                    ${Be.cost?`<p><strong>Coût:</strong> ${Be.cost} €</p>`:""}
                  </div>
                </div>
                ${Be.batchNumber?`<p><strong>Numéro de lot:</strong> ${Be.batchNumber}</p>`:""}
                ${Be.manufacturer?`<p><strong>Fabricant:</strong> ${Be.manufacturer}</p>`:""}
                ${Be.weight?`<p><strong>Poids de l'animal:</strong> ${Be.weight}</p>`:""}
                ${Be.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${Be.notes}</p>
                  </div>
                `:""}
                ${Be.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong>⚠️ Effets indésirables:</strong> ${Be.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistré</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spécifié"}</p>
                    <p><strong>N° Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spécifié"}</p>
                    <p><strong>N° Puce/Tatouage:</strong> ${n.microchip||"Non spécifié"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spécifiée"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Non spécifié"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spécifiée"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spécifié"}</p>
                    <p><strong>Éleveur:</strong> ${n.breeder||"Non spécifié"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Père -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Père</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.fatherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spécifiée"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mère -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mère</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spécifié"}</p>
                  <p><strong>N° Pedigree:</strong> ${n.motherPedigree||"Non spécifié"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spécifiée"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${Se.some(Be=>Be.photos&&Be.photos.length>0)?Se.map(Be=>Be.photos?Be.photos.map((kn,Xn)=>`
                    <div style="text-align: center;">
                      <img src="${kn}" alt="Consultation ${new Date(Be.date).toLocaleDateString("fr-FR")} - Photo ${Xn+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(Be.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!Se.some(Be=>Be.photos&&Be.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;le.document.write(He),le.document.close(),le.focus(),le.print(),le.close()};return r.jsxs(r.Fragment,{children:[r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Dossier Médical - ",n.name,Pe&&r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propriétaire: ",Pe.name,")"]})]})}),r.jsxs(vl,{value:P,onValueChange:E,className:"space-y-4",children:[r.jsxs(bo,{className:"grid w-full grid-cols-7",children:[r.jsxs(ln,{value:"overview",className:"gap-2",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"history",className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(ks,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"gap-2",children:[r.jsx(ks,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"gap-2",children:[r.jsx(ic,{className:"h-4 w-4"}),"Antiparasitaires"]}),r.jsxs(ln,{value:"pedigree",className:"gap-2",children:[r.jsx(y0,{className:"h-4 w-4"}),"Pedigree"]}),r.jsxs(ln,{value:"charts",className:"gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Évolution"]}),r.jsxs(ln,{value:"alerts",className:"gap-2",children:[r.jsx(kr,{className:"h-4 w-4"}),"Alertes"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{className:"text-lg",children:"Galerie photos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:Ne,className:"hidden",id:"add-photo-input"}),r.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),L.map((le,He)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:le,alt:`Photo supplémentaire ${He+1}`,className:"h-32 w-32 object-cover rounded"}),r.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",He+1]}),r.jsx("button",{onClick:()=>de(He),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`additional-${He}`)),Se.map(le=>{var He;return(He=le.photos)==null?void 0:He.map((Be,kn)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:Be,alt:`consultation-${le.id}-${kn}`,className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(le.date).toLocaleDateString("fr-FR")}),r.jsx("button",{onClick:()=>xe(le.id,kn),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:"×"})]},`${le.id}-${kn}`))}),!n.photo&&L.length===0&&Se.every(le=>!le.photos||le.photos.length===0)&&r.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsxs("p",{className:"text-2xl font-bold",children:[hn,"kg"]}),Qn!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[ys==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):r.jsx(Uu,{className:"h-3 w-3 text-red-600"}),r.jsxs("span",{className:ys==="up"?"text-green-600":"text-red-600",children:[Math.abs(Qn),"kg"]})]})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ag,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Ce,"°C"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",Wt.toFixed(1),"°C"]})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:Se.length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière: ",nt?new Date(nt.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-2xl font-bold",children:sn.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:sn.length>0?"À traiter":"Aucune"})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ks,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),r.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(le=>le.petId===n.id).length," active(s)"]})]})]})})})]}),mt&&r.jsx(ue,{className:"border-primary",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:mt.reason})]}),r.jsxs(V,{size:"sm",onClick:Qr,children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),sn.length>0&&r.jsxs(ue,{className:"border-destructive",children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-destructive",children:"Alertes importantes"})}),r.jsx(he,{className:"space-y-2",children:sn.slice(0,3).map((le,He)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[r.jsx(kr,{className:"h-4 w-4 text-destructive"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:le.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:le.message})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Bs(le.actionType),children:le.action})]},He))})]})]}),r.jsxs(cn,{value:"history",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),r.jsxs(V,{size:"sm",onClick:Qr,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),Se.length===0?r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer la première consultation"})]})}):r.jsx("div",{className:"space-y-4",children:Se.map(le=>r.jsxs(ue,{children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ke,{className:"text-base",children:["Consultation #",le.id]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(At,{className:"h-4 w-4"}),new Date(le.date).toLocaleDateString("fr-FR")]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("span",{className:"ml-2",children:le.weight||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Température:"}),r.jsx("span",{className:"ml-2",children:le.temperature||"Non renseigné"})]})]}),le.symptoms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm mt-1",children:le.symptoms})]}),le.diagnosis&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm mt-1",children:le.diagnosis})]}),le.treatment&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm mt-1",children:le.treatment})]}),le.medications&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Médicaments:"}),r.jsx("p",{className:"text-sm mt-1",children:le.medications})]}),le.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:le.notes})]}),le.followUp&&r.jsxs("div",{className:"pt-2 border-t",children:[r.jsx("span",{className:"font-medium text-primary",children:"Suivi recommandé:"}),r.jsx("p",{className:"text-sm mt-1",children:le.followUp})]})]})]},le.id))})]}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsx(c9,{petId:n.id})}),r.jsxs(cn,{value:"charts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Évolution du poids et de la température"}),Lt.length>0?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5"}),"Évolution du poids"]})}),r.jsx(he,{children:r.jsx(dl,{width:"100%",height:200,children:r.jsxs(V3,{data:Lt,children:[r.jsx(sd,{strokeDasharray:"3 3"}),r.jsx(Fa,{dataKey:"date"}),r.jsx(Ba,{}),r.jsx(qr,{}),r.jsx(Mf,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(ag,{className:"h-5 w-5"}),"Évolution de la température"]})}),r.jsx(he,{children:r.jsx(dl,{width:"100%",height:200,children:r.jsxs(V3,{data:Lt,children:[r.jsx(sd,{strokeDasharray:"3 3"}),r.jsx(Fa,{dataKey:"date"}),r.jsx(Ba,{}),r.jsx(qr,{}),r.jsx(Mf,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune donnée disponible pour les graphiques"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et température"})]})})]}),r.jsxs(cn,{value:"vaccinations",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),r.jsx(F0,{selectedClientId:Pe==null?void 0:Pe.id,selectedPetId:n.id,children:r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),qe.length===0?r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(ks,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune vaccination enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par ajouter la première vaccination"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(ks,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:qe.length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(At,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"À jour"}),r.jsx("p",{className:"text-xl font-bold",children:qe.filter(le=>le.status==="completed").length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(kr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:qe.filter(le=>le.status==="overdue").length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(At,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-xl font-bold",children:qe.filter(le=>le.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:qe.map(le=>r.jsx(ue,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ks,{className:`h-5 w-5 ${le.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("h4",{className:"font-semibold text-lg",children:[le.vaccineName,le.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx(Le,{variant:le.vaccineType==="core"?"default":"secondary",className:"text-xs",children:le.vaccineType==="core"?"Essentiel":le.vaccineType==="non-core"?"Optionnel":le.vaccineType==="rabies"?"Rage":"Personnalisé"}),le.vaccinationCategory==="reminder"&&r.jsx(Le,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),Z===le.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs($e,{value:le.status,onValueChange:He=>M(le.id,He),children:[r.jsx(Me,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"scheduled",children:"Planifiée"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(null),children:"Annuler"})]}):r.jsx(Le,{className:le.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":le.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":le.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>ne(le.id),children:le.status==="completed"?"Terminée":le.status==="overdue"?"En retard":le.status==="scheduled"?"Planifiée":"Manquée"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:le.vaccinationCategory==="reminder"?"Date du rappel":"Date administrée"}),r.jsx("p",{className:"font-medium",children:ho(le.dateGiven)})]}),le.vaccinationCategory==="new"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Rappel prévu"}),r.jsx("p",{className:"font-medium",children:ho(le.nextDueDate)})]}),le.vaccinationCategory==="reminder"&&le.originalVaccinationId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),r.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",le.originalVaccinationId]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:le.veterinarian})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Coût"}),r.jsx("p",{className:"font-medium",children:le.cost?`${le.cost} €`:"Non spécifié"})]})]}),le.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:le.batchNumber})]})}),le.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:le.manufacturer})]})}),le.location&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",r.jsx("span",{className:"font-medium",children:le.location==="left_shoulder"?"Épaule gauche":le.location==="right_shoulder"?"Épaule droite":le.location==="left_hip"?"Hanche gauche":le.location==="right_hip"?"Hanche droite":"Sous-cutané"})]})}),le.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",le.notes]})}),le.adverseReactions&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Réactions adverses:"})," ",le.adverseReactions]})})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:we,children:[r.jsx(ur,{className:"h-4 w-4"}),"Certificat"]}),le.nextDueDate&&new Date(le.nextDueDate)<=new Date&&le.status!=="completed"&&!le.reminderAppointmentId&&r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>te(le),children:[r.jsx(ft,{className:"h-4 w-4"}),"Rappel"]}),le.reminderAppointmentId&&r.jsx(Le,{variant:"outline",className:"text-xs",children:"Rappel programmé"}),le.status==="overdue"&&r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>K(le),children:[r.jsx(rne,{className:"h-4 w-4"}),"Confirmer"]})]})]}),le.reminderHistory&&le.reminderHistory.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),r.jsx("div",{className:"space-y-2",children:le.reminderHistory.map(He=>r.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(He.scheduledDate).toLocaleDateString("fr-FR")})]}),r.jsx(Le,{variant:He.status==="completed"?"default":He.status==="missed"?"destructive":"secondary",className:"text-xs",children:He.status==="completed"?"Complété":He.status==="missed"?"Manqué":He.status==="cancelled"?"Annulé":"Programmé"})]},He.id))})]})]})},le.id))})]})]}),r.jsxs(cn,{value:"antiparasites",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),r.jsx(B0,{selectedClientId:Pe==null?void 0:Pe.id,selectedPetId:n.id,children:r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),We.length===0?r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(ic,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun traitement antiparasitaire enregistré"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(ic,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:We.length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(er,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complétés"}),r.jsx("p",{className:"text-xl font-bold",children:We.filter(le=>le.status==="completed").length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(kr,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:We.filter(le=>le.status==="overdue").length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(At,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiés"}),r.jsx("p",{className:"text-xl font-bold",children:We.filter(le=>le.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:We.map(le=>r.jsx(ue,{className:"hover:shadow-md transition-shadow",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ic,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-lg",children:le.productName}),r.jsx(Le,{className:le.status==="completed"?"bg-green-100 text-green-800 border-green-200":le.status==="overdue"?"bg-red-100 text-red-800 border-red-200":le.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:le.status==="completed"?"Terminé":le.status==="overdue"?"En retard":le.status==="scheduled"?"Planifié":"Manqué"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Date administrée"}),r.jsx("p",{className:"font-medium",children:new Date(le.dateGiven).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),r.jsx("p",{className:"font-medium",children:le.nextDueDate?new Date(le.nextDueDate).toLocaleDateString("fr-FR"):"Non spécifié"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium",children:le.productType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:le.veterinarian})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Parasites ciblés"}),r.jsx("p",{className:"font-medium",children:le.targetParasites})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Dosage"}),r.jsx("p",{className:"font-medium",children:le.dosage||"Non spécifié"})]})]}),le.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numéro de lot: ",r.jsx("span",{className:"font-medium",children:le.batchNumber})]})}),le.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:le.manufacturer})]})}),le.weight&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",r.jsx("span",{className:"font-medium",children:le.weight})]})}),le.cost&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Coût: ",r.jsxs("span",{className:"font-medium",children:[le.cost," €"]})]})}),le.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",le.notes]})}),le.sideEffects&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ Effets indésirables:"})," ",le.sideEffects]})})]}),r.jsx("div",{className:"flex flex-col gap-2 ml-4",children:le.nextDueDate&&new Date(le.nextDueDate)<=new Date&&le.status!=="completed"&&r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Rappel"]})})]})})},le.id))})]})]}),r.jsxs(cn,{value:"pedigree",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>I(!D),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),D?"Annuler":"Modifier"]})]}),r.jsx(ue,{children:r.jsx(Ee,{children:r.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:k.hasPedigree,onCheckedChange:le=>O(He=>({...He,hasPedigree:le})),disabled:!D}),r.jsx(F,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),k.hasPedigree&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Informations sur l'animal"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ie,{id:"officialName",value:k.officialName,onChange:le=>O(He=>({...He,officialName:le.target.value})),disabled:!D,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"pedigreeNumber",children:"N° pedigree/LOF"}),r.jsx(ie,{id:"pedigreeNumber",value:k.pedigreeNumber,onChange:le=>O(He=>({...He,pedigreeNumber:le.target.value})),disabled:!D,placeholder:"Numéro de pedigree"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"breeder",children:"Éleveur"}),r.jsx(ie,{id:"breeder",value:k.breeder,onChange:le=>O(He=>({...He,breeder:le.target.value})),disabled:!D,placeholder:"Nom de l'éleveur"})]})]})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Parents"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Père"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom du père",value:k.fatherName,onChange:le=>O(He=>({...He,fatherName:le.target.value})),disabled:!D}),r.jsx(ie,{placeholder:"N° pedigree du père",value:k.fatherPedigree,onChange:le=>O(He=>({...He,fatherPedigree:le.target.value})),disabled:!D}),r.jsx(ie,{placeholder:"Race du père",value:k.fatherBreed,onChange:le=>O(He=>({...He,fatherBreed:le.target.value})),disabled:!D}),r.jsx(wt,{placeholder:"Titres du père",value:k.fatherTitles,onChange:le=>O(He=>({...He,fatherTitles:le.target.value})),disabled:!D,rows:2})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mère"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{placeholder:"Nom de la mère",value:k.motherName,onChange:le=>O(He=>({...He,motherName:le.target.value})),disabled:!D}),r.jsx(ie,{placeholder:"N° pedigree de la mère",value:k.motherPedigree,onChange:le=>O(He=>({...He,motherPedigree:le.target.value})),disabled:!D}),r.jsx(ie,{placeholder:"Race de la mère",value:k.motherBreed,onChange:le=>O(He=>({...He,motherBreed:le.target.value})),disabled:!D}),r.jsx(wt,{placeholder:"Titres de la mère",value:k.motherTitles,onChange:le=>O(He=>({...He,motherTitles:le.target.value})),disabled:!D,rows:2})]})]})]})})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Document officiel"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:async le=>{var kn;const He=(kn=le.target.files)==null?void 0:kn[0];if(!He)return;const Be=new FileReader;Be.onload=()=>O(Xn=>({...Xn,pedigreePhoto:Be.result})),Be.readAsDataURL(He)},disabled:!D}),k.pedigreePhoto&&r.jsx("img",{src:k.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),D&&r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:Q,children:"Annuler"}),r.jsx(V,{onClick:z,children:"Sauvegarder"})]})]}),!k.hasPedigree&&r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(y0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun pedigree officiel"}),r.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),r.jsxs(cn,{value:"alerts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),sn.length===0?r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(kr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune alerte active"}),r.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):r.jsx("div",{className:"space-y-4",children:sn.map((le,He)=>r.jsx(ue,{className:le.type==="danger"?"border-destructive":"border-accent",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(kr,{className:`h-5 w-5 ${le.type==="danger"?"text-destructive":"text-accent"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:le.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:le.message})]}),r.jsx(V,{size:"sm",variant:"outline",children:le.action})]})})},He))})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:bl,className:"gap-2",children:[r.jsx(EA,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),r.jsx(nm,{open:v,onOpenChange:y}),r.jsx(kV,{open:N,onOpenChange:le=>{j(le),le||(G({clientId:0,petId:0,type:"",reason:""}),q(null))},prefillClientId:ee.clientId,prefillPetId:ee.petId,prefillType:ee.type,prefillReason:ee.reason,originalVaccinationId:J==null?void 0:J.id}),b&&r.jsx(F0,{selectedClientId:Pe==null?void 0:Pe.id,selectedPetId:n.id,children:r.jsx(V,{onClick:()=>C(!1),children:"Fermer"})}),r.jsx(Ope,{open:$,onOpenChange:le=>{oe(le),le||re(null)},vaccination:ge}),_&&r.jsx(B0,{selectedClientId:Pe==null?void 0:Pe.id,selectedPetId:n.id,children:r.jsx(V,{onClick:()=>A(!1),children:"Fermer"})}),n&&r.jsx("div",{style:{display:"none"},children:r.jsx(CP,{ref:je,petId:n.id})})]})}const MFe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function IFe(){const{pets:e,consultations:t,appointments:n,clients:s}=Pt();Zt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),N=[...e].sort((O,L)=>!O.lastVisit&&!L.lastVisit?0:O.lastVisit?L.lastVisit?new Date(L.lastVisit).getTime()-new Date(O.lastVisit).getTime():-1:1).slice(0,5),j=e.length,b=e.filter(O=>O.status==="healthy").length;e.filter(O=>O.status==="treatment").length,e.filter(O=>O.status==="urgent").length;const C=e.filter(O=>{if(!O.lastVisit)return!1;const L=new Date(O.lastVisit),B=new Date().getMonth(),ee=new Date().getFullYear();return L.getMonth()===B&&L.getFullYear()===ee}).length,_=j>0?(t.length/j).toFixed(1):"0",A=O=>{v(O),l(!0)},P=O=>{v(O),u(!0)},E=O=>{v(O),f(!0)},D=O=>{v(O),g(!0)},I=O=>{const L=t.filter(G=>G.petId===O.id),B=n.filter(G=>G.petId===O.id),ee=s.find(G=>G.id===O.ownerId);return{consultations:L.length,appointments:B.length,owner:(ee==null?void 0:ee.name)||O.owner,lastConsultation:L.length>0?Math.max(...L.map(G=>new Date(G.date).getTime())):O.lastVisit?new Date(O.lastVisit).getTime():0}},k=O=>{switch(O){case"healthy":return r.jsx(Ut,{className:"h-3 w-3 text-green-600"});case"treatment":return r.jsx(br,{className:"h-3 w-3 text-yellow-600"});case"urgent":return r.jsx(Wn,{className:"h-3 w-3 text-red-600"});default:return r.jsx(Ut,{className:"h-3 w-3"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(ue,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ke,{className:"text-lg font-semibold",children:"Animaux Récents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ut,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[b," en bonne santé"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",C," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rn,{className:"h-3 w-3"}),r.jsxs("span",{children:["Ø ",_," consultations"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),r.jsx(he,{className:"space-y-4",children:N.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ut,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun animal enregistré"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier animal"})]}):N.map(O=>{const L=I(O);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx(Gr,{className:"h-12 w-12 flex-shrink-0",children:O.photo?r.jsx(ul,{src:O.photo,alt:O.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Ut,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium truncate",children:O.name}),r.jsxs(Le,{variant:"outline",className:MFe[O.status],children:[k(O.status),r.jsx("span",{className:"ml-1",children:O.status==="healthy"?"En bonne santé":O.status==="treatment"?"En traitement":"Urgent"})]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium",children:O.type}),O.breed&&r.jsxs("span",{children:[" - ",O.breed]}),O.gender&&r.jsxs("span",{children:[" (",O.gender==="male"?"Mâle":"Femelle",")"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(At,{className:"h-3 w-3"}),r.jsx("span",{children:O.birthDate?af(O.birthDate):"Âge inconnu"})]})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Propriétaire: ",L.owner]}),r.jsxs("span",{children:["Consultations: ",L.consultations]}),r.jsxs("span",{children:["RDV: ",L.appointments]}),O.lastVisit&&r.jsxs("span",{children:["Dernière visite: ",new Date(O.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),r.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>A(O),className:"h-8 px-2",children:r.jsx($r,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(O),className:"h-8 px-2",children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(O),className:"h-8 px-2 text-xs",children:"Dossier"}),r.jsx(V,{size:"sm",onClick:()=>D(O),className:"h-8 px-2 text-xs",children:r.jsx(br,{className:"h-3 w-3"})})]})]},O.id)})})]}),r.jsx(wv,{open:i,onOpenChange:a}),r.jsx(OV,{open:o,onOpenChange:l,pet:x,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),f(!0)}}),r.jsx(Lfe,{open:c,onOpenChange:u,pet:x}),r.jsx(N9,{open:d,onOpenChange:f,pet:x}),r.jsx(nm,{open:m,onOpenChange:g})]})}function S9({open:e,onOpenChange:t,consultation:n}){const{clients:s,pets:i,updateConsultation:a}=Pt(),{toast:o}=$t(),{settings:l}=Zt(),[c,u]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=i.filter(v=>v.ownerId===c.clientId),f=new Date().toISOString().split("T")[0],m=v=>{u(y=>({...y,[v.target.id]:v.target.value}))},g=(v,y)=>{if(v==="clientId"){const N=parseInt(y),j=s.find(b=>b.id===N);u(b=>({...b,clientId:N,clientName:(j==null?void 0:j.name)||"",petId:0,petName:""}))}else if(v==="petId"){const N=parseInt(y),j=i.find(b=>b.id===N);u(b=>({...b,petId:N,petName:(j==null?void 0:j.name)||""}))}else u(N=>({...N,[v]:y}))},x=v=>{if(v.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez sélectionner un client et un animal.",variant:"destructive"});return}a(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||f,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifiée",description:`Consultation pour ${c.petName} (${c.clientName}) a été modifiée et sauvegardée.`}),t(!1)}};return w.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier la Consultation"}),r.jsxs(pn,{children:["Modifiez les détails de la consultation pour ",n.petName,"."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Client *"}),r.jsxs($e,{value:c.clientId.toString(),onValueChange:v=>g("clientId",v),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le client"})}),r.jsx(Ie,{children:s.map(v=>r.jsx(U,{value:v.id.toString(),children:v.name},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Animal *"}),r.jsxs($e,{value:c.petId.toString(),onValueChange:v=>g("petId",v),disabled:!c.clientId,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:c.clientId?"Sélectionner l'animal":"Sélectionnez d'abord un client"})}),r.jsx(Ie,{children:d.map(v=>r.jsxs(U,{value:v.id.toString(),children:[v.name," (",v.type,")"]},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:c.date||f,onChange:m,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:m,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"temperature",children:"Température (°C)"}),r.jsx(ie,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:m,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"symptoms",children:"Symptômes observés"}),r.jsx(wt,{id:"symptoms",value:c.symptoms,onChange:m,placeholder:"Décrivez les symptômes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(wt,{id:"diagnosis",value:c.diagnosis,onChange:m,placeholder:"Diagnostic posé...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"treatment",children:"Traitement administré"}),r.jsx(wt,{id:"treatment",value:c.treatment,onChange:m,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"medications",children:"Médicaments prescrits"}),r.jsx(wt,{id:"medications",value:c.medications,onChange:m,placeholder:"Liste des médicaments avec posologie...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(ie,{id:"followUp",value:c.followUp,onChange:m,placeholder:"ex: Contrôle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"cost",children:["Coût (",l.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:m,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(wt,{id:"notes",value:c.notes,onChange:m,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function Wj({consultation:e}){const{settings:t}=Zt(),n=()=>{const s=window.open("","_blank");if(!s)return;const i=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(e.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${e.weight||"Non renseigné"}
              </div>
              <div class="info-item">
                <span class="info-label">Température:</span> ${e.temperature||"Non renseigné"}
              </div>
            </div>
          </div>

          ${e.symptoms?`
            <div class="medical-section">
              <h3>Symptômes Observés</h3>
              <p>${e.symptoms}</p>
            </div>
          `:""}

          ${e.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${e.diagnosis}</p>
            </div>
          `:""}

          ${e.treatment?`
            <div class="medical-section">
              <h3>Traitement Administré</h3>
              <p>${e.treatment}</p>
            </div>
          `:""}

          ${e.medications?`
            <div class="medical-section">
              <h3>Médicaments Prescrits</h3>
              <p>${e.medications}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommandé</h3>
              <p>${e.followUp||"Aucun suivi prévu"}</p>
            </div>
            <div class="info-section">
              <h3>Coût</h3>
              <p>${e.cost?e.cost+" "+t.currency:"Non renseigné"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation générée le ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vétérinaire Complète</p>
          </div>
        </body>
      </html>
    `;s.document.write(i),s.document.close(),s.focus(),s.print(),s.close()};return r.jsxs(V,{size:"sm",variant:"outline",onClick:n,className:"gap-2",children:[r.jsx(EA,{className:"h-4 w-4"}),"Imprimer"]})}function $Fe(){const{consultations:e,deleteConsultation:t,pets:n,clients:s}=Pt(),{settings:i}=Zt(),{toast:a}=$t(),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((L,B)=>new Date(B.date).getTime()-new Date(L.date).getTime()).slice(0,5),x=e.length,v=e.filter(L=>L.date===new Date().toISOString().split("T")[0]).length,y=new Date().getMonth(),N=new Date().getFullYear(),j=e.filter(L=>{const B=new Date(L.date);return B.getMonth()===y&&B.getFullYear()===N}).length,b=e.filter(L=>{const B=new Date(L.date),ee=y===0?11:y-1,G=y===0?N-1:N;return B.getMonth()===ee&&B.getFullYear()===G}).length,C=b>0?Math.round((j-b)/b*100):j>0?100:0,_=j*50,A=b*50,P=A>0?Math.round((_-A)/A*100):_>0?100:0,E=L=>{f(L),u(!0)},D=L=>{confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${L.petName} ?`)&&(t(L.id),a({title:"Consultation supprimée",description:`La consultation pour ${L.petName} a été supprimée.`}))},I=L=>{const B=new Date().toISOString().split("T")[0];return L.date===B?"bg-accent text-accent-foreground":L.date<B?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},k=L=>{const B=new Date().toISOString().split("T")[0];return L.date===B?"Aujourd'hui":L.date<B?"Terminée":"À venir"},O=L=>{const B=n.find(G=>G.id===L.petId),ee=s.find(G=>G.id===L.clientId);return{petType:(B==null?void 0:B.type)||"Inconnu",petBreed:(B==null?void 0:B.breed)||"Non spécifiée",clientPhone:(ee==null?void 0:ee.phone)||"Non spécifié",clientCity:(ee==null?void 0:ee.city)||"Non spécifiée"}};return r.jsxs(r.Fragment,{children:[r.jsxs(ue,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ke,{className:"text-lg font-semibold",children:"Consultations Récentes"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," aujourd'hui"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," ce mois"]}),C!==0&&r.jsxs(Le,{variant:C>0?"default":"destructive",className:"text-xs",children:[C>0?"+":"",C,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qf,{className:"h-3 w-3"}),r.jsxs("span",{children:["~",_,"€ ce mois"]}),P!==0&&r.jsxs(Le,{variant:P>0?"default":"destructive",className:"text-xs",children:[P>0?"+":"",P,"%"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistrée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]}):g.map(L=>{const B=O(L);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-12 w-12",children:r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(br,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Consultation #",L.id]}),r.jsx(Le,{variant:"outline",className:I(L),children:k(L)}),L.cost&&r.jsxs(Le,{variant:"secondary",className:"text-xs",children:[L.cost," ",i.currency||"€"]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ut,{className:"h-3 w-3"}),r.jsxs("span",{children:[L.petName," (",B.petType,")"]}),B.petBreed!=="Non spécifiée"&&r.jsxs("span",{children:[" - ",B.petBreed]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rr,{className:"h-3 w-3"}),r.jsx("span",{children:L.clientName})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(At,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(L.date).toLocaleDateString("fr-FR")})]})]})}),r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[L.diagnosis&&r.jsxs("span",{children:["Diagnostic: ",L.diagnosis]}),L.weight&&r.jsxs("span",{children:["Poids: ",L.weight]}),L.temperature&&r.jsxs("span",{children:["Température: ",L.temperature,"°C"]}),L.photos&&L.photos.length>0&&r.jsxs("span",{children:["📷 ",L.photos.length," photo",L.photos.length>1?"s":""]})]})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>E(L),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]}),r.jsx(Wj,{consultation:L}),r.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>D(L),className:"gap-2",children:[r.jsx(ur,{className:"h-4 w-4"}),"Supprimer"]})]})]},L.id)})})]}),r.jsx(nm,{open:o,onOpenChange:l}),r.jsx(S9,{open:c,onOpenChange:u,consultation:d})]})}function RFe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:s}=Pt();Zt();const i=new Date().toISOString().split("T")[0];n();const a=s(),o=e.filter(d=>d.date===i&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:Wn,title:"Stock épuisé",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Kn,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),a.length>0&&u.push({type:"warning",icon:Rn,title:"Rendez-vous en retard",message:`${a.length} rendez-vous en retard`,count:a.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:At,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prévus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?r.jsxs(ue,{className:"card-hover",children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-green-600 text-4xl mb-2",children:"✅"}),r.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte à signaler."})]})})]}):r.jsxs(ue,{className:"card-hover",children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",r.jsx(Le,{variant:"destructive",className:"ml-2",children:u.length})]})}),r.jsx(he,{className:"space-y-3",children:u.map((d,f)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:r.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:d.title}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),r.jsx(Le,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},f))})]})}function LFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o}=Pt();Zt();const l=e.reduce((N,j)=>N+j.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+s.length+i.length+a.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),f=new Date().toISOString().split("T")[0],m=n.filter(N=>N.date===f).length,g=s.filter(N=>N.date===f&&N.status!=="cancelled"&&N.status!=="completed").length,x=new Date().getMonth(),v=new Date().getFullYear(),y=n.filter(N=>{const j=new Date(N.date);return j.getMonth()===x&&j.getFullYear()===v}).length;return r.jsxs(ue,{className:"mb-6",children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[c?r.jsx(er,{className:"h-5 w-5 text-green-600"}):r.jsx(kr,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-purple-600"}),r.jsxs("span",{className:"text-sm",children:["RDV: ",s.length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",m+g]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Ce mois: ",y]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-orange-600"}),r.jsxs("span",{className:"text-sm",children:["Prescriptions: ",i.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-4 w-4 text-indigo-600"}),r.jsxs("span",{className:"text-sm",children:["Fermes: ",a.length]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Intégrité des données:"}),r.jsxs(Le,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):r.jsxs(r.Fragment,{children:[r.jsx(kr,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-yellow-700",children:"Désynchronisation détectée"})]})}),!c&&r.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[r.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronisé(s) entre clients et animaux"]})]})]})]})}function FFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o,resetData:l,exportData:c,importData:u}=Pt(),{settings:d}=Zt(),{toast:f}=$t(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),y=e.length+t.length+n.length+s.length+i.length+a.length+o.length,N=Math.round(y*.5),j=[...e.map(O=>O.lastVisit),...t.map(O=>O.lastVisit).filter(Boolean),...n.map(O=>O.date),...s.map(O=>O.date),...i.map(O=>O.date),...a.map(O=>O.lastVisit)].filter(Boolean),b=j.length>0?new Date(Math.max(...j.map(O=>new Date(O).getTime()))):new Date,C=new Date().toISOString().split("T")[0],_=new Date().getMonth(),A=new Date().getFullYear(),P=[...e.filter(O=>O.lastVisit===C),...t.filter(O=>O.lastVisit===C),...n.filter(O=>O.date===C),...s.filter(O=>O.date===C)].length,E=[...e.filter(O=>{const L=new Date(O.lastVisit);return L.getMonth()===_&&L.getFullYear()===A}),...t.filter(O=>{if(!O.lastVisit)return!1;const L=new Date(O.lastVisit);return L.getMonth()===_&&L.getFullYear()===A}),...n.filter(O=>{const L=new Date(O.date);return L.getMonth()===_&&L.getFullYear()===A}),...s.filter(O=>{const L=new Date(O.date);return L.getMonth()===_&&L.getFullYear()===A})].length,D=()=>{try{c(),f({title:"Données exportées",description:`Export de ${y} enregistrements réussi.`})}catch{f({title:"Erreur d'export",description:"Impossible d'exporter les données.",variant:"destructive"})}},I=O=>{var ee;const L=(ee=O.target.files)==null?void 0:ee[0];if(!L)return;const B=new FileReader;B.onload=G=>{var J,q;try{const $=JSON.parse((J=G.target)==null?void 0:J.result);if($.clients&&$.pets)u($),f({title:"Données importées",description:`${$.clients.length} clients, ${$.pets.length} animaux et ${((q=$.consultations)==null?void 0:q.length)||0} consultations importés avec succès.`});else throw new Error("Format de fichier invalide")}catch{f({title:"Erreur d'import",description:"Le fichier sélectionné n'est pas valide.",variant:"destructive"})}},B.readAsText(L),v(!1)},k=()=>{try{l(),f({title:"Données réinitialisées",description:"Toutes les données ont été remises aux valeurs par défaut."}),g(!1)}catch{f({title:"Erreur de réinitialisation",description:"Impossible de réinitialiser les données.",variant:"destructive"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Yte,{className:"h-5 w-5"}),"Gestion des Données"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"text-muted-foreground",children:[y," enregistrements"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Taille:"}),r.jsxs("span",{className:"text-muted-foreground",children:["~",N," KB"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Dernière modif:"}),r.jsx("span",{className:"text-muted-foreground",children:b.toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),r.jsx("span",{className:"text-muted-foreground",children:P})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Ce mois:"}),r.jsx("span",{className:"text-muted-foreground",children:E})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Clinique:"}),r.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configurée"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[r.jsx("div",{className:"font-medium text-blue-700",children:e.length}),r.jsx("div",{className:"text-blue-600",children:"Clients"})]}),r.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[r.jsx("div",{className:"font-medium text-red-700",children:t.length}),r.jsx("div",{className:"text-red-600",children:"Animaux"})]}),r.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[r.jsx("div",{className:"font-medium text-green-700",children:n.length}),r.jsx("div",{className:"text-green-600",children:"Consultations"})]}),r.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"font-medium text-purple-700",children:s.length}),r.jsx("div",{className:"text-purple-600",children:"RDV"})]}),r.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[r.jsx("div",{className:"font-medium text-orange-700",children:i.length}),r.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),r.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[r.jsx("div",{className:"font-medium text-indigo-700",children:a.length}),r.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:D,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[r.jsx(XC,{className:"h-4 w-4"}),"Importer"]}),r.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>g(!0),className:"gap-2",children:[r.jsx(n6,{className:"h-4 w-4"}),"Réinitialiser"]})]})]})]}),r.jsx(St,{open:m,onOpenChange:g,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-5 w-5 text-red-600"}),"Réinitialiser toutes les données"]}),r.jsx(pn,{children:"Cette action supprimera définitivement toutes les données (clients, animaux, consultations, etc.) et les remettra aux valeurs par défaut. Cette action ne peut pas être annulée."})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(V,{variant:"outline",onClick:()=>g(!1),children:"Annuler"}),r.jsx(V,{variant:"destructive",onClick:k,children:"Réinitialiser"})]})]})}),r.jsx(St,{open:x,onOpenChange:v,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(XC,{className:"h-5 w-5"}),"Importer des données"]}),r.jsx(pn,{children:"Sélectionnez un fichier JSON exporté précédemment pour restaurer vos données."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:".json",onChange:I,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Note:"})," L'import remplacera toutes les données existantes."]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(V,{variant:"outline",onClick:()=>v(!1),children:"Annuler"})})]})})]})}function BFe(){const{clients:e,pets:t,consultations:n,appointments:s,vaccinations:i,antiparasitics:a,stockItems:o,getUpcomingAppointments:l,getOverdueAppointments:c,generateAccountingSummary:u}=Pt(),{settings:d}=Zt(),f=new Date().toISOString().split("T")[0],m=new Date().getMonth(),g=new Date().getFullYear(),x=n.filter(k=>k.date===f).length,v=s.filter(k=>k.date===f&&k.status!=="cancelled").length,N=l().filter(k=>{const O=new Date(k.date),L=new Date,B=new Date(L.getTime()+7*24*60*60*1e3);return O<=B}).length,j=c(),b=o.filter(k=>k.currentStock<=k.minimumStock).length,C=o.filter(k=>k.currentStock===0).length,_=new Date(g,m,1).toISOString().split("T")[0],A=new Date(g,m+1,0).toISOString().split("T")[0],P=u(`${g}-${String(m+1).padStart(2,"0")}`,_,A),E=e.filter(k=>{const O=new Date(k.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,D=t.filter(k=>{const O=new Date(k.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,I=[{title:"Consultations Aujourd'hui",value:x,icon:br,color:"text-green-600",bgColor:"bg-green-50",trend:x>0?"up":"neutral",description:"Consultations réalisées"},{title:"RDV Aujourd'hui",value:v,icon:At,color:"text-blue-600",bgColor:"bg-blue-50",trend:v>0?"up":"neutral",description:"Rendez-vous programmés"},{title:"RDV Cette Semaine",value:N,icon:Rn,color:"text-purple-600",bgColor:"bg-purple-50",trend:N>0?"up":"neutral",description:"Rendez-vous à venir"},{title:"RDV En Retard",value:j.length,icon:Wn,color:j.length>0?"text-red-600":"text-gray-600",bgColor:j.length>0?"bg-red-50":"bg-gray-50",trend:j.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:E,icon:Ia,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:E>0?"up":"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:D,icon:Ut,color:"text-pink-600",bgColor:"bg-pink-50",trend:D>0?"up":"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${P.totalRevenue.toFixed(0)} ${d.currency||"€"}`,icon:qf,color:"text-green-600",bgColor:"bg-green-50",trend:P.totalRevenue>0?"up":"neutral",description:`Bénéfice: ${P.netIncome.toFixed(0)} ${d.currency||"€"}`},{title:"Stock Critique",value:b,icon:Ma,color:b>0?"text-orange-600":"text-green-600",bgColor:b>0?"bg-orange-50":"bg-green-50",trend:b>0?"down":"neutral",description:`${C} en rupture`}];return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:I.map((k,O)=>r.jsxs(ue,{className:"card-hover",children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium text-muted-foreground",children:k.title}),r.jsx("div",{className:`p-2 rounded-lg ${k.bgColor}`,children:r.jsx(k.icon,{className:`h-4 w-4 ${k.color}`})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-2xl font-bold",children:k.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[k.trend==="up"&&r.jsxs(r.Fragment,{children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsxs(Le,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),k.trend==="down"&&r.jsxs(r.Fragment,{children:[r.jsx(Uu,{className:"h-4 w-4 text-red-600"}),r.jsxs(Le,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),k.trend==="neutral"&&r.jsx(Le,{variant:"outline",className:"text-xs",children:"0%"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:k.description})]})]},O))})}function zFe(){const{accountingEntries:e}=Pt(),{settings:t}=Zt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(g=>{const x=new Date(g.date);return x>=new Date(c)&&x<=new Date(u)}),f=d.filter(g=>g.type==="revenue").reduce((g,x)=>g+x.amount,0),m=d.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(f),expenses:Math.round(m),profit:Math.round(f-m)})}return i})();return r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Évolution des Revenus"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(dl,{width:"100%",height:"100%",children:r.jsxs(FT,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(sd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:i=>`${i}${t.currency||"€"}`}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[`${i} ${t.currency||"€"}`,a==="revenue"?"Revenus":a==="expenses"?"Dépenses":"Bénéfice"]}),r.jsx(ta,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),r.jsx(ta,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Dépenses"})]})]})]})]})}function VFe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:s}=Pt(),a=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],f=e.filter(v=>v.date===d).length,m=t.filter(v=>v.date===d).length,g=n.filter(v=>v.dateGiven===d).length,x=s.filter(v=>v.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:f,appointments:m,vaccinations:g,antiparasitics:x,total:f+m+g+x})}return o})();return r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Activité des 7 derniers jours"}),r.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(dl,{width:"100%",height:"100%",children:r.jsxs(jFe,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(sd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),r.jsx(oo,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function UFe(){const{stockItems:e}=Pt(),t=W.useMemo(()=>{const i=e.length,a=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:i-a-o,color:"#10b981"},{name:"Stock Faible",value:a,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((i,a)=>i+a.currentStock*a.purchasePrice,0),s=e.sort((i,a)=>a.currentStock*a.purchasePrice-i.currentStock*i.purchasePrice).slice(0,5);return r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"État du Stock"}),r.jsx(Kn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(dl,{width:"100%",height:"100%",children:r.jsxs(LT,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,a)=>r.jsx(hm,{fill:i.color},`cell-${a}`))}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:i=>[i,"Articles"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),r.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," €"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus précieux"}),s.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"truncate flex-1",children:i.name}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[(i.currentStock*i.purchasePrice).toFixed(0)," €"]})]},i.id))]})]})]})]})}function qFe(){const{clients:e,pets:t}=Pt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,f=t.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,m=e.filter(x=>new Date(x.createdAt)<=u).length,g=t.filter(x=>new Date(x.createdAt)<=u).length;i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:f,totalClients:m,totalPets:g})}return i})();return r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Croissance des Clients"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(dl,{width:"100%",height:"100%",children:r.jsxs(FT,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(sd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[i,a==="newClients"?"Nouveaux Clients":a==="newPets"?"Nouveaux Animaux":a==="totalClients"?"Total Clients":"Total Animaux"]}),r.jsx(ta,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),r.jsx(ta,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function WFe(){const{appointments:e}=Pt(),t=W.useMemo(()=>{const c=e.reduce((f,m)=>(f[m.status]=(f[m.status]||0)+1,f),{}),u={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([f,m])=>({name:u[f]||f,value:m,color:d[f]||"#6b7280"}))},[e]),n=e.length,s=e.filter(c=>c.status==="completed").length,i=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,a=e.filter(c=>c.status==="cancelled").length,o=n>0?s/n*100:0,l=n>0?a/n*100:0;return r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),r.jsx(At,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(dl,{width:"100%",height:"100%",children:r.jsxs(LT,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>r.jsx(hm,{fill:c.color},`cell-${u}`))}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de réussite"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Terminés"})]}),r.jsx("span",{className:"font-medium",children:s})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"À venir"})]}),r.jsx("span",{className:"font-medium",children:i})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ig,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{children:"Annulés"})]}),r.jsx("span",{className:"font-medium",children:a})]})]})]})]})]})}function HFe(){const{consultations:e}=Pt(),n=(()=>{const s=[],i=new Date;for(let a=11;a>=0;a--){const o=new Date(i.getFullYear(),i.getMonth()-a,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(m=>{const g=new Date(m.date);return g>=l&&g<=c}),d=u.reduce((m,g)=>m+(g.cost||0),0),f=u.length>0?d/u.length:0;s.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(f)})}return s})();return r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Tendances des Consultations"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(dl,{width:"100%",height:"100%",children:r.jsxs(FT,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(sd,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(s,i)=>[i==="consultations"?s:`${s} €`,i==="consultations"?"Consultations":i==="revenue"?"Revenus":"Revenu moyen"]}),r.jsx(ta,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function GFe(){const{pets:e}=Pt(),t=W.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,s=t.length>0?t[0]:null,i=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,a=o=>{switch(o.toLowerCase()){case"chien":case"dog":return r.jsx(Qte,{className:"h-4 w-4"});case"chat":case"cat":return r.jsx(qte,{className:"h-4 w-4"});case"poisson":case"fish":return r.jsx(Xte,{className:"h-4 w-4"});case"oiseau":case"bird":return r.jsx(Vte,{className:"h-4 w-4"});default:return r.jsx(Ut,{className:"h-4 w-4"})}};return r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Répartition par Espèce"}),r.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(dl,{width:"100%",height:"100%",children:r.jsxs(LT,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>r.jsx(hm,{fill:o.color},`cell-${l}`))}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),r.jsx("span",{className:"font-medium",children:n})]}),s&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Espèce la plus commune"}),r.jsxs("div",{className:"flex items-center gap-2",children:[a(s.name),r.jsx("span",{className:"font-medium",children:s.name})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Âge moyen"}),r.jsxs("span",{className:"font-medium",children:[i.toFixed(1)," ans"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Répartition détaillée"}),t.slice(0,5).map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(o.name),r.jsx("span",{children:o.name})]}),r.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const KFe=()=>r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsx(Dfe,{}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Réel"}),r.jsx(BFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(LFe,{}),r.jsx(FFe,{}),r.jsx(RFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),r.jsx(Mfe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(q2,{children:r.jsx(zFe,{})}),r.jsx(VFe,{})]})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(UFe,{}),r.jsx(qFe,{}),r.jsx(WFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(HFe,{}),r.jsx(GFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(Rfe,{}),r.jsx(IFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activité Récente"}),r.jsx($Fe,{})]}),r.jsx(q2,{children:r.jsx("section",{children:r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),bd=e=>{const{settings:t}=Zt();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},YFe=(e,t)=>{const n=t.filter(a=>a.client_id===e.id),s=Math.abs(e.id.split("").reduce((a,o)=>(a=(a<<5)-a+o.charCodeAt(0),a&a),0)),i=n.map(a=>({id:Math.abs(a.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:a.name,type:a.species,breed:a.breed||""}));return{id:s,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:i,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0,dbId:e.id}},QFe=()=>{const{data:e=[],isLoading:t}=md(),{data:n=[],isLoading:s}=pd(),i=ufe(),{toast:a}=$t(),o=e.map(k=>YFe(k,n)),{currentView:l}=bd("clients"),[c,u]=w.useState(""),[d,f]=w.useState(l),[m,g]=w.useState(!1),[x,v]=w.useState(null),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[C,_]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"Rabat",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),A=o.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.email.toLowerCase().includes(c.toLowerCase())||k.city&&k.city.toLowerCase().includes(c.toLowerCase())),P=k=>{v(k),N(!0)},E=k=>{v(k),_({first_name:k.firstName,last_name:k.lastName,email:k.email,phone:k.phone,mobile_phone:"",address:k.address,city:k.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),b(!0)},D=()=>{x&&_({first_name:x.firstName,last_name:x.lastName,email:x.email,phone:x.phone,mobile_phone:"",address:x.address,city:x.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),N(!1),b(!0)},I=async k=>{if(k.preventDefault(),!x||!C.first_name||!C.last_name){a({title:"Erreur",description:"Le prénom et le nom sont obligatoires",variant:"destructive"});return}try{await i.mutateAsync({id:x.dbId,data:C}),a({title:"Client modifié",description:`${C.first_name} ${C.last_name} a été modifié avec succès`}),b(!1),v(null)}catch(O){a({title:"Erreur",description:O instanceof Error?O.message:"Erreur lors de la modification du client",variant:"destructive"})}};return t||s?r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez tous vos clients et leurs informations"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:d==="cards"?"default":"outline",onClick:()=>f("cards"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:d==="table"?"default":"outline",onClick:()=>f("table"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher un client"]})}),r.jsx(he,{children:r.jsx(ie,{placeholder:"Rechercher par nom, email ou ville...",value:c,onChange:k=>u(k.target.value),className:"max-w-md"})})]}),d==="cards"?r.jsx("div",{className:"grid gap-6",children:A.map(k=>r.jsx(ue,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx(Gr,{className:"h-16 w-16",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-lg",children:k.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:k.name}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3"}),k.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),k.phone]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ud,{className:"h-3 w-3"}),k.address]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(Ut,{className:"h-4 w-4 text-primary"}),"Animaux (",k.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:k.pets.length>0?k.pets.map((O,L)=>r.jsxs(Le,{variant:"secondary",className:"gap-1",children:[O.name," - ",O.type," ",O.breed&&`(${O.breed})`]},O.id||L)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistré"})})]}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Dernière visite:"})," ",k.lastVisit]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Total visites:"})," ",k.totalVisits]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>P(k),children:[r.jsx($r,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>E(k),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})})},k.id))}):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:A.map(k=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-sm",children:k.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:k.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.address})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm",children:k.email}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.phone})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex gap-1 flex-wrap",children:k.pets.length>0?k.pets.map((O,L)=>r.jsx(Le,{variant:"secondary",className:"text-xs",children:O.name},O.id||L)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),r.jsx("td",{className:"p-4",children:k.lastVisit}),r.jsx("td",{className:"p-4",children:k.totalVisits}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(k),children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(k),children:r.jsx(tn,{className:"h-4 w-4"})})]})})]},k.id))})]})})})}),r.jsx(bv,{open:m,onOpenChange:g}),x&&y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(ue,{className:"w-full max-w-2xl mx-4",children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center justify-between",children:["Profil Client - ",x.name,r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>N(!1),children:"✕"})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nom complet"}),r.jsx("p",{children:x.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx("p",{children:x.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Téléphone"}),r.jsx("p",{children:x.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Ville"}),r.jsx("p",{children:x.city})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),r.jsx("p",{children:x.address})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium",children:["Animaux (",x.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:x.pets.map((k,O)=>r.jsxs(Le,{variant:"secondary",children:[k.name," - ",k.type," ",k.breed&&`(${k.breed})`]},k.id||O))})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(V,{onClick:()=>D(),children:"Modifier"}),r.jsx(V,{variant:"outline",onClick:()=>N(!1),children:"Fermer"})]})]})]})}),x&&j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(ue,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center justify-between",children:["Modifier Client - ",x.name,r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:"✕"})]})}),r.jsx(he,{children:r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_first_name",children:"Prénom *"}),r.jsx(ie,{id:"edit_first_name",value:C.first_name,onChange:k=>_(O=>({...O,first_name:k.target.value})),placeholder:"Prénom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_last_name",children:"Nom *"}),r.jsx(ie,{id:"edit_last_name",value:C.last_name,onChange:k=>_(O=>({...O,last_name:k.target.value})),placeholder:"Nom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_email",children:"Email"}),r.jsx(ie,{id:"edit_email",type:"email",value:C.email||"",onChange:k=>_(O=>({...O,email:k.target.value})),placeholder:"email@exemple.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_phone",children:"Téléphone"}),r.jsx(ie,{id:"edit_phone",value:C.phone||"",onChange:k=>_(O=>({...O,phone:k.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_mobile_phone",children:"Téléphone mobile"}),r.jsx(ie,{id:"edit_mobile_phone",value:C.mobile_phone||"",onChange:k=>_(O=>({...O,mobile_phone:k.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_city",children:"Ville"}),r.jsx(ie,{id:"edit_city",value:C.city||"Rabat",onChange:k=>_(O=>({...O,city:k.target.value})),placeholder:"Ville"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_address",children:"Adresse"}),r.jsx(ie,{id:"edit_address",value:C.address||"",onChange:k=>_(O=>({...O,address:k.target.value})),placeholder:"Adresse complète"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_postal_code",children:"Code postal"}),r.jsx(ie,{id:"edit_postal_code",value:C.postal_code||"",onChange:k=>_(O=>({...O,postal_code:k.target.value})),placeholder:"10000"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_client_type",children:"Type de client"}),r.jsxs($e,{value:C.client_type||"particulier",onValueChange:k=>_(O=>({...O,client_type:k})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Type de client"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"particulier",children:"Particulier"}),r.jsx(U,{value:"eleveur",children:"Éleveur"}),r.jsx(U,{value:"ferme",children:"Ferme"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edit_notes",children:"Notes"}),r.jsx(wt,{id:"edit_notes",value:C.notes||"",onChange:k=>_(O=>({...O,notes:k.target.value})),placeholder:"Notes supplémentaires...",rows:3})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(V,{type:"submit",disabled:i.isPending,className:"flex-1",children:i.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"h-4 w-4 animate-spin mr-2"}),"Modification..."]}):"Enregistrer"}),r.jsx(V,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:i.isPending,className:"flex-1",children:"Annuler"})]})]})})]})})]})},XFe=()=>r.jsx(QFe,{});function JFe({open:e,onOpenChange:t,pet:n}){const[s,i]=w.useState("overview");if(!n)return null;const a=n.birthDate?af(n.birthDate):"Non renseigné",o=n.weight?`${n.weight} kg`:"Non renseigné";return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Dossier Médical - ",n.name," (Propriétaire: ",n.owner,")"]})}),r.jsxs(vl,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs(bo,{className:"grid w-full grid-cols-6",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"historique",className:"flex items-center gap-1",children:[r.jsx(At,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"flex items-center gap-1",children:[r.jsx(ur,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"flex items-center gap-1",children:[r.jsx(ks,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"flex items-center gap-1",children:[r.jsx(kr,{className:"h-4 w-4"}),"Antiparasites"]}),r.jsxs(ln,{value:"pedigree",className:"flex items-center gap-1",children:[r.jsx(y0,{className:"h-4 w-4"}),"Pedigree"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-6",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Informations générales"})}),r.jsx(he,{children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Gr,{className:"h-32 w-32",children:n.photo?r.jsx(ul,{src:n.photo,alt:n.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Ut,{className:"h-16 w-16"})})}),r.jsxs(V,{variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(rf,{className:"h-4 w-4"}),"Ajouter photo"]})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:n.name}),r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",n.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",n.breed||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sexe:"})," ",n.gender==="male"?"Mâle":n.gender==="female"?"Femelle":"Inconnu"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",a]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date de naissance:"})," ",n.birthDate||"Non renseignée"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",n.color||"Non renseignée"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids actuel:"})," ",o]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"N° puce:"})," ",n.microchip||"Non renseigné"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Statut de santé:"}),r.jsx(Le,{variant:n.status==="healthy"?"default":n.status==="treatment"?"secondary":"destructive",children:n.status==="healthy"?"En bonne santé":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Propriétaire:"})," ",n.owner]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernière visite:"})," ",n.lastVisit||"Aucune"]})]})]})]})})]}),r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{children:"Galerie photos"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter une photo"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[r.jsx(rf,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo disponible"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez des photos de l'animal pour enrichir son dossier"})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsx("p",{className:"text-lg font-bold",children:o}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"-28.2kg"})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ag,{className:"h-5 w-5 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Température"}),r.jsx("p",{className:"text-lg font-bold",children:"38.5°C"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Moy: 38.5°C"})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Dernière: 15/01/2024"})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kr,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"À traiter"})]})]})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5"}),"Prochain suivi recommandé"]})}),r.jsx(he,{children:r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"Contrôle dans 3 an"}),r.jsxs(V,{size:"sm",className:"mt-2 gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Planifier"]})]})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-red-600",children:"Alertes importantes"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(kr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Contrôle de routine recommandé"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernière consultation il y a 20 mois"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier consultation"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(kr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"DHPP - 247 jour(s) de retard"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier vaccination"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(kr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Lyme - 512 jour(s) de retard"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier vaccination"})]})]})]})]}),r.jsx(cn,{value:"historique",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Historique médical"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(At,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{children:"Prescriptions"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle prescription"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ur,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune prescription disponible"})]})})]})}),r.jsx(cn,{value:"vaccinations",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{children:"Vaccinations"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle vaccination"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium",children:[r.jsx("div",{children:"Rage"}),r.jsx("div",{children:"DHPP"}),r.jsx("div",{children:"Lyme"})]}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ks,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune vaccination enregistrée"})]})]})})]})}),r.jsx(cn,{value:"antiparasites",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{children:"Antiparasitaires"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau traitement"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(kr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucun traitement antiparasitaire enregistré"})]})})]})}),r.jsx(cn,{value:"pedigree",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Informations de pedigree"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(y0,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune information de pedigree disponible"})]})})]})})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[r.jsx("div",{className:"flex gap-2",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(ur,{className:"h-4 w-4 mr-2"}),"Voir Dossier Médical"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{children:[r.jsx(tn,{className:"h-4 w-4 mr-2"}),"Modifier"]})]})]}),r.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Animal modifié"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Les informations de ",n.name," ont été mises à jour."]})]})]})})}function ZFe({pet:e,consultations:t}){var C,_,A;const n=[...t].sort((P,E)=>new Date(E.date).getTime()-new Date(P.date).getTime()),s=n.filter(P=>P.weight).map(P=>({date:P.date,weight:parseFloat(P.weight)})),i=n.filter(P=>P.temperature).map(P=>({date:P.date,temperature:parseFloat(P.temperature)})),a=((C=s[0])==null?void 0:C.weight)||0,o=((_=s[1])==null?void 0:_.weight)||0,l=a-o,c=l>0?"up":l<0?"down":"stable",u=((A=i[0])==null?void 0:A.temperature)||0,d=i.length>0?i.reduce((P,E)=>P+E.temperature,0)/i.length:0,f=i.length>0?Math.min(...i.map(P=>P.temperature)):0,m=i.length>0?Math.max(...i.map(P=>P.temperature)):0,g=t.length,x=new Date().getMonth(),v=new Date().getFullYear(),y=t.filter(P=>{const E=new Date(P.date);return E.getMonth()===x&&E.getFullYear()===v}).length,N=n[0],j=N?Math.floor((new Date().getTime()-new Date(N.date).getTime())/(1e3*60*60*24)):null,b=[];return u>39.5?b.push({type:"danger",message:"Température élevée",icon:Wn}):u<37.5&&b.push({type:"warning",message:"Température basse",icon:Wn}),l<-2&&b.push({type:"warning",message:"Perte de poids",icon:Uu}),j&&j>180&&b.push({type:"info",message:"Contrôle recommandé",icon:At}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques médicales"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(ue,{children:[r.jsx(Ee,{className:"pb-2",children:r.jsxs(ke,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(j0,{className:"h-4 w-4"}),"Poids actuel"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[a,"kg"]}),l!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):c==="down"?r.jsx(Uu,{className:"h-3 w-3 text-red-600"}):r.jsx(Zte,{className:"h-3 w-3 text-gray-600"}),r.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{className:"pb-2",children:r.jsxs(ke,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(ag,{className:"h-4 w-4"}),"Température"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[u,"°C"]}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"°C"]}),i.length>1&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",f,"°C | Max: ",m,"°C"]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{className:"pb-2",children:r.jsxs(ke,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Consultations"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:g}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",y]}),N&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernière: ",new Date(N.date).toLocaleDateString("fr-FR")]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{className:"pb-2",children:r.jsxs(ke,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Wn,{className:"h-4 w-4"}),"Alertes"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:b.length}),r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:b.length>0?"À traiter":"Aucune"}),b.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:b.slice(0,2).map((P,E)=>r.jsx(Le,{variant:"outline",className:"text-xs",children:P.message},E))})]})]})]}),b.length>0&&r.jsxs(ue,{className:"border-destructive/20",children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-destructive text-base",children:"Alertes médicales"})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-2",children:b.map((P,E)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[r.jsx(P.icon,{className:`h-4 w-4 ${P.type==="danger"?"text-destructive":P.type==="warning"?"text-yellow-600":"text-blue-600"}`}),r.jsx("span",{className:"text-sm font-medium",children:P.message})]},E))})})]}),s.length>1||i.length>1?r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-base",children:"Tendances"})}),r.jsx(he,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution du poids"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids initial:"}),r.jsxs("span",{children:[s[s.length-1].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids actuel:"}),r.jsxs("span",{children:[s[0].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Évolution totale:"}),r.jsxs("span",{className:s[0].weight>s[s.length-1].weight?"text-green-600":"text-red-600",children:[s[0].weight-s[s.length-1].weight,"kg"]})]})]})]}),i.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Évolution de la température"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Température moyenne:"}),r.jsxs("span",{children:[d.toFixed(1),"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Variation:"}),r.jsxs("span",{children:[m-f,"°C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Stabilité:"}),r.jsx("span",{className:m-f<1?"text-green-600":"text-yellow-600",children:m-f<1?"Stable":"Variable"})]})]})]})]})})]}):r.jsx(ue,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Ma,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"Pas assez de données pour afficher les tendances"}),r.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et température"})]})})]})}const q3={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},e5e=(e,t)=>{const n=t.find(o=>o.id===e.client_id),s=n?`${n.first_name} ${n.last_name}`:"Propriétaire inconnu",i=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),a=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:i,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mâle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:a,owner:s,status:e.status==="vivant"?"healthy":e.status==="décédé"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[],dbId:e.id,dbClientId:e.client_id}},t5e=()=>{var Q;const{data:e=[],isLoading:t}=pd(),{data:n=[],isLoading:s}=md(),{data:i}=pfe(),a=hfe(),o=e.map(te=>e5e(te,n)),{data:l=[]}=gV(),{data:c=[]}=mfe(),u=w.useCallback(te=>{var M;const K=typeof te=="string"?te:(M=o.find(xe=>xe.id===te))==null?void 0:M.dbId;return K?l.filter(xe=>xe.animal_id===K):[]},[o,l]),d=w.useCallback(te=>{var M;const K=typeof te=="string"?te:(M=o.find(xe=>xe.id===te))==null?void 0:M.dbId;return K?c.filter(xe=>xe.animal_id===K):[]},[o,c]),{currentView:f}=bd("pets"),[m,g]=w.useState(""),[x,v]=w.useState("all"),[y,N]=w.useState("all"),[j,b]=w.useState(f),{settings:C}=Zt(),_=C.species.split(",").map(te=>te.trim()).filter(te=>te.length>0),[A,P]=w.useState(!1),[E,D]=w.useState(!1),[I,k]=w.useState(null),[O,L]=w.useState(!1),[B,ee]=w.useState(!1),[G,J]=w.useState(!1),{toast:q}=$t(),[$,oe]=w.useState({client_id:"",name:"",species:"Chien",breed:"",color:"",sex:"Inconnu",weight:void 0,height:void 0,birth_date:"",microchip_number:"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:"",photo_url:"",status:"healthy"}),ge=o.filter(te=>{const K=te.name.toLowerCase().includes(m.toLowerCase())||te.breed&&te.breed.toLowerCase().includes(m.toLowerCase())||te.owner.toLowerCase().includes(m.toLowerCase()),M=x==="all"||te.type.toLowerCase()===x.toLowerCase(),xe=y==="all"||te.status===y;return K&&M&&xe}),re=te=>{k(te),L(!0)},Z=te=>{k(te),oe({client_id:te.dbClientId,name:te.name,species:te.type,breed:te.breed||"",color:te.color||"",sex:te.gender==="male"?"Mâle":te.gender==="female"?"Femelle":"Inconnu",weight:te.weight?parseFloat(te.weight):void 0,height:void 0,birth_date:te.birthDate||"",microchip_number:te.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:te.medicalNotes||"",photo_url:te.photo||"",status:te.status}),ee(!0)},ne=()=>{I&&oe({client_id:I.dbClientId,name:I.name,species:I.type,breed:I.breed||"",color:I.color||"",sex:I.gender==="male"?"Mâle":I.gender==="female"?"Femelle":"Inconnu",weight:I.weight?parseFloat(I.weight):void 0,height:void 0,birth_date:I.birthDate||"",microchip_number:I.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:I.medicalNotes||"",photo_url:I.photo||"",status:I.status}),L(!1),ee(!0)},ve=te=>{k(te),J(!0)},je=()=>{L(!1),J(!0)},we=async()=>{if(I){if($.microchip_number&&$.microchip_number.trim()&&e.find(K=>K.microchip_number===$.microchip_number.trim()&&K.id!==I.dbId)){q({title:"Erreur",description:"Un animal avec ce numéro de puce existe déjà.",variant:"destructive"});return}try{await a.mutateAsync({id:I.dbId,data:$}),q({title:"Animal modifié",description:`${$.name} a été modifié avec succès.`}),ee(!1)}catch{q({title:"Erreur",description:"Une erreur s'est produite lors de la modification de l'animal.",variant:"destructive"})}}},z=w.useMemo(()=>I?u(I.id):[],[I,u]);return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations médicales"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:j==="cards"?"default":"outline",onClick:()=>b("cards"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:j==="table"?"default":"outline",onClick:()=>b("table"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>P(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalAnimals)||o.length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En bonne santé"}),r.jsx("p",{className:"text-2xl font-bold",children:((Q=i==null?void 0:i.animalsByStatus)==null?void 0:Q.vivant)||o.filter(te=>te.status==="healthy").length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wn,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En traitement"}),r.jsx("p",{className:"text-2xl font-bold",children:o.filter(te=>te.status==="treatment").length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalClients)||n.length})]})]})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, race ou propriétaire...",value:m,onChange:te=>g(te.target.value),className:"max-w-md"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs($e,{value:x,onValueChange:v,children:[r.jsx(Me,{className:"w-40",children:r.jsx(Re,{placeholder:"Tous types"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous types"}),_.map((te,K)=>r.jsx(U,{value:te.toLowerCase(),children:te},K))]})]}),r.jsxs($e,{value:y,onValueChange:N,children:[r.jsx(Me,{className:"w-40",children:r.jsx(Re,{placeholder:"Statut"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous statuts"}),r.jsx(U,{value:"healthy",children:"En bonne santé"}),r.jsx(U,{value:"treatment",children:"En traitement"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]})]})]}),j==="cards"?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:ge.map(te=>r.jsx(ue,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-16 w-16",children:te.photo?r.jsx(ul,{src:te.photo,alt:te.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Ut,{className:"h-8 w-8"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:te.name}),r.jsx("p",{className:"text-muted-foreground",children:te.breed}),r.jsx(Le,{variant:"outline",className:q3[te.status],children:te.status==="healthy"?"En bonne santé":te.status==="treatment"?"En traitement":"Urgent"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",te.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Âge:"})," ",te.birthDate?af(te.birthDate):"Non renseigné"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"})," ",te.weight]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",te.color]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Propriétaire: ",typeof te.owner=="string"?te.owner:(()=>{const K=n.find(M=>String(M.id)===String(te.ownerId));return K?`${K.first_name} ${K.last_name}`:"Non spécifié"})()]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Dernière visite: ",te.lastVisit?new Date(te.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Consultations: ",u(te.id).length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:(()=>{const K=d(te.id);return K.length>0?K.map(M=>r.jsx(Le,{variant:"outline",className:"text-xs",children:M.vaccin},M.id)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucune vaccination enregistrée"})})()})]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>re(te),children:[r.jsx($r,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>Z(te),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>ve(te),children:"Dossier Médical"}),r.jsxs(V,{size:"sm",className:"flex-1",onClick:()=>{k(te),D(!0)},children:[r.jsx(br,{className:"h-4 w-4 mr-2"}),"Consultation"]})]})]})})},te.id))}):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Âge"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernière visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:ge.map(te=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:te.photo?r.jsx(ul,{src:te.photo,alt:te.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(Ut,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:te.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:te.breed})]})]})}),r.jsx("td",{className:"p-4",children:te.type}),r.jsx("td",{className:"p-4",children:te.birthDate?af(te.birthDate):"Non renseigné"}),r.jsx("td",{className:"p-4",children:typeof te.owner=="string"?te.owner:(()=>{const K=n.find(M=>String(M.id)===String(te.ownerId));return K?`${K.first_name} ${K.last_name}`:"Non spécifié"})()}),r.jsx("td",{className:"p-4",children:r.jsx(Le,{variant:"outline",className:q3[te.status],children:te.status==="healthy"?"En bonne santé":te.status==="treatment"?"En traitement":"Urgent"})}),r.jsx("td",{className:"p-4",children:te.lastVisit?new Date(te.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>re(te),children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Z(te),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ve(te),children:"Dossier"})]})})]},te.id))})]})})})}),I&&r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Ma,{className:"h-5 w-5"}),"Statistiques médicales - ",I.name]})}),r.jsx(he,{children:r.jsx(ZFe,{pet:I,consultations:z})})]}),r.jsx(wv,{open:A,onOpenChange:P}),r.jsx(nm,{open:E,onOpenChange:D}),r.jsx(OV,{open:O,onOpenChange:L,pet:I,onEdit:ne,onShowDossier:je}),r.jsx(St,{open:B,onOpenChange:ee,children:r.jsxs(bt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier Animal"}),r.jsx(pn,{children:"Modifiez les informations de l'animal."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"name",children:"Nom *"}),r.jsx(ie,{id:"name",value:$.name,onChange:te=>oe(K=>({...K,name:te.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"species",children:"Espèce *"}),r.jsxs($e,{value:$.species,onValueChange:te=>oe(K=>({...K,species:te})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner l'espèce"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"Chien",children:"Chien"}),r.jsx(U,{value:"Chat",children:"Chat"}),r.jsx(U,{value:"Oiseau",children:"Oiseau"}),r.jsx(U,{value:"Lapin",children:"Lapin"}),r.jsx(U,{value:"Furet",children:"Furet"}),r.jsx(U,{value:"Autre",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"client_id",children:"Propriétaire *"}),r.jsxs($e,{value:$.client_id,onValueChange:te=>oe(K=>({...K,client_id:te})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le propriétaire"})}),r.jsx(Ie,{children:n.map(te=>r.jsxs(U,{value:te.id,children:[te.first_name," ",te.last_name]},te.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"breed",children:"Race"}),r.jsx(ie,{id:"breed",value:$.breed||"",onChange:te=>oe(K=>({...K,breed:te.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"sex",children:"Sexe"}),r.jsxs($e,{value:$.sex,onValueChange:te=>oe(K=>({...K,sex:te})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le sexe"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"Mâle",children:"Mâle"}),r.jsx(U,{value:"Femelle",children:"Femelle"}),r.jsx(U,{value:"Inconnu",children:"Inconnu"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"birth_date",children:"Date de naissance"}),r.jsx(ie,{id:"birth_date",type:"date",value:$.birth_date||"",onChange:te=>oe(K=>({...K,birth_date:te.target.value||void 0}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ie,{id:"weight",type:"number",step:"0.1",value:$.weight||"",onChange:te=>oe(K=>({...K,weight:te.target.value?parseFloat(te.target.value):void 0}))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"color",children:"Couleur"}),r.jsx(ie,{id:"color",value:$.color||"",onChange:te=>oe(K=>({...K,color:te.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"microchip_number",children:"N° puce électronique"}),r.jsx(ie,{id:"microchip_number",value:$.microchip_number||"",onChange:te=>oe(K=>({...K,microchip_number:te.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes médicales"}),r.jsx(wt,{id:"notes",value:$.notes||"",onChange:te=>oe(K=>({...K,notes:te.target.value})),placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>ee(!1),children:"Annuler"}),r.jsxs(V,{onClick:we,disabled:a.isPending,children:[a.isPending&&r.jsx(Ta,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarder"]})]})]})]})}),r.jsx(JFe,{open:G,onOpenChange:J,pet:I})]})},n5e=()=>r.jsx(t5e,{});function r5e({open:e,onOpenChange:t}){const{data:n=[]}=md(),{data:s=[]}=pd(),i=yV(),{toast:a}=$t(),[o,l]=w.useState({clientId:"",animalId:"",date:"",time:"",appointmentType:"consultation",notes:""}),[c,u]=w.useState([]),d=async g=>{if(g.preventDefault(),!o.clientId||!o.animalId||!o.date||!o.time){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}try{const x=new Date(`${o.date}T${o.time}:00`);await i.mutateAsync({client_id:o.clientId,animal_id:o.animalId,appointment_date:x.toISOString(),appointment_type:o.appointmentType,notes:o.notes||void 0,duration_minutes:30}),a({title:"Succès",description:"Rendez-vous créé avec succès"}),l({clientId:"",animalId:"",date:"",time:"",appointmentType:"consultation",notes:""}),u([]),t(!1)}catch(x){console.error("Error creating appointment:",x),a({title:"Erreur",description:"Impossible de créer le rendez-vous",variant:"destructive"})}},f=g=>{l(v=>({...v,clientId:g,animalId:""}));const x=s.filter(v=>v.client_id===g);u(x)},m=g=>`${g.first_name} ${g.last_name}`;return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-2xl",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(pn,{children:"Créer un nouveau rendez-vous pour un client et son animal"})]}),r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"client",children:"Client *"}),r.jsxs($e,{value:o.clientId,onValueChange:f,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un client"})}),r.jsx(Ie,{children:n.map(g=>r.jsx(U,{value:g.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4"}),m(g)]})},g.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"animal",children:"Animal *"}),r.jsxs($e,{value:o.animalId,onValueChange:g=>l(x=>({...x,animalId:g})),disabled:!o.clientId,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:o.clientId?"Sélectionner un animal":"Sélectionner d'abord un client"})}),r.jsx(Ie,{children:c.map(g=>r.jsx(U,{value:g.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-4 w-4"}),g.name," (",g.species,")"]})},g.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:o.date,onChange:g=>l(x=>({...x,date:g.target.value})),min:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"time",children:"Heure *"}),r.jsx(ie,{id:"time",type:"time",value:o.time,onChange:g=>l(x=>({...x,time:g.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"type",children:"Type de rendez-vous"}),r.jsxs($e,{value:o.appointmentType,onValueChange:g=>l(x=>({...x,appointmentType:g})),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"consultation",children:"Consultation"}),r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"surgery",children:"Chirurgie"}),r.jsx(U,{value:"follow-up",children:"Contrôle/Suivi"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(wt,{id:"notes",placeholder:"Notes additionnelles sur le rendez-vous...",value:o.notes,onChange:g=>l(x=>({...x,notes:g.target.value})),rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:i.isPending,children:i.isPending?"Création...":"Créer le rendez-vous"})]})]})]})})}const s5e={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},i5e=(e,t,n)=>{let s;const i=s5e[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},a5e={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},o5e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},l5e={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c5e={date:Dh({formats:a5e,defaultWidth:"full"}),time:Dh({formats:o5e,defaultWidth:"full"}),dateTime:Dh({formats:l5e,defaultWidth:"full"})},u5e={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},d5e=(e,t,n,s)=>u5e[e],h5e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},f5e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},m5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},p5e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},g5e={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},v5e=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=s&&i.includes(s)?"ère":"er":a="ème",n+a},x5e=["MMM","MMMM"],y5e={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&x5e.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:v5e,era:ro({values:h5e,defaultWidth:"wide"}),quarter:ro({values:f5e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ro({values:m5e,defaultWidth:"wide"}),day:ro({values:p5e,defaultWidth:"wide"}),dayPeriod:ro({values:g5e,defaultWidth:"wide"})},j5e=/^(\d+)(ième|ère|ème|er|e)?/i,b5e=/\d+/i,w5e={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},N5e={any:[/^av/i,/^ap/i]},S5e={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},C5e={any:[/1/i,/2/i,/3/i,/4/i]},_5e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},P5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},A5e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},E5e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},T5e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},k5e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},O5e={ordinalNumber:YV({matchPattern:j5e,parsePattern:b5e,valueCallback:e=>parseInt(e)}),era:so({matchPatterns:w5e,defaultMatchWidth:"wide",parsePatterns:N5e,defaultParseWidth:"any"}),quarter:so({matchPatterns:S5e,defaultMatchWidth:"wide",parsePatterns:C5e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:so({matchPatterns:_5e,defaultMatchWidth:"wide",parsePatterns:P5e,defaultParseWidth:"any"}),day:so({matchPatterns:A5e,defaultMatchWidth:"wide",parsePatterns:E5e,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:T5e,defaultMatchWidth:"any",parsePatterns:k5e,defaultParseWidth:"any"})},Ki={code:"fr",formatDistance:i5e,formatLong:c5e,formatRelative:d5e,localize:y5e,match:O5e,options:{weekStartsOn:1,firstWeekContainsDate:4}},W3=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},H3=(e,t)=>{switch(e){case"appointment":return r.jsx(Rn,{className:"h-3 w-3"});case"vaccination":return r.jsx(er,{className:"h-3 w-3"});case"antiparasitic":return r.jsx(Wn,{className:"h-3 w-3"});default:return r.jsx(At,{className:"h-3 w-3"})}},VT=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:s,showTimeSlots:i=!1,title:a="Calendrier",icon:o=r.jsx(At,{className:"h-5 w-5"})})=>{var A;const{settings:l}=Zt(),[c,u]=w.useState(new Date),[d,f]=w.useState(""),m=new Date(c.getFullYear(),c.getMonth(),1),g=new Date(c.getFullYear(),c.getMonth()+1,0),x=new Date(m);x.setDate(x.getDate()-m.getDay());const v=[],y=new Date(x);for(;y<=g||v.length<42;)v.push(new Date(y)),y.setDate(y.getDate()+1);const N=w.useMemo(()=>{const P={};return e.forEach(E=>{const D=E.date;P[D]||(P[D]=[]),P[D].push(E)}),P},[e]),j=w.useMemo(()=>!d||!i?[]:bE(d,l.scheduleSettings,[]),[d,i,l.scheduleSettings]),b=P=>{const E=new Date(c);E.setMonth(c.getMonth()+(P==="next"?1:-1)),u(E)},C=P=>{const E=It(P,"yyyy-MM-dd");f(E),n==null||n(E)},_=P=>{s&&d&&s(d,P)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs(ue,{children:[r.jsx(Ee,{className:"pb-3 sm:pb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[r.jsxs(ke,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,a]}),r.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>b("prev"),className:"flex-1 sm:flex-none",children:"←"}),r.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:It(c,"MMMM yyyy",{locale:Ki})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>b("next"),className:"flex-1 sm:flex-none",children:"→"})]})]})}),r.jsxs(he,{className:"p-2 sm:p-6",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(P=>r.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:P},P))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:v.map((P,E)=>{const D=It(P,"yyyy-MM-dd"),I=N[D]||[],k=P.getMonth()===c.getMonth(),O=Hfe(P,new Date),L=D===d,B=kfe(D,l.scheduleSettings);return r.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${k?"bg-white":"bg-gray-50"}
                    ${O?"ring-2 ring-blue-500":""}
                    ${L?"bg-blue-100 border-blue-300":""}
                    ${B?"":"opacity-50"}
                  `,onClick:()=>C(P),children:[r.jsx("div",{className:`text-xs sm:text-sm font-medium ${k?"text-gray-900":"text-gray-400"}`,children:P.getDate()}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[I.slice(0,2).map((ee,G)=>r.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${W3(ee.type,ee.status)}
                        `,title:`${ee.title}${ee.time?` - ${ee.time}`:""}${ee.clientName?` (${ee.clientName})`:""}`,onClick:J=>{J.stopPropagation(),t==null||t(ee)},children:r.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[H3(ee.type,ee.status),r.jsx("span",{className:"truncate text-xs",children:ee.title})]})},G)),I.length>2&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",I.length-2]})]})]},E)})})]})]}),d&&r.jsxs(ue,{children:[r.jsx(Ee,{className:"pb-3",children:r.jsx(ke,{className:"text-base sm:text-lg",children:It(new Date(d),"EEEE d MMMM yyyy",{locale:Ki})})}),r.jsxs(he,{className:"p-3 sm:p-6",children:[((A=N[d])==null?void 0:A.length)>0?r.jsx("div",{className:"space-y-3",children:N[d].map(P=>r.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${W3(P.type,P.status)}
                    `,onClick:()=>t==null?void 0:t(P),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[H3(P.type,P.status),r.jsx("span",{className:"font-medium",children:P.title})]}),r.jsx(Le,{variant:"outline",className:"text-xs",children:P.status})]}),P.time&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Rn,{className:"h-3 w-3"}),r.jsx("span",{children:P.time})]}),P.clientName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Rr,{className:"h-3 w-3"}),r.jsx("span",{children:P.clientName})]}),P.petName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Ut,{className:"h-3 w-3"}),r.jsx("span",{children:P.petName})]})]},P.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun événement prévu pour cette date"}),i&&j.length>0&&r.jsxs("div",{className:"mt-4 sm:mt-6",children:[r.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Créneaux disponibles"}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:j.map(P=>r.jsxs(V,{variant:P.isAvailable?"outline":"ghost",size:"sm",disabled:!P.isAvailable,onClick:()=>_(P.time),className:"text-xs p-1 sm:p-2",children:[P.time,P.isLunchBreak&&r.jsx(Le,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},P.time))})]})]})]})]})},G3={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},QS={scheduled:"Planifié",confirmed:"Confirmé",completed:"Terminé",cancelled:"Annulé","no-show":"Absent"},K3={consultation:"Consultation générale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrôle post-opératoire",sterilisation:"Stérilisation",dentaire:"Soins dentaires"};function D5e(){const{data:e=[],isLoading:t,error:n}=xV(),s=jfe(),i=bfe(),{toast:a}=$t(),{currentView:o}=bd("appointments"),[l,c]=w.useState(!1),[u,d]=w.useState(""),[f,m]=w.useState("all"),[g,x]=w.useState("all"),[v,y]=w.useState("all"),[N,j]=w.useState(new Date().toISOString().split("T")[0]),[b,C]=w.useState("list"),[_,A]=w.useState(o),[P,E]=w.useState(null),[D,I]=w.useState(""),k=de=>new Date(de).toLocaleDateString("fr-FR"),O=de=>new Date(de).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),L=de=>new Date(de.appointment_date).toISOString().split("T")[0],B=de=>new Date(de.appointment_date).toTimeString().slice(0,5),[ee,G]=w.useState(()=>{const de=new Date;return new Date(de.getFullYear(),de.getMonth(),1)}),J=de=>de.client?`${de.client.first_name} ${de.client.last_name}`:"Unknown Client",q=de=>{var Pe;return((Pe=de.animal)==null?void 0:Pe.name)||"Unknown Animal"},$=()=>{const de=new Date;return e.filter(Pe=>new Date(Pe.appointment_date)>de)},oe=()=>{const de=new Date;return e.filter(Pe=>new Date(Pe.appointment_date)<de&&Pe.status==="scheduled")},ge=$(),re=oe(),Z=e.filter(de=>{const Pe=J(de),Ze=q(de),at=Pe.toLowerCase().includes(u.toLowerCase())||Ze.toLowerCase().includes(u.toLowerCase())||de.notes&&de.notes.toLowerCase().includes(u.toLowerCase()),dt=f==="all"||de.status===f,Se=g==="all"||de.appointment_type===g;let qe=!0;const We=new Date(de.appointment_date),Lt=We.toISOString().split("T")[0];if(v==="today")qe=Lt===new Date().toISOString().split("T")[0];else if(v==="week"){const xn=new Date,Nt=new Date(xn.getTime()+7*24*60*60*1e3);qe=We>=xn&&We<=Nt}else if(v==="month"){const xn=new Date,Nt=xn.getMonth(),hn=xn.getFullYear();qe=We.getMonth()===Nt&&We.getFullYear()===hn}else v==="specific"&&(qe=Lt===N);return at&&dt&&Se&&qe}),ne=async(de,Pe)=>{try{await s.mutateAsync({id:de,data:{status:Pe}}),a({title:"Statut mis à jour",description:`Le rendez-vous est maintenant ${QS[Pe].toLowerCase()}.`})}catch{a({title:"Erreur",description:"Impossible de mettre à jour le statut",variant:"destructive"})}},ve=async()=>{if(!P)return;const{id:de,field:Pe}=P;if(e.find(at=>at.id===de))try{await s.mutateAsync({id:de,data:{[Pe]:D}}),a({title:"Modifié",description:`${Pe} mis à jour`})}catch{a({title:"Erreur",description:"Impossible de mettre à jour",variant:"destructive"})}E(null)},je=async de=>{const Pe=q(de);if(confirm(`Êtes-vous sûr de vouloir supprimer le rendez-vous pour ${Pe} ?`))try{await i.mutateAsync(de.id),a({title:"Rendez-vous supprimé",description:`Le rendez-vous pour ${Pe} a été supprimé.`})}catch{a({title:"Erreur",description:"Impossible de supprimer le rendez-vous",variant:"destructive"})}},we=de=>e.filter(Pe=>new Date(Pe.appointment_date).toISOString().split("T")[0]===de),Q=(()=>{const de=new Date().toISOString().split("T")[0];return we(de)})(),te=ee.getFullYear(),K=ee.getMonth(),M=new Date(te,K,1).getDay(),xe=new Date(te,K+1,0).getDate();let Ne=1-M;for(;Ne<=xe;){const de=[];for(let Pe=0;Pe<7;Pe++)Ne>0&&Ne<=xe?de.push(Ne):de.push(0),Ne++}return t?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Chargement des rendez-vous..."})]})}):n?r.jsx("div",{className:"p-6",children:r.jsx(ue,{className:"border-red-200 bg-red-50",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center text-red-800",children:[r.jsx(kr,{className:"w-5 h-5 mr-2"}),r.jsxs("span",{children:["Erreur lors du chargement des rendez-vous: ",n.message]})]})})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Planifiez et gérez tous vos rendez-vous vétérinaires"})]}),r.jsxs(V,{onClick:()=>c(!0),className:"gap-2 w-full sm:w-auto",children:[r.jsx(ft,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nouveau Rendez-vous"}),r.jsx("span",{className:"sm:hidden",children:"Nouveau RDV"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:b==="list"?"default":"outline",onClick:()=>C("list"),size:"sm",className:"flex-1 sm:flex-none",children:"Liste"}),r.jsx(V,{variant:b==="calendar"?"default":"outline",onClick:()=>C("calendar"),size:"sm",className:"flex-1 sm:flex-none",children:"Calendrier"})]}),b==="list"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:_==="cards"?"default":"outline",onClick:()=>A("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(al,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),r.jsxs(V,{size:"sm",variant:_==="table"?"default":"outline",onClick:()=>A("table"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(ol,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Tableau"})]})]})]}),b==="calendar"?r.jsx(VT,{events:e.map(de=>({id:parseInt(de.id),type:"appointment",title:`${J(de)} - ${q(de)}`,time:B(de),date:L(de),status:de.status,clientName:J(de),petName:q(de)})),onEventClick:de=>{},onDateClick:de=>{j(de)},onTimeSlotClick:(de,Pe)=>{c(!0)},showTimeSlots:!0,title:"Calendrier des Rendez-vous",icon:r.jsx(At,{className:"h-5 w-5"})}):r.jsxs("div",{className:"grid gap-2 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Aujourd'hui"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:Q.length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"À venir"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:ge.length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"En retard"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:re.length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e.length})]})]})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs(ke,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(AA,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-3 sm:space-y-4",children:r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Recherche"}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Client, animal, motif...",value:u,onChange:de=>d(de.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Statut"}),r.jsxs($e,{value:f,onValueChange:m,children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous les statuts"}),r.jsx(U,{value:"scheduled",children:"Planifié"}),r.jsx(U,{value:"confirmed",children:"Confirmé"}),r.jsx(U,{value:"completed",children:"Terminé"}),r.jsx(U,{value:"cancelled",children:"Annulé"}),r.jsx(U,{value:"no-show",children:"Absent"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Type"}),r.jsxs($e,{value:g,onValueChange:x,children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous les types"}),r.jsx(U,{value:"consultation",children:"Consultation"}),r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"chirurgie",children:"Chirurgie"}),r.jsx(U,{value:"urgence",children:"Urgence"}),r.jsx(U,{value:"controle",children:"Contrôle"}),r.jsx(U,{value:"sterilisation",children:"Stérilisation"}),r.jsx(U,{value:"dentaire",children:"Dentaire"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Période"}),r.jsxs($e,{value:v,onValueChange:y,children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Toutes les dates"}),r.jsx(U,{value:"today",children:"Ce jour"}),r.jsx(U,{value:"week",children:"Cette semaine"}),r.jsx(U,{value:"month",children:"Ce mois"}),r.jsx(U,{value:"specific",children:"Date spécifique"})]})]})]}),v==="specific"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Date"}),r.jsx(ie,{type:"date",value:N,onChange:de=>j(de.target.value)})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-xl font-semibold",children:["Rendez-vous (",Z.length,")"]})}),Z.length===0?r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(At,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun rendez-vous trouvé"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre premier rendez-vous"})]})}):_==="cards"?r.jsx("div",{className:"space-y-4",children:Z.sort((de,Pe)=>new Date(de.appointment_date).getTime()-new Date(Pe.appointment_date).getTime()).map(de=>r.jsx(ue,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-4 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:J(de)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:q(de)})]}),r.jsx(Le,{className:G3[de.status],children:QS[de.status]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:k(de.appointment_date)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:O(de.appointment_date)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{className:"ml-1",children:K3[de.appointment_type]||de.appointment_type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Durée:"}),r.jsxs("span",{className:"ml-1",children:[de.duration_minutes||30," min"]})]})]}),de.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Motif:"}),r.jsx("p",{className:"text-sm mt-1",children:de.notes})]}),de.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:de.notes})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[de.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>ne(de.id,"confirmed"),className:"gap-1",children:[r.jsx(er,{className:"h-3 w-3"}),"Confirmer"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>ne(de.id,"cancelled"),className:"gap-1 text-red-600",children:[r.jsx(ig,{className:"h-3 w-3"}),"Annuler"]})]}),de.status==="confirmed"&&r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>ne(de.id,"completed"),className:"gap-1",children:[r.jsx(er,{className:"h-3 w-3"}),"Terminer"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>je(de),className:"gap-1 text-red-600",children:[r.jsx(Un,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},de.id))}):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client / Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Date & Heure"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Motif"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:Z.sort((de,Pe)=>new Date(de.appointment_date).getTime()-new Date(Pe.appointment_date).getTime()).map(de=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:J(de)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:q(de)})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:de.id,field:"date"}),I(L(de))},children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===de.id&&P.field==="date"?r.jsx(ie,{type:"date",value:D,onChange:Pe=>I(Pe.target.value),onBlur:ve,autoFocus:!0,className:"w-32"}):r.jsx("span",{children:k(de.appointment_date)})]}),r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:de.id,field:"time"}),I(B(de))},children:[r.jsx(Rn,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===de.id&&P.field==="time"?r.jsx(ie,{type:"time",value:D,onChange:Pe=>I(Pe.target.value),onBlur:ve,autoFocus:!0,className:"w-24"}):r.jsx("span",{className:"text-sm text-muted-foreground",children:O(de.appointment_date)})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:K3[de.appointment_type]||de.appointment_type}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[de.duration_minutes||30," min"]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"cursor-pointer",onClick:()=>{E({id:de.id,field:"status"}),I(de.status)},children:(P==null?void 0:P.id)===de.id&&P.field==="status"?r.jsxs($e,{value:D,onValueChange:Pe=>{I(Pe),ne(de.id,Pe),E(null)},children:[r.jsx(Me,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"scheduled",children:"Planifié"}),r.jsx(U,{value:"confirmed",children:"Confirmé"}),r.jsx(U,{value:"completed",children:"Terminé"}),r.jsx(U,{value:"cancelled",children:"Annulé"}),r.jsx(U,{value:"no-show",children:"Absent"})]})]}):r.jsx(Le,{className:G3[de.status],children:QS[de.status]})})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"max-w-xs cursor-pointer",onClick:()=>{E({id:de.id,field:"reason"}),I(de.notes||"")},children:(P==null?void 0:P.id)===de.id&&P.field==="reason"?r.jsx(ie,{value:D,onChange:Pe=>I(Pe.target.value),onBlur:ve,autoFocus:!0,placeholder:"Motif du rendez-vous"}):r.jsxs(r.Fragment,{children:[de.notes&&r.jsx("div",{className:"text-sm",children:de.notes}),de.notes&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:de.notes})]})})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[de.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(de.id,"confirmed"),children:r.jsx(er,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(de.id,"cancelled"),className:"text-red-600",children:r.jsx(ig,{className:"h-3 w-3"})})]}),de.status==="confirmed"&&r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(de.id,"completed"),children:r.jsx(er,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>je(de),className:"text-red-600",children:r.jsx(Un,{className:"h-3 w-3"})})]})})]},de.id))})]})})})})]}),r.jsx(r5e,{open:l,onOpenChange:c})]})}const up=({children:e,...t})=>r.jsx("label",{className:"text-sm font-medium",...t,children:e}),vm=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:et("w-full caption-bottom text-sm",e),...t})}));vm.displayName="Table";const xm=w.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:et("[&_tr]:border-b",e),...t}));xm.displayName="TableHeader";const ym=w.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:et("[&_tr:last-child]:border-0",e),...t}));ym.displayName="TableBody";const M5e=w.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));M5e.displayName="TableFooter";const za=w.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));za.displayName="TableRow";const Ot=w.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:et("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableHead";const Dt=w.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:et("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Dt.displayName="TableCell";const I5e=w.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:et("mt-4 text-sm text-muted-foreground",e),...t}));I5e.displayName="TableCaption";const $5e=()=>{const{data:e=[],isLoading:t}=gV();vV();const n=ffe(),{settings:s}=Zt(),{toast:i}=$t(),{currentView:a}=bd("consultations"),[o,l]=w.useState(""),[c,u]=w.useState("all"),[d,f]=w.useState(a),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(!1),[C,_]=w.useState(null),[A,P]=w.useState(null),E=e.filter(L=>{var oe,ge,re;const B=`${((oe=L.client)==null?void 0:oe.first_name)||""} ${((ge=L.client)==null?void 0:ge.last_name)||""}`.trim(),ee=((re=L.animal)==null?void 0:re.name)||"",G=B.toLowerCase().includes(o.toLowerCase())||ee.toLowerCase().includes(o.toLowerCase())||L.symptoms&&L.symptoms.toLowerCase().includes(o.toLowerCase())||L.diagnosis&&L.diagnosis.toLowerCase().includes(o.toLowerCase());if(c==="all")return G;const J=new Date(L.consultation_date),$=(new Date().getTime()-J.getTime())/(1e3*3600*24);switch(c){case"week":return G&&$<=7;case"month":return G&&$<=30;case"quarter":return G&&$<=90;default:return G}}),D=L=>{N(L),v(!0)},I=L=>{_(parseInt(L.animal_id)),P(parseInt(L.id)),b(!0)},k=L=>{var B,ee;confirm(`Êtes-vous sûr de vouloir supprimer la consultation pour ${((B=L.animal)==null?void 0:B.name)||"cet animal"} ?`)&&(n.mutate(L.id),i({title:"Consultation supprimée",description:`La consultation pour ${((ee=L.animal)==null?void 0:ee.name)||"cet animal"} a été supprimée.`}))},O=L=>{N({...L,id:"",consultation_date:new Date().toISOString(),symptoms:"",diagnosis:"",treatment:"",notes:"",follow_up_date:null,follow_up_notes:"",status:"scheduled"}),g(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez et consultez tous les dossiers médicaux"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex border rounded-lg p-1",children:[r.jsx(V,{variant:d==="cards"?"default":"ghost",size:"sm",onClick:()=>f("cards"),className:"px-3",children:r.jsx(al,{className:"h-4 w-4"})}),r.jsx(V,{variant:d==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),className:"px-3",children:r.jsx(ol,{className:"h-4 w-4"})})]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par client, animal, symptômes ou diagnostic...",value:o,onChange:L=>l(L.target.value),className:"max-w-md"}),r.jsxs($e,{value:c,onValueChange:u,children:[r.jsx(Me,{className:"w-48",children:r.jsx(Re,{placeholder:"Période"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Toutes les périodes"}),r.jsx(U,{value:"week",children:"Cette semaine"}),r.jsx(U,{value:"month",children:"Ce mois"}),r.jsx(U,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations récentes (",E.length,")"]}),E.length===0?r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(ur,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation trouvée"}),r.jsx("p",{className:"text-sm",children:"Commencez par créer votre première consultation"})]})}):d==="cards"?E.map(L=>{var B,ee,G;return r.jsx(ue,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:((B=L.animal)==null?void 0:B.name)||"Animal inconnu"}),r.jsx(Le,{variant:"secondary",children:"Consultation"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(L.consultation_date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rr,{className:"h-4 w-4"}),(ee=L.client)==null?void 0:ee.first_name," ",(G=L.client)==null?void 0:G.last_name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ur,{className:"h-3 w-3"}),"Consultation #",L.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[L.temperature&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ag,{className:"h-4 w-4 text-primary"}),L.temperature,"°C"]}),L.weight&&r.jsxs("span",{children:[L.weight," kg"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[L.symptoms&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Symptômes:"}),r.jsx("p",{className:"text-sm",children:L.symptoms})]}),L.diagnosis&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm",children:L.diagnosis})]})]}),r.jsxs("div",{className:"space-y-2",children:[L.treatment&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm",children:L.treatment})]}),L.medications&&r.jsxs(r.Fragment,{children:[r.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[r.jsx(Eh,{className:"h-4 w-4"}),"Médicaments:"]}),r.jsx("p",{className:"text-sm",children:L.medications})]})]})]}),L.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:L.notes})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.jsx(At,{className:"h-3 w-3 inline mr-1"}),L.followUp?`Suivi: ${L.followUp}`:"Aucun suivi prévu"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Wj,{consultation:L}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>D(L),className:"gap-1",children:[r.jsx(tn,{className:"h-3 w-3"}),"Modifier"]}),r.jsxs(V,{size:"sm",variant:"default",onClick:()=>I(L),className:"gap-1",children:[r.jsx(Eh,{className:"h-3 w-3"}),"Prescription"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>k(L),className:"gap-1 text-red-600 hover:text-red-700",children:[r.jsx(Un,{className:"h-3 w-3"}),"Supprimer"]}),r.jsx(V,{size:"sm",onClick:()=>O(L),children:"Nouveau suivi"})]})]})]})})},L.id)}):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Ot,{children:"Animal / Client"}),r.jsx(Ot,{children:"Date"}),r.jsx(Ot,{children:"Symptômes"}),r.jsx(Ot,{children:"Diagnostic"}),r.jsx(Ot,{children:"Température"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(ym,{children:E.map(L=>{var B,ee,G;return r.jsxs(za,{children:[r.jsx(Dt,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:(B=L.animal)==null?void 0:B.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[(ee=L.client)==null?void 0:ee.first_name," ",(G=L.client)==null?void 0:G.last_name]})]})}),r.jsx(Dt,{children:new Date(L.consultation_date).toLocaleDateString("fr-FR")}),r.jsx(Dt,{children:r.jsx("div",{className:"max-w-xs truncate",children:L.symptoms||"-"})}),r.jsx(Dt,{children:r.jsx("div",{className:"max-w-xs truncate",children:L.diagnosis||"-"})}),r.jsx(Dt,{children:L.temperature?`${L.temperature}°C`:"-"}),r.jsx(Dt,{children:L.cost?`${L.cost} ${s.currency}`:"-"}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Wj,{consultation:L}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>D(L),children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"default",onClick:()=>I(L),children:r.jsx(Eh,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>k(L),className:"text-red-600 hover:text-red-700",children:r.jsx(Un,{className:"h-3 w-3"})})]})})]},L.id)})})]})})})]}),r.jsx(nm,{open:m,onOpenChange:g}),r.jsx(S9,{open:x,onOpenChange:v,consultation:y}),C&&A&&r.jsx(BT,{open:j,onOpenChange:b,petId:C.toString(),consultationId:A.toString()})]})},R5e=({consultation:e,open:t,onOpenChange:n,onEdit:s})=>{if(!e)return null;const{getClientById:i,getPetById:a}=Pt(),o=i(e.clientId),l=a(e.petId);return r.jsx(St,{open:t,onOpenChange:n,children:r.jsxs(bt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{children:["Consultation #",e.id," - ",ho(e.date)]}),r.jsx(pn,{children:"Détails de la consultation générale"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(At,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation générale"})]}),r.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ut,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&r.jsx(ue,{children:r.jsx(he,{children:r.jsxs("p",{children:[r.jsx("strong",{children:"Symptômes:"})," ",e.symptoms]})})}),r.jsxs(vl,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(bo,{className:"grid grid-cols-2",children:[r.jsx(ln,{value:"overview",children:"Détails"}),r.jsx(ln,{value:"prescriptions",children:"Prescriptions"})]}),r.jsx(cn,{value:"overview",children:r.jsx(ue,{children:r.jsxs(he,{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spécifié"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&r.jsxs("div",{className:"pt-4",children:[r.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>r.jsx("div",{className:"relative",children:r.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),r.jsx(cn,{value:"prescriptions",children:r.jsx(c9,{petId:e.petId,consultationId:e.id})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:s,children:[r.jsx(tn,{className:"h-4 w-4"})," Modifier"]}),r.jsx(Wj,{consultation:e})]})]})})};function L5e({prescription:e}){const{settings:t}=Zt(),{logo:n,clinicName:s,address:i,phone:a,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),f=()=>{window.print()};return r.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&r.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold",children:s}),r.jsx("p",{className:"text-sm",children:i}),r.jsxs("p",{className:"text-sm",children:[a," | ",o]}),l&&r.jsx("p",{className:"text-sm",children:l})]}),r.jsx("div",{children:r.jsx(V,{variant:"outline",onClick:f,className:"uppercase text-sm",children:"Imprimer"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",e.date]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Médicament"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Fréquence"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Durée"})]})}),r.jsx("tbody",{children:e.medications.map(m=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2",children:m.dosage}),r.jsx("td",{className:"py-2",children:m.frequency}),r.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),r.jsxs("table",{className:"w-full border-collapse mb-4",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),r.jsx("th",{className:"border-b py-2 text-right",children:"Quantité"}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),r.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,x=(m.cost||0)*g;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2 text-right",children:g}),r.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),r.jsx("td",{className:"py-2 text-right",children:x.toFixed(2)})]},m.id)})}),r.jsx("tfoot",{children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),r.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const F5e=()=>{var J,q;const{consultations:e,prescriptions:t,getClientById:n,getPetById:s}=Pt(),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,u]=w.useState("all"),[d,f]=w.useState("all"),[m,g]=w.useState(""),[x,v]=w.useState("cards"),[y,N]=w.useState(!1),[j,b]=w.useState(null),[C,_]=w.useState(!1),[A,P]=w.useState(null),[E,D]=w.useState(!1),[I,k]=w.useState(null),O=[...e.map($=>{var oe;return{id:$.id,date:$.date,petName:$.petName,petType:((oe=s($.petId))==null?void 0:oe.type)||"",client:$.clientName,type:"consultation",title:$.diagnosis||"Consultation",veterinarian:$.notes||"Non spécifié",details:$.symptoms||"",prescriptions:[],cost:$.cost,status:"completed"}})].sort(($,oe)=>new Date(oe.date).getTime()-new Date($.date).getTime()),L=t.map($=>{var oe,ge;return{id:$.id,date:$.date,petName:$.petName,client:$.clientName,medication:$.medications.map(re=>re.name).join(", "),dosage:((oe=$.medications[0])==null?void 0:oe.dosage)||"",frequency:((ge=$.medications[0])==null?void 0:ge.frequency)||"",duration:$.duration,veterinarian:$.prescribedBy,status:$.status}}),B=O.filter($=>{const oe=$.petName.toLowerCase().includes(i.toLowerCase())||$.client.toLowerCase().includes(i.toLowerCase())||$.title.toLowerCase().includes(i.toLowerCase()),ge=o==="all"||$.petName.toLowerCase().includes(o.toLowerCase()),re=c==="all"||$.type===c;let Z=!0;if(d==="today"){const ne=new Date().toISOString().split("T")[0];Z=$.date===ne}else if(d==="week"){const ne=new Date($.date),ve=new Date,je=ve.getDay(),we=ve.getDate()-je+(je===0?-6:1),z=new Date(ve.setDate(we)),Q=new Date(z);Q.setDate(z.getDate()+6),Z=ne>=z&&ne<=Q}else d==="specific"&&(Z=m&&$.date===m);return oe&&ge&&re&&Z}),ee=L.filter($=>{const oe=$.petName.toLowerCase().includes(i.toLowerCase())||$.client.toLowerCase().includes(i.toLowerCase())||$.medication.toLowerCase().includes(i.toLowerCase()),ge=o==="all"||$.petName.toLowerCase().includes(o.toLowerCase()),re=c==="all"||!0;let Z=!0;if(d==="today"){const ne=new Date().toISOString().split("T")[0];Z=$.date===ne}else if(d==="week"){const ne=new Date($.date),ve=new Date,je=ve.getDay(),we=ve.getDate()-je+(je===0?-6:1),z=new Date(ve.setDate(we)),Q=new Date(z);Q.setDate(z.getDate()+6),Z=ne>=z&&ne<=Q}else d==="specific"&&(Z=m&&$.date===m);return oe&&ge&&re&&Z}),G={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Historique Médical"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Tableau"]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, animal, diagnostic...",value:i,onChange:$=>a($.target.value)}),r.jsxs($e,{value:o,onValueChange:l,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Filtrer par animal"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous les animaux"}),Array.from(new Set(O.map($=>$.petName))).map($=>r.jsx(U,{value:$,children:$},$))]})]}),r.jsxs($e,{value:c,onValueChange:u,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Filtrer par type"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"consultation",children:"Consultations"}),r.jsx(U,{value:"treatment",children:"Traitements"}),r.jsx(U,{value:"surgery",children:"Chirurgies"})]})]}),r.jsxs($e,{value:d,onValueChange:f,children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Période"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Toute période"}),r.jsx(U,{value:"today",children:"Aujourd'hui"}),r.jsx(U,{value:"week",children:"Cette semaine"}),r.jsx(U,{value:"specific",children:"Date spécifique"})]})]})]}),d==="specific"&&r.jsx(ie,{type:"date",value:m,onChange:$=>g($.target.value),className:"max-w-xs"})]})]}),r.jsxs(vl,{defaultValue:"medical",className:"space-y-4",children:[r.jsxs(bo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"medical",className:"gap-2",children:[r.jsx(At,{className:"h-4 w-4"}),"Historique Médical"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(Ut,{className:"h-4 w-4"}),"Prescriptions"]})]}),r.jsxs(cn,{value:"medical",className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",B.length," entrées)"]})}),x==="cards"?r.jsx("div",{className:"grid gap-6",children:B.map($=>r.jsx(ue,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date($.date).toLocaleDateString("fr-FR")})]}),r.jsx(Le,{variant:"outline",className:"text-xs",children:$.type})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:$.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ut,{className:"h-3 w-3"}),$.petName]}),r.jsxs("span",{children:["Client: ",$.client]}),r.jsxs("span",{children:["Vétérinaire: ",$.veterinarian]})]})]}),$.details&&r.jsx("p",{className:"text-sm text-muted-foreground",children:$.details}),$.cost&&r.jsx("div",{className:"text-sm",children:r.jsxs("span",{className:"font-medium",children:["Coût: ",$.cost," MAD"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{b($),N(!0)},children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})]})]})})},$.id))}):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Titre"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Vétérinaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:B.map($=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date($.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx(Le,{variant:"outline",className:"text-xs",children:$.type})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:$.title}),$.details&&r.jsx("div",{className:"text-sm text-muted-foreground",children:$.details})]}),r.jsx("td",{className:"p-4",children:$.petName}),r.jsx("td",{className:"p-4",children:$.client}),r.jsx("td",{className:"p-4",children:$.veterinarian}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{b($),N(!0)},children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})]})})]},$.id))})]})})})})]}),r.jsxs(cn,{value:"prescriptions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",ee.length," entrées)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Tableau"]})]})]}),x==="cards"?ee.map($=>r.jsx(ue,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date($.date).toLocaleDateString("fr-FR")})]}),r.jsx(Le,{variant:"outline",className:G[$.status],children:$.status==="active"?"Actif":$.status==="completed"?"Terminé":"Arrêté"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:$.medication}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ut,{className:"h-3 w-3"}),$.petName]}),r.jsxs("span",{children:["Client: ",$.client]}),r.jsxs("span",{children:["Prescrit par: ",$.veterinarian]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dosage:"})," ",$.dosage]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Fréquence:"})," ",$.frequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Durée:"})," ",$.duration]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{P($),_(!0)},children:"Renouveler"}),r.jsx(wP,{prescription:t.find(oe=>oe.id===$.id)}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const oe=t.find(ge=>ge.id===$.id);k(oe),D(!0)},children:"Facture"})]})]})})},$.id)):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Médicament"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),r.jsx("th",{className:"p-4 font-medium",children:"Durée"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:ee.map($=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date($.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx(Le,{variant:"outline",className:G[$.status],children:$.status==="active"?"Actif":$.status==="completed"?"Terminé":"Arrêté"})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:$.medication}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",$.veterinarian]})]}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"h-4 w-4 text-primary"}),$.petName]})}),r.jsx("td",{className:"p-4",children:$.client}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{children:$.dosage}),r.jsx("div",{className:"text-muted-foreground",children:$.frequency})]})}),r.jsx("td",{className:"p-4",children:$.duration}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{P($),_(!0)},children:"Renouveler"}),r.jsx(wP,{prescription:t.find(oe=>oe.id===$.id)}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const oe=t.find(ge=>ge.id===$.id);k(oe),D(!0)},children:"Facture"})]})})]},$.id))})]})})})})]})]}),r.jsx(R5e,{consultation:j,open:y,onOpenChange:N,onEdit:()=>{}}),(A==null?void 0:A.id)&&r.jsx(BT,{open:C,onOpenChange:_,petId:((q=(J=t.find($=>$.id===(A==null?void 0:A.id)))==null?void 0:J.petId)==null?void 0:q.toString())||"",consultationId:A.id.toString()}),r.jsx(St,{open:E,onOpenChange:D,children:r.jsx(bt,{children:I&&r.jsx(L5e,{prescription:I})})})]})},C9=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:s}=$t(),i=w.useRef(null),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({description:"",category:"general"}),g=C=>{const _=C.target.files;if(!_||_.length===0)return;const A=Array.from(_).map(P=>{const E=new FileReader,D={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:f.description||`Photo de ${n}`,category:f.category,uploadedAt:new Date().toISOString()};return E.onload=I=>{var O;D.url=(O=I.target)==null?void 0:O.result;const k=[...e,D];t(k)},E.readAsDataURL(P),D});m({description:"",category:"general"}),o(!1),s({title:"Photos ajoutées",description:`${A.length} photo(s) ajoutée(s) à l'exploitation ${n}`})},x=C=>{const _=e.filter(A=>A.id!==C);t(_),s({title:"Photo supprimée",description:"La photo a été supprimée avec succès"})},v=C=>{d(C),m({description:C.description,category:C.category}),c(!0)},y=()=>{if(!u)return;const C=e.map(_=>_.id===u.id?{..._,...f}:_);t(C),c(!1),d(null),m({description:"",category:"general"}),s({title:"Photo modifiée",description:"La photo a été modifiée avec succès"})},N=C=>({cheptel:"Cheptel",batiments:"Bâtiments",equipements:"Équipements",general:"Général"})[C],j=C=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[C],b=e.reduce((C,_)=>(C[_.category]||(C[_.category]=[]),C[_.category].push(_),C),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les photos de votre exploitation, du cheptel et des équipements"})]}),r.jsxs(St,{open:a,onOpenChange:o,children:[r.jsx(Rc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter des photos"]})}),r.jsxs(bt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Ajouter des photos"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"photo-description",children:"Description"}),r.jsx(ie,{id:"photo-description",placeholder:"Description des photos",value:f.description,onChange:C=>m({...f,description:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"photo-category",children:"Catégorie"}),r.jsxs($e,{value:f.category,onValueChange:C=>m({...f,category:C}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"cheptel",children:"Cheptel"}),r.jsx(U,{value:"batiments",children:"Bâtiments"}),r.jsx(U,{value:"equipements",children:"Équipements"}),r.jsx(U,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"photo-files",children:"Sélectionner des photos"}),r.jsx(ie,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:i,onChange:g,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center",children:[r.jsx(rf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):r.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([C,_])=>r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Le,{className:j(C),children:N(C)}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",_.length," photo",_.length>1?"s":"",")"]})]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(A=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:A.url,alt:A.description,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>d(A),children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>v(A),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>x(A.id),children:r.jsx(Un,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:A.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.uploadedAt).toLocaleDateString()})]})]},A.id))})})]},C))}),r.jsx(St,{open:l,onOpenChange:c,children:r.jsxs(bt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Modifier la photo"})}),r.jsxs("div",{className:"space-y-4",children:[u&&r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:r.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"edit-description",children:"Description"}),r.jsx(ie,{id:"edit-description",value:f.description,onChange:C=>m({...f,description:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"edit-category",children:"Catégorie"}),r.jsxs($e,{value:f.category,onValueChange:C=>m({...f,category:C}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"cheptel",children:"Cheptel"}),r.jsx(U,{value:"batiments",children:"Bâtiments"}),r.jsx(U,{value:"equipements",children:"Équipements"}),r.jsx(U,{value:"general",children:"Général"})]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(V,{onClick:y,children:"Enregistrer"})]})]})]})})]})},B5e=({open:e,onOpenChange:t})=>{var N,j,b,C,_,A;const{addFarm:n}=Pt(),{settings:s}=Zt(),{toast:i}=$t(),[a,o]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!s.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(bt,{children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(pn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(P,E)=>{if(P.includes(".")){const[D,I]=P.split(".");o(k=>{const O=k[D];return{...k,[D]:{...O,[I]:E}}})}else o(D=>({...D,[P]:E}))},d=P=>{o(E=>{var D;return{...E,types:(D=E.types)!=null&&D.includes(P)?E.types.filter(I=>I!==P):[...E.types||[],P]}})},f=P=>{o(E=>{var D;return{...E,certifications:(D=E.certifications)!=null&&D.includes(P)?E.certifications.filter(I=>I!==P):[...E.certifications||[],P]}})},m=()=>{if(!l.category){i({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}o(P=>({...P,animalDetails:[...P.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=P=>{o(E=>{var D;return{...E,animalDetails:((D=E.animalDetails)==null?void 0:D.filter((I,k)=>k!==P))||[]}})},x=P=>{c(E=>({...E,breeds:[...E.breeds,P]}))},v=P=>{c(E=>({...E,breeds:E.breeds.filter(D=>D!==P)}))},y=P=>{var D;if(P.preventDefault(),!a.name||!a.owner||!a.address||!((D=a.types)!=null&&D.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const E={name:a.name,owner:a.owner,ownerIdNumber:a.ownerIdNumber||"",address:a.address,coordinates:a.coordinates||{latitude:0,longitude:0},phone:a.phone||"",email:a.email||"",types:a.types||[],totalAnimals:(a.animalDetails||[]).reduce((I,k)=>I+k.maleCount+k.femaleCount,0),animalDetails:a.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:a.status||"active",veterinarian:a.veterinarian||"",notes:a.notes||"",registrationNumber:a.registrationNumber||"",surfaceArea:a.surfaceArea||0,buildingDetails:a.buildingDetails||"",equipmentDetails:a.equipmentDetails||"",certifications:a.certifications||[],insuranceDetails:a.insuranceDetails||"",emergencyContact:a.emergencyContact||{name:"",phone:"",relation:""}};n(E),i({title:"Succès",description:"Nouvelle exploitation créée avec succès"}),t(!1)};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Exploitation Agricole"}),r.jsx(pn,{children:"Créez une nouvelle exploitation agricole avec toutes les informations détaillées"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Informations générales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(ie,{id:"name",value:a.name||"",onChange:P=>u("name",P.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(ie,{id:"owner",value:a.owner||"",onChange:P=>u("owner",P.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(ie,{id:"ownerIdNumber",value:a.ownerIdNumber||"",onChange:P=>u("ownerIdNumber",P.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse *"}),r.jsx(ie,{id:"address",value:a.address||"",onChange:P=>u("address",P.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"latitude",children:"Latitude"}),r.jsx(ie,{id:"latitude",type:"number",step:"0.0001",value:((N=a.coordinates)==null?void 0:N.latitude)||"",onChange:P=>u("coordinates.latitude",parseFloat(P.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"longitude",children:"Longitude"}),r.jsx(ie,{id:"longitude",type:"number",step:"0.0001",value:((j=a.coordinates)==null?void 0:j.longitude)||"",onChange:P=>u("coordinates.longitude",parseFloat(P.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:a.phone||"",onChange:P=>u("phone",P.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:a.email||"",onChange:P=>u("email",P.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(ie,{id:"veterinarian",value:a.veterinarian||"",onChange:P=>u("veterinarian",P.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"status",children:"Statut"}),r.jsxs($e,{value:a.status,onValueChange:P=>u("status",P),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"active",children:"Active"}),r.jsx(U,{value:"attention",children:"Attention"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Types d'élevage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.farmTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`type-${P}`,checked:((E=a.types)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>d(P)}),r.jsx(F,{htmlFor:`type-${P}`,children:P})]},P)})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Détails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Catégorie"}),r.jsxs($e,{value:l.category,onValueChange:P=>c(E=>({...E,category:P})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner"})}),r.jsx(Ie,{children:s.farmManagement.animalCategories.map(P=>r.jsx(U,{value:P,children:P},P))})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Mâles"}),r.jsx(ie,{type:"number",value:l.maleCount,onChange:P=>c(E=>({...E,maleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Femelles"}),r.jsx(ie,{type:"number",value:l.femaleCount,onChange:P=>c(E=>({...E,femaleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),l.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(F,{children:["Races pour ",l.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(b=s.farmManagement.breedsByCategory[l.category])==null?void 0:b.map(P=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`breed-${P}`,checked:l.breeds.includes(P),onCheckedChange:()=>{l.breeds.includes(P)?v(P):x(P)}}),r.jsx(F,{htmlFor:`breed-${P}`,children:P})]},P))})]}),a.animalDetails&&a.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(F,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:a.animalDetails.map((P,E)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx(Le,{variant:"secondary",children:P.category}),r.jsxs("span",{className:"ml-2",children:[P.maleCount," mâles, ",P.femaleCount," femelles"]}),P.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",P.breeds.join(", ")]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>g(E),children:"Supprimer"})]},E))})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(ie,{id:"registrationNumber",value:a.registrationNumber||"",onChange:P=>u("registrationNumber",P.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(ie,{id:"surfaceArea",type:"number",step:"0.1",value:a.surfaceArea||"",onChange:P=>u("surfaceArea",parseFloat(P.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(wt,{id:"buildingDetails",value:a.buildingDetails||"",onChange:P=>u("buildingDetails",P.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(wt,{id:"equipmentDetails",value:a.equipmentDetails||"",onChange:P=>u("equipmentDetails",P.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.certificationTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`cert-${P}`,checked:((E=a.certifications)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>f(P)}),r.jsx(F,{htmlFor:`cert-${P}`,children:P})]},P)})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(ie,{id:"insuranceDetails",value:a.insuranceDetails||"",onChange:P=>u("insuranceDetails",P.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(ie,{id:"emergencyName",value:((C=a.emergencyContact)==null?void 0:C.name)||"",onChange:P=>u("emergencyContact.name",P.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(ie,{id:"emergencyPhone",value:((_=a.emergencyContact)==null?void 0:_.phone)||"",onChange:P=>u("emergencyContact.phone",P.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(ie,{id:"emergencyRelation",value:((A=a.emergencyContact)==null?void 0:A.relation)||"",onChange:P=>u("emergencyContact.relation",P.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(C9,{photos:a.photos||[],onPhotosChange:P=>u("photos",P),farmName:a.name||"Nouvelle exploitation"})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Notes complémentaires"})}),r.jsx(he,{children:r.jsx(wt,{value:a.notes||"",onChange:P=>u("notes",P.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Créer l'exploitation"})]})]})]})})},z5e=({open:e,onOpenChange:t,farmId:n,farmName:s})=>{const{addFarmIntervention:i,farms:a}=Pt(),{toast:o}=$t(),[l,c]=w.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});w.useEffect(()=>{if(e){const m=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:s||"",date:m,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,s]);const u=(m,g)=>{c(x=>({...x,[m]:g}))},{settings:d}=Zt(),f=m=>{if(m.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const g=a.find(v=>v.id===parseInt(l.farmId));if(!g){o({title:"Erreur",description:"Exploitation non trouvée",variant:"destructive"});return}const x={farmId:parseInt(l.farmId),farmName:g.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};i(x),o({title:"Succès",description:"Intervention programmée avec succès"}),t(!1)};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle Intervention"}),r.jsx(pn,{children:"Programmez une nouvelle intervention vétérinaire"})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"farmId",children:"Exploitation *"}),r.jsxs($e,{value:l.farmId,onValueChange:m=>{const g=a.find(x=>x.id===parseInt(m));u("farmId",m),u("farmName",(g==null?void 0:g.name)||"")},children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner une exploitation"})}),r.jsx(Ie,{children:a.map(m=>r.jsx(U,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:l.date,onChange:m=>u("date",m.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"type",children:"Type d'intervention *"}),r.jsxs($e,{value:l.type,onValueChange:m=>u("type",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner un type"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(U,{value:"urgence",children:"Urgence"}),r.jsx(U,{value:"chirurgie",children:"Chirurgie"}),r.jsx(U,{value:"prevention",children:"Prévention"}),r.jsx(U,{value:"consultation",children:"Consultation"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"status",children:"Statut"}),r.jsxs($e,{value:l.status,onValueChange:m=>u("status",m),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"scheduled",children:"Programmée"}),r.jsx(U,{value:"ongoing",children:"En cours"}),r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"cancelled",children:"Annulée"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"animals",children:"Animaux concernés"}),r.jsx(ie,{id:"animals",value:l.animals,onChange:m=>u("animals",m.target.value),placeholder:"15 bovins, 50 poules..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire"}),r.jsx(ie,{id:"veterinarian",value:l.veterinarian,onChange:m=>u("veterinarian",m.target.value),placeholder:"Dr. Dupont"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"description",children:"Description *"}),r.jsx(wt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Détails de l'intervention...",rows:3,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"cost",children:["Coût (",d.currency,")"]}),r.jsx(ie,{id:"cost",type:"number",value:l.cost,onChange:m=>u("cost",m.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUp",children:"Suivi"}),r.jsx(ie,{id:"followUp",value:l.followUp,onChange:m=>u("followUp",m.target.value),placeholder:"Contrôle dans 6 mois"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:l.notes,onChange:m=>u("notes",m.target.value),placeholder:"Informations complémentaires...",rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Programmer Intervention"})]})]})]})})},V5e=({farm:e,open:t,onOpenChange:n,onEdit:s,onNewIntervention:i})=>{var u;const{getFarmInterventionsByFarmId:a}=Pt();if(!e)return null;const o=a(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return r.jsx(er,{className:"h-4 w-4"});case"attention":return r.jsx(Wn,{className:"h-4 w-4"});case"urgent":return r.jsx(Wn,{className:"h-4 w-4 text-red-600"});default:return r.jsx(Rn,{className:"h-4 w-4"})}};return r.jsx(St,{open:t,onOpenChange:n,children:r.jsxs(bt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[c(e.status),e.name,r.jsx(Le,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),r.jsx(pn,{children:"Détails complets de l'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(ane,{className:"h-5 w-5"}),"Informations Générales"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propriétaire"}),r.jsx("p",{className:"font-medium",children:e.owner})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'élevage"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>r.jsx(Le,{variant:"secondary",children:d},d))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),r.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vétérinaire"}),r.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assigné"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernière visite"}),r.jsx("p",{className:"font-medium",children:ho(e.lastVisit)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de création"}),r.jsx("p",{className:"font-medium",children:ho(e.createdAt)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(ud,{className:"h-3 w-3"}),"Adresse"]}),r.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnées GPS"}),r.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),"Téléphone"]}),r.jsx("p",{className:"font-medium",children:e.phone||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3"}),"Email"]}),r.jsx("p",{className:"font-medium",children:e.email||"Non renseigné"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(one,{className:"h-5 w-5"}),"Détails du Cheptel"]})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Le,{variant:"secondary",children:d.category}),r.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Mâles:"})," ",d.maleCount]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},f))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Ute,{className:"h-5 w-5"}),"Informations Administratives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N° d'immatriculation"}),r.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),r.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bâtiments"}),r.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Équipements"}),r.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),"Certifications"]})}),r.jsx(he,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>r.jsx(Le,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),r.jsxs(he,{className:"space-y-4",children:[e.insuranceDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),r.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Téléphone"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Notes"})}),r.jsx(he,{children:r.jsx("p",{className:"text-sm",children:e.notes})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Détails du Cheptel"})}),r.jsx(he,{children:e.animalDetails&&e.animalDetails.length>0?r.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-lg",children:d.category}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Le,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),r.jsxs(Le,{variant:"outline",children:[d.maleCount," mâles"]}),r.jsxs(Le,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((m,g)=>r.jsx(Le,{variant:"outline",className:"mr-1 text-xs",children:m},g))]}),d.ageGroups&&d.ageGroups.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'âge: "}),d.ageGroups.map((m,g)=>r.jsx(Le,{variant:"outline",className:"mr-1 text-xs",children:m},g))]})]},f))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun détail de cheptel configuré pour cette exploitation"})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:e.photos&&e.photos.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(Le,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Bâtiments":d.category==="equipements"?"Équipements":"Général"})})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(rf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoutée"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent être ajoutées lors de la modification de l'exploitation"})]})})]}),r.jsxs(vl,{defaultValue:"interventions",className:"w-full",children:[r.jsx(bo,{className:"grid w-full grid-cols-1",children:r.jsxs(ln,{value:"interventions",children:[r.jsx(At,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),r.jsx(cn,{value:"interventions",className:"space-y-4",children:r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Interventions vétérinaires"})}),r.jsx(he,{children:o.length>0?r.jsx("div",{className:"space-y-2",children:o.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:d.type}),r.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:ho(d.date)})]}),r.jsx(Le,{variant:"outline",children:d.status})]},d.id))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistrée pour cette exploitation"})})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(V,{onClick:i,variant:"outline",children:"Nouvelle Intervention"}),r.jsx(V,{onClick:s,children:"Modifier"})]})]})})},U5e=({open:e,onOpenChange:t,farm:n})=>{var j,b,C,_,A,P;const{updateFarm:s}=Pt(),{settings:i}=Zt(),{toast:a}=$t(),[o,l]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!i.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(St,{open:e,onOpenChange:t,children:r.jsx(bt,{children:r.jsxs(Ct,{children:[r.jsx(_t,{children:"Erreur de configuration"}),r.jsx(pn,{children:"Les paramètres de gestion des fermes ne sont pas configurés. Veuillez recharger la page ou vérifier les paramètres."})]})})});w.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),w.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(E,D)=>{if(E.includes(".")){const[I,k]=E.split(".");l(O=>({...O,[I]:{...O[I],[k]:D}}))}else l(I=>({...I,[E]:D}))},f=E=>{l(D=>{var I;return{...D,types:(I=D.types)!=null&&I.includes(E)?D.types.filter(k=>k!==E):[...D.types||[],E]}})},m=E=>{l(D=>{var I;return{...D,certifications:(I=D.certifications)!=null&&I.includes(E)?D.certifications.filter(k=>k!==E):[...D.certifications||[],E]}})},g=()=>{if(!c.category){a({title:"Erreur",description:"Veuillez sélectionner une catégorie d'animal",variant:"destructive"});return}l(E=>({...E,animalDetails:[...E.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},x=E=>{l(D=>{var I;return{...D,animalDetails:((I=D.animalDetails)==null?void 0:I.filter((k,O)=>O!==E))||[]}})},v=E=>{u(D=>({...D,breeds:[...D.breeds,E]}))},y=E=>{u(D=>({...D,breeds:D.breeds.filter(I=>I!==E)}))},N=E=>{var I;if(E.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!((I=o.types)!=null&&I.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const D={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((k,O)=>k+O.maleCount+O.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};s(n.id,D),a({title:"Succès",description:"Exploitation mise à jour avec succès"}),t(!1)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier l'Exploitation"}),r.jsx(pn,{children:"Modifiez les informations de l'exploitation agricole"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Informations générales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(ie,{id:"name",value:o.name||"",onChange:E=>d("name",E.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"owner",children:"Propriétaire *"}),r.jsx(ie,{id:"owner",value:o.owner||"",onChange:E=>d("owner",E.target.value),placeholder:"Nom du propriétaire"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"ownerIdNumber",children:"N° pièce d'identité du propriétaire"}),r.jsx(ie,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:E=>d("ownerIdNumber",E.target.value),placeholder:"Numéro de carte d'identité, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse *"}),r.jsx(ie,{id:"address",value:o.address||"",onChange:E=>d("address",E.target.value),placeholder:"Adresse complète"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"latitude",children:"Latitude"}),r.jsx(ie,{id:"latitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.latitude)||"",onChange:E=>d("coordinates.latitude",parseFloat(E.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"longitude",children:"Longitude"}),r.jsx(ie,{id:"longitude",type:"number",step:"0.0001",value:((b=o.coordinates)==null?void 0:b.longitude)||"",onChange:E=>d("coordinates.longitude",parseFloat(E.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:o.phone||"",onChange:E=>d("phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:o.email||"",onChange:E=>d("email",E.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire responsable"}),r.jsx(ie,{id:"veterinarian",value:o.veterinarian||"",onChange:E=>d("veterinarian",E.target.value),placeholder:"Vétérinaire"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"status",children:"Statut"}),r.jsxs($e,{value:o.status,onValueChange:E=>d("status",E),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"active",children:"Active"}),r.jsx(U,{value:"attention",children:"Attention"}),r.jsx(U,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Types d'élevage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.farmTypes.map(E=>{var D;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`type-${E}`,checked:((D=o.types)==null?void 0:D.includes(E))||!1,onCheckedChange:()=>f(E)}),r.jsx(F,{htmlFor:`type-${E}`,children:E})]},E)})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Détails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(F,{children:"Catégorie"}),r.jsxs($e,{value:c.category,onValueChange:E=>u(D=>({...D,category:E})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner"})}),r.jsx(Ie,{children:i.farmManagement.animalCategories.map(E=>r.jsx(U,{value:E,children:E},E))})]})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Mâles"}),r.jsx(ie,{type:"number",value:c.maleCount,onChange:E=>u(D=>({...D,maleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(F,{children:"Femelles"}),r.jsx(ie,{type:"number",value:c.femaleCount,onChange:E=>u(D=>({...D,femaleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{type:"button",onClick:g,className:"w-full",children:"Ajouter"})})]}),c.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(F,{children:["Races pour ",c.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(C=i.farmManagement.breedsByCategory[c.category])==null?void 0:C.map(E=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`breed-${E}`,checked:c.breeds.includes(E),onCheckedChange:()=>{c.breeds.includes(E)?y(E):v(E)}}),r.jsx(F,{htmlFor:`breed-${E}`,children:E})]},E))})]}),o.animalDetails&&o.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(F,{children:"Cheptel configuré"}),r.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((E,D)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx(Le,{variant:"secondary",children:E.category}),r.jsxs("span",{className:"ml-2",children:[E.maleCount," mâles, ",E.femaleCount," femelles"]}),E.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",E.breeds.join(", ")]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>x(D),children:"Supprimer"})]},D))})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"registrationNumber",children:"Numéro d'immatriculation"}),r.jsx(ie,{id:"registrationNumber",value:o.registrationNumber||"",onChange:E=>d("registrationNumber",E.target.value),placeholder:"Numéro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(ie,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:E=>d("surfaceArea",parseFloat(E.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"buildingDetails",children:"Détails des bâtiments"}),r.jsx(wt,{id:"buildingDetails",value:o.buildingDetails||"",onChange:E=>d("buildingDetails",E.target.value),placeholder:"Description des bâtiments, étables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"equipmentDetails",children:"Équipements"}),r.jsx(wt,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:E=>d("equipmentDetails",E.target.value),placeholder:"Liste des équipements disponibles"})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.certificationTypes.map(E=>{var D;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`cert-${E}`,checked:((D=o.certifications)==null?void 0:D.includes(E))||!1,onCheckedChange:()=>m(E)}),r.jsx(F,{htmlFor:`cert-${E}`,children:E})]},E)})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(F,{htmlFor:"insuranceDetails",children:"Détails de l'assurance"}),r.jsx(ie,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:E=>d("insuranceDetails",E.target.value),placeholder:"Compagnie d'assurance et numéro de police"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(ie,{id:"emergencyName",value:((_=o.emergencyContact)==null?void 0:_.name)||"",onChange:E=>d("emergencyContact.name",E.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyPhone",children:"Téléphone d'urgence"}),r.jsx(ie,{id:"emergencyPhone",value:((A=o.emergencyContact)==null?void 0:A.phone)||"",onChange:E=>d("emergencyContact.phone",E.target.value),placeholder:"Téléphone"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(ie,{id:"emergencyRelation",value:((P=o.emergencyContact)==null?void 0:P.relation)||"",onChange:E=>d("emergencyContact.relation",E.target.value),placeholder:"Relation (époux, fils, etc.)"})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(C9,{photos:o.photos||[],onPhotosChange:E=>d("photos",E),farmName:o.name||"Exploitation"})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Notes complémentaires"})}),r.jsx(he,{children:r.jsx(wt,{value:o.notes||"",onChange:E=>d("notes",E.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Mettre à jour l'exploitation"})]})]})]})}):null},q5e=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:s,farms:i}=Pt(),{toast:a}=$t(),[o,l]=w.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});w.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=f=>{if(f.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};s(n.id,m),a({title:"Succès",description:"Intervention mise à jour avec succès"}),t(!1)};if(!n)return null;const d=i.find(f=>f.id===parseInt(o.farmId));return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Modifier l'Intervention"}),r.jsxs(pn,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Exploitation *"}),r.jsxs($e,{value:o.farmId,onValueChange:f=>c("farmId",f),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner l'exploitation"})}),r.jsx(Ie,{children:i.map(f=>r.jsxs(U,{value:f.id.toString(),children:[f.name," - ",f.owner]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Type d'intervention *"}),r.jsxs($e,{value:o.type,onValueChange:f=>c("type",f),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner le type"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"vaccination",children:"Vaccination"}),r.jsx(U,{value:"controle",children:"Contrôle sanitaire"}),r.jsx(U,{value:"urgence",children:"Urgence"}),r.jsx(U,{value:"chirurgie",children:"Chirurgie"}),r.jsx(U,{value:"prevention",children:"Prévention"}),r.jsx(U,{value:"consultation",children:"Consultation"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"date",children:"Date *"}),r.jsx(ie,{id:"date",type:"date",value:o.date,onChange:f=>c("date",f.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Statut"}),r.jsxs($e,{value:o.status,onValueChange:f=>c("status",f),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"scheduled",children:"Programmé"}),r.jsx(U,{value:"ongoing",children:"En cours"}),r.jsx(U,{value:"completed",children:"Terminé"}),r.jsx(U,{value:"cancelled",children:"Annulé"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"animals",children:"Animaux concernés *"}),r.jsx(ie,{id:"animals",value:o.animals,onChange:f=>c("animals",f.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"veterinarian",children:"Vétérinaire *"}),r.jsx(ie,{id:"veterinarian",value:o.veterinarian,onChange:f=>c("veterinarian",f.target.value),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"description",children:"Description *"}),r.jsx(wt,{id:"description",value:o.description,onChange:f=>c("description",f.target.value),rows:3,placeholder:"Détails de l'intervention, observations, traitements...",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"followUp",children:"Suivi recommandé"}),r.jsx(wt,{id:"followUp",value:o.followUp,onChange:f=>c("followUp",f.target.value),rows:2,placeholder:"Recommandations, prochain contrôle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"cost",children:"Coût (€)"}),r.jsx(ie,{id:"cost",type:"number",value:o.cost,onChange:f=>c("cost",f.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",d.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",d.owner]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",d.type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Mettre à jour"})]})]})]})})},W5e=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:s,getFarmsByStatus:i,getUpcomingFarmInterventions:a}=Pt(),{toast:o}=$t(),{currentView:l}=bd("farms"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState(l),[x,v]=w.useState(!1),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[C,_]=w.useState(!1),[A,P]=w.useState(!1),[E,D]=w.useState(null),[I,k]=w.useState(null),O=e.filter(ne=>{var we,z;const ve=ne.name.toLowerCase().includes(c.toLowerCase())||ne.owner.toLowerCase().includes(c.toLowerCase())||((we=ne.types)==null?void 0:we.some(Q=>Q.toLowerCase().includes(c.toLowerCase())))||!1,je=d==="all"||((z=ne.types)==null?void 0:z.includes(d))||!1;return ve&&je}),L={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},B={"Bovin laitier":"Élevage bovin laitier","Bovin viande":"Élevage bovin viande",Porcin:"Élevage porcin",Avicole:"Élevage avicole",Ovin:"Élevage ovin",Caprin:"Élevage caprin",Équin:"Élevage équin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"Élevage mixte"},ee={vaccination:"Vaccination",controle:"Contrôle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prévention",consultation:"Consultation"},G=ne=>{D(ne),b(!0)},J=ne=>{D(ne),_(!0)},q=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette exploitation ?")&&(n(ne),o({title:"Succès",description:"Exploitation supprimée"}))},$=ne=>{N(!0)},oe=ne=>{confirm("Êtes-vous sûr de vouloir supprimer cette intervention ?")&&(s(ne),o({title:"Succès",description:"Intervention supprimée"}))},ge=ne=>{k(ne),P(!0)},re=i("attention").length+i("urgent").length,Z=a();return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les fermes, élevages et interventions vétérinaires"})]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>v(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsx(ue,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(QC,{className:"h-12 w-12 text-primary mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),r.jsx(ue,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(Wn,{className:"h-12 w-12 text-accent mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:re}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),r.jsx(ue,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(At,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:Z.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions à venir"})]})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ie,{placeholder:"Rechercher par nom, propriétaire ou type...",value:c,onChange:ne=>u(ne.target.value),className:"max-w-md"}),r.jsxs($e,{value:d,onValueChange:f,children:[r.jsx(Me,{className:"w-48",children:r.jsx(Re,{placeholder:"Type d'élevage"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"Bovin laitier",children:"Élevage bovin laitier"}),r.jsx(U,{value:"Bovin viande",children:"Élevage bovin viande"}),r.jsx(U,{value:"Porcin",children:"Élevage porcin"}),r.jsx(U,{value:"Avicole",children:"Élevage avicole"}),r.jsx(U,{value:"Ovin",children:"Élevage ovin"}),r.jsx(U,{value:"Caprin",children:"Élevage caprin"}),r.jsx(U,{value:"Équin",children:"Élevage équin"}),r.jsx(U,{value:"Apiculture",children:"Apiculture"}),r.jsx(U,{value:"Aquaculture",children:"Aquaculture"}),r.jsx(U,{value:"Cuniculture",children:"Cuniculture"}),r.jsx(U,{value:"Mixte",children:"Élevage mixte"})]})]})]})})]}),r.jsxs(vl,{defaultValue:"farms",className:"space-y-6",children:[r.jsxs(bo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"farms",className:"gap-2",children:[r.jsx(QC,{className:"h-4 w-4"}),"Exploitations"]}),r.jsxs(ln,{value:"interventions",className:"gap-2",children:[r.jsx(At,{className:"h-4 w-4"}),"Interventions"]})]}),r.jsxs(cn,{value:"farms",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",O.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[r.jsx(al,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),O.length===0?r.jsx(ue,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouvée"})}):m==="cards"?O.map(ne=>{var ve;return r.jsx(ue,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-xl font-semibold",children:ne.name}),r.jsx(Le,{variant:"outline",className:L[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Propriétaire:"})," ",ne.owner]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(ud,{className:"h-3 w-3"}),ne.address]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),ne.phone]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Types:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(ve=ne.types)==null?void 0:ve.map(je=>r.jsx(Le,{variant:"secondary",className:"text-xs",children:B[je]||je},je))})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animaux:"})," ",ne.totalAnimals]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vétérinaire:"})," ",ne.veterinarian]})]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernière visite: ",ho(ne.lastVisit)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>G(ne),children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>J(ne),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",onClick:()=>$(),children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>q(ne.id),children:r.jsx(Un,{className:"h-4 w-4"})})]})]})})},ne.id)}):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),r.jsx("th",{className:"p-4 font-medium",children:"Propriétaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:O.map(ne=>{var ve;return r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ne.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:ne.address})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ne.owner}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vét: ",ne.veterinarian]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:(ve=ne.types)==null?void 0:ve.map(je=>r.jsx(Le,{variant:"secondary",className:"text-xs",children:B[je]||je},je))})}),r.jsx("td",{className:"p-4",children:r.jsx(Le,{variant:"outline",className:L[ne.status],children:ne.status==="active"?"Actif":ne.status==="attention"?"Attention":"Urgent"})}),r.jsx("td",{className:"p-4",children:ne.totalAnimals}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),ne.phone]}),r.jsxs("div",{className:"text-muted-foreground",children:["Dernière visite: ",ho(ne.lastVisit)]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>G(ne),children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>J(ne),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",onClick:()=>$(),children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>q(ne.id),children:r.jsx(Un,{className:"h-4 w-4"})})]})})]},ne.id)})})]})})})})]}),r.jsxs(cn,{value:"interventions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions récentes (",t.length,")"]}),r.jsxs(V,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?r.jsx(ue,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistrée"})}):t.map(ne=>r.jsx(ue,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:ee[ne.type]}),r.jsx(Le,{variant:"outline",className:ne.status==="completed"?"bg-green-100 text-green-800":ne.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:ne.status==="completed"?"Terminé":ne.status==="ongoing"?"En cours":ne.status==="scheduled"?"Programmé":"Annulé"})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(At,{className:"h-3 w-3"}),ho(ne.date)]}),r.jsx("span",{children:ne.farmName}),r.jsx("span",{children:ne.veterinarian})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Animaux concernés:"})," ",ne.animals]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Suivi:"})," ",ne.followUp||"Aucun"]})]}),r.jsx("p",{className:"text-sm",children:ne.description}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsx(V,{size:"sm",variant:"outline",children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ge(ne),children:r.jsx(tn,{className:"h-4 w-4"})}),ne.status==="ongoing"&&r.jsx(V,{size:"sm",children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>oe(ne.id),children:r.jsx(Un,{className:"h-4 w-4"})})]})]})})},ne.id))]})]}),r.jsx(B5e,{open:x,onOpenChange:v}),r.jsx(z5e,{open:y,onOpenChange:N,farmId:E==null?void 0:E.id,farmName:E==null?void 0:E.name}),r.jsx(V5e,{farm:E,open:j,onOpenChange:b,onEdit:()=>J(E),onNewIntervention:()=>{b(!1),N(!0)}}),r.jsx(U5e,{farm:E,open:C,onOpenChange:_}),r.jsx(q5e,{intervention:I,open:A,onOpenChange:P})]})};var $w="Switch",[H5e,e8e]=ni($w),[G5e,K5e]=H5e($w),_9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=w.useState(null),x=Xt(t,b=>g(b)),v=w.useRef(!1),y=m?d||!!m.closest("form"):!0,[N,j]=vo({prop:i,defaultProp:a??!1,onChange:u,caller:$w});return r.jsxs(G5e,{scope:n,checked:N,disabled:l,children:[r.jsx(it.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":T9(N),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:Ke(e.onClick,b=>{j(C=>!C),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&r.jsx(E9,{control:m,bubbles:!v.current,name:s,value:c,checked:N,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});_9.displayName=$w;var P9="SwitchThumb",A9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=K5e(P9,n);return r.jsx(it.span,{"data-state":T9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});A9.displayName=P9;var Y5e="SwitchBubbleInput",E9=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=w.useRef(null),l=Xt(o,a),c=gE(n),u=LA(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const x=new Event("click",{bubbles:s});g.call(d,n),d.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E9.displayName=Y5e;function T9(e){return e?"checked":"unchecked"}var k9=_9,Q5e=A9;const zr=w.forwardRef(({className:e,...t},n)=>r.jsx(k9,{className:et("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(Q5e,{className:et("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));zr.displayName=k9.displayName;function XS({children:e,protocol:t,mode:n}){const{addVaccinationProtocol:s,updateVaccinationProtocol:i}=Pt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0});w.useEffect(()=>{n==="edit"&&t&&d({name:t.name,species:t.species,vaccineType:t.vaccineType,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals||[],ageRequirement:t.ageRequirement||"",notes:t.notes||"",isActive:t.isActive})},[n,t]);const f=g=>{if(g.preventDefault(),!u.name||!u.species||!u.vaccineType||!u.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n==="create"?(s({name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole créé",description:`Le protocole ${u.name} a été créé avec succès`})):t&&(i(t.id,{name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole modifié",description:`Le protocole ${u.name} a été modifié avec succès`})),d({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par défaut)"}],ageRequirement:"",notes:"",isActive:!0}),c(!1)},m=a.species?a.species.split(",").map(g=>g.trim()):["Chien","Chat","Furet","Lapin","Oiseau","Rongeur"];return r.jsxs(St,{open:l,onOpenChange:c,children:[r.jsx(Rc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[n==="create"?r.jsx(ft,{className:"h-4 w-4"}):r.jsx(tn,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),n==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"name",children:"Nom du vaccin *"}),r.jsx(ie,{id:"name",value:u.name,onChange:g=>d(x=>({...x,name:g.target.value})),placeholder:"Ex: DHPP, FVRCP, Rage...",required:!0})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"species",children:"Espèce *"}),r.jsxs($e,{value:u.species,onValueChange:g=>d(x=>({...x,species:g})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner une espèce"})}),r.jsx(Ie,{children:m.map(g=>r.jsx(U,{value:g,children:g},g))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vaccineType",children:"Type de vaccin *"}),r.jsxs($e,{value:u.vaccineType,onValueChange:g=>d(x=>({...x,vaccineType:g})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Type de vaccin"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"core",children:"Essentiel (Core)"}),r.jsx(U,{value:"non-core",children:"Optionnel (Non-core)"}),r.jsx(U,{value:"rabies",children:"Rage"}),r.jsx(U,{value:"custom",children:"Personnalisé"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:u.manufacturer,onChange:g=>d(x=>({...x,manufacturer:g.target.value})),placeholder:"Ex: Zoetis, Merial, Virbac..."})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"description",children:"Description *"}),r.jsx(wt,{id:"description",value:u.description,onChange:g=>d(x=>({...x,description:g.target.value})),placeholder:"Description du vaccin et des maladies qu'il prévient...",rows:3,required:!0})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(F,{children:"Étapes du protocole"}),(u.intervals||[]).map((g,x)=>{let v=g.offsetDays,y="days";g.offsetDays%30===0&&g.offsetDays!==0?(v=g.offsetDays/30,y="months"):g.offsetDays%7===0&&g.offsetDays!==0&&(v=g.offsetDays/7,y="weeks");const N=`${v} ${y==="weeks"?"semaine(s)":y==="months"?"mois":"jour(s)"}`;return r.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[r.jsx(ie,{type:"number",min:0,value:v,onChange:j=>{const b=parseInt(j.target.value)||0,C=y==="weeks"?b*7:y==="months"?b*30:b;d(_=>{const A=[..._.intervals];return A[x].offsetDays=C,{..._,intervals:A}})}}),r.jsxs($e,{value:y,onValueChange:j=>{const b=j,C=b==="weeks"?v*7:b==="months"?v*30:v;d(_=>{const A=[..._.intervals];return A[x].offsetDays=C,{..._,intervals:A}})},children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"days",children:"Jours"}),r.jsx(U,{value:"weeks",children:"Semaines"}),r.jsx(U,{value:"months",children:"Mois"})]})]}),r.jsx("div",{className:"p-2",children:N}),r.jsx(V,{type:"button",variant:"outline",size:"icon",onClick:()=>{d(j=>{const b=j.intervals.filter((C,_)=>_!==x);return{...j,intervals:b}})},children:"❌"})]},x)}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>d(g=>({...g,intervals:[...g.intervals||[],{offsetDays:0}]})),children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter une étape"]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"ageRequirement",children:"Âge requis"}),r.jsx(ie,{id:"ageRequirement",value:u.ageRequirement,onChange:g=>d(x=>({...x,ageRequirement:g.target.value})),placeholder:"Ex: À partir de 6 semaines"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes supplémentaires"}),r.jsx(wt,{id:"notes",value:u.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),placeholder:"Informations complémentaires, contre-indications, etc...",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zr,{id:"isActive",checked:u.isActive,onCheckedChange:g=>d(x=>({...x,isActive:g}))}),r.jsx(F,{htmlFor:"isActive",children:"Protocole actif"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",children:[r.jsx(wi,{className:"h-4 w-4 mr-2"}),n==="create"?"Créer le protocole":"Modifier le protocole"]})]})]})]})]})}const Y3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Q3=e=>{switch(e){case"completed":return r.jsx(er,{className:"h-4 w-4"});case"overdue":return r.jsx(Wn,{className:"h-4 w-4"});case"scheduled":return r.jsx(Rn,{className:"h-4 w-4"});case"missed":return r.jsx(Wn,{className:"h-4 w-4"});default:return r.jsx(Rn,{className:"h-4 w-4"})}},X5e=()=>{const{vaccinations:e,pets:t,clients:n}=Pt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"vaccination",title:o.vaccineName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(VT,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Vaccinal",icon:r.jsx(At,{className:"h-5 w-5"})})};function J5e(){var ys;const{vaccinations:e,pets:t,clients:n,vaccinationProtocols:s,getVaccinationsByPetId:i,getOverdueVaccinations:a,getUpcomingVaccinations:o,getVaccinationsByStatus:l,getActiveVaccinationProtocols:c,getVaccinationProtocolsBySpecies:u,deleteVaccinationProtocol:d,deleteVaccination:f,updateVaccination:m}=Pt(),{settings:g}=Zt(),{currentView:x}=bd("vaccinations"),{toast:v}=$t(),[y,N]=w.useState(x),[j,b]=w.useState(""),[C,_]=w.useState("all"),[A,P]=w.useState("all"),[E,D]=w.useState("all"),[I,k]=w.useState("overview"),[O,L]=w.useState(!1),[B,ee]=w.useState(null),[G,J]=w.useState(null),[q,$]=w.useState(null),[oe,ge]=w.useState(null),[re,Z]=w.useState(!1),[ne,ve]=w.useState(!1),[je,we]=w.useState(null),z=w.useRef(null),[Q,te]=w.useState(null),[K,M]=w.useState(!1),[xe,Ne]=w.useState(!1),[de,Pe]=w.useState(null),[Ze,at]=w.useState(""),dt=()=>{if(!de)return;const{id:Ce,field:Wt}=de,nt=e.find(mt=>mt.id===Ce);if(nt){const mt={...nt,[Wt]:Ze};m(Ce,mt),v({title:"Modifié",description:`${Wt} mis à jour`})}Pe(null)},Se=zT.useReactToPrint({contentRef:z,onAfterPrint:()=>L(!1)}),qe=(Ce,Wt)=>{m(Ce,{status:Wt}),$(null),v({title:"Statut mis à jour",description:`Le statut de la vaccination a été changé en "${{completed:"Terminée",scheduled:"Planifiée",overdue:"En retard",missed:"Manquée"}[Wt]}"`})},We=Ce=>{ge(Ce),Z(!0)},Lt=Ce=>{we(Ce),ve(!0)},xn=()=>{if(je){f(je.id);const Ce=je.vaccinationCategory==="reminder"?"rappel":"vaccination",Wt=je.vaccinationCategory==="new"?e.filter(nt=>nt.originalVaccinationId===je.id).length:0;v({title:`${Ce.charAt(0).toUpperCase()+Ce.slice(1)} supprimée`,description:je.vaccinationCategory==="new"&&Wt>0?`La vaccination ${je.vaccineName} et ses ${Wt} rappel(s) ont été supprimés avec succès.`:`Le ${Ce} ${je.vaccineName} a été supprimé avec succès.`}),ve(!1),we(null)}},Nt=()=>{Z(!1),ge(null)},hn=w.useMemo(()=>{const Ce=e.length,Wt=l("completed").length,nt=a().length,mt=o().length,sn=l("scheduled").length,as=e.filter(Bs=>Bs.vaccinationCategory==="reminder").length,Qr=e.filter(Bs=>Bs.vaccinationCategory==="new").length;return{total:Ce,completed:Wt,overdue:nt,upcoming:mt,scheduled:sn,reminders:as,originalVaccinations:Qr}},[e,l,a,o]),dr=w.useMemo(()=>e.filter(Ce=>{const Wt=Ce.petName.toLowerCase().includes(j.toLowerCase())||Ce.clientName.toLowerCase().includes(j.toLowerCase())||Ce.vaccineName.toLowerCase().includes(j.toLowerCase())||Ce.veterinarian.toLowerCase().includes(j.toLowerCase()),nt=C==="all"||Ce.status===C,mt=A==="all"||Ce.vaccineType===A,sn=E==="all"||Ce.vaccinationCategory===E;return Wt&&nt&&mt&&sn}),[e,j,C,A,E]),Qn=()=>{const Ce=JSON.stringify(e,null,2),Wt=new Blob([Ce],{type:"application/json"}),nt=URL.createObjectURL(Wt),mt=document.createElement("a");mt.href=nt,mt.download=`vaccinations-${It(new Date,"yyyy-MM-dd")}.json`,mt.click(),URL.revokeObjectURL(nt)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(ks,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{onClick:Qn,variant:"outline",className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter"]}),r.jsx(F0,{})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(ks,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:hn.total})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(er,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Terminées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:hn.completed})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(Wn,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:hn.overdue})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx(Rn,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prochaines 30j"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:hn.upcoming})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(At,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifiées"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:hn.scheduled})]})]})})})]}),r.jsxs(vl,{value:I,onValueChange:k,children:[r.jsxs(bo,{className:"grid w-full grid-cols-4",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"calendar",className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4"}),"Calendrier"]}),r.jsxs(ln,{value:"protocols",className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-4 w-4"}),"Protocoles"]}),r.jsxs(ln,{value:"certificates",className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-4 w-4"}),"Certificats"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ie,{placeholder:"Rechercher animal, client, vaccin...",value:j,onChange:Ce=>b(Ce.target.value),className:"pl-10"})]}),r.jsxs($e,{value:C,onValueChange:_,children:[r.jsx(Me,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous statuts"}),r.jsx(U,{value:"completed",children:"Terminées"}),r.jsx(U,{value:"scheduled",children:"Planifiées"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manquées"})]})]}),r.jsxs($e,{value:A,onValueChange:P,children:[r.jsx(Me,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"core",children:"Essentiels"}),r.jsx(U,{value:"non-core",children:"Optionnels"}),r.jsx(U,{value:"rabies",children:"Rage"}),r.jsx(U,{value:"custom",children:"Personnalisés"})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs($e,{value:E,onValueChange:D,children:[r.jsx(Me,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Toutes catégories"}),r.jsx(U,{value:"new",children:"Vaccinations"}),r.jsx(U,{value:"reminder",children:"Rappels"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:y==="cards"?"default":"outline",size:"sm",onClick:()=>N("cards"),children:r.jsx(al,{className:"h-4 w-4"})}),r.jsx(V,{variant:y==="table"?"default":"outline",size:"sm",onClick:()=>N("table"),children:r.jsx(ol,{className:"h-4 w-4"})})]})]})})}),y==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:dr.map(Ce=>{const Wt=t.find(mt=>mt.id===Ce.petId),nt=n.find(mt=>mt.id===Ce.clientId);return r.jsx(ue,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gr,{className:"h-10 w-10",children:[r.jsx(ul,{src:Wt==null?void 0:Wt.photo}),r.jsx(Kr,{children:r.jsx(vu,{className:"h-5 w-5"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:Ce.petName}),r.jsxs("p",{className:"text-xs text-gray-600",children:[Wt==null?void 0:Wt.type," • ",nt==null?void 0:nt.name]})]})]}),q===Ce.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs($e,{value:Ce.status,onValueChange:mt=>qe(Ce.id,mt),children:[r.jsx(Me,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"scheduled",children:"Planifiée"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>$(null),children:"Annuler"})]}):r.jsxs(Le,{className:`${Y3(Ce.status)} cursor-pointer hover:opacity-80`,onClick:()=>$(Ce.id),children:[Q3(Ce.status),r.jsx("span",{className:"ml-1 capitalize",children:Ce.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ks,{className:`h-4 w-4 ${Ce.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("span",{className:"font-medium text-sm",children:[Ce.vaccineName,Ce.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx(Le,{variant:"outline",className:"text-xs",children:Ce.vaccineType}),Ce.vaccinationCategory==="reminder"&&r.jsx(Le,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsxs("span",{children:["Date d'administration: ",It(new Date(Ce.dateGiven),"dd/MM/yyyy",{locale:Ki})]})]}),Ce.vaccinationCategory==="new"&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Rn,{className:"h-4 w-4"}),r.jsxs("span",{children:["Prochain rappel: ",It(new Date(Ce.nextDueDate),"dd/MM/yyyy",{locale:Ki})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Ia,{className:"h-4 w-4"}),r.jsx("span",{children:Ce.veterinarian})]}),Ce.cost&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:r.jsxs("span",{className:"font-medium",children:[Ce.cost," ",g.currency]})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:Ce.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-green-600"}),r.jsx(Le,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ce.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ce.stockQuantity,")"]})]}):Ce.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{te(Ce),M(!0)},children:[r.jsx($r,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{te(Ce),Ne(!0)},children:r.jsx(ur,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>We(Ce),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Lt(Ce),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Un,{className:"h-4 w-4"})})]})]})},Ce.id)})}):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Ot,{children:"Animal"}),r.jsx(Ot,{children:"Vaccin"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Date donnée"}),r.jsx(Ot,{children:"Statut"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Vétérinaire"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(ym,{children:dr.map(Ce=>{const Wt=t.find(mt=>mt.id===Ce.petId),nt=n.find(mt=>mt.id===Ce.clientId);return r.jsxs(za,{children:[r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gr,{className:"h-8 w-8",children:[r.jsx(ul,{src:Wt==null?void 0:Wt.photo}),r.jsx(Kr,{children:r.jsx(vu,{className:"h-4 w-4"})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:Ce.petName}),r.jsx("div",{className:"text-xs text-gray-600",children:nt==null?void 0:nt.name})]})]})}),r.jsx(Dt,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Ce.vaccineName}),Ce.vaccinationCategory==="reminder"&&r.jsx(Le,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]})}),r.jsx(Dt,{children:r.jsx(Le,{variant:"outline",className:"text-xs",children:Ce.vaccineType})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Pe({id:Ce.id,field:"dateGiven"}),at(Ce.dateGiven)},children:(de==null?void 0:de.id)===Ce.id&&de.field==="dateGiven"?r.jsx(ie,{type:"date",value:Ze,onChange:mt=>at(mt.target.value),onBlur:dt,autoFocus:!0}):It(new Date(Ce.dateGiven),"dd/MM/yyyy")}),r.jsx(Dt,{children:q===Ce.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs($e,{value:Ce.status,onValueChange:mt=>qe(Ce.id,mt),children:[r.jsx(Me,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"completed",children:"Terminée"}),r.jsx(U,{value:"scheduled",children:"Planifiée"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manquée"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>$(null),children:"Annuler"})]}):r.jsxs(Le,{className:`${Y3(Ce.status)} cursor-pointer hover:opacity-80`,onClick:()=>$(Ce.id),children:[Q3(Ce.status),r.jsx("span",{className:"ml-1 capitalize",children:Ce.status})]})}),r.jsx(Dt,{children:Ce.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-green-600"}),r.jsx(Le,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ce.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ce.stockQuantity,")"]})]}):Ce.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Pe({id:Ce.id,field:"veterinarian"}),at(Ce.veterinarian)},children:(de==null?void 0:de.id)===Ce.id&&de.field==="veterinarian"?r.jsxs($e,{value:Ze,onValueChange:mt=>{at(mt),Pe(null);const sn={...e.find(as=>as.id===Ce.id),veterinarian:mt};m(Ce.id,sn)},children:[r.jsx(Me,{className:"w-32",children:r.jsx(Re,{})}),r.jsx(Ie,{children:g.veterinarians.filter(mt=>mt.isActive).map(mt=>r.jsx(U,{value:mt.name,children:mt.name},mt.id))})]}):Ce.veterinarian}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{Pe({id:Ce.id,field:"cost"}),at(String(Ce.cost||""))},children:(de==null?void 0:de.id)===Ce.id&&de.field==="cost"?r.jsx(ie,{type:"number",value:Ze,onChange:mt=>at(mt.target.value),onBlur:()=>{dt()},autoFocus:!0}):r.jsxs(r.Fragment,{children:[" ",Ce.cost," ",g.currency," "]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{te(Ce),M(!0)},children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{te(Ce),Ne(!0)},children:r.jsx(ur,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>We(Ce),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Lt(Ce),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Un,{className:"h-4 w-4"})})]})})]},Ce.id)})})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(X5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion des Protocoles Vaccinaux"}),r.jsx(XS,{mode:"create"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(wi,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Protocoles"}),r.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(er,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actifs"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Ce=>Ce.isActive).length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(Ut,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Essentiels"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Ce=>Ce.vaccineType==="core").length})]})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(Ia,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Espèces"}),r.jsx("p",{className:"text-xl font-bold",children:new Set(s.map(Ce=>Ce.species)).size})]})]})})})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs($e,{value:A,onValueChange:P,children:[r.jsx(Me,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"core",children:"Essentiels"}),r.jsx(U,{value:"non-core",children:"Optionnels"}),r.jsx(U,{value:"rabies",children:"Rage"}),r.jsx(U,{value:"custom",children:"Personnalisés"})]})]}),r.jsxs($e,{value:E,onValueChange:D,children:[r.jsx(Me,{className:"w-[150px]",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Toutes catégories"}),r.jsx(U,{value:"new",children:"Vaccinations"}),r.jsx(U,{value:"reminder",children:"Rappels"})]})]}),r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ie,{placeholder:"Rechercher un protocole...",value:j,onChange:Ce=>b(Ce.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-6",children:Array.from(new Set(s.map(Ce=>Ce.species))).map(Ce=>{const Wt=s.filter(nt=>nt.species===Ce).filter(nt=>{const mt=A==="all"||nt.vaccineType===A,sn=nt.name.toLowerCase().includes(j.toLowerCase())||nt.description.toLowerCase().includes(j.toLowerCase());return mt&&sn});return Wt.length===0?null:r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vu,{className:"h-5 w-5"}),Ce," (",Wt.length," protocoles)"]})})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Wt.map(nt=>r.jsx(ue,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:nt.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Le,{variant:nt.vaccineType==="core"?"default":"secondary",className:"text-xs",children:nt.vaccineType==="core"?"Essentiel":nt.vaccineType==="non-core"?"Optionnel":nt.vaccineType==="rabies"?"Rage":"Personnalisé"}),!nt.isActive&&r.jsx(Le,{variant:"outline",className:"text-xs",children:"Inactif"})]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:nt.description}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rappel:"}),r.jsx("span",{className:"font-medium",children:nt.intervals&&nt.intervals.length>0?nt.intervals.map(mt=>mt.label).join(", "):"Non spécifié"})]}),nt.manufacturer&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fabricant:"}),r.jsx("span",{className:"font-medium",children:nt.manufacturer})]}),nt.ageRequirement&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Âge requis:"}),r.jsx("span",{className:"font-medium",children:nt.ageRequirement})]})]}),nt.notes&&r.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:r.jsx("p",{className:"text-xs text-gray-600",children:nt.notes})}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(XS,{mode:"edit",protocol:nt,children:r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",children:[r.jsx(tn,{className:"h-4 w-4 mr-1"}),"Modifier"]})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{confirm(`Êtes-vous sûr de vouloir supprimer le protocole "${nt.name}" ?`)&&d(nt.id)},className:"text-red-600 hover:text-red-700",children:"🗑️"})]})]})},nt.id))})})]},Ce)})}),s.length===0&&r.jsx(ue,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(wi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun protocole vaccinal configuré"}),r.jsx("p",{className:"text-sm mb-4",children:"Commencez par créer votre premier protocole"}),r.jsx(XS,{mode:"create",children:r.jsxs(V,{children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Créer un protocole"]})})]})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Certificats de Vaccination"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de vaccination pour les voyages et compétitions."}),r.jsxs(St,{open:O,onOpenChange:L,children:[r.jsx(Rc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(bt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs($e,{value:(G==null?void 0:G.toString())||"",onValueChange:Ce=>{J(parseInt(Ce)),ee(null)},children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Choisissez un client"})}),r.jsx(Ie,{children:n.map(Ce=>r.jsx(U,{value:Ce.id.toString(),children:Ce.name},Ce.id))})]}),r.jsxs($e,{value:(B==null?void 0:B.toString())||"",onValueChange:Ce=>ee(parseInt(Ce)),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Choisissez un animal"})}),r.jsx(Ie,{children:t.filter(Ce=>G?Ce.ownerId===G:!1).map(Ce=>r.jsxs(U,{value:Ce.id.toString(),children:[Ce.name," (",Ce.type,")"]},Ce.id))})]}),B&&r.jsx("div",{className:"hidden",children:r.jsx(CP,{ref:z,petId:B})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{disabled:!B,onClick:Se,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(St,{open:K,onOpenChange:M,children:r.jsxs(bt,{className:"max-w-2xl",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Détails de la Vaccination"})}),Q&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Animal:"}),r.jsx("p",{children:Q.petName})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Client:"}),r.jsx("p",{children:(ys=n.find(Ce=>Ce.id===Q.clientId))==null?void 0:ys.name})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Vaccin:"}),r.jsx("p",{children:Q.vaccineName})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Type:"}),r.jsx("p",{children:Q.vaccineType})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Date donnée:"}),r.jsx("p",{children:It(new Date(Q.dateGiven),"dd/MM/yyyy",{locale:Ki})})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Rappel:"}),r.jsx("p",{children:It(new Date(Q.nextDueDate),"dd/MM/yyyy",{locale:Ki})})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Vétérinaire:"}),r.jsx("p",{children:Q.veterinarian})]}),r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Coût:"}),r.jsxs("p",{children:[Q.cost," ",g.currency]})]})]}),Q.notes&&r.jsxs("div",{children:[r.jsx(F,{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground",children:Q.notes})]})]})]})}),r.jsx(St,{open:xe,onOpenChange:Ne,children:r.jsxs(bt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Document de Vaccination"})}),Q&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Générez un document officiel pour la vaccination de ",Q.petName,"."]}),r.jsx("div",{className:"hidden",children:r.jsx(CP,{ref:z,petId:Q.petId})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>Ne(!1),children:"Annuler"}),r.jsx(V,{onClick:Se,children:"Générer PDF"})]})]})]})}),r.jsx(F0,{open:re,onOpenChange:Nt,editingVaccination:oe}),r.jsx(St,{open:ne,onOpenChange:ve,children:r.jsxs(bt,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Confirmer la suppression"})}),je&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Êtes-vous sûr de vouloir supprimer ",je.vaccinationCategory==="reminder"?"le rappel":"la vaccination"," ",r.jsx("strong",{children:je.vaccineName})," pour ",r.jsx("strong",{children:je.petName})," ?"]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Cette action est irréversible et supprimera également l'entrée du dossier médical.",je.vaccinationCategory==="reminder"?r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Note :"})," Seul ce rappel sera supprimé, les autres rappels de la même vaccination ne seront pas affectés."]}):r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Attention :"})," La suppression de cette vaccination supprimera également tous ses rappels associés."]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>ve(!1),children:"Annuler"}),r.jsx(V,{variant:"destructive",onClick:xn,children:"Supprimer"})]})]})]})})]})}function X3({children:e,protocol:t,mode:n}){const{addAntiparasiticProtocol:s,updateAntiparasiticProtocol:i}=Pt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),[f,m]=w.useState(["days"]);w.useEffect(()=>{n==="edit"&&t&&(d({name:t.name,species:t.species,productType:t.productType,targetParasites:t.targetParasites,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals,weightRange:t.weightRange||"",ageRequirement:t.ageRequirement||"",seasonalTreatment:t.seasonalTreatment||!1,notes:t.notes||"",isActive:t.isActive}),m(t.intervals.map(v=>v.offsetDays%30===0?"months":v.offsetDays%7===0?"weeks":"days")))},[n,t]);const g=v=>{if(v.preventDefault(),!u.name||!u.species||!u.productType||!u.description){o({title:"Erreur",description:"Champs obligatoires manquants",variant:"destructive"});return}n==="create"?(s(u),o({title:"Protocole créé",description:`${u.name} a été ajouté.`})):t&&(i(t.id,u),o({title:"Protocole mis à jour",description:`${u.name} a été modifié.`})),d({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),c(!1)},x=a.species?a.species.split(",").map(v=>v.trim()):["Chien","Chat","Bovins","Ovins"];return r.jsxs(St,{open:l,onOpenChange:c,children:[r.jsx(Rc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[n==="create"?r.jsx(ft,{className:"h-4 w-4"}):r.jsx(tn,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(bt,{children:[r.jsx(Ct,{children:r.jsx(_t,{children:n==="create"?"Nouveau Protocole Antiparasitaire":"Modifier le Protocole"})}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"name",children:"Nom du protocole *"}),r.jsx(ie,{id:"name",value:u.name,onChange:v=>d(y=>({...y,name:v.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"species",children:"Espèce *"}),r.jsxs($e,{value:u.species,onValueChange:v=>d(y=>({...y,species:v})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Espèce"})}),r.jsx(Ie,{children:x.map(v=>r.jsx(U,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"productType",children:"Type de produit"}),r.jsxs($e,{value:u.productType,onValueChange:v=>d(y=>({...y,productType:v})),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Type"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"external",children:"Externe"}),r.jsx(U,{value:"internal",children:"Interne"}),r.jsx(U,{value:"combined",children:"Combiné"}),r.jsx(U,{value:"heartworm",children:"Ver du cœur"}),r.jsx(U,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(U,{value:"worming",children:"Vermifugation"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"targetParasites",children:"Parasites cibles"}),r.jsx(ie,{id:"targetParasites",value:u.targetParasites,onChange:v=>d(y=>({...y,targetParasites:v.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"description",children:"Description"}),r.jsx(wt,{id:"description",value:u.description,onChange:v=>d(y=>({...y,description:v.target.value})),required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{checked:u.isActive,onCheckedChange:v=>d(y=>({...y,isActive:v}))}),r.jsx(F,{children:"Actif"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Étapes / Intervalles"}),u.intervals.map((v,y)=>{const N=f[y],j=N==="months"?v.offsetDays/30:N==="weeks"?v.offsetDays/7:v.offsetDays;return r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(ie,{type:"number",value:j,min:0,onChange:b=>{const C=parseInt(b.target.value)||0,_=N==="months"?C*30:N==="weeks"?C*7:C;d(A=>{const P=[...A.intervals];return P[y].offsetDays=_,{...A,intervals:P}})},className:"w-20"}),r.jsxs($e,{value:N,onValueChange:b=>{m(C=>{const _=[...C];return _[y]=b,_})},children:[r.jsx(Me,{className:"w-24",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"days",children:"jours"}),r.jsx(U,{value:"weeks",children:"semaines"}),r.jsx(U,{value:"months",children:"mois"})]})]}),r.jsxs("span",{className:"ml-2",children:[v.offsetDays," jours"]}),r.jsx(V,{type:"button",variant:"destructive",onClick:()=>{d(b=>({...b,intervals:b.intervals.filter((C,_)=>_!==y)})),m(b=>b.filter((C,_)=>_!==y))},children:"Suppr."})]},y)}),r.jsx(V,{type:"button",onClick:()=>{d(v=>({...v,intervals:[...v.intervals,{offsetDays:0,label:""}]})),m(v=>[...v,"days"])},children:"Ajouter une étape"})]}),r.jsx(V,{type:"submit",className:"w-full",children:n==="create"?"Créer":"Mettre à jour"})]})]})]})}const J3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Z5e=()=>{const{antiparasitics:e,pets:t,clients:n}=Pt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"antiparasitic",title:o.productName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(VT,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Antiparasitaire",icon:r.jsx(ic,{className:"h-5 w-5"})})},Z3=e=>{switch(e){case"completed":return r.jsx(er,{className:"h-4 w-4"});case"overdue":return r.jsx(Wn,{className:"h-4 w-4"});case"scheduled":return r.jsx(Rn,{className:"h-4 w-4"});case"missed":return r.jsx(Wn,{className:"h-4 w-4"});default:return r.jsx(Rn,{className:"h-4 w-4"})}};function e6e(){const{antiparasitics:e,pets:t,clients:n,antiparasiticProtocols:s,getOverdueAntiparasitics:i,getUpcomingAntiparasitics:a,getAntiparasiticsByStatus:o,getActiveAntiparasiticProtocols:l,getAntiparasiticProtocolsBySpecies:c,addAntiparasitic:u,updateAntiparasitic:d,deleteAntiparasitic:f}=Pt(),{settings:m}=Zt(),{currentView:g}=bd("antiparasitics"),{toast:x}=$t(),[v,y]=w.useState(null),[N,j]=w.useState(""),[b,C]=w.useState(!1),[_,A]=w.useState(null),[P,E]=w.useState(!1),[D,I]=w.useState(null),k=()=>{if(!v)return;const{id:Se,field:qe}=v,We=e.find(Lt=>Lt.id===Se);if(We){const Lt={...We,[qe]:N};d(Se,Lt),x({title:"Modifié",description:`${qe} mis à jour`})}y(null)},[O,L]=w.useState(""),[B,ee]=w.useState("all"),[G,J]=w.useState("all"),[q,$]=w.useState(g),[oe,ge]=w.useState(!1),[re,Z]=w.useState(null),[ne,ve]=w.useState(null),je=w.useRef(null),we=zT.useReactToPrint({contentRef:je,onAfterPrint:()=>ge(!1)}),z=e.length,Q=o("completed").length,te=i().length,K=a().length,M=w.useMemo(()=>[...new Set(s.map(qe=>qe.species))].reduce((qe,We)=>(qe[We]=c(We),qe),{}),[s]),xe=w.useMemo(()=>e.filter(Se=>{t.find(xn=>xn.id===Se.petId),n.find(xn=>xn.id===Se.clientId);const qe=!O||Se.productName.toLowerCase().includes(O.toLowerCase())||Se.petName.toLowerCase().includes(O.toLowerCase())||Se.clientName.toLowerCase().includes(O.toLowerCase()),We=B==="all"||Se.status===B,Lt=G==="all"||Se.productType===G;return qe&&We&&Lt}),[e,t,n,O,B,G]),[Ne,de]=w.useState(""),[Pe,Ze]=w.useState("all");w.useMemo(()=>s.filter(Se=>{const qe=!Ne||Se.name.toLowerCase().includes(Ne.toLowerCase())||Se.species.toLowerCase().includes(Ne.toLowerCase())||Se.targetParasites.toLowerCase().includes(Ne.toLowerCase()),We=Pe==="all"||Se.productType===Pe;return qe&&We}),[s,Ne,Pe]);const at=Se=>{I(Se.petId),E(!0)},dt=Se=>{A(Se),C(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:"Gestion Antiparasitaire"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivi des traitements antiparasitaires et protocoles de prévention"})]}),r.jsx(B0,{children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Traitements"}),r.jsx("p",{className:"text-2xl font-bold",children:z})]}),r.jsx(ic,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Complétés"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:Q})]}),r.jsx(er,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:te})]}),r.jsx(Wn,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"À Venir (7j)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:K})]}),r.jsx(Rn,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsxs(vl,{defaultValue:"treatments",className:"space-y-6",children:[r.jsxs(bo,{className:"grid w-full grid-cols-4",children:[r.jsx(ln,{value:"treatments",children:"Traitements"}),r.jsx(ln,{value:"calendar",children:"Calendrier"}),r.jsx(ln,{value:"protocols",children:"Protocoles"}),r.jsx(ln,{value:"certificates",children:"Certificats"})]}),r.jsxs(cn,{value:"treatments",className:"space-y-6",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(AA,{className:"h-5 w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Rechercher par produit, animal ou client...",value:O,onChange:Se=>L(Se.target.value),className:"pl-10"})]})}),r.jsxs($e,{value:B,onValueChange:ee,children:[r.jsx(Me,{className:"w-[150px]",children:r.jsx(Re,{placeholder:"Statut"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous statuts"}),r.jsx(U,{value:"completed",children:"Complété"}),r.jsx(U,{value:"scheduled",children:"Planifié"}),r.jsx(U,{value:"overdue",children:"En retard"}),r.jsx(U,{value:"missed",children:"Manqué"})]})]}),r.jsxs($e,{value:G,onValueChange:J,children:[r.jsx(Me,{className:"w-[150px]",children:r.jsx(Re,{placeholder:"Type"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"external",children:"Externe"}),r.jsx(U,{value:"internal",children:"Interne"}),r.jsx(U,{value:"combined",children:"Combiné"}),r.jsx(U,{value:"heartworm",children:"Ver du cœur"}),r.jsx(U,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(U,{value:"worming",children:"Vermifugation"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:q==="cards"?"default":"outline",size:"sm",onClick:()=>$("cards"),children:r.jsx(al,{className:"h-4 w-4"})}),r.jsx(V,{variant:q==="table"?"default":"outline",size:"sm",onClick:()=>$("table"),children:r.jsx(ol,{className:"h-4 w-4"})})]})]})})]}),q==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xe.map(Se=>{const qe=t.find(We=>We.id===Se.petId);return n.find(We=>We.id===Se.clientId),r.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ke,{className:"text-lg",children:Se.productName}),r.jsxs(Le,{className:J3(Se.status),children:[Z3(Se.status),r.jsx("span",{className:"ml-1",children:Se.status==="completed"?"Complété":Se.status==="scheduled"?"Planifié":Se.status==="overdue"?"En retard":"Manqué"})]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:qe!=null&&qe.photo?r.jsx(ul,{src:qe.photo,alt:qe.name}):r.jsx(Kr,{children:r.jsx(vu,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Se.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Se.clientName})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Se.productType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Se.targetParasites})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Date donnée:"}),r.jsx("span",{children:It(new Date(Se.dateGiven),"dd/MM/yyyy")})]}),Se.nextDueDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Prochain rappel:"}),r.jsx("span",{children:It(new Date(Se.nextDueDate),"dd/MM/yyyy")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Vétérinaire:"}),r.jsx("span",{children:Se.veterinarian})]}),Se.cost&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Coût:"}),r.jsxs("span",{className:"font-medium",children:[Se.cost," ",m.currency]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-green-600"}),r.jsx(Le,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>at(Se),children:[r.jsx($r,{className:"h-4 w-4 mr-1"}),"Détails"]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>dt(Se),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Se.id),x({title:"Supprimé",description:`${Se.productName} supprimé.`}))},children:r.jsx(Un,{className:"h-4 w-4"})})]})]})]},Se.id)})}):r.jsx(ue,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Ot,{children:"Animal"}),r.jsx(Ot,{children:"Produit"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Date donnée"}),r.jsx(Ot,{children:"Prochain rappel"}),r.jsx(Ot,{children:"Statut"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Vétérinaire"}),r.jsx(Ot,{children:"Coût"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(ym,{children:xe.map(Se=>r.jsxs(za,{children:[r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-8 w-8",children:r.jsx(Kr,{children:r.jsx(vu,{className:"h-4 w-4"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Se.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Se.clientName})]})]})}),r.jsx(Dt,{className:"font-medium",children:Se.productName}),r.jsx(Dt,{children:Se.productType}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Se.id,field:"dateGiven"}),j(Se.dateGiven)},children:(v==null?void 0:v.id)===Se.id&&v.field==="dateGiven"?r.jsx(ie,{type:"date",value:N,onChange:qe=>j(qe.target.value),onBlur:k,autoFocus:!0}):It(new Date(Se.dateGiven),"dd/MM/yyyy")}),r.jsx(Dt,{children:Se.nextDueDate?It(new Date(Se.nextDueDate),"dd/MM/yyyy"):"-"}),r.jsx(Dt,{children:r.jsxs(Le,{className:J3(Se.status),children:[Z3(Se.status),r.jsx("span",{className:"ml-1",children:Se.status==="completed"?"Complété":Se.status==="scheduled"?"Planifié":Se.status==="overdue"?"En retard":"Manqué"})]})}),r.jsx(Dt,{children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-green-600"}),r.jsx(Le,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Se.id,field:"veterinarian"}),j(Se.veterinarian)},children:(v==null?void 0:v.id)===Se.id&&v.field==="veterinarian"?r.jsxs($e,{value:N,onValueChange:qe=>{j(qe),d(Se.id,{veterinarian:qe}),y(null)},children:[r.jsx(Me,{className:"w-32",children:r.jsx(Re,{})}),r.jsx(Ie,{children:m.veterinarians.filter(qe=>qe.isActive).map(qe=>r.jsx(U,{value:qe.name,children:qe.name},qe.id))})]}):Se.veterinarian}),r.jsx(Dt,{className:"cursor-pointer",onClick:()=>{y({id:Se.id,field:"cost"}),j(Se.cost||"")},children:(v==null?void 0:v.id)===Se.id&&v.field==="cost"?r.jsx(ie,{type:"number",value:N,onChange:qe=>j(qe.target.value),onBlur:k,autoFocus:!0}):Se.cost?`${Se.cost} ${m.currency}`:"-"}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>at(Se),children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>dt(Se),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Se.id),x({title:"Supprimé",description:`${Se.productName} supprimé.`}))},children:r.jsx(Un,{className:"h-4 w-4"})})]})})]},Se.id))})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(Z5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Protocoles Antiparasitaires"}),r.jsx("p",{className:"text-muted-foreground",children:"Gérez les protocoles de traitement par espèce"})]}),r.jsx(X3,{mode:"create",children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Protocole"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Protocoles"}),r.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),r.jsx(ur,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actifs"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(Se=>Se.isActive).length})]}),r.jsx(er,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Externes"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(Se=>Se.productType==="external"||Se.productType==="flea_tick").length})]}),r.jsx(ic,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Espèces"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(M).length})]}),r.jsx(vu,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsx(ue,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ie,{placeholder:"Rechercher un protocole...",value:Ne,onChange:Se=>de(Se.target.value),className:"pl-10"})]})}),r.jsxs($e,{value:Pe,onValueChange:Ze,children:[r.jsx(Me,{className:"w-[200px]",children:r.jsx(Re,{placeholder:"Type de produit"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous types"}),r.jsx(U,{value:"external",children:"Externe"}),r.jsx(U,{value:"internal",children:"Interne"}),r.jsx(U,{value:"combined",children:"Combiné"}),r.jsx(U,{value:"heartworm",children:"Ver du cœur"}),r.jsx(U,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(U,{value:"worming",children:"Vermifugation"})]})]})]})})}),r.jsx("div",{className:"space-y-6",children:Object.keys(M).map(Se=>{const qe=M[Se].filter(We=>{const Lt=!Ne||We.name.toLowerCase().includes(Ne.toLowerCase())||We.targetParasites.toLowerCase().includes(Ne.toLowerCase()),xn=Pe==="all"||We.productType===Pe;return Lt&&xn});return qe.length===0?null:r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(vu,{className:"h-5 w-5"}),Se," (",qe.length," protocoles)"]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:qe.map(We=>r.jsxs(ue,{className:"border-l-4 border-l-primary",children:[r.jsx(Ee,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ke,{className:"text-base",children:We.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(X3,{mode:"edit",protocol:We,children:r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})}),r.jsx(Le,{variant:We.isActive?"default":"secondary",children:We.isActive?"Actif":"Inactif"})]})]})}),r.jsxs(he,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:We.description}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:We.productType})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:We.targetParasites})]}),We.weightRange&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Poids:"}),r.jsx("span",{children:We.weightRange})]}),We.ageRequirement&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Âge:"}),r.jsx("span",{children:We.ageRequirement})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rappels:"}),r.jsx("span",{children:We.intervals.map(Lt=>Lt.label).join(", ")})]}),We.manufacturer&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Fabricant:"}),r.jsx("span",{children:We.manufacturer})]})]}),We.notes&&r.jsx("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",We.notes]})})]})]},We.id))})})]},Se)})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Certificats Antiparasitaires"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Générez des certificats officiels de traitement antiparasitaire pour les voyages et compétitions."}),r.jsxs(St,{open:oe,onOpenChange:ge,children:[r.jsx(Rc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Générer un Certificat"]})}),r.jsxs(bt,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(_t,{children:"Sélectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs($e,{value:(re==null?void 0:re.toString())||"",onValueChange:Se=>{Z(parseInt(Se)),ve(null)},children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Choisissez un client"})}),r.jsx(Ie,{children:n.map(Se=>r.jsx(U,{value:Se.id.toString(),children:Se.name},Se.id))})]}),r.jsxs($e,{value:(ne==null?void 0:ne.toString())||"",onValueChange:Se=>ve(parseInt(Se)),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Choisissez un animal"})}),r.jsx(Ie,{children:t.filter(Se=>re?Se.ownerId===re:!1).map(Se=>r.jsxs(U,{value:Se.id.toString(),children:[Se.name," (",Se.type,")"]},Se.id))})]}),ne&&r.jsx("div",{className:"hidden",children:r.jsxs("div",{ref:je,children:["Certificat antiparasitaire pour animal ",ne]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{disabled:!ne,onClick:we,children:"Générer PDF"})})]})]})]})]})]})})]}),r.jsx(B0,{open:b,onOpenChange:Se=>{C(Se),Se||A(null)},editingAntiparasitic:_}),D&&r.jsx(N9,{petId:D,open:P,onOpenChange:E})]})}const t6e=[{value:"medication",label:"Médicaments",icon:"💊"},{value:"vaccine",label:"Vaccins",icon:"💉"},{value:"consumable",label:"Consommables",icon:"🩹"},{value:"equipment",label:"Équipement",icon:"🔧"},{value:"supplement",label:"Suppléments",icon:"🧪"}],n6e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],r6e={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthésique","Analgésique","Antihistaminique","Corticoïde","Diurétique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommandé","Autre"],consumable:["Matériel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Stérilisation","Autre"],supplement:["Vitamines","Minéraux","Probiotiques","Acides aminés","Autre"]};function eL({open:e,onOpenChange:t,editingItem:n}){var f;const{addStockItem:s,updateStockItem:i}=Pt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});w.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=m=>{if(m.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'élément est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numériques ne peuvent pas être négatives.",variant:"destructive"});return}const g={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(i(n.id,g),o({title:"Élément modifié",description:`"${l.name}" a été modifié avec succès.`})):(s(g),o({title:"Élément ajouté",description:`"${l.name}" a été ajouté au stock.`})),t(!1)},d=(m,g)=>{c(x=>({...x,[m]:g}))};return r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:n?"Modifier l'élément de stock":"Nouvel élément de stock"}),r.jsx(pn,{children:n?"Modifiez les informations de l'élément de stock.":"Ajoutez un nouvel élément à votre inventaire."})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"name",children:"Nom de l'élément *"}),r.jsx(ie,{id:"name",value:l.name,onChange:m=>d("name",m.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"category",children:"Catégorie *"}),r.jsxs($e,{value:l.category,onValueChange:m=>d("category",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner une catégorie"})}),r.jsx(Ie,{children:t6e.map(m=>r.jsxs(U,{value:m.value,children:[m.icon," ",m.label]},m.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"subcategory",children:"Sous-catégorie"}),r.jsxs($e,{value:l.subcategory,onValueChange:m=>d("subcategory",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner une sous-catégorie"})}),r.jsx(Ie,{children:(f=r6e[l.category])==null?void 0:f.map(m=>r.jsx(U,{value:m,children:m},m))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ie,{id:"manufacturer",value:l.manufacturer,onChange:m=>d("manufacturer",m.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"description",children:"Description"}),r.jsx(wt,{id:"description",value:l.description,onChange:m=>d("description",m.target.value),placeholder:"Description détaillée de l'élément...",rows:2})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"batchNumber",children:"Numéro de lot"}),r.jsx(ie,{id:"batchNumber",value:l.batchNumber,onChange:m=>d("batchNumber",m.target.value),placeholder:"ex: AMX2024001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"dosage",children:"Dosage"}),r.jsx(ie,{id:"dosage",value:l.dosage,onChange:m=>d("dosage",m.target.value),placeholder:"ex: 500mg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"unit",children:"Unité"}),r.jsxs($e,{value:l.unit,onValueChange:m=>d("unit",m),children:[r.jsx(Me,{children:r.jsx(Re,{placeholder:"Sélectionner une unité"})}),r.jsx(Ie,{children:n6e.map(m=>r.jsx(U,{value:m.value,children:m.label},m.value))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"currentStock",children:"Stock actuel *"}),r.jsx(ie,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:m=>d("currentStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"minimumStock",children:"Stock minimum *"}),r.jsx(ie,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:m=>d("minimumStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"maximumStock",children:"Stock maximum"}),r.jsx(ie,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:m=>d("maximumStock",parseInt(m.target.value)||0)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"purchasePrice",children:["Prix d'achat (",a.currency,") *"]}),r.jsx(ie,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:m=>d("purchasePrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(F,{htmlFor:"sellingPrice",children:["Prix de vente (",a.currency,") *"]}),r.jsx(ie,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:m=>d("sellingPrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calculée automatiquement : Prix d'achat × Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&r.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",a.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&r.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",a.currency]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplémentaires"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"expirationDate",children:"Date d'expiration"}),r.jsx(ie,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:m=>d("expirationDate",m.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"supplier",children:"Fournisseur"}),r.jsx(ie,{id:"supplier",value:l.supplier,onChange:m=>d("supplier",m.target.value),placeholder:"ex: Pharmacie Vétérinaire Centrale"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"location",children:"Emplacement"}),r.jsx(ie,{id:"location",value:l.location,onChange:m=>d("location",m.target.value),placeholder:"ex: Armoire A - Étagère 1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"barcode",children:"Code-barres"}),r.jsx(ie,{id:"barcode",value:l.barcode,onChange:m=>d("barcode",m.target.value),placeholder:"ex: 1234567890123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"sku",children:"SKU"}),r.jsx(ie,{id:"sku",value:l.sku,onChange:m=>d("sku",m.target.value),placeholder:"ex: MED-AMX-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",children:"Notes"}),r.jsx(wt,{id:"notes",value:l.notes,onChange:m=>d("notes",m.target.value),placeholder:"Notes supplémentaires...",rows:3})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const s6e=[{value:"in",label:"Entrée",icon:vr,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:Uu,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:n6,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:Bte,description:"Déplacement entre emplacements"}],i6e={in:["Achat fournisseur","Retour client","Inventaire initial","Don/échantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Périmé/expiré","Cassé/endommagé","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Réorganisation stock","Autre"]};function a6e({open:e,onOpenChange:t,item:n}){var x;const{updateStockItem:s,addStockMovement:i}=Pt(),{settings:a}=Zt(),{toast:o}=$t(),[l,c]=w.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=w.useState("");w.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const f=v=>{if(v.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantité doit être supérieure à 0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let y=n.currentStock;if(l.type==="in")y+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}y-=l.quantity}else l.type==="adjustment"&&(y=l.quantity);l.type!=="transfer"&&s(n.id,{currentStock:y,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const N=l.performedBy==="Autre"?u:l.performedBy,j={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:N||void 0,date:new Date().toISOString(),notes:l.notes||void 0};i(j),o({title:"Mouvement enregistré",description:`${{in:"Entrée",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistrée.`}),t(!1)},m=(v,y)=>{c(N=>({...N,[v]:y}))},g=()=>{if(!n)return 0;let v=n.currentStock;return l.type==="in"?v+=l.quantity:l.type==="out"?v-=l.quantity:l.type==="adjustment"&&(v=l.quantity),Math.max(0,v)};return n?r.jsx(St,{open:e,onOpenChange:t,children:r.jsxs(bt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsxs(_t,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5"}),"Mouvement de stock"]}),r.jsxs(pn,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Kn,{className:"h-5 w-5 text-blue-600"}),"Élément concerné"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),r.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[r.jsx(ud,{className:"h-4 w-4"}),n.location||"Non défini"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),r.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),r.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),r.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",a.currency]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{className:"text-base font-medium",children:"Type de mouvement *"}),r.jsxs($e,{value:l.type,onValueChange:v=>m("type",v),children:[r.jsx(Me,{className:"h-12",children:r.jsx(Re,{placeholder:"Sélectionner le type de mouvement"})}),r.jsx(Ie,{children:s6e.map(v=>{const y=v.icon;return r.jsx(U,{value:v.value,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(y,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:v.label}),r.jsx("div",{className:"text-xs text-muted-foreground",children:v.description})]})]})},v.value)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantité *"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ie,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:v=>m("quantity",parseFloat(v.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),r.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&r.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock après mouvement:"}),r.jsxs("div",{className:`text-lg font-semibold ${g()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[g()," ",n.unit]}),g()<=n.minimumStock&&r.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[r.jsx(Wn,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),r.jsxs($e,{value:l.reason,onValueChange:v=>m("reason",v),children:[r.jsx(Me,{className:"h-12",children:r.jsx(Re,{placeholder:"Sélectionner une raison"})}),r.jsx(Ie,{children:(x=i6e[l.type])==null?void 0:x.map(v=>r.jsx(U,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"reference",className:"text-base font-medium",children:"Référence"}),r.jsx(ie,{id:"reference",value:l.reference,onChange:v=>m("reference",v.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectué par"}),r.jsxs($e,{value:l.performedBy,onValueChange:v=>m("performedBy",v),children:[r.jsx(Me,{className:"h-12",children:r.jsx(Re,{placeholder:"Sélectionner un vétérinaire"})}),r.jsxs(Ie,{children:[a.veterinarians.filter(v=>v.isActive).map(v=>r.jsx(U,{value:v.name,children:v.name},v.id)),r.jsx(U,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&r.jsx(ie,{placeholder:"Nom du responsable",value:u,onChange:v=>d(v.target.value),className:"h-10 mt-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),r.jsx(wt,{id:"notes",value:l.notes,onChange:v=>m("notes",v.target.value),placeholder:"Notes supplémentaires...",rows:4,className:"resize-none"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),r.jsxs(V,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const dp={medication:{label:"Médicaments",color:"bg-blue-100 text-blue-800",icon:"💊"},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:"💉"},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:"🩹"},equipment:{label:"Équipement",color:"bg-purple-100 text-purple-800",icon:"🔧"},supplement:{label:"Suppléments",color:"bg-yellow-100 text-yellow-800",icon:"🧪"}},o6e=[{value:"unit",label:"Unité"},{value:"box",label:"Boîte"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function l6e(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:s,updateStockItem:i,deleteStockItem:a,addStockMovement:o,getStockAlerts:l}=Pt(),{settings:c}=Zt(),{toast:u}=$t(),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(null),[C,_]=w.useState(""),[A,P]=w.useState("all"),[E,D]=w.useState("all"),[I,k]=w.useState("name"),[O,L]=w.useState("asc"),[B,ee]=w.useState(null),[G,J]=w.useState(""),q=w.useMemo(()=>{const z=e.length,Q=e.reduce((xe,Ne)=>xe+Ne.totalValue,0),te=e.filter(xe=>xe.currentStock<=xe.minimumStock).length,K=e.filter(xe=>xe.expirationDate&&new Date(xe.expirationDate)<new Date).length,M=e.filter(xe=>xe.expirationDate&&new Date(xe.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(xe.expirationDate)>new Date).length;return{totalItems:z,totalValue:Q,lowStockItems:te,expiredItems:K,expiringSoonItems:M}},[e]),$=w.useMemo(()=>{let z=e.filter(Q=>{var xe,Ne;const te=Q.name.toLowerCase().includes(C.toLowerCase())||((xe=Q.manufacturer)==null?void 0:xe.toLowerCase().includes(C.toLowerCase()))||((Ne=Q.batchNumber)==null?void 0:Ne.toLowerCase().includes(C.toLowerCase())),K=A==="all"||Q.category===A;let M=!0;return E==="low_stock"?M=Q.currentStock<=Q.minimumStock:E==="expired"?M=Q.expirationDate&&new Date(Q.expirationDate)<new Date:E==="expiring_soon"?M=Q.expirationDate&&new Date(Q.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(Q.expirationDate)>new Date:E==="active"&&(M=Q.isActive),te&&K&&M});return z.sort((Q,te)=>{let K,M;switch(I){case"name":K=Q.name.toLowerCase(),M=te.name.toLowerCase();break;case"currentStock":K=Q.currentStock,M=te.currentStock;break;case"totalValue":K=Q.totalValue,M=te.totalValue;break;case"expirationDate":K=Q.expirationDate||"9999-12-31",M=te.expirationDate||"9999-12-31";break;default:K=Q.name.toLowerCase(),M=te.name.toLowerCase()}return O==="asc"?K<M?-1:K>M?1:0:K>M?-1:K<M?1:0}),z},[e,C,A,E,I,O]),oe=(z,Q,te)=>{const K={};switch(Q){case"currentStock":K.currentStock=parseInt(te)||0;break;case"minimumStock":K.minimumStock=parseInt(te)||0;break;case"purchasePrice":K.purchasePrice=parseFloat(te)||0;break;case"sellingPrice":K.sellingPrice=parseFloat(te)||0;break;case"location":K.location=te;break;case"notes":K.notes=te;break}i(z,K),ee(null),u({title:"Stock mis à jour",description:"L'élément de stock a été mis à jour avec succès."})},ge=z=>{b(z),v(!0)},re=z=>{v(z),z||b(null)},Z=z=>{confirm(`Êtes-vous sûr de vouloir supprimer "${z.name}" du stock ?`)&&(a(z.id),u({title:"Élément supprimé",description:`"${z.name}" a été supprimé du stock.`}))},ne=z=>{N(z),g(!0)},ve=()=>{const z=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(M=>[`"${M.name}"`,`"${M.category}"`,`"${M.subcategory||""}"`,`"${M.manufacturer||""}"`,`"${M.batchNumber||""}"`,`"${M.dosage||""}"`,`"${M.unit}"`,M.currentStock,M.minimumStock,M.purchasePrice,M.sellingPrice,`"${M.expirationDate||""}"`,`"${M.supplier||""}"`,`"${M.location||""}"`,`"${M.notes||""}"`,`"${M.barcode||""}"`,`"${M.sku||""}"`].join(","))].join(`
`),Q=new Blob([z],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),K=URL.createObjectURL(Q);te.setAttribute("href",K),te.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te),u({title:"Export réussi",description:"Le fichier CSV a été téléchargé avec succès."})},je=z=>{var K;const Q=(K=z.target.files)==null?void 0:K[0];if(!Q)return;const te=new FileReader;te.onload=M=>{var xe;try{const de=((xe=M.target)==null?void 0:xe.result).split(`
`),Pe=de[0].split(",").map(We=>We.replace(/"/g,"").trim()),at=["Nom","Catégorie","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(We=>!Pe.includes(We));if(at.length>0){u({title:"Erreur d'import",description:`En-têtes manquants: ${at.join(", ")}`,variant:"destructive"});return}const dt=[];let Se=0,qe=0;for(let We=1;We<de.length;We++){const Lt=de[We].trim();if(Lt)try{const xn=Lt.split(",").map(Qn=>Qn.replace(/"/g,"").trim()),Nt={};if(Pe.forEach((Qn,ys)=>{Nt[Qn]=xn[ys]||""}),!Nt.Nom||!Nt.Catégorie||!Nt.Unité){qe++;continue}if(!Object.keys(dp).includes(Nt.Catégorie)){qe++;continue}const dr={id:Date.now()+We,name:Nt.Nom,category:Nt.Catégorie,subcategory:Nt["Sous-catégorie"]||"",manufacturer:Nt.Fabricant||"",batchNumber:Nt["Numéro de lot"]||"",dosage:Nt.Dosage||"",unit:Nt.Unité,currentStock:parseInt(Nt["Stock actuel"])||0,minimumStock:parseInt(Nt["Stock minimum"])||0,purchasePrice:parseFloat(Nt["Prix d'achat"])||0,sellingPrice:parseFloat(Nt["Prix de vente"])||0,totalValue:(parseInt(Nt["Stock actuel"])||0)*(parseFloat(Nt["Prix d'achat"])||0),expirationDate:Nt["Date d'expiration"]||void 0,supplier:Nt.Fournisseur||"",location:Nt.Emplacement||"",notes:Nt.Notes||"",barcode:Nt["Code-barres"]||"",sku:Nt.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};dt.push(dr),Se++}catch(xn){qe++,console.error(`Erreur ligne ${We+1}:`,xn)}}dt.length>0&&dt.forEach(We=>{s(We)}),u({title:"Import terminé",description:`${Se} éléments importés avec succès${qe>0?`, ${qe} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},te.readAsText(Q),z.target.value=""},we=()=>{const z=[["Nom","Catégorie","Sous-catégorie","Fabricant","Numéro de lot","Dosage","Unité","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vétérinaire Centrale","Armoire A - Étagère 1","Stockage à température ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combiné","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Réfrigérateur - Étagère 1","Conservation entre 2-8°C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matériel médical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - Étagère 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),Q=new Blob([z],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),K=URL.createObjectURL(Q);te.setAttribute("href",K),te.setAttribute("download","gabarit_import_stock.csv"),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te),u({title:"Gabarit téléchargé",description:"Le fichier gabarit a été téléchargé avec succès."})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[r.jsx(Kn,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez votre inventaire de médicaments, vaccins et consommables"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{variant:"outline",onClick:ve,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter CSV"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:je,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),r.jsx(V,{variant:"outline",className:"gap-2",asChild:!0,children:r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(XC,{className:"h-4 w-4"}),"Importer CSV"]})})]}),r.jsxs(V,{variant:"outline",onClick:we,className:"gap-2",children:[r.jsx(pM,{className:"h-4 w-4"}),"Gabarit"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel Élément"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Éléments"}),r.jsx("p",{className:"text-2xl font-bold",children:q.totalItems})]}),r.jsx(Kn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),r.jsxs("p",{className:"text-2xl font-bold",children:[q.totalValue.toFixed(2)," ",c.currency]})]}),r.jsx(qf,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:q.lowStockItems})]}),r.jsx(Wn,{className:"h-8 w-8 text-orange-600"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirés"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:q.expiredItems})]}),r.jsx(ig,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(ue,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientôt"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:q.expiringSoonItems})]}),r.jsx(Rn,{className:"h-8 w-8 text-yellow-600"})]})})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(AA,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[300px]",children:r.jsx(ie,{placeholder:"Rechercher par nom, fabricant, lot...",value:C,onChange:z=>_(z.target.value),className:"w-full"})}),r.jsxs($e,{value:A,onValueChange:P,children:[r.jsx(Me,{className:"w-48",children:r.jsx(Re,{placeholder:"Catégorie"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Toutes les catégories"}),Object.entries(dp).map(([z,Q])=>r.jsxs(U,{value:z,children:[Q.icon," ",Q.label]},z))]})]}),r.jsxs($e,{value:E,onValueChange:D,children:[r.jsx(Me,{className:"w-48",children:r.jsx(Re,{placeholder:"Statut"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"all",children:"Tous les statuts"}),r.jsx(U,{value:"active",children:"Actifs"}),r.jsx(U,{value:"low_stock",children:"Stock bas"}),r.jsx(U,{value:"expired",children:"Expirés"}),r.jsx(U,{value:"expiring_soon",children:"Expirent bientôt"})]})]}),r.jsxs($e,{value:I,onValueChange:k,children:[r.jsx(Me,{className:"w-48",children:r.jsx(Re,{placeholder:"Trier par"})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"name",children:"Nom"}),r.jsx(U,{value:"currentStock",children:"Stock actuel"}),r.jsx(U,{value:"totalValue",children:"Valeur totale"}),r.jsx(U,{value:"expirationDate",children:"Date d'expiration"})]})]}),r.jsx(V,{variant:"outline",onClick:()=>L(O==="asc"?"desc":"asc"),children:O==="asc"?r.jsx(vr,{className:"h-4 w-4"}):r.jsx(Uu,{className:"h-4 w-4"})})]})})]}),r.jsx(ue,{className:"bg-blue-50 border-blue-200",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(pM,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),r.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour télécharger un fichier CSV avec le format correct. Les données importées seront ajoutées au stock existant.'}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Catégories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Unités valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{children:["Inventaire (",$.length," éléments)"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Ot,{children:"Nom"}),r.jsx(Ot,{children:"Catégorie"}),r.jsx(Ot,{children:"Fabricant"}),r.jsx(Ot,{children:"Stock"}),r.jsx(Ot,{children:"Prix d'achat"}),r.jsx(Ot,{children:"Prix de vente"}),r.jsx(Ot,{children:"Valeur totale"}),r.jsx(Ot,{children:"Expiration"}),r.jsx(Ot,{children:"Emplacement"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(ym,{children:$.map(z=>{var M;const Q=z.currentStock<=z.minimumStock,te=z.expirationDate&&new Date(z.expirationDate)<new Date,K=z.expirationDate&&new Date(z.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(z.expirationDate)>new Date;return r.jsxs(za,{className:z.isActive?"":"opacity-50",children:[r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:z.name}),z.batchNumber&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",z.batchNumber]}),z.dosage&&r.jsx("div",{className:"text-sm text-muted-foreground",children:z.dosage})]})}),r.jsxs(Dt,{children:[r.jsxs(Le,{className:dp[z.category].color,children:[dp[z.category].icon," ",dp[z.category].label]}),z.subcategory&&r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:z.subcategory})]}),r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{children:z.manufacturer||"-"}),z.supplier&&r.jsx("div",{className:"text-sm text-muted-foreground",children:z.supplier})]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`font-medium ${Q?"text-orange-600":""}`,children:[z.currentStock," ",((M=o6e.find(xe=>xe.value===z.unit))==null?void 0:M.label)||z.unit]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",z.minimumStock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Q&&r.jsx(Le,{variant:"destructive",className:"text-xs",children:"Stock bas"}),z.lastUpdated&&new Date(z.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&r.jsx(Le,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis à jour"})]})]})}),r.jsx(Dt,{children:(B==null?void 0:B.id)===z.id&&B.field==="purchasePrice"?r.jsx(ie,{type:"number",step:"0.01",value:G,onChange:xe=>J(xe.target.value),onBlur:()=>oe(z.id,"purchasePrice",G),onKeyDown:xe=>{xe.key==="Enter"&&oe(z.id,"purchasePrice",G)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{ee({id:z.id,field:"purchasePrice"}),J(z.purchasePrice.toString())},children:[z.purchasePrice.toFixed(2)," ",c.currency]})}),r.jsx(Dt,{children:(B==null?void 0:B.id)===z.id&&B.field==="sellingPrice"?r.jsx(ie,{type:"number",step:"0.01",value:G,onChange:xe=>J(xe.target.value),onBlur:()=>oe(z.id,"sellingPrice",G),onKeyDown:xe=>{xe.key==="Enter"&&oe(z.id,"sellingPrice",G)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{ee({id:z.id,field:"sellingPrice"}),J(z.sellingPrice.toString())},children:[r.jsxs("div",{className:"font-medium",children:[z.sellingPrice.toFixed(2)," ",c.currency]}),r.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((z.sellingPrice-z.purchasePrice)*z.currentStock).toFixed(2)," ",c.currency]})]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"font-medium",children:[z.totalValue.toFixed(2)," ",c.currency]})}),r.jsx(Dt,{children:z.expirationDate?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:`text-sm ${te?"text-red-600 font-medium":K?"text-yellow-600 font-medium":""}`,children:It(new Date(z.expirationDate),"dd/MM/yyyy",{locale:Ki})}),te&&r.jsx(Le,{variant:"destructive",className:"text-xs",children:"Expiré"}),K&&!te&&r.jsx(Le,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientôt"})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Dt,{children:(B==null?void 0:B.id)===z.id&&B.field==="location"?r.jsx(ie,{value:G,onChange:xe=>J(xe.target.value),onBlur:()=>oe(z.id,"location",G),onKeyDown:xe=>{xe.key==="Enter"&&oe(z.id,"location",G)},autoFocus:!0,className:"w-32"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{ee({id:z.id,field:"location"}),J(z.location||"")},children:[r.jsx(ud,{className:"h-3 w-3"}),z.location||"Non défini"]})}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ne(z),children:r.jsx(vr,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ge(z),children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Z(z),children:r.jsx(Un,{className:"h-3 w-3"})})]})})]},z.id)})})]})}),$.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Kn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun élément trouvé"}),r.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux éléments"})]})]})]}),r.jsxs(ue,{children:[r.jsxs(Ee,{children:[r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),r.jsx(he,{children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Rn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun mouvement de stock enregistré"})]}):r.jsxs("div",{className:"space-y-4",children:[n.sort((z,Q)=>new Date(Q.date).getTime()-new Date(z.date).getTime()).slice(0,20).map(z=>{const te={in:{label:"Entrée",color:"text-green-600",icon:"↗️"},out:{label:z.reason==="Prescription médicale"?"Prescription":"Sortie",color:z.reason==="Prescription médicale"?"text-orange-600":"text-red-600",icon:z.reason==="Prescription médicale"?"💊":"↘️"},adjustment:{label:"Ajustement",color:"text-blue-600",icon:"⚖️"},transfer:{label:"Transfert",color:"text-purple-600",icon:"↔️"}}[z.type];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl",children:te.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:z.itemName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[z.reason," • ",z.performedBy||"Non spécifié"]}),z.reference&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Référence: ",z.reference]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-semibold ${te.color}`,children:[z.type==="in"?"+":z.type==="out"?"-":"",z.quantity]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:It(new Date(z.date),"dd/MM/yyyy HH:mm",{locale:Ki})})]})]},z.id)}),n.length>20&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs(V,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),r.jsx(eL,{open:d,onOpenChange:f}),r.jsx(eL,{open:x,onOpenChange:re,editingItem:j}),r.jsx(a6e,{open:m,onOpenChange:g,item:y})]})}const c6e={monthly:[{description:"Salaire Secrétaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrétaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vétérinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et Électricité",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impôts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vétérinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance Équipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matériel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},u6e=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:s,generateAccountingSummary:i,consultations:a,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=Pt(),{settings:f}=Zt();$t();const[m,g]=w.useState("month"),[x,v]=w.useState(""),[y,N]=w.useState(""),[j,b]=w.useState(!1),[C,_]=w.useState(null),[A,P]=w.useState(null),[E,D]=w.useState(!1),[I,k]=w.useState(c6e),[O,L]=w.useState(!1),[B,ee]=w.useState(null),[G,J]=w.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[q,$]=w.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});w.useEffect(()=>{const K=new Date,M=new Date(K.getFullYear(),K.getMonth(),1),xe=new Date(K.getFullYear(),K.getMonth()+1,0);v(It(M,"yyyy-MM-dd")),N(It(xe,"yyyy-MM-dd"))},[]),w.useEffect(()=>{if(x&&y){const K=m==="month"?It(new Date(x),"yyyy-MM",{locale:Ki}):m==="year"?It(new Date(x),"yyyy",{locale:Ki}):m==="day"?It(new Date(x),"dd/MM/yyyy",{locale:Ki}):`${It(new Date(x),"dd/MM/yyyy")} - ${It(new Date(y),"dd/MM/yyyy")}`,M=i(K,x,y);P(M)}},[x,y,m,e,a,o,l,c,u,i]);const oe=K=>{g(K);const M=new Date;switch(K){case"day":const xe=It(M,"yyyy-MM-dd");v(xe),N(xe);break;case"month":const Ne=new Date(M.getFullYear(),M.getMonth(),1),de=new Date(M.getFullYear(),M.getMonth()+1,0);v(It(Ne,"yyyy-MM-dd")),N(It(de,"yyyy-MM-dd"));break;case"quarter":const Pe=Math.floor(M.getMonth()/3),Ze=new Date(M.getFullYear(),Pe*3,1),at=new Date(M.getFullYear(),Pe*3+3,0);v(It(Ze,"yyyy-MM-dd")),N(It(at,"yyyy-MM-dd"));break;case"year":const dt=new Date(M.getFullYear(),0,1),Se=new Date(M.getFullYear(),11,31);v(It(dt,"yyyy-MM-dd")),N(It(Se,"yyyy-MM-dd"));break}},ge=()=>{if(!q.description||!q.amount||!q.date)return;const K={type:q.type,category:"manual",frequency:q.frequency,description:q.description,amount:parseFloat(q.amount),date:q.date,source:q.source,notes:q.notes};C?(n(C.id,K),_(null)):t(K),$({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),b(!1)},re=K=>{_(K),$({type:K.type,frequency:K.frequency,description:K.description,amount:K.amount.toString(),date:K.date,source:K.source||"other",notes:K.notes||""}),b(!0)},Z=K=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette entrée ?")&&s(K)},ne=K=>{$({...q,type:K.type,frequency:K.frequency||"occasional",description:K.description,amount:K.amount.toString(),source:K.source,date:q.date||It(new Date,"yyyy-MM-dd")}),D(!1)},ve=()=>{if(!G.description||!G.amount)return;const K={description:G.description,amount:parseFloat(G.amount),type:G.type,frequency:G.frequency,source:G.source};if(B){const M={...I},xe=B.frequency,Ne=M[xe].findIndex(de=>de===B);Ne!==-1&&(M[xe][Ne]=K),k(M),ee(null)}else{const M={...I},xe=G.frequency;M[xe].push(K),k(M)}J({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),L(!1)},je=K=>{ee(K),J({description:K.description,amount:K.amount.toString(),type:K.type,frequency:K.frequency,source:K.source}),L(!0)},we=K=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette suggestion ?")){const M={...I},xe=K.frequency;M[xe]=M[xe].filter(Ne=>Ne!==K),k(M)}},z=e.filter(K=>{const M=new Date(K.date),xe=new Date(x),Ne=new Date(y);return M>=xe&&M<=Ne}),Q=K=>`${K.toFixed(2)} ${f.currency}`,te=K=>{switch(K){case"consultation":return"🩺";case"vaccination":return"💉";case"antiparasitic":return"💊";case"prescription":return"📋";case"stock_purchase":return"📦";case"salary":return"👥";case"rent":return"🏢";case"tax":return"📊";case"insurance":return"🛡️";default:return"📄"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(Z5,{className:"h-8 w-8"}),"Gestion Comptable"]}),r.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vétérinaire"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(St,{open:j,onOpenChange:b,children:[r.jsx(Rc,{asChild:!0,children:r.jsxs(V,{onClick:()=>{_(null),$({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter une entrée"]})}),r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:C?"Modifier l'entrée comptable":"Ajouter une entrée comptable"}),r.jsx(pn,{children:C?"Modifiez les informations de cette entrée.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(QN,{className:"h-4 w-4 text-yellow-600"}),r.jsx(F,{className:"text-sm font-medium",children:"Suggestions prédéfinies"})]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>D(!E),children:E?r.jsx(fb,{className:"h-4 w-4"}):r.jsx(QN,{className:"h-4 w-4"})})]}),E&&r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.monthly.map((K,M)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(K),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:K.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[K.amount," ",f.currency]})]})},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.annual.map((K,M)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(K),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:K.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[K.amount," ",f.currency]})]})},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.occasional.map((K,M)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ne(K),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:K.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[K.amount," ",f.currency]})]})},M))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"type",children:"Type"}),r.jsxs($e,{value:q.type,onValueChange:K=>$({...q,type:K}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"revenue",children:"Recette"}),r.jsx(U,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"frequency",children:"Fréquence"}),r.jsxs($e,{value:q.frequency,onValueChange:K=>$({...q,frequency:K}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"monthly",children:"Mensuel"}),r.jsx(U,{value:"annual",children:"Annuel"}),r.jsx(U,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"description",children:"Description"}),r.jsx(ie,{id:"description",value:q.description,onChange:K=>$({...q,description:K.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"amount",children:["Montant (",f.currency,")"]}),r.jsx(ie,{id:"amount",type:"number",step:"0.01",value:q.amount,onChange:K=>$({...q,amount:K.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"date",children:"Date"}),r.jsx(ie,{id:"date",type:"date",value:q.date,onChange:K=>$({...q,date:K.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"source",children:"Source"}),r.jsxs($e,{value:q.source,onValueChange:K=>$({...q,source:K}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"salary",children:"Salaire"}),r.jsx(U,{value:"rent",children:"Loyer"}),r.jsx(U,{value:"tax",children:"Impôts"}),r.jsx(U,{value:"insurance",children:"Assurance"}),r.jsx(U,{value:"other",children:"Autre"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(wt,{id:"notes",value:q.notes,onChange:K=>$({...q,notes:K.target.value}),placeholder:"Informations supplémentaires..."})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>b(!1),children:"Annuler"}),r.jsx(V,{onClick:ge,children:C?"Modifier":"Ajouter"})]})]})]})]})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5"}),"Période d'analyse"]})}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:m==="day"?"default":"outline",onClick:()=>oe("day"),size:"sm",children:"Ce jour"}),r.jsx(V,{variant:m==="month"?"default":"outline",onClick:()=>oe("month"),size:"sm",children:"Ce mois"}),r.jsx(V,{variant:m==="quarter"?"default":"outline",onClick:()=>oe("quarter"),size:"sm",children:"Ce trimestre"}),r.jsx(V,{variant:m==="year"?"default":"outline",onClick:()=>oe("year"),size:"sm",children:"Cette année"})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(F,{htmlFor:"startDate",children:"Du"}),r.jsx(ie,{id:"startDate",type:"date",value:x,onChange:K=>v(K.target.value),className:"w-40"}),r.jsx(F,{htmlFor:"endDate",children:"Au"}),r.jsx(ie,{id:"endDate",type:"date",value:y,onChange:K=>N(K.target.value),className:"w-40"})]})]})})]}),A&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium",children:"Total Recettes"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Q(A.totalRevenue)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Consultations: ",Q(A.revenueBreakdown.consultations)]}),r.jsxs("div",{children:["Vaccinations: ",Q(A.revenueBreakdown.vaccinations)]}),r.jsxs("div",{children:["Antiparasitaires: ",Q(A.revenueBreakdown.antiparasitics)]}),r.jsxs("div",{children:["Prescriptions: ",Q(A.revenueBreakdown.prescriptions)]}),r.jsxs("div",{children:["Manuelles: ",Q(A.revenueBreakdown.manualEntries)]})]})]})]}),r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium",children:"Total Charges"}),r.jsx(Uu,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:Q(A.totalExpenses)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Achats stock: ",Q(A.expenseBreakdown.stockPurchases)]}),r.jsxs("div",{children:["Salaires: ",Q(A.expenseBreakdown.salaries)]}),r.jsxs("div",{children:["Loyer: ",Q(A.expenseBreakdown.rent)]}),r.jsxs("div",{children:["Impôts: ",Q(A.expenseBreakdown.taxes)]}),r.jsxs("div",{children:["Autres: ",Q(A.expenseBreakdown.other)]})]})]})]}),r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium",children:"Résultat Net"}),r.jsx(qf,{className:"h-4 w-4"})]}),r.jsxs(he,{children:[r.jsx("div",{className:`text-2xl font-bold ${A.netIncome>=0?"text-green-600":"text-red-600"}`,children:Q(A.netIncome)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.netIncome>=0?"Bénéfice":"Perte"})]})]})]}),r.jsxs(vl,{defaultValue:"entries",className:"space-y-4",children:[r.jsxs(bo,{children:[r.jsx(ln,{value:"entries",children:"Entrées Comptables"}),r.jsx(ln,{value:"configuration",children:"Configuration"})]}),r.jsx(cn,{value:"entries",children:r.jsxs(ue,{children:[r.jsxs(Ee,{children:[r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"h-5 w-5"}),"Entrées comptables automatiques et manuelles"]}),r.jsx(df,{children:"Entrées générées automatiquement (consultations, vaccinations, etc.) et entrées manuelles ajoutées"})]}),r.jsxs(he,{children:[r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(Ot,{children:"Date"}),r.jsx(Ot,{children:"Type"}),r.jsx(Ot,{children:"Description"}),r.jsx(Ot,{children:"Source"}),r.jsx(Ot,{children:"Fréquence"}),r.jsx(Ot,{children:"Montant"}),r.jsx(Ot,{children:"Actions"})]})}),r.jsx(ym,{children:z.map(K=>r.jsxs(za,{children:[r.jsx(Dt,{children:It(new Date(K.date),"dd/MM/yyyy",{locale:Ki})}),r.jsx(Dt,{children:r.jsx(Le,{variant:K.type==="revenue"?"default":"destructive",children:K.type==="revenue"?"Recette":"Charge"})}),r.jsx(Dt,{children:K.description}),r.jsx(Dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:te(K.source||"other")}),r.jsx("span",{className:"text-sm",children:K.category==="automatic"?"Automatique":"Manuel"})]})}),r.jsx(Dt,{children:r.jsx(Le,{variant:"outline",children:K.frequency==="monthly"?"Mensuel":K.frequency==="annual"?"Annuel":"Occasionnel"})}),r.jsxs(Dt,{className:`font-medium ${K.type==="revenue"?"text-green-600":"text-red-600"}`,children:[K.type==="revenue"?"+":"-",Q(K.amount)]}),r.jsx(Dt,{children:K.category==="manual"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>re(K),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>Z(K.id),children:r.jsx(Un,{className:"h-4 w-4"})})]})})]},K.id))})]}),z.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entrée comptable pour cette période"})]})]})}),r.jsx(cn,{value:"configuration",children:r.jsxs(ue,{children:[r.jsxs(Ee,{children:[r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(QN,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),r.jsx(df,{children:"Configurez les suggestions prédéfinies pour faciliter la saisie des charges et recettes"})]}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),r.jsxs(V,{onClick:()=>{ee(null),J({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),L(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.monthly.map((K,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:K.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[K.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>je(K),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>we(K),children:r.jsx(Un,{className:"h-4 w-4"})})]})]},M))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),r.jsxs(V,{onClick:()=>{ee(null),J({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),L(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.annual.map((K,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:K.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[K.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>je(K),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>we(K),children:r.jsx(Un,{className:"h-4 w-4"})})]})]},M))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),r.jsxs(V,{onClick:()=>{ee(null),J({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),L(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.occasional.map((K,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:K.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[K.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>je(K),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>we(K),children:r.jsx(Un,{className:"h-4 w-4"})})]})]},M))})]})]})})]}),r.jsx(St,{open:O,onOpenChange:L,children:r.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:B?"Modifier la suggestion":"Ajouter une suggestion"}),r.jsx(pn,{children:B?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prédéfinie."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"suggestion-type",children:"Type"}),r.jsxs($e,{value:G.type,onValueChange:K=>J({...G,type:K}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"revenue",children:"Recette"}),r.jsx(U,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"suggestion-frequency",children:"Fréquence"}),r.jsxs($e,{value:G.frequency,onValueChange:K=>J({...G,frequency:K}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"monthly",children:"Mensuel"}),r.jsx(U,{value:"annual",children:"Annuel"}),r.jsx(U,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"suggestion-description",children:"Description"}),r.jsx(ie,{id:"suggestion-description",value:G.description,onChange:K=>J({...G,description:K.target.value}),placeholder:"Ex: Salaire employé, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"suggestion-amount",children:["Montant (",f.currency,")"]}),r.jsx(ie,{id:"suggestion-amount",type:"number",step:"0.01",value:G.amount,onChange:K=>J({...G,amount:K.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"suggestion-source",children:"Source"}),r.jsxs($e,{value:G.source,onValueChange:K=>J({...G,source:K}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"salary",children:"Salaire"}),r.jsx(U,{value:"rent",children:"Loyer"}),r.jsx(U,{value:"tax",children:"Impôts"}),r.jsx(U,{value:"insurance",children:"Assurance"}),r.jsx(U,{value:"other",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>L(!1),children:"Annuler"}),r.jsx(V,{onClick:ve,children:B?"Modifier":"Ajouter"})]})]})]})})]})},d6e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=Pt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{onClick:u,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(V,{onClick:d,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(V,{onClick:f,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(V,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},h6e=()=>r.jsx(uE,{children:r.jsx(d6e,{})}),f6e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=Pt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{onClick:u,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(V,{onClick:d,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(V,{onClick:f,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(V,{onClick:m,variant:"outline",className:"w-full",children:"Mettre à jour Stats"})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-lg",children:"Détails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernière visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},m6e=()=>r.jsx(uE,{children:r.jsx(f6e,{})}),p6e=()=>{const e=Mc();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function g6e(){const{user:e,logout:t}=$c(),{toast:n}=$t();if(!e)return null;const s=l=>l?l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),i=l=>{switch(l){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},a=l=>{switch(l){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"assistant":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},o=async()=>{await t(),n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."})};return r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5"}),"Profil Utilisateur"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-16 w-16",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-lg",children:s(e.profile.full_name||e.profile.username)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Wf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Le,{className:a(e.profile.role),children:i(e.profile.role)})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Informations de session"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Nom d'utilisateur:"}),r.jsxs("span",{children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rôle:"}),r.jsx("span",{children:i(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Statut:"}),r.jsx(Le,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Connecté"})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs(V,{variant:"outline",onClick:o,className:"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(t6,{className:"h-4 w-4"}),"Se déconnecter"]})})]})]})}const v6e={clinicName:"Clinique du Soleil",address:"123 Avenue Hassan II, Rabat, Maroc",phone:"+212 5 37 00 00 00",email:"contact@cliniquedusoleil.ma",website:"https://www.cliniquedusoleil.ma",footerText:"Clinique du Soleil - Soins vétérinaires à Rabat",logo:"/placeholder.svg",currency:"MAD",species:"Chien, Chat, Bovins, Porcins, Volailles",showClinicInfo:!0,showVetsInfo:!0,veterinarians:[],displayPreferences:{clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},defaultConsultationPrice:150,scheduleSettings:{openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]}};function x6e(){const{toast:e}=$t(),{settings:t,updateSettings:n}=Zt(),{theme:s,setTheme:i}=u8(),a=[{id:1,name:"Dr. Jean Dupont",title:"Dr.",specialty:"Médecine générale",phone:"+212 5 37 00 00 01",email:"j.dupont@cliniquedusoleil.ma"},{id:2,name:"Dr. Marie Martin",title:"Dr.",specialty:"Chirurgie",phone:"+212 5 37 00 00 02",email:"m.martin@cliniquedusoleil.ma"},{id:3,name:"Pr. Ahmed El Alaoui",title:"Pr.",specialty:"Dermatologie",phone:"+212 5 37 00 00 03",email:"a.alaoui@cliniquedusoleil.ma"}],o=t.veterinarians.map(M=>({id:M.id,name:M.name,title:M.name.startsWith("Dr.")?"Dr.":M.name.startsWith("Pr.")?"Pr.":"Dr.",specialty:"Médecine générale",phone:"",email:""})),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({name:"",title:"",specialty:"",phone:"",email:""}),[g,x]=w.useState(!1),[v,y]=w.useState(""),[N,j]=w.useState(!1),[b,C]=w.useState(""),[_,A]=w.useState(""),[P,E]=w.useState(!1),[D,I]=w.useState(""),[k,O]=w.useState(!1),[L,B]=w.useState("");w.useEffect(()=>{if(t.veterinarians.length===0){const M=a.map(xe=>({id:xe.id,name:xe.name,isActive:!0}));n({...t,veterinarians:M})}},[t.veterinarians.length]);const{pets:ee}=Pt();w.useEffect(()=>{const M=Array.from(new Set([...ee.map(Ne=>Ne.type)])),xe=Array.from(new Set([...t.species.split(",").map(Ne=>Ne.trim()),...M]));n({...t,species:xe.join(", ")})},[ee]);const G=(M,xe)=>{n({...t,[M]:xe})},J=()=>{e({title:"Paramètres sauvegardés",description:"Informations de la clinique mises à jour."})},q=M=>{var Ne;const xe=(Ne=M.target.files)==null?void 0:Ne[0];if(xe){const de=new FileReader;de.onload=()=>G("logo",de.result),de.readAsDataURL(xe)}},$=(M,xe)=>{const Ne={...t.displayPreferences,[M]:xe},de={...t,displayPreferences:Ne};n(de),e({title:"Préférence d'affichage mise à jour",description:`${M} s'affichera maintenant en ${xe==="table"?"tableau":"cartes"}`})},oe=()=>{d(null),m({name:"",title:"",specialty:"",phone:"",email:""}),c(!0)},ge=M=>{d(M),m({name:M.name,title:M.title,specialty:M.specialty||"",phone:M.phone||"",email:M.email||""}),c(!0)},re=()=>{if(!f.name||!f.title){e({title:"Erreur",description:"Nom et titre requis",variant:"destructive"});return}const M=`${f.title} ${f.name}`;let xe;if(u)xe=t.veterinarians.map(Ne=>Ne.id===u.id?{...Ne,name:M,isActive:!0}:Ne);else{const Ne={id:Math.max(0,...t.veterinarians.map(de=>de.id))+1,name:M,isActive:!0};xe=[...t.veterinarians,Ne]}n({...t,veterinarians:xe}),e({title:"Vétérinaire enregistré"}),c(!1)},Z=M=>{if(!confirm("Supprimer ce vétérinaire ?"))return;const xe=t.veterinarians.filter(Ne=>Ne.id!==M);n({...t,veterinarians:xe}),e({title:"Vétérinaire supprimé"})},ne=()=>{if(!v.trim())return;const M={...t,farmManagement:{...t.farmManagement,farmTypes:[...t.farmManagement.farmTypes,v.trim()]}};n(M),y(""),x(!1),e({title:"Type d'élevage ajouté"})},ve=M=>{if(!confirm(`Supprimer le type "${M}" ?`))return;const xe={...t,farmManagement:{...t.farmManagement,farmTypes:t.farmManagement.farmTypes.filter(Ne=>Ne!==M)}};n(xe),e({title:"Type d'élevage supprimé"})},je=()=>{if(!b.trim())return;const M={...t,farmManagement:{...t.farmManagement,animalCategories:[...t.farmManagement.animalCategories,b.trim()],breedsByCategory:{...t.farmManagement.breedsByCategory,[b.trim()]:[]}}};n(M),C(""),j(!1),e({title:"Catégorie d'animal ajoutée"})},we=M=>{if(!confirm(`Supprimer la catégorie "${M}" ?`))return;const xe={...t.farmManagement.breedsByCategory};delete xe[M];const Ne={...t,farmManagement:{...t.farmManagement,animalCategories:t.farmManagement.animalCategories.filter(de=>de!==M),breedsByCategory:xe}};n(Ne),e({title:"Catégorie d'animal supprimée"})},z=()=>{if(!D.trim()||!_)return;const M=t.farmManagement.breedsByCategory[_]||[],xe={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[_]:[...M,D.trim()]}}};n(xe),I(""),E(!1),e({title:"Race ajoutée"})},Q=(M,xe)=>{if(!confirm(`Supprimer la race "${xe}" ?`))return;const Ne=t.farmManagement.breedsByCategory[M]||[],de={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[M]:Ne.filter(Pe=>Pe!==xe)}}};n(de),e({title:"Race supprimée"})},te=()=>{if(!L.trim())return;const M={...t,farmManagement:{...t.farmManagement,certificationTypes:[...t.farmManagement.certificationTypes,L.trim()]}};n(M),B(""),O(!1),e({title:"Certification ajoutée"})},K=M=>{if(!confirm(`Supprimer la certification "${M}" ?`))return;const xe={...t,farmManagement:{...t.farmManagement,certificationTypes:t.farmManagement.certificationTypes.filter(Ne=>Ne!==M)}};n(xe),e({title:"Certification supprimée"})};return r.jsx("div",{className:"container mx-auto px-6 py-8 space-y-8",children:r.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Paramètres de la Clinique"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"logo",children:"Logo de la clinique"}),r.jsx(ie,{id:"logo",type:"file",accept:"image/*",onChange:q}),t.logo&&r.jsx("img",{src:t.logo,alt:"Logo",className:"h-24 mt-2"})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"clinicName",children:"Nom de la clinique"}),r.jsx(ie,{id:"clinicName",value:t.clinicName,onChange:M=>G("clinicName",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:t.address,onChange:M=>G("address",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:t.phone,onChange:M=>G("phone",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:t.email,onChange:M=>G("email",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"website",children:"Site web"}),r.jsx(ie,{id:"website",value:t.website,onChange:M=>G("website",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"currency",children:"Devise"}),r.jsx(ie,{id:"currency",value:t.currency,onChange:M=>G("currency",M.target.value)})]}),r.jsxs("div",{children:[r.jsxs(F,{htmlFor:"defaultConsultationPrice",children:["Prix de consultation par défaut (",t.currency,")"]}),r.jsx(ie,{id:"defaultConsultationPrice",type:"number",step:"0.01",min:"0",value:t.defaultConsultationPrice,onChange:M=>G("defaultConsultationPrice",parseFloat(M.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"species",children:"Liste des espèces (virgule séparées)"}),r.jsx(ie,{id:"species",value:t.species,onChange:M=>G("species",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"footerText",children:"Texte de pied de page"}),r.jsx(ie,{id:"footerText",value:t.footerText,onChange:M=>G("footerText",M.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{id:"showClinicInfo",checked:t.showClinicInfo,onCheckedChange:M=>G("showClinicInfo",M)}),r.jsx(F,{htmlFor:"showClinicInfo",children:"Afficher coordonnées de la clinique sur le certificat"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{id:"showVetsInfo",checked:t.showVetsInfo,onCheckedChange:M=>G("showVetsInfo",M)}),r.jsx(F,{htmlFor:"showVetsInfo",children:"Afficher liste des vétérinaires sur le certificat"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{onClick:J,children:"Enregistrer"}),r.jsx(V,{variant:"outline",onClick:()=>{const M=a.map(Ne=>({id:Ne.id,name:Ne.name,isActive:!0})),xe={...v6e,veterinarians:M};n(xe),e({title:"Paramètres réinitialisés",description:"Valeurs par défaut restaurées."})},children:"Restaurer valeurs par défaut"}),r.jsx(V,{variant:"outline",onClick:()=>{const xe={...t,farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","Équin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins à viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbéliarde","Normande","Simmental"],"Bovins à viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Piétrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitière","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle français","Arabe","Quarter Horse"],Lapins:["Néo-Zélandais","Californien","Fauve de Bourgogne","Géant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-être animal","Global GAP","IFS Food","BRC Food","Œufs de France"],equipmentTypes:["Tracteur","Moissonneuse","Épandeur","Charrue","Système de traite","Tank à lait","Système d'alimentation automatique","Ventilation","Générateur","Système d'irrigation","Matériel de récolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"}};n(xe),e({title:"Paramètres ferme réinitialisés",description:"Configuration des fermes restaurée aux valeurs par défaut."})},children:"Restaurer paramètres ferme"})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Thème de l'application"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez le thème de l'application pour votre confort visuel."}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{htmlFor:"theme-select",children:"Thème"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s==="light"?"Mode clair":"Mode sombre"})]}),r.jsxs($e,{value:s,onValueChange:M=>{i(M),e({title:"Thème mis à jour",description:`Thème changé en mode ${M==="light"?"clair":"sombre"}`})},children:[r.jsx(Me,{className:"w-32",children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"light",children:"Mode clair"}),r.jsx(U,{value:"dark",children:"Mode sombre"})]})]})]})]})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Préférences d'affichage"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez comment vous souhaitez afficher les différentes sections par défaut."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"clients-display",children:"Clients"}),r.jsxs($e,{value:t.displayPreferences.clients,onValueChange:M=>$("clients",M),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"pets-display",children:"Animaux"}),r.jsxs($e,{value:t.displayPreferences.pets,onValueChange:M=>$("pets",M),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"consultations-display",children:"Consultations"}),r.jsxs($e,{value:t.displayPreferences.consultations,onValueChange:M=>$("consultations",M),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"appointments-display",children:"Rendez-vous"}),r.jsxs($e,{value:t.displayPreferences.appointments,onValueChange:M=>$("appointments",M),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"prescriptions-display",children:"Prescriptions"}),r.jsxs($e,{value:t.displayPreferences.prescriptions,onValueChange:M=>$("prescriptions",M),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"farms-display",children:"Fermes"}),r.jsxs($e,{value:t.displayPreferences.farms,onValueChange:M=>$("farms",M),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"vaccinations-display",children:"Vaccinations"}),r.jsxs($e,{value:t.displayPreferences.vaccinations,onValueChange:M=>$("vaccinations",M),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"antiparasitics-display",children:"Antiparasitaires"}),r.jsxs($e,{value:t.displayPreferences.antiparasitics,onValueChange:M=>$("antiparasitics",M),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"table",children:"Tableau"}),r.jsx(U,{value:"cards",children:"Cartes"})]})]})]})]})]})})]}),r.jsxs(ue,{children:[r.jsxs(Ee,{className:"flex justify-between items-center",children:[r.jsx(ke,{children:"Vétérinaires"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{},children:"Debug"}),r.jsxs(V,{onClick:oe,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]})]}),r.jsx(he,{className:"space-y-2",children:o.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Aucun vétérinaire configuré"}):o.map(M=>r.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[M.title," ",M.name]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:M.specialty}),r.jsxs("p",{className:"text-xs",children:[M.phone," | ",M.email]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ge(M),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>Z(M.id),children:r.jsx(Un,{className:"h-4 w-4"})})]})]},M.id))})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Configuration des Horaires"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"openingTime",children:"Heure d'ouverture"}),r.jsx(ie,{id:"openingTime",type:"time",value:t.scheduleSettings.openingTime,onChange:M=>G("scheduleSettings",{...t.scheduleSettings,openingTime:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"closingTime",children:"Heure de fermeture"}),r.jsx(ie,{id:"closingTime",type:"time",value:t.scheduleSettings.closingTime,onChange:M=>G("scheduleSettings",{...t.scheduleSettings,closingTime:M.target.value})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(F,{htmlFor:"slotDuration",children:"Durée des créneaux (minutes)"}),r.jsxs($e,{value:t.scheduleSettings.slotDuration.toString(),onValueChange:M=>G("scheduleSettings",{...t.scheduleSettings,slotDuration:parseInt(M)}),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"15",children:"15 minutes"}),r.jsx(U,{value:"30",children:"30 minutes"}),r.jsx(U,{value:"45",children:"45 minutes"}),r.jsx(U,{value:"60",children:"1 heure"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Pause déjeuner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"lunchBreakStart",children:"Début de pause"}),r.jsx(ie,{id:"lunchBreakStart",type:"time",value:t.scheduleSettings.lunchBreakStart||"",onChange:M=>G("scheduleSettings",{...t.scheduleSettings,lunchBreakStart:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"lunchBreakEnd",children:"Fin de pause"}),r.jsx(ie,{id:"lunchBreakEnd",type:"time",value:t.scheduleSettings.lunchBreakEnd||"",onChange:M=>G("scheduleSettings",{...t.scheduleSettings,lunchBreakEnd:M.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Jours de travail"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}].map(M=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zr,{id:M.key,checked:t.scheduleSettings.workingDays.includes(M.key),onCheckedChange:xe=>{const Ne=xe?[...t.scheduleSettings.workingDays,M.key]:t.scheduleSettings.workingDays.filter(de=>de!==M.key);G("scheduleSettings",{...t.scheduleSettings,workingDays:Ne})}}),r.jsx(F,{htmlFor:M.key,className:"text-sm",children:M.label})]},M.key))})]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{children:"Gestion des Exploitations"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types d'élevage"}),r.jsxs(V,{size:"sm",onClick:()=>x(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.farmTypes.map(M=>r.jsxs(Le,{variant:"secondary",className:"gap-2",children:[M,r.jsx("button",{onClick:()=>ve(M),className:"hover:text-red-500",children:r.jsx(Un,{className:"h-3 w-3"})})]},M))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Catégories d'animaux"}),r.jsxs(V,{size:"sm",onClick:()=>j(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"space-y-3",children:t.farmManagement.animalCategories.map(M=>r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h5",{className:"font-medium",children:M}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{A(M),E(!0)},children:[r.jsx(ft,{className:"h-3 w-3"})," Race"]}),r.jsx("button",{onClick:()=>we(M),className:"text-red-500 hover:text-red-700",children:r.jsx(Un,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(t.farmManagement.breedsByCategory[M]||[]).map(xe=>r.jsxs(Le,{variant:"outline",className:"text-xs gap-1",children:[xe,r.jsx("button",{onClick:()=>Q(M,xe),className:"hover:text-red-500",children:r.jsx(Un,{className:"h-2 w-2"})})]},xe))})]},M))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types de certifications"}),r.jsxs(V,{size:"sm",onClick:()=>O(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.certificationTypes.map(M=>r.jsxs(Le,{variant:"outline",className:"gap-2",children:[M,r.jsx("button",{onClick:()=>K(M),className:"hover:text-red-500",children:r.jsx(Un,{className:"h-3 w-3"})})]},M))})]})]})]}),r.jsx(St,{open:l,onOpenChange:c,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:u?"Modifier vétérinaire":"Nouveau vétérinaire"}),r.jsx(pn,{children:"Nom, titre, spécialité, contact"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetName",children:"Nom complet *"}),r.jsx(ie,{id:"vetName",value:f.name,onChange:M=>m(xe=>({...xe,name:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetTitle",children:"Titre *"}),r.jsx(ie,{id:"vetTitle",value:f.title,onChange:M=>m(xe=>({...xe,title:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetSpec",children:"Spécialité"}),r.jsx(ie,{id:"vetSpec",value:f.specialty,onChange:M=>m(xe=>({...xe,specialty:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetPhone",children:"Téléphone"}),r.jsx(ie,{id:"vetPhone",value:f.phone,onChange:M=>m(xe=>({...xe,phone:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(F,{htmlFor:"vetEmail",children:"Email"}),r.jsx(ie,{id:"vetEmail",type:"email",value:f.email,onChange:M=>m(xe=>({...xe,email:M.target.value}))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(V,{onClick:re,children:u?"Mettre à jour":"Créer"})]})]})]})}),r.jsx(St,{open:g,onOpenChange:x,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouveau type d'élevage"}),r.jsx(pn,{children:"Ajouter un nouveau type d'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Apiculture, Aquaculture...",value:v,onChange:M=>y(M.target.value),onKeyPress:M=>M.key==="Enter"&&ne()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>x(!1),children:"Annuler"}),r.jsx(V,{onClick:ne,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:N,onOpenChange:j,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle catégorie d'animal"}),r.jsx(pn,{children:"Ajouter une nouvelle catégorie d'animaux d'élevage"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Cochons d'Inde, Autruches...",value:b,onChange:M=>C(M.target.value),onKeyPress:M=>M.key==="Enter"&&je()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),r.jsx(V,{onClick:je,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:P,onOpenChange:E,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsxs(_t,{children:["Nouvelle race - ",_]}),r.jsxs(pn,{children:["Ajouter une nouvelle race pour la catégorie ",_]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Nom de la race...",value:D,onChange:M=>I(M.target.value),onKeyPress:M=>M.key==="Enter"&&z()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Annuler"}),r.jsx(V,{onClick:z,children:"Ajouter"})]})]})]})}),r.jsx(St,{open:k,onOpenChange:O,children:r.jsxs(bt,{children:[r.jsxs(Ct,{children:[r.jsx(_t,{children:"Nouvelle certification"}),r.jsx(pn,{children:"Ajouter un nouveau type de certification"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{placeholder:"Ex: Commerce équitable, Demeter...",value:L,onChange:M=>B(M.target.value),onKeyPress:M=>M.key==="Enter"&&te()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>O(!1),children:"Annuler"}),r.jsx(V,{onClick:te,children:"Ajouter"})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(g6e,{}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsx(ke,{className:"text-base",children:"Liens Rapides"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/profile",children:[r.jsx(Rr,{className:"h-4 w-4"}),"Mon Profil"]}),r.jsxs(V,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/auth-settings",children:[r.jsx(wi,{className:"h-4 w-4"}),"Paramètres de Connexion"]})]})]})]})]})})}var y6e="Separator",tL="horizontal",j6e=["horizontal","vertical"],O9=w.forwardRef((e,t)=>{const{decorative:n,orientation:s=tL,...i}=e,a=b6e(s)?s:tL,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(it.div,{"data-orientation":a,...l,...i,ref:t})});O9.displayName=y6e;function b6e(e){return j6e.includes(e)}var D9=O9;const Hj=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(D9,{ref:i,decorative:n,orientation:t,className:et("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Hj.displayName=D9.displayName;function w6e(){const{user:e,logout:t,refreshProfile:n}=$c(),{toast:s}=$t(),{data:i,isLoading:a,refetch:o}=xfe(),l=yfe(),[c,u]=w.useState(!1);w.useState(!1);const[d,f]=w.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Français","Arabe","Anglais"]});w.useEffect(()=>{i&&e&&f(y=>({...y,full_name:i.full_name||"",username:i.username||"",email:e.email||"",phone:i.phone||"",address:i.address||"",specialty:i.specialty||"",experience:i.experience||"",bio:i.bio||""}))},[i,e]),w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),w.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"});const m=async()=>{try{await l.mutateAsync({full_name:d.full_name,username:d.username,phone:d.phone,address:d.address,specialty:d.specialty,experience:d.experience,bio:d.bio}),await Promise.all([o(),n()]),s({title:"Profil mis à jour",description:"Vos informations personnelles ont été sauvegardées avec succès."}),u(!1)}catch(y){s({title:"Erreur",description:y instanceof Error?y.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},g=y=>y.split(" ").map(N=>N.charAt(0)).join("").toUpperCase().slice(0,2),x=y=>{switch(y){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},v=y=>{switch(y){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?a?r.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Ta,{className:"h-8 w-8 animate-spin"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos informations personnelles et préférences"})]}),r.jsx("div",{className:"flex gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),r.jsxs(V,{onClick:m,className:"gap-2",disabled:l.isPending,children:[l.isPending?r.jsx(Ta,{className:"h-4 w-4 animate-spin"}):r.jsx(kp,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):r.jsxs(V,{onClick:()=>u(!0),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:"h-20 w-20",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-xl",children:g(e.profile.full_name)})}),c&&r.jsx(V,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:r.jsx(rf,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Wf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Le,{className:v(e.profile.role),children:x(e.profile.role)})]})]})]}),r.jsx(Hj,{}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"full_name",children:"Nom complet"}),r.jsx(ie,{id:"full_name",value:d.full_name,onChange:y=>f(N=>({...N,full_name:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(ie,{id:"username",value:d.username,onChange:y=>f(N=>({...N,username:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"email",children:"Email"}),r.jsx(ie,{id:"email",type:"email",value:d.email,disabled:!0,className:"bg-muted"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"phone",children:"Téléphone"}),r.jsx(ie,{id:"phone",value:d.phone,onChange:y=>f(N=>({...N,phone:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"address",children:"Adresse"}),r.jsx(ie,{id:"address",value:d.address,onChange:y=>f(N=>({...N,address:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"specialty",children:"Spécialité"}),r.jsx(ie,{id:"specialty",value:d.specialty,onChange:y=>f(N=>({...N,specialty:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"experience",children:"Expérience"}),r.jsx(ie,{id:"experience",value:d.experience,onChange:y=>f(N=>({...N,experience:y.target.value})),disabled:!c})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"bio",children:"Biographie"}),r.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.bio,onChange:y=>f(N=>({...N,bio:y.target.value})),disabled:!c})]})]})]})]}):null}function N6e(){const{user:e}=$c(),{toast:t}=$t(),[n,s]=w.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[i,a]=w.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=w.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});w.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),w.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=w.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramètres de sécurité sauvegardés",description:"Vos paramètres de sécurité ont été mis à jour."})},d=()=>{t({title:"Paramètres de session sauvegardés",description:"Vos paramètres de session ont été mis à jour."})},f=()=>{t({title:"Paramètres de notification sauvegardés",description:"Vos paramètres de notification ont été mis à jour."})},m=v=>{t({title:"Session terminée",description:"La session a été fermée avec succès."})},g=()=>{t({title:"Toutes les sessions terminées",description:"Toutes les autres sessions ont été fermées."})},x=v=>v.includes("iPhone")||v.includes("Android")?r.jsx(nne,{className:"h-4 w-4"}):v.includes("iPad")||v.includes("Tablet")?r.jsx(ine,{className:"h-4 w-4"}):r.jsx(vM,{className:"h-4 w-4"});return e?r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramètres de Connexion"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gérez vos paramètres de sécurité et de session"})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),"Sécurité"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Authentification à deux facteurs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de sécurité supplémentaire"})]}),r.jsx(zr,{checked:n.twoFactorAuth,onCheckedChange:v=>s(y=>({...y,twoFactorAuth:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Délai d'expiration de session (minutes)"}),r.jsxs($e,{value:n.sessionTimeout.toString(),onValueChange:v=>s(y=>({...y,sessionTimeout:parseInt(v)})),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"15",children:"15 minutes"}),r.jsx(U,{value:"30",children:"30 minutes"}),r.jsx(U,{value:"60",children:"1 heure"}),r.jsx(U,{value:"120",children:"2 heures"}),r.jsx(U,{value:"480",children:"8 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Expiration du mot de passe (jours)"}),r.jsxs($e,{value:n.passwordExpiry.toString(),onValueChange:v=>s(y=>({...y,passwordExpiry:parseInt(v)})),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"30",children:"30 jours"}),r.jsx(U,{value:"60",children:"60 jours"}),r.jsx(U,{value:"90",children:"90 jours"}),r.jsx(U,{value:"180",children:"6 mois"}),r.jsx(U,{value:"365",children:"1 an"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Notifications de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),r.jsx(zr,{checked:n.loginNotifications,onCheckedChange:v=>s(y=>({...y,loginNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Suivi des appareils"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connectés"})]}),r.jsx(zr,{checked:n.deviceTracking,onCheckedChange:v=>s(y=>({...y,deviceTracking:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Déconnexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Déconnexion après inactivité"})]}),r.jsx(zr,{checked:n.autoLogout,onCheckedChange:v=>s(y=>({...y,autoLogout:v}))})]})]}),r.jsxs(V,{onClick:u,className:"w-full gap-2",children:[r.jsx(kp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de sécurité"]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(vM,{className:"h-5 w-5"}),"Sessions Actives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:c.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[x(v.device),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.device}),v.current&&r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.browser," • ",v.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernière activité: ",v.lastActive]})]})]}),!v.current&&r.jsx(V,{variant:"outline",size:"sm",onClick:()=>m(v.id),children:"Terminer"})]},v.id))}),r.jsx(Hj,{}),r.jsx(V,{variant:"destructive",onClick:g,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Se souvenir de moi"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connecté entre les sessions"})]}),r.jsx(zr,{checked:i.rememberMe,onCheckedChange:v=>a(y=>({...y,rememberMe:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Connexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au démarrage"})]}),r.jsx(zr,{checked:i.autoLogin,onCheckedChange:v=>a(y=>({...y,autoLogin:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Durée de session (heures)"}),r.jsxs($e,{value:i.sessionDuration.toString(),onValueChange:v=>a(y=>({...y,sessionDuration:parseInt(v)})),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"1",children:"1 heure"}),r.jsx(U,{value:"4",children:"4 heures"}),r.jsx(U,{value:"8",children:"8 heures"}),r.jsx(U,{value:"12",children:"12 heures"}),r.jsx(U,{value:"24",children:"24 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Sessions simultanées maximum"}),r.jsxs($e,{value:i.maxConcurrentSessions.toString(),onValueChange:v=>a(y=>({...y,maxConcurrentSessions:parseInt(v)})),children:[r.jsx(Me,{children:r.jsx(Re,{})}),r.jsxs(Ie,{children:[r.jsx(U,{value:"1",children:"1 session"}),r.jsx(U,{value:"2",children:"2 sessions"}),r.jsx(U,{value:"3",children:"3 sessions"}),r.jsx(U,{value:"5",children:"5 sessions"}),r.jsx(U,{value:"10",children:"10 sessions"})]})]})]})]}),r.jsxs(V,{onClick:d,className:"w-full gap-2",children:[r.jsx(kp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de session"]})]})]}),r.jsxs(ue,{children:[r.jsx(Ee,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(zte,{className:"h-5 w-5"}),"Notifications de Sécurité"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Alertes de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),r.jsx(zr,{checked:o.loginAlerts,onCheckedChange:v=>l(y=>({...y,loginAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Alertes de sécurité"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les événements de sécurité"})]}),r.jsx(zr,{checked:o.securityAlerts,onCheckedChange:v=>l(y=>({...y,securityAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Alertes d'appareil"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),r.jsx(zr,{checked:o.deviceAlerts,onCheckedChange:v=>l(y=>({...y,deviceAlerts:v}))})]}),r.jsx(Hj,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Notifications par email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),r.jsx(zr,{checked:o.emailNotifications,onCheckedChange:v=>l(y=>({...y,emailNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Notifications SMS"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),r.jsx(zr,{checked:o.smsNotifications,onCheckedChange:v=>l(y=>({...y,smsNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(F,{children:"Notifications push"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),r.jsx(zr,{checked:o.pushNotifications,onCheckedChange:v=>l(y=>({...y,pushNotifications:v}))})]})]}),r.jsxs(V,{onClick:f,className:"w-full gap-2",children:[r.jsx(kp,{className:"h-4 w-4"}),"Sauvegarder les paramètres de notification"]})]})]})]})]}):null}function S6e(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(""),[d,f]=w.useState(!1),[m,g]=w.useState(!1),x=Jf(),{toast:v}=$t();Vae(),w.useEffect(()=>{(async()=>{try{const{data:{session:b},error:C}=await qt.auth.getSession();if(C){u("Lien de réinitialisation invalide ou expiré");return}b?g(!0):u("Lien de réinitialisation invalide ou expiré")}catch{u("Erreur lors de la vérification du lien de réinitialisation")}})()},[]);const y=j=>j.length<8?"Le mot de passe doit contenir au moins 8 caractères":/[A-Z]/.test(j)?/[a-z]/.test(j)?/\d/.test(j)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(j)?null:"Le mot de passe doit contenir au moins un caractère spécial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",N=async j=>{if(j.preventDefault(),u(""),!e||!n){v({title:"Champs requis",description:"Veuillez remplir tous les champs",variant:"destructive"});return}if(e!==n){v({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}const b=y(e);if(b){v({title:"Mot de passe invalide",description:b,variant:"destructive"});return}f(!0);try{const{error:C}=await qt.auth.updateUser({password:e});if(C)throw C;v({title:"Mot de passe mis à jour",description:"Votre mot de passe a été réinitialisé avec succès."}),x("/login")}catch(C){u(C instanceof Error?C.message:"Une erreur est survenue lors de la mise à jour du mot de passe")}finally{f(!1)}};return!m&&!c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsx(ue,{className:"w-full max-w-md",children:r.jsxs(he,{className:"pt-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(Ta,{className:"h-8 w-8 animate-spin"})}),r.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:"Vérification du lien de réinitialisation..."})]})})}):c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(ue,{className:"w-full max-w-md",children:[r.jsxs(Ee,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(Ut,{className:"h-8 w-8 text-red-600"})})}),r.jsx(ke,{className:"text-2xl font-bold text-red-600",children:"Lien invalide"})]}),r.jsxs(he,{children:[r.jsx(D0,{className:"mb-4",children:r.jsx(M0,{children:c})}),r.jsx(V,{onClick:()=>x("/login"),className:"w-full",children:"Retour à la connexion"})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(ue,{className:"w-full max-w-md",children:[r.jsxs(Ee,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(Ut,{className:"h-8 w-8 text-primary"})})}),r.jsx(ke,{className:"text-2xl font-bold",children:"VetPro CRM3"}),r.jsx(df,{children:"Définir un nouveau mot de passe"})]}),r.jsx(he,{children:r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"password",children:"Nouveau mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ie,{id:"password",type:i?"text":"password",value:e,onChange:j=>t(j.target.value),placeholder:"Votre nouveau mot de passe",required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),children:i?r.jsx(YC,{className:"h-4 w-4"}):r.jsx($r,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ie,{id:"confirmPassword",type:o?"text":"password",value:n,onChange:j=>s(j.target.value),placeholder:"Confirmer votre nouveau mot de passe",required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?r.jsx(YC,{className:"h-4 w-4"}):r.jsx($r,{className:"h-4 w-4"})})]})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour..."]}):"Mettre à jour le mot de passe"})]})})]})})}const C6e=new Eie({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),_6e=()=>r.jsx(Zde,{children:r.jsx(Tie,{client:C6e,children:r.jsxs(iie,{children:[r.jsx(Une,{}),r.jsx(bre,{}),r.jsx(Xde,{children:r.jsx(uE,{children:r.jsx(Nfe,{children:r.jsx(qae,{children:r.jsx(Lae,{children:r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs(Tae,{children:[r.jsx(sr,{path:"/",element:r.jsx(ohe,{})}),r.jsx(sr,{path:"/login",element:r.jsx(ahe,{children:r.jsx(ihe,{})})}),r.jsx(sr,{path:"/register",element:r.jsx(lhe,{})}),r.jsx(sr,{path:"/dashboard",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(KFe,{})]})}),r.jsx(sr,{path:"/clients",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(XFe,{})]})}),r.jsx(sr,{path:"/pets",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(n5e,{})]})}),r.jsx(sr,{path:"/appointments",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(D5e,{})]})}),r.jsx(sr,{path:"/consultations",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx($5e,{})]})}),r.jsx(sr,{path:"/history",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(F5e,{})]})}),r.jsx(sr,{path:"/farm",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(W5e,{})]})}),r.jsx(sr,{path:"/vaccinations",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(J5e,{})]})}),r.jsx(sr,{path:"/antiparasites",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(e6e,{})]})}),r.jsx(sr,{path:"/stock",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(l6e,{})]})}),r.jsx(sr,{path:"/accounting",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(u6e,{})]})}),r.jsx(sr,{path:"/test-stats",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(h6e,{})]})}),r.jsx(sr,{path:"/simple-test",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(m6e,{})]})}),r.jsx(sr,{path:"/settings",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(x6e,{})]})}),r.jsx(sr,{path:"/profile",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(w6e,{})]})}),r.jsx(sr,{path:"/auth-settings",element:r.jsxs(hs,{children:[r.jsx(ds,{}),r.jsx(N6e,{})]})}),r.jsx(sr,{path:"/reset-password",element:r.jsx(S6e,{})}),r.jsx(sr,{path:"*",element:r.jsx(p6e,{})})]})})})})})})})]})})});_5(document.getElementById("root")).render(r.jsx(_6e,{}));
