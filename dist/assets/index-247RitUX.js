var QO=e=>{throw TypeError(e)};var j1=(e,t,n)=>t.has(e)||QO("Cannot "+n);var ue=(e,t,n)=>(j1(e,t,"read from private field"),n?n.call(e):t.get(e)),ut=(e,t,n)=>t.has(e)?QO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,s)=>(j1(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Ut=(e,t,n)=>(j1(e,t,"access private method"),n);var Ax=(e,t,n,s)=>({set _(i){Xe(e,t,i,n)},get _(){return ue(e,t,s)}});function pJ(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var fL={exports:{}},Hj={},mL={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=Symbol.for("react.element"),vJ=Symbol.for("react.portal"),xJ=Symbol.for("react.fragment"),yJ=Symbol.for("react.strict_mode"),jJ=Symbol.for("react.profiler"),bJ=Symbol.for("react.provider"),wJ=Symbol.for("react.context"),NJ=Symbol.for("react.forward_ref"),SJ=Symbol.for("react.suspense"),CJ=Symbol.for("react.memo"),_J=Symbol.for("react.lazy"),XO=Symbol.iterator;function PJ(e){return e===null||typeof e!="object"?null:(e=XO&&e[XO]||e["@@iterator"],typeof e=="function"?e:null)}var pL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gL=Object.assign,vL={};function Bf(e,t,n){this.props=e,this.context=t,this.refs=vL,this.updater=n||pL}Bf.prototype.isReactComponent={};Bf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xL(){}xL.prototype=Bf.prototype;function PP(e,t,n){this.props=e,this.context=t,this.refs=vL,this.updater=n||pL}var AP=PP.prototype=new xL;AP.constructor=PP;gL(AP,Bf.prototype);AP.isPureReactComponent=!0;var JO=Array.isArray,yL=Object.prototype.hasOwnProperty,EP={current:null},jL={key:!0,ref:!0,__self:!0,__source:!0};function bL(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)yL.call(t,s)&&!jL.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:rv,type:e,key:a,ref:o,props:i,_owner:EP.current}}function AJ(e,t){return{$$typeof:rv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kP(e){return typeof e=="object"&&e!==null&&e.$$typeof===rv}function EJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ZO=/\/+/g;function b1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EJ(""+e.key):t.toString(36)}function Ey(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rv:case vJ:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+b1(o,0):s,JO(i)?(n="",e!=null&&(n=e.replace(ZO,"$&/")+"/"),Ey(i,t,n,"",function(u){return u})):i!=null&&(kP(i)&&(i=AJ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ZO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",JO(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+b1(a,l);o+=Ey(a,t,n,c,i)}else if(c=PJ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+b1(a,l++),o+=Ey(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ex(e,t,n){if(e==null)return e;var s=[],i=0;return Ey(e,s,"","",function(a){return t.call(n,a,i++)}),s}function kJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rs={current:null},ky={transition:null},TJ={ReactCurrentDispatcher:Rs,ReactCurrentBatchConfig:ky,ReactCurrentOwner:EP};function wL(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:Ex,forEach:function(e,t,n){Ex(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ex(e,function(){t++}),t},toArray:function(e){return Ex(e,function(t){return t})||[]},only:function(e){if(!kP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zt.Component=Bf;Zt.Fragment=xJ;Zt.Profiler=jJ;Zt.PureComponent=PP;Zt.StrictMode=yJ;Zt.Suspense=SJ;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TJ;Zt.act=wL;Zt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=gL({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=EP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yL.call(t,c)&&!jL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:rv,type:e.type,key:i,ref:a,props:s,_owner:o}};Zt.createContext=function(e){return e={$$typeof:wJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bJ,_context:e},e.Consumer=e};Zt.createElement=bL;Zt.createFactory=function(e){var t=bL.bind(null,e);return t.type=e,t};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(e){return{$$typeof:NJ,render:e}};Zt.isValidElement=kP;Zt.lazy=function(e){return{$$typeof:_J,_payload:{_status:-1,_result:e},_init:kJ}};Zt.memo=function(e,t){return{$$typeof:CJ,type:e,compare:t===void 0?null:t}};Zt.startTransition=function(e){var t=ky.transition;ky.transition={};try{e()}finally{ky.transition=t}};Zt.unstable_act=wL;Zt.useCallback=function(e,t){return Rs.current.useCallback(e,t)};Zt.useContext=function(e){return Rs.current.useContext(e)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(e){return Rs.current.useDeferredValue(e)};Zt.useEffect=function(e,t){return Rs.current.useEffect(e,t)};Zt.useId=function(){return Rs.current.useId()};Zt.useImperativeHandle=function(e,t,n){return Rs.current.useImperativeHandle(e,t,n)};Zt.useInsertionEffect=function(e,t){return Rs.current.useInsertionEffect(e,t)};Zt.useLayoutEffect=function(e,t){return Rs.current.useLayoutEffect(e,t)};Zt.useMemo=function(e,t){return Rs.current.useMemo(e,t)};Zt.useReducer=function(e,t,n){return Rs.current.useReducer(e,t,n)};Zt.useRef=function(e){return Rs.current.useRef(e)};Zt.useState=function(e){return Rs.current.useState(e)};Zt.useSyncExternalStore=function(e,t,n){return Rs.current.useSyncExternalStore(e,t,n)};Zt.useTransition=function(){return Rs.current.useTransition()};Zt.version="18.3.1";mL.exports=Zt;var w=mL.exports;const W=vn(w),TP=pJ({__proto__:null,default:W},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OJ=w,DJ=Symbol.for("react.element"),MJ=Symbol.for("react.fragment"),IJ=Object.prototype.hasOwnProperty,$J=OJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RJ={key:!0,ref:!0,__self:!0,__source:!0};function NL(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)IJ.call(t,s)&&!RJ.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:DJ,type:e,key:a,ref:o,props:i,_owner:$J.current}}Hj.Fragment=MJ;Hj.jsx=NL;Hj.jsxs=NL;fL.exports=Hj;var r=fL.exports,SL={exports:{}},Pi={},CL={exports:{}},_L={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,$){var le=q.length;q.push($);e:for(;0<le;){var se=le-1>>>1,re=q[se];if(0<i(re,$))q[se]=$,q[le]=re,le=se;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var $=q[0],le=q.pop();if(le!==$){q[0]=le;e:for(var se=0,re=q.length,K=re>>>1;se<K;){var ee=2*(se+1)-1,ge=q[ee],xe=ee+1,be=q[xe];if(0>i(ge,le))xe<re&&0>i(be,ge)?(q[se]=be,q[xe]=le,se=xe):(q[se]=ge,q[ee]=le,se=ee);else if(xe<re&&0>i(be,le))q[se]=be,q[xe]=le,se=xe;else break e}}return $}function i(q,$){var le=q.sortIndex-$.sortIndex;return le!==0?le:q.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var $=n(u);$!==null;){if($.callback===null)s(u);else if($.startTime<=q)s(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function C(q){if(v=!1,b(q),!x)if(n(c)!==null)x=!0,Y(_);else{var $=n(u);$!==null&&J(C,$.startTime-q)}}function _(q,$){x=!1,v&&(v=!1,N(E),E=-1),g=!0;var le=m;try{for(b($),f=n(c);f!==null&&(!(f.expirationTime>$)||q&&!k());){var se=f.callback;if(typeof se=="function"){f.callback=null,m=f.priorityLevel;var re=se(f.expirationTime<=$);$=e.unstable_now(),typeof re=="function"?f.callback=re:f===n(c)&&s(c),b($)}else s(c);f=n(c)}if(f!==null)var K=!0;else{var ee=n(u);ee!==null&&J(C,ee.startTime-$),K=!1}return K}finally{f=null,m=le,g=!1}}var A=!1,P=null,E=-1,D=5,I=-1;function k(){return!(e.unstable_now()-I<D)}function O(){if(P!==null){var q=e.unstable_now();I=q;var $=!0;try{$=P(!0,q)}finally{$?U():(A=!1,P=null)}}else A=!1}var U;if(typeof j=="function")U=function(){j(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ne=B.port2;B.port1.onmessage=O,U=function(){ne.postMessage(null)}}else U=function(){y(O,0)};function Y(q){P=q,A||(A=!0,U())}function J(q,$){E=y(function(){q(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,Y(_))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var le=m;m=$;try{return q()}finally{m=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=m;m=q;try{return $()}finally{m=le}},e.unstable_scheduleCallback=function(q,$,le){var se=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?se+le:se):le=se,q){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=le+re,q={id:d++,callback:$,priorityLevel:q,startTime:le,expirationTime:re,sortIndex:-1},le>se?(q.sortIndex=le,t(u,q),n(c)===null&&q===n(u)&&(v?(N(E),E=-1):v=!0,J(C,le-se))):(q.sortIndex=re,t(c,q),x||g||(x=!0,Y(_))),q},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(q){var $=m;return function(){var le=m;m=$;try{return q.apply(this,arguments)}finally{m=le}}}})(_L);CL.exports=_L;var LJ=CL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FJ=w,_i=LJ;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PL=new Set,Vp={};function cd(e,t){Qh(e,t),Qh(e+"Capture",t)}function Qh(e,t){for(Vp[e]=t,e=0;e<t.length;e++)PL.add(t[e])}var nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JS=Object.prototype.hasOwnProperty,BJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eD={},tD={};function zJ(e){return JS.call(tD,e)?!0:JS.call(eD,e)?!1:BJ.test(e)?tD[e]=!0:(eD[e]=!0,!1)}function VJ(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UJ(e,t,n,s){if(t===null||typeof t>"u"||VJ(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ls(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var is={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){is[e]=new Ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];is[t]=new Ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){is[e]=new Ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){is[e]=new Ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){is[e]=new Ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){is[e]=new Ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){is[e]=new Ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){is[e]=new Ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){is[e]=new Ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var OP=/[\-:]([a-z])/g;function DP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(OP,DP);is[t]=new Ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(OP,DP);is[t]=new Ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(OP,DP);is[t]=new Ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){is[e]=new Ls(e,1,!1,e.toLowerCase(),null,!1,!1)});is.xlinkHref=new Ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){is[e]=new Ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function MP(e,t,n,s){var i=is.hasOwnProperty(t)?is[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UJ(t,n,i,s)&&(n=null),s||i===null?zJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var gl=FJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kx=Symbol.for("react.element"),ah=Symbol.for("react.portal"),oh=Symbol.for("react.fragment"),IP=Symbol.for("react.strict_mode"),ZS=Symbol.for("react.profiler"),AL=Symbol.for("react.provider"),EL=Symbol.for("react.context"),$P=Symbol.for("react.forward_ref"),eC=Symbol.for("react.suspense"),tC=Symbol.for("react.suspense_list"),RP=Symbol.for("react.memo"),zl=Symbol.for("react.lazy"),kL=Symbol.for("react.offscreen"),nD=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=nD&&e[nD]||e["@@iterator"],typeof e=="function"?e:null)}var rr=Object.assign,w1;function hp(e){if(w1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);w1=t&&t[1]||""}return`
`+w1+e}var N1=!1;function S1(e,t){if(!e||N1)return"";N1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{N1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hp(e):""}function qJ(e){switch(e.tag){case 5:return hp(e.type);case 16:return hp("Lazy");case 13:return hp("Suspense");case 19:return hp("SuspenseList");case 0:case 2:case 15:return e=S1(e.type,!1),e;case 11:return e=S1(e.type.render,!1),e;case 1:return e=S1(e.type,!0),e;default:return""}}function nC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oh:return"Fragment";case ah:return"Portal";case ZS:return"Profiler";case IP:return"StrictMode";case eC:return"Suspense";case tC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EL:return(e.displayName||"Context")+".Consumer";case AL:return(e._context.displayName||"Context")+".Provider";case $P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RP:return t=e.displayName||null,t!==null?t:nC(e.type)||"Memo";case zl:t=e._payload,e=e._init;try{return nC(e(t))}catch{}}return null}function WJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nC(t);case 8:return t===IP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HJ(e){var t=TL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tx(e){e._valueTracker||(e._valueTracker=HJ(e))}function OL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=TL(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Yy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rC(e,t){var n=t.checked;return rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rD(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=wc(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DL(e,t){t=t.checked,t!=null&&MP(e,"checked",t,!1)}function sC(e,t){DL(e,t);var n=wc(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iC(e,t.type,n):t.hasOwnProperty("defaultValue")&&iC(e,t.type,wc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sD(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function iC(e,t,n){(t!=="number"||Yy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fp=Array.isArray;function Sh(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+wc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function aC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iD(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(fp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wc(n)}}function ML(e,t){var n=wc(t.value),s=wc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function aD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ox,$L=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ox=Ox||document.createElement("div"),Ox.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ox.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Up(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GJ=["Webkit","ms","Moz","O"];Object.keys(bp).forEach(function(e){GJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bp[t]=bp[e]})});function RL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bp.hasOwnProperty(e)&&bp[e]?(""+t).trim():t+"px"}function LL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=RL(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var KJ=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lC(e,t){if(t){if(KJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function cC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uC=null;function LP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dC=null,Ch=null,_h=null;function oD(e){if(e=av(e)){if(typeof dC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Xj(t),dC(e.stateNode,e.type,t))}}function FL(e){Ch?_h?_h.push(e):_h=[e]:Ch=e}function BL(){if(Ch){var e=Ch,t=_h;if(_h=Ch=null,oD(e),t)for(e=0;e<t.length;e++)oD(t[e])}}function zL(e,t){return e(t)}function VL(){}var C1=!1;function UL(e,t,n){if(C1)return e(t,n);C1=!0;try{return zL(e,t,n)}finally{C1=!1,(Ch!==null||_h!==null)&&(VL(),BL())}}function qp(e,t){var n=e.stateNode;if(n===null)return null;var s=Xj(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var hC=!1;if(nl)try{var zm={};Object.defineProperty(zm,"passive",{get:function(){hC=!0}}),window.addEventListener("test",zm,zm),window.removeEventListener("test",zm,zm)}catch{hC=!1}function YJ(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var wp=!1,Qy=null,Xy=!1,fC=null,QJ={onError:function(e){wp=!0,Qy=e}};function XJ(e,t,n,s,i,a,o,l,c){wp=!1,Qy=null,YJ.apply(QJ,arguments)}function JJ(e,t,n,s,i,a,o,l,c){if(XJ.apply(this,arguments),wp){if(wp){var u=Qy;wp=!1,Qy=null}else throw Error(Ue(198));Xy||(Xy=!0,fC=u)}}function ud(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lD(e){if(ud(e)!==e)throw Error(Ue(188))}function ZJ(e){var t=e.alternate;if(!t){if(t=ud(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return lD(i),e;if(a===s)return lD(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==s)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function WL(e){return e=ZJ(e),e!==null?HL(e):null}function HL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HL(e);if(t!==null)return t;e=e.sibling}return null}var GL=_i.unstable_scheduleCallback,cD=_i.unstable_cancelCallback,eZ=_i.unstable_shouldYield,tZ=_i.unstable_requestPaint,mr=_i.unstable_now,nZ=_i.unstable_getCurrentPriorityLevel,FP=_i.unstable_ImmediatePriority,KL=_i.unstable_UserBlockingPriority,Jy=_i.unstable_NormalPriority,rZ=_i.unstable_LowPriority,YL=_i.unstable_IdlePriority,Gj=null,co=null;function sZ(e){if(co&&typeof co.onCommitFiberRoot=="function")try{co.onCommitFiberRoot(Gj,e,void 0,(e.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:oZ,iZ=Math.log,aZ=Math.LN2;function oZ(e){return e>>>=0,e===0?32:31-(iZ(e)/aZ|0)|0}var Dx=64,Mx=4194304;function mp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zy(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=mp(l):(a&=o,a!==0&&(s=mp(a)))}else o=n&~i,o!==0?s=mp(o):a!==0&&(s=mp(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Aa(t),i=1<<n,s|=e[n],t&=~i;return s}function lZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cZ(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Aa(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=lZ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function mC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QL(){var e=Dx;return Dx<<=1,!(Dx&4194240)&&(Dx=64),e}function _1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Aa(t),e[t]=n}function uZ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Aa(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function BP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Aa(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var Nn=0;function XL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JL,zP,ZL,eF,tF,pC=!1,Ix=[],uc=null,dc=null,hc=null,Wp=new Map,Hp=new Map,ql=[],dZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uD(e,t){switch(e){case"focusin":case"focusout":uc=null;break;case"dragenter":case"dragleave":dc=null;break;case"mouseover":case"mouseout":hc=null;break;case"pointerover":case"pointerout":Wp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hp.delete(t.pointerId)}}function Vm(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=av(t),t!==null&&zP(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hZ(e,t,n,s,i){switch(t){case"focusin":return uc=Vm(uc,e,t,n,s,i),!0;case"dragenter":return dc=Vm(dc,e,t,n,s,i),!0;case"mouseover":return hc=Vm(hc,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Wp.set(a,Vm(Wp.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Hp.set(a,Vm(Hp.get(a)||null,e,t,n,s,i)),!0}return!1}function nF(e){var t=vu(e.target);if(t!==null){var n=ud(t);if(n!==null){if(t=n.tag,t===13){if(t=qL(n),t!==null){e.blockedOn=t,tF(e.priority,function(){ZL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ty(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);uC=s,n.target.dispatchEvent(s),uC=null}else return t=av(n),t!==null&&zP(t),e.blockedOn=n,!1;t.shift()}return!0}function dD(e,t,n){Ty(e)&&n.delete(t)}function fZ(){pC=!1,uc!==null&&Ty(uc)&&(uc=null),dc!==null&&Ty(dc)&&(dc=null),hc!==null&&Ty(hc)&&(hc=null),Wp.forEach(dD),Hp.forEach(dD)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,pC||(pC=!0,_i.unstable_scheduleCallback(_i.unstable_NormalPriority,fZ)))}function Gp(e){function t(i){return Um(i,e)}if(0<Ix.length){Um(Ix[0],e);for(var n=1;n<Ix.length;n++){var s=Ix[n];s.blockedOn===e&&(s.blockedOn=null)}}for(uc!==null&&Um(uc,e),dc!==null&&Um(dc,e),hc!==null&&Um(hc,e),Wp.forEach(t),Hp.forEach(t),n=0;n<ql.length;n++)s=ql[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<ql.length&&(n=ql[0],n.blockedOn===null);)nF(n),n.blockedOn===null&&ql.shift()}var Ph=gl.ReactCurrentBatchConfig,e0=!0;function mZ(e,t,n,s){var i=Nn,a=Ph.transition;Ph.transition=null;try{Nn=1,VP(e,t,n,s)}finally{Nn=i,Ph.transition=a}}function pZ(e,t,n,s){var i=Nn,a=Ph.transition;Ph.transition=null;try{Nn=4,VP(e,t,n,s)}finally{Nn=i,Ph.transition=a}}function VP(e,t,n,s){if(e0){var i=gC(e,t,n,s);if(i===null)$1(e,t,s,t0,n),uD(e,s);else if(hZ(i,e,t,n,s))s.stopPropagation();else if(uD(e,s),t&4&&-1<dZ.indexOf(e)){for(;i!==null;){var a=av(i);if(a!==null&&JL(a),a=gC(e,t,n,s),a===null&&$1(e,t,s,t0,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else $1(e,t,s,null,n)}}var t0=null;function gC(e,t,n,s){if(t0=null,e=LP(s),e=vu(e),e!==null)if(t=ud(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return t0=e,null}function rF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nZ()){case FP:return 1;case KL:return 4;case Jy:case rZ:return 16;case YL:return 536870912;default:return 16}default:return 16}}var sc=null,UP=null,Oy=null;function sF(){if(Oy)return Oy;var e,t=UP,n=t.length,s,i="value"in sc?sc.value:sc.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Oy=i.slice(e,1<s?1-s:void 0)}function Dy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $x(){return!0}function hD(){return!1}function Ai(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$x:hD,this.isPropagationStopped=hD,this}return rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$x)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$x)},persist:function(){},isPersistent:$x}),t}var zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qP=Ai(zf),iv=rr({},zf,{view:0,detail:0}),gZ=Ai(iv),P1,A1,qm,Kj=rr({},iv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qm&&(qm&&e.type==="mousemove"?(P1=e.screenX-qm.screenX,A1=e.screenY-qm.screenY):A1=P1=0,qm=e),P1)},movementY:function(e){return"movementY"in e?e.movementY:A1}}),fD=Ai(Kj),vZ=rr({},Kj,{dataTransfer:0}),xZ=Ai(vZ),yZ=rr({},iv,{relatedTarget:0}),E1=Ai(yZ),jZ=rr({},zf,{animationName:0,elapsedTime:0,pseudoElement:0}),bZ=Ai(jZ),wZ=rr({},zf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NZ=Ai(wZ),SZ=rr({},zf,{data:0}),mD=Ai(SZ),CZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_Z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PZ[e])?!!t[e]:!1}function WP(){return AZ}var EZ=rr({},iv,{key:function(e){if(e.key){var t=CZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_Z[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WP,charCode:function(e){return e.type==="keypress"?Dy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kZ=Ai(EZ),TZ=rr({},Kj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pD=Ai(TZ),OZ=rr({},iv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WP}),DZ=Ai(OZ),MZ=rr({},zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),IZ=Ai(MZ),$Z=rr({},Kj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RZ=Ai($Z),LZ=[9,13,27,32],HP=nl&&"CompositionEvent"in window,Np=null;nl&&"documentMode"in document&&(Np=document.documentMode);var FZ=nl&&"TextEvent"in window&&!Np,iF=nl&&(!HP||Np&&8<Np&&11>=Np),gD=" ",vD=!1;function aF(e,t){switch(e){case"keyup":return LZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lh=!1;function BZ(e,t){switch(e){case"compositionend":return oF(t);case"keypress":return t.which!==32?null:(vD=!0,gD);case"textInput":return e=t.data,e===gD&&vD?null:e;default:return null}}function zZ(e,t){if(lh)return e==="compositionend"||!HP&&aF(e,t)?(e=sF(),Oy=UP=sc=null,lh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iF&&t.locale!=="ko"?null:t.data;default:return null}}var VZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VZ[e.type]:t==="textarea"}function lF(e,t,n,s){FL(s),t=n0(t,"onChange"),0<t.length&&(n=new qP("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Sp=null,Kp=null;function UZ(e){yF(e,0)}function Yj(e){var t=dh(e);if(OL(t))return e}function qZ(e,t){if(e==="change")return t}var cF=!1;if(nl){var k1;if(nl){var T1="oninput"in document;if(!T1){var yD=document.createElement("div");yD.setAttribute("oninput","return;"),T1=typeof yD.oninput=="function"}k1=T1}else k1=!1;cF=k1&&(!document.documentMode||9<document.documentMode)}function jD(){Sp&&(Sp.detachEvent("onpropertychange",uF),Kp=Sp=null)}function uF(e){if(e.propertyName==="value"&&Yj(Kp)){var t=[];lF(t,Kp,e,LP(e)),UL(UZ,t)}}function WZ(e,t,n){e==="focusin"?(jD(),Sp=t,Kp=n,Sp.attachEvent("onpropertychange",uF)):e==="focusout"&&jD()}function HZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yj(Kp)}function GZ(e,t){if(e==="click")return Yj(t)}function KZ(e,t){if(e==="input"||e==="change")return Yj(t)}function YZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Da=typeof Object.is=="function"?Object.is:YZ;function Yp(e,t){if(Da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!JS.call(t,i)||!Da(e[i],t[i]))return!1}return!0}function bD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wD(e,t){var n=bD(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bD(n)}}function dF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hF(){for(var e=window,t=Yy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yy(e.document)}return t}function GP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QZ(e){var t=hF(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dF(n.ownerDocument.documentElement,n)){if(s!==null&&GP(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=wD(n,a);var o=wD(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XZ=nl&&"documentMode"in document&&11>=document.documentMode,ch=null,vC=null,Cp=null,xC=!1;function ND(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xC||ch==null||ch!==Yy(s)||(s=ch,"selectionStart"in s&&GP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Cp&&Yp(Cp,s)||(Cp=s,s=n0(vC,"onSelect"),0<s.length&&(t=new qP("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ch)))}function Rx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var uh={animationend:Rx("Animation","AnimationEnd"),animationiteration:Rx("Animation","AnimationIteration"),animationstart:Rx("Animation","AnimationStart"),transitionend:Rx("Transition","TransitionEnd")},O1={},fF={};nl&&(fF=document.createElement("div").style,"AnimationEvent"in window||(delete uh.animationend.animation,delete uh.animationiteration.animation,delete uh.animationstart.animation),"TransitionEvent"in window||delete uh.transitionend.transition);function Qj(e){if(O1[e])return O1[e];if(!uh[e])return e;var t=uh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fF)return O1[e]=t[n];return e}var mF=Qj("animationend"),pF=Qj("animationiteration"),gF=Qj("animationstart"),vF=Qj("transitionend"),xF=new Map,SD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ec(e,t){xF.set(e,t),cd(t,[e])}for(var D1=0;D1<SD.length;D1++){var M1=SD[D1],JZ=M1.toLowerCase(),ZZ=M1[0].toUpperCase()+M1.slice(1);Ec(JZ,"on"+ZZ)}Ec(mF,"onAnimationEnd");Ec(pF,"onAnimationIteration");Ec(gF,"onAnimationStart");Ec("dblclick","onDoubleClick");Ec("focusin","onFocus");Ec("focusout","onBlur");Ec(vF,"onTransitionEnd");Qh("onMouseEnter",["mouseout","mouseover"]);Qh("onMouseLeave",["mouseout","mouseover"]);Qh("onPointerEnter",["pointerout","pointerover"]);Qh("onPointerLeave",["pointerout","pointerover"]);cd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cd("onBeforeInput",["compositionend","keypress","textInput","paste"]);cd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eee=new Set("cancel close invalid load scroll toggle".split(" ").concat(pp));function CD(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,JJ(s,t,void 0,e),e.currentTarget=null}function yF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;CD(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;CD(i,l,u),a=c}}}if(Xy)throw e=fC,Xy=!1,fC=null,e}function Bn(e,t){var n=t[NC];n===void 0&&(n=t[NC]=new Set);var s=e+"__bubble";n.has(s)||(jF(t,e,2,!1),n.add(s))}function I1(e,t,n){var s=0;t&&(s|=4),jF(n,e,s,t)}var Lx="_reactListening"+Math.random().toString(36).slice(2);function Qp(e){if(!e[Lx]){e[Lx]=!0,PL.forEach(function(n){n!=="selectionchange"&&(eee.has(n)||I1(n,!1,e),I1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lx]||(t[Lx]=!0,I1("selectionchange",!1,t))}}function jF(e,t,n,s){switch(rF(t)){case 1:var i=mZ;break;case 4:i=pZ;break;default:i=VP}n=i.bind(null,t,n,e),i=void 0,!hC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $1(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=vu(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}UL(function(){var u=a,d=LP(n),f=[];e:{var m=xF.get(e);if(m!==void 0){var g=qP,x=e;switch(e){case"keypress":if(Dy(n)===0)break e;case"keydown":case"keyup":g=kZ;break;case"focusin":x="focus",g=E1;break;case"focusout":x="blur",g=E1;break;case"beforeblur":case"afterblur":g=E1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=DZ;break;case mF:case pF:case gF:g=bZ;break;case vF:g=IZ;break;case"scroll":g=gZ;break;case"wheel":g=RZ;break;case"copy":case"cut":case"paste":g=NZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pD}var v=(t&4)!==0,y=!v&&e==="scroll",N=v?m!==null?m+"Capture":null:m;v=[];for(var j=u,b;j!==null;){b=j;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,N!==null&&(C=qp(j,N),C!=null&&v.push(Xp(j,C,b)))),y)break;j=j.return}0<v.length&&(m=new g(m,x,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==uC&&(x=n.relatedTarget||n.fromElement)&&(vu(x)||x[rl]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?vu(x):null,x!==null&&(y=ud(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=fD,C="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(v=pD,C="onPointerLeave",N="onPointerEnter",j="pointer"),y=g==null?m:dh(g),b=x==null?m:dh(x),m=new v(C,j+"leave",g,n,d),m.target=y,m.relatedTarget=b,C=null,vu(d)===u&&(v=new v(N,j+"enter",x,n,d),v.target=b,v.relatedTarget=y,C=v),y=C,g&&x)t:{for(v=g,N=x,j=0,b=v;b;b=zd(b))j++;for(b=0,C=N;C;C=zd(C))b++;for(;0<j-b;)v=zd(v),j--;for(;0<b-j;)N=zd(N),b--;for(;j--;){if(v===N||N!==null&&v===N.alternate)break t;v=zd(v),N=zd(N)}v=null}else v=null;g!==null&&_D(f,m,g,v,!1),x!==null&&y!==null&&_D(f,y,x,v,!0)}}e:{if(m=u?dh(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var _=qZ;else if(xD(m))if(cF)_=KZ;else{_=HZ;var A=WZ}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=GZ);if(_&&(_=_(e,u))){lF(f,_,n,d);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&iC(m,"number",m.value)}switch(A=u?dh(u):window,e){case"focusin":(xD(A)||A.contentEditable==="true")&&(ch=A,vC=u,Cp=null);break;case"focusout":Cp=vC=ch=null;break;case"mousedown":xC=!0;break;case"contextmenu":case"mouseup":case"dragend":xC=!1,ND(f,n,d);break;case"selectionchange":if(XZ)break;case"keydown":case"keyup":ND(f,n,d)}var P;if(HP)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else lh?aF(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(iF&&n.locale!=="ko"&&(lh||E!=="onCompositionStart"?E==="onCompositionEnd"&&lh&&(P=sF()):(sc=d,UP="value"in sc?sc.value:sc.textContent,lh=!0)),A=n0(u,E),0<A.length&&(E=new mD(E,e,null,n,d),f.push({event:E,listeners:A}),P?E.data=P:(P=oF(n),P!==null&&(E.data=P)))),(P=FZ?BZ(e,n):zZ(e,n))&&(u=n0(u,"onBeforeInput"),0<u.length&&(d=new mD("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}yF(f,t)})}function Xp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function n0(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qp(e,n),a!=null&&s.unshift(Xp(e,a,i)),a=qp(e,t),a!=null&&s.push(Xp(e,a,i))),e=e.return}return s}function zd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _D(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=qp(n,a),c!=null&&o.unshift(Xp(n,c,l))):i||(c=qp(n,a),c!=null&&o.push(Xp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tee=/\r\n?/g,nee=/\u0000|\uFFFD/g;function PD(e){return(typeof e=="string"?e:""+e).replace(tee,`
`).replace(nee,"")}function Fx(e,t,n){if(t=PD(t),PD(e)!==t&&n)throw Error(Ue(425))}function r0(){}var yC=null,jC=null;function bC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wC=typeof setTimeout=="function"?setTimeout:void 0,ree=typeof clearTimeout=="function"?clearTimeout:void 0,AD=typeof Promise=="function"?Promise:void 0,see=typeof queueMicrotask=="function"?queueMicrotask:typeof AD<"u"?function(e){return AD.resolve(null).then(e).catch(iee)}:wC;function iee(e){setTimeout(function(){throw e})}function R1(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Gp(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Gp(t)}function fc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ED(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vf=Math.random().toString(36).slice(2),to="__reactFiber$"+Vf,Jp="__reactProps$"+Vf,rl="__reactContainer$"+Vf,NC="__reactEvents$"+Vf,aee="__reactListeners$"+Vf,oee="__reactHandles$"+Vf;function vu(e){var t=e[to];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rl]||n[to]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ED(e);e!==null;){if(n=e[to])return n;e=ED(e)}return t}e=n,n=e.parentNode}return null}function av(e){return e=e[to]||e[rl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Xj(e){return e[Jp]||null}var SC=[],hh=-1;function kc(e){return{current:e}}function Un(e){0>hh||(e.current=SC[hh],SC[hh]=null,hh--)}function In(e,t){hh++,SC[hh]=e.current,e.current=t}var Nc={},xs=kc(Nc),Zs=kc(!1),zu=Nc;function Xh(e,t){var n=e.type.contextTypes;if(!n)return Nc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ei(e){return e=e.childContextTypes,e!=null}function s0(){Un(Zs),Un(xs)}function kD(e,t,n){if(xs.current!==Nc)throw Error(Ue(168));In(xs,t),In(Zs,n)}function bF(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(Ue(108,WJ(e)||"Unknown",i));return rr({},n,s)}function i0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nc,zu=xs.current,In(xs,e),In(Zs,Zs.current),!0}function TD(e,t,n){var s=e.stateNode;if(!s)throw Error(Ue(169));n?(e=bF(e,t,zu),s.__reactInternalMemoizedMergedChildContext=e,Un(Zs),Un(xs),In(xs,e)):Un(Zs),In(Zs,n)}var Vo=null,Jj=!1,L1=!1;function wF(e){Vo===null?Vo=[e]:Vo.push(e)}function lee(e){Jj=!0,wF(e)}function Tc(){if(!L1&&Vo!==null){L1=!0;var e=0,t=Nn;try{var n=Vo;for(Nn=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Vo=null,Jj=!1}catch(i){throw Vo!==null&&(Vo=Vo.slice(e+1)),GL(FP,Tc),i}finally{Nn=t,L1=!1}}return null}var fh=[],mh=0,a0=null,o0=0,Ui=[],qi=0,Vu=null,Go=1,Ko="";function lu(e,t){fh[mh++]=o0,fh[mh++]=a0,a0=e,o0=t}function NF(e,t,n){Ui[qi++]=Go,Ui[qi++]=Ko,Ui[qi++]=Vu,Vu=e;var s=Go;e=Ko;var i=32-Aa(s)-1;s&=~(1<<i),n+=1;var a=32-Aa(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Go=1<<32-Aa(t)+i|n<<i|s,Ko=a+e}else Go=1<<a|n<<i|s,Ko=e}function KP(e){e.return!==null&&(lu(e,1),NF(e,1,0))}function YP(e){for(;e===a0;)a0=fh[--mh],fh[mh]=null,o0=fh[--mh],fh[mh]=null;for(;e===Vu;)Vu=Ui[--qi],Ui[qi]=null,Ko=Ui[--qi],Ui[qi]=null,Go=Ui[--qi],Ui[qi]=null}var bi=null,ji=null,Hn=!1,Na=null;function SF(e,t){var n=Hi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function OD(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bi=e,ji=fc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bi=e,ji=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vu!==null?{id:Go,overflow:Ko}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bi=e,ji=null,!0):!1;default:return!1}}function CC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _C(e){if(Hn){var t=ji;if(t){var n=t;if(!OD(e,t)){if(CC(e))throw Error(Ue(418));t=fc(n.nextSibling);var s=bi;t&&OD(e,t)?SF(s,n):(e.flags=e.flags&-4097|2,Hn=!1,bi=e)}}else{if(CC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Hn=!1,bi=e}}}function DD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bi=e}function Bx(e){if(e!==bi)return!1;if(!Hn)return DD(e),Hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bC(e.type,e.memoizedProps)),t&&(t=ji)){if(CC(e))throw CF(),Error(Ue(418));for(;t;)SF(e,t),t=fc(t.nextSibling)}if(DD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ji=fc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ji=null}}else ji=bi?fc(e.stateNode.nextSibling):null;return!0}function CF(){for(var e=ji;e;)e=fc(e.nextSibling)}function Jh(){ji=bi=null,Hn=!1}function QP(e){Na===null?Na=[e]:Na.push(e)}var cee=gl.ReactCurrentBatchConfig;function Wm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var s=n.stateNode}if(!s)throw Error(Ue(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function zx(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function MD(e){var t=e._init;return t(e._payload)}function _F(e){function t(N,j){if(e){var b=N.deletions;b===null?(N.deletions=[j],N.flags|=16):b.push(j)}}function n(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function s(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function i(N,j){return N=vc(N,j),N.index=0,N.sibling=null,N}function a(N,j,b){return N.index=b,e?(b=N.alternate,b!==null?(b=b.index,b<j?(N.flags|=2,j):b):(N.flags|=2,j)):(N.flags|=1048576,j)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,j,b,C){return j===null||j.tag!==6?(j=W1(b,N.mode,C),j.return=N,j):(j=i(j,b),j.return=N,j)}function c(N,j,b,C){var _=b.type;return _===oh?d(N,j,b.props.children,C,b.key):j!==null&&(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zl&&MD(_)===j.type)?(C=i(j,b.props),C.ref=Wm(N,j,b),C.return=N,C):(C=By(b.type,b.key,b.props,null,N.mode,C),C.ref=Wm(N,j,b),C.return=N,C)}function u(N,j,b,C){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=H1(b,N.mode,C),j.return=N,j):(j=i(j,b.children||[]),j.return=N,j)}function d(N,j,b,C,_){return j===null||j.tag!==7?(j=Ru(b,N.mode,C,_),j.return=N,j):(j=i(j,b),j.return=N,j)}function f(N,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=W1(""+j,N.mode,b),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case kx:return b=By(j.type,j.key,j.props,null,N.mode,b),b.ref=Wm(N,null,j),b.return=N,b;case ah:return j=H1(j,N.mode,b),j.return=N,j;case zl:var C=j._init;return f(N,C(j._payload),b)}if(fp(j)||Bm(j))return j=Ru(j,N.mode,b,null),j.return=N,j;zx(N,j)}return null}function m(N,j,b,C){var _=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(N,j,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kx:return b.key===_?c(N,j,b,C):null;case ah:return b.key===_?u(N,j,b,C):null;case zl:return _=b._init,m(N,j,_(b._payload),C)}if(fp(b)||Bm(b))return _!==null?null:d(N,j,b,C,null);zx(N,b)}return null}function g(N,j,b,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return N=N.get(b)||null,l(j,N,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case kx:return N=N.get(C.key===null?b:C.key)||null,c(j,N,C,_);case ah:return N=N.get(C.key===null?b:C.key)||null,u(j,N,C,_);case zl:var A=C._init;return g(N,j,b,A(C._payload),_)}if(fp(C)||Bm(C))return N=N.get(b)||null,d(j,N,C,_,null);zx(j,C)}return null}function x(N,j,b,C){for(var _=null,A=null,P=j,E=j=0,D=null;P!==null&&E<b.length;E++){P.index>E?(D=P,P=null):D=P.sibling;var I=m(N,P,b[E],C);if(I===null){P===null&&(P=D);break}e&&P&&I.alternate===null&&t(N,P),j=a(I,j,E),A===null?_=I:A.sibling=I,A=I,P=D}if(E===b.length)return n(N,P),Hn&&lu(N,E),_;if(P===null){for(;E<b.length;E++)P=f(N,b[E],C),P!==null&&(j=a(P,j,E),A===null?_=P:A.sibling=P,A=P);return Hn&&lu(N,E),_}for(P=s(N,P);E<b.length;E++)D=g(P,N,E,b[E],C),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?E:D.key),j=a(D,j,E),A===null?_=D:A.sibling=D,A=D);return e&&P.forEach(function(k){return t(N,k)}),Hn&&lu(N,E),_}function v(N,j,b,C){var _=Bm(b);if(typeof _!="function")throw Error(Ue(150));if(b=_.call(b),b==null)throw Error(Ue(151));for(var A=_=null,P=j,E=j=0,D=null,I=b.next();P!==null&&!I.done;E++,I=b.next()){P.index>E?(D=P,P=null):D=P.sibling;var k=m(N,P,I.value,C);if(k===null){P===null&&(P=D);break}e&&P&&k.alternate===null&&t(N,P),j=a(k,j,E),A===null?_=k:A.sibling=k,A=k,P=D}if(I.done)return n(N,P),Hn&&lu(N,E),_;if(P===null){for(;!I.done;E++,I=b.next())I=f(N,I.value,C),I!==null&&(j=a(I,j,E),A===null?_=I:A.sibling=I,A=I);return Hn&&lu(N,E),_}for(P=s(N,P);!I.done;E++,I=b.next())I=g(P,N,E,I.value,C),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?E:I.key),j=a(I,j,E),A===null?_=I:A.sibling=I,A=I);return e&&P.forEach(function(O){return t(N,O)}),Hn&&lu(N,E),_}function y(N,j,b,C){if(typeof b=="object"&&b!==null&&b.type===oh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case kx:e:{for(var _=b.key,A=j;A!==null;){if(A.key===_){if(_=b.type,_===oh){if(A.tag===7){n(N,A.sibling),j=i(A,b.props.children),j.return=N,N=j;break e}}else if(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zl&&MD(_)===A.type){n(N,A.sibling),j=i(A,b.props),j.ref=Wm(N,A,b),j.return=N,N=j;break e}n(N,A);break}else t(N,A);A=A.sibling}b.type===oh?(j=Ru(b.props.children,N.mode,C,b.key),j.return=N,N=j):(C=By(b.type,b.key,b.props,null,N.mode,C),C.ref=Wm(N,j,b),C.return=N,N=C)}return o(N);case ah:e:{for(A=b.key;j!==null;){if(j.key===A)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){n(N,j.sibling),j=i(j,b.children||[]),j.return=N,N=j;break e}else{n(N,j);break}else t(N,j);j=j.sibling}j=H1(b,N.mode,C),j.return=N,N=j}return o(N);case zl:return A=b._init,y(N,j,A(b._payload),C)}if(fp(b))return x(N,j,b,C);if(Bm(b))return v(N,j,b,C);zx(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(n(N,j.sibling),j=i(j,b),j.return=N,N=j):(n(N,j),j=W1(b,N.mode,C),j.return=N,N=j),o(N)):n(N,j)}return y}var Zh=_F(!0),PF=_F(!1),l0=kc(null),c0=null,ph=null,XP=null;function JP(){XP=ph=c0=null}function ZP(e){var t=l0.current;Un(l0),e._currentValue=t}function PC(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ah(e,t){c0=e,XP=ph=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xs=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(XP!==e)if(e={context:e,memoizedValue:t,next:null},ph===null){if(c0===null)throw Error(Ue(308));ph=e,c0.dependencies={lanes:0,firstContext:e}}else ph=ph.next=e;return t}var xu=null;function eA(e){xu===null?xu=[e]:xu.push(e)}function AF(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,eA(t)):(n.next=i.next,i.next=n),t.interleaved=n,sl(e,s)}function sl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vl=!1;function tA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mc(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,an&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,sl(e,n)}return i=s.interleaved,i===null?(t.next=t,eA(s)):(t.next=i.next,i.next=t),s.interleaved=t,sl(e,n)}function My(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,BP(e,n)}}function ID(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function u0(e,t,n,s){var i=e.updateQueue;Vl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,g=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(m=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=rr({},f,m);break e;case 2:Vl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);qu|=o,e.lanes=o,e.memoizedState=f}}function $D(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Ue(191,i));i.call(s)}}}var ov={},uo=kc(ov),Zp=kc(ov),eg=kc(ov);function yu(e){if(e===ov)throw Error(Ue(174));return e}function nA(e,t){switch(In(eg,t),In(Zp,e),In(uo,ov),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oC(t,e)}Un(uo),In(uo,t)}function ef(){Un(uo),Un(Zp),Un(eg)}function kF(e){yu(eg.current);var t=yu(uo.current),n=oC(t,e.type);t!==n&&(In(Zp,e),In(uo,n))}function rA(e){Zp.current===e&&(Un(uo),Un(Zp))}var Jn=kc(0);function d0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var F1=[];function sA(){for(var e=0;e<F1.length;e++)F1[e]._workInProgressVersionPrimary=null;F1.length=0}var Iy=gl.ReactCurrentDispatcher,B1=gl.ReactCurrentBatchConfig,Uu=0,nr=null,Tr=null,Ur=null,h0=!1,_p=!1,tg=0,uee=0;function us(){throw Error(Ue(321))}function iA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Da(e[n],t[n]))return!1;return!0}function aA(e,t,n,s,i,a){if(Uu=a,nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Iy.current=e===null||e.memoizedState===null?mee:pee,e=n(s,i),_p){a=0;do{if(_p=!1,tg=0,25<=a)throw Error(Ue(301));a+=1,Ur=Tr=null,t.updateQueue=null,Iy.current=gee,e=n(s,i)}while(_p)}if(Iy.current=f0,t=Tr!==null&&Tr.next!==null,Uu=0,Ur=Tr=nr=null,h0=!1,t)throw Error(Ue(300));return e}function oA(){var e=tg!==0;return tg=0,e}function Qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?nr.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function Zi(){if(Tr===null){var e=nr.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Ur===null?nr.memoizedState:Ur.next;if(t!==null)Ur=t,Tr=e;else{if(e===null)throw Error(Ue(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Ur===null?nr.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function ng(e,t){return typeof t=="function"?t(e):t}function z1(e){var t=Zi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=Tr,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Uu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,nr.lanes|=d,qu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Da(s,t.memoizedState)||(Xs=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,nr.lanes|=a,qu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function V1(e){var t=Zi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Da(a,t.memoizedState)||(Xs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function TF(){}function OF(e,t){var n=nr,s=Zi(),i=t(),a=!Da(s.memoizedState,i);if(a&&(s.memoizedState=i,Xs=!0),s=s.queue,lA(IF.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Ur!==null&&Ur.memoizedState.tag&1){if(n.flags|=2048,rg(9,MF.bind(null,n,s,i,t),void 0,null),Hr===null)throw Error(Ue(349));Uu&30||DF(n,t,i)}return i}function DF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MF(e,t,n,s){t.value=n,t.getSnapshot=s,$F(t)&&RF(e)}function IF(e,t,n){return n(function(){$F(t)&&RF(e)})}function $F(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Da(e,n)}catch{return!0}}function RF(e){var t=sl(e,1);t!==null&&Ea(t,e,1,-1)}function RD(e){var t=Qa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:e},t.queue=e,e=e.dispatch=fee.bind(null,nr,e),[t.memoizedState,e]}function rg(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function LF(){return Zi().memoizedState}function $y(e,t,n,s){var i=Qa();nr.flags|=e,i.memoizedState=rg(1|t,n,void 0,s===void 0?null:s)}function Zj(e,t,n,s){var i=Zi();s=s===void 0?null:s;var a=void 0;if(Tr!==null){var o=Tr.memoizedState;if(a=o.destroy,s!==null&&iA(s,o.deps)){i.memoizedState=rg(t,n,a,s);return}}nr.flags|=e,i.memoizedState=rg(1|t,n,a,s)}function LD(e,t){return $y(8390656,8,e,t)}function lA(e,t){return Zj(2048,8,e,t)}function FF(e,t){return Zj(4,2,e,t)}function BF(e,t){return Zj(4,4,e,t)}function zF(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VF(e,t,n){return n=n!=null?n.concat([e]):null,Zj(4,4,zF.bind(null,t,e),n)}function cA(){}function UF(e,t){var n=Zi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&iA(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function qF(e,t){var n=Zi();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&iA(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function WF(e,t,n){return Uu&21?(Da(n,t)||(n=QL(),nr.lanes|=n,qu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xs=!0),e.memoizedState=n)}function dee(e,t){var n=Nn;Nn=n!==0&&4>n?n:4,e(!0);var s=B1.transition;B1.transition={};try{e(!1),t()}finally{Nn=n,B1.transition=s}}function HF(){return Zi().memoizedState}function hee(e,t,n){var s=gc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},GF(e))KF(t,n);else if(n=AF(e,t,n,s),n!==null){var i=Is();Ea(n,e,s,i),YF(n,t,s)}}function fee(e,t,n){var s=gc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(GF(e))KF(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Da(l,o)){var c=t.interleaved;c===null?(i.next=i,eA(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=AF(e,t,i,s),n!==null&&(i=Is(),Ea(n,e,s,i),YF(n,t,s))}}function GF(e){var t=e.alternate;return e===nr||t!==null&&t===nr}function KF(e,t){_p=h0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YF(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,BP(e,n)}}var f0={readContext:Ji,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useInsertionEffect:us,useLayoutEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useMutableSource:us,useSyncExternalStore:us,useId:us,unstable_isNewReconciler:!1},mee={readContext:Ji,useCallback:function(e,t){return Qa().memoizedState=[e,t===void 0?null:t],e},useContext:Ji,useEffect:LD,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$y(4194308,4,zF.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $y(4194308,4,e,t)},useInsertionEffect:function(e,t){return $y(4,2,e,t)},useMemo:function(e,t){var n=Qa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Qa();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=hee.bind(null,nr,e),[s.memoizedState,e]},useRef:function(e){var t=Qa();return e={current:e},t.memoizedState=e},useState:RD,useDebugValue:cA,useDeferredValue:function(e){return Qa().memoizedState=e},useTransition:function(){var e=RD(!1),t=e[0];return e=dee.bind(null,e[1]),Qa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=nr,i=Qa();if(Hn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),Hr===null)throw Error(Ue(349));Uu&30||DF(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,LD(IF.bind(null,s,a,e),[e]),s.flags|=2048,rg(9,MF.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Qa(),t=Hr.identifierPrefix;if(Hn){var n=Ko,s=Go;n=(s&~(1<<32-Aa(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=tg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pee={readContext:Ji,useCallback:UF,useContext:Ji,useEffect:lA,useImperativeHandle:VF,useInsertionEffect:FF,useLayoutEffect:BF,useMemo:qF,useReducer:z1,useRef:LF,useState:function(){return z1(ng)},useDebugValue:cA,useDeferredValue:function(e){var t=Zi();return WF(t,Tr.memoizedState,e)},useTransition:function(){var e=z1(ng)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:TF,useSyncExternalStore:OF,useId:HF,unstable_isNewReconciler:!1},gee={readContext:Ji,useCallback:UF,useContext:Ji,useEffect:lA,useImperativeHandle:VF,useInsertionEffect:FF,useLayoutEffect:BF,useMemo:qF,useReducer:V1,useRef:LF,useState:function(){return V1(ng)},useDebugValue:cA,useDeferredValue:function(e){var t=Zi();return Tr===null?t.memoizedState=e:WF(t,Tr.memoizedState,e)},useTransition:function(){var e=V1(ng)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:TF,useSyncExternalStore:OF,useId:HF,unstable_isNewReconciler:!1};function ga(e,t){if(e&&e.defaultProps){t=rr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function AC(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:rr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eb={isMounted:function(e){return(e=e._reactInternals)?ud(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Is(),i=gc(e),a=Jo(s,i);a.payload=t,n!=null&&(a.callback=n),t=mc(e,a,i),t!==null&&(Ea(t,e,i,s),My(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Is(),i=gc(e),a=Jo(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=mc(e,a,i),t!==null&&(Ea(t,e,i,s),My(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Is(),s=gc(e),i=Jo(n,s);i.tag=2,t!=null&&(i.callback=t),t=mc(e,i,s),t!==null&&(Ea(t,e,s,n),My(t,e,s))}};function FD(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Yp(n,s)||!Yp(i,a):!0}function QF(e,t,n){var s=!1,i=Nc,a=t.contextType;return typeof a=="object"&&a!==null?a=Ji(a):(i=ei(t)?zu:xs.current,s=t.contextTypes,a=(s=s!=null)?Xh(e,i):Nc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eb,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function BD(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&eb.enqueueReplaceState(t,t.state,null)}function EC(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},tA(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ji(a):(a=ei(t)?zu:xs.current,i.context=Xh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(AC(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&eb.enqueueReplaceState(i,i.state,null),u0(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function tf(e,t){try{var n="",s=t;do n+=qJ(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function U1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vee=typeof WeakMap=="function"?WeakMap:Map;function XF(e,t,n){n=Jo(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){p0||(p0=!0,BC=s),kC(e,t)},n}function JF(e,t,n){n=Jo(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){kC(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){kC(e,t),typeof s!="function"&&(pc===null?pc=new Set([this]):pc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function zD(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new vee;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=Tee.bind(null,e,t,n),t.then(e,e))}function VD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function UD(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jo(-1,1),t.tag=2,mc(n,t,1))),n.lanes|=1),e)}var xee=gl.ReactCurrentOwner,Xs=!1;function Es(e,t,n,s){t.child=e===null?PF(t,null,n,s):Zh(t,e.child,n,s)}function qD(e,t,n,s,i){n=n.render;var a=t.ref;return Ah(t,i),s=aA(e,t,n,s,a,i),n=oA(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,il(e,t,i)):(Hn&&n&&KP(t),t.flags|=1,Es(e,t,s,i),t.child)}function WD(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!vA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ZF(e,t,a,s,i)):(e=By(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Yp,n(o,s)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,e=vc(a,s),e.ref=t.ref,e.return=t,t.child=e}function ZF(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Yp(a,s)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,il(e,t,i)}return TC(e,t,n,s,i)}function e5(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(vh,pi),pi|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,In(vh,pi),pi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,In(vh,pi),pi|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,In(vh,pi),pi|=s;return Es(e,t,i,n),t.child}function t5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function TC(e,t,n,s,i){var a=ei(n)?zu:xs.current;return a=Xh(t,a),Ah(t,i),n=aA(e,t,n,s,a,i),s=oA(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,il(e,t,i)):(Hn&&s&&KP(t),t.flags|=1,Es(e,t,n,i),t.child)}function HD(e,t,n,s,i){if(ei(n)){var a=!0;i0(t)}else a=!1;if(Ah(t,i),t.stateNode===null)Ry(e,t),QF(t,n,s),EC(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ji(u):(u=ei(n)?zu:xs.current,u=Xh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&BD(t,o,s,u),Vl=!1;var m=t.memoizedState;o.state=m,u0(t,s,o,i),c=t.memoizedState,l!==s||m!==c||Zs.current||Vl?(typeof d=="function"&&(AC(t,n,d,s),c=t.memoizedState),(l=Vl||FD(t,n,l,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,EF(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ga(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ji(c):(c=ei(n)?zu:xs.current,c=Xh(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&BD(t,o,s,c),Vl=!1,m=t.memoizedState,o.state=m,u0(t,s,o,i);var x=t.memoizedState;l!==f||m!==x||Zs.current||Vl?(typeof g=="function"&&(AC(t,n,g,s),x=t.memoizedState),(u=Vl||FD(t,n,u,s,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return OC(e,t,n,s,a,i)}function OC(e,t,n,s,i,a){t5(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&TD(t,n,!1),il(e,t,a);s=t.stateNode,xee.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Zh(t,e.child,null,a),t.child=Zh(t,null,l,a)):Es(e,t,l,a),t.memoizedState=s.state,i&&TD(t,n,!0),t.child}function n5(e){var t=e.stateNode;t.pendingContext?kD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kD(e,t.context,!1),nA(e,t.containerInfo)}function GD(e,t,n,s,i){return Jh(),QP(i),t.flags|=256,Es(e,t,n,s),t.child}var DC={dehydrated:null,treeContext:null,retryLane:0};function MC(e){return{baseLanes:e,cachePool:null,transitions:null}}function r5(e,t,n){var s=t.pendingProps,i=Jn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),In(Jn,i&1),e===null)return _C(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=rb(o,s,0,null),e=Ru(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=MC(n),t.memoizedState=DC,e):uA(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return yee(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=vc(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=vc(l,a):(a=Ru(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?MC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=DC,s}return a=e.child,e=a.sibling,s=vc(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function uA(e,t){return t=rb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vx(e,t,n,s){return s!==null&&QP(s),Zh(t,e.child,null,n),e=uA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yee(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=U1(Error(Ue(422))),Vx(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=rb({mode:"visible",children:s.children},i,0,null),a=Ru(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Zh(t,e.child,null,o),t.child.memoizedState=MC(o),t.memoizedState=DC,a);if(!(t.mode&1))return Vx(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(Ue(419)),s=U1(a,s,void 0),Vx(e,t,o,s)}if(l=(o&e.childLanes)!==0,Xs||l){if(s=Hr,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,sl(e,i),Ea(s,e,i,-1))}return gA(),s=U1(Error(Ue(421))),Vx(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Oee.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ji=fc(i.nextSibling),bi=t,Hn=!0,Na=null,e!==null&&(Ui[qi++]=Go,Ui[qi++]=Ko,Ui[qi++]=Vu,Go=e.id,Ko=e.overflow,Vu=t),t=uA(t,s.children),t.flags|=4096,t)}function KD(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),PC(e.return,t,n)}function q1(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function s5(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Es(e,t,s.children,n),s=Jn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&KD(e,n,t);else if(e.tag===19)KD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(In(Jn,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&d0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),q1(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&d0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}q1(t,!0,n,null,a);break;case"together":q1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ry(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function il(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=vc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jee(e,t,n){switch(t.tag){case 3:n5(t),Jh();break;case 5:kF(t);break;case 1:ei(t.type)&&i0(t);break;case 4:nA(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;In(l0,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(In(Jn,Jn.current&1),t.flags|=128,null):n&t.child.childLanes?r5(e,t,n):(In(Jn,Jn.current&1),e=il(e,t,n),e!==null?e.sibling:null);In(Jn,Jn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return s5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),In(Jn,Jn.current),s)break;return null;case 22:case 23:return t.lanes=0,e5(e,t,n)}return il(e,t,n)}var i5,IC,a5,o5;i5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};IC=function(){};a5=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,yu(uo.current);var a=null;switch(n){case"input":i=rC(e,i),s=rC(e,s),a=[];break;case"select":i=rr({},i,{value:void 0}),s=rr({},s,{value:void 0}),a=[];break;case"textarea":i=aC(e,i),s=aC(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=r0)}lC(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Bn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};o5=function(e,t,n,s){n!==s&&(t.flags|=4)};function Hm(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ds(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function bee(e,t,n){var s=t.pendingProps;switch(YP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ds(t),null;case 1:return ei(t.type)&&s0(),ds(t),null;case 3:return s=t.stateNode,ef(),Un(Zs),Un(xs),sA(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Na!==null&&(UC(Na),Na=null))),IC(e,t),ds(t),null;case 5:rA(t);var i=yu(eg.current);if(n=t.type,e!==null&&t.stateNode!=null)a5(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ue(166));return ds(t),null}if(e=yu(uo.current),Bx(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[to]=t,s[Jp]=a,e=(t.mode&1)!==0,n){case"dialog":Bn("cancel",s),Bn("close",s);break;case"iframe":case"object":case"embed":Bn("load",s);break;case"video":case"audio":for(i=0;i<pp.length;i++)Bn(pp[i],s);break;case"source":Bn("error",s);break;case"img":case"image":case"link":Bn("error",s),Bn("load",s);break;case"details":Bn("toggle",s);break;case"input":rD(s,a),Bn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Bn("invalid",s);break;case"textarea":iD(s,a),Bn("invalid",s)}lC(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Fx(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Fx(s.textContent,l,e),i=["children",""+l]):Vp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Bn("scroll",s)}switch(n){case"input":Tx(s),sD(s,a,!0);break;case"textarea":Tx(s),aD(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=r0)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[to]=t,e[Jp]=s,i5(e,t,!1,!1),t.stateNode=e;e:{switch(o=cC(n,s),n){case"dialog":Bn("cancel",e),Bn("close",e),i=s;break;case"iframe":case"object":case"embed":Bn("load",e),i=s;break;case"video":case"audio":for(i=0;i<pp.length;i++)Bn(pp[i],e);i=s;break;case"source":Bn("error",e),i=s;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),i=s;break;case"details":Bn("toggle",e),i=s;break;case"input":rD(e,s),i=rC(e,s),Bn("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=rr({},s,{value:void 0}),Bn("invalid",e);break;case"textarea":iD(e,s),i=aC(e,s),Bn("invalid",e);break;default:i=s}lC(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?LL(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$L(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Up(e,c):typeof c=="number"&&Up(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Bn("scroll",e):c!=null&&MP(e,a,c,o))}switch(n){case"input":Tx(e),sD(e,s,!1);break;case"textarea":Tx(e),aD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+wc(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Sh(e,!!s.multiple,a,!1):s.defaultValue!=null&&Sh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=r0)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ds(t),null;case 6:if(e&&t.stateNode!=null)o5(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=yu(eg.current),yu(uo.current),Bx(t)){if(s=t.stateNode,n=t.memoizedProps,s[to]=t,(a=s.nodeValue!==n)&&(e=bi,e!==null))switch(e.tag){case 3:Fx(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fx(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[to]=t,t.stateNode=s}return ds(t),null;case 13:if(Un(Jn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Hn&&ji!==null&&t.mode&1&&!(t.flags&128))CF(),Jh(),t.flags|=98560,a=!1;else if(a=Bx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[to]=t}else Jh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ds(t),a=!1}else Na!==null&&(UC(Na),Na=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Jn.current&1?Ir===0&&(Ir=3):gA())),t.updateQueue!==null&&(t.flags|=4),ds(t),null);case 4:return ef(),IC(e,t),e===null&&Qp(t.stateNode.containerInfo),ds(t),null;case 10:return ZP(t.type._context),ds(t),null;case 17:return ei(t.type)&&s0(),ds(t),null;case 19:if(Un(Jn),a=t.memoizedState,a===null)return ds(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Hm(a,!1);else{if(Ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=d0(e),o!==null){for(t.flags|=128,Hm(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return In(Jn,Jn.current&1|2),t.child}e=e.sibling}a.tail!==null&&mr()>nf&&(t.flags|=128,s=!0,Hm(a,!1),t.lanes=4194304)}else{if(!s)if(e=d0(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Hn)return ds(t),null}else 2*mr()-a.renderingStartTime>nf&&n!==1073741824&&(t.flags|=128,s=!0,Hm(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mr(),t.sibling=null,n=Jn.current,In(Jn,s?n&1|2:n&1),t):(ds(t),null);case 22:case 23:return pA(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?pi&1073741824&&(ds(t),t.subtreeFlags&6&&(t.flags|=8192)):ds(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function wee(e,t){switch(YP(t),t.tag){case 1:return ei(t.type)&&s0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ef(),Un(Zs),Un(xs),sA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rA(t),null;case 13:if(Un(Jn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Jh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Un(Jn),null;case 4:return ef(),null;case 10:return ZP(t.type._context),null;case 22:case 23:return pA(),null;case 24:return null;default:return null}}var Ux=!1,ps=!1,Nee=typeof WeakSet=="function"?WeakSet:Set,rt=null;function gh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){lr(e,t,s)}else n.current=null}function $C(e,t,n){try{n()}catch(s){lr(e,t,s)}}var YD=!1;function See(e,t){if(yC=e0,e=hF(),GP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===s&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jC={focusedElem:e,selectionRange:n},e0=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){t=rt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,N=t.stateNode,j=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:ga(t.type,v),y);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(C){lr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}return x=YD,YD=!1,x}function Pp(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&$C(t,n,a)}i=i.next}while(i!==s)}}function tb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function RC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l5(e){var t=e.alternate;t!==null&&(e.alternate=null,l5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[to],delete t[Jp],delete t[NC],delete t[aee],delete t[oee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c5(e){return e.tag===5||e.tag===3||e.tag===4}function QD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function LC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=r0));else if(s!==4&&(e=e.child,e!==null))for(LC(e,t,n),e=e.sibling;e!==null;)LC(e,t,n),e=e.sibling}function FC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(FC(e,t,n),e=e.sibling;e!==null;)FC(e,t,n),e=e.sibling}var ns=null,ya=!1;function Ol(e,t,n){for(n=n.child;n!==null;)u5(e,t,n),n=n.sibling}function u5(e,t,n){if(co&&typeof co.onCommitFiberUnmount=="function")try{co.onCommitFiberUnmount(Gj,n)}catch{}switch(n.tag){case 5:ps||gh(n,t);case 6:var s=ns,i=ya;ns=null,Ol(e,t,n),ns=s,ya=i,ns!==null&&(ya?(e=ns,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ns.removeChild(n.stateNode));break;case 18:ns!==null&&(ya?(e=ns,n=n.stateNode,e.nodeType===8?R1(e.parentNode,n):e.nodeType===1&&R1(e,n),Gp(e)):R1(ns,n.stateNode));break;case 4:s=ns,i=ya,ns=n.stateNode.containerInfo,ya=!0,Ol(e,t,n),ns=s,ya=i;break;case 0:case 11:case 14:case 15:if(!ps&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&$C(n,t,o),i=i.next}while(i!==s)}Ol(e,t,n);break;case 1:if(!ps&&(gh(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){lr(n,t,l)}Ol(e,t,n);break;case 21:Ol(e,t,n);break;case 22:n.mode&1?(ps=(s=ps)||n.memoizedState!==null,Ol(e,t,n),ps=s):Ol(e,t,n);break;default:Ol(e,t,n)}}function XD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nee),t.forEach(function(s){var i=Dee.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function da(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ns=l.stateNode,ya=!1;break e;case 3:ns=l.stateNode.containerInfo,ya=!0;break e;case 4:ns=l.stateNode.containerInfo,ya=!0;break e}l=l.return}if(ns===null)throw Error(Ue(160));u5(a,o,i),ns=null,ya=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){lr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d5(t,e),t=t.sibling}function d5(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(da(t,e),Ya(e),s&4){try{Pp(3,e,e.return),tb(3,e)}catch(v){lr(e,e.return,v)}try{Pp(5,e,e.return)}catch(v){lr(e,e.return,v)}}break;case 1:da(t,e),Ya(e),s&512&&n!==null&&gh(n,n.return);break;case 5:if(da(t,e),Ya(e),s&512&&n!==null&&gh(n,n.return),e.flags&32){var i=e.stateNode;try{Up(i,"")}catch(v){lr(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&DL(i,a),cC(l,o);var u=cC(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?LL(i,f):d==="dangerouslySetInnerHTML"?$L(i,f):d==="children"?Up(i,f):MP(i,d,f,u)}switch(l){case"input":sC(i,a);break;case"textarea":ML(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Sh(i,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?Sh(i,!!a.multiple,a.defaultValue,!0):Sh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Jp]=a}catch(v){lr(e,e.return,v)}}break;case 6:if(da(t,e),Ya(e),s&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){lr(e,e.return,v)}}break;case 3:if(da(t,e),Ya(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Gp(t.containerInfo)}catch(v){lr(e,e.return,v)}break;case 4:da(t,e),Ya(e);break;case 13:da(t,e),Ya(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(fA=mr())),s&4&&XD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ps=(u=ps)||d,da(t,e),ps=u):da(t,e),Ya(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(rt=e,d=e.child;d!==null;){for(f=rt=d;rt!==null;){switch(m=rt,g=m.child,m.tag){case 0:case 11:case 14:case 15:Pp(4,m,m.return);break;case 1:gh(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){lr(s,n,v)}}break;case 5:gh(m,m.return);break;case 22:if(m.memoizedState!==null){ZD(f);continue}}g!==null?(g.return=m,rt=g):ZD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RL("display",o))}catch(v){lr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){lr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:da(t,e),Ya(e),s&4&&XD(e);break;case 21:break;default:da(t,e),Ya(e)}}function Ya(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(c5(n)){var s=n;break e}n=n.return}throw Error(Ue(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Up(i,""),s.flags&=-33);var a=QD(e);FC(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=QD(e);LC(e,l,o);break;default:throw Error(Ue(161))}}catch(c){lr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cee(e,t,n){rt=e,h5(e)}function h5(e,t,n){for(var s=(e.mode&1)!==0;rt!==null;){var i=rt,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Ux;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ps;l=Ux;var u=ps;if(Ux=o,(ps=c)&&!u)for(rt=i;rt!==null;)o=rt,c=o.child,o.tag===22&&o.memoizedState!==null?eM(i):c!==null?(c.return=o,rt=c):eM(i);for(;a!==null;)rt=a,h5(a),a=a.sibling;rt=i,Ux=l,ps=u}JD(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,rt=a):JD(e)}}function JD(e){for(;rt!==null;){var t=rt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ps||tb(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ps)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&$D(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$D(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ps||t.flags&512&&RC(t)}catch(m){lr(t,t.return,m)}}if(t===e){rt=null;break}if(n=t.sibling,n!==null){n.return=t.return,rt=n;break}rt=t.return}}function ZD(e){for(;rt!==null;){var t=rt;if(t===e){rt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,rt=n;break}rt=t.return}}function eM(e){for(;rt!==null;){var t=rt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tb(4,t)}catch(c){lr(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){lr(t,i,c)}}var a=t.return;try{RC(t)}catch(c){lr(t,a,c)}break;case 5:var o=t.return;try{RC(t)}catch(c){lr(t,o,c)}}}catch(c){lr(t,t.return,c)}if(t===e){rt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,rt=l;break}rt=t.return}}var _ee=Math.ceil,m0=gl.ReactCurrentDispatcher,dA=gl.ReactCurrentOwner,Yi=gl.ReactCurrentBatchConfig,an=0,Hr=null,jr=null,rs=0,pi=0,vh=kc(0),Ir=0,sg=null,qu=0,nb=0,hA=0,Ap=null,Ys=null,fA=0,nf=1/0,Fo=null,p0=!1,BC=null,pc=null,qx=!1,ic=null,g0=0,Ep=0,zC=null,Ly=-1,Fy=0;function Is(){return an&6?mr():Ly!==-1?Ly:Ly=mr()}function gc(e){return e.mode&1?an&2&&rs!==0?rs&-rs:cee.transition!==null?(Fy===0&&(Fy=QL()),Fy):(e=Nn,e!==0||(e=window.event,e=e===void 0?16:rF(e.type)),e):1}function Ea(e,t,n,s){if(50<Ep)throw Ep=0,zC=null,Error(Ue(185));sv(e,n,s),(!(an&2)||e!==Hr)&&(e===Hr&&(!(an&2)&&(nb|=n),Ir===4&&Wl(e,rs)),ti(e,s),n===1&&an===0&&!(t.mode&1)&&(nf=mr()+500,Jj&&Tc()))}function ti(e,t){var n=e.callbackNode;cZ(e,t);var s=Zy(e,e===Hr?rs:0);if(s===0)n!==null&&cD(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&cD(n),t===1)e.tag===0?lee(tM.bind(null,e)):wF(tM.bind(null,e)),see(function(){!(an&6)&&Tc()}),n=null;else{switch(XL(s)){case 1:n=FP;break;case 4:n=KL;break;case 16:n=Jy;break;case 536870912:n=YL;break;default:n=Jy}n=j5(n,f5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function f5(e,t){if(Ly=-1,Fy=0,an&6)throw Error(Ue(327));var n=e.callbackNode;if(Eh()&&e.callbackNode!==n)return null;var s=Zy(e,e===Hr?rs:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=v0(e,s);else{t=s;var i=an;an|=2;var a=p5();(Hr!==e||rs!==t)&&(Fo=null,nf=mr()+500,$u(e,t));do try{Eee();break}catch(l){m5(e,l)}while(!0);JP(),m0.current=a,an=i,jr!==null?t=0:(Hr=null,rs=0,t=Ir)}if(t!==0){if(t===2&&(i=mC(e),i!==0&&(s=i,t=VC(e,i))),t===1)throw n=sg,$u(e,0),Wl(e,s),ti(e,mr()),n;if(t===6)Wl(e,s);else{if(i=e.current.alternate,!(s&30)&&!Pee(i)&&(t=v0(e,s),t===2&&(a=mC(e),a!==0&&(s=a,t=VC(e,a))),t===1))throw n=sg,$u(e,0),Wl(e,s),ti(e,mr()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(Ue(345));case 2:cu(e,Ys,Fo);break;case 3:if(Wl(e,s),(s&130023424)===s&&(t=fA+500-mr(),10<t)){if(Zy(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Is(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wC(cu.bind(null,e,Ys,Fo),t);break}cu(e,Ys,Fo);break;case 4:if(Wl(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Aa(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=mr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*_ee(s/1960))-s,10<s){e.timeoutHandle=wC(cu.bind(null,e,Ys,Fo),s);break}cu(e,Ys,Fo);break;case 5:cu(e,Ys,Fo);break;default:throw Error(Ue(329))}}}return ti(e,mr()),e.callbackNode===n?f5.bind(null,e):null}function VC(e,t){var n=Ap;return e.current.memoizedState.isDehydrated&&($u(e,t).flags|=256),e=v0(e,t),e!==2&&(t=Ys,Ys=n,t!==null&&UC(t)),e}function UC(e){Ys===null?Ys=e:Ys.push.apply(Ys,e)}function Pee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Da(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wl(e,t){for(t&=~hA,t&=~nb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Aa(t),s=1<<n;e[n]=-1,t&=~s}}function tM(e){if(an&6)throw Error(Ue(327));Eh();var t=Zy(e,0);if(!(t&1))return ti(e,mr()),null;var n=v0(e,t);if(e.tag!==0&&n===2){var s=mC(e);s!==0&&(t=s,n=VC(e,s))}if(n===1)throw n=sg,$u(e,0),Wl(e,t),ti(e,mr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cu(e,Ys,Fo),ti(e,mr()),null}function mA(e,t){var n=an;an|=1;try{return e(t)}finally{an=n,an===0&&(nf=mr()+500,Jj&&Tc())}}function Wu(e){ic!==null&&ic.tag===0&&!(an&6)&&Eh();var t=an;an|=1;var n=Yi.transition,s=Nn;try{if(Yi.transition=null,Nn=1,e)return e()}finally{Nn=s,Yi.transition=n,an=t,!(an&6)&&Tc()}}function pA(){pi=vh.current,Un(vh)}function $u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ree(n)),jr!==null)for(n=jr.return;n!==null;){var s=n;switch(YP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&s0();break;case 3:ef(),Un(Zs),Un(xs),sA();break;case 5:rA(s);break;case 4:ef();break;case 13:Un(Jn);break;case 19:Un(Jn);break;case 10:ZP(s.type._context);break;case 22:case 23:pA()}n=n.return}if(Hr=e,jr=e=vc(e.current,null),rs=pi=t,Ir=0,sg=null,hA=nb=qu=0,Ys=Ap=null,xu!==null){for(t=0;t<xu.length;t++)if(n=xu[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}xu=null}return e}function m5(e,t){do{var n=jr;try{if(JP(),Iy.current=f0,h0){for(var s=nr.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}h0=!1}if(Uu=0,Ur=Tr=nr=null,_p=!1,tg=0,dA.current=null,n===null||n.return===null){Ir=1,sg=t,jr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=rs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=VD(o);if(g!==null){g.flags&=-257,UD(g,o,l,a,t),g.mode&1&&zD(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){zD(a,u,t),gA();break e}c=Error(Ue(426))}}else if(Hn&&l.mode&1){var y=VD(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),UD(y,o,l,a,t),QP(tf(c,l));break e}}a=c=tf(c,l),Ir!==4&&(Ir=2),Ap===null?Ap=[a]:Ap.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=XF(a,c,t);ID(a,N);break e;case 1:l=c;var j=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(pc===null||!pc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=JF(a,l,t);ID(a,C);break e}}a=a.return}while(a!==null)}v5(n)}catch(_){t=_,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function p5(){var e=m0.current;return m0.current=f0,e===null?f0:e}function gA(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Hr===null||!(qu&268435455)&&!(nb&268435455)||Wl(Hr,rs)}function v0(e,t){var n=an;an|=2;var s=p5();(Hr!==e||rs!==t)&&(Fo=null,$u(e,t));do try{Aee();break}catch(i){m5(e,i)}while(!0);if(JP(),an=n,m0.current=s,jr!==null)throw Error(Ue(261));return Hr=null,rs=0,Ir}function Aee(){for(;jr!==null;)g5(jr)}function Eee(){for(;jr!==null&&!eZ();)g5(jr)}function g5(e){var t=y5(e.alternate,e,pi);e.memoizedProps=e.pendingProps,t===null?v5(e):jr=t,dA.current=null}function v5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wee(n,t),n!==null){n.flags&=32767,jr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ir=6,jr=null;return}}else if(n=bee(n,t,pi),n!==null){jr=n;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Ir===0&&(Ir=5)}function cu(e,t,n){var s=Nn,i=Yi.transition;try{Yi.transition=null,Nn=1,kee(e,t,n,s)}finally{Yi.transition=i,Nn=s}return null}function kee(e,t,n,s){do Eh();while(ic!==null);if(an&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(uZ(e,a),e===Hr&&(jr=Hr=null,rs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qx||(qx=!0,j5(Jy,function(){return Eh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Yi.transition,Yi.transition=null;var o=Nn;Nn=1;var l=an;an|=4,dA.current=null,See(e,n),d5(n,e),QZ(jC),e0=!!yC,jC=yC=null,e.current=n,Cee(n),tZ(),an=l,Nn=o,Yi.transition=a}else e.current=n;if(qx&&(qx=!1,ic=e,g0=i),a=e.pendingLanes,a===0&&(pc=null),sZ(n.stateNode),ti(e,mr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(p0)throw p0=!1,e=BC,BC=null,e;return g0&1&&e.tag!==0&&Eh(),a=e.pendingLanes,a&1?e===zC?Ep++:(Ep=0,zC=e):Ep=0,Tc(),null}function Eh(){if(ic!==null){var e=XL(g0),t=Yi.transition,n=Nn;try{if(Yi.transition=null,Nn=16>e?16:e,ic===null)var s=!1;else{if(e=ic,ic=null,g0=0,an&6)throw Error(Ue(331));var i=an;for(an|=4,rt=e.current;rt!==null;){var a=rt,o=a.child;if(rt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(rt=u;rt!==null;){var d=rt;switch(d.tag){case 0:case 11:case 15:Pp(8,d,a)}var f=d.child;if(f!==null)f.return=d,rt=f;else for(;rt!==null;){d=rt;var m=d.sibling,g=d.return;if(l5(d),d===u){rt=null;break}if(m!==null){m.return=g,rt=m;break}rt=g}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}rt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,rt=o;else e:for(;rt!==null;){if(a=rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pp(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,rt=N;break e}rt=a.return}}var j=e.current;for(rt=j;rt!==null;){o=rt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,rt=b;else e:for(o=j;rt!==null;){if(l=rt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tb(9,l)}}catch(_){lr(l,l.return,_)}if(l===o){rt=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,rt=C;break e}rt=l.return}}if(an=i,Tc(),co&&typeof co.onPostCommitFiberRoot=="function")try{co.onPostCommitFiberRoot(Gj,e)}catch{}s=!0}return s}finally{Nn=n,Yi.transition=t}}return!1}function nM(e,t,n){t=tf(n,t),t=XF(e,t,1),e=mc(e,t,1),t=Is(),e!==null&&(sv(e,1,t),ti(e,t))}function lr(e,t,n){if(e.tag===3)nM(e,e,n);else for(;t!==null;){if(t.tag===3){nM(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(pc===null||!pc.has(s))){e=tf(n,e),e=JF(t,e,1),t=mc(t,e,1),e=Is(),t!==null&&(sv(t,1,e),ti(t,e));break}}t=t.return}}function Tee(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Is(),e.pingedLanes|=e.suspendedLanes&n,Hr===e&&(rs&n)===n&&(Ir===4||Ir===3&&(rs&130023424)===rs&&500>mr()-fA?$u(e,0):hA|=n),ti(e,t)}function x5(e,t){t===0&&(e.mode&1?(t=Mx,Mx<<=1,!(Mx&130023424)&&(Mx=4194304)):t=1);var n=Is();e=sl(e,t),e!==null&&(sv(e,t,n),ti(e,n))}function Oee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x5(e,n)}function Dee(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ue(314))}s!==null&&s.delete(t),x5(e,n)}var y5;y5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zs.current)Xs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xs=!1,jee(e,t,n);Xs=!!(e.flags&131072)}else Xs=!1,Hn&&t.flags&1048576&&NF(t,o0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ry(e,t),e=t.pendingProps;var i=Xh(t,xs.current);Ah(t,n),i=aA(null,t,s,e,i,n);var a=oA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ei(s)?(a=!0,i0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tA(t),i.updater=eb,t.stateNode=i,i._reactInternals=t,EC(t,s,e,n),t=OC(null,t,s,!0,a,n)):(t.tag=0,Hn&&a&&KP(t),Es(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ry(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=Iee(s),e=ga(s,e),i){case 0:t=TC(null,t,s,e,n);break e;case 1:t=HD(null,t,s,e,n);break e;case 11:t=qD(null,t,s,e,n);break e;case 14:t=WD(null,t,s,ga(s.type,e),n);break e}throw Error(Ue(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),TC(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),HD(e,t,s,i,n);case 3:e:{if(n5(t),e===null)throw Error(Ue(387));s=t.pendingProps,a=t.memoizedState,i=a.element,EF(e,t),u0(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=tf(Error(Ue(423)),t),t=GD(e,t,s,n,i);break e}else if(s!==i){i=tf(Error(Ue(424)),t),t=GD(e,t,s,n,i);break e}else for(ji=fc(t.stateNode.containerInfo.firstChild),bi=t,Hn=!0,Na=null,n=PF(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jh(),s===i){t=il(e,t,n);break e}Es(e,t,s,n)}t=t.child}return t;case 5:return kF(t),e===null&&_C(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,bC(s,i)?o=null:a!==null&&bC(s,a)&&(t.flags|=32),t5(e,t),Es(e,t,o,n),t.child;case 6:return e===null&&_C(t),null;case 13:return r5(e,t,n);case 4:return nA(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Zh(t,null,s,n):Es(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),qD(e,t,s,i,n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:return Es(e,t,t.pendingProps.children,n),t.child;case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,In(l0,s._currentValue),s._currentValue=o,a!==null)if(Da(a.value,o)){if(a.children===i.children&&!Zs.current){t=il(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Jo(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),PC(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),PC(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Ah(t,n),i=Ji(i),s=s(i),t.flags|=1,Es(e,t,s,n),t.child;case 14:return s=t.type,i=ga(s,t.pendingProps),i=ga(s.type,i),WD(e,t,s,i,n);case 15:return ZF(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ga(s,i),Ry(e,t),t.tag=1,ei(s)?(e=!0,i0(t)):e=!1,Ah(t,n),QF(t,s,i),EC(t,s,i,n),OC(null,t,s,!0,e,n);case 19:return s5(e,t,n);case 22:return e5(e,t,n)}throw Error(Ue(156,t.tag))};function j5(e,t){return GL(e,t)}function Mee(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(e,t,n,s){return new Mee(e,t,n,s)}function vA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iee(e){if(typeof e=="function")return vA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$P)return 11;if(e===RP)return 14}return 2}function vc(e,t){var n=e.alternate;return n===null?(n=Hi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function By(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")vA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case oh:return Ru(n.children,i,a,t);case IP:o=8,i|=8;break;case ZS:return e=Hi(12,n,t,i|2),e.elementType=ZS,e.lanes=a,e;case eC:return e=Hi(13,n,t,i),e.elementType=eC,e.lanes=a,e;case tC:return e=Hi(19,n,t,i),e.elementType=tC,e.lanes=a,e;case kL:return rb(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AL:o=10;break e;case EL:o=9;break e;case $P:o=11;break e;case RP:o=14;break e;case zl:o=16,s=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Hi(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Ru(e,t,n,s){return e=Hi(7,e,s,t),e.lanes=n,e}function rb(e,t,n,s){return e=Hi(22,e,s,t),e.elementType=kL,e.lanes=n,e.stateNode={isHidden:!1},e}function W1(e,t,n){return e=Hi(6,e,null,t),e.lanes=n,e}function H1(e,t,n){return t=Hi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $ee(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_1(0),this.expirationTimes=_1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_1(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xA(e,t,n,s,i,a,o,l,c){return e=new $ee(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Hi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tA(a),e}function Ree(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ah,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function b5(e){if(!e)return Nc;e=e._reactInternals;e:{if(ud(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(ei(n))return bF(e,n,t)}return t}function w5(e,t,n,s,i,a,o,l,c){return e=xA(n,s,!0,e,i,a,o,l,c),e.context=b5(null),n=e.current,s=Is(),i=gc(n),a=Jo(s,i),a.callback=t??null,mc(n,a,i),e.current.lanes=i,sv(e,i,s),ti(e,s),e}function sb(e,t,n,s){var i=t.current,a=Is(),o=gc(i);return n=b5(n),t.context===null?t.context=n:t.pendingContext=n,t=Jo(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=mc(i,t,o),e!==null&&(Ea(e,i,o,a),My(e,i,o)),o}function x0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yA(e,t){rM(e,t),(e=e.alternate)&&rM(e,t)}function Lee(){return null}var N5=typeof reportError=="function"?reportError:function(e){console.error(e)};function jA(e){this._internalRoot=e}ib.prototype.render=jA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));sb(e,t,null,null)};ib.prototype.unmount=jA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wu(function(){sb(null,e,null,null)}),t[rl]=null}};function ib(e){this._internalRoot=e}ib.prototype.unstable_scheduleHydration=function(e){if(e){var t=eF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ql.length&&t!==0&&t<ql[n].priority;n++);ql.splice(n,0,e),n===0&&nF(e)}};function bA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ab(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sM(){}function Fee(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=x0(o);a.call(u)}}var o=w5(t,s,e,0,null,!1,!1,"",sM);return e._reactRootContainer=o,e[rl]=o.current,Qp(e.nodeType===8?e.parentNode:e),Wu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=x0(c);l.call(u)}}var c=xA(e,0,!1,null,null,!1,!1,"",sM);return e._reactRootContainer=c,e[rl]=c.current,Qp(e.nodeType===8?e.parentNode:e),Wu(function(){sb(t,c,n,s)}),c}function ob(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=x0(o);l.call(c)}}sb(t,o,e,i)}else o=Fee(n,t,e,i,s);return x0(o)}JL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mp(t.pendingLanes);n!==0&&(BP(t,n|1),ti(t,mr()),!(an&6)&&(nf=mr()+500,Tc()))}break;case 13:Wu(function(){var s=sl(e,1);if(s!==null){var i=Is();Ea(s,e,1,i)}}),yA(e,1)}};zP=function(e){if(e.tag===13){var t=sl(e,134217728);if(t!==null){var n=Is();Ea(t,e,134217728,n)}yA(e,134217728)}};ZL=function(e){if(e.tag===13){var t=gc(e),n=sl(e,t);if(n!==null){var s=Is();Ea(n,e,t,s)}yA(e,t)}};eF=function(){return Nn};tF=function(e,t){var n=Nn;try{return Nn=e,t()}finally{Nn=n}};dC=function(e,t,n){switch(t){case"input":if(sC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=Xj(s);if(!i)throw Error(Ue(90));OL(s),sC(s,i)}}}break;case"textarea":ML(e,n);break;case"select":t=n.value,t!=null&&Sh(e,!!n.multiple,t,!1)}};zL=mA;VL=Wu;var Bee={usingClientEntryPoint:!1,Events:[av,dh,Xj,FL,BL,mA]},Gm={findFiberByHostInstance:vu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zee={bundleType:Gm.bundleType,version:Gm.version,rendererPackageName:Gm.rendererPackageName,rendererConfig:Gm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WL(e),e===null?null:e.stateNode},findFiberByHostInstance:Gm.findFiberByHostInstance||Lee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wx.isDisabled&&Wx.supportsFiber)try{Gj=Wx.inject(zee),co=Wx}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bee;Pi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bA(t))throw Error(Ue(200));return Ree(e,t,null,n)};Pi.createRoot=function(e,t){if(!bA(e))throw Error(Ue(299));var n=!1,s="",i=N5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=xA(e,1,!1,null,null,n,!1,s,i),e[rl]=t.current,Qp(e.nodeType===8?e.parentNode:e),new jA(t)};Pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=WL(t),e=e===null?null:e.stateNode,e};Pi.flushSync=function(e){return Wu(e)};Pi.hydrate=function(e,t,n){if(!ab(t))throw Error(Ue(200));return ob(null,e,t,!0,n)};Pi.hydrateRoot=function(e,t,n){if(!bA(e))throw Error(Ue(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=N5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=w5(t,null,e,1,n??null,i,!1,a,o),e[rl]=t.current,Qp(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ib(t)};Pi.render=function(e,t,n){if(!ab(t))throw Error(Ue(200));return ob(null,e,t,!1,n)};Pi.unmountComponentAtNode=function(e){if(!ab(e))throw Error(Ue(40));return e._reactRootContainer?(Wu(function(){ob(null,null,e,!1,function(){e._reactRootContainer=null,e[rl]=null})}),!0):!1};Pi.unstable_batchedUpdates=mA;Pi.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ab(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return ob(e,t,n,!1,s)};Pi.version="18.3.1-next-f1338f8080-20240426";function S5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S5)}catch(e){console.error(e)}}S5(),SL.exports=Pi;var dd=SL.exports;const C5=vn(dd);var _5,iM=dd;_5=iM.createRoot,iM.hydrateRoot;const Vee=1,Uee=1e6;let G1=0;function qee(){return G1=(G1+1)%Number.MAX_SAFE_INTEGER,G1.toString()}const K1=new Map,aM=e=>{if(K1.has(e))return;const t=setTimeout(()=>{K1.delete(e),kp({type:"REMOVE_TOAST",toastId:e})},Uee);K1.set(e,t)},Wee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Vee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?aM(n):e.toasts.forEach(s=>{aM(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},zy=[];let Vy={toasts:[]};function kp(e){Vy=Wee(Vy,e),zy.forEach(t=>{t(Vy)})}function Hee({...e}){const t=qee(),n=i=>kp({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>kp({type:"DISMISS_TOAST",toastId:t});return kp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function It(){const[e,t]=w.useState(Vy);return w.useEffect(()=>(zy.push(t),()=>{const n=zy.indexOf(t);n>-1&&zy.splice(n,1)}),[e]),{...e,toast:Hee,dismiss:n=>kp({type:"DISMISS_TOAST",toastId:n})}}function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function oM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function al(...e){return t=>{let n=!1;const s=e.map(i=>{const a=oM(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():oM(e[i],null)}}}}function Jt(...e){return w.useCallback(al(...e),e)}function Gee(e,t){const n=w.createContext(t),s=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=w.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function ni(e,t=[]){let n=[];function s(a,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{var N;const{scope:m,children:g,...x}=f,v=((N=m==null?void 0:m[e])==null?void 0:N[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(v.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=w.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,Kee(i,...t)]}function Kee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Sc(e){const t=Qee(e),n=w.forwardRef((s,i)=>{const{children:a,...o}=s,l=w.Children.toArray(a),c=l.find(Jee);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Yee=Sc("Slot");function Qee(e){const t=w.forwardRef((n,s)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const o=ete(i),l=Zee(a,i.props);return i.type!==w.Fragment&&(l.ref=s?al(s,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var P5=Symbol("radix.slottable");function Xee(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=P5,t}function Jee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===P5}function Zee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function ete(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function lb(e){const t=e+"CollectionProvider",[n,s]=ni(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:N}=v,j=W.useRef(null),b=W.useRef(new Map).current;return r.jsx(i,{scope:y,itemMap:b,collectionRef:j,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=Sc(l),u=W.forwardRef((v,y)=>{const{scope:N,children:j}=v,b=a(l,N),C=Jt(y,b.collectionRef);return r.jsx(c,{ref:C,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Sc(d),g=W.forwardRef((v,y)=>{const{scope:N,children:j,...b}=v,C=W.useRef(null),_=Jt(y,C),A=a(d,N);return W.useEffect(()=>(A.itemMap.set(C,{ref:C,...b}),()=>void A.itemMap.delete(C))),r.jsx(m,{[f]:"",ref:_,children:j})});g.displayName=d;function x(v){const y=a(e+"CollectionConsumer",v);return W.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((A,P)=>b.indexOf(A.ref.current)-b.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,s]}var tte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=tte.reduce((e,t)=>{const n=Sc(`Primitive.${t}`),s=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function wA(e,t){e&&dd.flushSync(()=>e.dispatchEvent(t))}function $s(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function nte(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var rte="DismissableLayer",qC="dismissableLayer.update",ste="dismissableLayer.pointerDownOutside",ite="dismissableLayer.focusOutside",lM,A5=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hd=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(A5),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),x=Jt(t,P=>f(P)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),j=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,C=j>=N,_=ote(P=>{const E=P.target,D=[...u.branches].some(I=>I.contains(E));!C||D||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},m),A=lte(P=>{const E=P.target;[...u.branches].some(I=>I.contains(E))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},m);return nte(P=>{j===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),cM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=lM)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),cM())},[d,u]),w.useEffect(()=>{const P=()=>g({});return document.addEventListener(qC,P),()=>document.removeEventListener(qC,P)},[]),r.jsx(it.div,{...c,ref:x,style:{pointerEvents:b?C?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,_.onPointerDownCapture)})});hd.displayName=rte;var ate="DismissableLayerBranch",E5=w.forwardRef((e,t)=>{const n=w.useContext(A5),s=w.useRef(null),i=Jt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(it.div,{...e,ref:i})});E5.displayName=ate;function ote(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){k5(ste,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function lte(e,t=globalThis==null?void 0:globalThis.document){const n=$s(e),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&k5(ite,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function cM(){const e=new CustomEvent(qC);document.dispatchEvent(e)}function k5(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?wA(i,a):i.dispatchEvent(a)}var cte=hd,ute=E5,Sr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},dte="Portal",Uf=w.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=w.useState(!1);Sr(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?C5.createPortal(r.jsx(it.div,{...s,ref:t}),o):null});Uf.displayName=dte;function hte(e,t){return w.useReducer((n,s)=>t[n][s]??n,e)}var ri=e=>{const{present:t,children:n}=e,s=fte(t),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=Jt(s.ref,mte(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};ri.displayName="Presence";function fte(e){const[t,n]=w.useState(),s=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=hte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Hx(s.current);a.current=l==="mounted"?u:"none"},[l]),Sr(()=>{const u=s.current,d=i.current;if(d!==e){const m=a.current,g=Hx(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Sr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Hx(s.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=g=>{g.target===t&&(a.current=Hx(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Hx(e){return(e==null?void 0:e.animationName)||"none"}function mte(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pte=TP[" useInsertionEffect ".trim().toString()]||Sr;function vo({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=gte({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=w.useCallback(d=>{var f;if(l){const m=vte(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function gte({defaultProp:e,onChange:t}){const[n,s]=w.useState(e),i=w.useRef(n),a=w.useRef(t);return pte(()=>{a.current=t},[t]),w.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function vte(e){return typeof e=="function"}var T5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xte="VisuallyHidden",cb=w.forwardRef((e,t)=>r.jsx(it.span,{...e,ref:t,style:{...T5,...e.style}}));cb.displayName=xte;var yte=cb,NA="ToastProvider",[SA,jte,bte]=lb("Toast"),[O5,k6e]=ni("Toast",[bte]),[wte,ub]=O5(NA),D5=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${NA}\`. Expected non-empty \`string\`.`),r.jsx(SA.Provider,{scope:t,children:r.jsx(wte,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};D5.displayName=NA;var M5="ToastViewport",Nte=["F8"],WC="toast.viewportPause",HC="toast.viewportResume",I5=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=Nte,label:i="Notifications ({hotkey})",...a}=e,o=ub(M5,n),l=jte(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Jt(t,f,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const y=N=>{var b;s.length!==0&&s.every(C=>N[C]||N.code===C)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),w.useEffect(()=>{const y=c.current,N=f.current;if(x&&y&&N){const j=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(WC);N.dispatchEvent(A),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(HC);N.dispatchEvent(A),o.isClosePausedRef.current=!1}},C=A=>{!y.contains(A.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",j),y.addEventListener("focusout",C),y.addEventListener("pointermove",j),y.addEventListener("pointerleave",_),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",j),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",j),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:y})=>{const j=l().map(b=>{const C=b.ref.current,_=[C,...$te(C)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?j.reverse():j).flat()},[l]);return w.useEffect(()=>{const y=f.current;if(y){const N=j=>{var _,A,P;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const E=document.activeElement,D=j.shiftKey;if(j.target===y&&D){(_=u.current)==null||_.focus();return}const O=v({tabbingDirection:D?"backwards":"forwards"}),U=O.findIndex(B=>B===E);Y1(O.slice(U+1))?j.preventDefault():D?(A=u.current)==null||A.focus():(P=d.current)==null||P.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,v]),r.jsxs(ute,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&r.jsx(GC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Y1(y)}}),r.jsx(SA.Slot,{scope:n,children:r.jsx(it.ol,{tabIndex:-1,...a,ref:m})}),x&&r.jsx(GC,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Y1(y)}})]})});I5.displayName=M5;var $5="ToastFocusProxy",GC=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=ub($5,n);return r.jsx(cb,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});GC.displayName=$5;var lv="Toast",Ste="toast.swipeStart",Cte="toast.swipeMove",_te="toast.swipeCancel",Pte="toast.swipeEnd",R5=w.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=vo({prop:s,defaultProp:i??!0,onChange:a,caller:lv});return r.jsx(ri,{present:n||l,children:r.jsx(kte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:$s(e.onPause),onResume:$s(e.onResume),onSwipeStart:Ke(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});R5.displayName=lv;var[Ate,Ete]=O5(lv,{onClose(){}}),kte=w.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...x}=e,v=ub(lv,n),[y,N]=w.useState(null),j=Jt(t,B=>N(B)),b=w.useRef(null),C=w.useRef(null),_=i||v.duration,A=w.useRef(0),P=w.useRef(_),E=w.useRef(0),{onToastAdd:D,onToastRemove:I}=v,k=$s(()=>{var ne;(y==null?void 0:y.contains(document.activeElement))&&((ne=v.viewport)==null||ne.focus()),o()}),O=w.useCallback(B=>{!B||B===1/0||(window.clearTimeout(E.current),A.current=new Date().getTime(),E.current=window.setTimeout(k,B))},[k]);w.useEffect(()=>{const B=v.viewport;if(B){const ne=()=>{O(P.current),u==null||u()},Y=()=>{const J=new Date().getTime()-A.current;P.current=P.current-J,window.clearTimeout(E.current),c==null||c()};return B.addEventListener(WC,Y),B.addEventListener(HC,ne),()=>{B.removeEventListener(WC,Y),B.removeEventListener(HC,ne)}}},[v.viewport,_,c,u,O]),w.useEffect(()=>{a&&!v.isClosePausedRef.current&&O(_)},[a,_,v.isClosePausedRef,O]),w.useEffect(()=>(D(),()=>I()),[D,I]);const U=w.useMemo(()=>y?q5(y):null,[y]);return v.viewport?r.jsxs(r.Fragment,{children:[U&&r.jsx(Tte,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),r.jsx(Ate,{scope:n,onClose:k,children:dd.createPortal(r.jsx(SA.ItemSlot,{scope:n,children:r.jsx(cte,{asChild:!0,onEscapeKeyDown:Ke(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(it.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ke(e.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ke(e.onPointerMove,B=>{if(!b.current)return;const ne=B.clientX-b.current.x,Y=B.clientY-b.current.y,J=!!C.current,q=["left","right"].includes(v.swipeDirection),$=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=q?$(0,ne):0,se=q?0:$(0,Y),re=B.pointerType==="touch"?10:2,K={x:le,y:se},ee={originalEvent:B,delta:K};J?(C.current=K,Gx(Cte,f,ee,{discrete:!1})):uM(K,v.swipeDirection,re)?(C.current=K,Gx(Ste,d,ee,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ne)>re||Math.abs(Y)>re)&&(b.current=null)}),onPointerUp:Ke(e.onPointerUp,B=>{const ne=C.current,Y=B.target;if(Y.hasPointerCapture(B.pointerId)&&Y.releasePointerCapture(B.pointerId),C.current=null,b.current=null,ne){const J=B.currentTarget,q={originalEvent:B,delta:ne};uM(ne,v.swipeDirection,v.swipeThreshold)?Gx(Pte,g,q,{discrete:!0}):Gx(_te,m,q,{discrete:!0}),J.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Tte=e=>{const{__scopeToast:t,children:n,...s}=e,i=ub(lv,t),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return Mte(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Uf,{asChild:!0,children:r.jsx(cb,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},Ote="ToastTitle",L5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});L5.displayName=Ote;var Dte="ToastDescription",F5=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});F5.displayName=Dte;var B5="ToastAction",z5=w.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(U5,{altText:n,asChild:!0,children:r.jsx(CA,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${B5}\`. Expected non-empty \`string\`.`),null)});z5.displayName=B5;var V5="ToastClose",CA=w.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=Ete(V5,n);return r.jsx(U5,{asChild:!0,children:r.jsx(it.button,{type:"button",...s,ref:t,onClick:Ke(e.onClick,i.onClose)})})});CA.displayName=V5;var U5=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(it.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function q5(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Ite(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...q5(s))}}),t}function Gx(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?wA(i,a):i.dispatchEvent(a)}var uM=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function Mte(e=()=>{}){const t=$s(e);Sr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function Ite(e){return e.nodeType===e.ELEMENT_NODE}function $te(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Y1(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Rte=D5,W5=I5,H5=R5,G5=L5,K5=F5,Y5=z5,Q5=CA;function X5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=X5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Ot(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=X5(e))&&(s&&(s+=" "),s+=t);return s}const dM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hM=Ot,cv=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return hM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=dM(d)||dM(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,f,m]:u},[]);return hM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J5=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...Fte,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:J5("lucide",i),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(Bte,{ref:a,iconNode:t,className:J5(`lucide-${Lte(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ye("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ye("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Ye("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ye("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ye("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Ye("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ye("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Ye("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=Ye("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Ye("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=Ye("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Ye("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Ye("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=Ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),EA="-",cne=e=>{const t=dne(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(EA);return l[0]===""&&l.length!==1&&l.shift(),r6(l,t)||une(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},r6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?r6(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(EA);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},vM=/^\[(.+)\]$/,une=e=>{if(vM.test(e)){const t=vM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},dne=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return fne(Object.entries(e.classGroups),n).forEach(([a,o])=>{JC(o,s,a,t)}),s},JC=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:xM(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(hne(i)){JC(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{JC(o,xM(t,a),n,s)})})},xM=(e,t)=>{let n=e;return t.split(EA).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},hne=e=>e.isThemeGetter,fne=(e,t)=>t?e.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,mne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},s6="!",pne=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let N=l[y];if(u===0){if(N===i&&(s||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(N==="/"){f=y;continue}}N==="["?u++:N==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(s6),x=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},gne=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},vne=e=>({cache:mne(e.cacheSize),parseClassName:pne(e),...cne(e)}),xne=/\s+/,yne=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(xne);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=s(x?m.substring(0,g):m);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=gne(d).join(":"),N=f?y+s6:y,j=N+v;if(a.includes(j))continue;a.push(j);const b=i(v,x);for(let C=0;C<b.length;++C){const _=b[C];a.push(N+_)}l=u+(l.length>0?" "+l:l)}return l};function jne(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=i6(t))&&(s&&(s+=" "),s+=n);return s}const i6=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=i6(e[s]))&&(n&&(n+=" "),n+=t);return n};function bne(e,...t){let n,s,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=vne(u),s=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=yne(c,n);return i(c,d),d}return function(){return a(jne.apply(null,arguments))}}const Fn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},a6=/^\[(?:([a-z-]+):)?(.+)\]$/i,wne=/^\d+\/\d+$/,Nne=new Set(["px","full","screen"]),Sne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_ne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ane=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=e=>kh(e)||Nne.has(e)||wne.test(e),Dl=e=>Hf(e,"length",$ne),kh=e=>!!e&&!Number.isNaN(Number(e)),X1=e=>Hf(e,"number",kh),Km=e=>!!e&&Number.isInteger(Number(e)),Ene=e=>e.endsWith("%")&&kh(e.slice(0,-1)),zt=e=>a6.test(e),Ml=e=>Sne.test(e),kne=new Set(["length","size","percentage"]),Tne=e=>Hf(e,kne,o6),One=e=>Hf(e,"position",o6),Dne=new Set(["image","url"]),Mne=e=>Hf(e,Dne,Lne),Ine=e=>Hf(e,"",Rne),Ym=()=>!0,Hf=(e,t,n)=>{const s=a6.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},$ne=e=>Cne.test(e)&&!_ne.test(e),o6=()=>!1,Rne=e=>Pne.test(e),Lne=e=>Ane.test(e),Fne=()=>{const e=Fn("colors"),t=Fn("spacing"),n=Fn("blur"),s=Fn("brightness"),i=Fn("borderColor"),a=Fn("borderRadius"),o=Fn("borderSpacing"),l=Fn("borderWidth"),c=Fn("contrast"),u=Fn("grayscale"),d=Fn("hueRotate"),f=Fn("invert"),m=Fn("gap"),g=Fn("gradientColorStops"),x=Fn("gradientColorStopPositions"),v=Fn("inset"),y=Fn("margin"),N=Fn("opacity"),j=Fn("padding"),b=Fn("saturate"),C=Fn("scale"),_=Fn("sepia"),A=Fn("skew"),P=Fn("space"),E=Fn("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",zt,t],O=()=>[zt,t],U=()=>["",Io,Dl],B=()=>["auto",kh,zt],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",zt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[kh,zt];return{cacheSize:500,separator:":",theme:{colors:[Ym],spacing:[Io,Dl],blur:["none","",Ml,zt],brightness:se(),borderColor:[e],borderRadius:["none","","full",Ml,zt],borderSpacing:O(),borderWidth:U(),contrast:se(),grayscale:$(),hueRotate:se(),invert:$(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Ene,Dl],inset:k(),margin:k(),opacity:se(),padding:O(),saturate:se(),scale:se(),sepia:$(),skew:se(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",zt]}],container:["container"],columns:[{columns:[Ml]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),zt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Km,zt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Km,zt]}],"grid-cols":[{"grid-cols":[Ym]}],"col-start-end":[{col:["auto",{span:["full",Km,zt]},zt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ym]}],"row-start-end":[{row:["auto",{span:[Km,zt]},zt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zt,t]}],"min-w":[{"min-w":[zt,t,"min","max","fit"]}],"max-w":[{"max-w":[zt,t,"none","full","min","max","fit","prose",{screen:[Ml]},Ml]}],h:[{h:[zt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ml,Dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",X1]}],"font-family":[{font:[Ym]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zt]}],"line-clamp":[{"line-clamp":["none",kh,X1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Io,zt]}],"list-image":[{"list-image":["none",zt]}],"list-style-type":[{list:["none","disc","decimal",zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Io,Dl]}],"underline-offset":[{"underline-offset":["auto",Io,zt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),One]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Io,zt]}],"outline-w":[{outline:[Io,Dl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Io,Dl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ml,Ine]}],"shadow-color":[{shadow:[Ym]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ml,zt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zt]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",zt]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Km,zt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Io,Dl,X1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bne=bne(Fne);function et(...e){return Bne(Ot(e))}function af(e){if(!e)return"ge inconnu";const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return"Date invalide";let s=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();if((i<0||i===0&&n.getDate()<t.getDate())&&(s--,i+=12),s===0){if(i===0){const a=Math.floor((n.getTime()-t.getTime())/864e5);return`${a} jour${a>1?"s":""}`}return`${i} mois`}else return i===0?`${s} an${s>1?"s":""}`:`${s} an${s>1?"s":""} et ${i} mois`}function ho(e){if(!e)return"Non renseign";const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}const zne=Rte,l6=w.forwardRef(({className:e,...t},n)=>r.jsx(W5,{ref:n,className:et("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l6.displayName=W5.displayName;const Vne=cv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c6=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(H5,{ref:s,className:et(Vne({variant:t}),e),...n}));c6.displayName=H5.displayName;const Une=w.forwardRef(({className:e,...t},n)=>r.jsx(Y5,{ref:n,className:et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Une.displayName=Y5.displayName;const u6=w.forwardRef(({className:e,...t},n)=>r.jsx(Q5,{ref:n,className:et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(fb,{className:"h-4 w-4"})}));u6.displayName=Q5.displayName;const d6=w.forwardRef(({className:e,...t},n)=>r.jsx(G5,{ref:n,className:et("text-sm font-semibold",e),...t}));d6.displayName=G5.displayName;const h6=w.forwardRef(({className:e,...t},n)=>r.jsx(K5,{ref:n,className:et("text-sm opacity-90",e),...t}));h6.displayName=K5.displayName;function qne(){const{toasts:e}=It();return r.jsxs(zne,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(c6,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(d6,{children:n}),s&&r.jsx(h6,{children:s})]}),i,r.jsx(u6,{})]},t)}),r.jsx(l6,{})]})}var yM=["light","dark"],Wne="(prefers-color-scheme: dark)",Hne=w.createContext(void 0),Gne={setTheme:e=>{},themes:[]},Kne=()=>{var e;return(e=w.useContext(Hne))!=null?e:Gne};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?yM.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,v=!1,y=!0)=>{let N=o?o[x]:x,j=v?x+"|| ''":`'${N}'`,b="";return i&&y&&!v&&yM.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?v||N?b+=`c.add(${j})`:b+="null":N&&(b+=`d[s](n,${j})`),b},g=e?`!function(){${d}${m(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Wne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var Yne=e=>{switch(e){case"success":return Jne;case"info":return ere;case"warning":return Zne;case"error":return tre;default:return null}},Qne=Array(12).fill(0),Xne=({visible:e,className:t})=>W.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},W.createElement("div",{className:"sonner-spinner"},Qne.map((n,s)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Jne=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zne=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ere=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tre=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nre=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rre=()=>{let[e,t]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ZC=1,sre=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ZC++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0,a,o=s.then(async c=>{if(a=["resolve",c],W.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(are(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ZC++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ks=new sre,ire=(e,t)=>{let n=(t==null?void 0:t.id)||ZC++;return Ks.addToast({title:e,...t,id:n}),n},are=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ore=ire,lre=()=>Ks.toasts,cre=()=>Ks.getActiveToasts();Object.assign(ore,{success:Ks.success,info:Ks.info,warning:Ks.warning,error:Ks.error,custom:Ks.custom,message:Ks.message,promise:Ks.promise,dismiss:Ks.dismiss,loading:Ks.loading},{getHistory:lre,getToasts:cre});function ure(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}ure(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kx(e){return e.label!==void 0}var dre=3,hre="32px",fre="16px",jM=4e3,mre=356,pre=14,gre=20,vre=200;function ha(...e){return e.filter(Boolean).join(" ")}function xre(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var yre=e=>{var t,n,s,i,a,o,l,c,u,d,f;let{invert:m,toast:g,unstyled:x,interacting:v,setHeights:y,visibleToasts:N,heights:j,index:b,toasts:C,expanded:_,removeToast:A,defaultRichColors:P,closeButton:E,style:D,cancelButtonStyle:I,actionButtonStyle:k,className:O="",descriptionClassName:U="",duration:B,position:ne,gap:Y,loadingIcon:J,expandByDefault:q,classNames:$,icons:le,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:re}=e,[K,ee]=W.useState(null),[ge,xe]=W.useState(null),[be,F]=W.useState(!1),[X,te]=W.useState(!1),[G,M]=W.useState(!1),[ye,Ne]=W.useState(!1),[fe,Pe]=W.useState(!1),[Ze,at]=W.useState(0),[dt,Se]=W.useState(0),qe=W.useRef(g.duration||B||jM),We=W.useRef(null),Ft=W.useRef(null),xn=b===0,_t=b+1<=N,fn=g.type,dr=g.dismissible!==!1,Yn=g.className||"",ys=g.descriptionClassName||"",Ce=W.useMemo(()=>j.findIndex(Ct=>Ct.toastId===g.id)||0,[j,g.id]),Wt=W.useMemo(()=>{var Ct;return(Ct=g.closeButton)!=null?Ct:E},[g.closeButton,E]),nt=W.useMemo(()=>g.duration||B||jM,[g.duration,B]),pt=W.useRef(0),sn=W.useRef(0),os=W.useRef(0),Xr=W.useRef(null),[Bs,bl]=ne.split("-"),ce=W.useMemo(()=>j.reduce((Ct,on,yn)=>yn>=Ce?Ct:Ct+on.height,0),[j,Ce]),He=rre(),Be=g.invert||m,Tn=fn==="loading";sn.current=W.useMemo(()=>Ce*Y+ce,[Ce,ce]),W.useEffect(()=>{qe.current=nt},[nt]),W.useEffect(()=>{F(!0)},[]),W.useEffect(()=>{let Ct=Ft.current;if(Ct){let on=Ct.getBoundingClientRect().height;return Se(on),y(yn=>[{toastId:g.id,height:on,position:g.position},...yn]),()=>y(yn=>yn.filter(js=>js.toastId!==g.id))}},[y,g.id]),W.useLayoutEffect(()=>{if(!be)return;let Ct=Ft.current,on=Ct.style.height;Ct.style.height="auto";let yn=Ct.getBoundingClientRect().height;Ct.style.height=on,Se(yn),y(js=>js.find(bs=>bs.toastId===g.id)?js.map(bs=>bs.toastId===g.id?{...bs,height:yn}:bs):[{toastId:g.id,height:yn,position:g.position},...js])},[be,g.title,g.description,y,g.id]);let Qn=W.useCallback(()=>{te(!0),at(sn.current),y(Ct=>Ct.filter(on=>on.toastId!==g.id)),setTimeout(()=>{A(g)},vre)},[g,A,y,sn]);W.useEffect(()=>{if(g.promise&&fn==="loading"||g.duration===1/0||g.type==="loading")return;let Ct;return _||v||re&&He?(()=>{if(os.current<pt.current){let on=new Date().getTime()-pt.current;qe.current=qe.current-on}os.current=new Date().getTime()})():qe.current!==1/0&&(pt.current=new Date().getTime(),Ct=setTimeout(()=>{var on;(on=g.onAutoClose)==null||on.call(g,g),Qn()},qe.current)),()=>clearTimeout(Ct)},[_,v,g,fn,re,He,Qn]),W.useEffect(()=>{g.delete&&Qn()},[Qn,g.delete]);function ia(){var Ct,on,yn;return le!=null&&le.loading?W.createElement("div",{className:ha($==null?void 0:$.loader,(Ct=g==null?void 0:g.classNames)==null?void 0:Ct.loader,"sonner-loader"),"data-visible":fn==="loading"},le.loading):J?W.createElement("div",{className:ha($==null?void 0:$.loader,(on=g==null?void 0:g.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":fn==="loading"},J):W.createElement(Xne,{className:ha($==null?void 0:$.loader,(yn=g==null?void 0:g.classNames)==null?void 0:yn.loader),visible:fn==="loading"})}return W.createElement("li",{tabIndex:0,ref:Ft,className:ha(O,Yn,$==null?void 0:$.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[fn],(n=g==null?void 0:g.classNames)==null?void 0:n[fn]),"data-sonner-toast":"","data-rich-colors":(s=g.richColors)!=null?s:P,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":be,"data-promise":!!g.promise,"data-swiped":fe,"data-removed":X,"data-visible":_t,"data-y-position":Bs,"data-x-position":bl,"data-index":b,"data-front":xn,"data-swiping":G,"data-dismissible":dr,"data-type":fn,"data-invert":Be,"data-swipe-out":ye,"data-swipe-direction":ge,"data-expanded":!!(_||q&&be),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${X?Ze:sn.current}px`,"--initial-height":q?"auto":`${dt}px`,...D,...g.style},onDragEnd:()=>{M(!1),ee(null),Xr.current=null},onPointerDown:Ct=>{Tn||!dr||(We.current=new Date,at(sn.current),Ct.target.setPointerCapture(Ct.pointerId),Ct.target.tagName!=="BUTTON"&&(M(!0),Xr.current={x:Ct.clientX,y:Ct.clientY}))},onPointerUp:()=>{var Ct,on,yn,js;if(ye||!dr)return;Xr.current=null;let bs=Number(((Ct=Ft.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ei=Number(((on=Ft.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ai=new Date().getTime()-((yn=We.current)==null?void 0:yn.getTime()),ws=K==="x"?bs:Ei,zs=Math.abs(ws)/ai;if(Math.abs(ws)>=gre||zs>.11){at(sn.current),(js=g.onDismiss)==null||js.call(g,g),xe(K==="x"?bs>0?"right":"left":Ei>0?"down":"up"),Qn(),Ne(!0),Pe(!1);return}M(!1),ee(null)},onPointerMove:Ct=>{var on,yn,js,bs;if(!Xr.current||!dr||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;let Ei=Ct.clientY-Xr.current.y,ai=Ct.clientX-Xr.current.x,ws=(yn=e.swipeDirections)!=null?yn:xre(ne);!K&&(Math.abs(ai)>1||Math.abs(Ei)>1)&&ee(Math.abs(ai)>Math.abs(Ei)?"x":"y");let zs={x:0,y:0};K==="y"?(ws.includes("top")||ws.includes("bottom"))&&(ws.includes("top")&&Ei<0||ws.includes("bottom")&&Ei>0)&&(zs.y=Ei):K==="x"&&(ws.includes("left")||ws.includes("right"))&&(ws.includes("left")&&ai<0||ws.includes("right")&&ai>0)&&(zs.x=ai),(Math.abs(zs.x)>0||Math.abs(zs.y)>0)&&Pe(!0),(js=Ft.current)==null||js.style.setProperty("--swipe-amount-x",`${zs.x}px`),(bs=Ft.current)==null||bs.style.setProperty("--swipe-amount-y",`${zs.y}px`)}},Wt&&!g.jsx?W.createElement("button",{"aria-label":se,"data-disabled":Tn,"data-close-button":!0,onClick:Tn||!dr?()=>{}:()=>{var Ct;Qn(),(Ct=g.onDismiss)==null||Ct.call(g,g)},className:ha($==null?void 0:$.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},(a=le==null?void 0:le.close)!=null?a:nre):null,g.jsx||w.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:W.createElement(W.Fragment,null,fn||g.icon||g.promise?W.createElement("div",{"data-icon":"",className:ha($==null?void 0:$.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ia():null,g.type!=="loading"?g.icon||(le==null?void 0:le[fn])||Yne(fn):null):null,W.createElement("div",{"data-content":"",className:ha($==null?void 0:$.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:ha($==null?void 0:$.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:ha(U,ys,$==null?void 0:$.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),w.isValidElement(g.cancel)?g.cancel:g.cancel&&Kx(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||I,onClick:Ct=>{var on,yn;Kx(g.cancel)&&dr&&((yn=(on=g.cancel).onClick)==null||yn.call(on,Ct),Qn())},className:ha($==null?void 0:$.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,w.isValidElement(g.action)?g.action:g.action&&Kx(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:Ct=>{var on,yn;Kx(g.action)&&((yn=(on=g.action).onClick)==null||yn.call(on,Ct),!Ct.defaultPrevented&&Qn())},className:ha($==null?void 0:$.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function bM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function jre(e,t){let n={};return[e,t].forEach((s,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?fre:hre;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var bre=w.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:x=dre,toastOptions:v,dir:y=bM(),gap:N=pre,loadingIcon:j,icons:b,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:_}=e,[A,P]=W.useState([]),E=W.useMemo(()=>Array.from(new Set([s].concat(A.filter(re=>re.position).map(re=>re.position)))),[A,s]),[D,I]=W.useState([]),[k,O]=W.useState(!1),[U,B]=W.useState(!1),[ne,Y]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=W.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=W.useRef(null),le=W.useRef(!1),se=W.useCallback(re=>{P(K=>{var ee;return(ee=K.find(ge=>ge.id===re.id))!=null&&ee.delete||Ks.dismiss(re.id),K.filter(({id:ge})=>ge!==re.id)})},[]);return W.useEffect(()=>Ks.subscribe(re=>{if(re.dismiss){P(K=>K.map(ee=>ee.id===re.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{C5.flushSync(()=>{P(K=>{let ee=K.findIndex(ge=>ge.id===re.id);return ee!==-1?[...K.slice(0,ee),{...K[ee],...re},...K.slice(ee+1)]:[re,...K]})})})}),[]),W.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:K})=>{Y(K?"dark":"light")})}catch{re.addListener(({matches:ee})=>{try{Y(ee?"dark":"light")}catch(ge){console.error(ge)}})}},[d]),W.useEffect(()=>{A.length<=1&&O(!1)},[A]),W.useEffect(()=>{let re=K=>{var ee,ge;i.every(xe=>K[xe]||K.code===xe)&&(O(!0),(ee=J.current)==null||ee.focus()),K.code==="Escape"&&(document.activeElement===J.current||(ge=J.current)!=null&&ge.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[i]),W.useEffect(()=>{if(J.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,le.current=!1)}},[J.current]),W.createElement("section",{ref:t,"aria-label":`${C} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((re,K)=>{var ee;let[ge,xe]=re.split("-");return A.length?W.createElement("ol",{key:re,dir:y==="auto"?bM():y,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":ge,"data-lifted":k&&A.length>1&&!a,"data-x-position":xe,style:{"--front-toast-height":`${((ee=D[0])==null?void 0:ee.height)||0}px`,"--width":`${mre}px`,"--gap":`${N}px`,...g,...jre(c,u)},onBlur:be=>{le.current&&!be.currentTarget.contains(be.relatedTarget)&&(le.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||le.current||(le.current=!0,$.current=be.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},A.filter(be=>!be.position&&K===0||be.position===re).map((be,F)=>{var X,te;return W.createElement(yre,{key:be.id,icons:b,index:F,toast:be,defaultRichColors:f,duration:(X=v==null?void 0:v.duration)!=null?X:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(te=v==null?void 0:v.closeButton)!=null?te:o,interacting:U,position:re,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:se,toasts:A.filter(G=>G.position==be.position),heights:D.filter(G=>G.position==be.position),setHeights:I,expandByDefault:a,gap:N,loadingIcon:j,expanded:k,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const wre=({...e})=>{const{theme:t="system"}=Kne();return r.jsx(bre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Nre=TP[" useId ".trim().toString()]||(()=>{}),Sre=0;function ss(e){const[t,n]=w.useState(Nre());return Sr(()=>{n(s=>s??String(Sre++))},[e]),t?`radix-${t}`:""}const Cre=["top","right","bottom","left"],Cc=Math.min,vi=Math.max,b0=Math.round,Yx=Math.floor,fo=e=>({x:e,y:e}),_re={left:"right",right:"left",bottom:"top",top:"bottom"},Pre={start:"end",end:"start"};function e2(e,t,n){return vi(e,Cc(t,n))}function cl(e,t){return typeof e=="function"?e(t):e}function ul(e){return e.split("-")[0]}function Gf(e){return e.split("-")[1]}function kA(e){return e==="x"?"y":"x"}function TA(e){return e==="y"?"height":"width"}const Are=new Set(["top","bottom"]);function io(e){return Are.has(ul(e))?"y":"x"}function OA(e){return kA(io(e))}function Ere(e,t,n){n===void 0&&(n=!1);const s=Gf(e),i=OA(e),a=TA(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=w0(o)),[o,w0(o)]}function kre(e){const t=w0(e);return[t2(e),t,t2(t)]}function t2(e){return e.replace(/start|end/g,t=>Pre[t])}const wM=["left","right"],NM=["right","left"],Tre=["top","bottom"],Ore=["bottom","top"];function Dre(e,t,n){switch(e){case"top":case"bottom":return n?t?NM:wM:t?wM:NM;case"left":case"right":return t?Tre:Ore;default:return[]}}function Mre(e,t,n,s){const i=Gf(e);let a=Dre(ul(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(t2)))),a}function w0(e){return e.replace(/left|right|bottom|top/g,t=>_re[t])}function Ire(e){return{top:0,right:0,bottom:0,left:0,...e}}function f6(e){return typeof e!="number"?Ire(e):{top:e,right:e,bottom:e,left:e}}function N0(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function SM(e,t,n){let{reference:s,floating:i}=e;const a=io(t),o=OA(t),l=TA(o),c=ul(t),u=a==="y",d=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-i.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-i.width,y:f};break;default:g={x:s.x,y:s.y}}switch(Gf(t)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const $re=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=SM(u,s,c),m=s,g={},x=0;for(let v=0;v<l.length;v++){const{name:y,fn:N}=l[v],{x:j,y:b,data:C,reset:_}=await N({x:d,y:f,initialPlacement:s,placement:m,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=j??d,f=b??f,g={...g,[y]:{...g[y],...C}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:f}=SM(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function og(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=cl(t,e),x=f6(g),y=l[m?f==="floating"?"reference":"floating":f],N=N0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),C=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=N0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(N.top-_.top+x.top)/C.y,bottom:(_.bottom-N.bottom+x.bottom)/C.y,left:(N.left-_.left+x.left)/C.x,right:(_.right-N.right+x.right)/C.x}}const Rre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=cl(e,t)||{};if(u==null)return{};const f=f6(d),m={x:n,y:s},g=OA(i),x=TA(g),v=await o.getDimensions(u),y=g==="y",N=y?"top":"left",j=y?"bottom":"right",b=y?"clientHeight":"clientWidth",C=a.reference[x]+a.reference[g]-m[g]-a.floating[x],_=m[g]-a.reference[g],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=A?A[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(A)))&&(P=l.floating[b]||a.floating[x]);const E=C/2-_/2,D=P/2-v[x]/2-1,I=Cc(f[N],D),k=Cc(f[j],D),O=I,U=P-v[x]-k,B=P/2-v[x]/2+E,ne=e2(O,B,U),Y=!c.arrow&&Gf(i)!=null&&B!==ne&&a.reference[x]/2-(B<O?I:k)-v[x]/2<0,J=Y?B<O?B-O:B-U:0;return{[g]:m[g]+J,data:{[g]:ne,centerOffset:B-ne-J,...Y&&{alignmentOffset:J}},reset:Y}}}),Lre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=cl(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=ul(i),j=io(l),b=ul(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(b||!v?[w0(l)]:kre(l)),A=x!=="none";!m&&A&&_.push(...Mre(l,v,x,C));const P=[l,..._],E=await og(t,y),D=[];let I=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&D.push(E[N]),f){const B=Ere(i,o,C);D.push(E[B[0]],E[B[1]])}if(I=[...I,{placement:i,overflows:D}],!D.every(B=>B<=0)){var k,O;const B=(((k=a.flip)==null?void 0:k.index)||0)+1,ne=P[B];if(ne&&(!(f==="alignment"?j!==io(ne):!1)||I.every(q=>q.overflows[0]>0&&io(q.placement)===j)))return{data:{index:B,overflows:I},reset:{placement:ne}};let Y=(O=I.filter(J=>J.overflows[0]<=0).sort((J,q)=>J.overflows[1]-q.overflows[1])[0])==null?void 0:O.placement;if(!Y)switch(g){case"bestFit":{var U;const J=(U=I.filter(q=>{if(A){const $=io(q.placement);return $===j||$==="y"}return!0}).map(q=>[q.placement,q.overflows.filter($=>$>0).reduce(($,le)=>$+le,0)]).sort((q,$)=>q[1]-$[1])[0])==null?void 0:U[0];J&&(Y=J);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function CM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _M(e){return Cre.some(t=>e[t]>=0)}const Fre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=cl(e,t);switch(s){case"referenceHidden":{const a=await og(t,{...i,elementContext:"reference"}),o=CM(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_M(o)}}}case"escaped":{const a=await og(t,{...i,altBoundary:!0}),o=CM(a,n.floating);return{data:{escapedOffsets:o,escaped:_M(o)}}}default:return{}}}}},m6=new Set(["left","top"]);async function Bre(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=ul(n),l=Gf(n),c=io(n)==="y",u=m6.has(o)?-1:1,d=a&&c?-1:1,f=cl(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const zre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Bre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Vre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:j}=y;return{x:N,y:j}}},...c}=cl(e,t),u={x:n,y:s},d=await og(t,c),f=io(ul(i)),m=kA(f);let g=u[m],x=u[f];if(a){const y=m==="y"?"top":"left",N=m==="y"?"bottom":"right",j=g+d[y],b=g-d[N];g=e2(j,g,b)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",j=x+d[y],b=x-d[N];x=e2(j,x,b)}const v=l.fn({...t,[m]:g,[f]:x});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[m]:a,[f]:o}}}}}},Ure=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=cl(e,t),d={x:n,y:s},f=io(i),m=kA(f);let g=d[m],x=d[f];const v=cl(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",C=a.reference[m]-a.floating[b]+y.mainAxis,_=a.reference[m]+a.reference[b]-y.mainAxis;g<C?g=C:g>_&&(g=_)}if(u){var N,j;const b=m==="y"?"width":"height",C=m6.has(ul(i)),_=a.reference[f]-a.floating[b]+(C&&((N=o.offset)==null?void 0:N[f])||0)+(C?0:y.crossAxis),A=a.reference[f]+a.reference[b]+(C?0:((j=o.offset)==null?void 0:j[f])||0)-(C?y.crossAxis:0);x<_?x=_:x>A&&(x=A)}return{[m]:g,[f]:x}}}},qre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=cl(e,t),d=await og(t,u),f=ul(i),m=Gf(i),g=io(i)==="y",{width:x,height:v}=a.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=m==="end"?"top":"bottom");const j=v-d.top-d.bottom,b=x-d.left-d.right,C=Cc(v-d[y],j),_=Cc(x-d[N],b),A=!t.middlewareData.shift;let P=C,E=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=j),A&&!m){const I=vi(d.left,0),k=vi(d.right,0),O=vi(d.top,0),U=vi(d.bottom,0);g?E=x-2*(I!==0||k!==0?I+k:vi(d.left,d.right)):P=v-2*(O!==0||U!==0?O+U:vi(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:P});const D=await o.getDimensions(l.floating);return x!==D.width||v!==D.height?{reset:{rects:!0}}:{}}}};function mb(){return typeof window<"u"}function Kf(e){return p6(e)?(e.nodeName||"").toLowerCase():"#document"}function Ni(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jo(e){var t;return(t=(p6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function p6(e){return mb()?e instanceof Node||e instanceof Ni(e).Node:!1}function $a(e){return mb()?e instanceof Element||e instanceof Ni(e).Element:!1}function xo(e){return mb()?e instanceof HTMLElement||e instanceof Ni(e).HTMLElement:!1}function PM(e){return!mb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ni(e).ShadowRoot}const Wre=new Set(["inline","contents"]);function uv(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Ra(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Wre.has(i)}const Hre=new Set(["table","td","th"]);function Gre(e){return Hre.has(Kf(e))}const Kre=[":popover-open",":modal"];function pb(e){return Kre.some(t=>{try{return e.matches(t)}catch{return!1}})}const Yre=["transform","translate","scale","rotate","perspective"],Qre=["transform","translate","scale","rotate","perspective","filter"],Xre=["paint","layout","strict","content"];function DA(e){const t=MA(),n=$a(e)?Ra(e):e;return Yre.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Qre.some(s=>(n.willChange||"").includes(s))||Xre.some(s=>(n.contain||"").includes(s))}function Jre(e){let t=_c(e);for(;xo(t)&&!of(t);){if(DA(t))return t;if(pb(t))return null;t=_c(t)}return null}function MA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Zre=new Set(["html","body","#document"]);function of(e){return Zre.has(Kf(e))}function Ra(e){return Ni(e).getComputedStyle(e)}function gb(e){return $a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _c(e){if(Kf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PM(e)&&e.host||jo(e);return PM(t)?t.host:t}function g6(e){const t=_c(e);return of(t)?e.ownerDocument?e.ownerDocument.body:e.body:xo(t)&&uv(t)?t:g6(t)}function lg(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=g6(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=Ni(i);if(a){const l=n2(o);return t.concat(o,o.visualViewport||[],uv(i)?i:[],l&&n?lg(l):[])}return t.concat(i,lg(i,[],n))}function n2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function v6(e){const t=Ra(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=xo(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=b0(n)!==a||b0(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function IA(e){return $a(e)?e:e.contextElement}function Th(e){const t=IA(e);if(!xo(t))return fo(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=v6(t);let o=(a?b0(n.width):n.width)/s,l=(a?b0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ese=fo(0);function x6(e){const t=Ni(e);return!MA()||!t.visualViewport?ese:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tse(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ni(e)?!1:t}function Gu(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=IA(e);let o=fo(1);t&&(s?$a(s)&&(o=Th(s)):o=Th(e));const l=tse(a,n,s)?x6(a):fo(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=Ni(a),g=s&&$a(s)?Ni(s):s;let x=m,v=n2(x);for(;v&&s&&g!==x;){const y=Th(v),N=v.getBoundingClientRect(),j=Ra(v),b=N.left+(v.clientLeft+parseFloat(j.paddingLeft))*y.x,C=N.top+(v.clientTop+parseFloat(j.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=C,x=Ni(v),v=n2(x)}}return N0({width:d,height:f,x:c,y:u})}function $A(e,t){const n=gb(e).scrollLeft;return t?t.left+n:Gu(jo(e)).left+n}function y6(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:$A(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function nse(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=jo(s),l=t?pb(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=fo(1);const d=fo(0),f=xo(s);if((f||!f&&!a)&&((Kf(s)!=="body"||uv(o))&&(c=gb(s)),xo(s))){const g=Gu(s);u=Th(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=o&&!f&&!a?y6(o,c,!0):fo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function rse(e){return Array.from(e.getClientRects())}function sse(e){const t=jo(e),n=gb(e),s=e.ownerDocument.body,i=vi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=vi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+$A(e);const l=-n.scrollTop;return Ra(s).direction==="rtl"&&(o+=vi(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function ise(e,t){const n=Ni(e),s=jo(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=MA();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const ase=new Set(["absolute","fixed"]);function ose(e,t){const n=Gu(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=xo(e)?Th(e):fo(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function AM(e,t,n){let s;if(t==="viewport")s=ise(e,n);else if(t==="document")s=sse(jo(e));else if($a(t))s=ose(t,n);else{const i=x6(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return N0(s)}function j6(e,t){const n=_c(e);return n===t||!$a(n)||of(n)?!1:Ra(n).position==="fixed"||j6(n,t)}function lse(e,t){const n=t.get(e);if(n)return n;let s=lg(e,[],!1).filter(l=>$a(l)&&Kf(l)!=="body"),i=null;const a=Ra(e).position==="fixed";let o=a?_c(e):e;for(;$a(o)&&!of(o);){const l=Ra(o),c=DA(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&ase.has(i.position)||uv(o)&&!c&&j6(e,o))?s=s.filter(d=>d!==o):i=l,o=_c(o)}return t.set(e,s),s}function cse(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?pb(t)?[]:lse(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const f=AM(t,d,i);return u.top=vi(f.top,u.top),u.right=Cc(f.right,u.right),u.bottom=Cc(f.bottom,u.bottom),u.left=vi(f.left,u.left),u},AM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function use(e){const{width:t,height:n}=v6(e);return{width:t,height:n}}function dse(e,t,n){const s=xo(t),i=jo(t),a=n==="fixed",o=Gu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=fo(0);function u(){c.x=$A(i)}if(s||!s&&!a)if((Kf(t)!=="body"||uv(i))&&(l=gb(t)),s){const g=Gu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&u();a&&!s&&i&&u();const d=i&&!s&&!a?y6(i,l):fo(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function J1(e){return Ra(e).position==="static"}function EM(e,t){if(!xo(e)||Ra(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jo(e)===n&&(n=n.ownerDocument.body),n}function b6(e,t){const n=Ni(e);if(pb(e))return n;if(!xo(e)){let i=_c(e);for(;i&&!of(i);){if($a(i)&&!J1(i))return i;i=_c(i)}return n}let s=EM(e,t);for(;s&&Gre(s)&&J1(s);)s=EM(s,t);return s&&of(s)&&J1(s)&&!DA(s)?n:s||Jre(e)||n}const hse=async function(e){const t=this.getOffsetParent||b6,n=this.getDimensions,s=await n(e.floating);return{reference:dse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function fse(e){return Ra(e).direction==="rtl"}const mse={convertOffsetParentRelativeRectToViewportRelativeRect:nse,getDocumentElement:jo,getClippingRect:cse,getOffsetParent:b6,getElementRects:hse,getClientRects:rse,getDimensions:use,getScale:Th,isElement:$a,isRTL:fse};function w6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function pse(e,t){let n=null,s;const i=jo(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const x=Yx(f),v=Yx(i.clientWidth-(d+m)),y=Yx(i.clientHeight-(f+g)),N=Yx(d),b={rootMargin:-x+"px "+-v+"px "+-y+"px "+-N+"px",threshold:vi(0,Cc(1,c))||1};let C=!0;function _(A){const P=A[0].intersectionRatio;if(P!==c){if(!C)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!w6(u,e.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(_,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return o(!0),a}function gse(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=IA(e),d=i||a?[...u?lg(u):[],...lg(t)]:[];d.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=u&&l?pse(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(N=>{let[j]=N;j&&j.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let x,v=c?Gu(e):null;c&&y();function y(){const N=Gu(e);v&&!w6(v,N)&&n(),v=N,x=requestAnimationFrame(y)}return n(),()=>{var N;d.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),f==null||f(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const vse=zre,xse=Vre,yse=Lre,jse=qre,bse=Fre,kM=Rre,wse=Ure,Nse=(e,t,n)=>{const s=new Map,i={platform:mse,...n},a={...i.platform,_c:s};return $re(e,t,{...i,platform:a})};var Sse=typeof document<"u",Cse=function(){},Uy=Sse?w.useLayoutEffect:Cse;function S0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!S0(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!S0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function N6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TM(e,t){const n=N6(e);return Math.round(t*n)/n}function Z1(e){const t=w.useRef(e);return Uy(()=>{t.current=e}),t}function _se(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=w.useState(s);S0(m,s)||g(s);const[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useCallback(q=>{q!==A.current&&(A.current=q,v(q))},[]),b=w.useCallback(q=>{q!==P.current&&(P.current=q,N(q))},[]),C=a||x,_=o||y,A=w.useRef(null),P=w.useRef(null),E=w.useRef(d),D=c!=null,I=Z1(c),k=Z1(i),O=Z1(u),U=w.useCallback(()=>{if(!A.current||!P.current)return;const q={placement:t,strategy:n,middleware:m};k.current&&(q.platform=k.current),Nse(A.current,P.current,q).then($=>{const le={...$,isPositioned:O.current!==!1};B.current&&!S0(E.current,le)&&(E.current=le,dd.flushSync(()=>{f(le)}))})},[m,t,n,k,O]);Uy(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const B=w.useRef(!1);Uy(()=>(B.current=!0,()=>{B.current=!1}),[]),Uy(()=>{if(C&&(A.current=C),_&&(P.current=_),C&&_){if(I.current)return I.current(C,_,U);U()}},[C,_,U,I,D]);const ne=w.useMemo(()=>({reference:A,floating:P,setReference:j,setFloating:b}),[j,b]),Y=w.useMemo(()=>({reference:C,floating:_}),[C,_]),J=w.useMemo(()=>{const q={position:n,left:0,top:0};if(!Y.floating)return q;const $=TM(Y.floating,d.x),le=TM(Y.floating,d.y);return l?{...q,transform:"translate("+$+"px, "+le+"px)",...N6(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:le}},[n,l,Y.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:U,refs:ne,elements:Y,floatingStyles:J}),[d,U,ne,Y,J])}const Pse=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?kM({element:s.current,padding:i}).fn(n):{}:s?kM({element:s,padding:i}).fn(n):{}}}},Ase=(e,t)=>({...vse(e),options:[e,t]}),Ese=(e,t)=>({...xse(e),options:[e,t]}),kse=(e,t)=>({...wse(e),options:[e,t]}),Tse=(e,t)=>({...yse(e),options:[e,t]}),Ose=(e,t)=>({...jse(e),options:[e,t]}),Dse=(e,t)=>({...bse(e),options:[e,t]}),Mse=(e,t)=>({...Pse(e),options:[e,t]});var Ise="Arrow",S6=w.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(it.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});S6.displayName=Ise;var $se=S6;function RA(e){const[t,n]=w.useState(void 0);return Sr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var LA="Popper",[C6,Oc]=ni(LA),[Rse,_6]=C6(LA),P6=e=>{const{__scopePopper:t,children:n}=e,[s,i]=w.useState(null);return r.jsx(Rse,{scope:t,anchor:s,onAnchorChange:i,children:n})};P6.displayName=LA;var A6="PopperAnchor",E6=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=_6(A6,n),o=w.useRef(null),l=Jt(t,o);return w.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(it.div,{...i,ref:l})});E6.displayName=A6;var FA="PopperContent",[Lse,Fse]=C6(FA),k6=w.forwardRef((e,t)=>{var be,F,X,te,G,M;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,y=_6(FA,n),[N,j]=w.useState(null),b=Jt(t,ye=>j(ye)),[C,_]=w.useState(null),A=RA(C),P=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,D=s+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,U={padding:I,boundary:k.filter(zse),altBoundary:O},{refs:B,floatingStyles:ne,placement:Y,isPositioned:J,middlewareData:q}=_se({strategy:"fixed",placement:D,whileElementsMounted:(...ye)=>gse(...ye,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[Ase({mainAxis:i+E,alignmentAxis:o}),c&&Ese({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?kse():void 0,...U}),c&&Tse({...U}),Ose({...U,apply:({elements:ye,rects:Ne,availableWidth:fe,availableHeight:Pe})=>{const{width:Ze,height:at}=Ne.reference,dt=ye.floating.style;dt.setProperty("--radix-popper-available-width",`${fe}px`),dt.setProperty("--radix-popper-available-height",`${Pe}px`),dt.setProperty("--radix-popper-anchor-width",`${Ze}px`),dt.setProperty("--radix-popper-anchor-height",`${at}px`)}}),C&&Mse({element:C,padding:l}),Vse({arrowWidth:P,arrowHeight:E}),m&&Dse({strategy:"referenceHidden",...U})]}),[$,le]=D6(Y),se=$s(x);Sr(()=>{J&&(se==null||se())},[J,se]);const re=(be=q.arrow)==null?void 0:be.x,K=(F=q.arrow)==null?void 0:F.y,ee=((X=q.arrow)==null?void 0:X.centerOffset)!==0,[ge,xe]=w.useState();return Sr(()=>{N&&xe(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:J?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(te=q.transformOrigin)==null?void 0:te.x,(G=q.transformOrigin)==null?void 0:G.y].join(" "),...((M=q.hide)==null?void 0:M.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Lse,{scope:n,placedSide:$,onArrowChange:_,arrowX:re,arrowY:K,shouldHideArrow:ee,children:r.jsx(it.div,{"data-side":$,"data-align":le,...v,ref:b,style:{...v.style,animation:J?void 0:"none"}})})})});k6.displayName=FA;var T6="PopperArrow",Bse={top:"bottom",right:"left",bottom:"top",left:"right"},O6=w.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=Fse(T6,s),o=Bse[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx($se,{...i,ref:n,style:{...i.style,display:"block"}})})});O6.displayName=T6;function zse(e){return e!==null}var Vse=e=>({name:"transformOrigin",options:e,fn(t){var y,N,j;const{placement:n,rects:s,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=D6(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,g=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?f:`${m}px`,v=`${-c}px`):u==="top"?(x=o?f:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?f:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,v=o?f:`${g}px`),{data:{x,y:v}}}});function D6(e){const[t,n="center"]=e.split("-");return[t,n]}var BA=P6,dv=E6,vb=k6,xb=O6,[yb,T6e]=ni("Tooltip",[Oc]),zA=Oc(),M6="TooltipProvider",Use=700,OM="tooltip.open",[qse,I6]=yb(M6),$6=e=>{const{__scopeTooltip:t,delayDuration:n=Use,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),r.jsx(qse,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};$6.displayName=M6;var R6="Tooltip",[O6e,jb]=yb(R6),r2="TooltipTrigger",Wse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=jb(r2,n),a=I6(r2,n),o=zA(n),l=w.useRef(null),c=Jt(t,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(dv,{asChild:!0,...o,children:r.jsx(it.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:Ke(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ke(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ke(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ke(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ke(e.onBlur,i.onClose),onClick:Ke(e.onClick,i.onClose)})})});Wse.displayName=r2;var Hse="TooltipPortal",[D6e,Gse]=yb(Hse,{forceMount:void 0}),lf="TooltipContent",L6=w.forwardRef((e,t)=>{const n=Gse(lf,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=jb(lf,e.__scopeTooltip);return r.jsx(ri,{present:s||o.open,children:o.disableHoverableContent?r.jsx(F6,{side:i,...a,ref:t}):r.jsx(Kse,{side:i,...a,ref:t})})}),Kse=w.forwardRef((e,t)=>{const n=jb(lf,e.__scopeTooltip),s=I6(lf,e.__scopeTooltip),i=w.useRef(null),a=Jt(t,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=s,m=w.useCallback(()=>{l(null),f(!1)},[f]),g=w.useCallback((x,v)=>{const y=x.currentTarget,N={x:x.clientX,y:x.clientY},j=Zse(N,y.getBoundingClientRect()),b=eie(N,j),C=tie(v.getBoundingClientRect()),_=rie([...b,...C]);l(_),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const x=y=>g(y,d),v=y=>g(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),w.useEffect(()=>{if(o){const x=v=>{const y=v.target,N={x:v.clientX,y:v.clientY},j=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!nie(N,o);j?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),r.jsx(F6,{...e,ref:a})}),[Yse,Qse]=yb(R6,{isInside:!1}),Xse=Xee("TooltipContent"),F6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=jb(lf,n),u=zA(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(OM,d),()=>document.removeEventListener(OM,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),r.jsx(hd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:r.jsxs(vb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Xse,{children:s}),r.jsx(Yse,{scope:n,isInside:!0,children:r.jsx(yte,{id:c.contentId,role:"tooltip",children:i||s})})]})})});L6.displayName=lf;var B6="TooltipArrow",Jse=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=zA(n);return Qse(B6,n).isInside?null:r.jsx(xb,{...i,...s,ref:t})});Jse.displayName=B6;function Zse(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function eie(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function tie(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function nie(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function rie(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),sie(t)}function sie(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var iie=$6,z6=L6;const aie=iie,oie=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(z6,{ref:s,sideOffset:t,className:et("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));oie.displayName=z6.displayName;var Yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lie={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Yl,_P,nL,cie=(nL=class{constructor(){ut(this,Yl,lie);ut(this,_P,!1)}setTimeoutProvider(e){Xe(this,Yl,e)}setTimeout(e,t){return ue(this,Yl).setTimeout(e,t)}clearTimeout(e){ue(this,Yl).clearTimeout(e)}setInterval(e,t){return ue(this,Yl).setInterval(e,t)}clearInterval(e){ue(this,Yl).clearInterval(e)}},Yl=new WeakMap,_P=new WeakMap,nL),bu=new cie;function uie(e){setTimeout(e,0)}var Ku=typeof window>"u"||"Deno"in globalThis;function ks(){}function die(e,t){return typeof e=="function"?e(t):e}function s2(e){return typeof e=="number"&&e>=0&&e!==1/0}function V6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xc(e,t){return typeof e=="function"?e(t):e}function Vi(e,t){return typeof e=="function"?e(t):e}function DM(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==VA(o,t.options))return!1}else if(!cg(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function MM(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Yu(t.options.mutationKey)!==Yu(a))return!1}else if(!cg(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function VA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yu)(e)}function Yu(e){return JSON.stringify(e,(t,n)=>i2(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function cg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>cg(e[n],t[n])):!1}var hie=Object.prototype.hasOwnProperty;function U6(e,t){if(e===t)return e;const n=IM(e)&&IM(t);if(!n&&!(i2(e)&&i2(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<i:hie.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const g=U6(f,m);l[d]=g,g===f&&c++}return i===o&&c===i?e:l}function C0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function IM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function i2(e){if(!$M(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!$M(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $M(e){return Object.prototype.toString.call(e)==="[object Object]"}function fie(e){return new Promise(t=>{bu.setTimeout(t,e)})}function a2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?U6(e,t):t}function mie(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function pie(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var UA=Symbol();function q6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===UA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function W6(e,t){return typeof e=="function"?e(...t):!!e}var Pu,Ql,Lh,rL,gie=(rL=class extends Yf{constructor(){super();ut(this,Pu);ut(this,Ql);ut(this,Lh);Xe(this,Lh,t=>{if(!Ku&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,Ql)||this.setEventListener(ue(this,Lh))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ql))==null||t.call(this),Xe(this,Ql,void 0))}setEventListener(t){var n;Xe(this,Lh,t),(n=ue(this,Ql))==null||n.call(this),Xe(this,Ql,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ue(this,Pu)!==t&&(Xe(this,Pu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Pu)=="boolean"?ue(this,Pu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pu=new WeakMap,Ql=new WeakMap,Lh=new WeakMap,rL),qA=new gie;function o2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var vie=uie;function xie(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=vie;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var Dr=xie(),Fh,Xl,Bh,sL,yie=(sL=class extends Yf{constructor(){super();ut(this,Fh,!0);ut(this,Xl);ut(this,Bh);Xe(this,Bh,t=>{if(!Ku&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){ue(this,Xl)||this.setEventListener(ue(this,Bh))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Xl))==null||t.call(this),Xe(this,Xl,void 0))}setEventListener(t){var n;Xe(this,Bh,t),(n=ue(this,Xl))==null||n.call(this),Xe(this,Xl,t(this.setOnline.bind(this)))}setOnline(t){ue(this,Fh)!==t&&(Xe(this,Fh,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ue(this,Fh)}},Fh=new WeakMap,Xl=new WeakMap,Bh=new WeakMap,sL),_0=new yie;function jie(e){return Math.min(1e3*2**e,3e4)}function H6(e){return(e??"online")==="online"?_0.isOnline():!0}var l2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function G6(e){let t=!1,n=0,s;const i=o2(),a=()=>i.status!=="pending",o=v=>{var y;if(!a()){const N=new l2(v);m(N),(y=e.onCancel)==null||y.call(e,N)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>qA.isFocused()&&(e.networkMode==="always"||_0.isOnline())&&e.canRun(),d=()=>H6(e.networkMode)&&e.canRun(),f=v=>{a()||(s==null||s(),i.resolve(v))},m=v=>{a()||(s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var y;s=N=>{(a()||u())&&v(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(a())return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(f).catch(N=>{var A;if(a())return;const j=e.retry??(Ku?0:3),b=e.retryDelay??jie,C=typeof b=="function"?b(n,N):b,_=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,N);if(t||!_){m(N);return}n++,(A=e.onFail)==null||A.call(e,n,N),fie(C).then(()=>u()?void 0:g()).then(()=>{t?m(N):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),i)}}var Au,iL,K6=(iL=class{constructor(){ut(this,Au)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s2(this.gcTime)&&Xe(this,Au,bu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ku?1/0:5*60*1e3))}clearGcTimeout(){ue(this,Au)&&(bu.clearTimeout(ue(this,Au)),Xe(this,Au,void 0))}},Au=new WeakMap,iL),Eu,zh,zi,ku,Br,Jg,Tu,va,Ro,aL,bie=(aL=class extends K6{constructor(t){super();ut(this,va);ut(this,Eu);ut(this,zh);ut(this,zi);ut(this,ku);ut(this,Br);ut(this,Jg);ut(this,Tu);Xe(this,Tu,!1),Xe(this,Jg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,ku,t.client),Xe(this,zi,ue(this,ku).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,Eu,RM(this.options)),this.state=t.state??ue(this,Eu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Br))==null?void 0:t.promise}setOptions(t){if(this.options={...ue(this,Jg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=RM(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Xe(this,Eu,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,zi).remove(this)}setData(t,n){const s=a2(this.state.data,t,this.options);return Ut(this,va,Ro).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Ut(this,va,Ro).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=ue(this,Br))==null?void 0:s.promise;return(i=ue(this,Br))==null||i.cancel(t),n?n.then(ks).catch(ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Eu))}isActive(){return this.observers.some(t=>Vi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===UA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>xc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!V6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Br))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Br))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,zi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Br)&&(ue(this,Tu)?ue(this,Br).cancel({revert:!0}):ue(this,Br).cancelRetry()),this.scheduleGc()),ue(this,zi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,va,Ro).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,g,x,v,y,N,j,b;if(this.state.fetchStatus!=="idle"&&((c=ue(this,Br))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Br))return ue(this,Br).continueRetry(),ue(this,Br).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(_=>_.options.queryFn);C&&this.setOptions(C.options)}const s=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Xe(this,Tu,!0),s.signal)})},a=()=>{const C=q6(this.options,n),A=(()=>{const P={client:ue(this,ku),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return Xe(this,Tu,!1),this.options.persister?this.options.persister(C,A,this):C(A)},l=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,ku),state:this.state,fetchFn:a};return i(C),C})();(u=this.options.behavior)==null||u.onFetch(l,this),Xe(this,zh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ut(this,va,Ro).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Xe(this,Br,G6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof l2&&C.revert&&this.setState({...ue(this,zh),fetchStatus:"idle"}),s.abort()},onFail:(C,_)=>{Ut(this,va,Ro).call(this,{type:"failed",failureCount:C,error:_})},onPause:()=>{Ut(this,va,Ro).call(this,{type:"pause"})},onContinue:()=>{Ut(this,va,Ro).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await ue(this,Br).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(g=(m=ue(this,zi).config).onSuccess)==null||g.call(m,C,this),(v=(x=ue(this,zi).config).onSettled)==null||v.call(x,C,this.state.error,this),C}catch(C){if(C instanceof l2){if(C.silent)return ue(this,Br).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Ut(this,va,Ro).call(this,{type:"error",error:C}),(N=(y=ue(this,zi).config).onError)==null||N.call(y,C,this),(b=(j=ue(this,zi).config).onSettled)==null||b.call(j,this.state.data,C,this),C}finally{this.scheduleGc()}}},Eu=new WeakMap,zh=new WeakMap,zi=new WeakMap,ku=new WeakMap,Br=new WeakMap,Jg=new WeakMap,Tu=new WeakMap,va=new WeakSet,Ro=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Y6(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Xe(this,zh,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Dr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ue(this,zi).notify({query:this,type:"updated",action:t})})},aL);function Y6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hs,rn,Zg,Ps,Ou,Vh,Uo,Jl,ev,Uh,qh,Du,Mu,Zl,Wh,gn,gp,c2,u2,d2,h2,f2,m2,p2,Q6,oL,wie=(oL=class extends Yf{constructor(t,n){super();ut(this,gn);ut(this,Hs);ut(this,rn);ut(this,Zg);ut(this,Ps);ut(this,Ou);ut(this,Vh);ut(this,Uo);ut(this,Jl);ut(this,ev);ut(this,Uh);ut(this,qh);ut(this,Du);ut(this,Mu);ut(this,Zl);ut(this,Wh,new Set);this.options=n,Xe(this,Hs,t),Xe(this,Jl,null),Xe(this,Uo,o2()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,rn).addObserver(this),LM(ue(this,rn),this.options)?Ut(this,gn,gp).call(this):this.updateResult(),Ut(this,gn,h2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return g2(ue(this,rn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return g2(ue(this,rn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ut(this,gn,f2).call(this),Ut(this,gn,m2).call(this),ue(this,rn).removeObserver(this)}setOptions(t){const n=this.options,s=ue(this,rn);if(this.options=ue(this,Hs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vi(this.options.enabled,ue(this,rn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ut(this,gn,p2).call(this),ue(this,rn).setOptions(this.options),n._defaulted&&!C0(this.options,n)&&ue(this,Hs).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,rn),observer:this});const i=this.hasListeners();i&&FM(ue(this,rn),s,this.options,n)&&Ut(this,gn,gp).call(this),this.updateResult(),i&&(ue(this,rn)!==s||Vi(this.options.enabled,ue(this,rn))!==Vi(n.enabled,ue(this,rn))||xc(this.options.staleTime,ue(this,rn))!==xc(n.staleTime,ue(this,rn)))&&Ut(this,gn,c2).call(this);const a=Ut(this,gn,u2).call(this);i&&(ue(this,rn)!==s||Vi(this.options.enabled,ue(this,rn))!==Vi(n.enabled,ue(this,rn))||a!==ue(this,Zl))&&Ut(this,gn,d2).call(this,a)}getOptimisticResult(t){const n=ue(this,Hs).getQueryCache().build(ue(this,Hs),t),s=this.createResult(n,t);return Sie(this,s)&&(Xe(this,Ps,s),Xe(this,Vh,this.options),Xe(this,Ou,ue(this,rn).state)),s}getCurrentResult(){return ue(this,Ps)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&ue(this,Uo).status==="pending"&&ue(this,Uo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){ue(this,Wh).add(t)}getCurrentQuery(){return ue(this,rn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,Hs).defaultQueryOptions(t),s=ue(this,Hs).getQueryCache().build(ue(this,Hs),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Ut(this,gn,gp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Ps)))}createResult(t,n){var D;const s=ue(this,rn),i=this.options,a=ue(this,Ps),o=ue(this,Ou),l=ue(this,Vh),u=t!==s?t.state:ue(this,Zg),{state:d}=t;let f={...d},m=!1,g;if(n._optimisticResults){const I=this.hasListeners(),k=!I&&LM(t,n),O=I&&FM(t,s,n,i);(k||O)&&(f={...f,...Y6(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=f;g=f.data;let N=!1;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let I;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(I=a.data,N=!0):I=typeof n.placeholderData=="function"?n.placeholderData((D=ue(this,qh))==null?void 0:D.state.data,ue(this,qh)):n.placeholderData,I!==void 0&&(y="success",g=a2(a==null?void 0:a.data,I,n),m=!0)}if(n.select&&g!==void 0&&!N)if(a&&g===(o==null?void 0:o.data)&&n.select===ue(this,ev))g=ue(this,Uh);else try{Xe(this,ev,n.select),g=n.select(g),g=a2(a==null?void 0:a.data,g,n),Xe(this,Uh,g),Xe(this,Jl,null)}catch(I){Xe(this,Jl,I)}ue(this,Jl)&&(x=ue(this,Jl),g=ue(this,Uh),v=Date.now(),y="error");const j=f.fetchStatus==="fetching",b=y==="pending",C=y==="error",_=b&&j,A=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:C,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!b,isLoadingError:C&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:C&&A,isStale:WA(t,n),refetch:this.refetch,promise:ue(this,Uo),isEnabled:Vi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=U=>{E.status==="error"?U.reject(E.error):E.data!==void 0&&U.resolve(E.data)},k=()=>{const U=Xe(this,Uo,E.promise=o2());I(U)},O=ue(this,Uo);switch(O.status){case"pending":t.queryHash===s.queryHash&&I(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&k();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&k();break}}return E}updateResult(){const t=ue(this,Ps),n=this.createResult(ue(this,rn),this.options);if(Xe(this,Ou,ue(this,rn).state),Xe(this,Vh,this.options),ue(this,Ou).data!==void 0&&Xe(this,qh,ue(this,rn)),C0(n,t))return;Xe(this,Ps,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!ue(this,Wh).size)return!0;const o=new Set(a??ue(this,Wh));return this.options.throwOnError&&o.add("error"),Object.keys(ue(this,Ps)).some(l=>{const c=l;return ue(this,Ps)[c]!==t[c]&&o.has(c)})};Ut(this,gn,Q6).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ut(this,gn,h2).call(this)}},Hs=new WeakMap,rn=new WeakMap,Zg=new WeakMap,Ps=new WeakMap,Ou=new WeakMap,Vh=new WeakMap,Uo=new WeakMap,Jl=new WeakMap,ev=new WeakMap,Uh=new WeakMap,qh=new WeakMap,Du=new WeakMap,Mu=new WeakMap,Zl=new WeakMap,Wh=new WeakMap,gn=new WeakSet,gp=function(t){Ut(this,gn,p2).call(this);let n=ue(this,rn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ks)),n},c2=function(){Ut(this,gn,f2).call(this);const t=xc(this.options.staleTime,ue(this,rn));if(Ku||ue(this,Ps).isStale||!s2(t))return;const s=V6(ue(this,Ps).dataUpdatedAt,t)+1;Xe(this,Du,bu.setTimeout(()=>{ue(this,Ps).isStale||this.updateResult()},s))},u2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,rn)):this.options.refetchInterval)??!1},d2=function(t){Ut(this,gn,m2).call(this),Xe(this,Zl,t),!(Ku||Vi(this.options.enabled,ue(this,rn))===!1||!s2(ue(this,Zl))||ue(this,Zl)===0)&&Xe(this,Mu,bu.setInterval(()=>{(this.options.refetchIntervalInBackground||qA.isFocused())&&Ut(this,gn,gp).call(this)},ue(this,Zl)))},h2=function(){Ut(this,gn,c2).call(this),Ut(this,gn,d2).call(this,Ut(this,gn,u2).call(this))},f2=function(){ue(this,Du)&&(bu.clearTimeout(ue(this,Du)),Xe(this,Du,void 0))},m2=function(){ue(this,Mu)&&(bu.clearInterval(ue(this,Mu)),Xe(this,Mu,void 0))},p2=function(){const t=ue(this,Hs).getQueryCache().build(ue(this,Hs),this.options);if(t===ue(this,rn))return;const n=ue(this,rn);Xe(this,rn,t),Xe(this,Zg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Q6=function(t){Dr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Ps))}),ue(this,Hs).getQueryCache().notify({query:ue(this,rn),type:"observerResultsUpdated"})})},oL);function Nie(e,t){return Vi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function LM(e,t){return Nie(e,t)||e.state.data!==void 0&&g2(e,t,t.refetchOnMount)}function g2(e,t,n){if(Vi(t.enabled,e)!==!1&&xc(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&WA(e,t)}return!1}function FM(e,t,n,s){return(e!==t||Vi(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&WA(e,n)}function WA(e,t){return Vi(t.enabled,e)!==!1&&e.isStaleByTime(xc(t.staleTime,e))}function Sie(e,t){return!C0(e.getCurrentResult(),t)}function BM(e){return{onFetch:(t,n)=>{var d,f,m,g,x;const s=t.options,i=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=q6(t.options,t.fetchOptions),j=async(b,C,_)=>{if(v)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:C,direction:_?"backward":"forward",meta:t.options.meta};return y(k),k})(),E=await N(P),{maxPages:D}=t.options,I=_?pie:mie;return{pages:I(b.pages,E,D),pageParams:I(b.pageParams,C,D)}};if(i&&a.length){const b=i==="backward",C=b?Cie:zM,_={pages:a,pageParams:o},A=C(s,_);l=await j(_,A,b)}else{const b=e??a.length;do{const C=c===0?o[0]??s.initialPageParam:zM(s,l);if(c>0&&C==null)break;l=await j(l,C),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function zM(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Cie(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var tv,Ja,As,Iu,Za,Rl,lL,_ie=(lL=class extends K6{constructor(t){super();ut(this,Za);ut(this,tv);ut(this,Ja);ut(this,As);ut(this,Iu);Xe(this,tv,t.client),this.mutationId=t.mutationId,Xe(this,As,t.mutationCache),Xe(this,Ja,[]),this.state=t.state||X6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Ja).includes(t)||(ue(this,Ja).push(t),this.clearGcTimeout(),ue(this,As).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,Ja,ue(this,Ja).filter(n=>n!==t)),this.scheduleGc(),ue(this,As).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Ja).length||(this.state.status==="pending"?this.scheduleGc():ue(this,As).remove(this))}continue(){var t;return((t=ue(this,Iu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,g,x,v,y,N,j,b,C,_,A,P,E,D;const n=()=>{Ut(this,Za,Rl).call(this,{type:"continue"})},s={client:ue(this,tv),meta:this.options.meta,mutationKey:this.options.mutationKey};Xe(this,Iu,G6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(I,k)=>{Ut(this,Za,Rl).call(this,{type:"failed",failureCount:I,error:k})},onPause:()=>{Ut(this,Za,Rl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,As).canRun(this)}));const i=this.state.status==="pending",a=!ue(this,Iu).canStart();try{if(i)n();else{Ut(this,Za,Rl).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=ue(this,As).config).onMutate)==null?void 0:l.call(o,t,this,s));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,s));k!==this.state.context&&Ut(this,Za,Rl).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const I=await ue(this,Iu).start();return await((f=(d=ue(this,As).config).onSuccess)==null?void 0:f.call(d,I,t,this.state.context,this,s)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,I,t,this.state.context,s)),await((v=(x=ue(this,As).config).onSettled)==null?void 0:v.call(x,I,null,this.state.variables,this.state.context,this,s)),await((N=(y=this.options).onSettled)==null?void 0:N.call(y,I,null,t,this.state.context,s)),Ut(this,Za,Rl).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(j=ue(this,As).config).onError)==null?void 0:b.call(j,I,t,this.state.context,this,s)),await((_=(C=this.options).onError)==null?void 0:_.call(C,I,t,this.state.context,s)),await((P=(A=ue(this,As).config).onSettled)==null?void 0:P.call(A,void 0,I,this.state.variables,this.state.context,this,s)),await((D=(E=this.options).onSettled)==null?void 0:D.call(E,void 0,I,t,this.state.context,s)),I}finally{Ut(this,Za,Rl).call(this,{type:"error",error:I})}}finally{ue(this,As).runNext(this)}}},tv=new WeakMap,Ja=new WeakMap,As=new WeakMap,Iu=new WeakMap,Za=new WeakSet,Rl=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Dr.batch(()=>{ue(this,Ja).forEach(s=>{s.onMutationUpdate(t)}),ue(this,As).notify({mutation:this,type:"updated",action:t})})},lL);function X6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qo,xa,nv,cL,Pie=(cL=class extends Yf{constructor(t={}){super();ut(this,qo);ut(this,xa);ut(this,nv);this.config=t,Xe(this,qo,new Set),Xe(this,xa,new Map),Xe(this,nv,0)}build(t,n,s){const i=new _ie({client:t,mutationCache:this,mutationId:++Ax(this,nv)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){ue(this,qo).add(t);const n=Qx(t);if(typeof n=="string"){const s=ue(this,xa).get(n);s?s.push(t):ue(this,xa).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,qo).delete(t)){const n=Qx(t);if(typeof n=="string"){const s=ue(this,xa).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&ue(this,xa).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Qx(t);if(typeof n=="string"){const s=ue(this,xa).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=Qx(t);if(typeof n=="string"){const i=(s=ue(this,xa).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dr.batch(()=>{ue(this,qo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,qo).clear(),ue(this,xa).clear()})}getAll(){return Array.from(ue(this,qo))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>MM(n,s))}findAll(t={}){return this.getAll().filter(n=>MM(t,n))}notify(t){Dr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Dr.batch(()=>Promise.all(t.map(n=>n.continue().catch(ks))))}},qo=new WeakMap,xa=new WeakMap,nv=new WeakMap,cL);function Qx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Wo,ec,Gs,Ho,tl,qy,v2,uL,Aie=(uL=class extends Yf{constructor(n,s){super();ut(this,tl);ut(this,Wo);ut(this,ec);ut(this,Gs);ut(this,Ho);Xe(this,Wo,n),this.setOptions(s),this.bindMethods(),Ut(this,tl,qy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=ue(this,Wo).defaultMutationOptions(n),C0(this.options,s)||ue(this,Wo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,Gs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Yu(s.mutationKey)!==Yu(this.options.mutationKey)?this.reset():((i=ue(this,Gs))==null?void 0:i.state.status)==="pending"&&ue(this,Gs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,Gs))==null||n.removeObserver(this)}onMutationUpdate(n){Ut(this,tl,qy).call(this),Ut(this,tl,v2).call(this,n)}getCurrentResult(){return ue(this,ec)}reset(){var n;(n=ue(this,Gs))==null||n.removeObserver(this),Xe(this,Gs,void 0),Ut(this,tl,qy).call(this),Ut(this,tl,v2).call(this)}mutate(n,s){var i;return Xe(this,Ho,s),(i=ue(this,Gs))==null||i.removeObserver(this),Xe(this,Gs,ue(this,Wo).getMutationCache().build(ue(this,Wo),this.options)),ue(this,Gs).addObserver(this),ue(this,Gs).execute(n)}},Wo=new WeakMap,ec=new WeakMap,Gs=new WeakMap,Ho=new WeakMap,tl=new WeakSet,qy=function(){var s;const n=((s=ue(this,Gs))==null?void 0:s.state)??X6();Xe(this,ec,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},v2=function(n){Dr.batch(()=>{var s,i,a,o,l,c,u,d;if(ue(this,Ho)&&this.hasListeners()){const f=ue(this,ec).variables,m=ue(this,ec).context,g={client:ue(this,Wo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(s=ue(this,Ho)).onSuccess)==null||i.call(s,n.data,f,m,g),(o=(a=ue(this,Ho)).onSettled)==null||o.call(a,n.data,null,f,m,g)):(n==null?void 0:n.type)==="error"&&((c=(l=ue(this,Ho)).onError)==null||c.call(l,n.error,f,m,g),(d=(u=ue(this,Ho)).onSettled)==null||d.call(u,void 0,n.error,f,m,g))}this.listeners.forEach(f=>{f(ue(this,ec))})})},uL),eo,dL,Eie=(dL=class extends Yf{constructor(t={}){super();ut(this,eo);this.config=t,Xe(this,eo,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??VA(i,n);let o=this.get(a);return o||(o=new bie({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){ue(this,eo).has(t.queryHash)||(ue(this,eo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,eo).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,eo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,eo).get(t)}getAll(){return[...ue(this,eo).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>DM(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>DM(t,s)):n}notify(t){Dr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},eo=new WeakMap,dL),or,tc,nc,Hh,Gh,rc,Kh,Yh,hL,kie=(hL=class{constructor(e={}){ut(this,or);ut(this,tc);ut(this,nc);ut(this,Hh);ut(this,Gh);ut(this,rc);ut(this,Kh);ut(this,Yh);Xe(this,or,e.queryCache||new Eie),Xe(this,tc,e.mutationCache||new Pie),Xe(this,nc,e.defaultOptions||{}),Xe(this,Hh,new Map),Xe(this,Gh,new Map),Xe(this,rc,0)}mount(){Ax(this,rc)._++,ue(this,rc)===1&&(Xe(this,Kh,qA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,or).onFocus())})),Xe(this,Yh,_0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,or).onOnline())})))}unmount(){var e,t;Ax(this,rc)._--,ue(this,rc)===0&&((e=ue(this,Kh))==null||e.call(this),Xe(this,Kh,void 0),(t=ue(this,Yh))==null||t.call(this),Xe(this,Yh,void 0))}isFetching(e){return ue(this,or).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,tc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,or).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,or).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(xc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ue(this,or).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=ue(this,or).get(s.queryHash),a=i==null?void 0:i.state.data,o=die(t,a);if(o!==void 0)return ue(this,or).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Dr.batch(()=>ue(this,or).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,or).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,or);Dr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,or);return Dr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Dr.batch(()=>ue(this,or).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(ks).catch(ks)}invalidateQueries(e,t={}){return Dr.batch(()=>(ue(this,or).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Dr.batch(()=>ue(this,or).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ks)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ks)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,or).build(this,t);return n.isStaleByTime(xc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ks).catch(ks)}fetchInfiniteQuery(e){return e.behavior=BM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ks).catch(ks)}ensureInfiniteQueryData(e){return e.behavior=BM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _0.isOnline()?ue(this,tc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,or)}getMutationCache(){return ue(this,tc)}getDefaultOptions(){return ue(this,nc)}setDefaultOptions(e){Xe(this,nc,e)}setQueryDefaults(e,t){ue(this,Hh).set(Yu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,Hh).values()],n={};return t.forEach(s=>{cg(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,Gh).set(Yu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,Gh).values()],n={};return t.forEach(s=>{cg(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,nc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=VA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===UA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,nc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,or).clear(),ue(this,tc).clear()}},or=new WeakMap,tc=new WeakMap,nc=new WeakMap,Hh=new WeakMap,Gh=new WeakMap,rc=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,hL),J6=w.createContext(void 0),Yr=e=>{const t=w.useContext(J6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Tie=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(J6.Provider,{value:e,children:t})),Z6=w.createContext(!1),Oie=()=>w.useContext(Z6);Z6.Provider;function Die(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mie=w.createContext(Die()),Iie=()=>w.useContext(Mie),$ie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Rie=e=>{w.useEffect(()=>{e.clearReset()},[e])},Lie=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||W6(n,[e.error,s])),Fie=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Bie=(e,t)=>e.isLoading&&e.isFetching&&!t,zie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,VM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Vie(e,t,n){var f,m,g,x,v;const s=Oie(),i=Iie(),a=Yr(),o=a.defaultQueryOptions(e);(m=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",Fie(o),$ie(o,i),Rie(i);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const N=d?c.subscribe(Dr.batchCalls(y)):ks;return c.updateResult(),N},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),zie(o,u))throw VM(o,c,i);if(Lie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!Ku&&Bie(u,s)){const y=l?VM(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(ks).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function bo(e,t){return Vie(e,wie)}function as(e,t){const n=Yr(),[s]=w.useState(()=>new Aie(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const i=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(Dr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((o,l)=>{s.mutate(o,l).catch(ks)},[s]);if(i.error&&W6(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ug.apply(this,arguments)}var oc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oc||(oc={}));const UM="popstate";function Uie(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return x2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:P0(i)}return Wie(t,n,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qie(){return Math.random().toString(36).substr(2,8)}function qM(e,t){return{usr:e.state,key:e.key,idx:t}}function x2(e,t,n,s){return n===void 0&&(n=null),ug({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qf(t):t,{state:n,key:t&&t.key||s||qie()})}function P0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Qf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Wie(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=oc.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ug({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=oc.Pop;let y=d(),N=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:N})}function m(y,N){l=oc.Push;let j=x2(v.location,y,N);u=d()+1;let b=qM(j,u),C=v.createHref(j);try{o.pushState(b,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(C)}a&&c&&c({action:l,location:v.location,delta:1})}function g(y,N){l=oc.Replace;let j=x2(v.location,y,N);u=d();let b=qM(j,u),C=v.createHref(j);o.replaceState(b,"",C),a&&c&&c({action:l,location:v.location,delta:0})}function x(y){let N=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof y=="string"?y:P0(y);return j=j.replace(/ $/,"%20"),xr(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(UM,f),c=y,()=>{i.removeEventListener(UM,f),c=null}},createHref(y){return t(i,y)},createURL:x,encodeLocation(y){let N=x(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(y){return o.go(y)}};return v}var WM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(WM||(WM={}));function Hie(e,t,n){return n===void 0&&(n="/"),Gie(e,t,n,!1)}function Gie(e,t,n,s){let i=typeof t=="string"?Qf(t):t,a=HA(i.pathname||"/",n);if(a==null)return null;let o=t8(e);Kie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=iae(a);l=rae(o[c],u,s)}return l}function t8(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=yc([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(xr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t8(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:tae(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of n8(a.path))i(a,o,c)}),t}function n8(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=n8(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Kie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nae(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Yie=/^:[\w-]+$/,Qie=3,Xie=2,Jie=1,Zie=10,eae=-2,HM=e=>e==="*";function tae(e,t){let n=e.split("/"),s=n.length;return n.some(HM)&&(s+=eae),t&&(s+=Xie),n.filter(i=>!HM(i)).reduce((i,a)=>i+(Yie.test(a)?Qie:a===""?Jie:Zie),s)}function nae(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function rae(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=GM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=GM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:yc([a,f.pathname]),pathnameBase:cae(yc([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=yc([a,f.pathnameBase]))}return o}function GM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=sae(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function sae(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),e8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function iae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return e8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function aae(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Qf(e):e;return{pathname:n?n.startsWith("/")?n:oae(n,t):t,search:uae(s),hash:dae(i)}}function oae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eS(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GA(e,t){let n=lae(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function KA(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Qf(e):(i=ug({},e),xr(!i.pathname||!i.pathname.includes("?"),eS("?","pathname","search",i)),xr(!i.pathname||!i.pathname.includes("#"),eS("#","pathname","hash",i)),xr(!i.search||!i.search.includes("#"),eS("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=aae(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const yc=e=>e.join("/").replace(/\/\/+/g,"/"),cae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const r8=["post","put","patch","delete"];new Set(r8);const fae=["get",...r8];new Set(fae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dg.apply(this,arguments)}const YA=w.createContext(null),mae=w.createContext(null),Dc=w.createContext(null),bb=w.createContext(null),Mc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),s8=w.createContext(null);function pae(e,t){let{relative:n}=t===void 0?{}:t;Xf()||xr(!1);let{basename:s,navigator:i}=w.useContext(Dc),{hash:a,pathname:o,search:l}=a8(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:yc([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Xf(){return w.useContext(bb)!=null}function Ic(){return Xf()||xr(!1),w.useContext(bb).location}function i8(e){w.useContext(Dc).static||w.useLayoutEffect(e)}function Jf(){let{isDataRoute:e}=w.useContext(Mc);return e?Aae():gae()}function gae(){Xf()||xr(!1);let e=w.useContext(YA),{basename:t,future:n,navigator:s}=w.useContext(Dc),{matches:i}=w.useContext(Mc),{pathname:a}=Ic(),o=JSON.stringify(GA(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return i8(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=KA(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yc([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function a8(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(Dc),{matches:i}=w.useContext(Mc),{pathname:a}=Ic(),o=JSON.stringify(GA(i,s.v7_relativeSplatPath));return w.useMemo(()=>KA(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function vae(e,t){return xae(e,t)}function xae(e,t,n,s){Xf()||xr(!1);let{navigator:i}=w.useContext(Dc),{matches:a}=w.useContext(Mc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ic(),d;if(t){var f;let y=typeof t=="string"?Qf(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||xr(!1),d=y}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Hie(e,{pathname:g}),v=Nae(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:yc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:yc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?w.createElement(bb.Provider,{value:{location:dg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:oc.Pop}},v):v}function yae(){let e=Pae(),t=hae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const jae=w.createElement(yae,null);class bae extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Mc.Provider,{value:this.props.routeContext},w.createElement(s8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wae(e){let{routeContext:t,match:n,children:s}=e,i=w.useContext(YA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Mc.Provider,{value:t},s)}function Nae(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||xr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,x=!1,v=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||jae,c&&(u<0&&m===0?(x=!0,y=null):u===m&&(x=!0,y=f.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,m+1)),j=()=>{let b;return g?b=v:x?b=y:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(wae,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(bae,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var o8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o8||{}),A0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(A0||{});function Sae(e){let t=w.useContext(YA);return t||xr(!1),t}function Cae(e){let t=w.useContext(mae);return t||xr(!1),t}function _ae(e){let t=w.useContext(Mc);return t||xr(!1),t}function l8(e){let t=_ae(),n=t.matches[t.matches.length-1];return n.route.id||xr(!1),n.route.id}function Pae(){var e;let t=w.useContext(s8),n=Cae(A0.UseRouteError),s=l8(A0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Aae(){let{router:e}=Sae(o8.UseNavigateStable),t=l8(A0.UseNavigateStable),n=w.useRef(!1);return i8(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,dg({fromRouteId:t},a)))},[e,t])}function Eae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function y2(e){let{to:t,replace:n,state:s,relative:i}=e;Xf()||xr(!1);let{future:a,static:o}=w.useContext(Dc),{matches:l}=w.useContext(Mc),{pathname:c}=Ic(),u=Jf(),d=KA(t,GA(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function ir(e){xr(!1)}function kae(e){let{basename:t="/",children:n=null,location:s,navigationType:i=oc.Pop,navigator:a,static:o=!1,future:l}=e;Xf()&&xr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:dg({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Qf(s));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=s,v=w.useMemo(()=>{let y=HA(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:g,key:x},navigationType:i}},[c,d,f,m,g,x,i]);return v==null?null:w.createElement(Dc.Provider,{value:u},w.createElement(bb.Provider,{children:n,value:v}))}function Tae(e){let{children:t,location:n}=e;return vae(j2(t),n)}new Promise(()=>{});function j2(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let a=[...t,i];if(s.type===w.Fragment){n.push.apply(n,j2(s.props.children,a));return}s.type!==ir&&xr(!1),!s.props.index||!s.props.children||xr(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=j2(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b2(){return b2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},b2.apply(this,arguments)}function Oae(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Dae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mae(e,t){return e.button===0&&(!t||t==="_self")&&!Dae(e)}function w2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function Iae(e,t){let n=w2(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const $ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rae="6";try{window.__reactRouterVersion=Rae}catch{}const Lae="startTransition",KM=TP[Lae];function Fae(e){let{basename:t,children:n,future:s,window:i}=e,a=w.useRef();a.current==null&&(a.current=Uie({window:i,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=w.useCallback(f=>{u&&KM?KM(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>Eae(s),[s]),w.createElement(kae,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const Bae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=w.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Oae(t,$ae),{basename:g}=w.useContext(Dc),x,v=!1;if(typeof u=="string"&&zae.test(u)&&(x=u,Bae))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=HA(C.pathname,g);C.origin===b.origin&&_!=null?u=_+C.search+C.hash:v=!0}catch{}let y=pae(u,{relative:i}),N=Vae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function j(b){s&&s(b),b.defaultPrevented||N(b)}return w.createElement("a",b2({},m,{href:x||y,onClick:v||a?s:j,ref:n,target:c}))});var YM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(YM||(YM={}));var QM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(QM||(QM={}));function Vae(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Jf(),u=Ic(),d=a8(e,{relative:o});return w.useCallback(f=>{if(Mae(f,n)){f.preventDefault();let m=s!==void 0?s:P0(u)===P0(d);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}function Uae(e){let t=w.useRef(w2(e)),n=w.useRef(!1),s=Ic(),i=w.useMemo(()=>Iae(s.search,n.current?null:t.current),[s.search]),a=Jf(),o=w.useCallback((l,c)=>{const u=w2(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const qae=cv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=w.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?Yee:"button";return r.jsx(o,{className:et(qae({variant:t,size:n,className:e})),ref:a,...i})});V.displayName="Button";const c8=w.createContext(void 0);function Wae({children:e}){const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{localStorage.setItem("theme",t);const i=document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[t]);const s=()=>{n(i=>i==="light"?"dark":"light")};return r.jsx(c8.Provider,{value:{theme:t,setTheme:n,toggleTheme:s},children:e})}function u8(){const e=w.useContext(c8);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function XM(){const{theme:e,toggleTheme:t}=u8();return r.jsxs(V,{variant:"outline",size:"sm",onClick:t,className:"h-9 w-9 p-0",title:e==="light"?"Activer le mode sombre":"Activer le mode clair",children:[e==="light"?r.jsx(tne,{className:"h-4 w-4"}):r.jsx(ine,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:e==="light"?"Activer le mode sombre":"Activer le mode clair"})]})}var Hae=w.createContext(void 0);function wb(e){const t=w.useContext(Hae);return e||t||"ltr"}var tS=0;function Nb(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??JM()),document.body.insertAdjacentElement("beforeend",e[1]??JM()),tS++,()=>{tS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tS--}},[])}function JM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nS="focusScope.autoFocusOnMount",rS="focusScope.autoFocusOnUnmount",ZM={bubbles:!1,cancelable:!0},Gae="FocusScope",hv=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=w.useState(null),u=$s(i),d=$s(a),f=w.useRef(null),m=Jt(t,v=>c(v)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let v=function(b){if(g.paused||!l)return;const C=b.target;l.contains(C)?f.current=C:Ll(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const C=b.relatedTarget;C!==null&&(l.contains(C)||Ll(f.current,{select:!0}))},N=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Ll(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const j=new MutationObserver(N);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),j.disconnect()}}},[s,l,g.paused]),w.useEffect(()=>{if(l){tI.add(g);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(nS,ZM);l.addEventListener(nS,u),l.dispatchEvent(N),N.defaultPrevented||(Kae(Zae(d8(l)),{select:!0}),document.activeElement===v&&Ll(l))}return()=>{l.removeEventListener(nS,u),setTimeout(()=>{const N=new CustomEvent(rS,ZM);l.addEventListener(rS,d),l.dispatchEvent(N),N.defaultPrevented||Ll(v??document.body,{select:!0}),l.removeEventListener(rS,d),tI.remove(g)},0)}}},[l,u,d,g]);const x=w.useCallback(v=>{if(!n&&!s||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const j=v.currentTarget,[b,C]=Yae(j);b&&C?!v.shiftKey&&N===C?(v.preventDefault(),n&&Ll(b,{select:!0})):v.shiftKey&&N===b&&(v.preventDefault(),n&&Ll(C,{select:!0})):N===j&&v.preventDefault()}},[n,s,g.paused]);return r.jsx(it.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});hv.displayName=Gae;function Kae(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ll(s,{select:t}),document.activeElement!==n)return}function Yae(e){const t=d8(e),n=eI(t,e),s=eI(t.reverse(),e);return[n,s]}function d8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eI(e,t){for(const n of e)if(!Qae(n,{upTo:t}))return n}function Qae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xae(e){return e instanceof HTMLInputElement&&"select"in e}function Ll(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Xae(e)&&t&&e.select()}}var tI=Jae();function Jae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nI(e,t),e.unshift(t)},remove(t){var n;e=nI(e,t),(n=e[0])==null||n.resume()}}}function nI(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Zae(e){return e.filter(t=>t.tagName!=="A")}var sS="rovingFocusGroup.onEntryFocus",eoe={bubbles:!1,cancelable:!0},fv="RovingFocusGroup",[N2,h8,toe]=lb(fv),[noe,Sb]=ni(fv,[toe]),[roe,soe]=noe(fv),f8=w.forwardRef((e,t)=>r.jsx(N2.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(N2.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(ioe,{...e,ref:t})})}));f8.displayName=fv;var ioe=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=w.useRef(null),g=Jt(t,m),x=wb(a),[v,y]=vo({prop:o,defaultProp:l??null,onChange:c,caller:fv}),[N,j]=w.useState(!1),b=$s(u),C=h8(n),_=w.useRef(!1),[A,P]=w.useState(0);return w.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(sS,b),()=>E.removeEventListener(sS,b)},[b]),r.jsx(roe,{scope:n,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:w.useCallback(E=>y(E),[y]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(E=>E+1),[]),onFocusableItemRemove:w.useCallback(()=>P(E=>E-1),[]),children:r.jsx(it.div,{tabIndex:N||A===0?-1:0,"data-orientation":s,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{_.current=!0}),onFocus:Ke(e.onFocus,E=>{const D=!_.current;if(E.target===E.currentTarget&&D&&!N){const I=new CustomEvent(sS,eoe);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=C().filter(Y=>Y.focusable),O=k.find(Y=>Y.active),U=k.find(Y=>Y.id===v),ne=[O,U,...k].filter(Boolean).map(Y=>Y.ref.current);g8(ne,d)}}_.current=!1}),onBlur:Ke(e.onBlur,()=>j(!1))})})}),m8="RovingFocusGroupItem",p8=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=ss(),u=a||c,d=soe(m8,n),f=d.currentTabStopId===u,m=h8(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=d;return w.useEffect(()=>{if(s)return g(),()=>x()},[s,g,x]),r.jsx(N2.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(it.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ke(e.onMouseDown,y=>{s?d.onItemFocus(u):y.preventDefault()}),onFocus:Ke(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ke(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=loe(y,d.orientation,d.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(C=>C.focusable).map(C=>C.ref.current);if(N==="last")b.reverse();else if(N==="prev"||N==="next"){N==="prev"&&b.reverse();const C=b.indexOf(y.currentTarget);b=d.loop?coe(b,C+1):b.slice(C+1)}setTimeout(()=>g8(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});p8.displayName=m8;var aoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ooe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function loe(e,t,n){const s=ooe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return aoe[s]}function g8(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function coe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var v8=f8,x8=p8,uoe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vd=new WeakMap,Xx=new WeakMap,Jx={},iS=0,y8=function(e){return e&&(e.host||y8(e.parentNode))},doe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=y8(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},hoe=function(e,t,n,s){var i=doe(t,Array.isArray(e)?e:[e]);Jx[n]||(Jx[n]=new WeakMap);var a=Jx[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),x=g!==null&&g!=="false",v=(Vd.get(m)||0)+1,y=(a.get(m)||0)+1;Vd.set(m,v),a.set(m,y),o.push(m),v===1&&x&&Xx.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return d(t),l.clear(),iS++,function(){o.forEach(function(f){var m=Vd.get(f)-1,g=a.get(f)-1;Vd.set(f,m),a.set(f,g),m||(Xx.has(f)||f.removeAttribute(s),Xx.delete(f)),g||f.removeAttribute(n)}),iS--,iS||(Vd=new WeakMap,Vd=new WeakMap,Xx=new WeakMap,Jx={})}},Cb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=uoe(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),hoe(s,i,n,"aria-hidden")):function(){return null}},no=function(){return no=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},no.apply(this,arguments)};function j8(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function foe(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Wy="right-scroll-bar-position",Hy="width-before-scroll-bar",moe="with-scroll-bars-hidden",poe="--removed-body-scroll-bar-size";function aS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function goe(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var voe=typeof window<"u"?w.useLayoutEffect:w.useEffect,rI=new WeakMap;function xoe(e,t){var n=goe(null,function(s){return e.forEach(function(i){return aS(i,s)})});return voe(function(){var s=rI.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||aS(l,null)}),a.forEach(function(l){i.has(l)||aS(l,o)})}rI.set(n,e)},[e]),n}function yoe(e){return e}function joe(e,t){t===void 0&&(t=yoe);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function boe(e){e===void 0&&(e={});var t=joe(null);return t.options=no({async:!0,ssr:!1},e),t}var b8=function(e){var t=e.sideCar,n=j8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,no({},n))};b8.isSideCarExport=!0;function woe(e,t){return e.useMedium(t),b8}var w8=boe(),oS=function(){},_b=w.forwardRef(function(e,t){var n=w.useRef(null),s=w.useState({onScrollCapture:oS,onWheelCapture:oS,onTouchMoveCapture:oS}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,b=e.gapMode,C=j8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,A=xoe([n,t]),P=no(no({},C),i);return w.createElement(w.Fragment,null,d&&w.createElement(_,{sideCar:w8,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?w.cloneElement(w.Children.only(l),no(no({},P),{ref:A})):w.createElement(j,no({},P,{className:c,ref:A}),l))});_b.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_b.classNames={fullWidth:Hy,zeroRight:Wy};var Noe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Soe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Noe();return t&&e.setAttribute("nonce",t),e}function Coe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _oe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Poe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Soe())&&(Coe(t,n),_oe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Aoe=function(){var e=Poe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},N8=function(){var e=Aoe(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},Eoe={left:0,top:0,right:0,gap:0},lS=function(e){return parseInt(e||"",10)||0},koe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[lS(n),lS(s),lS(i)]},Toe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Eoe;var t=koe(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Ooe=N8(),Oh="data-scroll-locked",Doe=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(moe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Oh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wy,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Hy,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Wy," .").concat(Wy,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Hy," .").concat(Hy,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Oh,`] {
    `).concat(poe,": ").concat(l,`px;
  }
`)},sI=function(){var e=parseInt(document.body.getAttribute(Oh)||"0",10);return isFinite(e)?e:0},Moe=function(){w.useEffect(function(){return document.body.setAttribute(Oh,(sI()+1).toString()),function(){var e=sI()-1;e<=0?document.body.removeAttribute(Oh):document.body.setAttribute(Oh,e.toString())}},[])},Ioe=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;Moe();var a=w.useMemo(function(){return Toe(i)},[i]);return w.createElement(Ooe,{styles:Doe(a,!t,i,n?"":"!important")})},S2=!1;if(typeof window<"u")try{var Zx=Object.defineProperty({},"passive",{get:function(){return S2=!0,!0}});window.addEventListener("test",Zx,Zx),window.removeEventListener("test",Zx,Zx)}catch{S2=!1}var Ud=S2?{passive:!1}:!1,$oe=function(e){return e.tagName==="TEXTAREA"},S8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$oe(e)&&n[t]==="visible")},Roe=function(e){return S8(e,"overflowY")},Loe=function(e){return S8(e,"overflowX")},iI=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=C8(e,s);if(i){var a=_8(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Foe=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Boe=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},C8=function(e,t){return e==="v"?Roe(t):Loe(t)},_8=function(e,t){return e==="v"?Foe(t):Boe(t)},zoe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Voe=function(e,t,n,s,i){var a=zoe(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var g=_8(e,l),x=g[0],v=g[1],y=g[2],N=v-y-a*x;(x||N)&&C8(e,l)&&(f+=N,m+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},ey=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aI=function(e){return[e.deltaX,e.deltaY]},oI=function(e){return e&&"current"in e?e.current:e},Uoe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qoe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Woe=0,qd=[];function Hoe(e){var t=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(Woe++)[0],a=w.useState(N8)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=foe([e.lockRef.current],(e.shards||[]).map(oI),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=ey(v),j=n.current,b="deltaX"in v?v.deltaX:j[0]-N[0],C="deltaY"in v?v.deltaY:j[1]-N[1],_,A=v.target,P=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in v&&P==="h"&&A.type==="range")return!1;var E=iI(P,A);if(!E)return!0;if(E?_=P:(_=P==="v"?"h":"v",E=iI(P,A)),!E)return!1;if(!s.current&&"changedTouches"in v&&(b||C)&&(s.current=_),!_)return!0;var D=s.current||_;return Voe(D,y,v,D==="h"?b:C,!0)},[]),c=w.useCallback(function(v){var y=v;if(!(!qd.length||qd[qd.length-1]!==a)){var N="deltaY"in y?aI(y):ey(y),j=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&Uoe(_.delta,N)})[0];if(j&&j.should){y.cancelable&&y.preventDefault();return}if(!j){var b=(o.current.shards||[]).map(oI).filter(Boolean).filter(function(_){return _.contains(y.target)}),C=b.length>0?l(y,b[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=w.useCallback(function(v,y,N,j){var b={name:v,delta:y,target:N,should:j,shadowParent:Goe(N)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(C){return C!==b})},1)},[]),d=w.useCallback(function(v){n.current=ey(v),s.current=void 0},[]),f=w.useCallback(function(v){u(v.type,aI(v),v.target,l(v,e.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,ey(v),v.target,l(v,e.lockRef.current))},[]);w.useEffect(function(){return qd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ud),document.addEventListener("touchmove",c,Ud),document.addEventListener("touchstart",d,Ud),function(){qd=qd.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Ud),document.removeEventListener("touchmove",c,Ud),document.removeEventListener("touchstart",d,Ud)}},[]);var g=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(a,{styles:qoe(i)}):null,g?w.createElement(Ioe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Goe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Koe=woe(w8,Hoe);var mv=w.forwardRef(function(e,t){return w.createElement(_b,no({},e,{ref:t,sideCar:Koe}))});mv.classNames=_b.classNames;var C2=["Enter"," "],Yoe=["ArrowDown","PageUp","Home"],P8=["ArrowUp","PageDown","End"],Qoe=[...Yoe,...P8],Xoe={ltr:[...C2,"ArrowRight"],rtl:[...C2,"ArrowLeft"]},Joe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pv="Menu",[hg,Zoe,ele]=lb(pv),[md,A8]=ni(pv,[ele,Oc,Sb]),Pb=Oc(),E8=Sb(),[tle,pd]=md(pv),[nle,gv]=md(pv),k8=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,l=Pb(t),[c,u]=w.useState(null),d=w.useRef(!1),f=$s(a),m=wb(i);return w.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(BA,{...l,children:r.jsx(tle,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(nle,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};k8.displayName=pv;var rle="MenuAnchor",QA=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Pb(n);return r.jsx(dv,{...i,...s,ref:t})});QA.displayName=rle;var XA="MenuPortal",[sle,T8]=md(XA,{forceMount:void 0}),O8=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=pd(XA,t);return r.jsx(sle,{scope:t,forceMount:n,children:r.jsx(ri,{present:n||a.open,children:r.jsx(Uf,{asChild:!0,container:i,children:s})})})};O8.displayName=XA;var Qi="MenuContent",[ile,JA]=md(Qi),D8=w.forwardRef((e,t)=>{const n=T8(Qi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=pd(Qi,e.__scopeMenu),o=gv(Qi,e.__scopeMenu);return r.jsx(hg.Provider,{scope:e.__scopeMenu,children:r.jsx(ri,{present:s||a.open,children:r.jsx(hg.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(ale,{...i,ref:t}):r.jsx(ole,{...i,ref:t})})})})}),ale=w.forwardRef((e,t)=>{const n=pd(Qi,e.__scopeMenu),s=w.useRef(null),i=Jt(t,s);return w.useEffect(()=>{const a=s.current;if(a)return Cb(a)},[]),r.jsx(ZA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ole=w.forwardRef((e,t)=>{const n=pd(Qi,e.__scopeMenu);return r.jsx(ZA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),lle=Sc("MenuContent.ScrollLock"),ZA=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,y=pd(Qi,n),N=gv(Qi,n),j=Pb(n),b=E8(n),C=Zoe(n),[_,A]=w.useState(null),P=w.useRef(null),E=Jt(t,P,y.onContentChange),D=w.useRef(0),I=w.useRef(""),k=w.useRef(0),O=w.useRef(null),U=w.useRef("right"),B=w.useRef(0),ne=x?mv:w.Fragment,Y=x?{as:lle,allowPinchZoom:!0}:void 0,J=$=>{var be,F;const le=I.current+$,se=C().filter(X=>!X.disabled),re=document.activeElement,K=(be=se.find(X=>X.ref.current===re))==null?void 0:be.textValue,ee=se.map(X=>X.textValue),ge=jle(ee,le,K),xe=(F=se.find(X=>X.textValue===ge))==null?void 0:F.ref.current;(function X(te){I.current=te,window.clearTimeout(D.current),te!==""&&(D.current=window.setTimeout(()=>X(""),1e3))})(le),xe&&setTimeout(()=>xe.focus())};w.useEffect(()=>()=>window.clearTimeout(D.current),[]),Nb();const q=w.useCallback($=>{var se,re;return U.current===((se=O.current)==null?void 0:se.side)&&wle($,(re=O.current)==null?void 0:re.area)},[]);return r.jsx(ile,{scope:n,searchRef:I,onItemEnter:w.useCallback($=>{q($)&&$.preventDefault()},[q]),onItemLeave:w.useCallback($=>{var le;q($)||((le=P.current)==null||le.focus(),A(null))},[q]),onTriggerLeave:w.useCallback($=>{q($)&&$.preventDefault()},[q]),pointerGraceTimerRef:k,onPointerGraceIntentChange:w.useCallback($=>{O.current=$},[]),children:r.jsx(ne,{...Y,children:r.jsx(hv,{asChild:!0,trapped:i,onMountAutoFocus:Ke(a,$=>{var le;$.preventDefault(),(le=P.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(hd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:r.jsx(v8,{asChild:!0,...b,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:Ke(c,$=>{N.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(vb,{role:"menu","aria-orientation":"vertical","data-state":Y8(y.open),"data-radix-menu-content":"",dir:N.dir,...j,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:Ke(v.onKeyDown,$=>{const se=$.target.closest("[data-radix-menu-content]")===$.currentTarget,re=$.ctrlKey||$.altKey||$.metaKey,K=$.key.length===1;se&&($.key==="Tab"&&$.preventDefault(),!re&&K&&J($.key));const ee=P.current;if($.target!==ee||!Qoe.includes($.key))return;$.preventDefault();const xe=C().filter(be=>!be.disabled).map(be=>be.ref.current);P8.includes($.key)&&xe.reverse(),xle(xe)}),onBlur:Ke(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(D.current),I.current="")}),onPointerMove:Ke(e.onPointerMove,fg($=>{const le=$.target,se=B.current!==$.clientX;if($.currentTarget.contains(le)&&se){const re=$.clientX>B.current?"right":"left";U.current=re,B.current=$.clientX}}))})})})})})})});D8.displayName=Qi;var cle="MenuGroup",eE=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{role:"group",...s,ref:t})});eE.displayName=cle;var ule="MenuLabel",M8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{...s,ref:t})});M8.displayName=ule;var E0="MenuItem",lI="menu.itemSelect",Ab=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=w.useRef(null),o=gv(E0,e.__scopeMenu),l=JA(E0,e.__scopeMenu),c=Jt(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(lI,{bubbles:!0,cancelable:!0});f.addEventListener(lI,g=>s==null?void 0:s(g),{once:!0}),wA(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(I8,{...i,ref:c,disabled:n,onClick:Ke(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:Ke(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Ke(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||C2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ab.displayName=E0;var I8=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=JA(E0,n),l=E8(n),c=w.useRef(null),u=Jt(t,c),[d,f]=w.useState(!1),[m,g]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[a.children]),r.jsx(hg.ItemSlot,{scope:n,disabled:s,textValue:i??m,children:r.jsx(x8,{asChild:!0,...l,focusable:!s,children:r.jsx(it.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:Ke(e.onPointerMove,fg(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,fg(x=>o.onItemLeave(x))),onFocus:Ke(e.onFocus,()=>f(!0)),onBlur:Ke(e.onBlur,()=>f(!1))})})})}),dle="MenuCheckboxItem",$8=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(z8,{scope:e.__scopeMenu,checked:n,children:r.jsx(Ab,{role:"menuitemcheckbox","aria-checked":k0(n)?"mixed":n,...i,ref:t,"data-state":nE(n),onSelect:Ke(i.onSelect,()=>s==null?void 0:s(k0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$8.displayName=dle;var R8="MenuRadioGroup",[hle,fle]=md(R8,{value:void 0,onValueChange:()=>{}}),L8=w.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=$s(s);return r.jsx(hle,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(eE,{...i,ref:t})})});L8.displayName=R8;var F8="MenuRadioItem",B8=w.forwardRef((e,t)=>{const{value:n,...s}=e,i=fle(F8,e.__scopeMenu),a=n===i.value;return r.jsx(z8,{scope:e.__scopeMenu,checked:a,children:r.jsx(Ab,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":nE(a),onSelect:Ke(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});B8.displayName=F8;var tE="MenuItemIndicator",[z8,mle]=md(tE,{checked:!1}),V8=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=mle(tE,n);return r.jsx(ri,{present:s||k0(a.checked)||a.checked===!0,children:r.jsx(it.span,{...i,ref:t,"data-state":nE(a.checked)})})});V8.displayName=tE;var ple="MenuSeparator",U8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});U8.displayName=ple;var gle="MenuArrow",q8=w.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Pb(n);return r.jsx(xb,{...i,...s,ref:t})});q8.displayName=gle;var vle="MenuSub",[I6e,W8]=md(vle),vp="MenuSubTrigger",H8=w.forwardRef((e,t)=>{const n=pd(vp,e.__scopeMenu),s=gv(vp,e.__scopeMenu),i=W8(vp,e.__scopeMenu),a=JA(vp,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(QA,{asChild:!0,...u,children:r.jsx(I8,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Y8(n.open),...e,ref:al(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,fg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ke(e.onPointerLeave,fg(f=>{var g,x;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",N=y?-5:5,j=m[y?"left":"right"],b=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:j,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:j,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,f=>{var g;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||Xoe[s.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});H8.displayName=vp;var G8="MenuSubContent",K8=w.forwardRef((e,t)=>{const n=T8(Qi,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=pd(Qi,e.__scopeMenu),o=gv(Qi,e.__scopeMenu),l=W8(G8,e.__scopeMenu),c=w.useRef(null),u=Jt(t,c);return r.jsx(hg.Provider,{scope:e.__scopeMenu,children:r.jsx(ri,{present:s||a.open,children:r.jsx(hg.Slot,{scope:e.__scopeMenu,children:r.jsx(ZA,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ke(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=Joe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});K8.displayName=G8;function Y8(e){return e?"open":"closed"}function k0(e){return e==="indeterminate"}function nE(e){return k0(e)?"indeterminate":e?"checked":"unchecked"}function xle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function yle(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function jle(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=yle(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function ble(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>s!=m>s&&n<(f-u)*(s-d)/(m-d)+u&&(i=!i)}return i}function wle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ble(n,t)}function fg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Nle=k8,Sle=QA,Cle=O8,_le=D8,Ple=eE,Ale=M8,Ele=Ab,kle=$8,Tle=L8,Ole=B8,Dle=V8,Mle=U8,Ile=q8,$le=H8,Rle=K8,Eb="DropdownMenu",[Lle,$6e]=ni(Eb,[A8]),Fs=A8(),[Fle,Q8]=Lle(Eb),X8=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Fs(t),u=w.useRef(null),[d,f]=vo({prop:i,defaultProp:a??!1,onChange:o,caller:Eb});return r.jsx(Fle,{scope:t,triggerId:ss(),triggerRef:u,contentId:ss(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:l,children:r.jsx(Nle,{...c,open:d,onOpenChange:f,dir:s,modal:l,children:n})})};X8.displayName=Eb;var J8="DropdownMenuTrigger",Z8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=Q8(J8,n),o=Fs(n);return r.jsx(Sle,{asChild:!0,...o,children:r.jsx(it.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:al(t,a.triggerRef),onPointerDown:Ke(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ke(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Z8.displayName=J8;var Ble="DropdownMenuPortal",eB=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Fs(t);return r.jsx(Cle,{...s,...n})};eB.displayName=Ble;var tB="DropdownMenuContent",nB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Q8(tB,n),a=Fs(n),o=w.useRef(!1);return r.jsx(_le,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nB.displayName=tB;var zle="DropdownMenuGroup",Vle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ple,{...i,...s,ref:t})});Vle.displayName=zle;var Ule="DropdownMenuLabel",rB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ale,{...i,...s,ref:t})});rB.displayName=Ule;var qle="DropdownMenuItem",sB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ele,{...i,...s,ref:t})});sB.displayName=qle;var Wle="DropdownMenuCheckboxItem",iB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(kle,{...i,...s,ref:t})});iB.displayName=Wle;var Hle="DropdownMenuRadioGroup",Gle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Tle,{...i,...s,ref:t})});Gle.displayName=Hle;var Kle="DropdownMenuRadioItem",aB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ole,{...i,...s,ref:t})});aB.displayName=Kle;var Yle="DropdownMenuItemIndicator",oB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Dle,{...i,...s,ref:t})});oB.displayName=Yle;var Qle="DropdownMenuSeparator",lB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Mle,{...i,...s,ref:t})});lB.displayName=Qle;var Xle="DropdownMenuArrow",Jle=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Ile,{...i,...s,ref:t})});Jle.displayName=Xle;var Zle="DropdownMenuSubTrigger",cB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx($le,{...i,...s,ref:t})});cB.displayName=Zle;var ece="DropdownMenuSubContent",uB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Fs(n);return r.jsx(Rle,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uB.displayName=ece;var tce=X8,nce=Z8,rce=eB,dB=nB,hB=rB,fB=sB,mB=iB,pB=aB,gB=oB,vB=lB,xB=cB,yB=uB;const sce=tce,ice=nce,ace=w.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(xB,{ref:i,className:et("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Hte,{className:"ml-auto h-4 w-4"})]}));ace.displayName=xB.displayName;const oce=w.forwardRef(({className:e,...t},n)=>r.jsx(yB,{ref:n,className:et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));oce.displayName=yB.displayName;const jB=w.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(rce,{children:r.jsx(dB,{ref:s,sideOffset:t,className:et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));jB.displayName=dB.displayName;const Gy=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(fB,{ref:s,className:et("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Gy.displayName=fB.displayName;const lce=w.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(mB,{ref:i,className:et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(gB,{children:r.jsx(_A,{className:"h-4 w-4"})})}),t]}));lce.displayName=mB.displayName;const cce=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(pB,{ref:s,className:et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(gB,{children:r.jsx(Kte,{className:"h-2 w-2 fill-current"})})}),t]}));cce.displayName=pB.displayName;const bB=w.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(hB,{ref:s,className:et("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));bB.displayName=hB.displayName;const _2=w.forwardRef(({className:e,...t},n)=>r.jsx(vB,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",e),...t}));_2.displayName=vB.displayName;var wB={exports:{}},NB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=w;function uce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dce=typeof Object.is=="function"?Object.is:uce,hce=cf.useState,fce=cf.useEffect,mce=cf.useLayoutEffect,pce=cf.useDebugValue;function gce(e,t){var n=t(),s=hce({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return mce(function(){i.value=n,i.getSnapshot=t,cS(i)&&a({inst:i})},[e,n,t]),fce(function(){return cS(i)&&a({inst:i}),e(function(){cS(i)&&a({inst:i})})},[e]),pce(n),n}function cS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dce(e,n)}catch{return!0}}function vce(e,t){return t()}var xce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vce:gce;NB.useSyncExternalStore=cf.useSyncExternalStore!==void 0?cf.useSyncExternalStore:xce;wB.exports=NB;var yce=wB.exports;function jce(){return yce.useSyncExternalStore(bce,()=>!0,()=>!1)}function bce(){return()=>{}}var rE="Avatar",[wce,R6e]=ni(rE),[Nce,SB]=wce(rE),CB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=w.useState("idle");return r.jsx(Nce,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(it.span,{...s,ref:t})})});CB.displayName=rE;var _B="AvatarImage",PB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=SB(_B,n),l=Sce(s,a),c=$s(u=>{i(u),o.onImageLoadingStatusChange(u)});return Sr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(it.img,{...a,ref:t,src:s}):null});PB.displayName=_B;var AB="AvatarFallback",EB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=SB(AB,n),[o,l]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(it.span,{...i,ref:t}):null});EB.displayName=AB;function cI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Sce(e,{referrerPolicy:t,crossOrigin:n}){const s=jce(),i=w.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>cI(a,e));return Sr(()=>{l(cI(a,e))},[a,e]),Sr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var kB=CB,TB=PB,OB=EB;const Gr=w.forwardRef(({className:e,...t},n)=>r.jsx(kB,{ref:n,className:et("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Gr.displayName=kB.displayName;const dl=w.forwardRef(({className:e,...t},n)=>r.jsx(TB,{ref:n,className:et("aspect-square h-full w-full",e),...t}));dl.displayName=TB.displayName;const Kr=w.forwardRef(({className:e,...t},n)=>r.jsx(OB,{ref:n,className:et("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kr.displayName=OB.displayName;const Cce="modulepreload",_ce=function(e){return"/"+e},uI={},vv=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=_ce(c),c in uI)return;uI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Cce,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Pce=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vv(async()=>{const{default:s}=await Promise.resolve().then(()=>Zf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class sE extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class Ace extends sE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dI extends sE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hI extends sE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var P2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(P2||(P2={}));var Ece=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class kce{constructor(t,{headers:n={},customFetch:s,region:i=P2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Pce(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return Ece(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(v=>{throw new Ace(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new dI(f);if(!f.ok)throw new hI(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield f.json():g==="application/octet-stream"?x=yield f.blob():g==="text/event-stream"?x=f:g==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof hI||i instanceof dI?i.context:void 0}}})}}var Qs={},iE={},kb={},xv={},Tb={},Ob={},Tce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},uf=Tce();const Oce=uf.fetch,DB=uf.fetch.bind(uf),MB=uf.Headers,Dce=uf.Request,Mce=uf.Response,Zf=Object.freeze(Object.defineProperty({__proto__:null,Headers:MB,Request:Dce,Response:Mce,default:DB,fetch:Oce},Symbol.toStringTag,{value:"Module"})),Ice=gJ(Zf);var Db={};Object.defineProperty(Db,"__esModule",{value:!0});let $ce=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Db.default=$ce;var IB=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ob,"__esModule",{value:!0});const Rce=IB(Ice),Lce=IB(Db);let Fce=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Rce.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,f=null,m=null,g=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),N=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,g=200,x="OK")}catch{a.status===404&&y===""?(g=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&this.shouldThrowOnError)throw new Lce.default(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Ob.default=Fce;var Bce=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tb,"__esModule",{value:!0});const zce=Bce(Ob);let Vce=class extends zce.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Tb.default=Vce;var Uce=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xv,"__esModule",{value:!0});const qce=Uce(Tb);let Wce=class extends qce.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};xv.default=Wce;var Hce=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kb,"__esModule",{value:!0});const Qm=Hce(xv);let Gce=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Qm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qm.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};kb.default=Gce;var $B=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iE,"__esModule",{value:!0});const Kce=$B(kb),Yce=$B(xv);let Qce=class RB{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Kce.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new RB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;s||i?(l=s?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Yce.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};iE.default=Qce;var em=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.PostgrestError=Qs.PostgrestBuilder=Qs.PostgrestTransformBuilder=Qs.PostgrestFilterBuilder=Qs.PostgrestQueryBuilder=Qs.PostgrestClient=void 0;const LB=em(iE);Qs.PostgrestClient=LB.default;const FB=em(kb);Qs.PostgrestQueryBuilder=FB.default;const BB=em(xv);Qs.PostgrestFilterBuilder=BB.default;const zB=em(Tb);Qs.PostgrestTransformBuilder=zB.default;const VB=em(Ob);Qs.PostgrestBuilder=VB.default;const UB=em(Db);Qs.PostgrestError=UB.default;var Xce=Qs.default={PostgrestClient:LB.default,PostgrestQueryBuilder:FB.default,PostgrestFilterBuilder:BB.default,PostgrestTransformBuilder:zB.default,PostgrestBuilder:VB.default,PostgrestError:UB.default};const{PostgrestClient:Jce,PostgrestQueryBuilder:U6e,PostgrestFilterBuilder:q6e,PostgrestTransformBuilder:W6e,PostgrestBuilder:H6e,PostgrestError:G6e}=Xce;class Zce{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const eue="2.15.5",tue=`realtime-js/${eue}`,nue="1.0.0",A2=1e4,rue=1e3,sue=100;var Op;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Op||(Op={}));var Er;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Er||(Er={}));var ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ja||(ja={}));var E2;(function(e){e.websocket="websocket"})(E2||(E2={}));var pu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pu||(pu={}));class iue{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class qB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var On;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(On||(On={}));const fI=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=aue(o,e,t,i),a),{})},aue=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?WB(a,o):k2(o)},WB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return uue(t,n)}switch(e){case On.bool:return oue(t);case On.float4:case On.float8:case On.int2:case On.int4:case On.int8:case On.numeric:case On.oid:return lue(t);case On.json:case On.jsonb:return cue(t);case On.timestamp:return due(t);case On.abstime:case On.date:case On.daterange:case On.int4range:case On.int8range:case On.money:case On.reltime:case On.text:case On.time:case On.timestamptz:case On.timetz:case On.tsrange:case On.tstzrange:return k2(t);default:return k2(t)}},k2=e=>e,oue=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lue=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cue=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uue=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>WB(t,l))}return e},due=e=>typeof e=="string"?e.replace(" ","T"):e,HB=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class uS{constructor(t,n,s={},i=A2){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mI||(mI={}));class Dp{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Dp.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Dp.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pI||(pI={}));var Mp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mp||(Mp={}));var Bo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bo||(Bo={}));class aE{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Er.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uS(this,ja.join,this.params,this.timeout),this.rejoinTimer=new qB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Er.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Er.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ja.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Dp(this),this.broadcastEndpointURL=HB(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Er.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Mp.PRESENCE]&&this.bindings[Mp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Bo.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Bo.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(Bo.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,N=[];for(let j=0;j<y;j++){const b=v[j],{filter:{event:C,schema:_,table:A,filter:P}}=b,E=g&&g[j];if(E&&E.event===C&&E.schema===_&&E.table===A&&E.filter===P)N.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Er.errored,t==null||t(Bo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Bo.SUBSCRIBED);return}}).receive("error",g=>{this.state=Er.errored,t==null||t(Bo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Er.joined&&t===Mp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Er.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ja.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new uS(this,ja.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Er.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uS(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sue){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ja;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,n,s);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var x,v,y,N,j,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const C=g.id,_=(x=g.filter)===null||x===void 0?void 0:x.event;return C&&((v=n.ids)===null||v===void 0?void 0:v.includes(C))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const C=(j=(N=g==null?void 0:g.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return C==="*"||C===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:y,commit_timestamp:N,type:j,errors:b}=x;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:N,eventType:j,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(m,s)})}_isClosed(){return this.state===Er.closed}_isJoined(){return this.state===Er.joined}_isJoining(){return this.state===Er.joining}_isLeaving(){return this.state===Er.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&aE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ja.close,{},t)}_onError(t){this._on(ja.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Er.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=fI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=fI(t.columns,t.old_record)),n}}const dS=()=>{},ty={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hue=[1e3,2e3,5e3,1e4],fue=1e4,mue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pue{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=A2,this.transport=null,this.heartbeatIntervalMs=ty.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dS,this.ref=0,this.reconnectTimer=null,this.logger=dS,this.conn=null,this.sendBuffer=[],this.serializer=new iue,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>vv(async()=>{const{default:l}=await Promise.resolve().then(()=>Zf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${E2.websocket}`,this.httpEndpoint=HB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zce.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nue}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Op.connecting:return pu.Connecting;case Op.open:return pu.Open;case Op.closing:return pu.Closing;default:return pu.Closed}}isConnected(){return this.connectionState()===pu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new aE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rue,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ty.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${s} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ja.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([mue],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:tue};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ja.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new qB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ty.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:A2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ty.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:dS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>hue[f-1]||fue,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class oE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gue extends oE{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class T2 extends oE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var vue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const GB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vv(async()=>{const{default:s}=await Promise.resolve().then(()=>Zf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},xue=()=>vue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vv(()=>Promise.resolve().then(()=>Zf),void 0)).Response:Response}),O2=e=>{if(Array.isArray(e))return e.map(n=>O2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=O2(s)}),t},yue=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var gd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const hS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jue=(e,t,n)=>gd(void 0,void 0,void 0,function*(){const s=yield xue();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new gue(hS(i),a,o))}).catch(i=>{t(new T2(hS(i),i))}):t(new T2(hS(e),e))}),bue=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?i:(yue(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function yv(e,t,n,s,i,a){return gd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,bue(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>jue(c,l,s))})})}function T0(e,t,n,s){return gd(this,void 0,void 0,function*(){return yv(e,"GET",t,n,s)})}function Xa(e,t,n,s,i){return gd(this,void 0,void 0,function*(){return yv(e,"POST",t,s,i,n)})}function D2(e,t,n,s,i){return gd(this,void 0,void 0,function*(){return yv(e,"PUT",t,s,i,n)})}function wue(e,t,n,s){return gd(this,void 0,void 0,function*(){return yv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function KB(e,t,n,s,i){return gd(this,void 0,void 0,function*(){return yv(e,"DELETE",t,s,i,n)})}var _s=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Nue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sue{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=GB(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return _s(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},gI),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?D2:Xa)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}upload(t,n,s){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return _s(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:gI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield D2(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(kr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return _s(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Xa(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new oE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kr(s))return{data:null,error:s};throw s}})}update(t,n,s){return _s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return _s(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}copy(t,n,s){return _s(this,void 0,void 0,function*(){try{return{data:{path:(yield Xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return _s(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Xa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return _s(this,void 0,void 0,function*(){try{const i=yield Xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}download(t,n){return _s(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield T0(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(kr(l))return{data:null,error:l};throw l}})}info(t){return _s(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield T0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:O2(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kr(s))return{data:null,error:s};throw s}})}exists(t){return _s(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield wue(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kr(s)&&s instanceof T2){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return _s(this,void 0,void 0,function*(){try{return{data:yield KB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}list(t,n,s){return _s(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Nue),n),{prefix:t||""});return{data:yield Xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}listV2(t,n){return _s(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Xa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kr(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Cue="2.12.1",_ue={"X-Client-Info":`storage-js/${Cue}`};var Wd=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Pue{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},_ue),n),this.fetch=GB(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Wd(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}getBucket(t){return Wd(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Wd(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kr(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Wd(this,void 0,void 0,function*(){try{return{data:yield D2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kr(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Wd(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Wd(this,void 0,void 0,function*(){try{return{data:yield KB(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}}class Aue extends Pue{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new Sue(this.url,this.headers,t,this.fetch)}}const Eue="2.57.4";let xp="";typeof Deno<"u"?xp="deno":typeof document<"u"?xp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xp="react-native":xp="node";const kue={"X-Client-Info":`supabase-js-${xp}/${Eue}`},Tue={headers:kue},Oue={schema:"public"},Due={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mue={};var Iue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const $ue=e=>{let t;return e?t=e:typeof fetch>"u"?t=DB:t=fetch,(...n)=>t(...n)},Rue=()=>typeof Headers>"u"?MB:Headers,Lue=(e,t,n)=>{const s=$ue(n),i=Rue();return(a,o)=>Iue(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var Fue=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function Bue(e){return e.endsWith("/")?e:e+"/"}function zue(e,t){var n,s;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Fue(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Vue(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bue(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const YB="2.71.1",nh=30*1e3,M2=3,fS=M2*nh,Uue="http://localhost:9999",que="supabase.auth.token",Wue={"X-Client-Info":`gotrue-js/${YB}`},I2="X-Supabase-Api-Version",QB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gue=10*60*1e3;class lE extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Lt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Kue extends lE{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Yue(e){return Lt(e)&&e.name==="AuthApiError"}class XB extends lE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class $c extends lE{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Fl extends $c{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Que(e){return Lt(e)&&e.name==="AuthSessionMissingError"}class ny extends $c{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ry extends $c{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sy extends $c{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xue(e){return Lt(e)&&e.name==="AuthImplicitGrantRedirectError"}class vI extends $c{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $2 extends $c{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function mS(e){return Lt(e)&&e.name==="AuthRetryableFetchError"}class xI extends $c{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class R2 extends $c{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const O0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yI=` 	
\r=`.split(""),Jue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yI.length;t+=1)e[yI[t].charCodeAt(0)]=-2;for(let t=0;t<O0.length;t+=1)e[O0[t].charCodeAt(0)]=t;return e})();function jI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(O0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(O0[s]),t.queuedBits-=6}}function JB(e,t,n){const s=Jue[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bI(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{tde(o,s,n)};for(let o=0;o<e.length;o+=1)JB(e.charCodeAt(o),i,a);return t.join("")}function Zue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ede(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Zue(s,t)}}function tde(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nde(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)JB(e.charCodeAt(i),n,s);return new Uint8Array(t)}function rde(e){const t=[];return ede(e,n=>t.push(n)),new Uint8Array(t)}function sde(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>jI(i,n,s)),jI(null,n,s),t.join("")}function ide(e){return Math.round(Date.now()/1e3)+e}function ade(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ma=()=>typeof window<"u"&&typeof document<"u",ru={tested:!1,writable:!1},ZB=()=>{if(!ma())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ru.tested)return ru.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ru.tested=!0,ru.writable=!0}catch{ru.tested=!0,ru.writable=!1}return ru.writable};function ode(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const ez=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vv(async()=>{const{default:s}=await Promise.resolve().then(()=>Zf);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},lde=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rh=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},su=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Il=async(e,t)=>{await e.removeItem(t)};class Mb{constructor(){this.promise=new Mb.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mb.promiseConstructor=Promise;function pS(e){const t=e.split(".");if(t.length!==3)throw new R2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Hue.test(t[s]))throw new R2("JWT not in base64url format");return{header:JSON.parse(bI(t[0])),payload:JSON.parse(bI(t[1])),signature:nde(t[2]),raw:{header:t[0],payload:t[1]}}}async function cde(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ude(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function dde(e){return("0"+e.toString(16)).substr(-2)}function hde(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,dde).join("")}async function fde(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function mde(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await fde(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hd(e,t,n=!1){const s=hde();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await rh(e,`${t}-code-verifier`,i);const a=await mde(s);return[a,s===a?"plain":"s256"]}const pde=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gde(e){const t=e.headers.get(I2);if(!t||!t.match(pde))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vde(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xde(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gd(e){if(!yde.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wI(e){return JSON.parse(JSON.stringify(e))}var jde=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const uu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bde=[502,503,504];async function NI(e){var t;if(!lde(e))throw new $2(uu(e),0);if(bde.includes(e.status))throw new $2(uu(e),e.status);let n;try{n=await e.json()}catch(a){throw new XB(uu(a),a)}let s;const i=gde(e);if(i&&i.getTime()>=QB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new xI(uu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Fl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new xI(uu(n),e.status,n.weak_password.reasons);throw new Kue(uu(n),e.status||500,s)}const wde=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Qt(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[I2]||(a[I2]=QB["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Nde(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Nde(e,t,n,s,i,a){const o=wde(t,s,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new $2(uu(c),0)}if(l.ok||await NI(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await NI(c)}}function Lo(e){var t;let n=null;Pde(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ide(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function SI(e){const t=Lo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Sde(e){return{data:e,error:null}}function Cde(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=jde(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function _de(e){return e}function Pde(e){return e.access_token&&e.refresh_token&&e.expires_in}const vS=["global","local","others"];var Ade=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class Ede{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=ez(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=vS[0]){if(vS.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vS.join(", ")}`);try{return await Qt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Gl})}catch(s){if(Lt(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=Ade(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Cde,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Lt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gl})}catch(n){if(Lt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:_de});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Lt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Gd(t);try{return await Qt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gl})}catch(n){if(Lt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Gd(t);try{return await Qt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Gl})}catch(s){if(Lt(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Gd(t);try{return await Qt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Gl})}catch(s){if(Lt(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Gd(t.userId);try{const{data:n,error:s}=await Qt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Lt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Gd(t.userId),Gd(t.id);try{return{data:await Qt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}}}function CI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function kde(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kd={debug:!!(globalThis&&ZB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tz extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Tde extends tz{}async function Ode(e,t,n){Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Kd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tde(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}kde();const Dde={url:Uue,storageKey:que,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _I(e,t,n){return await n()}const Yd={};class mg{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mg.nextInstanceID,mg.nextInstanceID+=1,this.instanceID>0&&ma()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Dde),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ede({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ez(i.fetch),this.lock=i.lock||_I,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ma()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ode:this.lock=_I,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=CI(this.memoryStorage)),ma()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Yd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Yd[this.storageKey]=Object.assign(Object.assign({},Yd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Yd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yd[this.storageKey]=Object.assign(Object.assign({},Yd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${YB}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ode(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ma()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Xue(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Lt(n)?{error:n}:{error:new XB("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Lo}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Lt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Hd(this.storage,this.storageKey)),a=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:Lo})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Lo})}else throw new ry("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Lt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:SI})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:SI})}else throw new ry("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ny}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Lt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,o,l,c,u,d,f,m,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:N,statement:j,options:b}=t;let C;if(ma())if(typeof N=="object")C=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))C=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const A=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),j?{statement:j}:null));let P;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")P=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)P=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const A=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:y,error:N}=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:sde(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Lo});if(N)throw N;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ny}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:N})}catch(y){if(Lt(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await su(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Lo});if(await Il(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ny}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Lt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Lo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ny}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Lt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hd(this.storage,this.storageKey));const{error:f}=await Qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ry("You must provide either an email or phone number.")}catch(l){if(Lt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Lo});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Lt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Hd(this.storage,this.storageKey)),await Qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Sde})}catch(a){if(Lt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Fl;const{error:i}=await Qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Lt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await Qt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await Qt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ry("You must provide either an email or phone number and a type")}catch(n){if(Lt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await su(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<fS:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await su(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=gS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gl}):await this._useSession(async n=>{var s,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fl}:await Qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Gl})})}catch(n){if(Lt(n))return Que(n)&&(await this._removeSession(),await Il(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Fl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Hd(this.storage,this.storageKey));const{data:u,error:d}=await Qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Gl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Lt(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fl;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=pS(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Lt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Fl;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Lt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ma())throw new sy("No browser detected.");if(t.error||t.error_description||t.error_code)throw new sy(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vI("No code detected.");const{data:j,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new sy("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=nh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const N={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(s){if(Lt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await su(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Yue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Il(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ade(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Hd(this.storage,this.storageKey,!0));try{return await Qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Lt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Qt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ma()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Lt(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await Qt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Lt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await ude(async i=>(i>0&&await cde(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&mS(a)&&Date.now()+o-s<nh})}catch(s){if(this._debug(n,"error",s),Lt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),ma()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await su(this.storage,this.storageKey);if(i&&this.userStorage){let o=await su(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await rh(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:gS()}else if(i&&!i.user&&!i.user){const o=await su(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Il(this.storage,this.storageKey+"-user"),await rh(this.storage,this.storageKey,i)):i.user=gS()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fS;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${fS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),mS(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Fl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mb;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Fl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Lt(a)){const o={session:null,error:a};return mS(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await rh(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=wI(i);await rh(this.storage,this.storageKey,a)}else{const i=wI(n);await rh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Il(this.storage,this.storageKey),await Il(this.storage,this.storageKey+"-code-verifier"),await Il(this.storage,this.storageKey+"-user"),this.userStorage&&await Il(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ma()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/nh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nh}ms, refresh threshold is ${M2} ticks`),i<=M2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tz)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ma()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Hd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Qt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Lt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Qt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Lt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await Qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Gue>i)return s;const{data:a,error:o}=await Qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};s=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=pS(s);n!=null&&n.allowExpired||vde(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=xde(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,rde(`${l}.${c}`)))throw new R2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}}}mg.nextInstanceID=0;const Mde=mg;class Ide extends Mde{constructor(t){super(t)}}var $de=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(f){o(f)}}function c(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Rde{constructor(t,n,s){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const l=Vue(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Oue,realtime:Mue,auth:Object.assign(Object.assign({},Due),{storageKey:c}),global:Tue},d=zue(s??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Lue(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Jce(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Aue(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new kce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return $de(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ide({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pue(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lde=(e,t,n)=>new Rde(e,t,n);function Fde(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Fde()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nz="https://fqmeqckchbppabetefuk.supabase.co",Bde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxbWVxY2tjaGJwcGFiZXRlZnVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzUzODYsImV4cCI6MjA3MjI1MTM4Nn0.MkyVvQVmqUXShrHXHTpHib0Dyq39ZB47KhGZZgBlF-o",Dt=Lde(nz,Bde,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),rz=async()=>{const{data:{user:e},error:t}=await Dt.auth.getUser();if(t)throw t;return e},Ib=async()=>{const e=await rz();if(!e)return null;const{data:t,error:n}=await Dt.from("user_profiles").select("*").eq("id",e.id).single();if(n)throw n;return t},zde=async(e,t,n,s,i="assistant")=>{const{data:a,error:o}=await Dt.auth.signUp({email:e,password:t,options:{data:{username:n,full_name:s,role:i}}});if(o)throw o;return a},Vde=async()=>{const{error:e}=await Dt.auth.signOut();if(e)throw e;try{localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-"+nz.split("//")[1].split(".")[0]+"-auth-token"),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(t){console.warn("Error clearing auth storage:",t)}},Ude=async e=>{const t=await rz();if(!t)throw new Error("No authenticated user");const{data:n,error:s}=await Dt.from("user_profiles").select("*").eq("id",t.id).single();n||await sz(t);const i=Object.entries({...e,updated_at:new Date().toISOString()}).reduce((l,[c,u])=>(u!=null&&u!==""&&(l[c]=u),l),{}),{data:a,error:o}=await Dt.from("user_profiles").update(i).eq("id",t.id).select().single();if(o){const l=t.user_metadata||{},c=l.full_name||l.name||"",u=(n==null?void 0:n.username)||l.username||t.email.split("@")[0],d=(n==null?void 0:n.role)||l.role||"assistant",f={id:t.id,email:t.email,username:u,full_name:c,role:d,...i},{data:m,error:g}=await Dt.from("user_profiles").upsert(f).select().single();if(g)throw new Error(`Profile update failed: ${g.message}`);return m}return a},sz=async e=>{const t=await Ib();if(t)return t;const n=e.user_metadata||{},s=n.full_name||n.name||"",i=n.username||e.email.split("@")[0],a=n.role||"assistant",{data:o,error:l}=await Dt.from("user_profiles").insert({id:e.id,email:e.email,username:i,full_name:s,role:a}).select().single();if(l)throw l;return o},qde=async e=>{const{data:t,error:n}=await Dt.auth.resetPasswordForEmail(e,{redirectTo:"http://localhost:8000/dashboard/reset-password"});if(n)throw n;return t},Pa={all:["auth"],session:()=>[...Pa.all,"session"]},Wde=async()=>{try{const{data:{session:e},error:t}=await Dt.auth.getSession();if(t||!(e!=null&&e.user))return null;let n=null;try{n=await Ib()}catch{try{n=await sz(e.user)}catch(i){console.error("Failed to create user profile:",i);const a=e.user.user_metadata||{},o=a.full_name||a.name||"",l=a.username||e.user.email.split("@")[0];n={id:e.user.id,email:e.user.email,username:l,full_name:o,role:"assistant",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:a.avatar_url||a.picture||null}}}return n?{id:e.user.id,email:e.user.email,profile:n}:null}catch{return null}},Hde=()=>bo({queryKey:Pa.session(),queryFn:Wde,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!1,networkMode:"offlineFirst"}),Gde=()=>{const e=Yr();return as({mutationFn:async({email:t,password:n})=>{const{data:s,error:i}=await Dt.auth.signInWithPassword({email:t,password:n});if(i){const o={"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email avant de vous connecter","Too many requests":"Trop de tentatives de connexion. Veuillez ressayer plus tard"}[i.message]||i.message;throw new Error(o)}if(!s.user||!s.session)throw new Error("chec de connexion - session invalide");return s.user},onSuccess:async()=>{await new Promise(t=>setTimeout(t,100)),e.refetchQueries({queryKey:Pa.session()})},onError:()=>{e.setQueryData(Pa.session(),null)}})},Kde=()=>{const e=Yr();return as({mutationFn:async()=>{await Vde()},onSuccess:()=>{e.setQueryData(Pa.session(),null),e.removeQueries({queryKey:Pa.session()})}})},Yde=()=>{const e=Yr();return as({mutationFn:async()=>{const t=await Ib();if(!t)throw new Error("Could not refresh profile");return t},onSuccess:()=>{e.invalidateQueries({queryKey:Pa.session()})}})},Qde=()=>as({mutationFn:async()=>{const{data:e,error:t}=await Dt.auth.signInWithOAuth({provider:"google",options:{redirectTo:"http://localhost:8000/dashboard/dashboard"}});if(t)throw t;return e}}),Xde=()=>as({mutationFn:async e=>{await qde(e)}}),iz=w.createContext(void 0);function Jde({children:e}){const{data:t,isLoading:n,error:s}=Hde(),i=Gde(),a=Kde(),o=Yde(),l=Yr(),[c,u]=w.useState(!1),d=w.useRef(!1);w.useEffect(()=>{if(d.current)return;d.current=!0;const{data:{subscription:N}}=Dt.auth.onAuthStateChange((b,C)=>{b==="SIGNED_OUT"?(l.setQueryData(Pa.session(),null),l.removeQueries({queryKey:Pa.session()})):b==="TOKEN_REFRESHED"&&C&&l.invalidateQueries({queryKey:Pa.session()}),c||u(!0)}),j=setTimeout(()=>{c||u(!0)},2e3);return()=>{N.unsubscribe(),clearTimeout(j),d.current=!1}},[l,c]);const f=async(N,j)=>{try{return await i.mutateAsync({email:N,password:j}),!0}catch(b){return console.error("Login error:",b),!1}},m=async()=>{try{await a.mutateAsync()}catch(N){console.error("Logout error:",N),l.setQueryData(Pa.session(),null)}},g=async()=>{await o.mutateAsync()},x=!c||n&&!s&&t===void 0,v=i.isPending||a.isPending,y={user:t||null,isAuthenticated:!!t&&c,isLoading:x||v,login:f,logout:m,refreshProfile:g};return r.jsx(iz.Provider,{value:y,children:e})}function Rc(){const e=w.useContext(iz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function PI(){const{user:e,logout:t}=Rc(),{toast:n}=It(),s=Jf(),[i,a]=w.useState(!1),o=async()=>{a(!0),await new Promise(d=>setTimeout(d,500)),t(),n({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs."}),a(!1)};if(!e)return null;const l=d=>d?d.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),c=d=>{switch(d){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},u=d=>{switch(d){case"admin":return r.jsx(wi,{className:"h-3 w-3"});case"assistant":return r.jsx(Rr,{className:"h-3 w-3"});default:return r.jsx(Rr,{className:"h-3 w-3"})}};return r.jsxs(sce,{children:[r.jsx(ice,{asChild:!0,children:r.jsx(V,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:r.jsx(Gr,{className:"h-8 w-8",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-sm",children:l(e.profile.full_name)})})})}),r.jsxs(jB,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(bB,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:e.profile.full_name||e.profile.username}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u(e.profile.role),r.jsx("span",{className:"text-xs text-muted-foreground",children:c(e.profile.role)})]})]})}),r.jsx(_2,{}),r.jsxs(Gy,{className:"cursor-pointer",onClick:()=>s("/profile"),children:[r.jsx(Rr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profil"})]}),r.jsxs(Gy,{className:"cursor-pointer",onClick:()=>s("/auth-settings"),children:[r.jsx(nne,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Paramtres de connexion"})]}),r.jsx(_2,{}),r.jsxs(Gy,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:o,disabled:i,children:[r.jsx(t6,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:i?"Dconnexion...":"Se dconnecter"})]})]})]})}const az=[{icon:Zte,label:"Dashboard",path:"/dashboard"},{icon:Ia,label:"Clients",path:"/clients"},{icon:qt,label:"Animaux",path:"/pets"},{icon:At,label:"RDV",path:"/appointments"},{icon:tr,label:"Consultations",path:"/consultations"},{icon:Ts,label:"Vaccinations",path:"/vaccinations"},{icon:ac,label:"Antiparasites",path:"/antiparasites"},{icon:e6,label:"Historiques",path:"/history"},{icon:QC,label:"Farm Mgmt",path:"/farm"}],oz=[{icon:Gn,label:"Stock",path:"/stock"},{icon:Z5,label:"Comptabilit",path:"/accounting"},{icon:Yte,label:"Paramtres",path:"/settings"}],Zde=[...az,...oz];function hs(){const e=Ic(),[t,n]=w.useState(!1);return r.jsx("nav",{className:"bg-card border-b shadow-card",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[r.jsxs(Sa,{to:"/dashboard",className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(qt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-primary"}),r.jsx("h1",{className:"text-lg sm:text-xl font-bold gradient-primary bg-clip-text text-transparent hidden sm:block",children:"VetPro CRM"}),r.jsx("h1",{className:"text-base sm:text-lg font-bold gradient-primary bg-clip-text text-transparent sm:hidden",children:"VetPro"})]}),r.jsx("div",{className:"hidden sm:block",children:r.jsx(XM,{})})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[az.map(s=>r.jsx(V,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",asChild:!0,children:r.jsxs(Sa,{to:s.path,children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:s.label})]})},s.path)),r.jsxs("div",{className:"relative group",children:[r.jsxs(V,{variant:"ghost",size:"sm",className:"gap-1 px-3 transition-all hover:medical-glow",children:[r.jsx(pM,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden xl:inline",children:"Plus"})]}),r.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.jsx("div",{className:"py-1",children:oz.map(s=>r.jsxs(Sa,{to:s.path,className:`flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted ${e.pathname===s.path?"bg-primary text-primary-foreground":""}`,children:[r.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.path))})})]})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-2",children:r.jsx(PI,{})}),r.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[r.jsx("div",{className:"sm:hidden",children:r.jsx(XM,{})}),r.jsx(PI,{}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"gap-1 p-2",children:t?r.jsx(fb,{className:"h-4 w-4"}):r.jsx(pM,{className:"h-4 w-4"})})]})]}),t&&r.jsx("div",{className:"lg:hidden mt-2 pt-2 border-t",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:Zde.map(s=>r.jsx(V,{variant:e.pathname===s.path?"default":"ghost",size:"sm",className:"gap-2 justify-start text-xs sm:text-sm",asChild:!0,onClick:()=>n(!1),children:r.jsxs(Sa,{to:s.path,children:[r.jsx(s.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"truncate",children:s.label})]})},s.path))})})]})})}class ehe extends w.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t,n;return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:r.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-lg shadow-lg border border-red-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:" Erreur dans l'application"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Erreur :"}),r.jsx("pre",{className:"bg-red-100 p-4 rounded text-sm text-red-800 overflow-auto",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-700 mb-2",children:"Stack Trace :"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 overflow-auto max-h-64",children:(n=this.state.errorInfo)==null?void 0:n.componentStack})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recharger la page"}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Retour"})]})]})]})}):this.props.children}}const lz=w.createContext(void 0),AI=[{id:1,name:"Marie Dubois",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",idNumber:"1234567890123",pets:[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",gender:"female",birthDate:"2021-03-15",weight:"28 kg",color:"Dor",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:4,name:"Luna",type:"Chat",breed:"Siamois",gender:"female",birthDate:"2022-05-12",weight:"3.8 kg",color:"Crme et marron",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-08",nextAppointment:"2024-02-08",microchip:"982000111222333",vaccinations:["Rage","FVRCP","FeLV"]}],lastVisit:"2024-01-15",totalVisits:12},{id:2,name:"Jean Martin",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",address:"45 Avenue des Roses",city:"Lyon",postalCode:"69000",idNumber:"9876543210987",pets:[{id:2,name:"Whiskers",type:"Chat",breed:"Persan",gender:"male",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]}],lastVisit:"2024-01-10",totalVisits:8},{id:3,name:"Sophie Leroux",firstName:"Sophie",lastName:"Leroux",email:"sophie.leroux@email.com",phone:"06 45 67 89 12",address:"78 Boulevard Maritime",city:"Marseille",postalCode:"13000",idNumber:"4567891234567",pets:[{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",gender:"male",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]},{id:5,name:"Max",type:"Chien",breed:"Labrador",gender:"male",birthDate:"2020-09-03",weight:"30 kg",color:"Noir",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-22",nextAppointment:"2024-02-22",microchip:"982000444555666",vaccinations:["Rage","DHPP","Lyme","Bordetella"]}],lastVisit:"2024-01-18",totalVisits:15}],Xm=[{id:1,name:"Bella",type:"Chien",breed:"Golden Retriever",birthDate:"2021-03-15",weight:"28 kg",color:"Dor",ownerId:1,owner:"Marie Dubois",status:"healthy",lastVisit:"2024-01-15",nextAppointment:"2024-01-25",microchip:"982000123456789",vaccinations:["Rage","DHPP","Lyme"]},{id:2,name:"Whiskers",type:"Chat",breed:"Persan",birthDate:"2019-08-22",weight:"4.5 kg",color:"Blanc",ownerId:2,owner:"Jean Martin",status:"treatment",lastVisit:"2024-01-10",nextAppointment:"2024-01-22",microchip:"982000987654321",vaccinations:["Rage","FVRCP"]},{id:3,name:"Rex",type:"Chien",breed:"Berger Allemand",birthDate:"2017-11-10",weight:"32 kg",color:"Noir et feu",ownerId:3,owner:"Sophie Leroux",status:"healthy",lastVisit:"2024-01-18",nextAppointment:"2024-02-01",microchip:"982000555444333",vaccinations:["Rage","DHPP","Bordetella"]}],iy=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",weight:"28.2 kg",temperature:"38.5",symptoms:"Contrle annuel, bonne sant gnrale",diagnosis:"Aucun problme dtect",treatment:"Vaccination annuelle",medications:"Rappel vaccin DHPP",followUp:"Contrle dans 1 an",cost:"85.00",notes:"Animal en excellente sant",photos:[],createdAt:"2024-01-15T10:30:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",weight:"4.3 kg",temperature:"39.2",symptoms:"Perte d'apptit, lthargie",diagnosis:"Infection urinaire",treatment:"Antibiotiques",medications:"Amoxicilline 50mg 2x/jour pendant 7 jours",followUp:"Contrle dans 1 semaine",cost:"120.00",notes:"Surveiller la consommation d'eau",photos:[],createdAt:"2024-01-10T14:15:00Z"}],ay=[{id:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-25",time:"14:30",type:"vaccination",duration:30,reason:"Vaccination annuelle",notes:"Rappel vaccinal complet",status:"scheduled",reminderSent:!1,createdAt:"2024-01-20T09:00:00Z"},{id:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-22",time:"10:00",type:"controle",duration:45,reason:"Contrle post-traitement",notes:"Vrifier l'amlioration de l'apptit",status:"confirmed",reminderSent:!0,createdAt:"2024-01-18T16:30:00Z"},{id:3,clientId:3,clientName:"Sophie Leroux",petId:3,petName:"Rex",date:"2024-01-26",time:"16:00",type:"sterilisation",duration:60,reason:"Strilisation",notes:"Jene 12h avant l'intervention",status:"scheduled",reminderSent:!1,createdAt:"2024-01-19T11:15:00Z"}],oy=[{id:1,consultationId:1,clientId:1,clientName:"Marie Dubois",petId:1,petName:"Bella",date:"2024-01-15",prescribedBy:"Dr. Martin",diagnosis:"Trachobronchite",medications:[{id:1,name:"Doxycycline",dosage:"100mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprims",refills:0,cost:25.5},{id:2,name:"Sirop antitussif",dosage:"5ml",frequency:"3x/jour",duration:"5 jours",instructions:"Donner 30 minutes avant les repas",quantity:75,unit:"ml",refills:1,cost:15}],instructions:"Surveiller la temprature et l'apptit. Retour en cas d'aggravation.",duration:"7 jours",followUpDate:"2024-01-22",status:"active",notes:"Patient calme, bon apptit maintenu",createdAt:"2024-01-15T10:30:00Z"},{id:2,consultationId:2,clientId:2,clientName:"Jean Martin",petId:2,petName:"Whiskers",date:"2024-01-10",prescribedBy:"Dr. Martin",diagnosis:"Infection urinaire",medications:[{id:3,name:"Amoxicilline",dosage:"50mg",frequency:"2x/jour",duration:"7 jours",instructions:"Donner avec de la nourriture",quantity:14,unit:"comprims",refills:0,cost:18}],instructions:"Augmenter la consommation d'eau. Surveiller les urines.",duration:"7 jours",followUpDate:"2024-01-17",status:"completed",notes:"Amlioration progressive",createdAt:"2024-01-10T14:15:00Z"}],ly=[{id:1,name:"Ferme des Prairies",owner:"Pierre Durand",address:"123 Route de la Campagne, 45000 Orlans",coordinates:{latitude:47.9056,longitude:1.919},phone:"02 38 45 67 89",email:"p.durand@fermedespra.fr",types:["Bovin laitier"],totalAnimals:85,animalDetails:[{category:"Bovins laitiers",maleCount:3,femaleCount:82,breeds:["Holstein","Prim'Holstein"],ageGroups:["Veaux (0-6 mois)","Gnisses (6-24 mois)","Vaches adultes"]}],lastVisit:"2024-01-15",status:"active",veterinarian:"Dr. Dupont",notes:"Exploitation bien gre, animaux en bonne sant",registrationNumber:"FR45123456789",surfaceArea:45.5,buildingDetails:"table moderne 850m, stabulation libre, salle de traite 2x8",equipmentDetails:"Tracteur John Deere, Tank  lait 2000L, Systme de ventilation automatique",certifications:["Agriculture Biologique","Haute Valeur Environnementale"],insuranceDetails:"Groupama - Police n123456789",emergencyContact:{name:"Marie Durand",phone:"06 12 34 56 78",relation:"pouse"},photos:[{id:"photo_1",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBDaGVwdGVsPC90ZXh0Pgo8L3N2Zz4K",description:"Vaches Holstein dans le pr",category:"cheptel",uploadedAt:"2024-01-15T10:00:00Z"},{id:"photo_2",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiM2QjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QaG90byBCw6J0aW1lbnRzPC90ZXh0Pgo8L3N2Zz4K",description:"table moderne avec salle de traite",category:"batiments",uploadedAt:"2024-01-15T10:00:00Z"}],createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"levage Martin",owner:"Jean-Luc Martin",address:"456 Chemin des Champs, 41000 Blois",coordinates:{latitude:47.5886,longitude:1.334},phone:"02 54 78 90 12",email:"jl.martin@elevagemartin.fr",types:["Porcin"],totalAnimals:150,animalDetails:[{category:"Porcs",maleCount:75,femaleCount:75,breeds:["Large White","Landrace"],ageGroups:["Porcelets (0-2 mois)","Porcs en croissance (2-6 mois)"]}],lastVisit:"2024-01-10",status:"active",veterinarian:"Dr. Martin",notes:"Nouveau systme de ventilation install",registrationNumber:"FR41987654321",surfaceArea:28.3,buildingDetails:"Porcherie 600m, nurserie 200m, systme de ventilation automatique",equipmentDetails:"Systme d'alimentation automatique, Pompe  lisier, Gnrateur de secours",certifications:["Label Rouge"],insuranceDetails:"Crdit Agricole Assurances - Police n987654321",emergencyContact:{name:"Sophie Martin",phone:"06 98 76 54 32",relation:"Sur"},createdAt:"2024-01-02T10:30:00Z"},{id:3,name:"Ferme Avicole Leroux",owner:"Marie Leroux",address:"789 Avenue des Volailles, 37000 Tours",coordinates:{latitude:47.3936,longitude:.6848},phone:"02 47 12 34 56",email:"m.leroux@avicole-leroux.fr",types:["Avicole"],totalAnimals:2500,animalDetails:[{category:"Poules pondeuses",maleCount:50,femaleCount:2e3,breeds:["ISA Brown","Lohmann Brown"],ageGroups:["Poussins (0-18 semaines)","Pondeuses (18+ semaines)"]},{category:"Poulets de chair",maleCount:225,femaleCount:225,breeds:["Cobb 500","Ross 308"],ageGroups:["0-6 semaines"]}],lastVisit:"2024-01-18",status:"attention",veterinarian:"Dr. Dupont",notes:"Problme de ventilation dtect, surveillance renforce",registrationNumber:"FR37555666777",surfaceArea:12.8,buildingDetails:"Poulailler automatis 1200m, aire de parcours 5000m",equipmentDetails:"Systme de ramassage automatique des ufs, Ventilation programmable, clairage LED",certifications:["ufs de France","Bien-tre animal"],insuranceDetails:"MMA - Police n555666777",emergencyContact:{name:"Paul Leroux",phone:"06 47 12 34 56",relation:"Fils"},createdAt:"2024-01-03T14:15:00Z"},{id:4,name:"Ferme quine du Val",owner:"Sophie Moreau",address:"12 Chemin des curies, 78000 Versailles",coordinates:{latitude:48.8044,longitude:2.1232},phone:"01 39 50 12 34",email:"s.moreau@fermeequine.fr",types:["quin"],totalAnimals:25,animalDetails:[{category:"Chevaux",maleCount:8,femaleCount:17,breeds:["Pur-sang","Selle franais","Arabe"],ageGroups:["Poulains (0-3 ans)","Jeunes chevaux (3-7 ans)","Chevaux adultes (7+ ans)"]}],lastVisit:"2024-01-20",status:"active",veterinarian:"Dr. Martin",notes:"curie de prestige, chevaux de comptition",registrationNumber:"FR78123456789",surfaceArea:15.2,buildingDetails:"curies 800m, mange couvert 1200m, carrire extrieure 2000m",equipmentDetails:"Tracteur, Systme d'arrosage automatique, clairage LED, Systme de scurit",certifications:["Bien-tre animal","quitation de tradition franaise"],insuranceDetails:"Allianz - Police n781234567",emergencyContact:{name:"Marc Moreau",phone:"06 12 34 56 78",relation:"poux"},createdAt:"2024-01-04T08:30:00Z"},{id:5,name:"Rucher des Fleurs",owner:"Jean Dupuis",address:"45 Route des Champs, 13000 Marseille",coordinates:{latitude:43.2965,longitude:5.3698},phone:"04 91 23 45 67",email:"j.dupuis@rucherdesfleurs.fr",types:["Apiculture"],totalAnimals:120,animalDetails:[{category:"Abeilles",maleCount:0,femaleCount:120,breeds:["Abeille noire","Buckfast"],ageGroups:["Reines (1-3 ans)","Ouvrires (6 semaines)","Faux-bourdons (3 mois)"]}],lastVisit:"2024-01-12",status:"active",veterinarian:"Dr. Dupont",notes:"Production de miel de qualit, apiculture biologique",registrationNumber:"FR13123456789",surfaceArea:8.5,buildingDetails:"Miellerie 200m, entrept 150m, zone de conditionnement 100m",equipmentDetails:"Extracteur de miel, Centrifugeuse, Filtres, Matriel de conditionnement",certifications:["Agriculture Biologique","Miel de France"],insuranceDetails:"MAIF - Police n131234567",emergencyContact:{name:"Marie Dupuis",phone:"06 91 23 45 67",relation:"pouse"},createdAt:"2024-01-05T11:15:00Z"}],cy=[{id:1,date:"2024-01-20",farmId:1,farmName:"Ferme des Prairies",type:"vaccination",animals:"15 bovins",veterinarian:"Dr. Dupont",description:"Vaccination contre la fivre aphteuse",status:"completed",followUp:"Contrle dans 6 mois",cost:450,notes:"Intervention russie, aucun effet secondaire",createdAt:"2024-01-20T08:00:00Z"},{id:2,date:"2024-01-18",farmId:3,farmName:"Ferme Avicole Leroux",type:"urgence",animals:"50 poules",veterinarian:"Dr. Dupont",description:"Traitement infection respiratoire",status:"ongoing",followUp:"Suivi hebdomadaire",cost:320,notes:"Traitement antibiotique en cours",createdAt:"2024-01-18T14:30:00Z"},{id:3,date:"2024-01-15",farmId:2,farmName:"levage Martin",type:"controle",animals:"Tous les porcins",veterinarian:"Dr. Martin",description:"Contrle sanitaire trimestriel",status:"completed",followUp:"Prochain contrle en avril",cost:280,notes:"Tous les paramtres dans les normes",createdAt:"2024-01-15T10:00:00Z"}],uy=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"DHPP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2025-01-15",batchNumber:"VAC2024-001",veterinarian:"Dr. Martin",notes:"Premire vaccination annuelle",status:"completed",cost:"45.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-12-31",createdAt:"2024-01-15T10:30:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Rage",vaccineType:"rabies",vaccinationCategory:"new",dateGiven:"2024-01-15",nextDueDate:"2027-01-15",batchNumber:"RAB2024-005",veterinarian:"Dr. Martin",notes:"Vaccination antirabique obligatoire",status:"completed",cost:"35.00",location:"right_shoulder",manufacturer:"Merial",expirationDate:"2026-08-15",createdAt:"2024-01-15T10:45:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:3,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",vaccineName:"FVRCP",vaccineType:"core",vaccinationCategory:"new",dateGiven:"2023-08-22",nextDueDate:"2024-08-22",batchNumber:"CAT2023-012",veterinarian:"Dr. Dupont",notes:"Vaccination de base pour chat",status:"overdue",cost:"40.00",location:"subcutaneous",manufacturer:"Virbac",expirationDate:"2025-06-30",createdAt:"2023-08-22T14:20:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:4,petId:3,petName:"Rex",clientId:3,clientName:"Sophie Leroux",vaccineName:"Bordetella",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-18",nextDueDate:"2025-01-18",batchNumber:"BOR2024-008",veterinarian:"Dr. Martin",notes:"Vaccination contre la toux de chenil",status:"completed",cost:"30.00",location:"left_shoulder",manufacturer:"Zoetis",expirationDate:"2025-09-30",createdAt:"2024-01-18T16:15:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:5,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",vaccineName:"Lyme",vaccineType:"non-core",vaccinationCategory:"new",dateGiven:"2024-01-25",nextDueDate:"2024-04-25",batchNumber:"LYM2024-003",veterinarian:"Dr. Martin",notes:"Vaccination contre la maladie de Lyme",status:"scheduled",cost:"50.00",location:"left_hip",manufacturer:"Boehringer Ingelheim",expirationDate:"2025-11-20",createdAt:"2024-01-25T09:00:00Z",isInStock:!1,stockQuantity:0,stockDeducted:!1}],Qd=[{id:1,petId:1,petName:"Bella",clientId:1,clientName:"Marie Dubois",productName:"Frontline Combo Spot-On",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",dateGiven:"2024-01-10",nextDueDate:"2024-02-10",dosage:"1 pipette",administrationRoute:"topical",veterinarian:"Dr. Martin",notes:"Application entre les omoplates",batchNumber:"FRC2024-001",manufacturer:"Boehringer Ingelheim",weight:"28kg",status:"completed",cost:"25.50",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1},{id:2,petId:2,petName:"Whiskers",clientId:2,clientName:"Jean Martin",productName:"Milbemax Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cur",dateGiven:"2024-01-05",nextDueDate:"2024-04-05",dosage:"1/2 comprim",administrationRoute:"oral",veterinarian:"Dr. Dupont",notes:"Donn avec la nourriture",batchNumber:"MLX2024-008",manufacturer:"Novartis",weight:"4.5kg",status:"completed",cost:"18.00",sideEffects:"",createdAt:new Date().toISOString(),isInStock:!1,stockQuantity:0,stockDeducted:!1}],Jm=[{id:1,name:"Frontline Combo Spot-On",species:"Chien",productType:"flea_tick",targetParasites:"Puces, Tiques, Poux broyeurs",description:"Protection complte contre puces et tiques pendant 8 semaines",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"2-60kg",ageRequirement:"Ds 8 semaines",seasonalTreatment:!0,notes:"viter le bain 48h avant et aprs application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"NexGard Spectra",species:"Chien",productType:"combined",targetParasites:"Puces, Tiques, Vers du cur, Vers ronds, Vers plats",description:"Protection combine externe et interne mensuelle",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Premire dose"},{offsetDays:30,label:"Dose mensuelle"}],weightRange:"2-60kg",ageRequirement:"Ds 8 semaines",seasonalTreatment:!1,notes:"Donner avec la nourriture pour une meilleure absorption",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Drontal Plus",species:"Chien",productType:"worming",targetParasites:"Vers ronds, Vers plats, Ankylostomes, Trichures",description:"Vermifugation large spectre",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Premire vermifugation"},{offsetDays:90,label:"Rappel trimestriel"},{offsetDays:180,label:"Rappel semestriel"}],weightRange:"2-35kg",ageRequirement:"Ds 2 semaines",seasonalTreatment:!1,notes:"Administrer le matin  jeun, rpter selon exposition aux parasites",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:4,name:"Advocate Spot-On",species:"Chien",productType:"combined",targetParasites:"Puces, Vers du cur, Vers ronds, Ankylostomes, Gale sarcoptique",description:"Protection topique combine mensuelle",manufacturer:"Bayer",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"1-40kg",ageRequirement:"Ds 7 semaines",seasonalTreatment:!1,notes:"Appliquer sur peau sche entre les omoplates",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:5,name:"Frontline Combo Chat",species:"Chat",productType:"flea_tick",targetParasites:"Puces, Tiques",description:"Protection mensuelle contre puces et tiques chez le chat",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:28,label:"Rappel mensuel"}],weightRange:"1-8kg",ageRequirement:"Ds 8 semaines",seasonalTreatment:!0,notes:"Attention aux ractions cutanes, surveiller 24h aprs application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:6,name:"Stronghold Plus",species:"Chat",productType:"combined",targetParasites:"Puces, Vers du cur, Vers ronds, Ankylostomes, Gale des oreilles",description:"Protection combine mensuelle pour chats",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"Application initiale"},{offsetDays:30,label:"Application mensuelle"}],weightRange:"0.5-8kg",ageRequirement:"Ds 6 semaines",seasonalTreatment:!1,notes:"Efficace contre gale des oreilles en 1 application",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:7,name:"Milbemax Chat",species:"Chat",productType:"worming",targetParasites:"Vers ronds, Vers plats, Vers du cur",description:"Vermifugation complte pour chats",manufacturer:"Novartis",intervals:[{offsetDays:0,label:"Premire vermifugation"},{offsetDays:90,label:"Rappel trimestriel"}],weightRange:"0.5-8kg",ageRequirement:"Ds 6 semaines",seasonalTreatment:!1,notes:"Comprims apptents, peut tre donn avec ou sans nourriture",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:8,name:"Eprinex Pour-On",species:"Bovins",productType:"external",targetParasites:"Mouches, Poux, Gales, Vers gastro-intestinaux",description:"Traitement pour-on systmique pour bovins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Application unique"},{offsetDays:84,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Tous ges",seasonalTreatment:!0,notes:"Temps d'attente viande: 15 jours, lait: 0 jour",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:9,name:"Panacur 100",species:"Bovins",productType:"worming",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires",description:"Vermifuge oral pour bovins",manufacturer:"MSD",intervals:[{offsetDays:0,label:"Traitement initial"},{offsetDays:120,label:"Rappel saisonnier"}],weightRange:"50-800kg",ageRequirement:"Ds 2 semaines",seasonalTreatment:!1,notes:"Temps d'attente viande: 14 jours, lait: 3 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:10,name:"Cydectin 0.1%",species:"Ovins",productType:"combined",targetParasites:"Vers gastro-intestinaux, Vers pulmonaires, Gales",description:"Traitement injectable pour ovins et caprins",manufacturer:"Boehringer Ingelheim",intervals:[{offsetDays:0,label:"Injection unique"},{offsetDays:90,label:"Rappel saisonnier"}],weightRange:"10-100kg",ageRequirement:"Ds 4 semaines",seasonalTreatment:!0,notes:"Temps d'attente viande: 35 jours",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],EI=[{id:1,name:"Amoxicilline 500mg",category:"medication",subcategory:"Antibiotique",description:"Antibiotique  large spectre",manufacturer:"Boehringer Ingelheim",batchNumber:"AMX2024001",dosage:"500mg",unit:"box",currentStock:15,minimumStock:5,maximumStock:50,purchasePrice:20,sellingPrice:25.5,totalValue:300,expirationDate:"2025-12-31",supplier:"Pharmacie Vtrinaire Centrale",location:"Armoire A - tagre 1",notes:"Stockage  temprature ambiante",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-15",isActive:!0,barcode:"1234567890123",sku:"MED-AMX-500"},{id:2,name:"Frontline Combo Spot-On",category:"medication",subcategory:"Antiparasitaire",description:"Traitement contre puces et tiques",manufacturer:"Boehringer Ingelheim",batchNumber:"FRC2024001",dosage:"1 pipette",unit:"pack",currentStock:8,minimumStock:10,maximumStock:100,purchasePrice:15,sellingPrice:18.75,totalValue:120,expirationDate:"2026-06-30",supplier:"VetoSupply Maroc",location:"Armoire B - tagre 2",notes:"Pour chiens 20-40kg",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-10",isActive:!0,barcode:"2345678901234",sku:"ANT-FRONT-20-40"},{id:3,name:"DHPP Canine",category:"vaccine",subcategory:"Vaccin Core",description:"Vaccin contre Distemper, Hpatite, Parvovirus, Parainfluenza",manufacturer:"Merial",batchNumber:"DHPP2024001",dosage:"1 dose",unit:"vial",currentStock:25,minimumStock:10,maximumStock:100,purchasePrice:9.5,sellingPrice:12,totalValue:237.5,expirationDate:"2025-08-15",supplier:"Vaccins Vtrinaires SA",location:"Rfrigrateur - tagre 1",notes:"Conservation 2-8C",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-20",isActive:!0,barcode:"3456789012345",sku:"VAC-DHPP-001"},{id:4,name:"Rage Canine",category:"vaccine",subcategory:"Vaccin Obligatoire",description:"Vaccin antirabique obligatoire",manufacturer:"Merial",batchNumber:"RAB2024001",dosage:"1 dose",unit:"vial",currentStock:12,minimumStock:5,maximumStock:50,purchasePrice:12,sellingPrice:15,totalValue:144,expirationDate:"2025-10-20",supplier:"Vaccins Vtrinaires SA",location:"Rfrigrateur - tagre 2",notes:"Conservation 2-8C - Obligatoire",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-18",isActive:!0,barcode:"4567890123456",sku:"VAC-RAB-001"},{id:5,name:"Seringues 5ml",category:"consumable",subcategory:"Matriel d'injection",description:"Seringues striles 5ml avec aiguilles",manufacturer:"BD Medical",batchNumber:"SYR2024001",dosage:"5ml",unit:"box",currentStock:50,minimumStock:20,maximumStock:200,purchasePrice:.35,sellingPrice:.45,totalValue:17.5,expirationDate:"2027-03-15",supplier:"Matriel Mdical Pro",location:"Armoire C - tagre 1",notes:"Striles, usage unique",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-12",isActive:!0,barcode:"5678901234567",sku:"CON-SYR-5ML"},{id:6,name:"Masques chirurgicaux",category:"consumable",subcategory:"Protection",description:"Masques chirurgicaux jetables",manufacturer:"3M",batchNumber:"MSK2024001",dosage:"1 unit",unit:"box",currentStock:200,minimumStock:50,maximumStock:500,purchasePrice:.12,sellingPrice:.15,totalValue:24,expirationDate:"2026-12-31",supplier:"Protection Mdicale",location:"Armoire D - tagre 1",notes:"Type IIR, bote de 50",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-08",isActive:!0,barcode:"6789012345678",sku:"CON-MSK-50"},{id:7,name:"Gants nitrile",category:"consumable",subcategory:"Protection",description:"Gants nitrile non poudrs",manufacturer:"Ansell",batchNumber:"GNT2024001",dosage:"1 paire",unit:"box",currentStock:30,minimumStock:10,maximumStock:100,purchasePrice:.2,sellingPrice:.25,totalValue:6,expirationDate:"2026-08-20",supplier:"Protection Mdicale",location:"Armoire D - tagre 2",notes:"Taille M, bote de 100",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-05",isActive:!0,barcode:"7890123456789",sku:"CON-GNT-M-100"},{id:8,name:"Thermomtre digital",category:"equipment",subcategory:"Diagnostic",description:"Thermomtre digital vtrinaire",manufacturer:"Gima",batchNumber:"THM2024001",dosage:"1 unit",unit:"unit",currentStock:3,minimumStock:2,maximumStock:10,purchasePrice:35,sellingPrice:45,totalValue:105,expirationDate:void 0,supplier:"quipement Vtrinaire",location:"Bureau - Tiroir 1",notes:"Rsistant  l'eau, cran LCD",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-03",isActive:!0,barcode:"8901234567890",sku:"EQP-THM-DIG"},{id:9,name:"Vitamines B Complex",category:"supplement",subcategory:"Vitamines",description:"Complexe vitaminique B pour animaux",manufacturer:"Virbac",batchNumber:"VIT2024001",dosage:"1ml",unit:"bottle",currentStock:5,minimumStock:3,maximumStock:20,purchasePrice:6.5,sellingPrice:8.5,totalValue:32.5,expirationDate:"2025-11-30",supplier:"Supplments Vtrinaires",location:"Armoire A - tagre 3",notes:"Flacon 50ml",lastUpdated:new Date().toISOString(),lastRestocked:"2024-01-14",isActive:!0,barcode:"9012345678901",sku:"SUP-VIT-B-50"}],dy=[{id:1,name:"DAPP (DHPP)",species:"Chien",vaccineType:"core",description:"Distemper, Adnovirus, Parvovirus, Parainfluenza - Vaccination essentielle",manufacturer:"Zoetis",intervals:[{offsetDays:0,label:"J0 (premire injection)"},{offsetDays:21,label:"21 jours (2e injection)"},{offsetDays:42,label:"42 jours (3e injection)"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"6-8 semaines (renforcer jusqu' 16 semaines)",notes:"Protocole d'initiation  6-8-12-16 semaines puis rappel  1 an, puis triennal",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:2,name:"Rage (Rabies)",species:"Chien",vaccineType:"rabies",description:"Vaccination antirabique obligatoire selon la lgislation locale",manufacturer:"Merial",intervals:[{offsetDays:0,label:" l'ge de 12 semaines minimum"},{offsetDays:365,label:"1 an (rappel)"}],ageRequirement:"12 semaines minimum",notes:"Rappel annuel ou biennal selon rglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:3,name:"Bordetella bronchiseptica",species:"Chien",vaccineType:"non-core",description:"Protection contre la toux de chenil",manufacturer:"Zoetis",intervals:[{offsetDays:8,label:"8 semaines"}],ageRequirement:"8 semaines",notes:"Vaccination intracellulaire recommande pour chiens en collectivit",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:4,name:"Leptospirose",species:"Chien",vaccineType:"non-core",description:"Protection contre les srovars pathognes de Leptospira",manufacturer:"Virbac",intervals:[{offsetDays:12,label:"12 semaines"}],ageRequirement:"12 semaines",notes:"Double srovariels recommand",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:5,name:"RCP (FVRCP)",species:"Chat",vaccineType:"core",description:"Calicivirose, Panleucopnie, Rhinotrachite virale fline",manufacturer:"Virbac",intervals:[{offsetDays:0,label:"6 semaines"},{offsetDays:21,label:"12 semaines"},{offsetDays:28,label:"1 an"}],ageRequirement:"6-8-12 semaines",notes:"Renforcement  1 an puis rappel triennal ou annuel selon protocole",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:6,name:"Rage (Rabies)",species:"Chat",vaccineType:"rabies",description:"Vaccination antirabique selon rglementation voyage",manufacturer:"Merial",intervals:[{offsetDays:365,label:"1 an"},{offsetDays:730,label:"2 ans"}],ageRequirement:"12 semaines",notes:"Rappel annuel ou biennal selon rglementation",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:7,name:"Distemper furet (Maladie de Carr)",species:"Furet",vaccineType:"core",description:"Protection contre le morbillivirus (Carr)",manufacturer:"Merial",intervals:[{offsetDays:6,label:"6 semaines"},{offsetDays:12,label:"8 semaines"}],ageRequirement:"6-8 semaines",notes:"Protocole similaire  celui des chiens",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:8,name:"Myxomatose",species:"Lapin",vaccineType:"core",description:"Protection contre la myxomatose",manufacturer:"Virbac",intervals:[{offsetDays:180,label:"180 jours"}],ageRequirement:"5-6 semaines",notes:"Vaccination semestrielle",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"},{id:9,name:"VHD (Maladie hmorragique virale)",species:"Lapin",vaccineType:"core",description:"Protection contre VHD de type 1 et 2",manufacturer:"Virbac",intervals:[{offsetDays:6,label:"6 semaines"}],ageRequirement:"6 semaines",notes:"Rappel annuel",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2025-09-01T00:00:00Z"}];function cE({children:e}){const t=()=>{try{const Z=localStorage.getItem("vetpro-clients"),me=localStorage.getItem("vetpro-pets"),ve=localStorage.getItem("vetpro-consultations"),Ge=localStorage.getItem("vetpro-appointments"),Je=localStorage.getItem("vetpro-prescriptions"),ze=localStorage.getItem("vetpro-farms"),ot=localStorage.getItem("vetpro-farmInterventions"),Pn=localStorage.getItem("vetpro-vaccinations"),jn=localStorage.getItem("vetpro-vaccinationProtocols"),ht=localStorage.getItem("vetpro-antiparasitics"),Ln=localStorage.getItem("vetpro-antiparasiticProtocols"),Jr=localStorage.getItem("vetpro-stockItems"),aa=localStorage.getItem("vetpro-stockAlerts"),Wa=localStorage.getItem("vetpro-stockMovements"),Pd=localStorage.getItem("vetpro-accountingEntries");if(Z&&me){const rN=JSON.parse(Z),Nm=JSON.parse(me),sN=ve?JSON.parse(ve):iy,iN=Ge?JSON.parse(Ge):ay,aN=Je?JSON.parse(Je):oy,oN=ze?JSON.parse(ze):ly,Sm=ot?JSON.parse(ot):cy,lN=Pn?JSON.parse(Pn):uy,cN=jn?JSON.parse(jn):dy,uN=ht?JSON.parse(ht):Qd,dN=Ln?JSON.parse(Ln):Jm,hN=Jr?JSON.parse(Jr):EI,An=aa?JSON.parse(aa):[],Cn=Wa?JSON.parse(Wa):[],fN=Pd?JSON.parse(Pd):[];return{clients:rN.map(Vv=>({...Vv,pets:Nm.filter(mN=>mN.ownerId===Vv.id)})),pets:Nm,consultations:sN,appointments:iN,prescriptions:aN,farms:oN,farmInterventions:Sm,vaccinations:lN,vaccinationProtocols:cN,antiparasitics:uN,antiparasiticProtocols:dN,stockItems:hN,stockAlerts:An,stockMovements:Cn,accountingEntries:fN}}}catch(Z){console.error("Erreur lors du chargement des donnes:",Z)}return{clients:AI.map(Z=>({...Z,pets:Xm.filter(me=>me.ownerId===Z.id)})),pets:Xm,consultations:iy,appointments:ay,prescriptions:oy,farms:ly,farmInterventions:cy,vaccinations:uy,vaccinationProtocols:dy,antiparasitics:Qd,antiparasiticProtocols:Jm,stockItems:EI,stockAlerts:[],stockMovements:[],accountingEntries:[]}},n=(ie,Z,me,ve=d,Ge=m,Je=x,ze=y,ot=j,Pn=C,jn=A,ht=E,Ln=I,Jr=O,aa=B,Wa=Y)=>{try{localStorage.setItem("vetpro-clients",JSON.stringify(ie)),localStorage.setItem("vetpro-pets",JSON.stringify(Z)),localStorage.setItem("vetpro-consultations",JSON.stringify(me)),localStorage.setItem("vetpro-appointments",JSON.stringify(ve)),localStorage.setItem("vetpro-prescriptions",JSON.stringify(Ge)),localStorage.setItem("vetpro-farms",JSON.stringify(Je)),localStorage.setItem("vetpro-farmInterventions",JSON.stringify(ze)),localStorage.setItem("vetpro-vaccinations",JSON.stringify(ot)),localStorage.setItem("vetpro-vaccinationProtocols",JSON.stringify(Pn)),localStorage.setItem("vetpro-antiparasitics",JSON.stringify(jn)),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(ht)),localStorage.setItem("vetpro-stockItems",JSON.stringify(Ln)),localStorage.setItem("vetpro-stockAlerts",JSON.stringify(Jr)),localStorage.setItem("vetpro-stockMovements",JSON.stringify(aa)),localStorage.setItem("vetpro-accountingEntries",JSON.stringify(Wa))}catch(Pd){console.error("Erreur lors de la sauvegarde des donnes:",Pd)}},s=t(),[i,a]=w.useState(s.clients),[o,l]=w.useState(s.pets),[c,u]=w.useState(s.consultations),[d,f]=w.useState(s.appointments),[m,g]=w.useState(s.prescriptions),[x,v]=w.useState(s.farms),[y,N]=w.useState(s.farmInterventions),[j,b]=w.useState(s.vaccinations),[C,_]=w.useState(s.vaccinationProtocols),[A,P]=w.useState(s.antiparasitics),[E,D]=w.useState(s.antiparasiticProtocols),[I,k]=w.useState(s.stockItems||[]),[O,U]=w.useState(s.stockAlerts||[]),[B,ne]=w.useState(s.stockMovements||[]),[Y,J]=w.useState(s.accountingEntries||[]);w.useEffect(()=>{localStorage.getItem("vetpro-antiparasiticProtocols")||localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Jm)),localStorage.getItem("vetpro-antiparasitics")||(localStorage.setItem("vetpro-antiparasitics",JSON.stringify(Qd)),P(Qd))},[]),w.useEffect(()=>{const ie=new Date;new Date(ie.getFullYear(),ie.getMonth(),1),new Date(ie.getFullYear(),ie.getMonth()+1,0)},[]),w.useEffect(()=>{const ie=new Date,Z=new Date(ie.getFullYear(),ie.getMonth(),1),me=new Date(ie.getFullYear(),ie.getMonth()+1,0);_d(Z.toISOString().split("T")[0],me.toISOString().split("T")[0]),wm(Z.toISOString().split("T")[0],me.toISOString().split("T")[0])},[c,j,A,m,B]),w.useEffect(()=>{},[A]),w.useEffect(()=>{i.length>0&&c.length>=0&&j.length>=0&&A.length>=0&&d.length>=0&&i.forEach(ie=>{re(ie.id)})},[i.length,c.length,j.length,A.length,d.length]);const q=ie=>{const Z={...ie,name:`${ie.firstName} ${ie.lastName}`,id:Math.max(...i.map(ve=>ve.id),0)+1,pets:[],lastVisit:new Date().toISOString().split("T")[0],totalVisits:0},me=[...i,Z];a(me),n(me,o,c,d,m,x,y,j)},$=ie=>{const Z={...ie,id:Math.max(...o.map(Ge=>Ge.id),0)+1,status:ie.status||"healthy",lastVisit:new Date().toISOString().split("T")[0]},me=[...o,Z];l(me);const ve=i.map(Ge=>Ge.id===ie.ownerId?{...Ge,pets:[...Ge.pets,{id:Z.id,name:Z.name,type:Z.type,breed:Z.breed,birthDate:Z.birthDate,weight:Z.weight,color:Z.color,microchip:Z.microchip,medicalNotes:Z.medicalNotes,photo:Z.photo,ownerId:Z.ownerId,owner:Z.owner,status:Z.status,lastVisit:Z.lastVisit,nextAppointment:Z.nextAppointment,vaccinations:Z.vaccinations}]}:Ge);a(ve),n(ve,me,c,d,m,x,y,j)},le=(ie,Z)=>{const me=i.map(ve=>ve.id===ie?{...ve,...Z,name:Z.firstName&&Z.lastName?`${Z.firstName} ${Z.lastName}`:ve.name}:ve);a(me),n(me,o,c,d,m,x,y,j)},se=(ie,Z)=>{({...o.find(Ge=>Ge.id===ie),...Z});const me=o.map(Ge=>Ge.id===ie?{...Ge,...Z}:Ge);l(me);const ve=i.map(Ge=>({...Ge,pets:Ge.pets.map(Je=>Je.id===ie?{...Je,...Z}:Je)}));a(ve),n(ve,me,c)},re=ie=>{const Z=i.find(ht=>ht.id===ie);if(!Z)return;const me=c.filter(ht=>ht.clientId===ie),ve=j.filter(ht=>ht.clientId===ie),Ge=A.filter(ht=>ht.clientId===ie),Je=d.filter(ht=>ht.clientId===ie&&ht.status==="completed"),ze=me.length+ve.length+Ge.length+Je.length,ot=[...me.map(ht=>({date:ht.date,type:"consultation"})),...ve.map(ht=>({date:ht.dateGiven,type:"vaccination"})),...Ge.map(ht=>({date:ht.dateGiven,type:"antiparasitic"})),...Je.map(ht=>({date:ht.date,type:"appointment"}))],Pn=ot.length>0?ot.reduce((ht,Ln)=>new Date(Ln.date)>new Date(ht.date)?Ln:ht).date:Z.lastVisit,jn=i.map(ht=>ht.id===ie?{...ht,totalVisits:ze,lastVisit:Pn}:ht);return a(jn),{totalVisits:ze,lastVisit:Pn}},K=ie=>{const Z={...ie,id:Math.max(...I.map(ve=>ve.id),0)+1,lastUpdated:new Date().toISOString(),totalValue:ie.currentStock*ie.purchasePrice},me=[...I,Z];return k(me),n(i,o,c,d,m,x,y,j,C,A,E,me,O,B),Z},ee=(ie,Z)=>{const me=I.map(ve=>{if(ve.id===ie){const Ge={...ve,...Z};return(Z.currentStock!==void 0||Z.purchasePrice!==void 0)&&(Ge.totalValue=Ge.currentStock*Ge.purchasePrice),Ge.lastUpdated=new Date().toISOString(),Ge}return ve});return k(me),n(i,o,c,d,m,x,y,j,C,A,E,me,O,B),me.find(ve=>ve.id===ie)},ge=ie=>{const Z=I.filter(me=>me.id!==ie);k(Z),n(i,o,c,d,m,x,y,j,C,A,E,Z,O,B)},xe=ie=>{const Z={...ie,id:Math.max(...B.map(ve=>ve.id),0)+1},me=[...B,Z];return ne(me),n(i,o,c,d,m,x,y,j,C,A,E,I,O,me),Z},be=()=>{const ie=[],Z=new Date().toISOString().split("T")[0],me=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return I.forEach(ve=>{ve.currentStock<=ve.minimumStock&&ie.push({id:ie.length+1,itemId:ve.id,itemName:ve.name,type:"low_stock",message:`Stock bas: ${ve.currentStock} ${ve.unit} restant(s)`,severity:ve.currentStock===0?"critical":"high",createdAt:new Date().toISOString(),isRead:!1}),ve.expirationDate&&(ve.expirationDate<Z?ie.push({id:ie.length+1,itemId:ve.id,itemName:ve.name,type:"expired",message:`Expir le ${ve.expirationDate}`,severity:"critical",createdAt:new Date().toISOString(),isRead:!1}):ve.expirationDate<=me&&ie.push({id:ie.length+1,itemId:ve.id,itemName:ve.name,type:"expiring_soon",message:`Expire le ${ve.expirationDate}`,severity:"medium",createdAt:new Date().toISOString(),isRead:!1}))}),ie},F=ie=>{const Z={...ie,id:Math.max(...c.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString(),photos:ie.photos||[]},me=[...c,Z];u(me);const ve=o.map(Je=>Je.id===ie.petId?{...Je,lastVisit:ie.date}:Je);l(ve);const Ge=i.map(Je=>({...Je,pets:Je.pets.map(ze=>ze.id===ie.petId?{...ze,lastVisit:ie.date}:ze)}));a(Ge),re(ie.clientId),n(Ge,ve,me)},X=ie=>{if(!o.find(Ge=>Ge.id===ie))return;const me=o.filter(Ge=>Ge.id!==ie);l(me);const ve=i.map(Ge=>({...Ge,pets:Ge.pets.filter(Je=>Je.id!==ie)}));a(ve),n(ve,me,c)},te=()=>{localStorage.removeItem("vetpro-clients"),localStorage.removeItem("vetpro-pets"),localStorage.removeItem("vetpro-consultations"),localStorage.removeItem("vetpro-appointments"),localStorage.removeItem("vetpro-prescriptions"),localStorage.removeItem("vetpro-farms"),localStorage.removeItem("vetpro-farmInterventions"),localStorage.removeItem("vetpro-vaccinations"),localStorage.removeItem("vetpro-vaccinationProtocols"),localStorage.removeItem("vetpro-antiparasitics"),localStorage.removeItem("vetpro-antiparasiticProtocols");const ie=AI.map(Z=>({...Z,pets:Xm.filter(me=>me.ownerId===Z.id)}));a(ie),l(Xm),u(iy),f(ay),g(oy),v(ly),N(cy),b(uy),_(dy),P(Qd),D(Jm),n(ie,Xm,iy,ay,oy,ly,cy,uy,dy,Qd,Jm)},G=()=>{const ie={clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:C,antiparasitics:A,antiparasiticProtocols:E},Z=new Blob([JSON.stringify(ie,null,2)],{type:"application/json"}),me=URL.createObjectURL(Z),ve=document.createElement("a");ve.href=me,ve.download=`vetpro-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(me)},M=ie=>{const Z=ie.clients.map(me=>({...me,pets:ie.pets.filter(ve=>ve.ownerId===me.id)}));a(Z),l(ie.pets),u(ie.consultations||[]),f(ie.appointments||[]),g(ie.prescriptions||[]),v(ie.farms||[]),N(ie.farmInterventions||[]),b(ie.vaccinations||[]),_(ie.vaccinationProtocols||[]),P(ie.antiparasitics||[]),D(ie.antiparasiticProtocols||[]),n(Z,ie.pets,ie.consultations||[],ie.appointments||[],ie.prescriptions||[],ie.farms||[],ie.farmInterventions||[],ie.vaccinations||[],ie.vaccinationProtocols||[],ie.antiparasitics||[],ie.antiparasiticProtocols||[])},ye=(ie,Z)=>{const me=c.map(ve=>ve.id===ie?{...ve,...Z}:ve);u(me),n(i,o,me)},Ne=ie=>{const Z=c.filter(me=>me.id!==ie);u(Z),n(i,o,Z)},fe=ie=>{const Z=I.find(me=>me.name.toLowerCase()===ie.productName.toLowerCase()&&me.category==="medication"&&me.isActive);return Z&&Z.currentStock>=1?{...ie,stockItemId:Z.id,isInStock:!0,stockQuantity:Z.currentStock,stockDeducted:!0}:Z&&Z.currentStock>0?{...ie,stockItemId:Z.id,isInStock:!0,stockQuantity:Z.currentStock,stockDeducted:!1}:{...ie,isInStock:!1,stockQuantity:0,stockDeducted:!1}},Pe=ie=>{const Z=fe(ie);let me=[...I];if(Z.stockDeducted&&Z.stockItemId){const Je=me.findIndex(ze=>ze.id===Z.stockItemId);if(Je!==-1){const ze=me[Je];me[Je]={...ze,currentStock:ze.currentStock-1,lastUpdated:new Date().toISOString()},xe({itemId:Z.stockItemId,itemName:Z.productName,type:"out",quantity:1,reason:"Traitement antiparasitaire",reference:`Antiparasitaire #${Math.max(0,...A.map(ot=>ot.id))+1}`,performedBy:Z.veterinarian,date:new Date().toISOString(),notes:`Traitement antiparasitaire de ${Z.petName} - ${Z.productName}`})}}const ve={...Z,id:Math.max(0,...A.map(Je=>Je.id))+1,createdAt:new Date().toISOString()},Ge=[...A,ve];P(Ge),k(me),re(ie.clientId),n(i,o,c,d,m,x,y,j,C,Ge,E,me,O,B),localStorage.getItem("vetpro-antiparasitics")},Ze=(ie,Z)=>{const me=A.map(ve=>ve.id===ie?{...ve,...Z}:ve);P(me),n(i,o,c,d,m,x,y,j,C,me,E)},at=ie=>{const Z=A.filter(me=>me.id!==ie);P(Z),n(i,o,c,d,m,x,y,j,C,Z,E)},dt=ie=>{const Z={...ie,id:Math.max(0,...E.map(ve=>ve.id))+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},me=[...E,Z];D(me),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(me))},Se=(ie,Z)=>{const me=E.map(ve=>ve.id===ie?{...ve,...Z,updatedAt:new Date().toISOString()}:ve);D(me),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(me))},qe=ie=>{const Z=E.filter(me=>me.id!==ie);D(Z),localStorage.setItem("vetpro-antiparasiticProtocols",JSON.stringify(Z))},We=ie=>A.find(Z=>Z.id===ie),Ft=ie=>A.filter(me=>me.petId===ie),xn=ie=>A.filter(Z=>Z.clientId===ie),_t=()=>{const ie=new Date().toISOString().split("T")[0];return A.filter(Z=>Z.nextDueDate&&Z.nextDueDate<ie&&Z.status!=="completed")},fn=(ie=7)=>{const Z=new Date,me=new Date(Z.getTime()+ie*24*60*60*1e3);return A.filter(ve=>{if(!ve.nextDueDate)return!1;const Ge=new Date(ve.nextDueDate);return Ge>=Z&&Ge<=me})},dr=ie=>A.filter(Z=>Z.status===ie),Yn=ie=>E.find(Z=>Z.id===ie),ys=ie=>E.filter(Z=>Z.species===ie&&Z.isActive),Ce=()=>E.filter(ie=>ie.isActive),Wt=ie=>i.find(Z=>Z.id===ie),nt=ie=>o.find(Z=>Z.id===ie),pt=ie=>c.find(Z=>Z.id===ie),sn=ie=>o.filter(Z=>Z.ownerId===ie),os=ie=>c.filter(Z=>Z.petId===ie),Xr=ie=>c.filter(Z=>Z.clientId===ie),Bs=ie=>{const Z={...ie,id:Math.max(...d.map(ve=>ve.id),0)+1,createdAt:new Date().toISOString()},me=[...d,Z];f(me),re(ie.clientId),n(i,o,c,me,m)},bl=(ie,Z)=>{const me=d.map(ve=>ve.id===ie?{...ve,...Z}:ve);f(me),n(i,o,c,me,m)},ce=ie=>{const Z=d.filter(me=>me.id!==ie);f(Z),n(i,o,c,Z,m)},He=ie=>d.find(Z=>Z.id===ie),Be=ie=>d.filter(Z=>Z.clientId===ie),Tn=ie=>d.filter(Z=>Z.petId===ie),Qn=ie=>d.filter(Z=>Z.date===ie),ia=()=>{const ie=new Date().toISOString().split("T")[0];return d.filter(Z=>Z.date>=ie&&Z.status!=="cancelled"&&Z.status!=="completed").sort((Z,me)=>new Date(Z.date+"T"+Z.time).getTime()-new Date(me.date+"T"+me.time).getTime())},Ct=()=>{const ie=new Date().toISOString().split("T")[0];return d.filter(Z=>Z.date<ie&&Z.status==="scheduled").sort((Z,me)=>new Date(Z.date+"T"+Z.time).getTime()-new Date(me.date+"T"+me.time).getTime())},on=ie=>ie.map(Z=>{const me=I.find(ve=>ve.name.toLowerCase()===Z.name.toLowerCase()&&ve.category==="medication"&&ve.isActive);return me&&me.currentStock>=Z.quantity?{...Z,stockItemId:me.id,isInStock:!0,stockQuantity:me.currentStock,stockDeducted:!0}:me&&me.currentStock>0?{...Z,stockItemId:me.id,isInStock:!0,stockQuantity:me.currentStock,stockDeducted:!1}:{...Z,isInStock:!1,stockQuantity:0,stockDeducted:!1}}),yn=ie=>{const Z=on(ie.medications);let me=[...I];Z.forEach(Je=>{if(Je.stockDeducted&&Je.stockItemId){const ze=me.findIndex(ot=>ot.id===Je.stockItemId);if(ze!==-1){const ot=me[ze];me[ze]={...ot,currentStock:ot.currentStock-Je.quantity,lastUpdated:new Date().toISOString()},xe({itemId:Je.stockItemId,itemName:Je.name,type:"out",quantity:Je.quantity,reason:"Prescription mdicale",reference:`Prescription #${Math.max(...m.map(Pn=>Pn.id),0)+1}`,performedBy:ie.prescribedBy,date:new Date().toISOString(),notes:`Prescription pour ${ie.petName} - ${ie.diagnosis}`})}}});const ve={...ie,medications:Z,id:Math.max(...m.map(Je=>Je.id),0)+1,createdAt:new Date().toISOString()},Ge=[...m,ve];g(Ge),k(me),n(i,o,c,d,Ge,x,y,j,C,A,E,me,O,B,Y)},js=(ie,Z)=>{const me=m.map(ve=>ve.id===ie?{...ve,...Z}:ve);g(me),n(i,o,c,d,me,x,y,j,C,A,E,I,O,B,Y)},bs=ie=>{const Z=m.filter(me=>me.id!==ie);g(Z),n(i,o,c,d,Z,x,y,j,C,A,E,I,O,B,Y)},Ei=ie=>m.find(Z=>Z.id===ie),ai=ie=>m.filter(Z=>Z.petId===ie),ws=ie=>m.filter(Z=>Z.consultationId===ie),zs=()=>m.filter(ie=>ie.status==="active").sort((ie,Z)=>new Date(Z.date).getTime()-new Date(ie.date).getTime()),Rw=ie=>{const Z={...ie,id:Math.max(...x.map(ve=>ve.id),0)+1,createdAt:new Date().toISOString()},me=[...x,Z];v(me),n(i,o,c,d,m,me,y)},Lw=(ie,Z)=>{const me=x.map(ve=>ve.id===ie?{...ve,...Z}:ve);v(me),n(i,o,c,d,m,me,y)},Fw=ie=>{const Z=x.filter(me=>me.id!==ie);v(Z),n(i,o,c,d,m,Z,y)},Bw=ie=>{const Z={...ie,id:Math.max(...y.map(ve=>ve.id),0)+1,createdAt:new Date().toISOString()},me=[...y,Z];N(me),n(i,o,c,d,m,x,me)},zw=(ie,Z)=>{const me=y.map(ve=>ve.id===ie?{...ve,...Z}:ve);N(me),n(i,o,c,d,m,x,me)},Vw=ie=>{const Z=y.filter(me=>me.id!==ie);N(Z),n(i,o,c,d,m,x,Z)},Uw=ie=>x.find(Z=>Z.id===ie),qw=ie=>y.find(Z=>Z.id===ie),Dv=ie=>y.filter(Z=>Z.farmId===ie),Ww=()=>{const ie=new Date().toISOString().split("T")[0];return y.filter(Z=>Z.date>=ie&&Z.status!=="cancelled").sort((Z,me)=>new Date(Z.date).getTime()-new Date(me.date).getTime())},Hw=ie=>x.filter(Z=>Z.status===ie),Gw=ie=>{const Z=I.find(me=>me.name.toLowerCase()===ie.vaccineName.toLowerCase()&&me.category==="vaccine"&&me.isActive);return Z&&Z.currentStock>=1?{...ie,stockItemId:Z.id,isInStock:!0,stockQuantity:Z.currentStock,stockDeducted:!0}:Z&&Z.currentStock>0?{...ie,stockItemId:Z.id,isInStock:!0,stockQuantity:Z.currentStock,stockDeducted:!1}:{...ie,isInStock:!1,stockQuantity:0,stockDeducted:!1}},jm=ie=>{const Z=Gw(ie);let me=[...I];if(Z.stockDeducted&&Z.stockItemId){const Ge=me.findIndex(Je=>Je.id===Z.stockItemId);if(Ge!==-1){const Je=me[Ge];me[Ge]={...Je,currentStock:Je.currentStock-1,lastUpdated:new Date().toISOString()},xe({itemId:Z.stockItemId,itemName:Z.vaccineName,type:"out",quantity:1,reason:"Vaccination",reference:`Vaccination #${Math.max(...j.map(ze=>ze.id),0)+1}`,performedBy:Z.veterinarian,date:new Date().toISOString(),notes:`Vaccination de ${Z.petName} - ${Z.vaccineName}`})}}const ve={...Z,id:Math.max(...j.map(Ge=>Ge.id),0)+1,createdAt:new Date().toISOString()};return b(Ge=>{const Je=[...Ge,ve];return re(ie.clientId),n(i,o,c,d,m,x,y,Je,C,A,E,me,O,B),Je}),k(me),ve.id},Nd=(ie,Z)=>{const me=j.map(ve=>ve.id===ie?{...ve,...Z}:ve);b(me),n(i,o,c,d,m,x,y,me)},Kw=ie=>{const Z=j.find(ve=>ve.id===ie);if(!Z)return;let me=[...j];Z.vaccinationCategory==="new"?(j.filter(ve=>ve.originalVaccinationId===ie),me=j.filter(ve=>ve.id!==ie&&ve.originalVaccinationId!==ie)):me=j.filter(ve=>ve.id!==ie),b(me),n(i,o,c,d,m,x,y,me)},Co=ie=>j.find(Z=>Z.id===ie),Yw=ie=>j.filter(Z=>Z.petId===ie),Sd=ie=>j.filter(Z=>Z.clientId===ie),Qw=()=>{const ie=new Date().toISOString().split("T")[0];return j.filter(Z=>Z.nextDueDate<ie&&Z.status!=="completed").sort((Z,me)=>new Date(Z.nextDueDate).getTime()-new Date(me.nextDueDate).getTime())},Xw=()=>{const ie=new Date,Z=new Date(ie.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],me=ie.toISOString().split("T")[0];return j.filter(ve=>ve.nextDueDate>=me&&ve.nextDueDate<=Z&&ve.status!=="completed").sort((ve,Ge)=>new Date(ve.nextDueDate).getTime()-new Date(Ge.nextDueDate).getTime())},Jw=ie=>j.filter(Z=>Z.status===ie),Mv=()=>{const ie=new Date().toISOString().split("T")[0];let Z=!1;const me=j.map(ve=>ve.status==="completed"?ve:ve.nextDueDate<ie&&ve.status!=="overdue"?(Z=!0,{...ve,status:"overdue"}):ve.nextDueDate>=ie&&ve.status!=="scheduled"?(Z=!0,{...ve,status:"scheduled"}):ve);return Z&&(b(me),n(i,o,c,d,m,x,y,me)),me},Iv=ie=>{const Z={...ie,id:Math.max(...C.map(ve=>ve.id),0)+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},me=[...C,Z];_(me),n(i,o,c,d,m,x,y,j,me)},$v=(ie,Z)=>{const me=C.map(ve=>ve.id===ie?{...ve,...Z,updatedAt:new Date().toISOString()}:ve);_(me),n(i,o,c,d,m,x,y,j,me)},Zw=ie=>{const Z=C.filter(me=>me.id!==ie);_(Z),n(i,o,c,d,m,x,y,j,Z)},eN=ie=>C.find(Z=>Z.id===ie),tN=ie=>C.filter(Z=>Z.species===ie&&Z.isActive),nN=()=>C.filter(ie=>ie.isActive),Rv=(ie,Z,me)=>{const ve=C.find(ze=>ze.name===ie&&ze.species===Z&&ze.isActive);if(!ve||!ve.intervals.length)return null;const Ge=ve.intervals[ve.intervals.length-1],Je=new Date(me);return Je.setDate(Je.getDate()+Ge.offsetDays),Je.toISOString().split("T")[0]},Lv=(ie,Z,me)=>{var jn;const ve=Co(ie);if(!ve)return;const Ge={clientId:ve.clientId,clientName:ve.clientName,petId:ve.petId,petName:ve.petName,date:Z,time:me,type:"vaccination",duration:30,reason:`Rappel vaccinal - ${ve.vaccineName}`,notes:`Rappel pour ${ve.vaccineName} (vaccination originale ID: ${ie})`,status:"scheduled",reminderSent:!1};Bs(Ge);const Je=Math.max(...d.map(ht=>ht.id),0)+1,ze={petId:ve.petId,petName:ve.petName,clientId:ve.clientId,clientName:ve.clientName,vaccineName:ve.vaccineName,vaccineType:ve.vaccineType,vaccinationCategory:"reminder",dateGiven:Z,nextDueDate:ve.nextDueDate,batchNumber:ve.batchNumber,veterinarian:ve.veterinarian,notes:`Rappel de ${ve.vaccineName} (original: ${ie})`,status:"scheduled",cost:ve.cost,location:ve.location,manufacturer:ve.manufacturer,originalVaccinationId:ie,reminderAppointmentId:Je,isReminder:!0};jm(ze);const ot={id:Math.max(...((jn=ve.reminderHistory)==null?void 0:jn.map(ht=>ht.id))||[0],0)+1,vaccinationId:ie,appointmentId:Je,scheduledDate:Z,status:"scheduled",notes:`Rappel programm pour ${ve.vaccineName}`,createdAt:new Date().toISOString()},Pn=[...ve.reminderHistory||[],ot];return Nd(ie,{reminderHistory:Pn}),{appointment:Ge,reminderVaccination:ze,reminder:ot}},Fv=(ie,Z,me)=>{var ze;const ve=Co(ie);if(!ve)return;const Je={status:"completed",reminderHistory:((ze=ve.reminderHistory)==null?void 0:ze.map(ot=>ot.appointmentId===Z?{...ot,status:"completed"}:ot))||[],reminderAppointmentId:void 0};return me&&(Je.nextDueDate=me),Nd(ie,Je),bl(Z,{status:"completed"}),ve},bm=(ie,Z)=>{const me=Co(ie);if(!me)return null;const ve={petId:me.petId,petName:me.petName,clientId:me.clientId,clientName:me.clientName,vaccineName:me.vaccineName,vaccineType:me.vaccineType,vaccinationCategory:"reminder",dateGiven:Z.datePerformed,nextDueDate:Z.newNextDueDate||me.nextDueDate,calculatedDueDate:me.calculatedDueDate,batchNumber:Z.batchNumber||me.batchNumber,veterinarian:Z.veterinarian,notes:Z.notes||`Rappel effectu - ${me.vaccineName}`,status:"completed",cost:me.cost,location:me.location,manufacturer:me.manufacturer,expirationDate:me.expirationDate,adverseReactions:me.adverseReactions,originalVaccinationId:ie,isReminder:!0};jm(ve);const Ge={status:"completed",reminderAppointmentId:void 0};return Z.newNextDueDate&&(Ge.nextDueDate=Z.newNextDueDate),Nd(ie,Ge),ve},wl=ie=>{const Z={...ie,id:Math.max(...Y.map(ve=>ve.id),0)+1,createdAt:new Date().toISOString()},me=[...Y,Z];return J(me),n(i,o,c,d,m,x,y,j,C,A,E,I,O,B,me),Z},Bv=(ie,Z)=>{const me=Y.map(ve=>ve.id===ie?{...ve,...Z}:ve);J(me),n(i,o,c,d,m,x,y,j,C,A,E,I,O,B,me)},Cd=ie=>{const Z=Y.filter(me=>me.id!==ie);J(Z),n(i,o,c,d,m,x,y,j,C,A,E,I,O,B,Z)},_d=(ie,Z)=>{const me=new Date(ie),ve=new Date(Z);let Ge=0;const Je={consultations:0,vaccinations:0,antiparasitics:0,prescriptions:0,stockSales:0,manualEntries:0,recurringCharges:0};return c.filter(ze=>{const ot=new Date(ze.date);return ot>=me&&ot<=ve}).forEach(ze=>{var jn;const ot=parseFloat(((jn=ze.cost)==null?void 0:jn.toString())||"0");Ge+=ot,Je.consultations+=ot,Y.find(ht=>ht.source==="consultation"&&ht.sourceId===ze.id)||wl({type:"revenue",category:"automatic",frequency:"occasional",description:`Consultation - ${ze.petName}`,amount:ot,date:ze.date,reference:`Consultation #${ze.id}`,source:"consultation",sourceId:ze.id,notes:`Consultation automatique pour ${ze.petName}`})}),j.filter(ze=>{const ot=new Date(ze.dateGiven);return ot>=me&&ot<=ve}).forEach(ze=>{var jn;const ot=parseFloat(((jn=ze.cost)==null?void 0:jn.toString())||"0");Ge+=ot,Je.vaccinations+=ot,Y.find(ht=>ht.source==="vaccination"&&ht.sourceId===ze.id)||wl({type:"revenue",category:"automatic",frequency:"occasional",description:`Vaccination - ${ze.vaccineName}`,amount:ot,date:ze.dateGiven,reference:`Vaccination #${ze.id}`,source:"vaccination",sourceId:ze.id,notes:`Vaccination automatique pour ${ze.petName}`})}),A.filter(ze=>{const ot=new Date(ze.dateGiven);return ot>=me&&ot<=ve}).forEach(ze=>{var jn;const ot=parseFloat(((jn=ze.cost)==null?void 0:jn.toString())||"0");Ge+=ot,Je.antiparasitics+=ot,Y.find(ht=>ht.source==="antiparasitic"&&ht.sourceId===ze.id)||wl({type:"revenue",category:"automatic",frequency:"occasional",description:`Antiparasitaire - ${ze.productName}`,amount:ot,date:ze.dateGiven,reference:`Antiparasitaire #${ze.id}`,source:"antiparasitic",sourceId:ze.id,notes:`Antiparasitaire automatique pour ${ze.petName}`})}),m.filter(ze=>{const ot=new Date(ze.createdAt);return ot>=me&&ot<=ve}).forEach(ze=>{const ot=ze.medications.reduce((jn,ht)=>{var Ln;return jn+parseFloat(((Ln=ht.cost)==null?void 0:Ln.toString())||"0")*ht.quantity},0);Ge+=ot,Je.prescriptions+=ot,!Y.find(jn=>jn.source==="prescription"&&jn.sourceId===ze.id)&&ot>0&&wl({type:"revenue",category:"automatic",frequency:"occasional",description:`Prescription - ${ze.petName}`,amount:ot,date:ze.createdAt,reference:`Prescription #${ze.id}`,source:"prescription",sourceId:ze.id,notes:`Prescription automatique pour ${ze.petName}`})}),{totalRevenue:Ge,revenueBreakdown:Je}},wm=(ie,Z)=>{const me=new Date(ie),ve=new Date(Z);let Ge=0;const Je={stockPurchases:0,salaries:0,rent:0,taxes:0,insurance:0,other:0,manualEntries:0,recurringCharges:0};return B.filter(ze=>{const ot=new Date(ze.date);return ot>=me&&ot<=ve&&ze.type==="in"&&ze.reason==="Achat fournisseur"}).forEach(ze=>{const ot=I.find(Pn=>Pn.id===ze.itemId);if(ot){const Pn=ot.purchasePrice*ze.quantity;Ge+=Pn,Je.stockPurchases+=Pn,Y.find(ht=>ht.source==="stock_purchase"&&ht.reference===ze.reference)||wl({type:"expense",category:"automatic",frequency:"occasional",description:`Achat stock - ${ze.itemName}`,amount:Pn,date:ze.date,reference:ze.reference,source:"stock_purchase",notes:`Achat automatique de ${ze.quantity} ${ze.itemName}`})}}),{totalExpenses:Ge,expenseBreakdown:Je}},zv=(ie,Z,me)=>{const{totalRevenue:ve,revenueBreakdown:Ge}=_d(Z,me),{totalExpenses:Je,expenseBreakdown:ze}=wm(Z,me),ot=Y.filter(Ln=>{const Jr=new Date(Ln.date),aa=new Date(Z),Wa=new Date(me);return Jr>=aa&&Jr<=Wa&&Ln.category==="manual"&&Ln.type==="revenue"}).reduce((Ln,Jr)=>Ln+Jr.amount,0),Pn=Y.filter(Ln=>{const Jr=new Date(Ln.date),aa=new Date(Z),Wa=new Date(me);return Jr>=aa&&Jr<=Wa&&Ln.category==="manual"&&Ln.type==="expense"}).reduce((Ln,Jr)=>Ln+Jr.amount,0);Ge.manualEntries=ot,ze.manualEntries=Pn;const jn=ve+ot,ht=Je+Pn;return{period:ie,totalRevenue:jn,totalExpenses:ht,netIncome:jn-ht,revenueBreakdown:Ge,expenseBreakdown:ze}};return r.jsx(lz.Provider,{value:{clients:i,pets:o,consultations:c,appointments:d,prescriptions:m,farms:x,farmInterventions:y,vaccinations:j,vaccinationProtocols:C,antiparasitics:A,antiparasiticProtocols:E,stockItems:I,stockAlerts:O,stockMovements:B,accountingEntries:Y,addClient:q,addPet:$,addConsultation:F,addAppointment:Bs,addPrescription:yn,addFarm:Rw,addFarmIntervention:Bw,addVaccination:jm,addVaccinationProtocol:Iv,addAntiparasitic:Pe,addAntiparasiticProtocol:dt,addStockItem:K,addStockMovement:xe,addAccountingEntry:wl,updateAccountingEntry:Bv,deleteAccountingEntry:Cd,calculateAutomaticRevenue:_d,calculateAutomaticExpenses:wm,generateAccountingSummary:zv,updateClient:le,updatePet:se,updateConsultation:ye,updateAppointment:bl,updatePrescription:js,updateFarm:Lw,updateFarmIntervention:zw,updateVaccination:Nd,updateVaccinationProtocol:$v,updateAntiparasitic:Ze,updateAntiparasiticProtocol:Se,updateStockItem:ee,deletePet:X,deleteConsultation:Ne,deleteAppointment:ce,deletePrescription:bs,deleteFarm:Fw,deleteFarmIntervention:Vw,deleteVaccination:Kw,deleteVaccinationProtocol:Zw,deleteAntiparasitic:at,deleteAntiparasiticProtocol:qe,deleteStockItem:ge,resetData:te,exportData:G,importData:M,getClientById:Wt,getPetById:nt,getConsultationById:pt,getAppointmentById:He,getPrescriptionById:Ei,getFarmById:Uw,getFarmInterventionById:qw,getVaccinationById:Co,getVaccinationProtocolById:eN,getVaccinationProtocolsBySpecies:tN,getActiveVaccinationProtocols:nN,getAntiparasiticById:We,getAntiparasiticsByPetId:Ft,getAntiparasiticsByClientId:xn,getOverdueAntiparasitics:_t,getUpcomingAntiparasitics:fn,getAntiparasiticsByStatus:dr,getAntiparasiticProtocolById:Yn,getAntiparasiticProtocolsBySpecies:ys,getActiveAntiparasiticProtocols:Ce,getPetsByOwnerId:sn,getConsultationsByPetId:os,getConsultationsByClientId:Xr,getAppointmentsByClientId:Be,getAppointmentsByPetId:Tn,getAppointmentsByDate:Qn,getUpcomingAppointments:ia,getOverdueAppointments:Ct,getPrescriptionsByPetId:ai,getPrescriptionsByConsultationId:ws,getActivePrescriptions:zs,getFarmInterventionsByFarmId:Dv,getUpcomingFarmInterventions:Ww,getFarmsByStatus:Hw,getVaccinationsByPetId:Yw,getVaccinationsByClientId:Sd,getOverdueVaccinations:Qw,getUpcomingVaccinations:Xw,getVaccinationsByStatus:Jw,createVaccinationReminder:Lv,completeVaccinationReminder:Fv,confirmVaccinationReminder:bm,updateVaccinationStatuses:Mv,calculateDueDateFromProtocol:Rv,updateClientStats:re,getStockAlerts:be},children:e})}const Pt=()=>{const e=w.useContext(lz);if(e===void 0)throw new Error("useClients must be used within a ClientProvider");return e},ae=w.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:et("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ae.displayName="Input";var the="Label",cz=w.forwardRef((e,t)=>r.jsx(it.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cz.displayName=the;var uz=cz;const nhe=cv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),L=w.forwardRef(({className:e,...t},n)=>r.jsx(uz,{ref:n,className:et(nhe(),e),...t}));L.displayName=uz.displayName;const de=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const Ae=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("flex flex-col space-y-1.5 p-6",e),...t}));Ae.displayName="CardHeader";const ke=w.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:et("text-2xl font-semibold leading-none tracking-tight",e),...t}));ke.displayName="CardTitle";const df=w.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:et("text-sm text-muted-foreground",e),...t}));df.displayName="CardDescription";const he=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("p-6 pt-0",e),...t}));he.displayName="CardContent";const rhe=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("flex items-center p-6 pt-0",e),...t}));rhe.displayName="CardFooter";const she=cv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),D0=w.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:et(she({variant:t}),e),...n}));D0.displayName="Alert";const ihe=w.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:et("mb-1 font-medium leading-none tracking-tight",e),...t}));ihe.displayName="AlertTitle";const M0=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:et("text-sm [&_p]:leading-relaxed",e),...t}));M0.displayName="AlertDescription";function ahe(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(!1),{login:m,isLoading:g}=Rc(),x=Qde(),v=Xde(),y=async C=>{if(C.preventDefault(),l(""),!e||!n){l("Veuillez remplir tous les champs");return}await m(e,n)||l("Email ou mot de passe incorrect, ou email non confirm")},N=async()=>{l("");try{await x.mutateAsync()}catch{l("Erreur lors de la connexion avec Google")}},j=async C=>{if(C.preventDefault(),l(""),!e){l("Veuillez saisir votre email");return}try{await v.mutateAsync(e),f(!0)}catch(_){l(_ instanceof Error?_.message:"Une erreur est survenue")}},b=()=>{u(!1),f(!1),l(""),s("")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Ae,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(qt,{className:"h-8 w-8 text-primary"})})}),r.jsx(ke,{className:"text-2xl font-bold",children:"VetPro CRM3"}),r.jsx(df,{children:c?d?"Vrifiez votre email":"Rinitialiser votre mot de passe":"Connectez-vous  votre espace vtrinaire"})]}),r.jsx(he,{children:d?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Nous avons envoy un lien de rinitialisation  ",r.jsx("strong",{children:e})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-6",children:"Cliquez sur le lien dans l'email pour rinitialiser votre mot de passe. Si vous ne voyez pas l'email, vrifiez votre dossier spam."})]}),r.jsxs(V,{onClick:b,className:"w-full",children:[r.jsx(fM,{className:"mr-2 h-4 w-4"}),"Retour  la connexion"]})]}):c?r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o&&r.jsx(D0,{variant:"destructive",children:r.jsx(M0,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"reset-email",children:"Email"}),r.jsx(ae,{id:"reset-email",type:"email",placeholder:"votre.email@example.com",value:e,onChange:C=>t(C.target.value),disabled:v.isPending,required:!0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Entrez l'adresse email associe  votre compte"})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:v.isPending,children:v.isPending?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer le lien de rinitialisation"}),r.jsx("div",{className:"text-center",children:r.jsxs(V,{type:"button",variant:"link",onClick:b,className:"text-sm",children:[r.jsx(fM,{className:"mr-1 h-4 w-4"}),"Retour  la connexion"]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&r.jsx(D0,{variant:"destructive",children:r.jsx(M0,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"email",children:"Email"}),r.jsx(ae,{id:"email",type:"email",placeholder:"vet@vetpro.com",value:e,onChange:C=>t(C.target.value),disabled:g,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"password",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ae,{id:"password",type:i?"text":"password",placeholder:"",value:n,onChange:C=>s(C.target.value),disabled:g,required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),disabled:g,children:i?r.jsx(YC,{className:"h-4 w-4"}):r.jsx(wr,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{type:"button",variant:"link",className:"text-xs p-0 h-auto",onClick:()=>u(!0),children:"Mot de passe oubli ?"})})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:g,children:g?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continuer avec"})})]}),r.jsx(V,{type:"button",variant:"outline",className:"w-full",onClick:N,disabled:g||x.isPending,children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion avec Google..."]}):r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuer avec Google"]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",r.jsx("a",{href:"/register",className:"text-primary hover:underline",children:"S'inscrire"})]})})]})})]})})}function fs({children:e}){const{isAuthenticated:t,isLoading:n,user:s}=Rc(),[i,a]=w.useState(!1);return w.useEffect(()=>{if(n){const o=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(o)}else a(!1)},[n]),i?r.jsx(y2,{to:"/login",replace:!0}):n&&!i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Vrification de l'authentification..."})]})}):!t||!s?r.jsx(y2,{to:"/login",replace:!0}):r.jsx(r.Fragment,{children:e})}function ohe({children:e,redirectTo:t="/dashboard"}){const{isAuthenticated:n,isLoading:s,user:i}=Rc(),[a,o]=w.useState(!1);return w.useEffect(()=>{if(s){const l=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(l)}else o(!1)},[s]),a?r.jsx(r.Fragment,{children:e}):s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Chargement..."})]})}):n&&i?r.jsx(y2,{to:t,replace:!0}):r.jsx(r.Fragment,{children:e})}const dz="/assets/vet-hero-UFBVcjRL.jpg";function lhe(){return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b",children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-xl font-bold",children:"VetPro"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{variant:"ghost",asChild:!0,children:r.jsx(Sa,{to:"/login",children:"Se connecter"})}),r.jsx(V,{asChild:!0,children:r.jsx(Sa,{to:"/register",children:"Commencer"})})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Solution CRM Vtrinaire Complte"})]}),r.jsxs("h1",{className:"text-5xl font-bold leading-tight",children:["Grez votre pratique",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"vtrinaire efficacement"})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"VetPro vous aide  grer vos clients, leurs animaux, les rendez-vous, consultations et l'historique mdical. Optimisez votre pratique avec notre solution tout-en-un."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Sa,{to:"/register",children:["Commencer gratuitement",r.jsx(KC,{className:"h-4 w-4"})]})}),r.jsx(V,{variant:"outline",size:"lg",className:"gap-2",asChild:!0,children:r.jsx(Sa,{to:"/login",children:"Voir la dmo"})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:dz,alt:"Vtrinaire professionnel",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})})}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tout ce dont vous avez besoin pour votre clinique"}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une solution complte pour moderniser et optimiser votre pratique vtrinaire"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(Ia,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground",children:"Grez facilement vos clients et leurs animaux avec un systme intuitif et complet."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(At,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground",children:"Planifiez et grez vos rendez-vous avec un calendrier intelligent et flexible."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(tr,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground",children:"Documentez vos consultations et maintenez un historique mdical dtaill."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(e6,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Statistiques"}),r.jsx("p",{className:"text-muted-foreground",children:"Analysez votre activit avec des rapports dtaills et des tableaux de bord."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(wi,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Scuris"}),r.jsx("p",{className:"text-muted-foreground",children:"Vos donnes sont protges avec les plus hauts standards de scurit."})]}),r.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm",children:[r.jsx(qt,{className:"h-12 w-12 text-primary mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Farm Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Grez les exploitations agricoles et suivez la sant des troupeaux."})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-6 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Prt  moderniser votre pratique ?"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Rejoignez des centaines de vtrinaires qui font confiance  VetPro pour grer leur clinique efficacement."}),r.jsx("div",{className:"flex gap-4 justify-center",children:r.jsx(V,{size:"lg",className:"gap-2 medical-glow",asChild:!0,children:r.jsxs(Sa,{to:"/register",children:["Commencer maintenant",r.jsx(KC,{className:"h-4 w-4"})]})})})]})})}),r.jsx("footer",{className:"border-t py-8",children:r.jsx("div",{className:"container mx-auto px-6 text-center text-muted-foreground",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," VetPro. Tous droits rservs."]})})})]})}const che=()=>{const e=Jf(),{toast:t}=It(),[n,s]=w.useState(!1),[i,a]=w.useState({username:"",fullName:"",email:"",password:"",confirmPassword:""}),o=u=>u.length<8?"Le mot de passe doit contenir au moins 8 caractres":/[A-Z]/.test(u)?/[a-z]/.test(u)?/\d/.test(u)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(u)?null:"Le mot de passe doit contenir au moins un caractre spcial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",l=u=>{a(d=>({...d,[u.target.id]:u.target.value}))},c=async u=>{if(u.preventDefault(),s(!0),i.password!==i.confirmPassword){t({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"}),s(!1);return}const d=o(i.password);if(d){t({title:"Erreur",description:d,variant:"destructive"}),s(!1);return}try{await zde(i.email,i.password,i.username,i.fullName,"assistant"),t({title:"Inscription russie",description:"Votre compte a t cr avec succs. Veuillez vrifier votre email et cliquer sur le lien de confirmation pour pouvoir vous connecter."}),e("/login")}catch(f){const m=f instanceof Error?f.message:"Une erreur est survenue lors de l'inscription";t({title:"Erreur d'inscription",description:m,variant:"destructive"})}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Ae,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(qt,{className:"h-12 w-12 text-primary"})}),r.jsx(ke,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"VetPro CRM"}),r.jsx(df,{children:"Crez votre compte vtrinaire"})]}),r.jsxs(he,{children:[r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(ae,{id:"username",placeholder:"martin.dubois",value:i.username,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"fullName",children:"Nom complet"}),r.jsx(ae,{id:"fullName",placeholder:"Dr. Martin Dubois",value:i.fullName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"email",children:"Email"}),r.jsx(ae,{id:"email",type:"email",placeholder:"votre.email@example.com",value:i.email,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"password",children:"Mot de passe"}),r.jsx(ae,{id:"password",type:"password",placeholder:"Votre mot de passe scuris",value:i.password,onChange:l,required:!0,minLength:8}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractres, une majuscule, une minuscule, un chiffre et un caractre spcial."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsx(ae,{id:"confirmPassword",type:"password",placeholder:"Confirmer votre mot de passe",value:i.confirmPassword,onChange:l,required:!0,minLength:8})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Cration en cours..."]}):"Crer le compte"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dj un compte ?"," ",r.jsx(Sa,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r.jsx(Sa,{to:"/",className:"hover:underline",children:"Retour  l'accueil"})})]})]})]})})};var $b="Dialog",[hz,K6e]=ni($b),[uhe,Va]=hz($b),fz=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:$b});return r.jsx(uhe,{scope:t,triggerRef:l,contentRef:c,contentId:ss(),titleId:ss(),descriptionId:ss(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};fz.displayName=$b;var mz="DialogTrigger",pz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(mz,n),a=Jt(t,i.triggerRef);return r.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hE(i.open),...s,ref:a,onClick:Ke(e.onClick,i.onOpenToggle)})});pz.displayName=mz;var uE="DialogPortal",[dhe,gz]=hz(uE,{forceMount:void 0}),vz=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Va(uE,t);return r.jsx(dhe,{scope:t,forceMount:n,children:w.Children.map(s,o=>r.jsx(ri,{present:n||a.open,children:r.jsx(Uf,{asChild:!0,container:i,children:o})}))})};vz.displayName=uE;var I0="DialogOverlay",xz=w.forwardRef((e,t)=>{const n=gz(I0,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Va(I0,e.__scopeDialog);return a.modal?r.jsx(ri,{present:s||a.open,children:r.jsx(fhe,{...i,ref:t})}):null});xz.displayName=I0;var hhe=Sc("DialogOverlay.RemoveScroll"),fhe=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(I0,n);return r.jsx(mv,{as:hhe,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(it.div,{"data-state":hE(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Qu="DialogContent",yz=w.forwardRef((e,t)=>{const n=gz(Qu,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Va(Qu,e.__scopeDialog);return r.jsx(ri,{present:s||a.open,children:a.modal?r.jsx(mhe,{...i,ref:t}):r.jsx(phe,{...i,ref:t})})});yz.displayName=Qu;var mhe=w.forwardRef((e,t)=>{const n=Va(Qu,e.__scopeDialog),s=w.useRef(null),i=Jt(t,n.contentRef,s);return w.useEffect(()=>{const a=s.current;if(a)return Cb(a)},[]),r.jsx(jz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,a=>a.preventDefault())})}),phe=w.forwardRef((e,t)=>{const n=Va(Qu,e.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(jz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),jz=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Va(Qu,n),c=w.useRef(null),u=Jt(t,c);return Nb(),r.jsxs(r.Fragment,{children:[r.jsx(hv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(hd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(ghe,{titleId:l.titleId}),r.jsx(xhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),dE="DialogTitle",bz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(dE,n);return r.jsx(it.h2,{id:i.titleId,...s,ref:t})});bz.displayName=dE;var wz="DialogDescription",Nz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(wz,n);return r.jsx(it.p,{id:i.descriptionId,...s,ref:t})});Nz.displayName=wz;var Sz="DialogClose",Cz=w.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Va(Sz,n);return r.jsx(it.button,{type:"button",...s,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});Cz.displayName=Sz;function hE(e){return e?"open":"closed"}var _z="DialogTitleWarning",[Y6e,Pz]=Gee(_z,{contentName:Qu,titleName:dE,docsSlug:"dialog"}),ghe=({titleId:e})=>{const t=Pz(_z),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},vhe="DialogDescriptionWarning",xhe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pz(vhe).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Az=fz,yhe=pz,Ez=vz,fE=xz,mE=yz,kz=bz,Tz=Nz,jhe=Cz;const wt=Az,Lc=yhe,bhe=Ez,Oz=w.forwardRef(({className:e,...t},n)=>r.jsx(fE,{ref:n,className:et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Oz.displayName=fE.displayName;const vt=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(bhe,{children:[r.jsx(Oz,{}),r.jsxs(mE,{ref:s,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(jhe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(fb,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vt.displayName=mE.displayName;const Nt=({className:e,...t})=>r.jsx("div",{className:et("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Nt.displayName="DialogHeader";const St=w.forwardRef(({className:e,...t},n)=>r.jsx(kz,{ref:n,className:et("text-lg font-semibold leading-none tracking-tight",e),...t}));St.displayName=kz.displayName;const un=w.forwardRef(({className:e,...t},n)=>r.jsx(Tz,{ref:n,className:et("text-sm text-muted-foreground",e),...t}));un.displayName=Tz.displayName;const mt=w.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:et("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));mt.displayName="Textarea";function kI(e,[t,n]){return Math.min(n,Math.max(t,e))}function pE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var whe=[" ","Enter","ArrowUp","ArrowDown"],Nhe=[" ","Enter"],Xu="Select",[Rb,Lb,She]=lb(Xu),[tm,Q6e]=ni(Xu,[She,Oc]),Fb=Oc(),[Che,Fc]=tm(Xu),[_he,Phe]=tm(Xu),Dz=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=e,v=Fb(t),[y,N]=w.useState(null),[j,b]=w.useState(null),[C,_]=w.useState(!1),A=wb(u),[P,E]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:Xu}),[D,I]=vo({prop:o,defaultProp:l,onChange:c,caller:Xu}),k=w.useRef(null),O=y?x||!!y.closest("form"):!0,[U,B]=w.useState(new Set),ne=Array.from(U).map(Y=>Y.props.value).join(";");return r.jsx(BA,{...v,children:r.jsxs(Che,{required:g,scope:t,trigger:y,onTriggerChange:N,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:_,contentId:ss(),value:D,onValueChange:I,open:P,onOpenChange:E,dir:A,triggerPointerDownPosRef:k,disabled:m,children:[r.jsx(Rb.Provider,{scope:t,children:r.jsx(_he,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(Y=>{B(J=>new Set(J).add(Y))},[]),onNativeOptionRemove:w.useCallback(Y=>{B(J=>{const q=new Set(J);return q.delete(Y),q})},[]),children:n})}),O?r.jsxs(rV,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:D,onChange:Y=>I(Y.target.value),disabled:m,form:x,children:[D===void 0?r.jsx("option",{value:""}):null,Array.from(U)]},ne):null]})})};Dz.displayName=Xu;var Mz="SelectTrigger",Iz=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Fb(n),o=Fc(Mz,n),l=o.disabled||s,c=Jt(t,o.onTriggerChange),u=Lb(n),d=w.useRef("touch"),[f,m,g]=iV(v=>{const y=u().filter(b=>!b.disabled),N=y.find(b=>b.value===o.value),j=aV(y,v,N);j!==void 0&&o.onValueChange(j.value)}),x=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(dv,{asChild:!0,...a,children:r.jsx(it.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sV(o.value)?"":void 0,...i,ref:c,onClick:Ke(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:Ke(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:Ke(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&whe.includes(v.key)&&(x(),v.preventDefault())})})})});Iz.displayName=Mz;var $z="SelectValue",Rz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...l}=e,c=Fc($z,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Jt(t,c.onValueNodeChange);return Sr(()=>{u(d)},[u,d]),r.jsx(it.span,{...l,ref:f,style:{pointerEvents:"none"},children:sV(c.value)?r.jsx(r.Fragment,{children:o}):a})});Rz.displayName=$z;var Ahe="SelectIcon",Lz=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(it.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});Lz.displayName=Ahe;var Ehe="SelectPortal",Fz=e=>r.jsx(Uf,{asChild:!0,...e});Fz.displayName=Ehe;var Ju="SelectContent",Bz=w.forwardRef((e,t)=>{const n=Fc(Ju,e.__scopeSelect),[s,i]=w.useState();if(Sr(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?dd.createPortal(r.jsx(zz,{scope:e.__scopeSelect,children:r.jsx(Rb.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(Vz,{...e,ref:t})});Bz.displayName=Ju;var pa=10,[zz,Bc]=tm(Ju),khe="SelectContentImpl",The=Sc("SelectContent.RemoveScroll"),Vz=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y,...N}=e,j=Fc(Ju,n),[b,C]=w.useState(null),[_,A]=w.useState(null),P=Jt(t,be=>C(be)),[E,D]=w.useState(null),[I,k]=w.useState(null),O=Lb(n),[U,B]=w.useState(!1),ne=w.useRef(!1);w.useEffect(()=>{if(b)return Cb(b)},[b]),Nb();const Y=w.useCallback(be=>{const[F,...X]=O().map(M=>M.ref.current),[te]=X.slice(-1),G=document.activeElement;for(const M of be)if(M===G||(M==null||M.scrollIntoView({block:"nearest"}),M===F&&_&&(_.scrollTop=0),M===te&&_&&(_.scrollTop=_.scrollHeight),M==null||M.focus(),document.activeElement!==G))return},[O,_]),J=w.useCallback(()=>Y([E,b]),[Y,E,b]);w.useEffect(()=>{U&&J()},[U,J]);const{onOpenChange:q,triggerPointerDownPosRef:$}=j;w.useEffect(()=>{if(b){let be={x:0,y:0};const F=te=>{var G,M;be={x:Math.abs(Math.round(te.pageX)-(((G=$.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(te.pageY)-(((M=$.current)==null?void 0:M.y)??0))}},X=te=>{be.x<=10&&be.y<=10?te.preventDefault():b.contains(te.target)||q(!1),document.removeEventListener("pointermove",F),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",X,{capture:!0})}}},[b,q,$]),w.useEffect(()=>{const be=()=>q(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[q]);const[le,se]=iV(be=>{const F=O().filter(G=>!G.disabled),X=F.find(G=>G.ref.current===document.activeElement),te=aV(F,be,X);te&&setTimeout(()=>te.ref.current.focus())}),re=w.useCallback((be,F,X)=>{const te=!ne.current&&!X;(j.value!==void 0&&j.value===F||te)&&(D(be),te&&(ne.current=!0))},[j.value]),K=w.useCallback(()=>b==null?void 0:b.focus(),[b]),ee=w.useCallback((be,F,X)=>{const te=!ne.current&&!X;(j.value!==void 0&&j.value===F||te)&&k(be)},[j.value]),ge=s==="popper"?L2:Uz,xe=ge===L2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(zz,{scope:n,content:b,viewport:_,onViewportChange:A,itemRefCallback:re,selectedItem:E,onItemLeave:K,itemTextRefCallback:ee,focusSelectedItem:J,selectedItemText:I,position:s,isPositioned:U,searchRef:le,children:r.jsx(mv,{as:The,allowPinchZoom:!0,children:r.jsx(hv,{asChild:!0,trapped:j.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:Ke(i,be=>{var F;(F=j.trigger)==null||F.focus({preventScroll:!0}),be.preventDefault()}),children:r.jsx(hd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:r.jsx(ge,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:be=>be.preventDefault(),...N,...xe,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ke(N.onKeyDown,be=>{const F=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!F&&be.key.length===1&&se(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let te=O().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(be.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const G=be.target,M=te.indexOf(G);te=te.slice(M+1)}setTimeout(()=>Y(te)),be.preventDefault()}})})})})})})});Vz.displayName=khe;var Ohe="SelectItemAlignedPosition",Uz=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=Fc(Ju,n),o=Bc(Ju,n),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Jt(t,P=>d(P)),m=Lb(n),g=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:j}=o,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&N){const P=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),I=N.getBoundingClientRect();if(a.dir!=="rtl"){const G=I.left-E.left,M=D.left-G,ye=P.left-M,Ne=P.width+ye,fe=Math.max(Ne,E.width),Pe=window.innerWidth-pa,Ze=kI(M,[pa,Math.max(pa,Pe-fe)]);l.style.minWidth=Ne+"px",l.style.left=Ze+"px"}else{const G=E.right-I.right,M=window.innerWidth-D.right-G,ye=window.innerWidth-P.right-M,Ne=P.width+ye,fe=Math.max(Ne,E.width),Pe=window.innerWidth-pa,Ze=kI(M,[pa,Math.max(pa,Pe-fe)]);l.style.minWidth=Ne+"px",l.style.right=Ze+"px"}const k=m(),O=window.innerHeight-pa*2,U=v.scrollHeight,B=window.getComputedStyle(u),ne=parseInt(B.borderTopWidth,10),Y=parseInt(B.paddingTop,10),J=parseInt(B.borderBottomWidth,10),q=parseInt(B.paddingBottom,10),$=ne+Y+U+q+J,le=Math.min(y.offsetHeight*5,$),se=window.getComputedStyle(v),re=parseInt(se.paddingTop,10),K=parseInt(se.paddingBottom,10),ee=P.top+P.height/2-pa,ge=O-ee,xe=y.offsetHeight/2,be=y.offsetTop+xe,F=ne+Y+be,X=$-F;if(F<=ee){const G=k.length>0&&y===k[k.length-1].ref.current;l.style.bottom="0px";const M=u.clientHeight-v.offsetTop-v.offsetHeight,ye=Math.max(ge,xe+(G?K:0)+M+J),Ne=F+ye;l.style.height=Ne+"px"}else{const G=k.length>0&&y===k[0].ref.current;l.style.top="0px";const ye=Math.max(ee,ne+v.offsetTop+(G?re:0)+xe)+X;l.style.height=ye+"px",v.scrollTop=F-ee+v.offsetTop}l.style.margin=`${pa}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,N,a.dir,s]);Sr(()=>b(),[b]);const[C,_]=w.useState();Sr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const A=w.useCallback(P=>{P&&x.current===!0&&(b(),j==null||j(),x.current=!1)},[b,j]);return r.jsx(Mhe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:r.jsx(it.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Uz.displayName=Ohe;var Dhe="SelectPopperPosition",L2=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=pa,...a}=e,o=Fb(n);return r.jsx(vb,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});L2.displayName=Dhe;var[Mhe,gE]=tm(Ju,{}),F2="SelectViewport",qz=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=Bc(F2,n),o=gE(F2,n),l=Jt(t,a.onViewportChange),c=w.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Rb.Slot,{scope:n,children:r.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-pa*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<x){const j=N+g,b=Math.min(x,j),C=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});qz.displayName=F2;var Wz="SelectGroup",[Ihe,$he]=tm(Wz),Rhe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=ss();return r.jsx(Ihe,{scope:n,id:i,children:r.jsx(it.div,{role:"group","aria-labelledby":i,...s,ref:t})})});Rhe.displayName=Wz;var Hz="SelectLabel",Gz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=$he(Hz,n);return r.jsx(it.div,{id:i.id,...s,ref:t})});Gz.displayName=Hz;var $0="SelectItem",[Lhe,Kz]=tm($0),Yz=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=Fc($0,n),c=Bc($0,n),u=l.value===s,[d,f]=w.useState(a??""),[m,g]=w.useState(!1),x=Jt(t,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,s,i)}),v=ss(),y=w.useRef("touch"),N=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Lhe,{scope:n,value:s,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(j=>{f(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:r.jsx(Rb.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:r.jsx(it.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Ke(o.onFocus,()=>g(!0)),onBlur:Ke(o.onBlur,()=>g(!1)),onClick:Ke(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:Ke(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:Ke(o.onPointerDown,j=>{y.current=j.pointerType}),onPointerMove:Ke(o.onPointerMove,j=>{var b;y.current=j.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(o.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ke(o.onKeyDown,j=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&j.key===" "||(Nhe.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});Yz.displayName=$0;var yp="SelectItemText",Qz=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=Fc(yp,n),l=Bc(yp,n),c=Kz(yp,n),u=Phe(yp,n),[d,f]=w.useState(null),m=Jt(t,N=>f(N),c.onItemTextChange,N=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,N,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=w.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Sr(()=>(v(x),()=>y(x)),[v,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(it.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?dd.createPortal(a.children,o.valueNode):null]})});Qz.displayName=yp;var Xz="SelectItemIndicator",Jz=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return Kz(Xz,n).isSelected?r.jsx(it.span,{"aria-hidden":!0,...s,ref:t}):null});Jz.displayName=Xz;var B2="SelectScrollUpButton",Zz=w.forwardRef((e,t)=>{const n=Bc(B2,e.__scopeSelect),s=gE(B2,e.__scopeSelect),[i,a]=w.useState(!1),o=Jt(t,s.onScrollButtonChange);return Sr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(tV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Zz.displayName=B2;var z2="SelectScrollDownButton",eV=w.forwardRef((e,t)=>{const n=Bc(z2,e.__scopeSelect),s=gE(z2,e.__scopeSelect),[i,a]=w.useState(!1),o=Jt(t,s.onScrollButtonChange);return Sr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(tV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eV.displayName=z2;var tV=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=Bc("SelectScrollButton",n),o=w.useRef(null),l=Lb(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Sr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),r.jsx(it.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{c()})})}),Fhe="SelectSeparator",nV=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(it.div,{"aria-hidden":!0,...s,ref:t})});nV.displayName=Fhe;var V2="SelectArrow",Bhe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Fb(n),a=Fc(V2,n),o=Bc(V2,n);return a.open&&o.position==="popper"?r.jsx(xb,{...i,...s,ref:t}):null});Bhe.displayName=V2;var zhe="SelectBubbleInput",rV=w.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=w.useRef(null),a=Jt(s,i),o=pE(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(it.select,{...n,style:{...T5,...n.style},ref:a,defaultValue:t})});rV.displayName=zhe;function sV(e){return e===""||e===void 0}function iV(e){const t=$s(e),n=w.useRef(""),s=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function aV(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Vhe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Vhe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Uhe=Dz,oV=Iz,qhe=Rz,Whe=Lz,Hhe=Fz,lV=Bz,Ghe=qz,cV=Gz,uV=Yz,Khe=Qz,Yhe=Jz,dV=Zz,hV=eV,fV=nV;const Me=Uhe,Ie=qhe,Oe=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(oV,{ref:s,className:et("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Whe,{asChild:!0,children:r.jsx(db,{className:"h-4 w-4 opacity-50"})})]}));Oe.displayName=oV.displayName;const mV=w.forwardRef(({className:e,...t},n)=>r.jsx(dV,{ref:n,className:et("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Gte,{className:"h-4 w-4"})}));mV.displayName=dV.displayName;const pV=w.forwardRef(({className:e,...t},n)=>r.jsx(hV,{ref:n,className:et("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(db,{className:"h-4 w-4"})}));pV.displayName=hV.displayName;const De=w.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(Hhe,{children:r.jsxs(lV,{ref:i,className:et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(mV,{}),r.jsx(Ghe,{className:et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(pV,{})]})}));De.displayName=lV.displayName;const Qhe=w.forwardRef(({className:e,...t},n)=>r.jsx(cV,{ref:n,className:et("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Qhe.displayName=cV.displayName;const z=w.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(uV,{ref:s,className:et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Yhe,{children:r.jsx(_A,{className:"h-4 w-4"})})}),r.jsx(Khe,{children:t})]}));z.displayName=uV.displayName;const Xhe=w.forwardRef(({className:e,...t},n)=>r.jsx(fV,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",e),...t}));Xhe.displayName=fV.displayName;const Jhe=async()=>{const{data:e,error:t}=await Dt.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching clients: ${t.message}`);return e||[]},Zhe=async e=>{const{data:{user:t}}=await Dt.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await Dt.from("clients").insert({...e,user_id:t.id,city:e.city||"Rabat",country:e.country||"Maroc",client_type:e.client_type||"particulier"}).select().single();if(s)throw new Error(`Error creating client: ${s.message}`);return n},efe=async(e,t)=>{const{data:n,error:s}=await Dt.from("clients").update(t).eq("id",e).select().single();if(s)throw new Error(`Error updating client: ${s.message}`);return n},tfe=async()=>{const{data:e,error:t}=await Dt.from("animals").select(`
      *,
      client:clients(*)
    `).order("created_at",{ascending:!1});if(t)throw new Error(`Error fetching animals: ${t.message}`);return e||[]},nfe=async e=>{var o,l,c;const{data:{user:t}}=await Dt.auth.getUser();if(!t)throw new Error("User not authenticated");const n={...e};"microchip_number"in n&&!((o=n.microchip_number)!=null&&o.trim())&&delete n.microchip_number,"birth_date"in n&&!((l=n.birth_date)!=null&&l.trim())&&delete n.birth_date,"sterilization_date"in n&&!((c=n.sterilization_date)!=null&&c.trim())&&delete n.sterilization_date;const s=u=>{switch(u){case"healthy":return"vivant";case"urgent":return"dcd";case"treatment":return"perdu";default:return"vivant"}},{data:i,error:a}=await Dt.from("animals").insert({...n,user_id:t.id,sterilized:n.sterilized||!1,status:s(n.status)}).select(`
      *,
      client:clients(*)
    `).single();if(a)throw new Error(`Error creating animal: ${a.message}`);return i},rfe=async(e,t)=>{var a,o,l;const n={...t};"microchip_number"in n&&!((a=n.microchip_number)!=null&&a.trim())&&(n.microchip_number=null),"birth_date"in n&&!((o=n.birth_date)!=null&&o.trim())&&(n.birth_date=null),"sterilization_date"in n&&!((l=n.sterilization_date)!=null&&l.trim())&&(n.sterilization_date=null);const{data:s,error:i}=await Dt.from("animals").update(n).eq("id",e).select(`
      *,
      client:clients(*)
    `).single();if(i)throw new Error(`Error updating animal: ${i.message}`);return s},sfe=async()=>{const{data:e,error:t}=await Dt.from("appointments").select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).order("appointment_date",{ascending:!0});if(t)throw new Error(`Error fetching appointments: ${t.message}`);return e||[]},ife=async e=>{const{data:{user:t}}=await Dt.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:n,error:s}=await Dt.from("appointments").insert({...e,veterinarian_id:e.veterinarian_id||t.id,duration_minutes:e.duration_minutes||30}).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(s)throw new Error(`Error creating appointment: ${s.message}`);return n},afe=async(e,t)=>{const{data:n,error:s}=await Dt.from("appointments").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      client:clients(*),
      animal:animals(*)
    `).single();if(s)throw new Error(`Error updating appointment: ${s.message}`);return n},ofe=async e=>{const{error:t}=await Dt.from("appointments").delete().eq("id",e);if(t)throw new Error(`Error deleting appointment: ${t.message}`)},Ca={all:["clients"],lists:()=>[...Ca.all,"list"],list:e=>[...Ca.lists(),{filters:e}],details:()=>[...Ca.all,"detail"],detail:e=>[...Ca.details(),e],search:e=>[...Ca.all,"search",e]},xi={all:["animals"],lists:()=>[...xi.all,"list"],list:e=>[...xi.lists(),{filters:e}],details:()=>[...xi.all,"detail"],detail:e=>[...xi.details(),e],byClient:e=>[...xi.all,"client",e],search:e=>[...xi.all,"search",e]},gs={all:["appointments"],lists:()=>[...gs.all,"list"],list:e=>[...gs.lists(),{filters:e}],details:()=>[...gs.all,"detail"],detail:e=>[...gs.details(),e],byAnimal:e=>[...gs.all,"animal",e],byClient:e=>[...gs.all,"client",e]},jv={all:["stats"],clients:()=>[...jv.all,"clients"]},vE={all:["userProfile"],profile:()=>[...vE.all,"profile"]},zc=()=>bo({queryKey:Ca.lists(),queryFn:Jhe,staleTime:5*60*1e3}),lfe=()=>{const e=Yr();return as({mutationFn:Zhe,onSuccess:t=>{e.invalidateQueries({queryKey:Ca.lists()}),e.setQueryData(Ca.detail(t.id),t),e.invalidateQueries({queryKey:jv.clients()})}})},cfe=()=>{const e=Yr();return as({mutationFn:({id:t,data:n})=>efe(t,n),onSuccess:t=>{e.setQueryData(Ca.detail(t.id),t),e.invalidateQueries({queryKey:Ca.lists()})}})},Vc=()=>bo({queryKey:xi.lists(),queryFn:tfe,staleTime:5*60*1e3}),ufe=()=>{const e=Yr();return as({mutationFn:nfe,onSuccess:t=>{e.invalidateQueries({queryKey:xi.lists()}),e.setQueryData(xi.detail(t.id),t),e.invalidateQueries({queryKey:xi.byClient(t.client_id)}),e.invalidateQueries({queryKey:jv.clients()})}})},dfe=()=>{const e=Yr();return as({mutationFn:({id:t,data:n})=>rfe(t,n),onSuccess:t=>{e.setQueryData(xi.detail(t.id),t),e.invalidateQueries({queryKey:xi.lists()}),e.invalidateQueries({queryKey:xi.byClient(t.client_id)})}})},gV=()=>bo({queryKey:["consultations"],queryFn:async()=>{try{const{data:e,error:t}=await Dt.from("consultations").select(`
            id,
            animal_id,
            client_id,
            veterinarian_id,
            consultation_date,
            consultation_type,
            symptoms,
            diagnosis,
            treatment,
            notes,
            weight,
            temperature,
            heart_rate,
            respiratory_rate,
            photos,
            follow_up_date,
            follow_up_notes,
            status,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).order("consultation_date",{ascending:!1});if(t)throw console.error("Error fetching consultations:",t),t;return(e||[]).map(n=>({...n,followUp:n.follow_up_notes||null,cost:null,animal:Array.isArray(n.animal)?n.animal[0]:n.animal,client:Array.isArray(n.client)?n.client[0]:n.client}))}catch(e){throw console.error("Failed to fetch consultations:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),vV=()=>{const e=Yr();return as({mutationFn:async t=>{try{const{data:{user:n}}=await Dt.auth.getUser();if(!n)throw new Error("User not authenticated");const s={animal_id:t.animal_id,client_id:t.client_id,veterinarian_id:n.id,consultation_date:t.consultation_date||new Date().toISOString(),consultation_type:t.consultation_type,symptoms:t.symptoms||null,diagnosis:t.diagnosis||null,treatment:t.treatment||null,notes:t.notes||null,weight:t.weight||null,temperature:t.temperature||null,heart_rate:t.heart_rate||null,respiratory_rate:t.respiratory_rate||null,photos:t.photos||null,follow_up_date:t.follow_up_date||null,follow_up_notes:t.follow_up_notes||null,status:t.status||"completed"},{data:i,error:a}=await Dt.from("consultations").insert(s).select(`
            id,
            animal_id,
            client_id,
            veterinarian_id,
            consultation_date,
            consultation_type,
            symptoms,
            diagnosis,
            treatment,
            notes,
            weight,
            temperature,
            heart_rate,
            respiratory_rate,
            photos,
            follow_up_date,
            follow_up_notes,
            status,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).single();if(a)throw console.error("Error creating consultation:",a),a;return{...i,followUp:i.follow_up_notes||null,cost:null}}catch(n){throw console.error("Failed to create consultation:",n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},xV=()=>{const e=Yr();return as({mutationFn:async({id:t,data:n})=>{const{data:s,error:i}=await Dt.from("consultations").update(n).eq("id",t).select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).single();if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})},hfe=()=>{const e=Yr();return as({mutationFn:async t=>{try{console.log(`Attempting dynamic deletion of consultation with ID: ${t}`);const n=[{table:"prescriptions",field:"consultation_id"},{table:"vaccinations",field:"consultation_id"},{table:"lab_results",field:"consultation_id"},{table:"antiparasitics",field:"consultation_id"}];for(const i of n)try{const{data:a,error:o}=await Dt.from(i.table).select("id").eq(i.field,t);if(o){console.warn(`Could not check ${i.table}: ${o.message}`);continue}if(a&&a.length>0){if(console.log(`Found ${a.length} related records in ${i.table}`),i.table==="prescriptions")for(const c of a){const{error:u}=await Dt.from("prescription_medications").delete().eq("prescription_id",c.id);u&&console.warn(`Could not delete prescription medications: ${u.message}`)}const{error:l}=await Dt.from(i.table).delete().eq(i.field,t);l?console.warn(`Could not delete from ${i.table}: ${l.message}`):console.log(`Successfully deleted related records from ${i.table}`)}}catch(a){console.warn(`Error handling ${i.table}:`,a)}const{error:s}=await Dt.from("consultations").delete().eq("id",t);if(s)throw console.error(`Database error during consultation deletion: ${s.message}`),new Error(`Failed to delete consultation: ${s.message}`);return console.log(`Successfully deleted consultation with ID: ${t}`),{success:!0,id:t}}catch(n){throw console.error("Dynamic deletion failed:",n),new Error(`Deletion failed: ${n.message||"Unknown error"}`)}},onSuccess:()=>{e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["dashboard-stats"]}),e.invalidateQueries({queryKey:["vaccinations"]}),e.invalidateQueries({queryKey:["lab-results"]})},retry:1})},ffe=()=>bo({queryKey:["vaccinations"],queryFn:async()=>{const{data:e,error:t}=await Dt.from("vaccinations").select(`
          *,
          animal:animals(*),
          client:clients(*)
        `).order("date_vaccination",{ascending:!1});if(t)throw t;return e||[]}}),mfe=()=>bo({queryKey:["client-stats"],queryFn:async()=>{var a,o,l,c;const[e,t]=await Promise.all([Dt.from("clients").select("id, status"),Dt.from("animals").select("id, status")]);if(e.error||t.error)throw new Error("Failed to fetch client stats");const n=((a=e.data)==null?void 0:a.filter(u=>u.status==="actif").length)||0;(o=e.data)!=null&&o.length;const s=((l=t.data)==null?void 0:l.length)||0,i=((c=t.data)==null?void 0:c.reduce((u,d)=>(u[d.status]=(u[d.status]||0)+1,u),{}))||{};return{totalClients:n,totalAnimals:s,animalsByStatus:i}},staleTime:5*60*1e3}),pfe=()=>bo({queryKey:["prescriptions"],queryFn:async()=>{try{console.log("Fetching prescriptions dynamically");const{data:e,error:t}=await Dt.from("prescriptions").select(`
            id,
            consultation_id,
            animal_id,
            client_id,
            veterinarian_id,
            prescription_date,
            diagnosis,
            notes,
            status,
            refill_count,
            valid_until,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            ),
            medications:prescription_medications(
              id,
              prescription_id,
              stock_item_id,
              medication_name,
              dosage,
              frequency,
              duration,
              quantity,
              instructions,
              route,
              created_at
            )
          `).order("prescription_date",{ascending:!1});if(t)throw console.error("Error fetching prescriptions:",t),t;return console.log(`Successfully fetched ${(e==null?void 0:e.length)||0} prescriptions`),e||[]}catch(e){throw console.error("Dynamic prescription fetch failed:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),gfe=()=>{const e=Yr();return as({mutationFn:async t=>{try{console.log("Creating prescription dynamically:",t);const{data:{user:n}}=await Dt.auth.getUser();if(!n)throw new Error("User not authenticated");const{medications:s,...i}=t,a={consultation_id:i.consultation_id,animal_id:i.animal_id,client_id:i.client_id,veterinarian_id:i.veterinarian_id||n.id,prescription_date:i.prescription_date||new Date().toISOString(),diagnosis:i.diagnosis||null,notes:i.notes||null,status:i.status||"active",refill_count:i.refill_count||0,valid_until:i.valid_until||null},{data:o,error:l}=await Dt.from("prescriptions").insert(a).select(`
            id,
            consultation_id,
            animal_id,
            client_id,
            veterinarian_id,
            prescription_date,
            diagnosis,
            notes,
            status,
            refill_count,
            valid_until,
            created_at,
            updated_at,
            animal:animals(
              id,
              name,
              species,
              breed,
              color,
              sex,
              weight,
              birth_date,
              microchip_number,
              status
            ),
            client:clients(
              id,
              first_name,
              last_name,
              email,
              phone,
              mobile_phone,
              address,
              city,
              client_type
            )
          `).single();if(l)throw console.error("Error creating prescription:",l),new Error(`Error creating prescription: ${l.message}`);if(s&&s.length>0){const c=s.map(f=>({prescription_id:o.id,stock_item_id:f.stock_item_id||null,medication_name:f.medication_name,dosage:f.dosage||null,frequency:f.frequency||null,duration:f.duration||null,quantity:f.quantity||1,instructions:f.instructions||null,route:f.route||null})),{data:u,error:d}=await Dt.from("prescription_medications").insert(c).select();if(d)throw console.error("Error creating prescription medications:",d),await Dt.from("prescriptions").delete().eq("id",o.id),new Error(`Error creating prescription medications: ${d.message}`);console.log(`Successfully created ${u.length} prescription medications`)}return console.log("Successfully created prescription:",o.id),{...o,medications:s||[]}}catch(n){throw console.error("Dynamic prescription creation failed:",n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["prescriptions"]}),e.invalidateQueries({queryKey:["consultations"]}),e.invalidateQueries({queryKey:["dashboard-stats"]}),e.invalidateQueries({queryKey:["stock-items"]})},retry:1})},vfe=()=>bo({queryKey:["stock-items"],queryFn:async()=>{try{console.log("Fetching stock items dynamically");const{data:e,error:t}=await Dt.from("stock_items").select(`
            id,
            name,
            description,
            category,
            unit,
            current_quantity,
            minimum_quantity,
            maximum_quantity,
            unit_cost,
            selling_price,
            supplier,
            batch_number,
            expiration_date,
            location,
            requires_prescription,
            active,
            created_at,
            updated_at
          `).eq("active",!0).order("name");if(t)throw console.error("Error fetching stock items:",t),t;return console.log(`Successfully fetched ${(e==null?void 0:e.length)||0} stock items`),e||[]}catch(e){throw console.error("Dynamic stock items fetch failed:",e),e}},staleTime:5*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),xfe=()=>bo({queryKey:vE.profile(),queryFn:Ib,staleTime:5*60*1e3}),yfe=()=>{const e=Yr();return as({mutationFn:t=>Ude(t),onSuccess:t=>{e.setQueryData(vE.profile(),t),e.invalidateQueries({queryKey:["auth","session"]})}})},yV=()=>bo({queryKey:gs.lists(),queryFn:sfe,staleTime:2*60*1e3}),jV=()=>{const e=Yr();return as({mutationFn:ife,onSuccess:t=>{e.invalidateQueries({queryKey:gs.lists()}),t.animal_id&&e.invalidateQueries({queryKey:gs.byAnimal(t.animal_id)}),t.client_id&&(e.invalidateQueries({queryKey:gs.byClient(t.client_id)}),e.invalidateQueries({queryKey:Ca.detail(t.client_id)})),e.invalidateQueries({queryKey:jv.clients()})}})},jfe=()=>{const e=Yr();return as({mutationFn:({id:t,data:n})=>afe(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:gs.lists()}),e.setQueryData(gs.lists(),n=>n?n.map(s=>s.id===t.id?t:s):[]),t.animal_id&&e.invalidateQueries({queryKey:gs.byAnimal(t.animal_id)}),t.client_id&&e.invalidateQueries({queryKey:gs.byClient(t.client_id)})}})},bfe=()=>{const e=Yr();return as({mutationFn:ofe,onSuccess:(t,n)=>{e.setQueryData(gs.lists(),s=>s?s.filter(i=>i.id!==n):[]),e.invalidateQueries({queryKey:gs.lists()}),e.invalidateQueries({queryKey:jv.clients()})}})};function bv({open:e,onOpenChange:t}){const n=lfe(),{toast:s}=It(),[i,a]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),o=u=>{const{id:d,value:f}=u.target;a(m=>({...m,[d]:f}))},l=(u,d)=>{a(f=>({...f,[u]:d}))},c=async u=>{u.preventDefault();try{await n.mutateAsync(i),s({title:"Client ajout",description:`${i.first_name} ${i.last_name} a t ajout et sauvegard avec succs.`}),a({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),t(!1)}catch{s({title:"Erreur",description:"Une erreur s'est produite lors de l'ajout du client.",variant:"destructive"})}};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[500px]",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouveau Client"}),r.jsx(un,{children:"Ajoutez un nouveau client  votre base de donnes."})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"first_name",children:"Prnom *"}),r.jsx(ae,{id:"first_name",value:i.first_name,onChange:o,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"last_name",children:"Nom *"}),r.jsx(ae,{id:"last_name",value:i.last_name,onChange:o,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"email",children:"Email"}),r.jsx(ae,{id:"email",type:"email",value:i.email||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"phone",children:"Tlphone *"}),r.jsx(ae,{id:"phone",value:i.phone||"",onChange:o,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"address",children:"Adresse"}),r.jsx(ae,{id:"address",value:i.address||"",onChange:o})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"city",children:"Ville"}),r.jsx(ae,{id:"city",value:i.city||"",onChange:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"postal_code",children:"Code postal"}),r.jsx(ae,{id:"postal_code",value:i.postal_code||"",onChange:o})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"mobile_phone",children:"Tlphone portable"}),r.jsx(ae,{id:"mobile_phone",value:i.mobile_phone||"",onChange:o,placeholder:"Numro de tlphone portable"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"client_type",children:"Type de client"}),r.jsxs(Me,{value:i.client_type,onValueChange:u=>l("client_type",u),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le type"})}),r.jsxs(De,{children:[r.jsx(z,{value:"particulier",children:"Particulier"}),r.jsx(z,{value:"eleveur",children:"leveur"}),r.jsx(z,{value:"ferme",children:"Ferme"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes"}),r.jsx(mt,{id:"notes",value:i.notes||"",onChange:o,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",disabled:n.isPending,children:[n.isPending&&r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajouter Client"]})]})]})]})})}const wfe=cv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...n}){return r.jsx("div",{className:et(wfe({variant:t}),e),...n})}const hy="vetpro-clinicSettings",bV={farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","quin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins  viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbliarde","Normande","Simmental"],"Bovins  viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Pitrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitire","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle franais","Arabe","Quarter Horse"],Lapins:["No-Zlandais","Californien","Fauve de Bourgogne","Gant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-tre animal","Global GAP","IFS Food","BRC Food","ufs de France"],equipmentTypes:["Tracteur","Moissonneuse","pandeur","Charrue","Systme de traite","Tank  lait","Systme d'alimentation automatique","Ventilation","Gnrateur","Systme d'irrigation","Matriel de rcolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},wV={clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},NV={openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]},U2=[{id:1,name:"Dr. Jean Dupont",isActive:!0},{id:2,name:"Dr. Marie Martin",isActive:!0},{id:3,name:"Pr. Ahmed El Alaoui",isActive:!0}],fy={clinicName:"",address:"",phone:"",email:"",website:"",footerText:"",logo:"/placeholder.svg",currency:"MAD",species:"",showClinicInfo:!0,showVetsInfo:!0,veterinarians:U2,farmManagement:bV,displayPreferences:wV,defaultConsultationPrice:150,scheduleSettings:NV},SV=w.createContext(void 0),Nfe=({children:e})=>{const[t,n]=w.useState(fy);w.useEffect(()=>{const i=localStorage.getItem(hy);if(i)try{const a=JSON.parse(i),o={...fy,...a,veterinarians:a.veterinarians&&a.veterinarians.some(l=>l.name==="Dr. Martin"||l.name==="Dr. Dupont")?U2:a.veterinarians||U2,farmManagement:{...bV,...a.farmManagement},displayPreferences:{...wV,...a.displayPreferences},scheduleSettings:{...NV,...a.scheduleSettings}};n(o),localStorage.setItem(hy,JSON.stringify(o))}catch(a){console.error("Erreur lors du chargement des paramtres:",a),n(fy)}else localStorage.setItem(hy,JSON.stringify(fy))},[]);const s=i=>{n(i),localStorage.setItem(hy,JSON.stringify(i))};return r.jsx(SV.Provider,{value:{settings:t,updateSettings:s},children:e})},Gt=()=>{const e=w.useContext(SV);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e};var Bb="Checkbox",[Sfe,X6e]=ni(Bb),[Cfe,xE]=Sfe(Bb);function _fe(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,g]=vo({prop:n,defaultProp:i??!1,onChange:c,caller:Bb}),[x,v]=w.useState(null),[y,N]=w.useState(null),j=w.useRef(!1),b=x?!!o||!!x.closest("form"):!0,C={checked:m,disabled:a,setChecked:g,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:jc(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:N};return r.jsx(Cfe,{scope:t,...C,children:Pfe(f)?f(C):s})}var CV="CheckboxTrigger",_V=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:x}=xE(CV,e),v=Jt(i,d),y=w.useRef(c);return w.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const j=()=>f(y.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[a,f]),r.jsx(it.button,{type:"button",role:"checkbox","aria-checked":jc(c)?"mixed":c,"aria-required":u,"data-state":TV(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:Ke(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ke(n,N=>{f(j=>jc(j)?!0:!j),x&&g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})})});_V.displayName=CV;var yE=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return r.jsx(_fe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(_V,{...f,ref:t,__scopeCheckbox:n}),m&&r.jsx(kV,{__scopeCheckbox:n})]})})});yE.displayName=Bb;var PV="CheckboxIndicator",AV=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=xE(PV,n);return r.jsx(ri,{present:s||jc(a.checked)||a.checked===!0,children:r.jsx(it.span,{"data-state":TV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});AV.displayName=PV;var EV="CheckboxBubbleInput",kV=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:g}=xE(EV,e),x=Jt(n,g),v=pE(a),y=RA(s);w.useEffect(()=>{const j=m;if(!j)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,A=!i.current;if(v!==a&&_){const P=new Event("click",{bubbles:A});j.indeterminate=jc(a),_.call(j,jc(a)?!1:a),j.dispatchEvent(P)}},[m,v,a,i]);const N=w.useRef(jc(a)?!1:a);return r.jsx(it.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kV.displayName=EV;function Pfe(e){return typeof e=="function"}function jc(e){return e==="indeterminate"}function TV(e){return jc(e)?"indeterminate":e?"checked":"unchecked"}const Xi=w.forwardRef(({className:e,...t},n)=>r.jsx(yE,{ref:n,className:et("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(AV,{className:et("flex items-center justify-center text-current"),children:r.jsx(_A,{className:"h-4 w-4"})})}));Xi.displayName=yE.displayName;function wv({open:e,onOpenChange:t}){const{data:n=[]}=zc(),{data:s=[]}=Vc(),i=ufe(),{settings:a}=Gt(),{toast:o}=It(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:g}))},f=async m=>{if(m.preventDefault(),!n.find(x=>x.id===l.ownerId)){o({title:"Erreur",description:"Veuillez slectionner un propritaire valide."});return}if(l.microchip&&l.microchip.trim()&&s.find(v=>v.microchip_number===l.microchip.trim())){o({title:"Erreur",description:"Un animal avec ce numro de puce existe dj.",variant:"destructive"});return}try{const x={client_id:l.ownerId,name:l.name,species:l.type,breed:l.breed||void 0,color:l.color||void 0,sex:l.gender==="male"?"Mle":l.gender==="female"?"Femelle":"Inconnu",weight:l.weight?Number(l.weight):void 0,birth_date:l.birthDate||void 0,...l.microchip&&l.microchip.trim()?{microchip_number:l.microchip.trim()}:{},notes:l.medicalNotes||void 0,photo_url:l.photo||void 0,status:l.status};await i.mutateAsync(x),o({title:"Animal ajout",description:`${l.name} a t ajout et sauvegard avec succs.`}),c({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:"",microchip:"",medicalNotes:"",photo:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),t(!1)}catch{o({title:"Erreur",description:"Erreur lors de l'ajout de l'animal",variant:"destructive"})}};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouvel Animal"}),r.jsx(un,{children:"Ajoutez un nouvel animal  votre base de donnes."})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(ae,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Type d'animal *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le type"})}),r.jsx(De,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(z,{value:x,children:x},g):null}).filter(Boolean):r.jsxs(r.Fragment,{children:[r.jsx(z,{value:"Chien",children:"Chien"}),r.jsx(z,{value:"Chat",children:"Chat"}),r.jsx(z,{value:"Oiseau",children:"Oiseau"}),r.jsx(z,{value:"Lapin",children:"Lapin"}),r.jsx(z,{value:"Furet",children:"Furet"}),r.jsx(z,{value:"Souris",children:"Souris"}),r.jsx(z,{value:"Hamster",children:"Hamster"}),r.jsx(z,{value:"Reptile",children:"Reptile"}),r.jsx(z,{value:"Autre",children:"Autre"})]})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"breed",children:"Race"}),r.jsx(ae,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Sexe"}),r.jsxs(Me,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(z,{value:"male",children:"Mle"}),r.jsx(z,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(ae,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ae,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"color",children:"Couleur"}),r.jsx(ae,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Propritaire *"}),n.length===0?r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible. Veuillez d'abord ajouter un client."})}):r.jsxs(Me,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le propritaire"})}),r.jsx(De,{children:n.map(m=>r.jsxs(z,{value:m.id.toString(),children:[m.first_name," ",m.last_name," - ",m.email]},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"microchip",children:"Numro de puce lectronique"}),r.jsx(ae,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"medicalNotes",children:"Notes mdicales"}),r.jsx(mt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions mdicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"tat de sant"}),r.jsxs(Me,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner l'tat de sant"})}),r.jsxs(De,{children:[r.jsx(z,{value:"healthy",children:"En bonne sant"}),r.jsx(z,{value:"treatment",children:"En traitement"}),r.jsx(z,{value:"urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(L,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ae,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"pedigreeNumber",children:"N pedigree/LOF"}),r.jsx(ae,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"breeder",children:"leveur"}),r.jsx(ae,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'leveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Pre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{placeholder:"Nom du pre",value:l.fatherName,onChange:u}),r.jsx(ae,{placeholder:"N pedigree du pre",value:l.fatherPedigree,onChange:u}),r.jsx(ae,{placeholder:"Race du pre",value:l.fatherBreed,onChange:u}),r.jsx(mt,{placeholder:"Titres du pre",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{placeholder:"Nom de la mre",value:l.motherName,onChange:u}),r.jsx(ae,{placeholder:"N pedigree de la mre",value:l.motherPedigree,onChange:u}),r.jsx(ae,{placeholder:"Race de la mre",value:l.motherBreed,onChange:u}),r.jsx(mt,{placeholder:"Titres de la mre",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Photo de l'animal"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,photo:x.result})),x.readAsDataURL(g)}}),l.photo&&r.jsx("img",{src:l.photo,alt:"preview",className:"h-24 w-24 object-cover rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Ajouter Animal"})]})]})]})})}function jE(e,t,n){const s=[],{openingTime:i,closingTime:a,slotDuration:o,lunchBreakStart:l,lunchBreakEnd:c}=t,u=my(i),d=my(a),f=l?my(l):null,m=c?my(c):null;for(let g=u;g<d;g+=o){const x=Efe(g),v=f&&m&&g>=f&&g<m,y=n.some(N=>N.date===e&&N.time===x);s.push({time:x,isAvailable:!y&&!v,isLunchBreak:!!v})}return s}function Afe(e,t,n,s){const a=jE(e,n,s).find(o=>o.time===t);return a?a.isAvailable:!1}function my(e){const[t,n]=e.split(":").map(Number);return t*60+n}function Efe(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function kfe(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long"})}function Tfe(e,t){const n=kfe(e).toLowerCase();return t.workingDays.includes(n)}function OV({open:e,onOpenChange:t,prefillClientId:n,prefillPetId:s,prefillType:i,prefillReason:a,originalVaccinationId:o}){var ne,Y;const{data:l=[]}=zc(),{data:c=[]}=Vc(),{data:u=[]}=yV();jV();const{settings:d}=Gt(),{toast:f}=It(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState([]),[j,b]=w.useState({clientId:"",petId:"",date:"",time:"",type:"",duration:30,reason:"",notes:""}),[C,_]=w.useState([]),[A,P]=w.useState([]);w.useEffect(()=>{e&&(b({clientId:n||"",petId:s||"",date:"",time:"",type:i||"",duration:30,reason:a||"",notes:""}),_([]),P([]))},[e,n,s,i,a]);const E=J=>c.filter(q=>q.client_id===J);w.useEffect(()=>{if(e&&n&&s){const J=E(n);_(J),J.find(q=>q.id===s)?b(q=>({...q,petId:s})):b(q=>({...q,petId:""}))}},[e,n,s,c]),w.useEffect(()=>{if(j.clientId){const J=E(j.clientId);_(J),(!s||!J.find(q=>q.id===j.petId))&&b(q=>({...q,petId:""}))}else _([])},[j.clientId,c,s]),w.useEffect(()=>{if(j.clientId>0){const J=getPetsByOwnerId(j.clientId);_(J),(!s||!J.find(q=>q.id===s))&&b(q=>({...q,petId:0}))}else _([])},[j.clientId,getPetsByOwnerId,s]),w.useEffect(()=>{if(j.date){const J=jE(j.date,d.scheduleSettings,u);N(J),j.time&&!Afe(j.date,j.time,d.scheduleSettings,u)&&b(q=>({...q,time:""}))}else N([])},[j.date,d.scheduleSettings,u]),w.useEffect(()=>{j.date&&j.time&&j.duration&&D()},[j.date,j.time,j.duration]);const D=()=>{const J=[],q=new Date(`${j.date}T${j.time}`),$=new Date(q.getTime()+j.duration*6e4),le=q.getHours(),se=$.getHours();(le<8||se>18)&&J.push("Le rendez-vous doit tre entre 8h00 et 18h00");const re=q.getDay();(re===0||re===6)&&J.push("Pas de rendez-vous le weekend"),P(J)},I=J=>{b(q=>({...q,[J.target.id]:J.target.value}))},k=(J,q)=>{b($=>({...$,[J]:J==="clientId"||J==="petId"||J==="duration"?parseInt(q):q}))},O=J=>{if(J.preventDefault(),A.length>0){f({title:"Conflits dtects",description:A.join(", "),variant:"destructive"});return}if(!j.clientId||!j.petId||!j.date||!j.time||!j.type){f({title:"Informations manquantes",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const q=l.find(le=>le.id===j.clientId),$=pets.find(le=>le.id===j.petId);if(!q||!$){f({title:"Erreur",description:"Client ou animal non trouv.",variant:"destructive"});return}addAppointment({clientId:j.clientId,clientName:q.name,petId:j.petId,petName:$.name,date:j.date,time:j.time,type:j.type,duration:j.duration,reason:j.reason,notes:j.notes,status:"scheduled",reminderSent:!1}),i==="vaccination"&&o&&(createVaccinationReminder(o,j.date,j.time),f({title:"Rappel enregistr",description:"Le rappel de vaccination a t ajout."})),f({title:"Rendez-vous planifi",description:`RDV pour ${$.name} (${q.name}) prvu le ${j.date}  ${j.time}.`}),t(!1)},U=()=>new Date().toISOString().split("T")[0],B=J=>({consultation:"Consultation gnrale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrle post-opratoire",sterilisation:"Strilisation",dentaire:"Soins dentaires"})[J]||J;return r.jsxs(r.Fragment,{children:[r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(un,{children:"Planifiez un nouveau rendez-vous pour un client et son animal."})]}),r.jsxs("form",{onSubmit:O,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Client *"}),l.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun client disponible."}),r.jsxs(V,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>g(!0),children:[r.jsx(ft,{className:"h-3 w-3"}),"Ajouter Client"]})]}):r.jsxs(Me,{value:j.clientId.toString(),onValueChange:J=>k("clientId",J),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le client"})}),r.jsx(De,{children:l.map(J=>r.jsx(z,{value:J.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-3 w-3"}),J.name]})},J.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Animal *"}),j.clientId===0?r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:r.jsx("p",{className:"text-gray-600 text-sm",children:"Slectionnez d'abord un client"})}):C.length===0?r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[r.jsx("p",{className:"text-yellow-800 text-sm",children:"Aucun animal pour ce client."}),r.jsxs(V,{type:"button",size:"sm",variant:"outline",className:"mt-2 gap-1",onClick:()=>v(!0),children:[r.jsx(ft,{className:"h-3 w-3"}),"Ajouter Animal"]})]}):r.jsxs(Me,{value:j.petId.toString(),onValueChange:J=>k("petId",J),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner l'animal"})}),r.jsx(De,{children:C.map(J=>r.jsx(z,{value:J.id.toString(),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-3 w-3"}),J.name," (",J.type,")"]})},J.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"date",children:"Date *"}),r.jsx(ae,{id:"date",type:"date",value:j.date,onChange:I,min:U(),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"time",children:"Heure *"}),j.date?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Me,{value:j.time,onValueChange:J=>b(q=>({...q,time:J})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un crneau"})}),r.jsx(De,{className:"max-h-60",children:y.map(J=>r.jsx(z,{value:J.time,disabled:!J.isAvailable,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:J.time}),J.isLunchBreak&&r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Pause"}),!J.isAvailable&&r.jsx(Le,{variant:"destructive",className:"text-xs",children:"Occup"})]})},J.time))})]}),y.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun crneau disponible pour cette date"})]}):r.jsx(ae,{id:"time",type:"time",value:j.time,onChange:I,disabled:!0,placeholder:"Slectionnez d'abord une date"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Type de consultation *"}),r.jsxs(Me,{value:j.type,onValueChange:J=>k("type",J),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de RDV"})}),r.jsxs(De,{children:[r.jsx(z,{value:"consultation",children:"Consultation gnrale"}),r.jsx(z,{value:"vaccination",children:"Vaccination"}),r.jsx(z,{value:"chirurgie",children:"Chirurgie"}),r.jsx(z,{value:"urgence",children:"Urgence"}),r.jsx(z,{value:"controle",children:"Contrle post-opratoire"}),r.jsx(z,{value:"sterilisation",children:"Strilisation"}),r.jsx(z,{value:"dentaire",children:"Soins dentaires"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Dure (minutes)"}),r.jsxs(Me,{value:j.duration.toString(),onValueChange:J=>k("duration",J),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"15",children:"15 minutes"}),r.jsx(z,{value:"30",children:"30 minutes"}),r.jsx(z,{value:"45",children:"45 minutes"}),r.jsx(z,{value:"60",children:"1 heure"}),r.jsx(z,{value:"90",children:"1h30"}),r.jsx(z,{value:"120",children:"2 heures"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"reason",children:"Motif de consultation"}),r.jsx(ae,{id:"reason",value:j.reason,onChange:I,placeholder:"ex: Vaccination annuelle, boiterie, contrle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes"}),r.jsx(mt,{id:"notes",value:j.notes,onChange:I,placeholder:"Instructions spciales, prparation ncessaire..."})]}),A.length>0&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(Or,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Conflits dtects :"})]}),r.jsx("ul",{className:"mt-2 text-sm text-red-700",children:A.map((J,q)=>r.jsxs("li",{children:[" ",J]},q))})]}),j.clientId&&j.petId&&j.date&&j.time&&j.type&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Rsum du rendez-vous :"}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Client :"})," ",(ne=l.find(J=>J.id===j.clientId))==null?void 0:ne.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animal :"})," ",(Y=pets.find(J=>J.id===j.petId))==null?void 0:Y.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",new Date(j.date).toLocaleDateString("fr-FR")]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Heure :"})," ",j.time]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type :"})," ",B(j.type)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Dure :"})," ",j.duration," minutes"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:A.length>0,children:"Planifier RDV"})]})]})]})}),r.jsx(bv,{open:m,onOpenChange:g}),r.jsx(wv,{open:x,onOpenChange:v})]})}function nm({open:e,onOpenChange:t,prefillData:n}){var _,A,P;const{data:s=[],isLoading:i}=zc(),{data:a=[],isLoading:o}=Vc(),l=vV(),{toast:c}=It(),{settings:u}=Gt(),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState({clientId:(n==null?void 0:n.clientId)||"",clientName:"",animalId:(n==null?void 0:n.animalId)||"",animalName:"",date:n!=null&&n.consultation_date?new Date(n.consultation_date).toISOString().split("T")[0]:"",weight:((_=n==null?void 0:n.weight)==null?void 0:_.toString())||"",temperature:((A=n==null?void 0:n.temperature)==null?void 0:A.toString())||"",symptoms:(n==null?void 0:n.symptoms)||"",diagnosis:(n==null?void 0:n.diagnosis)||"",treatment:(n==null?void 0:n.treatment)||"",followUp:(n==null?void 0:n.follow_up_notes)||"",cost:((P=n==null?void 0:n.cost)==null?void 0:P.toString())||u.defaultConsultationPrice.toString(),notes:(n==null?void 0:n.notes)||"",photos:(n==null?void 0:n.photos)||[]}),y=a.filter(E=>E.client_id===x.clientId),N=new Date().toISOString().split("T")[0];w.useEffect(()=>{u.defaultConsultationPrice&&!x.cost&&v(E=>({...E,cost:u.defaultConsultationPrice.toString()}))},[u.defaultConsultationPrice,x.cost]);const j=E=>{v(D=>({...D,[E.target.id]:E.target.value}))},b=(E,D)=>{if(E==="clientId"){const I=s.find(k=>k.id===D);v(k=>({...k,clientId:D,clientName:I?`${I.first_name} ${I.last_name}`:"",animalId:"",animalName:""}))}else if(E==="animalId"){const I=a.find(k=>k.id===D);v(k=>({...k,animalId:D,animalName:(I==null?void 0:I.name)||""}))}else v(I=>({...I,[E]:D}))},C=async E=>{if(E.preventDefault(),!x.clientId||!x.animalId){c({title:"Erreur",description:"Veuillez slectionner un client et un animal.",variant:"destructive"});return}try{const D={client_id:x.clientId,animal_id:x.animalId,consultation_type:"routine",consultation_date:x.date||N,weight:x.weight?Math.min(parseFloat(x.weight),999.9):void 0,temperature:x.temperature?Math.min(parseFloat(x.temperature),99.9):void 0,symptoms:x.symptoms,diagnosis:x.diagnosis,treatment:x.treatment,follow_up_notes:x.followUp,notes:x.notes};await l.mutateAsync(D),c({title:"Consultation enregistre",description:`Consultation pour ${x.animalName} (${x.clientName}) a t enregistre avec succs.`}),v({clientId:"",clientName:"",animalId:"",animalName:"",date:N,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:u.defaultConsultationPrice.toString(),notes:"",photos:[]}),t(!1)}catch{c({title:"Erreur",description:"Impossible d'enregistrer la consultation. Veuillez ressayer.",variant:"destructive"})}};return w.useEffect(()=>{e&&v({clientId:"",clientName:"",animalId:"",animalName:"",date:N,weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",followUp:"",cost:u.defaultConsultationPrice.toString(),notes:"",photos:[]})},[e,N]),r.jsxs(r.Fragment,{children:[r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouvelle Consultation"}),r.jsx(un,{children:"Enregistrez une nouvelle consultation vtrinaire."})]}),r.jsxs("form",{onSubmit:C,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Client *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Me,{value:x.clientId.toString(),onValueChange:E=>b("clientId",E),children:[r.jsx(Oe,{className:"flex-1",children:r.jsx(Ie,{placeholder:"Slectionner le client"})}),r.jsx(De,{children:s.map(E=>r.jsxs(z,{value:E.id,children:[E.first_name," ",E.last_name]},E.id))})]}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>f(!0),className:"px-2",children:r.jsx(ft,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Animal *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Me,{value:x.animalId,onValueChange:E=>b("animalId",E),disabled:!x.clientId,children:[r.jsx(Oe,{className:"flex-1",children:r.jsx(Ie,{placeholder:x.clientId?"Slectionner l'animal":"Slectionnez d'abord un client"})}),r.jsx(De,{children:y.map(E=>r.jsxs(z,{value:E.id,children:[E.name," (",E.species,")"]},E.id))})]}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>g(!0),className:"px-2",disabled:!x.clientId,children:r.jsx(ft,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"date",children:"Date *"}),r.jsx(ae,{id:"date",type:"date",value:x.date||N,onChange:j,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ae,{id:"weight",type:"number",step:"0.1",min:"0",max:"999.9",value:x.weight,onChange:j,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"temperature",children:"Temprature (C)"}),r.jsx(ae,{id:"temperature",type:"number",step:"0.1",min:"0",max:"99.9",value:x.temperature,onChange:j,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"symptoms",children:"Symptmes observs"}),r.jsx(mt,{id:"symptoms",value:x.symptoms,onChange:j,placeholder:"Dcrivez les symptmes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(mt,{id:"diagnosis",value:x.diagnosis,onChange:j,placeholder:"Diagnostic pos...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"treatment",children:"Traitement administr"}),r.jsx(mt,{id:"treatment",value:x.treatment,onChange:j,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"followUp",children:"Suivi recommand"}),r.jsx(ae,{id:"followUp",value:x.followUp,onChange:j,placeholder:"ex: Contrle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(L,{htmlFor:"cost",children:["Cot (",u.currency,")"]}),r.jsx(ae,{id:"cost",type:"number",step:"0.01",value:x.cost,onChange:j,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(mt,{id:"notes",value:x.notes,onChange:j,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"space-y-2 col-span-2",children:[r.jsx(L,{children:"Photos de la consultation"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async E=>{const D=Array.from(E.target.files||[]),I=await Promise.all(D.map(k=>new Promise((O,U)=>{const B=new FileReader;B.onload=()=>O(B.result),B.onerror=()=>U(),B.readAsDataURL(k)})));v(k=>({...k,photos:[...k.photos,...I]}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),x.photos.length>0&&r.jsx("div",{className:"flex gap-2 overflow-x-auto pt-2",children:x.photos.map((E,D)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:E,alt:`photo-${D}`,className:"h-24 w-24 object-cover rounded"}),r.jsx("button",{type:"button",onClick:()=>v(I=>({...I,photos:I.photos.filter((k,O)=>O!==D)})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]},D))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:!x.animalId||l.isPending,children:l.isPending?"Enregistrement...":"Enregistrer Consultation"})]})]})]})}),r.jsx(bv,{open:d,onOpenChange:f}),r.jsx(wv,{open:m,onOpenChange:g})]})}const Ofe=({children:e,allowedRoles:t,fallback:n=null})=>{const{user:s}=Rc();return!s||!t.includes(s.profile.role)?r.jsx(r.Fragment,{children:n}):r.jsx(r.Fragment,{children:e})},q2=({children:e,fallback:t=null})=>r.jsx(Ofe,{allowedRoles:["admin"],fallback:t,children:e});function Dfe(){const{clients:e,pets:t,consultations:n,vaccinations:s,antiparasitics:i,generateAccountingSummary:a}=Pt(),{settings:o}=Gt(),l=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),c=l.length===1?`Bienvenue ${l[0].title} ${l[0].name}`:`Bienvenue  ${o.clinicName}`,[u,d]=w.useState(!1),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(!1),N=e.length,j=t.length,b=s.length,C=i.length,_=new Date().toISOString().split("T")[0],A=n.filter(O=>O.date===_).length,P=new Date().getMonth(),E=new Date().getFullYear(),D=new Date(E,P,1).toISOString().split("T")[0],I=new Date(E,P+1,0).toISOString().split("T")[0],k=a(`${E}-${String(P+1).padStart(2,"0")}`,D,I);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative overflow-hidden gradient-hero rounded-2xl p-8 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[o.logo&&r.jsx("img",{src:o.logo,alt:"Logo clinique",className:"h-20 w-20 object-contain rounded"}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-8 w-8 text-primary"}),r.jsx("span",{className:"text-sm font-medium text-primary",children:"Gestion Vtrinaire Complte"})]}),r.jsxs("h1",{className:"text-4xl font-bold leading-tight max-w-3xl",children:[c,", ",r.jsx("span",{className:"gradient-primary bg-clip-text text-transparent block",children:"Dashboard VetPro"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:"Grez efficacement vos clients, leurs animaux, les rendez-vous et consultations. Votre pratique vtrinaire optimise en un seul endroit."}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsxs(V,{size:"lg",className:"gap-2 medical-glow",onClick:()=>d(!0),children:[r.jsx(Ia,{className:"h-5 w-5"}),"Nouveau Client",r.jsx(KC,{className:"h-4 w-4"})]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>x(!0),children:[r.jsx(qt,{className:"h-5 w-5"}),"Nouvel Animal"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>m(!0),children:[r.jsx(At,{className:"h-5 w-5"}),"Planifier RDV"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>y(!0),children:[r.jsx(br,{className:"h-5 w-5"}),"Nouvelle Consultation"]})]}),r.jsxs("div",{className:"flex gap-6 pt-8 flex-wrap",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:N}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Clients actifs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-secondary",children:j}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Animaux suivis"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-accent",children:A}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Consultations aujourd'hui"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:C}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Antiparasitaires"})]}),r.jsx(q2,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[k.totalRevenue.toFixed(0)," ",o.currency||""]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenus ce mois"})]})})]})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("img",{src:dz,alt:"Vtrinaire professionnel examinant un chien",className:"w-96 h-64 object-cover rounded-xl shadow-medical"})})]})}),r.jsx(bv,{open:u,onOpenChange:d}),r.jsx(OV,{open:f,onOpenChange:m}),r.jsx(wv,{open:g,onOpenChange:x}),r.jsx(nm,{open:v,onOpenChange:y})]})}function Mfe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,vaccinations:o,antiparasitics:l,stockItems:c,stockMovements:u,accountingEntries:d,getUpcomingAppointments:f,getOverdueAppointments:m,generateAccountingSummary:g}=Pt(),{settings:x}=Gt(),v=e.length,y=t.length;n.length,s.length,i.length;const N=a.length,j=o.length,b=l.length,C=c.length,_=new Date().getMonth(),A=new Date().getFullYear(),P=n.filter(F=>{const X=new Date(F.date);return X.getMonth()===_&&X.getFullYear()===A}).length,E=o.filter(F=>{const X=new Date(F.dateGiven);return X.getMonth()===_&&X.getFullYear()===A}).length,D=l.filter(F=>{const X=new Date(F.dateGiven);return X.getMonth()===_&&X.getFullYear()===A}).length,I=new Date().toISOString().split("T")[0],k=n.filter(F=>F.date===I).length,O=s.filter(F=>F.date===I&&F.status!=="cancelled"&&F.status!=="completed").length,U=f();m();const B=c.filter(F=>F.currentStock<=F.minimumStock).length,ne=c.filter(F=>F.currentStock===0).length;c.reduce((F,X)=>F+X.currentStock*X.purchasePrice,0);const Y=new Date(A,_,1).toISOString().split("T")[0],J=new Date(A,_+1,0).toISOString().split("T")[0],q=g(`${A}-${String(_+1).padStart(2,"0")}`,Y,J),$=q.totalRevenue;q.totalExpenses;const le=q.netIncome,se=(F,X)=>{if(X===0)return F>0?"+100%":"0%";const te=(F-X)/X*100;return te>=0?`+${Math.round(te)}%`:`${Math.round(te)}%`},re=_===0?11:_-1,K=_===0?A-1:A,ee=n.filter(F=>{const X=new Date(F.date);return X.getMonth()===re&&X.getFullYear()===K}).length,ge=e.filter(F=>{const X=new Date(F.lastVisit);return X.getMonth()===re&&X.getFullYear()===K}).length,xe=t.filter(F=>{if(!F.lastVisit)return!1;const X=new Date(F.lastVisit);return X.getMonth()===re&&X.getFullYear()===K}).length;s.filter(F=>{const X=new Date(F.date);return X.getMonth()===re&&X.getFullYear()===K}).length;const be=[{title:"Clients Total",value:v.toString(),change:se(v,ge),icon:Ia,color:"text-blue-600",bgColor:"bg-blue-50",description:`${v>0?Math.round(v/10):0} nouveaux ce mois`},{title:"Animaux Suivis",value:y.toString(),change:se(y,xe),icon:qt,color:"text-red-600",bgColor:"bg-red-50",description:`${y>0?Math.round(y/8):0} nouveaux ce mois`},{title:"RDV Aujourd'hui",value:O.toString(),change:O>0?"+"+Math.min(20,Math.floor(O*.3))+"%":"0%",icon:At,color:"text-purple-600",bgColor:"bg-purple-50",description:`${U.length}  venir cette semaine`},{title:"Consultations",value:P.toString(),change:se(P,ee),icon:br,color:"text-green-600",bgColor:"bg-green-50",description:`${k} aujourd'hui`},{title:"Revenus Rels",value:`${$.toFixed(0)} ${x.currency||""}`,change:$>0?"+"+Math.round($/1e3*10)+"%":"0%",icon:qf,color:"text-emerald-600",bgColor:"bg-emerald-50",description:`Bnfice: ${le.toFixed(0)} ${x.currency||""}`},{title:"Activit Ferme",value:N.toString(),change:N>0?"+"+Math.min(15,Math.floor(N*.2))+"%":"0%",icon:Ma,color:"text-orange-600",bgColor:"bg-orange-50",description:`${N} exploitations actives`},{title:"Vaccinations",value:E.toString(),change:E>0?"+"+Math.min(25,Math.floor(E*.3))+"%":"0%",icon:Ts,color:"text-blue-600",bgColor:"bg-blue-50",description:`${j} total ce mois`},{title:"Antiparasitaires",value:D.toString(),change:D>0?"+"+Math.min(20,Math.floor(D*.25))+"%":"0%",icon:wi,color:"text-purple-600",bgColor:"bg-purple-50",description:`${b} total ce mois`},{title:"Stock",value:C.toString(),change:B>0?"-"+Math.min(15,Math.floor(B*.2))+"%":"0%",icon:B>0?qn:Gn,color:B>0?"text-red-600":"text-green-600",bgColor:B>0?"bg-red-50":"bg-green-50",description:`${B} en rupture, ${ne} puiss`}];return r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:be.map(F=>r.jsxs(de,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium text-muted-foreground",children:F.title}),r.jsx("div",{className:`p-2 rounded-lg ${F.bgColor}`,children:r.jsx(F.icon,{className:`h-4 w-4 ${F.color}`})})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:F.value}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.jsx("span",{className:"text-secondary font-medium",children:F.change})," vs mois dernier"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:F.description})]})]},F.title))})}function Ife({open:e,onOpenChange:t,client:n,onEdit:s}){return n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[600px]",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Profil Client"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-20 w-20",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-xl",children:n.name.split(" ").map(i=>i[0]).join("")})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3"}),n.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),n.phone]})]})]})]}),n.address&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Adresse"}),r.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[r.jsx(fd,{className:"h-4 w-4 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.postalCode," ",n.city]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-primary"}),"Animaux (",n.pets.length,")"]}),n.pets.length>0?r.jsx("div",{className:"space-y-2",children:n.pets.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:i.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.type,"  ",i.breed]})]}),r.jsx(Le,{variant:"outline",children:i.status==="healthy"?"En bonne sant":i.status==="treatment"?"En traitement":"Urgent"})]},a))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun animal enregistr"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernire visite:"}),r.jsx("p",{children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total visites:"}),r.jsx("p",{children:n.totalVisits})]})]}),n.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes"}),r.jsx("p",{className:"text-muted-foreground",children:n.notes})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:s,className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})]})}):null}function $fe({open:e,onOpenChange:t,client:n}){const{updateClient:s}=Pt(),{toast:i}=It(),[a,o]=w.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",idNumber:"",notes:""});w.useEffect(()=>{n&&o({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,address:n.address||"",city:n.city||"",postalCode:n.postalCode||"",idNumber:n.idNumber||"",notes:n.notes||""})},[n]);const l=u=>{o(d=>({...d,[u.target.id]:u.target.value}))},c=u=>{u.preventDefault(),n&&(s(n.id,a),i({title:"Client modifi",description:`Les informations de ${a.firstName} ${a.lastName} ont t mises  jour.`}),t(!1))};return n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[500px]",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Modifier Client"})}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"firstName",children:"Prnom *"}),r.jsx(ae,{id:"firstName",value:a.firstName,onChange:l,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"lastName",children:"Nom *"}),r.jsx(ae,{id:"lastName",value:a.lastName,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"email",children:"Email"}),r.jsx(ae,{id:"email",type:"email",value:a.email,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"phone",children:"Tlphone *"}),r.jsx(ae,{id:"phone",value:a.phone,onChange:l,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"address",children:"Adresse"}),r.jsx(ae,{id:"address",value:a.address,onChange:l})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"city",children:"Ville"}),r.jsx(ae,{id:"city",value:a.city,onChange:l})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"postalCode",children:"Code postal"}),r.jsx(ae,{id:"postalCode",value:a.postalCode,onChange:l})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"idNumber",children:"N pice d'identit"}),r.jsx(ae,{id:"idNumber",value:a.idNumber,onChange:l,placeholder:"Numro de carte d'identit, passeport, etc."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes"}),r.jsx(mt,{id:"notes",value:a.notes,onChange:l,placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}function Rfe(){const{clients:e,pets:t,consultations:n,appointments:s}=Pt();Gt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((P,E)=>new Date(E.lastVisit).getTime()-new Date(P.lastVisit).getTime()).slice(0,5),x=e.length,v=e.filter(P=>{const E=new Date(P.lastVisit),D=new Date;return D.setDate(D.getDate()-30),E>=D}).length,y=e.filter(P=>{const E=new Date(P.lastVisit),D=new Date().getMonth(),I=new Date().getFullYear();return E.getMonth()===D&&E.getFullYear()===I}).length,N=x>0?(t.length/x).toFixed(1):"0",j=P=>{f(P),l(!0)},b=P=>{f(P),u(!0)},C=()=>{l(!1),u(!0)},_=P=>{const E=new Date(P),I=Math.abs(new Date().getTime()-E.getTime()),k=Math.ceil(I/(1e3*60*60*24));return k===0?"Aujourd'hui":k===1?"Hier":k<7?`Il y a ${k} jours`:k<30?`Il y a ${Math.floor(k/7)} semaine${Math.floor(k/7)>1?"s":""}`:`Il y a ${Math.floor(k/30)} mois`},A=P=>{const E=t.filter(k=>k.ownerId===P.id),D=n.filter(k=>k.clientId===P.id),I=s.filter(k=>k.clientId===P.id);return{pets:E.length,consultations:D.length,appointments:I.length,lastActivity:D.length>0?Math.max(...D.map(k=>new Date(k.date).getTime())):new Date(P.lastVisit).getTime()}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ke,{className:"text-lg font-semibold",children:"Clients Rcents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ia,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," actifs"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",y," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rn,{className:"h-3 w-3"}),r.jsxs("span",{children:[" ",N," animaux"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Client"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ia,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun client enregistr"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premier client"})]}):g.map(P=>{const E=A(P);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{children:r.jsx(Kr,{className:"bg-primary text-primary-foreground",children:P.name.split(" ").map(D=>D[0]).join("")})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium",children:P.name}),r.jsxs(Le,{variant:"outline",className:"text-xs",children:[E.pets," animal",E.pets>1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3"}),P.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),P.phone]}),P.city&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fd,{className:"h-3 w-3"}),P.city]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Dernire visite: ",_(P.lastVisit)]}),r.jsxs("span",{children:["Total visites: ",P.totalVisits]}),r.jsxs("span",{children:["Consultations: ",E.consultations]}),r.jsxs("span",{children:["RDV: ",E.appointments]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>j(P),children:[r.jsx(wr,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>b(P),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]},P.id)})})]}),r.jsx(bv,{open:i,onOpenChange:a}),r.jsx(Ife,{open:o,onOpenChange:l,client:d,onEdit:C}),r.jsx($fe,{open:c,onOpenChange:u,client:d})]})}function DV({open:e,onOpenChange:t,pet:n,onEdit:s,onShowDossier:i}){const{updatePet:a}=Pt(),[o,l]=w.useState(null);w.useEffect(()=>{e&&l((n==null?void 0:n.photo)||null)},[e,n]);const c=w.useRef(null),u=d=>{var m;const f=(m=d.target.files)==null?void 0:m[0];if(f){const g=new FileReader;g.onload=x=>{var y;const v=(y=x.target)==null?void 0:y.result;l(v),a(n.id,{photo:v})},g.readAsDataURL(f)}};return n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Profil Animal"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Gr,{className:"h-24 w-24",children:o?r.jsx(dl,{src:o,alt:n.name,className:"h-full w-full object-cover rounded-full"}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-12 w-12"})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2 w-full flex items-center justify-center",onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},children:[r.jsx(rf,{className:"h-4 w-4"}),o?"Changer photo":"Ajouter photo"]}),o&&r.jsx(V,{size:"sm",variant:"destructive",className:"gap-2 w-full",onClick:()=>{l(null),a(n.id,{photo:void 0})},children:"Supprimer photo"}),r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),r.jsx(Le,{variant:"outline",className:n.status==="healthy"?"bg-secondary text-secondary-foreground":n.status==="treatment"?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",children:n.status==="healthy"?"En bonne sant":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"}),r.jsx("p",{className:"text-muted-foreground",children:n.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"}),r.jsx("p",{className:"text-muted-foreground",children:n.breed||"Non spcifie"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ge:"}),r.jsx("p",{className:"text-muted-foreground",children:n.birthDate?r.jsxs(r.Fragment,{children:[af(n.birthDate),r.jsx("br",{}),r.jsxs("span",{className:"text-xs",children:["N(e) le ",ho(n.birthDate)]})]}):"Non spcifi"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("p",{className:"text-muted-foreground",children:n.weight||"Non spcifi"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"}),r.jsx("p",{className:"text-muted-foreground",children:n.color||"Non spcifie"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propritaire:"}),r.jsx("p",{className:"text-muted-foreground",children:n.owner})]})]}),n.microchip&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Puce lectronique:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:n.microchip})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.lastVisit&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernire visite:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.lastVisit).toLocaleDateString("fr-FR")})]})]}),n.nextAppointment&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prochain RDV:"}),r.jsx("p",{className:"text-muted-foreground",children:new Date(n.nextAppointment).toLocaleDateString("fr-FR")})]})]})]})]}),n.vaccinations&&n.vaccinations.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Vaccinations"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:n.vaccinations.map((d,f)=>r.jsx(Le,{variant:"outline",children:d},f))})]}),n.medicalNotes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold",children:"Notes mdicales"}),r.jsx("p",{className:"text-muted-foreground p-3 bg-muted/30 rounded-lg",children:n.medicalNotes})]}),r.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:i,className:"gap-2",children:[r.jsx(tr,{className:"h-4 w-4"}),"Voir Dossier Mdical"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:s,className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})]})]})}):null}function Lfe({open:e,onOpenChange:t,pet:n}){const{updatePet:s,clients:i}=Pt(),{settings:a}=Gt(),{toast:o}=It(),[l,c]=w.useState({name:"",type:"",breed:"",gender:"",birthDate:"",weight:"",color:"",ownerId:0,microchip:"",medicalNotes:"",status:"healthy",hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""});w.useEffect(()=>{n&&c({name:n.name,type:n.type,breed:n.breed||"",gender:n.gender||"",birthDate:n.birthDate||"",weight:n.weight||"",color:n.color||"",ownerId:n.ownerId,microchip:n.microchip||"",medicalNotes:n.medicalNotes||"",status:n.status,hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""})},[n]);const u=m=>{c(g=>({...g,[m.target.id]:m.target.value}))},d=(m,g)=>{c(x=>({...x,[m]:m==="ownerId"?parseInt(g):g}))},f=m=>{if(m.preventDefault(),!n)return;const g=i.find(x=>x.id===l.ownerId);s(n.id,{...l,owner:(g==null?void 0:g.name)||n.owner}),o({title:"Animal modifi",description:`Les informations de ${l.name} ont t mises  jour.`}),t(!1)};return n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Modifier Animal"})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"name",children:"Nom de l'animal *"}),r.jsx(ae,{id:"name",value:l.name,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Type d'animal *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>d("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsx(De,{children:a.species?a.species.split(",").map((m,g)=>{const x=m.trim();return x?r.jsx(z,{value:x,children:x},g):null}).filter(Boolean):r.jsx(z,{value:"Chien",children:"Chien"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"breed",children:"Race"}),r.jsx(ae,{id:"breed",value:l.breed,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Sexe"}),r.jsxs(Me,{value:l.gender,onValueChange:m=>d("gender",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(z,{value:"male",children:"Mle"}),r.jsx(z,{value:"female",children:"Femelle"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"birthDate",children:"Date de naissance"}),r.jsx(ae,{id:"birthDate",type:"date",value:l.birthDate,onChange:u,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ae,{id:"weight",value:l.weight,onChange:u})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"color",children:"Couleur"}),r.jsx(ae,{id:"color",value:l.color,onChange:u})]}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Propritaire *"}),r.jsxs(Me,{value:l.ownerId.toString(),onValueChange:m=>d("ownerId",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsx(De,{children:i.map(m=>r.jsx(z,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Statut de sant"}),r.jsxs(Me,{value:l.status,onValueChange:m=>d("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"healthy",children:"En bonne sant"}),r.jsx(z,{value:"treatment",children:"En traitement"}),r.jsx(z,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"microchip",children:"Numro de puce lectronique"}),r.jsx(ae,{id:"microchip",value:l.microchip,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"medicalNotes",children:"Notes mdicales"}),r.jsx(mt,{id:"medicalNotes",value:l.medicalNotes,onChange:u,placeholder:"Allergies, conditions mdicales, notes importantes..."})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:l.hasPedigree,onCheckedChange:m=>c(g=>({...g,hasPedigree:m}))}),r.jsx(L,{htmlFor:"hasPedigree",className:"text-lg font-medium",children:"Cet animal a un pedigree officiel"})]}),l.hasPedigree&&r.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ae,{id:"officialName",value:l.officialName,onChange:u,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"pedigreeNumber",children:"N pedigree/LOF"}),r.jsx(ae,{id:"pedigreeNumber",value:l.pedigreeNumber,onChange:u,placeholder:"Numro de pedigree"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"breeder",children:"leveur"}),r.jsx(ae,{id:"breeder",value:l.breeder,onChange:u,placeholder:"Nom de l'leveur"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Pre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{placeholder:"Nom du pre",value:l.fatherName,onChange:u}),r.jsx(ae,{placeholder:"N pedigree du pre",value:l.fatherPedigree,onChange:u}),r.jsx(ae,{placeholder:"Race du pre",value:l.fatherBreed,onChange:u}),r.jsx(mt,{placeholder:"Titres du pre",value:l.fatherTitles,onChange:u,rows:2})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{placeholder:"Nom de la mre",value:l.motherName,onChange:u}),r.jsx(ae,{placeholder:"N pedigree de la mre",value:l.motherPedigree,onChange:u}),r.jsx(ae,{placeholder:"Race de la mre",value:l.motherBreed,onChange:u}),r.jsx(mt,{placeholder:"Titres de la mre",value:l.motherTitles,onChange:u,rows:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Document pedigree"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g)return;const x=new FileReader;x.onload=()=>c(y=>({...y,pedigreePhoto:x.result})),x.readAsDataURL(g)}}),l.pedigreePhoto&&r.jsx("img",{src:l.pedigreePhoto,alt:"Document pedigree",className:"h-32 w-auto object-contain rounded border"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Sauvegarder"})]})]})]})}):null}var zb="Tabs",[Ffe,J6e]=ni(zb,[Sb]),MV=Sb(),[Bfe,bE]=Ffe(zb),IV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=wb(l),[f,m]=vo({prop:s,onChange:i,defaultProp:a??"",caller:zb});return r.jsx(Bfe,{scope:n,baseId:ss(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:r.jsx(it.div,{dir:d,"data-orientation":o,...u,ref:t})})});IV.displayName=zb;var $V="TabsList",RV=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=bE($V,n),o=MV(n);return r.jsx(v8,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(it.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});RV.displayName=$V;var LV="TabsTrigger",FV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=bE(LV,n),l=MV(n),c=VV(o.baseId,s),u=UV(o.baseId,s),d=s===o.value;return r.jsx(x8,{asChild:!0,...l,focusable:!i,active:d,children:r.jsx(it.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Ke(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Ke(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Ke(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(s)})})})});FV.displayName=LV;var BV="TabsContent",zV=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=bE(BV,n),c=VV(l.baseId,s),u=UV(l.baseId,s),d=s===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(ri,{present:i||d,children:({present:m})=>r.jsx(it.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});zV.displayName=BV;function VV(e,t){return`${e}-trigger-${t}`}function UV(e,t){return`${e}-content-${t}`}var zfe=IV,qV=RV,WV=FV,HV=zV;const vl=zfe,wo=w.forwardRef(({className:e,...t},n)=>r.jsx(qV,{ref:n,className:et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));wo.displayName=qV.displayName;const ln=w.forwardRef(({className:e,...t},n)=>r.jsx(WV,{ref:n,className:et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ln.displayName=WV.displayName;const cn=w.forwardRef(({className:e,...t},n)=>r.jsx(HV,{ref:n,className:et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cn.displayName=HV.displayName;function na(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Pc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function GV(e,t){const n=na(e);return isNaN(t)?Pc(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const KV=6048e5,Vfe=864e5;let Ufe={};function Vb(){return Ufe}function pg(e,t){var l,c,u,d;const n=Vb(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=na(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function R0(e){return pg(e,{weekStartsOn:1})}function YV(e){const t=na(e),n=t.getFullYear(),s=Pc(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=R0(s),a=Pc(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=R0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function L0(e){const t=na(e);return t.setHours(0,0,0,0),t}function TI(e){const t=na(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function qfe(e,t){const n=L0(e),s=L0(t),i=+n-TI(n),a=+s-TI(s);return Math.round((i-a)/Vfe)}function Wfe(e){const t=YV(e),n=Pc(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),R0(n)}function Hfe(e,t){const n=L0(e),s=L0(t);return+n==+s}function Gfe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Kfe(e){if(!Gfe(e)&&typeof e!="number")return!1;const t=na(e);return!isNaN(Number(t))}function Yfe(e){const t=na(e),n=Pc(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Qfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xfe=(e,t,n)=>{let s;const i=Qfe[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Dh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Jfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tme={date:Dh({formats:Jfe,defaultWidth:"full"}),time:Dh({formats:Zfe,defaultWidth:"full"}),dateTime:Dh({formats:eme,defaultWidth:"full"})},nme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rme=(e,t,n,s)=>nme[e];function ro(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const sme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ime={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ame={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ome={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ume=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dme={ordinalNumber:ume,era:ro({values:sme,defaultWidth:"wide"}),quarter:ro({values:ime,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ro({values:ame,defaultWidth:"wide"}),day:ro({values:ome,defaultWidth:"wide"}),dayPeriod:ro({values:lme,defaultWidth:"wide",formattingValues:cme,defaultFormattingWidth:"wide"})};function so(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?fme(l,f=>f.test(o)):hme(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function hme(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function fme(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function QV(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const mme=/^(\d+)(th|st|nd|rd)?/i,pme=/\d+/i,gme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vme={any:[/^b/i,/^(a|c)/i]},xme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yme={any:[/1/i,/2/i,/3/i,/4/i]},jme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_me={ordinalNumber:QV({matchPattern:mme,parsePattern:pme,valueCallback:e=>parseInt(e,10)}),era:so({matchPatterns:gme,defaultMatchWidth:"wide",parsePatterns:vme,defaultParseWidth:"any"}),quarter:so({matchPatterns:xme,defaultMatchWidth:"wide",parsePatterns:yme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:so({matchPatterns:jme,defaultMatchWidth:"wide",parsePatterns:bme,defaultParseWidth:"any"}),day:so({matchPatterns:wme,defaultMatchWidth:"wide",parsePatterns:Nme,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:Sme,defaultMatchWidth:"any",parsePatterns:Cme,defaultParseWidth:"any"})},Pme={code:"en-US",formatDistance:Xfe,formatLong:tme,formatRelative:rme,localize:dme,match:_me,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ame(e){const t=na(e);return qfe(t,Yfe(t))+1}function Eme(e){const t=na(e),n=+R0(t)-+Wfe(t);return Math.round(n/KV)+1}function XV(e,t){var d,f,m,g;const n=na(e),s=n.getFullYear(),i=Vb(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=Pc(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=pg(o,t),c=Pc(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=pg(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function kme(e,t){var l,c,u,d;const n=Vb(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=XV(e,t),a=Pc(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),pg(a,t)}function Tme(e,t){const n=na(e),s=+pg(n,t)-+kme(n,t);return Math.round(s/KV)+1}function wn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const $l={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return wn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):wn(n+1,2)},d(e,t){return wn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return wn(e.getHours()%12||12,t.length)},H(e,t){return wn(e.getHours(),t.length)},m(e,t){return wn(e.getMinutes(),t.length)},s(e,t){return wn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return wn(i,t.length)}},Xd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OI={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return $l.y(e,t)},Y:function(e,t,n,s){const i=XV(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return wn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):wn(a,t.length)},R:function(e,t){const n=YV(e);return wn(n,t.length)},u:function(e,t){const n=e.getFullYear();return wn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return wn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return wn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return $l.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return wn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=Tme(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):wn(i,t.length)},I:function(e,t,n){const s=Eme(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):wn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$l.d(e,t)},D:function(e,t,n){const s=Ame(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):wn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return wn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return wn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return wn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Xd.noon:s===0?i=Xd.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Xd.evening:s>=12?i=Xd.afternoon:s>=4?i=Xd.morning:i=Xd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return $l.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$l.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):wn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):wn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$l.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$l.s(e,t)},S:function(e,t){return $l.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return MI(s);case"XXXX":case"XX":return du(s);case"XXXXX":case"XXX":default:return du(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return MI(s);case"xxxx":case"xx":return du(s);case"xxxxx":case"xxx":default:return du(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+DI(s,":");case"OOOO":default:return"GMT"+du(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+DI(s,":");case"zzzz":default:return"GMT"+du(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return wn(s,t.length)},T:function(e,t,n){const s=e.getTime();return wn(s,t.length)}};function DI(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+wn(a,2)}function MI(e,t){return e%60===0?(e>0?"-":"+")+wn(Math.abs(e)/60,2):du(e,t)}function du(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=wn(Math.trunc(s/60),2),a=wn(s%60,2);return n+i+t+a}const II=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ome=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return II(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",II(s,t)).replace("{{time}}",JV(i,t))},Dme={p:JV,P:Ome},Mme=/^D+$/,Ime=/^Y+$/,$me=["D","DD","YY","YYYY"];function Rme(e){return Mme.test(e)}function Lme(e){return Ime.test(e)}function Fme(e,t,n){const s=Bme(e,t,n);if(console.warn(s),$me.includes(e))throw new RangeError(s)}function Bme(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ume=/^'([^]*?)'?$/,qme=/''/g,Wme=/[a-zA-Z]/;function Rt(e,t,n){var d,f,m,g,x,v,y,N;const s=Vb(),i=(n==null?void 0:n.locale)??s.locale??Pme,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((N=(y=s.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=na(e);if(!Kfe(l))throw new RangeError("Invalid time value");let c=t.match(Vme).map(j=>{const b=j[0];if(b==="p"||b==="P"){const C=Dme[b];return C(j,i.formatLong)}return j}).join("").match(zme).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:Hme(j)};if(OI[b])return{isToken:!0,value:j};if(b.match(Wme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const b=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Lme(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Rme(b))&&Fme(b,t,String(e));const C=OI[b[0]];return C(l,b,i.localize,u)}).join("")}function Hme(e){const t=e.match(Ume);return t?t[1].replace(qme,"'"):e}var $I=1,Gme=.9,Kme=.8,Yme=.17,xS=.1,yS=.999,Qme=.9999,Xme=.99,Jme=/[\\\/_+.#"@\[\(\{&]/,Zme=/[\\\/_+.#"@\[\(\{&]/g,epe=/[\s-]/,ZV=/[\s-]/g;function W2(e,t,n,s,i,a,o){if(a===t.length)return i===e.length?$I:Xme;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(a),u=n.indexOf(c,i),d=0,f,m,g,x;u>=0;)f=W2(e,t,n,s,u+1,a+1,o),f>d&&(u===i?f*=$I:Jme.test(e.charAt(u-1))?(f*=Kme,g=e.slice(i,u-1).match(Zme),g&&i>0&&(f*=Math.pow(yS,g.length))):epe.test(e.charAt(u-1))?(f*=Gme,x=e.slice(i,u-1).match(ZV),x&&i>0&&(f*=Math.pow(yS,x.length))):(f*=Yme,i>0&&(f*=Math.pow(yS,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=Qme)),(f<xS&&n.charAt(u-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(u-1)!==s.charAt(a))&&(m=W2(e,t,n,s,u+1,a+2,o),m*xS>f&&(f=m*xS)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function RI(e){return e.toLowerCase().replace(ZV," ")}function tpe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,W2(e,t,RI(e),RI(t),0,0,{})}var Zm='[cmdk-group=""]',jS='[cmdk-group-items=""]',npe='[cmdk-group-heading=""]',eU='[cmdk-item=""]',LI=`${eU}:not([aria-disabled="true"])`,H2="cmdk-item-select",sh="data-value",rpe=(e,t,n)=>tpe(e,t,n),tU=w.createContext(void 0),Nv=()=>w.useContext(tU),nU=w.createContext(void 0),wE=()=>w.useContext(nU),rU=w.createContext(void 0),sU=w.forwardRef((e,t)=>{let n=ih(()=>{var re,K;return{search:"",value:(K=(re=e.value)!=null?re:e.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=ih(()=>new Set),i=ih(()=>new Map),a=ih(()=>new Map),o=ih(()=>new Set),l=iU(e),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:g,loop:x,disablePointerSelection:v=!1,vimBindings:y=!0,...N}=e,j=ss(),b=ss(),C=ss(),_=w.useRef(null),A=mpe();Zu(()=>{if(d!==void 0){let re=d.trim();n.current.value=re,P.emit()}},[d]),Zu(()=>{A(6,U)},[]);let P=w.useMemo(()=>({subscribe:re=>(o.current.add(re),()=>o.current.delete(re)),snapshot:()=>n.current,setState:(re,K,ee)=>{var ge,xe,be,F;if(!Object.is(n.current[re],K)){if(n.current[re]=K,re==="search")O(),I(),A(1,k);else if(re==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let X=document.getElementById(C);X?X.focus():(ge=document.getElementById(j))==null||ge.focus()}if(A(7,()=>{var X;n.current.selectedItemId=(X=B())==null?void 0:X.id,P.emit()}),ee||A(5,U),((xe=l.current)==null?void 0:xe.value)!==void 0){let X=K??"";(F=(be=l.current).onValueChange)==null||F.call(be,X);return}}P.emit()}},emit:()=>{o.current.forEach(re=>re())}}),[]),E=w.useMemo(()=>({value:(re,K,ee)=>{var ge;K!==((ge=a.current.get(re))==null?void 0:ge.value)&&(a.current.set(re,{value:K,keywords:ee}),n.current.filtered.items.set(re,D(K,ee)),A(2,()=>{I(),P.emit()}))},item:(re,K)=>(s.current.add(re),K&&(i.current.has(K)?i.current.get(K).add(re):i.current.set(K,new Set([re]))),A(3,()=>{O(),I(),n.current.value||k(),P.emit()}),()=>{a.current.delete(re),s.current.delete(re),n.current.filtered.items.delete(re);let ee=B();A(4,()=>{O(),(ee==null?void 0:ee.getAttribute("id"))===re&&k(),P.emit()})}),group:re=>(i.current.has(re)||i.current.set(re,new Set),()=>{a.current.delete(re),i.current.delete(re)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:j,inputId:C,labelId:b,listInnerRef:_}),[]);function D(re,K){var ee,ge;let xe=(ge=(ee=l.current)==null?void 0:ee.filter)!=null?ge:rpe;return re?xe(re,n.current.search,K):0}function I(){if(!n.current.search||l.current.shouldFilter===!1)return;let re=n.current.filtered.items,K=[];n.current.filtered.groups.forEach(ge=>{let xe=i.current.get(ge),be=0;xe.forEach(F=>{let X=re.get(F);be=Math.max(X,be)}),K.push([ge,be])});let ee=_.current;ne().sort((ge,xe)=>{var be,F;let X=ge.getAttribute("id"),te=xe.getAttribute("id");return((be=re.get(te))!=null?be:0)-((F=re.get(X))!=null?F:0)}).forEach(ge=>{let xe=ge.closest(jS);xe?xe.appendChild(ge.parentElement===xe?ge:ge.closest(`${jS} > *`)):ee.appendChild(ge.parentElement===ee?ge:ge.closest(`${jS} > *`))}),K.sort((ge,xe)=>xe[1]-ge[1]).forEach(ge=>{var xe;let be=(xe=_.current)==null?void 0:xe.querySelector(`${Zm}[${sh}="${encodeURIComponent(ge[0])}"]`);be==null||be.parentElement.appendChild(be)})}function k(){let re=ne().find(ee=>ee.getAttribute("aria-disabled")!=="true"),K=re==null?void 0:re.getAttribute(sh);P.setState("value",K||void 0)}function O(){var re,K,ee,ge;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let xe=0;for(let be of s.current){let F=(K=(re=a.current.get(be))==null?void 0:re.value)!=null?K:"",X=(ge=(ee=a.current.get(be))==null?void 0:ee.keywords)!=null?ge:[],te=D(F,X);n.current.filtered.items.set(be,te),te>0&&xe++}for(let[be,F]of i.current)for(let X of F)if(n.current.filtered.items.get(X)>0){n.current.filtered.groups.add(be);break}n.current.filtered.count=xe}function U(){var re,K,ee;let ge=B();ge&&(((re=ge.parentElement)==null?void 0:re.firstChild)===ge&&((ee=(K=ge.closest(Zm))==null?void 0:K.querySelector(npe))==null||ee.scrollIntoView({block:"nearest"})),ge.scrollIntoView({block:"nearest"}))}function B(){var re;return(re=_.current)==null?void 0:re.querySelector(`${eU}[aria-selected="true"]`)}function ne(){var re;return Array.from(((re=_.current)==null?void 0:re.querySelectorAll(LI))||[])}function Y(re){let K=ne()[re];K&&P.setState("value",K.getAttribute(sh))}function J(re){var K;let ee=B(),ge=ne(),xe=ge.findIndex(F=>F===ee),be=ge[xe+re];(K=l.current)!=null&&K.loop&&(be=xe+re<0?ge[ge.length-1]:xe+re===ge.length?ge[0]:ge[xe+re]),be&&P.setState("value",be.getAttribute(sh))}function q(re){let K=B(),ee=K==null?void 0:K.closest(Zm),ge;for(;ee&&!ge;)ee=re>0?hpe(ee,Zm):fpe(ee,Zm),ge=ee==null?void 0:ee.querySelector(LI);ge?P.setState("value",ge.getAttribute(sh)):J(re)}let $=()=>Y(ne().length-1),le=re=>{re.preventDefault(),re.metaKey?$():re.altKey?q(1):J(1)},se=re=>{re.preventDefault(),re.metaKey?Y(0):re.altKey?q(-1):J(-1)};return w.createElement(it.div,{ref:t,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:re=>{var K;(K=N.onKeyDown)==null||K.call(N,re);let ee=re.nativeEvent.isComposing||re.keyCode===229;if(!(re.defaultPrevented||ee))switch(re.key){case"n":case"j":{y&&re.ctrlKey&&le(re);break}case"ArrowDown":{le(re);break}case"p":case"k":{y&&re.ctrlKey&&se(re);break}case"ArrowUp":{se(re);break}case"Home":{re.preventDefault(),Y(0);break}case"End":{re.preventDefault(),$();break}case"Enter":{re.preventDefault();let ge=B();if(ge){let xe=new Event(H2);ge.dispatchEvent(xe)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:gpe},c),Ub(e,re=>w.createElement(nU.Provider,{value:P},w.createElement(tU.Provider,{value:E},re))))}),spe=w.forwardRef((e,t)=>{var n,s;let i=ss(),a=w.useRef(null),o=w.useContext(rU),l=Nv(),c=iU(e),u=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Zu(()=>{if(!u)return l.item(i,o==null?void 0:o.id)},[u]);let d=aU(i,a,[e.value,e.children,a],e.keywords),f=wE(),m=Ac(A=>A.value&&A.value===d.current),g=Ac(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);w.useEffect(()=>{let A=a.current;if(!(!A||e.disabled))return A.addEventListener(H2,x),()=>A.removeEventListener(H2,x)},[g,e.onSelect,e.disabled]);function x(){var A,P;v(),(P=(A=c.current).onSelect)==null||P.call(A,d.current)}function v(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:y,value:N,onSelect:j,forceMount:b,keywords:C,..._}=e;return w.createElement(it.div,{ref:al(a,t),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||l.getDisablePointerSelection()?void 0:v,onClick:y?void 0:x},e.children)}),ipe=w.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:i,...a}=e,o=ss(),l=w.useRef(null),c=w.useRef(null),u=ss(),d=Nv(),f=Ac(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Zu(()=>d.group(o),[]),aU(o,l,[e.value,e.heading,c]);let m=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(it.div,{ref:al(l,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Ub(e,g=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(rU.Provider,{value:m},g))))}),ape=w.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,i=w.useRef(null),a=Ac(o=>!o.search);return!n&&!a?null:w.createElement(it.div,{ref:al(i,t),...s,"cmdk-separator":"",role:"separator"})}),ope=w.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,i=e.value!=null,a=wE(),o=Ac(u=>u.search),l=Ac(u=>u.selectedItemId),c=Nv();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(it.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),lpe=w.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),l=Ac(u=>u.selectedItemId),c=Nv();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),w.createElement(it.div,{ref:al(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},Ub(e,u=>w.createElement("div",{ref:al(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),cpe=w.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:o,...l}=e;return w.createElement(Az,{open:n,onOpenChange:s},w.createElement(Ez,{container:o},w.createElement(fE,{"cmdk-overlay":"",className:i}),w.createElement(mE,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(sU,{ref:t,...l}))))}),upe=w.forwardRef((e,t)=>Ac(n=>n.filtered.count===0)?w.createElement(it.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),dpe=w.forwardRef((e,t)=>{let{progress:n,children:s,label:i="Loading...",...a}=e;return w.createElement(it.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Ub(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),si=Object.assign(sU,{List:lpe,Item:spe,Input:ope,Group:ipe,Separator:ape,Dialog:cpe,Empty:upe,Loading:dpe});function hpe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function fpe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function iU(e){let t=w.useRef(e);return Zu(()=>{t.current=e}),t}var Zu=typeof window>"u"?w.useEffect:w.useLayoutEffect;function ih(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function Ac(e){let t=wE(),n=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,n,n)}function aU(e,t,n,s=[]){let i=w.useRef(),a=Nv();return Zu(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=s.map(u=>u.trim());a.value(e,l,c),(o=t.current)==null||o.setAttribute(sh,l),i.current=l}),i}var mpe=()=>{let[e,t]=w.useState(),n=ih(()=>new Map);return Zu(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,i)=>{n.current.set(s,i),t({})}};function ppe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ub({asChild:e,children:t},n){return e&&w.isValidElement(t)?w.cloneElement(ppe(t),{ref:t.ref},n(t.props.children)):n(t)}var gpe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const NE=w.forwardRef(({className:e,...t},n)=>r.jsx(si,{ref:n,className:et("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));NE.displayName=si.displayName;const SE=w.forwardRef(({className:e,...t},n)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(pr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(si.Input,{ref:n,className:et("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));SE.displayName=si.Input.displayName;const CE=w.forwardRef(({className:e,...t},n)=>r.jsx(si.List,{ref:n,className:et("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));CE.displayName=si.List.displayName;const _E=w.forwardRef((e,t)=>r.jsx(si.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));_E.displayName=si.Empty.displayName;const PE=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Group,{ref:n,className:et("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));PE.displayName=si.Group.displayName;const vpe=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Separator,{ref:n,className:et("-mx-1 h-px bg-border",e),...t}));vpe.displayName=si.Separator.displayName;const gg=w.forwardRef(({className:e,...t},n)=>r.jsx(si.Item,{ref:n,className:et("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));gg.displayName=si.Item.displayName;var qb="Popover",[oU,Z6e]=ni(qb,[Oc]),Sv=Oc(),[xpe,Uc]=oU(qb),lU=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=Sv(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,m]=vo({prop:s,defaultProp:i??!1,onChange:a,caller:qb});return r.jsx(BA,{...l,children:r.jsx(xpe,{scope:t,contentId:ss(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};lU.displayName=qb;var cU="PopoverAnchor",ype=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Uc(cU,n),a=Sv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(dv,{...a,...s,ref:t})});ype.displayName=cU;var uU="PopoverTrigger",dU=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Uc(uU,n),a=Sv(n),o=Jt(t,i.triggerRef),l=r.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gU(i.open),...s,ref:o,onClick:Ke(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(dv,{asChild:!0,...a,children:l})});dU.displayName=uU;var AE="PopoverPortal",[jpe,bpe]=oU(AE,{forceMount:void 0}),hU=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=Uc(AE,t);return r.jsx(jpe,{scope:t,forceMount:n,children:r.jsx(ri,{present:n||a.open,children:r.jsx(Uf,{asChild:!0,container:i,children:s})})})};hU.displayName=AE;var hf="PopoverContent",fU=w.forwardRef((e,t)=>{const n=bpe(hf,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=Uc(hf,e.__scopePopover);return r.jsx(ri,{present:s||a.open,children:a.modal?r.jsx(Npe,{...i,ref:t}):r.jsx(Spe,{...i,ref:t})})});fU.displayName=hf;var wpe=Sc("PopoverContent.RemoveScroll"),Npe=w.forwardRef((e,t)=>{const n=Uc(hf,e.__scopePopover),s=w.useRef(null),i=Jt(t,s),a=w.useRef(!1);return w.useEffect(()=>{const o=s.current;if(o)return Cb(o)},[]),r.jsx(mv,{as:wpe,allowPinchZoom:!0,children:r.jsx(mU,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Spe=w.forwardRef((e,t)=>{const n=Uc(hf,e.__scopePopover),s=w.useRef(!1),i=w.useRef(!1);return r.jsx(mU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),mU=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Uc(hf,n),g=Sv(n);return Nb(),r.jsx(hv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(hd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(vb,{"data-state":gU(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pU="PopoverClose",Cpe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Uc(pU,n);return r.jsx(it.button,{type:"button",...s,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});Cpe.displayName=pU;var _pe="PopoverArrow",Ppe=w.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Sv(n);return r.jsx(xb,{...i,...s,ref:t})});Ppe.displayName=_pe;function gU(e){return e?"open":"closed"}var Ape=lU,Epe=dU,kpe=hU,vU=fU;const xU=Ape,yU=Epe,EE=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(kpe,{children:r.jsx(vU,{ref:i,align:t,sideOffset:n,className:et("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));EE.displayName=vU.displayName;const Tpe=[{value:"left_shoulder",label:"paule gauche"},{value:"right_shoulder",label:"paule droite"},{value:"left_hip",label:"Hanche gauche"},{value:"right_hip",label:"Hanche droite"},{value:"subcutaneous",label:"Sous-cutan"}];function F0({children:e,selectedPetId:t,selectedClientId:n,isReminder:s=!1,originalVaccinationId:i,open:a,onOpenChange:o,editingVaccination:l}){const{clients:c,pets:u,addVaccination:d,updateVaccination:f,getVaccinationProtocolsBySpecies:m,calculateDueDateFromProtocol:g,stockItems:x}=Pt(),{settings:v}=Gt(),{toast:y}=It(),[N,j]=w.useState(!1),b=a!==void 0?a:N,C=o||j;w.useState(!1);const[_,A]=w.useState(!1),[P,E]=w.useState(!1),[D,I]=w.useState([]),[k,O]=w.useState({clientId:n||"",petId:t||"",vaccineName:"",vaccineType:"",dateGiven:Rt(new Date,"yyyy-MM-dd"),batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),[U,B]=w.useState([]),ne=U||[],[Y,J]=w.useState({}),[q,$]=w.useState(null),[le,se]=w.useState("");w.useEffect(()=>{n&&O(F=>({...F,clientId:n.toString()})),t&&O(F=>({...F,petId:t.toString()}))},[n,t]),w.useEffect(()=>{const F=x.filter(X=>X.category==="vaccine"&&X.isActive&&X.currentStock>0).sort((X,te)=>X.name.localeCompare(te.name));I(F)},[x]),w.useEffect(()=>{l&&O({clientId:l.clientId.toString(),petId:l.petId.toString(),vaccineName:l.vaccineName,vaccineType:l.vaccineType,dateGiven:l.dateGiven,nextDueDate:l.nextDueDate,batchNumber:l.batchNumber||"",veterinarian:l.veterinarian||"",notes:l.notes||"",cost:l.cost||"",location:l.location||"",manufacturer:l.manufacturer||"",injectionSite:l.injectionSite||""})},[l]),w.useEffect(()=>{if(k.vaccineName&&k.dateGiven&&k.petId){const F=u.find(X=>X.id===parseInt(k.petId));if(F){const X=g(k.vaccineName,F.type,k.dateGiven);X&&se(X)}}},[k.vaccineName,k.dateGiven,k.petId,u,g]),w.useEffect(()=>{if(ne.length>0&&k.dateGiven){const F={};ne.forEach(X=>{X.intervals.forEach(te=>{const G=`${X.id}-${te.offsetDays}`;F[G]=Rt(GV(new Date(k.dateGiven),te.offsetDays),"yyyy-MM-dd")})}),J(F)}else J({})},[ne,k.dateGiven]);const re=F=>{O(X=>({...X,vaccineName:F.name,manufacturer:F.manufacturer||X.manufacturer,cost:F.sellingPrice.toString()})),A(!1),E(!1)},K=()=>{E(!0),A(!1)},ee=()=>{E(!1),O(F=>({...F,vaccineName:"",manufacturer:"",cost:""}))},ge=F=>{if(F.preventDefault(),l){if(!k.clientId||!k.petId){y({title:"Erreur",description:"Client ou animal manquant",variant:"destructive"});return}}else if(!k.clientId||!k.petId||ne.length===0&&!k.vaccineName){y({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const X=c.find(M=>M.id===parseInt(k.clientId)),te=u.find(M=>M.id===parseInt(k.petId));if(!X||!te){y({title:"Erreur",description:"Client ou animal introuvable",variant:"destructive"});return}if(ne.length>0&&!l){ne.forEach(M=>{var ye,Ne;if(M.intervals&&Array.isArray(M.intervals)){let fe;const Pe=M.intervals.find(Ze=>Ze.offsetDays===0);if(Pe){const Ze=`${M.id}-${Pe.offsetDays}`,at=Y[Ze]||"";fe=d({clientId:parseInt(k.clientId),clientName:((ye=c.find(dt=>dt.id===parseInt(k.clientId)))==null?void 0:ye.name)||"",petId:parseInt(k.petId),petName:((Ne=u.find(dt=>dt.id===parseInt(k.petId)))==null?void 0:Ne.name)||"",vaccineName:`${M.name} (${Pe.label})`,vaccineType:M.vaccineType,dateGiven:k.dateGiven,nextDueDate:at,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"completed",cost:k.cost,location:k.location,manufacturer:M.manufacturer||k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,vaccinationCategory:"new",isReminder:!1})}M.intervals.forEach(Ze=>{var at,dt;if(Ze.offsetDays>0){const Se=`${M.id}-${Ze.offsetDays}`,qe=Y[Se]||"";d({clientId:parseInt(k.clientId),clientName:((at=c.find(We=>We.id===parseInt(k.clientId)))==null?void 0:at.name)||"",petId:parseInt(k.petId),petName:((dt=u.find(We=>We.id===parseInt(k.petId)))==null?void 0:dt.name)||"",vaccineName:`${M.name} (${Ze.label})`,vaccineType:M.vaccineType,dateGiven:qe,nextDueDate:qe,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"scheduled",cost:k.cost,location:k.location,manufacturer:M.manufacturer||k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,vaccinationCategory:"reminder",originalVaccinationId:fe,isReminder:!0})}})}}),y({title:"Vaccinations enregistres",description:`${ne.length} vaccinations ajoutes.`}),B([]),C(!1);return}const G=Object.values(Y).sort().pop()||le||k.dateGiven;if(l){const M=l.vaccinationCategory==="reminder"?"rappel":"vaccination";f(l.id,{clientId:parseInt(k.clientId),clientName:X.name,petId:parseInt(k.petId),petName:te.name,vaccineName:k.vaccineName,vaccineType:k.vaccineType,vaccinationCategory:l.vaccinationCategory,dateGiven:k.dateGiven,nextDueDate:l.vaccinationCategory==="reminder"?k.dateGiven:G,calculatedDueDate:le,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:l.status,cost:k.cost,location:k.location,manufacturer:k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,originalVaccinationId:l.originalVaccinationId,isReminder:l.isReminder}),y({title:`${M.charAt(0).toUpperCase()+M.slice(1)} modifie`,description:`${M.charAt(0).toUpperCase()+M.slice(1)} ${k.vaccineName} modifie pour ${te.name}`})}else d({clientId:parseInt(k.clientId),clientName:X.name,petId:parseInt(k.petId),petName:te.name,vaccineName:k.vaccineName,vaccineType:k.vaccineType,vaccinationCategory:s?"reminder":"new",dateGiven:k.dateGiven,nextDueDate:G,calculatedDueDate:le,batchNumber:k.batchNumber,veterinarian:k.veterinarian,notes:k.notes,status:"completed",cost:k.cost,location:k.location,manufacturer:k.manufacturer,expirationDate:k.expirationDate,adverseReactions:k.adverseReactions,originalVaccinationId:s?i:void 0,isReminder:s}),y({title:"Vaccination enregistre",description:`Vaccination ${k.vaccineName} ajoute pour ${te.name}`});O({clientId:(n==null?void 0:n.toString())||"",petId:(t==null?void 0:t.toString())||"",vaccineName:"",vaccineType:"",dateGiven:Rt(new Date,"yyyy-MM-dd"),nextDueDate:"",batchNumber:"",veterinarian:"",notes:"",cost:"",location:"",manufacturer:"",expirationDate:"",adverseReactions:""}),B([]),C(!1)},xe=u.find(F=>F.id===parseInt(k.petId)),be=xe?m(xe.type):[];return r.jsxs(wt,{open:b,onOpenChange:C,children:[r.jsx(Lc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Vaccination"]})}),r.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-5 w-5"}),l?l.vaccinationCategory==="reminder"?"Modifier le Rappel":"Modifier la Vaccination":"Nouvelle Vaccination"]}),l&&l.vaccinationCategory==="reminder"&&r.jsxs("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded-md border border-orange-200",children:[r.jsx("strong",{children:"Mode dition de rappel :"})," Vous modifiez uniquement ce rappel spcifique. Les autres rappels de la mme vaccination ne seront pas affects."]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode dition :"})," Vous modifiez uniquement cette vaccination spcifique. Le client et l'animal sont verrouills. Les protocoles ne sont pas affichs car ils ne s'appliquent qu' la cration."]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"clientId",children:"Client *"}),r.jsxs(Me,{value:k.clientId,onValueChange:F=>{O(X=>({...X,clientId:F,petId:""})),$(null)},disabled:!!l,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un client"})}),r.jsx(De,{children:c&&Array.isArray(c)&&c.length>0?c.map(F=>r.jsx(z,{value:F.id.toString(),children:F.name},F.id)):r.jsx(z,{value:"no-clients",disabled:!0,children:"Aucun client trouv"})})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"petId",children:"Animal *"}),r.jsxs(Me,{value:k.petId,onValueChange:F=>{O(X=>({...X,petId:F})),$(null)},disabled:l?!0:!k.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un animal"})}),r.jsx(De,{children:u.filter(F=>F.ownerId===parseInt(k.clientId)).map(F=>r.jsxs(z,{value:F.id.toString(),children:[F.name," (",F.type,")"]},F.id))})]})]})]}),be.length>0&&!l&&r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs(L,{children:["Protocoles suggrs pour ",xe==null?void 0:xe.type," (slection multiple)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:be.map(F=>{const X=ne.some(te=>te.id===F.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Xi,{id:`protocol-${F.id}`,checked:X,onCheckedChange:te=>{B(te?G=>[...G,F]:G=>G.filter(M=>M.id!==F.id))}}),r.jsxs("label",{htmlFor:`protocol-${F.id}`,className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:F.name}),r.jsx("div",{className:"text-xs text-gray-600",children:F.description})]})]},F.id)})})]}),ne.length>0&&!l?r.jsxs(de,{className:"mb-4",children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-sm",children:"Vaccins slectionns"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:ne.map(F=>r.jsx("li",{children:F.name},F.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs(L,{htmlFor:"vaccineName",children:["Nom du vaccin ",!l&&"*"]}),r.jsxs(Le,{variant:"outline",className:"text-xs",children:[D.length," vaccins en stock"]})]}),P?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:ee,className:"text-xs",children:"Changer"})]}),r.jsx(ae,{value:k.vaccineName,onChange:F=>O(X=>({...X,vaccineName:F.target.value})),placeholder:"Nom du vaccin (non disponible en stock)",className:"bg-white",required:!l})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(xU,{open:_,onOpenChange:A,children:[r.jsx(yU,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":_,className:"flex-1 justify-between",children:[k.vaccineName||"Slectionner un vaccin...",r.jsx(db,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(EE,{className:"w-[400px] p-0",children:r.jsxs(NE,{children:[r.jsx(SE,{placeholder:"Rechercher un vaccin..."}),r.jsxs(CE,{children:[r.jsx(_E,{children:"Aucun vaccin trouv."}),r.jsxs(PE,{children:[D.map(F=>r.jsxs(gg,{value:F.name,onSelect:()=>re(F),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:F.name})]}),r.jsxs(Le,{variant:F.currentStock>=5?"default":"destructive",className:"ml-2",children:[F.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[F.manufacturer&&r.jsxs("span",{children:["Fabricant: ",F.manufacturer]}),r.jsxs("span",{children:["Prix: ",F.sellingPrice.toFixed(2)," ",v.currency]})]})]},F.id)),r.jsx(gg,{onSelect:K,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Vaccin non disponible en stock"})]})]})})]})]})]})})]}),k.vaccineName&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:K,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(pr,{className:"h-4 w-4"})})]}),k.vaccineName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const F=D.find(X=>X.name.toLowerCase()===k.vaccineName.toLowerCase());return F?F.currentStock>=1?r.jsxs(Le,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"}),"En stock (",F.currentStock,")"]}):r.jsxs(Le,{variant:"destructive",children:[r.jsx(qn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs(Le,{variant:"secondary",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"vaccineType",children:"Type de vaccin"}),r.jsxs(Me,{value:k.vaccineType,onValueChange:F=>O(X=>({...X,vaccineType:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de vaccin"})}),r.jsxs(De,{children:[r.jsx(z,{value:"core",children:"Essentiel"}),r.jsx(z,{value:"non-core",children:"Optionnel"}),r.jsx(z,{value:"rabies",children:"Rage"}),r.jsx(z,{value:"custom",children:"Personnalis"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{children:[r.jsxs(L,{htmlFor:"dateGiven",children:["Date d'administration ",!l&&"*"]}),r.jsx(ae,{id:"dateGiven",type:"date",value:k.dateGiven,onChange:F=>O(X=>({...X,dateGiven:F.target.value})),required:!l})]})}),ne.length>0&&!l&&r.jsx("div",{className:"space-y-4 mb-4",children:ne.map(F=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["tapes pour ",F.name]}),F.intervals.map(X=>{const te=`${F.id}-${X.offsetDays}`,G=new Date(k.dateGiven);G.setDate(G.getDate()+X.offsetDays);const M=G.toISOString().split("T")[0];return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[X.label," (+",X.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:te,children:"Date de rappel"}),r.jsx(ae,{id:te,type:"date",value:Y[te]||M,onChange:ye=>J(Ne=>({...Ne,[te]:ye.target.value}))}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Suggre: ",G.toLocaleDateString("fr-FR")]})]})]},te)})]},F.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"veterinarian",children:"Vtrinaire"}),r.jsxs(Me,{value:k.veterinarian,onValueChange:F=>O(X=>({...X,veterinarian:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un vtrinaire"})}),r.jsx(De,{children:v.veterinarians.filter(F=>F.isActive).map(F=>r.jsx(z,{value:F.name,children:F.name},F.id))})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"location",children:"Site d'injection"}),r.jsxs(Me,{value:k.location,onValueChange:F=>O(X=>({...X,location:F})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le site"})}),r.jsx(De,{children:Tpe.map(F=>r.jsx(z,{value:F.value,children:F.label},F.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"batchNumber",children:"Numro de lot"}),r.jsx(ae,{id:"batchNumber",value:k.batchNumber,onChange:F=>O(X=>({...X,batchNumber:F.target.value})),placeholder:"Ex: VAC2024-001"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ae,{id:"manufacturer",value:k.manufacturer,onChange:F=>O(X=>({...X,manufacturer:F.target.value})),placeholder:"Ex: Zoetis, Merial"})]}),r.jsxs("div",{children:[r.jsxs(L,{htmlFor:"cost",children:["Cot (",v.currency,")"]}),r.jsx(ae,{id:"cost",value:k.cost,onChange:F=>O(X=>({...X,cost:F.target.value})),placeholder:"0.00",type:"number",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"expirationDate",children:"Date d'expiration du vaccin"}),r.jsx(ae,{id:"expirationDate",type:"date",value:k.expirationDate,onChange:F=>O(X=>({...X,expirationDate:F.target.value}))})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"notes",children:"Notes"}),r.jsx(mt,{id:"notes",value:k.notes,onChange:F=>O(X=>({...X,notes:F.target.value})),placeholder:"Notes sur la vaccination...",rows:3})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"adverseReactions",children:"Ractions adverses"}),r.jsx(mt,{id:"adverseReactions",value:k.adverseReactions,onChange:F=>O(X=>({...X,adverseReactions:F.target.value})),placeholder:"Dcrire toute raction adverse observe...",rows:2})]}),k.vaccineName&&r.jsxs(de,{className:"mt-4",children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"text-sm flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4"}),"Rsum du stock"]})}),r.jsx(he,{children:(()=>{const F=D.find(X=>X.name.toLowerCase()===k.vaccineName.toLowerCase());return F?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:F.name}),r.jsxs(Le,{variant:F.currentStock>=1?"default":"destructive",children:[F.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",F.manufacturer||"Non spcifi"]}),r.jsxs("div",{children:["Prix de vente: ",F.sellingPrice.toFixed(2)," ",v.currency]}),r.jsxs("div",{children:["Stock minimum: ",F.minimumStock]}),F.currentStock<=F.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:" Stock bas - Rapprovisionnement recommand"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:"Vaccin non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"Le vaccin sera administr sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>setOpen(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",children:[r.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Enregistrer la vaccination"]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[xe&&r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-sm",children:"Informations Animal"})}),r.jsx(he,{className:"pt-0",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",xe.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",xe.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Race:"})," ",xe.breed||"Non spcifie"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"ge:"})," ",xe.birthDate?`${Math.floor((new Date().getTime()-new Date(xe.birthDate).getTime())/(365.25*24*60*60*1e3))} ans`:"Non spcifi"]})]})})]}),r.jsxs(de,{className:"border-amber-200 bg-amber-50",children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"text-sm text-amber-700 flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4"}),"Important"]})}),r.jsx(he,{className:"pt-0",children:r.jsxs("ul",{className:"text-xs text-amber-700 space-y-1",children:[r.jsx("li",{children:" Vrifiez la date d'expiration du vaccin"}),r.jsx("li",{children:" Respectez la chane du froid"}),r.jsx("li",{children:" Surveillez les ractions dans les 24h"}),r.jsx("li",{children:" Enregistrez le numro de lot"}),r.jsx("li",{children:" Planifiez le rappel"})]})})]})]})]})]})]})}function B0({children:e,selectedClientId:t,selectedPetId:n,open:s,onOpenChange:i,editingAntiparasitic:a}){var se,re;const{clients:o,pets:l,addAntiparasitic:c,updateAntiparasitic:u,getAntiparasiticProtocolsBySpecies:d,addAppointment:f,stockItems:m}=Pt(),{settings:g}=Gt(),{toast:x}=It(),[v,y]=w.useState(!1),N=s!==void 0?s:v,j=i||y,[b,C]=w.useState({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:Rt(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),[_,A]=w.useState([]),[P,E]=w.useState(!1),[D,I]=w.useState(!1),[k,O]=w.useState([]),U=_||[],[B,ne]=w.useState({});w.useEffect(()=>{t&&C(K=>({...K,clientId:t.toString(),petId:""})),n&&C(K=>({...K,petId:n.toString()}))},[t,n]),w.useEffect(()=>{const K=m.filter(ee=>ee.category==="medication"&&ee.isActive&&ee.currentStock>0).sort((ee,ge)=>ee.name.localeCompare(ge.name));O(K)},[m]),w.useEffect(()=>{a&&C({clientId:a.clientId.toString(),petId:a.petId.toString(),dateGiven:a.dateGiven,nextDueDate:a.nextDueDate||"",dosage:a.dosage||"",administrationRoute:a.administrationRoute||"",veterinarian:a.veterinarian||"",notes:a.notes||"",batchNumber:a.batchNumber||"",manufacturer:a.manufacturer||"",weight:a.weight||"",cost:a.cost||"",sideEffects:a.sideEffects||""})},[a]),w.useEffect(()=>{if(U.length&&b.dateGiven){const K={};U.forEach(ee=>{ee.intervals.forEach(ge=>{const xe=`${ee.id}-${ge.offsetDays}`;K[xe]=Rt(GV(new Date(b.dateGiven),ge.offsetDays),"yyyy-MM-dd")})}),ne(K)}else ne({})},[U,b.dateGiven]);const Y=b.petId?d(((se=l.find(K=>K.id===parseInt(b.petId)))==null?void 0:se.type)||""):[],J=K=>{C(ee=>({...ee,productName:K.name,manufacturer:K.manufacturer||ee.manufacturer,cost:K.sellingPrice.toString()})),E(!1),I(!1)},q=()=>{I(!0),E(!1)},$=()=>{I(!1),C(K=>({...K,productName:"",manufacturer:"",cost:""}))},le=K=>{if(K.preventDefault(),!b.clientId||!b.petId){x({title:"Erreur",description:"Client et animal requis.",variant:"destructive"});return}const ee=o.find(xe=>xe.id===parseInt(b.clientId)),ge=l.find(xe=>xe.id===parseInt(b.petId));if(!ee||!ge){x({title:"Erreur",description:"Client ou animal introuvable.",variant:"destructive"});return}if(a){u(a.id,{clientId:parseInt(b.clientId),clientName:ee.name,petId:parseInt(b.petId),petName:ge.name,productName:a.productName,productType:a.productType,targetParasites:a.targetParasites,dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:a.status,cost:b.cost,sideEffects:b.sideEffects}),x({title:"Traitement modifi",description:`Le traitement ${a.productName} a t mis  jour avec succs.`}),j(!1);return}if(U.length>0)U.forEach(xe=>{xe.intervals.forEach(be=>{const F=`${xe.id}-${be.offsetDays}`,X=B[F]||"",te=be.offsetDays===0?b.dateGiven:X;c({clientId:ee.id,clientName:ee.name,petId:ge.id,petName:ge.name,productName:`${xe.name} (${be.label})`,productType:xe.productType,targetParasites:xe.targetParasites,dateGiven:te,nextDueDate:X,dosage:b.dosage,administrationRoute:b.administrationRoute||xe.productType,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer||xe.manufacturer||"",weight:b.weight,status:be.offsetDays===0?"completed":"scheduled",cost:b.cost,sideEffects:b.sideEffects})})}),U.forEach(xe=>{(xe.intervals||[]).forEach(be=>{const F=`${xe.id}-${be.offsetDays}`,X=B[F];X&&be.offsetDays>0&&f({clientId:ee.id,clientName:ee.name,petId:ge.id,petName:ge.name,date:X,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${xe.name}`,status:"scheduled",reminderSent:!1})})}),x({title:"Traitements ajouts",description:`${U.reduce((xe,be)=>xe+be.intervals.length,0)} traitement(s) enregistr(s) dans le dossier mdical et rappels programms.`});else{const xe=b.notes||"Traitement antiparasitaire";c({clientId:ee.id,clientName:ee.name,petId:ge.id,petName:ge.name,productName:xe,productType:"external",targetParasites:"Non spcifi",dateGiven:b.dateGiven,nextDueDate:b.nextDueDate,dosage:b.dosage,administrationRoute:b.administrationRoute,veterinarian:b.veterinarian,notes:b.notes,batchNumber:b.batchNumber,manufacturer:b.manufacturer,weight:b.weight,status:"completed",cost:b.cost,sideEffects:b.sideEffects}),b.nextDueDate&&f({clientId:ee.id,clientName:ee.name,petId:ge.id,petName:ge.name,date:b.nextDueDate,time:"09:00",type:"consultation",duration:15,reason:`Rappel antiparasitaire ${xe}`,status:"scheduled",reminderSent:!1}),x({title:"Traitement ajout",description:`Traitement pour ${ge.name} enregistr dans le dossier mdical.`})}A([]),C({clientId:(t==null?void 0:t.toString())||"",petId:(n==null?void 0:n.toString())||"",dateGiven:Rt(new Date,"yyyy-MM-dd"),nextDueDate:"",dosage:"",administrationRoute:"",veterinarian:"",notes:"",batchNumber:"",manufacturer:"",weight:"",cost:"",sideEffects:""}),j(!1)};return r.jsxs(wt,{open:N,onOpenChange:j,children:[!a&&r.jsx(Lc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau traitement"]})}),r.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Nt,{children:r.jsx(St,{children:a?`Modifier ${a.productName}`:"Nouveau traitement antiparasitaire"})}),r.jsxs("form",{onSubmit:le,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a&&r.jsxs("div",{className:"col-span-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-md border border-blue-200",children:[r.jsx("strong",{children:"Mode dition :"})," Vous modifiez uniquement ce traitement spcifique. Le client et l'animal sont verrouills. Les protocoles ne sont pas affichs car ils ne s'appliquent qu' la cration."]}),r.jsxs("div",{children:[r.jsx(L,{children:"Client *"}),r.jsxs(Me,{value:b.clientId,onValueChange:K=>C(ee=>({...ee,clientId:K,petId:""})),disabled:a,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un client"})}),r.jsx(De,{children:o&&Array.isArray(o)&&o.length>0?o.map(K=>r.jsx(z,{value:K.id.toString(),children:K.name},K.id)):r.jsx(z,{value:"no-clients",disabled:!0,children:"Aucun client trouv"})})]})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Animal *"}),r.jsxs(Me,{value:b.petId,onValueChange:K=>C(ee=>({...ee,petId:K})),disabled:!b.clientId||a,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un animal"})}),r.jsx(De,{children:l.filter(K=>K.ownerId===parseInt(b.clientId)).map(K=>r.jsxs(z,{value:K.id.toString(),children:[K.name," (",K.type,")"]},K.id))})]})]})]}),Y.length>0&&!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(L,{children:["Protocoles suggrs (",(re=l.find(K=>K.id===parseInt(b.petId)))==null?void 0:re.type,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Y.map(K=>{const ee=U.some(ge=>ge.id===K.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-muted/50",children:[r.jsx(Xi,{checked:ee,onCheckedChange:ge=>A(ge?xe=>[...xe,K]:xe=>xe.filter(be=>be.id!==K.id))}),r.jsxs("label",{className:"ml-2 flex-1 text-sm",children:[r.jsx("div",{className:"font-medium",children:K.name}),r.jsx("div",{className:"text-xs text-gray-600",children:K.description})]})]},K.id)})})]}),U.length>0?r.jsxs(de,{className:"mb-4",children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-sm",children:"Protocoles slectionns"})}),r.jsx(he,{children:r.jsx("ul",{className:"list-disc list-inside text-sm",children:U.map(K=>r.jsx("li",{children:K.name},K.id))})})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(L,{children:"Produit antiparasitaire"}),r.jsxs(Le,{variant:"outline",className:"text-xs",children:[k.length," antiparasitaires en stock"]})]}),D?r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saisie manuelle"})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:$,className:"text-xs",children:"Changer"})]}),r.jsx(ae,{value:b.productName,onChange:K=>C(ee=>({...ee,productName:K.target.value})),placeholder:"Nom du produit antiparasitaire (non disponible en stock)",className:"bg-white"})]})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(xU,{open:P,onOpenChange:E,children:[r.jsx(yU,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":P,className:"flex-1 justify-between",children:[b.productName||"Slectionner un antiparasitaire...",r.jsx(db,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(EE,{className:"w-[400px] p-0",children:r.jsxs(NE,{children:[r.jsx(SE,{placeholder:"Rechercher un antiparasitaire..."}),r.jsxs(CE,{children:[r.jsx(_E,{children:"Aucun antiparasitaire trouv."}),r.jsxs(PE,{children:[k.map(K=>r.jsxs(gg,{value:K.name,onSelect:()=>J(K),className:"flex flex-col items-start gap-1 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:K.name})]}),r.jsxs(Le,{variant:K.currentStock>=5?"default":"destructive",className:"ml-2",children:[K.currentStock," en stock"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[K.manufacturer&&r.jsxs("span",{children:["Fabricant: ",K.manufacturer]}),r.jsxs("span",{children:["Prix: ",K.sellingPrice.toFixed(2)," ",g.currency]})]})]},K.id)),r.jsx(gg,{onSelect:q,children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 p-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Saisie manuelle"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Antiparasitaire non disponible en stock"})]})]})})]})]})]})})]}),b.productName&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:q,className:"px-3",title:"Passer en saisie manuelle",children:r.jsx(pr,{className:"h-4 w-4"})})]}),b.productName&&r.jsx("div",{className:"flex items-center gap-2",children:(()=>{const K=k.find(ee=>ee.name.toLowerCase()===b.productName.toLowerCase());return K?K.currentStock>=1?r.jsxs(Le,{variant:"default",className:"bg-green-100 text-green-800",children:[r.jsx(Zn,{className:"h-3 w-3 mr-1"}),"En stock (",K.currentStock,")"]}):r.jsxs(Le,{variant:"destructive",children:[r.jsx(qn,{className:"h-3 w-3 mr-1"}),"Stock insuffisant"]}):r.jsxs(Le,{variant:"secondary",children:[r.jsx(pr,{className:"h-3 w-3 mr-1"}),"Non en stock"]})})()})]})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Type"}),r.jsx(ae,{value:b.administrationRoute,onChange:K=>C(ee=>({...ee,administrationRoute:K.target.value})),placeholder:"Type (oral, topical...)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{children:"Date d'administration *"}),r.jsx(ae,{type:"date",value:b.dateGiven,onChange:K=>C(ee=>({...ee,dateGiven:K.target.value})),required:!0})]}),!U.length&&r.jsxs("div",{children:[r.jsx(L,{children:"Date de rappel"}),r.jsx(ae,{type:"date",value:b.nextDueDate,onChange:K=>C(ee=>({...ee,nextDueDate:K.target.value}))})]})]}),U.length>0&&r.jsx("div",{className:"space-y-4 mb-4",children:U.map(K=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"font-medium text-sm",children:["tapes pour ",K.name]}),K.intervals.map(ee=>{const ge=`${K.id}-${ee.offsetDays}`;return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[r.jsxs("div",{className:"text-sm",children:[ee.label," (+",ee.offsetDays," jours)"]}),r.jsxs("div",{children:[r.jsx(L,{children:"Date exacte"}),r.jsx(ae,{type:"date",id:ge,value:B[ge]||"",onChange:xe=>ne(be=>({...be,[ge]:xe.target.value}))})]})]},ge)})]},K.id))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{children:"Dosage"}),r.jsx(ae,{value:b.dosage,onChange:K=>C(ee=>({...ee,dosage:K.target.value})),placeholder:"Dosage"})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Vtrinaire"}),r.jsxs(Me,{value:b.veterinarian,onValueChange:K=>C(ee=>({...ee,veterinarian:K})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un vtrinaire"})}),r.jsx(De,{children:(g.veterinarians||[]).filter(K=>K.isActive).map(K=>r.jsx(z,{value:K.name,children:K.name},K.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{children:"Numro de lot"}),r.jsx(ae,{value:b.batchNumber,onChange:K=>C(ee=>({...ee,batchNumber:K.target.value})),placeholder:"Numro de lot"})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Fabricant"}),r.jsx(ae,{value:b.manufacturer,onChange:K=>C(ee=>({...ee,manufacturer:K.target.value})),placeholder:"Fabricant"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{children:"Poids"}),r.jsx(ae,{value:b.weight,onChange:K=>C(ee=>({...ee,weight:K.target.value})),placeholder:"Poids"})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Cot"}),r.jsx(ae,{type:"number",step:"0.01",value:b.cost,onChange:K=>C(ee=>({...ee,cost:K.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Effets indsirables"}),r.jsx(ae,{value:b.sideEffects,onChange:K=>C(ee=>({...ee,sideEffects:K.target.value})),placeholder:"Effets indsirables"})]}),b.productName&&r.jsxs(de,{className:"mt-4",children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"text-sm flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4"}),"Rsum du stock"]})}),r.jsx(he,{children:(()=>{const K=k.find(ee=>ee.name.toLowerCase()===b.productName.toLowerCase());return K?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:K.name}),r.jsxs(Le,{variant:K.currentStock>=1?"default":"destructive",children:[K.currentStock," en stock"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Fabricant: ",K.manufacturer||"Non spcifi"]}),r.jsxs("div",{children:["Prix de vente: ",K.sellingPrice.toFixed(2)," ",g.currency]}),r.jsxs("div",{children:["Stock minimum: ",K.minimumStock]}),K.currentStock<=K.minimumStock&&r.jsx("div",{className:"text-orange-600 font-medium mt-1",children:" Stock bas - Rapprovisionnement recommand"})]})]}):r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-4 w-4"}),r.jsx("span",{children:"Antiparasitaire non disponible en stock"})]}),r.jsx("div",{className:"mt-1",children:"L'antiparasitaire sera administr sans impact sur le stock."})]})})()})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",type:"button",onClick:()=>i?i(!1):y(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Ajouter"})]})]})]})]})}function Ope({open:e,onOpenChange:t,vaccination:n}){const{confirmVaccinationReminder:s,calculateDueDateFromProtocol:i}=Pt(),{toast:a}=It(),[o,l]=w.useState({datePerformed:Rt(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),c=d=>{if(d.preventDefault(),!o.veterinarian){a({title:"Erreur",description:"Le nom du vtrinaire est requis",variant:"destructive"});return}let f=o.newNextDueDate;!f&&n&&(f=i(n.vaccineName,"chien",o.datePerformed)||""),s(n.id,{datePerformed:o.datePerformed,veterinarian:o.veterinarian,batchNumber:o.batchNumber,notes:o.notes,newNextDueDate:f})&&(a({title:"Rappel confirm",description:`Le rappel de ${n.vaccineName} a t confirm et enregistr`}),l({datePerformed:Rt(new Date,"yyyy-MM-dd"),veterinarian:"",batchNumber:"",notes:"",newNextDueDate:""}),t(!1))},u=d=>{l(f=>({...f,[d.target.name]:d.target.value}))};return n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[500px]",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Confirmer le rappel de vaccination"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Vaccination  confirmer :"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:n.vaccineName})," pour ",n.petName]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rappel prvu le : ",new Date(n.nextDueDate).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"datePerformed",children:"Date d'administration *"}),r.jsx(ae,{id:"datePerformed",name:"datePerformed",type:"date",value:o.datePerformed,onChange:u,required:!0})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"veterinarian",children:"Vtrinaire *"}),r.jsx(ae,{id:"veterinarian",name:"veterinarian",value:o.veterinarian,onChange:u,placeholder:"Nom du vtrinaire",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"batchNumber",children:"Numro de lot"}),r.jsx(ae,{id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:u,placeholder:"Numro de lot du vaccin"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"newNextDueDate",children:"Nouvelle date de rappel"}),r.jsx(ae,{id:"newNextDueDate",name:"newNextDueDate",type:"date",value:o.newNextDueDate,onChange:u,placeholder:"Date du prochain rappel"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Laissez vide pour utiliser la date calcule selon le protocole"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"notes",children:"Notes"}),r.jsx(mt,{id:"notes",name:"notes",value:o.notes,onChange:u,placeholder:"Notes sur l'administration du vaccin",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Confirmer le rappel"})]})]})]})]})}):null}var Dpe=Array.isArray,ii=Dpe,Mpe=typeof ur=="object"&&ur&&ur.Object===Object&&ur,jU=Mpe,Ipe=jU,$pe=typeof self=="object"&&self&&self.Object===Object&&self,Rpe=Ipe||$pe||Function("return this")(),No=Rpe,Lpe=No,Fpe=Lpe.Symbol,Cv=Fpe,FI=Cv,bU=Object.prototype,Bpe=bU.hasOwnProperty,zpe=bU.toString,ep=FI?FI.toStringTag:void 0;function Vpe(e){var t=Bpe.call(e,ep),n=e[ep];try{e[ep]=void 0;var s=!0}catch{}var i=zpe.call(e);return s&&(t?e[ep]=n:delete e[ep]),i}var Upe=Vpe,qpe=Object.prototype,Wpe=qpe.toString;function Hpe(e){return Wpe.call(e)}var Gpe=Hpe,BI=Cv,Kpe=Upe,Ype=Gpe,Qpe="[object Null]",Xpe="[object Undefined]",zI=BI?BI.toStringTag:void 0;function Jpe(e){return e==null?e===void 0?Xpe:Qpe:zI&&zI in Object(e)?Kpe(e):Ype(e)}var xl=Jpe;function Zpe(e){return e!=null&&typeof e=="object"}var yl=Zpe,ege=xl,tge=yl,nge="[object Symbol]";function rge(e){return typeof e=="symbol"||tge(e)&&ege(e)==nge}var rm=rge,sge=ii,ige=rm,age=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oge=/^\w*$/;function lge(e,t){if(sge(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ige(e)?!0:oge.test(e)||!age.test(e)||t!=null&&e in Object(t)}var kE=lge;function cge(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qc=cge;const sm=vn(qc);var uge=xl,dge=qc,hge="[object AsyncFunction]",fge="[object Function]",mge="[object GeneratorFunction]",pge="[object Proxy]";function gge(e){if(!dge(e))return!1;var t=uge(e);return t==fge||t==mge||t==hge||t==pge}var TE=gge;const bt=vn(TE);var vge=No,xge=vge["__core-js_shared__"],yge=xge,bS=yge,VI=function(){var e=/[^.]+$/.exec(bS&&bS.keys&&bS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jge(e){return!!VI&&VI in e}var bge=jge,wge=Function.prototype,Nge=wge.toString;function Sge(e){if(e!=null){try{return Nge.call(e)}catch{}try{return e+""}catch{}}return""}var wU=Sge,Cge=TE,_ge=bge,Pge=qc,Age=wU,Ege=/[\\^$.*+?()[\]{}|]/g,kge=/^\[object .+?Constructor\]$/,Tge=Function.prototype,Oge=Object.prototype,Dge=Tge.toString,Mge=Oge.hasOwnProperty,Ige=RegExp("^"+Dge.call(Mge).replace(Ege,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $ge(e){if(!Pge(e)||_ge(e))return!1;var t=Cge(e)?Ige:kge;return t.test(Age(e))}var Rge=$ge;function Lge(e,t){return e==null?void 0:e[t]}var Fge=Lge,Bge=Rge,zge=Fge;function Vge(e,t){var n=zge(e,t);return Bge(n)?n:void 0}var vd=Vge,Uge=vd,qge=Uge(Object,"create"),Wb=qge,UI=Wb;function Wge(){this.__data__=UI?UI(null):{},this.size=0}var Hge=Wge;function Gge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kge=Gge,Yge=Wb,Qge="__lodash_hash_undefined__",Xge=Object.prototype,Jge=Xge.hasOwnProperty;function Zge(e){var t=this.__data__;if(Yge){var n=t[e];return n===Qge?void 0:n}return Jge.call(t,e)?t[e]:void 0}var eve=Zge,tve=Wb,nve=Object.prototype,rve=nve.hasOwnProperty;function sve(e){var t=this.__data__;return tve?t[e]!==void 0:rve.call(t,e)}var ive=sve,ave=Wb,ove="__lodash_hash_undefined__";function lve(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ave&&t===void 0?ove:t,this}var cve=lve,uve=Hge,dve=Kge,hve=eve,fve=ive,mve=cve;function im(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}im.prototype.clear=uve;im.prototype.delete=dve;im.prototype.get=hve;im.prototype.has=fve;im.prototype.set=mve;var pve=im;function gve(){this.__data__=[],this.size=0}var vve=gve;function xve(e,t){return e===t||e!==e&&t!==t}var OE=xve,yve=OE;function jve(e,t){for(var n=e.length;n--;)if(yve(e[n][0],t))return n;return-1}var Hb=jve,bve=Hb,wve=Array.prototype,Nve=wve.splice;function Sve(e){var t=this.__data__,n=bve(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Nve.call(t,n,1),--this.size,!0}var Cve=Sve,_ve=Hb;function Pve(e){var t=this.__data__,n=_ve(t,e);return n<0?void 0:t[n][1]}var Ave=Pve,Eve=Hb;function kve(e){return Eve(this.__data__,e)>-1}var Tve=kve,Ove=Hb;function Dve(e,t){var n=this.__data__,s=Ove(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var Mve=Dve,Ive=vve,$ve=Cve,Rve=Ave,Lve=Tve,Fve=Mve;function am(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}am.prototype.clear=Ive;am.prototype.delete=$ve;am.prototype.get=Rve;am.prototype.has=Lve;am.prototype.set=Fve;var Gb=am,Bve=vd,zve=No,Vve=Bve(zve,"Map"),DE=Vve,qI=pve,Uve=Gb,qve=DE;function Wve(){this.size=0,this.__data__={hash:new qI,map:new(qve||Uve),string:new qI}}var Hve=Wve;function Gve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Kve=Gve,Yve=Kve;function Qve(e,t){var n=e.__data__;return Yve(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Kb=Qve,Xve=Kb;function Jve(e){var t=Xve(this,e).delete(e);return this.size-=t?1:0,t}var Zve=Jve,exe=Kb;function txe(e){return exe(this,e).get(e)}var nxe=txe,rxe=Kb;function sxe(e){return rxe(this,e).has(e)}var ixe=sxe,axe=Kb;function oxe(e,t){var n=axe(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var lxe=oxe,cxe=Hve,uxe=Zve,dxe=nxe,hxe=ixe,fxe=lxe;function om(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}om.prototype.clear=cxe;om.prototype.delete=uxe;om.prototype.get=dxe;om.prototype.has=hxe;om.prototype.set=fxe;var ME=om,NU=ME,mxe="Expected a function";function IE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mxe);var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,s);return n.cache=a.set(i,o)||a,o};return n.cache=new(IE.Cache||NU),n}IE.Cache=NU;var SU=IE;const pxe=vn(SU);var gxe=SU,vxe=500;function xxe(e){var t=gxe(e,function(s){return n.size===vxe&&n.clear(),s}),n=t.cache;return t}var yxe=xxe,jxe=yxe,bxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wxe=/\\(\\)?/g,Nxe=jxe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bxe,function(n,s,i,a){t.push(i?a.replace(wxe,"$1"):s||n)}),t}),Sxe=Nxe;function Cxe(e,t){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}var $E=Cxe,WI=Cv,_xe=$E,Pxe=ii,Axe=rm,Exe=1/0,HI=WI?WI.prototype:void 0,GI=HI?HI.toString:void 0;function CU(e){if(typeof e=="string")return e;if(Pxe(e))return _xe(e,CU)+"";if(Axe(e))return GI?GI.call(e):"";var t=e+"";return t=="0"&&1/e==-Exe?"-0":t}var kxe=CU,Txe=kxe;function Oxe(e){return e==null?"":Txe(e)}var _U=Oxe,Dxe=ii,Mxe=kE,Ixe=Sxe,$xe=_U;function Rxe(e,t){return Dxe(e)?e:Mxe(e,t)?[e]:Ixe($xe(e))}var PU=Rxe,Lxe=rm,Fxe=1/0;function Bxe(e){if(typeof e=="string"||Lxe(e))return e;var t=e+"";return t=="0"&&1/e==-Fxe?"-0":t}var Yb=Bxe,zxe=PU,Vxe=Yb;function Uxe(e,t){t=zxe(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Vxe(t[n++])];return n&&n==s?e:void 0}var RE=Uxe,qxe=RE;function Wxe(e,t,n){var s=e==null?void 0:qxe(e,t);return s===void 0?n:s}var AU=Wxe;const Si=vn(AU);function Hxe(e){return e==null}var Gxe=Hxe;const Et=vn(Gxe);var Kxe=xl,Yxe=ii,Qxe=yl,Xxe="[object String]";function Jxe(e){return typeof e=="string"||!Yxe(e)&&Qxe(e)&&Kxe(e)==Xxe}var Zxe=Jxe;const ed=vn(Zxe);var EU={exports:{}},Sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE=Symbol.for("react.element"),FE=Symbol.for("react.portal"),Qb=Symbol.for("react.fragment"),Xb=Symbol.for("react.strict_mode"),Jb=Symbol.for("react.profiler"),Zb=Symbol.for("react.provider"),ew=Symbol.for("react.context"),eye=Symbol.for("react.server_context"),tw=Symbol.for("react.forward_ref"),nw=Symbol.for("react.suspense"),rw=Symbol.for("react.suspense_list"),sw=Symbol.for("react.memo"),iw=Symbol.for("react.lazy"),tye=Symbol.for("react.offscreen"),kU;kU=Symbol.for("react.module.reference");function ra(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case LE:switch(e=e.type,e){case Qb:case Jb:case Xb:case nw:case rw:return e;default:switch(e=e&&e.$$typeof,e){case eye:case ew:case tw:case iw:case sw:case Zb:return e;default:return t}}case FE:return t}}}Sn.ContextConsumer=ew;Sn.ContextProvider=Zb;Sn.Element=LE;Sn.ForwardRef=tw;Sn.Fragment=Qb;Sn.Lazy=iw;Sn.Memo=sw;Sn.Portal=FE;Sn.Profiler=Jb;Sn.StrictMode=Xb;Sn.Suspense=nw;Sn.SuspenseList=rw;Sn.isAsyncMode=function(){return!1};Sn.isConcurrentMode=function(){return!1};Sn.isContextConsumer=function(e){return ra(e)===ew};Sn.isContextProvider=function(e){return ra(e)===Zb};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===LE};Sn.isForwardRef=function(e){return ra(e)===tw};Sn.isFragment=function(e){return ra(e)===Qb};Sn.isLazy=function(e){return ra(e)===iw};Sn.isMemo=function(e){return ra(e)===sw};Sn.isPortal=function(e){return ra(e)===FE};Sn.isProfiler=function(e){return ra(e)===Jb};Sn.isStrictMode=function(e){return ra(e)===Xb};Sn.isSuspense=function(e){return ra(e)===nw};Sn.isSuspenseList=function(e){return ra(e)===rw};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qb||e===Jb||e===Xb||e===nw||e===rw||e===tye||typeof e=="object"&&e!==null&&(e.$$typeof===iw||e.$$typeof===sw||e.$$typeof===Zb||e.$$typeof===ew||e.$$typeof===tw||e.$$typeof===kU||e.getModuleId!==void 0)};Sn.typeOf=ra;EU.exports=Sn;var nye=EU.exports,rye=xl,sye=yl,iye="[object Number]";function aye(e){return typeof e=="number"||sye(e)&&rye(e)==iye}var TU=aye;const oye=vn(TU);var lye=TU;function cye(e){return lye(e)&&e!=+e}var uye=cye;const lm=vn(uye);var Os=function(t){return t===0?0:t>0?1:-1},wu=function(t){return ed(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return oye(t)&&!lm(t)},dye=function(t){return Et(t)},$r=function(t){return Ve(t)||ed(t)},hye=0,xd=function(t){var n=++hye;return"".concat(t||"").concat(n)},Ds=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!ed(t))return s;var a;if(wu(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return lm(a)&&(a=s),i&&a>n&&(a=n),a},Kl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},fye=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},i=0;i<n;i++)if(!s[t[i]])s[t[i]]=!0;else return!0;return!1},Mr=function(t,n){return Ve(t)&&Ve(n)?function(s){return t+s*(n-t)}:function(){return n}};function z0(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Si(s,t))===n})}var mye=function(t,n){return Ve(t)&&Ve(n)?t-n:ed(t)&&ed(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Mh(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function G2(e){"@babel/helpers - typeof";return G2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G2(e)}var pye=["viewBox","children"],gye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KI=["points","pathLength"],wS={svg:pye,polygon:KI,polyline:KI},BE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],V0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),!sm(s))return null;var i={};return Object.keys(s).forEach(function(a){BE.includes(a)&&(i[a]=n||function(o){return s[a](s,o)})}),i},vye=function(t,n,s){return function(i){return t(n,s,i),null}},td=function(t,n,s){if(!sm(t)||G2(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];BE.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=vye(o,n,s))}),i},xye=["children"],yye=["children"];function YI(e,t){if(e==null)return{};var n=jye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function jye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function K2(e){"@babel/helpers - typeof";return K2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K2(e)}var QI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},XI=null,NS=null,zE=function e(t){if(t===XI&&Array.isArray(NS))return NS;var n=[];return w.Children.forEach(t,function(s){Et(s)||(nye.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),NS=n,XI=t,n};function Ci(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(i){return Zo(i)}):s=[Zo(t)],zE(e).forEach(function(i){var a=Si(i,"type.displayName")||Si(i,"type.name");s.indexOf(a)!==-1&&n.push(i)}),n}function gi(e,t){var n=Ci(e,t);return n&&n[0]}var JI=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,i=n.height;return!(!Ve(s)||s<=0||!Ve(i)||i<=0)},bye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wye=function(t){return t&&t.type&&ed(t.type)&&bye.indexOf(t.type)>=0},OU=function(t){return t&&K2(t)==="object"&&"clipDot"in t},Nye=function(t,n,s,i){var a,o=(a=wS==null?void 0:wS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!bt(t)&&(i&&o.includes(n)||gye.includes(n))||s&&BE.includes(n)},ct=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!sm(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;Nye((l=i)===null||l===void 0?void 0:l[o],o,n,s)&&(a[o]=i[o])}),a},Y2=function e(t,n){if(t===n)return!0;var s=w.Children.count(t);if(s!==w.Children.count(n))return!1;if(s===0)return!0;if(s===1)return ZI(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<s;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!ZI(a,o))return!1}return!0},ZI=function(t,n){if(Et(t)&&Et(n))return!0;if(!Et(t)&&!Et(n)){var s=t.props||{},i=s.children,a=YI(s,xye),o=n.props||{},l=o.children,c=YI(o,yye);return i&&l?Mh(a,c)&&Y2(i,l):!i&&!l?Mh(a,c):!1}return!1},e4=function(t,n){var s=[],i={};return zE(t).forEach(function(a,o){if(wye(a))s.push(a);else if(a){var l=Zo(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);s.push(f),i[l]=!0}}}),s},Sye=function(t){var n=t&&t.type;return n&&QI[n]?QI[n]:null},Cye=function(t,n){return zE(n).indexOf(t)},_ye=["children","width","height","viewBox","className","style","title","desc"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q2.apply(this,arguments)}function Pye(e,t){if(e==null)return{};var n=Aye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Aye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function X2(e){var t=e.children,n=e.width,s=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=Pye(e,_ye),d=i||{width:n,height:s,x:0,y:0},f=Ot("recharts-surface",a);return W.createElement("svg",Q2({},ct(u,!0,"svg"),{className:f,width:n,height:s,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),t)}var Eye=["children","className"];function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J2.apply(this,arguments)}function kye(e,t){if(e==null)return{};var n=Tye(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Tye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Xt=W.forwardRef(function(e,t){var n=e.children,s=e.className,i=kye(e,Eye),a=Ot("recharts-layer",s);return W.createElement("g",J2({className:a},ct(i,!0),{ref:t}),n)}),Ta=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a]};function Oye(e,t,n){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++s<i;)a[s]=e[s+t];return a}var Dye=Oye,Mye=Dye;function Iye(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:Mye(e,t,n)}var $ye=Iye,Rye="\\ud800-\\udfff",Lye="\\u0300-\\u036f",Fye="\\ufe20-\\ufe2f",Bye="\\u20d0-\\u20ff",zye=Lye+Fye+Bye,Vye="\\ufe0e\\ufe0f",Uye="\\u200d",qye=RegExp("["+Uye+Rye+zye+Vye+"]");function Wye(e){return qye.test(e)}var DU=Wye;function Hye(e){return e.split("")}var Gye=Hye,MU="\\ud800-\\udfff",Kye="\\u0300-\\u036f",Yye="\\ufe20-\\ufe2f",Qye="\\u20d0-\\u20ff",Xye=Kye+Yye+Qye,Jye="\\ufe0e\\ufe0f",Zye="["+MU+"]",Z2="["+Xye+"]",e_="\\ud83c[\\udffb-\\udfff]",e0e="(?:"+Z2+"|"+e_+")",IU="[^"+MU+"]",$U="(?:\\ud83c[\\udde6-\\uddff]){2}",RU="[\\ud800-\\udbff][\\udc00-\\udfff]",t0e="\\u200d",LU=e0e+"?",FU="["+Jye+"]?",n0e="(?:"+t0e+"(?:"+[IU,$U,RU].join("|")+")"+FU+LU+")*",r0e=FU+LU+n0e,s0e="(?:"+[IU+Z2+"?",Z2,$U,RU,Zye].join("|")+")",i0e=RegExp(e_+"(?="+e_+")|"+s0e+r0e,"g");function a0e(e){return e.match(i0e)||[]}var o0e=a0e,l0e=Gye,c0e=DU,u0e=o0e;function d0e(e){return c0e(e)?u0e(e):l0e(e)}var h0e=d0e,f0e=$ye,m0e=DU,p0e=h0e,g0e=_U;function v0e(e){return function(t){t=g0e(t);var n=m0e(t)?p0e(t):void 0,s=n?n[0]:t.charAt(0),i=n?f0e(n,1).join(""):t.slice(1);return s[e]()+i}}var x0e=v0e,y0e=x0e,j0e=y0e("toUpperCase"),b0e=j0e;const aw=vn(b0e);function Mn(e){return function(){return e}}const BU=Math.cos,U0=Math.sin,Ua=Math.sqrt,q0=Math.PI,ow=2*q0,t_=Math.PI,n_=2*t_,hu=1e-6,w0e=n_-hu;function zU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function N0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zU;const n=10**t;return function(s){this._+=s[0];for(let i=1,a=s.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+s[i]}}class S0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zU:N0e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,i){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(t,n,s,i,a,o){this._append`C${+t},${+n},${+s},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,s,i,a){if(t=+t,n=+n,s=+s,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=s-t,u=i-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>hu)if(!(Math.abs(f*c-u*d)>hu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=s-o,x=i-l,v=c*c+u*u,y=g*g+x*x,N=Math.sqrt(v),j=Math.sqrt(m),b=a*Math.tan((t_-Math.acos((v+m-y)/(2*N*j)))/2),C=b/j,_=b/N;Math.abs(C-1)>hu&&this._append`L${t+C*d},${n+C*f}`,this._append`A${a},${a},0,0,${+(f*g>d*x)},${this._x1=t+_*c},${this._y1=n+_*u}`}}arc(t,n,s,i,a,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(i),c=s*Math.sin(i),u=t+l,d=n+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>hu||Math.abs(this._y1-d)>hu)&&this._append`L${u},${d}`,s&&(m<0&&(m=m%n_+n_),m>w0e?this._append`A${s},${s},0,1,${f},${t-l},${n-c}A${s},${s},0,1,${f},${this._x1=u},${this._y1=d}`:m>hu&&this._append`A${s},${s},0,${+(m>=t_)},${f},${this._x1=t+s*Math.cos(a)},${this._y1=n+s*Math.sin(a)}`)}rect(t,n,s,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function VE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new S0e(t)}function UE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VU(e){this._context=e}VU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lw(e){return new VU(e)}function UU(e){return e[0]}function qU(e){return e[1]}function WU(e,t){var n=Mn(!0),s=null,i=lw,a=null,o=VE(l);e=typeof e=="function"?e:e===void 0?UU:Mn(e),t=typeof t=="function"?t:t===void 0?qU:Mn(t);function l(c){var u,d=(c=UE(c)).length,f,m=!1,g;for(s==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Mn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Mn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Mn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,s!=null&&(a=i(s)),l):i},l.context=function(c){return arguments.length?(c==null?s=a=null:a=i(s=c),l):s},l}function py(e,t,n){var s=null,i=Mn(!0),a=null,o=lw,l=null,c=VE(u);e=typeof e=="function"?e:e===void 0?UU:Mn(+e),t=typeof t=="function"?t:Mn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?qU:Mn(+n);function u(f){var m,g,x,v=(f=UE(f)).length,y,N=!1,j,b=new Array(v),C=new Array(v);for(a==null&&(l=o(j=c())),m=0;m<=v;++m){if(!(m<v&&i(y=f[m],m,f))===N)if(N=!N)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(b[x],C[x]);l.lineEnd(),l.areaEnd()}N&&(b[m]=+e(y,m,f),C[m]=+t(y,m,f),l.point(s?+s(y,m,f):b[m],n?+n(y,m,f):C[m]))}if(j)return l=null,j+""||null}function d(){return WU().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Mn(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Mn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class HU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function C0e(e){return new HU(e,!0)}function _0e(e){return new HU(e,!1)}const qE={draw(e,t){const n=Ua(t/q0);e.moveTo(n,0),e.arc(0,0,n,0,ow)}},P0e={draw(e,t){const n=Ua(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},GU=Ua(1/3),A0e=GU*2,E0e={draw(e,t){const n=Ua(t/A0e),s=n*GU;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},k0e={draw(e,t){const n=Ua(t),s=-n/2;e.rect(s,s,n,n)}},T0e=.8908130915292852,KU=U0(q0/10)/U0(7*q0/10),O0e=U0(ow/10)*KU,D0e=-BU(ow/10)*KU,M0e={draw(e,t){const n=Ua(t*T0e),s=O0e*n,i=D0e*n;e.moveTo(0,-n),e.lineTo(s,i);for(let a=1;a<5;++a){const o=ow*a/5,l=BU(o),c=U0(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*i,c*s+l*i)}e.closePath()}},SS=Ua(3),I0e={draw(e,t){const n=-Ua(t/(SS*3));e.moveTo(0,n*2),e.lineTo(-SS*n,-n),e.lineTo(SS*n,-n),e.closePath()}},Li=-.5,Fi=Ua(3)/2,r_=1/Ua(12),$0e=(r_/2+1)*3,R0e={draw(e,t){const n=Ua(t/$0e),s=n/2,i=n*r_,a=s,o=n*r_+n,l=-a,c=o;e.moveTo(s,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Li*s-Fi*i,Fi*s+Li*i),e.lineTo(Li*a-Fi*o,Fi*a+Li*o),e.lineTo(Li*l-Fi*c,Fi*l+Li*c),e.lineTo(Li*s+Fi*i,Li*i-Fi*s),e.lineTo(Li*a+Fi*o,Li*o-Fi*a),e.lineTo(Li*l+Fi*c,Li*c-Fi*l),e.closePath()}};function L0e(e,t){let n=null,s=VE(i);e=typeof e=="function"?e:Mn(e||qE),t=typeof t=="function"?t:Mn(t===void 0?64:+t);function i(){let a;if(n||(n=a=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Mn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Mn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function W0(){}function H0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function YU(e){this._context=e}YU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:H0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F0e(e){return new YU(e)}function QU(e){this._context=e}QU.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:H0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B0e(e){return new QU(e)}function XU(e){this._context=e}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:H0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z0e(e){return new XU(e)}function JU(e){this._context=e}JU.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V0e(e){return new JU(e)}function t4(e){return e<0?-1:1}function n4(e,t,n){var s=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(s||i<0&&-0),o=(n-e._y1)/(i||s<0&&-0),l=(a*i+o*s)/(s+i);return(t4(a)+t4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function r4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function CS(e,t,n){var s=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-s)/3;e._context.bezierCurveTo(s+l,i+l*t,a-l,o-l*n,a,o)}function G0(e){this._context=e}G0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:CS(this,this._t0,r4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,CS(this,r4(this,n=n4(this,e,t)),n);break;default:CS(this,this._t0,n=n4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ZU(e){this._context=new eq(e)}(ZU.prototype=Object.create(G0.prototype)).point=function(e,t){G0.prototype.point.call(this,t,e)};function eq(e){this._context=e}eq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,i,a){this._context.bezierCurveTo(t,e,s,n,a,i)}};function U0e(e){return new G0(e)}function q0e(e){return new ZU(e)}function tq(e){this._context=e}tq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=s4(e),i=s4(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(s[0][a],i[0][a],s[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function s4(e){var t,n=e.length-1,s,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=i[t]/a[t-1],a[t]-=s,o[t]-=s*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function W0e(e){return new tq(e)}function cw(e,t){this._context=e,this._t=t}cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function H0e(e){return new cw(e,.5)}function G0e(e){return new cw(e,0)}function K0e(e){return new cw(e,1)}function ff(e,t){if((o=e.length)>1)for(var n=1,s,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],s=0;s<l;++s)a[s][1]+=a[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function s_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Y0e(e,t){return e[t]}function Q0e(e){const t=[];return t.key=e,t}function X0e(){var e=Mn([]),t=s_,n=ff,s=Y0e;function i(a){var o=Array.from(e.apply(this,arguments),Q0e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(f,o[l].key,u,a)]).data=f;for(l=0,d=UE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Mn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(s=typeof a=="function"?a:Mn(+a),i):s},i.order=function(a){return arguments.length?(t=a==null?s_:typeof a=="function"?a:Mn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??ff,i):n},i}function J0e(e,t){if((s=e.length)>0){for(var n,s,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<s;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<s;++n)e[n][i][1]/=o}ff(e,t)}}function Z0e(e,t){if((i=e.length)>0){for(var n=0,s=e[t[0]],i,a=s.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}ff(e,t)}}function eje(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,s=1,i,a,o;s<a;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[s][1]||0,m=d[s-1][1]||0,g=(f-m)/2,x=0;x<l;++x){var v=e[t[x]],y=v[s][1]||0,N=v[s-1][1]||0;g+=y-N}c+=f,u+=g*f}i[s-1][1]+=i[s-1][0]=n,c&&(n-=u/c)}i[s-1][1]+=i[s-1][0]=n,ff(e,t)}}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}var tje=["type","size","sizeType"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i_.apply(this,arguments)}function i4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function a4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(n),!0).forEach(function(s){nje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nje(e,t,n){return t=rje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rje(e){var t=sje(e,"string");return vg(t)=="symbol"?t:t+""}function sje(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ije(e,t){if(e==null)return{};var n=aje(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function aje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var nq={symbolCircle:qE,symbolCross:P0e,symbolDiamond:E0e,symbolSquare:k0e,symbolStar:M0e,symbolTriangle:I0e,symbolWye:R0e},oje=Math.PI/180,lje=function(t){var n="symbol".concat(aw(t));return nq[n]||qE},cje=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*oje;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uje=function(t,n){nq["symbol".concat(aw(t))]=n},WE=function(t){var n=t.type,s=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=ije(t,tje),u=a4(a4({},c),{},{type:s,size:a,sizeType:l}),d=function(){var y=lje(s),N=L0e().type(y).size(cje(a,l,s));return N()},f=u.className,m=u.cx,g=u.cy,x=ct(u,!0);return m===+m&&g===+g&&a===+a?W.createElement("path",i_({},x,{className:Ot("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};WE.registerSymbol=uje;function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a_.apply(this,arguments)}function o4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function dje(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(n),!0).forEach(function(s){xg(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fje(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,sq(s.key),s)}}function mje(e,t,n){return t&&fje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pje(e,t,n){return t=K0(t),gje(e,rq()?Reflect.construct(t,n||[],K0(e).constructor):t.apply(e,n))}function gje(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vje(e)}function vje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!e})()}function K0(e){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(e)}function xje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},o_(e,t)}function xg(e,t,n){return t=sq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sq(e){var t=yje(e,"string");return mf(t)=="symbol"?t:t+""}function yje(e,t){if(mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi=32,HE=function(e){function t(){return hje(this,t),pje(this,t,arguments)}return xje(t,e),mje(t,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,a=Bi/2,o=Bi/6,l=Bi/3,c=s.inactive?i:s.color;if(s.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:a,x2:Bi,y2:a,className:"recharts-legend-icon"});if(s.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Bi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(s.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Bi/8,"h").concat(Bi,"v").concat(Bi*3/4,"h").concat(-Bi,"z"),className:"recharts-legend-icon"});if(W.isValidElement(s.legendIcon)){var u=dje({},s);return delete u.legendIcon,W.cloneElement(s.legendIcon,u)}return W.createElement(WE,{fill:c,cx:a,cy:a,size:Bi,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Bi,height:Bi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,x){var v=g.formatter||c,y=Ot(xg(xg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=bt(g.value)?null:g.value;Ta(!bt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=g.inactive?u:g.color;return W.createElement("li",a_({className:y,style:f,key:"legend-item-".concat(x)},td(s.props,g,x)),W.createElement(X2,{width:o,height:o,viewBox:d,style:m},s.renderIcon(g)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},v?v(N,g,x):N))})}},{key:"render",value:function(){var s=this.props,i=s.payload,a=s.layout,o=s.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);xg(HE,"displayName","Legend");xg(HE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jje=Gb;function bje(){this.__data__=new jje,this.size=0}var wje=bje;function Nje(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Sje=Nje;function Cje(e){return this.__data__.get(e)}var _je=Cje;function Pje(e){return this.__data__.has(e)}var Aje=Pje,Eje=Gb,kje=DE,Tje=ME,Oje=200;function Dje(e,t){var n=this.__data__;if(n instanceof Eje){var s=n.__data__;if(!kje||s.length<Oje-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Tje(s)}return n.set(e,t),this.size=n.size,this}var Mje=Dje,Ije=Gb,$je=wje,Rje=Sje,Lje=_je,Fje=Aje,Bje=Mje;function cm(e){var t=this.__data__=new Ije(e);this.size=t.size}cm.prototype.clear=$je;cm.prototype.delete=Rje;cm.prototype.get=Lje;cm.prototype.has=Fje;cm.prototype.set=Bje;var iq=cm,zje="__lodash_hash_undefined__";function Vje(e){return this.__data__.set(e,zje),this}var Uje=Vje;function qje(e){return this.__data__.has(e)}var Wje=qje,Hje=ME,Gje=Uje,Kje=Wje;function Y0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Hje;++t<n;)this.add(e[t])}Y0.prototype.add=Y0.prototype.push=Gje;Y0.prototype.has=Kje;var aq=Y0;function Yje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var oq=Yje;function Qje(e,t){return e.has(t)}var lq=Qje,Xje=aq,Jje=oq,Zje=lq,ebe=1,tbe=2;function nbe(e,t,n,s,i,a){var o=n&ebe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,g=n&tbe?new Xje:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],v=t[f];if(s)var y=o?s(v,x,f,t,e,a):s(x,v,f,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(g){if(!Jje(t,function(N,j){if(!Zje(g,j)&&(x===N||i(x,N,n,s,a)))return g.push(j)})){m=!1;break}}else if(!(x===v||i(x,v,n,s,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var cq=nbe,rbe=No,sbe=rbe.Uint8Array,ibe=sbe;function abe(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var obe=abe;function lbe(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var GE=lbe,l4=Cv,c4=ibe,cbe=OE,ube=cq,dbe=obe,hbe=GE,fbe=1,mbe=2,pbe="[object Boolean]",gbe="[object Date]",vbe="[object Error]",xbe="[object Map]",ybe="[object Number]",jbe="[object RegExp]",bbe="[object Set]",wbe="[object String]",Nbe="[object Symbol]",Sbe="[object ArrayBuffer]",Cbe="[object DataView]",u4=l4?l4.prototype:void 0,_S=u4?u4.valueOf:void 0;function _be(e,t,n,s,i,a,o){switch(n){case Cbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Sbe:return!(e.byteLength!=t.byteLength||!a(new c4(e),new c4(t)));case pbe:case gbe:case ybe:return cbe(+e,+t);case vbe:return e.name==t.name&&e.message==t.message;case jbe:case wbe:return e==t+"";case xbe:var l=dbe;case bbe:var c=s&fbe;if(l||(l=hbe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=mbe,o.set(e,t);var d=ube(l(e),l(t),s,i,a,o);return o.delete(e),d;case Nbe:if(_S)return _S.call(e)==_S.call(t)}return!1}var Pbe=_be;function Abe(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var uq=Abe,Ebe=uq,kbe=ii;function Tbe(e,t,n){var s=t(e);return kbe(e)?s:Ebe(s,n(e))}var Obe=Tbe;function Dbe(e,t){for(var n=-1,s=e==null?0:e.length,i=0,a=[];++n<s;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Mbe=Dbe;function Ibe(){return[]}var $be=Ibe,Rbe=Mbe,Lbe=$be,Fbe=Object.prototype,Bbe=Fbe.propertyIsEnumerable,d4=Object.getOwnPropertySymbols,zbe=d4?function(e){return e==null?[]:(e=Object(e),Rbe(d4(e),function(t){return Bbe.call(e,t)}))}:Lbe,Vbe=zbe;function Ube(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var qbe=Ube,Wbe=xl,Hbe=yl,Gbe="[object Arguments]";function Kbe(e){return Hbe(e)&&Wbe(e)==Gbe}var Ybe=Kbe,h4=Ybe,Qbe=yl,dq=Object.prototype,Xbe=dq.hasOwnProperty,Jbe=dq.propertyIsEnumerable,Zbe=h4(function(){return arguments}())?h4:function(e){return Qbe(e)&&Xbe.call(e,"callee")&&!Jbe.call(e,"callee")},KE=Zbe,Q0={exports:{}};function ewe(){return!1}var twe=ewe;Q0.exports;(function(e,t){var n=No,s=twe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(Q0,Q0.exports);var hq=Q0.exports,nwe=9007199254740991,rwe=/^(?:0|[1-9]\d*)$/;function swe(e,t){var n=typeof e;return t=t??nwe,!!t&&(n=="number"||n!="symbol"&&rwe.test(e))&&e>-1&&e%1==0&&e<t}var YE=swe,iwe=9007199254740991;function awe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iwe}var QE=awe,owe=xl,lwe=QE,cwe=yl,uwe="[object Arguments]",dwe="[object Array]",hwe="[object Boolean]",fwe="[object Date]",mwe="[object Error]",pwe="[object Function]",gwe="[object Map]",vwe="[object Number]",xwe="[object Object]",ywe="[object RegExp]",jwe="[object Set]",bwe="[object String]",wwe="[object WeakMap]",Nwe="[object ArrayBuffer]",Swe="[object DataView]",Cwe="[object Float32Array]",_we="[object Float64Array]",Pwe="[object Int8Array]",Awe="[object Int16Array]",Ewe="[object Int32Array]",kwe="[object Uint8Array]",Twe="[object Uint8ClampedArray]",Owe="[object Uint16Array]",Dwe="[object Uint32Array]",zn={};zn[Cwe]=zn[_we]=zn[Pwe]=zn[Awe]=zn[Ewe]=zn[kwe]=zn[Twe]=zn[Owe]=zn[Dwe]=!0;zn[uwe]=zn[dwe]=zn[Nwe]=zn[hwe]=zn[Swe]=zn[fwe]=zn[mwe]=zn[pwe]=zn[gwe]=zn[vwe]=zn[xwe]=zn[ywe]=zn[jwe]=zn[bwe]=zn[wwe]=!1;function Mwe(e){return cwe(e)&&lwe(e.length)&&!!zn[owe(e)]}var Iwe=Mwe;function $we(e){return function(t){return e(t)}}var fq=$we,X0={exports:{}};X0.exports;(function(e,t){var n=jU,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===s,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(X0,X0.exports);var Rwe=X0.exports,Lwe=Iwe,Fwe=fq,f4=Rwe,m4=f4&&f4.isTypedArray,Bwe=m4?Fwe(m4):Lwe,mq=Bwe,zwe=qbe,Vwe=KE,Uwe=ii,qwe=hq,Wwe=YE,Hwe=mq,Gwe=Object.prototype,Kwe=Gwe.hasOwnProperty;function Ywe(e,t){var n=Uwe(e),s=!n&&Vwe(e),i=!n&&!s&&qwe(e),a=!n&&!s&&!i&&Hwe(e),o=n||s||i||a,l=o?zwe(e.length,String):[],c=l.length;for(var u in e)(t||Kwe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wwe(u,c)))&&l.push(u);return l}var Qwe=Ywe,Xwe=Object.prototype;function Jwe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Xwe;return e===n}var Zwe=Jwe;function eNe(e,t){return function(n){return e(t(n))}}var pq=eNe,tNe=pq,nNe=tNe(Object.keys,Object),rNe=nNe,sNe=Zwe,iNe=rNe,aNe=Object.prototype,oNe=aNe.hasOwnProperty;function lNe(e){if(!sNe(e))return iNe(e);var t=[];for(var n in Object(e))oNe.call(e,n)&&n!="constructor"&&t.push(n);return t}var cNe=lNe,uNe=TE,dNe=QE;function hNe(e){return e!=null&&dNe(e.length)&&!uNe(e)}var _v=hNe,fNe=Qwe,mNe=cNe,pNe=_v;function gNe(e){return pNe(e)?fNe(e):mNe(e)}var uw=gNe,vNe=Obe,xNe=Vbe,yNe=uw;function jNe(e){return vNe(e,yNe,xNe)}var bNe=jNe,p4=bNe,wNe=1,NNe=Object.prototype,SNe=NNe.hasOwnProperty;function CNe(e,t,n,s,i,a){var o=n&wNe,l=p4(e),c=l.length,u=p4(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:SNe.call(t,m)))return!1}var g=a.get(e),x=a.get(t);if(g&&x)return g==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){m=l[f];var N=e[m],j=t[m];if(s)var b=o?s(j,N,m,t,e,a):s(N,j,m,e,t,a);if(!(b===void 0?N===j||i(N,j,n,s,a):b)){v=!1;break}y||(y=m=="constructor")}if(v&&!y){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return a.delete(e),a.delete(t),v}var _Ne=CNe,PNe=vd,ANe=No,ENe=PNe(ANe,"DataView"),kNe=ENe,TNe=vd,ONe=No,DNe=TNe(ONe,"Promise"),MNe=DNe,INe=vd,$Ne=No,RNe=INe($Ne,"Set"),gq=RNe,LNe=vd,FNe=No,BNe=LNe(FNe,"WeakMap"),zNe=BNe,l_=kNe,c_=DE,u_=MNe,d_=gq,h_=zNe,vq=xl,um=wU,g4="[object Map]",VNe="[object Object]",v4="[object Promise]",x4="[object Set]",y4="[object WeakMap]",j4="[object DataView]",UNe=um(l_),qNe=um(c_),WNe=um(u_),HNe=um(d_),GNe=um(h_),fu=vq;(l_&&fu(new l_(new ArrayBuffer(1)))!=j4||c_&&fu(new c_)!=g4||u_&&fu(u_.resolve())!=v4||d_&&fu(new d_)!=x4||h_&&fu(new h_)!=y4)&&(fu=function(e){var t=vq(e),n=t==VNe?e.constructor:void 0,s=n?um(n):"";if(s)switch(s){case UNe:return j4;case qNe:return g4;case WNe:return v4;case HNe:return x4;case GNe:return y4}return t});var KNe=fu,PS=iq,YNe=cq,QNe=Pbe,XNe=_Ne,b4=KNe,w4=ii,N4=hq,JNe=mq,ZNe=1,S4="[object Arguments]",C4="[object Array]",gy="[object Object]",e1e=Object.prototype,_4=e1e.hasOwnProperty;function t1e(e,t,n,s,i,a){var o=w4(e),l=w4(t),c=o?C4:b4(e),u=l?C4:b4(t);c=c==S4?gy:c,u=u==S4?gy:u;var d=c==gy,f=u==gy,m=c==u;if(m&&N4(e)){if(!N4(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new PS),o||JNe(e)?YNe(e,t,n,s,i,a):QNe(e,t,c,n,s,i,a);if(!(n&ZNe)){var g=d&&_4.call(e,"__wrapped__"),x=f&&_4.call(t,"__wrapped__");if(g||x){var v=g?e.value():e,y=x?t.value():t;return a||(a=new PS),i(v,y,n,s,a)}}return m?(a||(a=new PS),XNe(e,t,n,s,i,a)):!1}var n1e=t1e,r1e=n1e,P4=yl;function xq(e,t,n,s,i){return e===t?!0:e==null||t==null||!P4(e)&&!P4(t)?e!==e&&t!==t:r1e(e,t,n,s,xq,i)}var XE=xq,s1e=iq,i1e=XE,a1e=1,o1e=2;function l1e(e,t,n,s){var i=n.length,a=i,o=!s;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new s1e;if(s)var m=s(u,d,c,e,t,f);if(!(m===void 0?i1e(d,u,a1e|o1e,s,f):m))return!1}}return!0}var c1e=l1e,u1e=qc;function d1e(e){return e===e&&!u1e(e)}var yq=d1e,h1e=yq,f1e=uw;function m1e(e){for(var t=f1e(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,h1e(i)]}return t}var p1e=m1e;function g1e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var jq=g1e,v1e=c1e,x1e=p1e,y1e=jq;function j1e(e){var t=x1e(e);return t.length==1&&t[0][2]?y1e(t[0][0],t[0][1]):function(n){return n===e||v1e(n,e,t)}}var b1e=j1e;function w1e(e,t){return e!=null&&t in Object(e)}var N1e=w1e,S1e=PU,C1e=KE,_1e=ii,P1e=YE,A1e=QE,E1e=Yb;function k1e(e,t,n){t=S1e(t,e);for(var s=-1,i=t.length,a=!1;++s<i;){var o=E1e(t[s]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++s!=i?a:(i=e==null?0:e.length,!!i&&A1e(i)&&P1e(o,i)&&(_1e(e)||C1e(e)))}var T1e=k1e,O1e=N1e,D1e=T1e;function M1e(e,t){return e!=null&&D1e(e,t,O1e)}var I1e=M1e,$1e=XE,R1e=AU,L1e=I1e,F1e=kE,B1e=yq,z1e=jq,V1e=Yb,U1e=1,q1e=2;function W1e(e,t){return F1e(e)&&B1e(t)?z1e(V1e(e),t):function(n){var s=R1e(n,e);return s===void 0&&s===t?L1e(n,e):$1e(t,s,U1e|q1e)}}var H1e=W1e;function G1e(e){return e}var dm=G1e;function K1e(e){return function(t){return t==null?void 0:t[e]}}var Y1e=K1e,Q1e=RE;function X1e(e){return function(t){return Q1e(t,e)}}var J1e=X1e,Z1e=Y1e,eSe=J1e,tSe=kE,nSe=Yb;function rSe(e){return tSe(e)?Z1e(nSe(e)):eSe(e)}var sSe=rSe,iSe=b1e,aSe=H1e,oSe=dm,lSe=ii,cSe=sSe;function uSe(e){return typeof e=="function"?e:e==null?oSe:typeof e=="object"?lSe(e)?aSe(e[0],e[1]):iSe(e):cSe(e)}var So=uSe;function dSe(e,t,n,s){for(var i=e.length,a=n+(s?1:-1);s?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var bq=dSe;function hSe(e){return e!==e}var fSe=hSe;function mSe(e,t,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}var pSe=mSe,gSe=bq,vSe=fSe,xSe=pSe;function ySe(e,t,n){return t===t?xSe(e,t,n):gSe(e,vSe,n)}var jSe=ySe,bSe=jSe;function wSe(e,t){var n=e==null?0:e.length;return!!n&&bSe(e,t,0)>-1}var NSe=wSe;function SSe(e,t,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(t,e[s]))return!0;return!1}var CSe=SSe;function _Se(){}var PSe=_Se,AS=gq,ASe=PSe,ESe=GE,kSe=1/0,TSe=AS&&1/ESe(new AS([,-0]))[1]==kSe?function(e){return new AS(e)}:ASe,OSe=TSe,DSe=aq,MSe=NSe,ISe=CSe,$Se=lq,RSe=OSe,LSe=GE,FSe=200;function BSe(e,t,n){var s=-1,i=MSe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=ISe;else if(a>=FSe){var u=t?null:RSe(e);if(u)return LSe(u);o=!1,i=$Se,c=new DSe}else c=t?[]:l;e:for(;++s<a;){var d=e[s],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var zSe=BSe,VSe=So,USe=zSe;function qSe(e,t){return e&&e.length?USe(e,VSe(t)):[]}var WSe=qSe;const A4=vn(WSe);function wq(e,t,n){return t===!0?A4(e,n):bt(t)?A4(e,t):e}function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}var HSe=["ref"];function E4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(n),!0).forEach(function(s){dw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function GSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k4(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Sq(s.key),s)}}function KSe(e,t,n){return t&&k4(e.prototype,t),n&&k4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YSe(e,t,n){return t=J0(t),QSe(e,Nq()?Reflect.construct(t,n||[],J0(e).constructor):t.apply(e,n))}function QSe(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XSe(e)}function XSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(e)}function JSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},f_(e,t)}function dw(e,t,n){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=ZSe(e,"string");return pf(t)=="symbol"?t:t+""}function ZSe(e,t){if(pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eCe(e,t){if(e==null)return{};var n=tCe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function tCe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function nCe(e){return e.value}function rCe(e,t){if(W.isValidElement(e))return W.cloneElement(e,t);if(typeof e=="function")return W.createElement(e,t);t.ref;var n=eCe(t,HSe);return W.createElement(HE,n)}var T4=1,Ih=function(e){function t(){var n;GSe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=YSe(this,t,[].concat(i)),dw(n,"lastBoundingBox",{width:-1,height:-1}),n}return JSe(t,e),KSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>T4||Math.abs(i.height-this.lastBoundingBox.height)>T4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,s&&s(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$o({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return $o($o({},f),m)}},{key:"render",value:function(){var s=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=$o($o({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){s.wrapperNode=g}},rCe(a,$o($o({},this.props),{},{payload:wq(d,u,nCe)})))}}],[{key:"getWithHeight",value:function(s,i){var a=$o($o({},this.defaultProps),s.props),o=a.layout;return o==="vertical"&&Ve(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}])}(w.PureComponent);dw(Ih,"displayName","Legend");dw(Ih,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var O4=Cv,sCe=KE,iCe=ii,D4=O4?O4.isConcatSpreadable:void 0;function aCe(e){return iCe(e)||sCe(e)||!!(D4&&e&&e[D4])}var oCe=aCe,lCe=uq,cCe=oCe;function Cq(e,t,n,s,i){var a=-1,o=e.length;for(n||(n=cCe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?Cq(l,t-1,n,s,i):lCe(i,l):s||(i[i.length]=l)}return i}var _q=Cq;function uCe(e){return function(t,n,s){for(var i=-1,a=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var dCe=uCe,hCe=dCe,fCe=hCe(),mCe=fCe,pCe=mCe,gCe=uw;function vCe(e,t){return e&&pCe(e,t,gCe)}var Pq=vCe,xCe=_v;function yCe(e,t){return function(n,s){if(n==null)return n;if(!xCe(n))return e(n,s);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&s(o[a],a,o)!==!1;);return n}}var jCe=yCe,bCe=Pq,wCe=jCe,NCe=wCe(bCe),JE=NCe,SCe=JE,CCe=_v;function _Ce(e,t){var n=-1,s=CCe(e)?Array(e.length):[];return SCe(e,function(i,a,o){s[++n]=t(i,a,o)}),s}var Aq=_Ce;function PCe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var ACe=PCe,M4=rm;function ECe(e,t){if(e!==t){var n=e!==void 0,s=e===null,i=e===e,a=M4(e),o=t!==void 0,l=t===null,c=t===t,u=M4(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||s&&o&&c||!n&&c||!i)return 1;if(!s&&!a&&!u&&e<t||u&&n&&i&&!s&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var kCe=ECe,TCe=kCe;function OCe(e,t,n){for(var s=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++s<o;){var c=TCe(i[s],a[s]);if(c){if(s>=l)return c;var u=n[s];return c*(u=="desc"?-1:1)}}return e.index-t.index}var DCe=OCe,ES=$E,MCe=RE,ICe=So,$Ce=Aq,RCe=ACe,LCe=fq,FCe=DCe,BCe=dm,zCe=ii;function VCe(e,t,n){t.length?t=ES(t,function(a){return zCe(a)?function(o){return MCe(o,a.length===1?a[0]:a)}:a}):t=[BCe];var s=-1;t=ES(t,LCe(ICe));var i=$Ce(e,function(a,o,l){var c=ES(t,function(u){return u(a)});return{criteria:c,index:++s,value:a}});return RCe(i,function(a,o){return FCe(a,o,n)})}var UCe=VCe;function qCe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var WCe=qCe,HCe=WCe,I4=Math.max;function GCe(e,t,n){return t=I4(t===void 0?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=I4(s.length-t,0),o=Array(a);++i<a;)o[i]=s[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=s[i];return l[t]=n(o),HCe(e,this,l)}}var KCe=GCe;function YCe(e){return function(){return e}}var QCe=YCe,XCe=vd,JCe=function(){try{var e=XCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Eq=JCe,ZCe=QCe,$4=Eq,e2e=dm,t2e=$4?function(e,t){return $4(e,"toString",{configurable:!0,enumerable:!1,value:ZCe(t),writable:!0})}:e2e,n2e=t2e,r2e=800,s2e=16,i2e=Date.now;function a2e(e){var t=0,n=0;return function(){var s=i2e(),i=s2e-(s-n);if(n=s,i>0){if(++t>=r2e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var o2e=a2e,l2e=n2e,c2e=o2e,u2e=c2e(l2e),d2e=u2e,h2e=dm,f2e=KCe,m2e=d2e;function p2e(e,t){return m2e(f2e(e,t,h2e),e+"")}var g2e=p2e,v2e=OE,x2e=_v,y2e=YE,j2e=qc;function b2e(e,t,n){if(!j2e(n))return!1;var s=typeof t;return(s=="number"?x2e(n)&&y2e(t,n.length):s=="string"&&t in n)?v2e(n[t],e):!1}var hw=b2e,w2e=_q,N2e=UCe,S2e=g2e,R4=hw,C2e=S2e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&R4(e,t[0],t[1])?t=[]:n>2&&R4(t[0],t[1],t[2])&&(t=[t[0]]),N2e(e,w2e(t,1),[])}),_2e=C2e;const ZE=vn(_2e);function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m_.apply(this,arguments)}function P2e(e,t){return T2e(e)||k2e(e,t)||E2e(e,t)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2e(e,t){if(e){if(typeof e=="string")return L4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L4(e,t)}}function L4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function k2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function T2e(e){if(Array.isArray(e))return e}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function kS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(s){O2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function O2e(e,t,n){return t=D2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D2e(e){var t=M2e(e,"string");return yg(t)=="symbol"?t:t+""}function M2e(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I2e(e){return Array.isArray(e)&&$r(e[0])&&$r(e[1])?e.join(" ~ "):e}var $2e=function(t){var n=t.separator,s=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,g=t.wrapperClassName,x=t.labelClassName,v=t.label,y=t.labelFormatter,N=t.accessibilityLayer,j=N===void 0?!1:N,b=function(){if(d&&d.length){var O={padding:0,margin:0},U=(m?ZE(d,m):d).map(function(B,ne){if(B.type==="none")return null;var Y=kS({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),J=B.formatter||f||I2e,q=B.value,$=B.name,le=q,se=$;if(J&&le!=null&&se!=null){var re=J(q,$,B,ne,d);if(Array.isArray(re)){var K=P2e(re,2);le=K[0],se=K[1]}else le=re}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:Y},$r(se)?W.createElement("span",{className:"recharts-tooltip-item-name"},se):null,$r(se)?W.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,W.createElement("span",{className:"recharts-tooltip-item-value"},le),W.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:O},U)}return null},C=kS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=kS({margin:0},u),A=!Et(v),P=A?v:"",E=Ot("recharts-default-tooltip",g),D=Ot("recharts-tooltip-label",x);A&&y&&d!==void 0&&d!==null&&(P=y(v,d));var I=j?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",m_({className:E,style:C},I),W.createElement("p",{className:D,style:_},W.isValidElement(P)?P:"".concat(P)),b())};function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function vy(e,t,n){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R2e(e){var t=L2e(e,"string");return jg(t)=="symbol"?t:t+""}function L2e(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp="recharts-tooltip-wrapper",F2e={visibility:"hidden"};function B2e(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return Ot(tp,vy(vy(vy(vy({},"".concat(tp,"-right"),Ve(n)&&t&&Ve(t.x)&&n>=t.x),"".concat(tp,"-left"),Ve(n)&&t&&Ve(t.x)&&n<t.x),"".concat(tp,"-bottom"),Ve(s)&&t&&Ve(t.y)&&s>=t.y),"".concat(tp,"-top"),Ve(s)&&t&&Ve(t.y)&&s<t.y))}function B4(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ve(a[s]))return a[s];var d=n[s]-l-i,f=n[s]+i;if(t[s])return o[s]?d:f;if(o[s]){var m=d,g=c[s];return m<g?Math.max(f,c[s]):Math.max(d,c[s])}var x=f+l,v=c[s]+u;return x>v?Math.max(d,c[s]):Math.max(f,c[s])}function z2e(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function V2e(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=B4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=B4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=z2e({translateX:d,translateY:f,useTranslate3d:l})):u=F2e,{cssProperties:u,cssClasses:B2e({translateX:d,translateY:f,coordinate:n})}}function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function V4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(s){g_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function U2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Tq(s.key),s)}}function W2e(e,t,n){return t&&q2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H2e(e,t,n){return t=Z0(t),G2e(e,kq()?Reflect.construct(t,n||[],Z0(e).constructor):t.apply(e,n))}function G2e(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K2e(e)}function K2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!e})()}function Z0(e){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(e)}function Y2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},p_(e,t)}function g_(e,t,n){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tq(e){var t=Q2e(e,"string");return gf(t)=="symbol"?t:t+""}function Q2e(e,t){if(gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U4=1,X2e=function(e){function t(){var n;U2e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=H2e(this,t,[].concat(i)),g_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),g_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Y2e(t,e),W2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>U4||Math.abs(s.height-this.state.lastBoundingBox.height)>U4)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,N=i.viewBox,j=i.wrapperStyle,b=V2e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),C=b.cssClasses,_=b.cssProperties,A=V4(V4({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return W.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(E){s.wrapperNode=E}},u)}}])}(w.PureComponent),J2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Oa={isSsr:J2e(),get:function(t){return Oa[t]},set:function(t,n){if(typeof t=="string")Oa[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(i){Oa[i]=t[i]})}}};function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function W4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(n),!0).forEach(function(s){ek(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Z2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Dq(s.key),s)}}function t_e(e,t,n){return t&&e_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n_e(e,t,n){return t=ej(t),r_e(e,Oq()?Reflect.construct(t,n||[],ej(e).constructor):t.apply(e,n))}function r_e(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_e(e)}function s_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!e})()}function ej(e){return ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ej(e)}function i_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},v_(e,t)}function ek(e,t,n){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dq(e){var t=a_e(e,"string");return vf(t)=="symbol"?t:t+""}function a_e(e,t){if(vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o_e(e){return e.dataKey}function l_e(e,t){return W.isValidElement(e)?W.cloneElement(e,t):typeof e=="function"?W.createElement(e,t):W.createElement($2e,t)}var qr=function(e){function t(){return Z2e(this,t),n_e(this,t,arguments)}return i_e(t,e),t_e(t,[{key:"render",value:function(){var s=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,N=i.reverseDirection,j=i.useTranslate3d,b=i.viewBox,C=i.wrapperStyle,_=x??[];f&&_.length&&(_=wq(x.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),v,o_e));var A=_.length>0;return W.createElement(X2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:A,offset:g,position:y,reverseDirection:N,useTranslate3d:j,viewBox:b,wrapperStyle:C},l_e(u,W4(W4({},this.props),{},{payload:_})))}}])}(w.PureComponent);ek(qr,"displayName","Tooltip");ek(qr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Oa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var c_e=No,u_e=function(){return c_e.Date.now()},d_e=u_e,h_e=/\s/;function f_e(e){for(var t=e.length;t--&&h_e.test(e.charAt(t)););return t}var m_e=f_e,p_e=m_e,g_e=/^\s+/;function v_e(e){return e&&e.slice(0,p_e(e)+1).replace(g_e,"")}var x_e=v_e,y_e=x_e,H4=qc,j_e=rm,G4=NaN,b_e=/^[-+]0x[0-9a-f]+$/i,w_e=/^0b[01]+$/i,N_e=/^0o[0-7]+$/i,S_e=parseInt;function C_e(e){if(typeof e=="number")return e;if(j_e(e))return G4;if(H4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=H4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=y_e(e);var n=w_e.test(e);return n||N_e.test(e)?S_e(e.slice(2),n?2:8):b_e.test(e)?G4:+e}var Mq=C_e,__e=qc,TS=d_e,K4=Mq,P_e="Expected a function",A_e=Math.max,E_e=Math.min;function k_e(e,t,n){var s,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(P_e);t=K4(t)||0,__e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?A_e(K4(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(A){var P=s,E=i;return s=i=void 0,u=A,o=e.apply(E,P),o}function x(A){return u=A,l=setTimeout(N,t),d?g(A):o}function v(A){var P=A-c,E=A-u,D=t-P;return f?E_e(D,a-E):D}function y(A){var P=A-c,E=A-u;return c===void 0||P>=t||P<0||f&&E>=a}function N(){var A=TS();if(y(A))return j(A);l=setTimeout(N,v(A))}function j(A){return l=void 0,m&&s?g(A):(s=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,s=c=i=l=void 0}function C(){return l===void 0?o:j(TS())}function _(){var A=TS(),P=y(A);if(s=arguments,i=this,c=A,P){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(N,t),g(c)}return l===void 0&&(l=setTimeout(N,t)),o}return _.cancel=b,_.flush=C,_}var T_e=k_e,O_e=T_e,D_e=qc,M_e="Expected a function";function I_e(e,t,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(M_e);return D_e(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),O_e(e,t,{leading:s,maxWait:t,trailing:i})}var $_e=I_e;const Iq=vn($_e);function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(s){R_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function R_e(e,t,n){return t=L_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L_e(e){var t=F_e(e,"string");return bg(t)=="symbol"?t:t+""}function F_e(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B_e(e,t){return q_e(e)||U_e(e,t)||V_e(e,t)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(e,t){if(e){if(typeof e=="string")return Q4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q4(e,t)}}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function U_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function q_e(e){if(Array.isArray(e))return e}var hl=w.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,i=s===void 0?{width:-1,height:-1}:s,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,g=e.children,x=e.debounce,v=x===void 0?0:x,y=e.id,N=e.className,j=e.onResize,b=e.style,C=b===void 0?{}:b,_=w.useRef(null),A=w.useRef();A.current=j,w.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var P=w.useState({containerWidth:i.width,containerHeight:i.height}),E=B_e(P,2),D=E[0],I=E[1],k=w.useCallback(function(U,B){I(function(ne){var Y=Math.round(U),J=Math.round(B);return ne.containerWidth===Y&&ne.containerHeight===J?ne:{containerWidth:Y,containerHeight:J}})},[]);w.useEffect(function(){var U=function($){var le,se=$[0].contentRect,re=se.width,K=se.height;k(re,K),(le=A.current)===null||le===void 0||le.call(A,re,K)};v>0&&(U=Iq(U,v,{trailing:!0,leading:!1}));var B=new ResizeObserver(U),ne=_.current.getBoundingClientRect(),Y=ne.width,J=ne.height;return k(Y,J),B.observe(_.current),function(){B.disconnect()}},[k,v]);var O=w.useMemo(function(){var U=D.containerWidth,B=D.containerHeight;if(U<0||B<0)return null;Ta(wu(o)||wu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ta(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ne=wu(o)?U:o,Y=wu(c)?B:c;n&&n>0&&(ne?Y=ne/n:Y&&(ne=Y*n),m&&Y>m&&(Y=m)),Ta(ne>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,Y,o,c,d,f,n);var J=!Array.isArray(g)&&Zo(g.type).endsWith("Chart");return W.Children.map(g,function(q){return W.isValidElement(q)?w.cloneElement(q,xy({width:ne,height:Y},J?{style:xy({height:"100%",width:"100%",maxHeight:Y,maxWidth:ne},q.props.style)}:{})):q})},[n,g,c,m,f,d,D,o]);return W.createElement("div",{id:y?"".concat(y):void 0,className:Ot("recharts-responsive-container",N),style:xy(xy({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:_},O)}),hm=function(t){return null};hm.displayName="Cell";function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function X4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(n),!0).forEach(function(s){W_e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function W_e(e,t,n){return t=H_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_e(e){var t=G_e(e,"string");return wg(t)=="symbol"?t:t+""}function G_e(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jd={widthCache:{},cacheCount:0},K_e=2e3,Y_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},J4="recharts_measurement_span";function Q_e(e){var t=x_({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Ip=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oa.isSsr)return{width:0,height:0};var s=Q_e(n),i=JSON.stringify({text:t,copyStyle:s});if(Jd.widthCache[i])return Jd.widthCache[i];try{var a=document.getElementById(J4);a||(a=document.createElement("span"),a.setAttribute("id",J4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=x_(x_({},Y_e),s);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Jd.widthCache[i]=c,++Jd.cacheCount>K_e&&(Jd.cacheCount=0,Jd.widthCache={}),c}catch{return{width:0,height:0}}},X_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function tj(e,t){return tPe(e)||ePe(e,t)||Z_e(e,t)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(e,t){if(e){if(typeof e=="string")return Z4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z4(e,t)}}function Z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ePe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tPe(e){if(Array.isArray(e))return e}function nPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,sPe(s.key),s)}}function rPe(e,t,n){return t&&e$(e.prototype,t),n&&e$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sPe(e){var t=iPe(e,"string");return Ng(t)=="symbol"?t:t+""}function iPe(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ng(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$q={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lPe=Object.keys($q),xh="NaN";function cPe(e,t){return e*$q[t]}var yy=function(){function e(t,n){nPe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!aPe.test(n)&&(this.num=NaN,this.unit=""),lPe.includes(n)&&(this.num=cPe(t,n),this.unit="px")}return rPe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,i=(s=oPe.exec(n))!==null&&s!==void 0?s:[],a=tj(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function Rq(e){if(e.includes(xh))return xh;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=t$.exec(t))!==null&&n!==void 0?n:[],i=tj(s,4),a=i[1],o=i[2],l=i[3],c=yy.parse(a??""),u=yy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return xh;t=t.replace(t$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=n$.exec(t))!==null&&f!==void 0?f:[],g=tj(m,4),x=g[1],v=g[2],y=g[3],N=yy.parse(x??""),j=yy.parse(y??""),b=v==="+"?N.add(j):N.subtract(j);if(b.isNaN())return xh;t=t.replace(n$,b.toString())}return t}var r$=/\(([^()]*)\)/;function uPe(e){for(var t=e;t.includes("(");){var n=r$.exec(t),s=tj(n,2),i=s[1];t=t.replace(r$,Rq(i))}return t}function dPe(e){var t=e.replace(/\s+/g,"");return t=uPe(t),t=Rq(t),t}function hPe(e){try{return dPe(e)}catch{return xh}}function OS(e){var t=hPe(e.slice(5,-1));return t===xh?"":t}var fPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mPe=["dx","dy","angle","className","breakAll"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y_.apply(this,arguments)}function s$(e,t){if(e==null)return{};var n=pPe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function pPe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function i$(e,t){return yPe(e)||xPe(e,t)||vPe(e,t)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vPe(e,t){if(e){if(typeof e=="string")return a$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a$(e,t)}}function a$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function xPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yPe(e){if(Array.isArray(e))return e}var Lq=/[ \f\n\r\t\v\u2028\u2029]+/,Fq=function(t){var n=t.children,s=t.breakAll,i=t.style;try{var a=[];Et(n)||(s?a=n.toString().split(""):a=n.toString().split(Lq));var o=a.map(function(c){return{word:c,width:Ip(c,i).width}}),l=s?0:Ip("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},jPe=function(t,n,s,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ve(o),f=l,m=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce(function(Y,J){var q=J.word,$=J.width,le=Y[Y.length-1];if(le&&(i==null||a||le.width+$+s<Number(i)))le.words.push(q),le.width+=$+s;else{var se={words:[q],width:$};Y.push(se)}return Y},[])},g=m(n),x=function(ne){return ne.reduce(function(Y,J){return Y.width>J.width?Y:J})};if(!d)return g;for(var v="",y=function(ne){var Y=f.slice(0,ne),J=Fq({breakAll:u,style:c,children:Y+v}).wordsWithComputedWidth,q=m(J),$=q.length>o||x(q).width>Number(i);return[$,q]},N=0,j=f.length-1,b=0,C;N<=j&&b<=f.length-1;){var _=Math.floor((N+j)/2),A=_-1,P=y(A),E=i$(P,2),D=E[0],I=E[1],k=y(_),O=i$(k,1),U=O[0];if(!D&&!U&&(N=_+1),D&&U&&(j=_-1),!D&&U){C=I;break}b++}return C||g},o$=function(t){var n=Et(t)?[]:t.toString().split(Lq);return[{words:n}]},bPe=function(t){var n=t.width,s=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!Oa.isSsr){var c,u,d=Fq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return o$(i);return jPe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,s)}return o$(i)},l$="#808080",nd=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,g=m===void 0?"start":m,x=t.verticalAnchor,v=x===void 0?"end":x,y=t.fill,N=y===void 0?l$:y,j=s$(t,fPe),b=w.useMemo(function(){return bPe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),C=j.dx,_=j.dy,A=j.angle,P=j.className,E=j.breakAll,D=s$(j,mPe);if(!$r(s)||!$r(a))return null;var I=s+(Ve(C)?C:0),k=a+(Ve(_)?_:0),O;switch(v){case"start":O=OS("calc(".concat(u,")"));break;case"middle":O=OS("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=OS("calc(".concat(b.length-1," * -").concat(l,")"));break}var U=[];if(f){var B=b[0].width,ne=j.width;U.push("scale(".concat((Ve(ne)?ne/B:1)/B,")"))}return A&&U.push("rotate(".concat(A,", ").concat(I,", ").concat(k,")")),U.length&&(D.transform=U.join(" ")),W.createElement("text",y_({},ct(D,!0),{x:I,y:k,className:Ot("recharts-text",P),textAnchor:g,fill:N.includes("url")?l$:N}),b.map(function(Y,J){var q=Y.words.join(E?"":" ");return W.createElement("tspan",{x:I,dy:J===0?O:l,key:"".concat(q,"-").concat(J)},q)}))};function bc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tk(e){let t,n,s;e.length!==2?(t=bc,n=(l,c)=>bc(e(l),c),s=(l,c)=>e(l)-c):(t=e===bc||e===wPe?e:NPe,n=e,s=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function NPe(){return 0}function Bq(e){return e===null?NaN:+e}function*SPe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const CPe=tk(bc),Pv=CPe.right;tk(Bq).center;class c$ extends Map{constructor(t,n=APe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,i]of t)this.set(s,i)}get(t){return super.get(u$(this,t))}has(t){return super.has(u$(this,t))}set(t,n){return super.set(_Pe(this,t),n)}delete(t){return super.delete(PPe(this,t))}}function u$({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function _Pe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function PPe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function APe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function EPe(e=bc){if(e===bc)return zq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function zq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kPe=Math.sqrt(50),TPe=Math.sqrt(10),OPe=Math.sqrt(2);function nj(e,t,n){const s=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(s)),a=s/Math.pow(10,i),o=a>=kPe?10:a>=TPe?5:a>=OPe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?nj(e,t,n*2):[l,c,u]}function j_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[i,a,o]=s?nj(t,e,n):nj(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function b_(e,t,n){return t=+t,e=+e,n=+n,nj(e,t,n)[2]}function w_(e,t,n){t=+t,e=+e,n=+n;const s=t<e,i=s?b_(t,e,n):b_(e,t,n);return(s?-1:1)*(i<0?1/-i:i)}function d$(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function h$(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function Vq(e,t,n=0,s=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(i=i===void 0?zq:EPe(i);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/c+m)),x=Math.min(s,Math.floor(t+(c-u)*f/c+m));Vq(e,t,g,x,i)}const a=e[t];let o=n,l=s;for(np(e,n,t),i(e[s],a)>0&&np(e,n,s);o<l;){for(np(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?np(e,n,l):(++l,np(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function np(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function DPe(e,t,n){if(e=Float64Array.from(SPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return h$(e);if(t>=1)return d$(e);var s,i=(s-1)*t,a=Math.floor(i),o=d$(Vq(e,a).subarray(0,a+1)),l=h$(e.subarray(a+1));return o+(l-o)*(i-a)}}function MPe(e,t,n=Bq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,i=(s-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function IPe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var s=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++s<i;)a[s]=e+s*n;return a}function sa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const N_=Symbol("implicit");function nk(){var e=new c$,t=[],n=[],s=N_;function i(a){let o=e.get(a);if(o===void 0){if(s!==N_)return s;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new c$;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return nk(t,n).unknown(s)},sa.apply(i,arguments),i}function Sg(){var e=nk().unknown(void 0),t=e.domain,n=e.range,s=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,g=i<s,x=g?i:s,v=g?s:i;a=(v-x)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),x+=(v-x-a*(m-c))*d,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=IPe(m).map(function(N){return x+a*N});return n(g?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,i]=m,s=+s,i=+i,f()):[s,i]},e.rangeRound=function(m){return[s,i]=m,s=+s,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Sg(t(),[s,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},sa.apply(f(),arguments)}function Uq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Uq(t())},e}function $p(){return Uq(Sg.apply(null,arguments).paddingInner(1))}function rk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qq(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Av(){}var Cg=.7,rj=1/Cg,$h="\\s*([+-]?\\d+)\\s*",_g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Pe=/^#([0-9a-f]{3,8})$/,RPe=new RegExp(`^rgb\\(${$h},${$h},${$h}\\)$`),LPe=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),FPe=new RegExp(`^rgba\\(${$h},${$h},${$h},${_g}\\)$`),BPe=new RegExp(`^rgba\\(${mo},${mo},${mo},${_g}\\)$`),zPe=new RegExp(`^hsl\\(${_g},${mo},${mo}\\)$`),VPe=new RegExp(`^hsla\\(${_g},${mo},${mo},${_g}\\)$`),f$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rk(Av,Pg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:m$,formatHex:m$,formatHex8:UPe,formatHsl:qPe,formatRgb:p$,toString:p$});function m$(){return this.rgb().formatHex()}function UPe(){return this.rgb().formatHex8()}function qPe(){return Wq(this).formatHsl()}function p$(){return this.rgb().formatRgb()}function Pg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$Pe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?g$(t):n===3?new Js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RPe.exec(e))?new Js(t[1],t[2],t[3],1):(t=LPe.exec(e))?new Js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FPe.exec(e))?jy(t[1],t[2],t[3],t[4]):(t=BPe.exec(e))?jy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zPe.exec(e))?y$(t[1],t[2]/100,t[3]/100,1):(t=VPe.exec(e))?y$(t[1],t[2]/100,t[3]/100,t[4]):f$.hasOwnProperty(e)?g$(f$[e]):e==="transparent"?new Js(NaN,NaN,NaN,0):null}function g$(e){return new Js(e>>16&255,e>>8&255,e&255,1)}function jy(e,t,n,s){return s<=0&&(e=t=n=NaN),new Js(e,t,n,s)}function WPe(e){return e instanceof Av||(e=Pg(e)),e?(e=e.rgb(),new Js(e.r,e.g,e.b,e.opacity)):new Js}function S_(e,t,n,s){return arguments.length===1?WPe(e):new Js(e,t,n,s??1)}function Js(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}rk(Js,S_,qq(Av,{brighter(e){return e=e==null?rj:Math.pow(rj,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cg:Math.pow(Cg,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Js(Lu(this.r),Lu(this.g),Lu(this.b),sj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v$,formatHex:v$,formatHex8:HPe,formatRgb:x$,toString:x$}));function v$(){return`#${Nu(this.r)}${Nu(this.g)}${Nu(this.b)}`}function HPe(){return`#${Nu(this.r)}${Nu(this.g)}${Nu(this.b)}${Nu((isNaN(this.opacity)?1:this.opacity)*255)}`}function x$(){const e=sj(this.opacity);return`${e===1?"rgb(":"rgba("}${Lu(this.r)}, ${Lu(this.g)}, ${Lu(this.b)}${e===1?")":`, ${e})`}`}function sj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nu(e){return e=Lu(e),(e<16?"0":"")+e.toString(16)}function y$(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _a(e,t,n,s)}function Wq(e){if(e instanceof _a)return new _a(e.h,e.s,e.l,e.opacity);if(e instanceof Av||(e=Pg(e)),!e)return new _a;if(e instanceof _a)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,i=Math.min(t,n,s),a=Math.max(t,n,s),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-s)/l+(n<s)*6:n===a?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new _a(o,l,c,e.opacity)}function GPe(e,t,n,s){return arguments.length===1?Wq(e):new _a(e,t,n,s??1)}function _a(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}rk(_a,GPe,qq(Av,{brighter(e){return e=e==null?rj:Math.pow(rj,e),new _a(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cg:Math.pow(Cg,e),new _a(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,i=2*n-s;return new Js(DS(e>=240?e-240:e+120,i,s),DS(e,i,s),DS(e<120?e+240:e-120,i,s),this.opacity)},clamp(){return new _a(j$(this.h),by(this.s),by(this.l),sj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sj(this.opacity);return`${e===1?"hsl(":"hsla("}${j$(this.h)}, ${by(this.s)*100}%, ${by(this.l)*100}%${e===1?")":`, ${e})`}`}}));function j$(e){return e=(e||0)%360,e<0?e+360:e}function by(e){return Math.max(0,Math.min(1,e||0))}function DS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sk=e=>()=>e;function KPe(e,t){return function(n){return e+n*t}}function YPe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function QPe(e){return(e=+e)==1?Hq:function(t,n){return n-t?YPe(t,n,e):sk(isNaN(t)?n:t)}}function Hq(e,t){var n=t-e;return n?KPe(e,n):sk(isNaN(e)?t:e)}const b$=function e(t){var n=QPe(t);function s(i,a){var o=n((i=S_(i)).r,(a=S_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Hq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return s.gamma=e,s}(1);function XPe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),i;return function(a){for(i=0;i<n;++i)s[i]=e[i]*(1-a)+t[i]*a;return s}}function JPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZPe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,i=new Array(s),a=new Array(n),o;for(o=0;o<s;++o)i[o]=fm(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<s;++o)a[o]=i[o](l);return a}}function eAe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function ij(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tAe(e,t){var n={},s={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=fm(e[i],t[i]):s[i]=t[i];return function(a){for(i in n)s[i]=n[i](a);return s}}var C_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MS=new RegExp(C_.source,"g");function nAe(e){return function(){return e}}function rAe(e){return function(t){return e(t)+""}}function sAe(e,t){var n=C_.lastIndex=MS.lastIndex=0,s,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=C_.exec(e))&&(i=MS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(s=s[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:ij(s,i)})),n=MS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?rAe(c[0].x):nAe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function fm(e,t){var n=typeof t,s;return t==null||n==="boolean"?sk(t):(n==="number"?ij:n==="string"?(s=Pg(t))?(t=s,b$):sAe:t instanceof Pg?b$:t instanceof Date?eAe:JPe(t)?XPe:Array.isArray(t)?ZPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tAe:ij)(e,t)}function ik(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function iAe(e,t){t===void 0&&(t=e,e=fm);for(var n=0,s=t.length-1,i=t[0],a=new Array(s<0?0:s);n<s;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return a[l](o-l)}}function aAe(e){return function(){return e}}function aj(e){return+e}var w$=[0,1];function Ms(e){return e}function __(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:aAe(isNaN(t)?NaN:.5)}function oAe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function lAe(e,t,n){var s=e[0],i=e[1],a=t[0],o=t[1];return i<s?(s=__(i,s),a=n(o,a)):(s=__(s,i),a=n(a,o)),function(l){return a(s(l))}}function cAe(e,t,n){var s=Math.min(e.length,t.length)-1,i=new Array(s),a=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)i[o]=__(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Pv(e,l,1,s)-1;return a[c](i[c](l))}}function Ev(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fw(){var e=w$,t=w$,n=fm,s,i,a,o=Ms,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ms&&(o=oAe(e[0],e[m-1])),l=m>2?cAe:lAe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(s),t,n)))(s(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(s),ij)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,aj),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=ik,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ms,d()):o!==Ms},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,g){return s=m,i=g,d()}}function ak(){return fw()(Ms,Ms)}function uAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function oj(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function xf(e){return e=oj(Math.abs(e)),e?e[1]:NaN}function dAe(e,t){return function(n,s){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function hAe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ag(e){if(!(t=fAe.exec(e)))throw new Error("invalid format: "+e);var t;return new ok({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ag.prototype=ok.prototype;function ok(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ok.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mAe(e){e:for(var t=e.length,n=1,s=-1,i;n<t;++n)switch(e[n]){case".":s=i=n;break;case"0":s===0&&(s=n),i=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(i+1):e}var Gq;function pAe(e,t){var n=oj(e,t);if(!n)return e+"";var s=n[0],i=n[1],a=i-(Gq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=s.length;return a===o?s:a>o?s+new Array(a-o+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+oj(e,Math.max(0,t+a-1))[0]}function N$(e,t){var n=oj(e,t);if(!n)return e+"";var s=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const S$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>N$(e*100,t),r:N$,s:pAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function C$(e){return e}var _$=Array.prototype.map,P$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gAe(e){var t=e.grouping===void 0||e.thousands===void 0?C$:dAe(_$.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?C$:hAe(_$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ag(f);var m=f.fill,g=f.align,x=f.sign,v=f.symbol,y=f.zero,N=f.width,j=f.comma,b=f.precision,C=f.trim,_=f.type;_==="n"?(j=!0,_="g"):S$[_]||(b===void 0&&(b=12),C=!0,_="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",P=v==="$"?s:/[%p]/.test(_)?o:"",E=S$[_],D=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(k){var O=A,U=P,B,ne,Y;if(_==="c")U=E(k)+U,k="";else{k=+k;var J=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),b),C&&(k=mAe(k)),J&&+k==0&&x!=="+"&&(J=!1),O=(J?x==="("?x:l:x==="-"||x==="("?"":x)+O,U=(_==="s"?P$[8+Gq/3]:"")+U+(J&&x==="("?")":""),D){for(B=-1,ne=k.length;++B<ne;)if(Y=k.charCodeAt(B),48>Y||Y>57){U=(Y===46?i+k.slice(B+1):k.slice(B))+U,k=k.slice(0,B);break}}}j&&!y&&(k=t(k,1/0));var q=O.length+k.length+U.length,$=q<N?new Array(N-q+1).join(m):"";switch(j&&y&&(k=t($+k,$.length?N-U.length:1/0),$=""),g){case"<":k=O+k+U+$;break;case"=":k=O+$+k+U;break;case"^":k=$.slice(0,q=$.length>>1)+O+k+U+$.slice(q);break;default:k=$+O+k+U;break}return a(k)}return I.toString=function(){return f+""},I}function d(f,m){var g=u((f=Ag(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(xf(m)/3)))*3,v=Math.pow(10,-x),y=P$[8+x/3];return function(N){return g(v*N)+y}}return{format:u,formatPrefix:d}}var wy,lk,Kq;vAe({thousands:",",grouping:[3],currency:["$",""]});function vAe(e){return wy=gAe(e),lk=wy.format,Kq=wy.formatPrefix,wy}function xAe(e){return Math.max(0,-xf(Math.abs(e)))}function yAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xf(t)/3)))*3-xf(Math.abs(e)))}function jAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xf(t)-xf(e))+1}function Yq(e,t,n,s){var i=w_(e,t,n),a;switch(s=Ag(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(a=yAe(i,o))&&(s.precision=a),Kq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=jAe(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=xAe(i))&&(s.precision=a-(s.type==="%")*2);break}}return lk(s)}function Wc(e){var t=e.domain;return e.ticks=function(n){var s=t();return j_(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var i=t();return Yq(i[0],i[i.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),i=0,a=s.length-1,o=s[i],l=s[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=b_(o,l,n),u===c)return s[i]=o,s[a]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function lj(){var e=ak();return e.copy=function(){return Ev(e,lj())},sa.apply(e,arguments),Wc(e)}function Qq(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,aj),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return Qq(e).unknown(t)},e=arguments.length?Array.from(e,aj):[0,1],Wc(n)}function Xq(e,t){e=e.slice();var n=0,s=e.length-1,i=e[n],a=e[s],o;return a<i&&(o=n,n=s,s=o,o=i,i=a,a=o),e[n]=t.floor(i),e[s]=t.ceil(a),e}function A$(e){return Math.log(e)}function E$(e){return Math.exp(e)}function bAe(e){return-Math.log(-e)}function wAe(e){return-Math.exp(-e)}function NAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function SAe(e){return e===10?NAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function k$(e){return(t,n)=>-e(-t,n)}function ck(e){const t=e(A$,E$),n=t.domain;let s=10,i,a;function o(){return i=CAe(s),a=SAe(s),n()[0]<0?(i=k$(i),a=k$(a),e(bAe,wAe)):e(A$,E$),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),g=i(d),x,v;const y=l==null?10:+l;let N=[];if(!(s%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<s;++x)if(v=m<0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}}else for(;m<=g;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;N.push(v)}N.length*2<y&&(N=j_(u,d,y))}else N=j_(m,g,Math.min(g-m,y)).map(a);return f?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Ag(c)).precision==null&&(c.trim=!0),c=lk(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*s<s-.5&&(f*=s),f<=u?c(d):""}},t.nice=()=>n(Xq(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Jq(){const e=ck(fw()).domain([1,10]);return e.copy=()=>Ev(e,Jq()).base(e.base()),sa.apply(e,arguments),e}function T$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function O$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uk(e){var t=1,n=e(T$(t),O$(t));return n.constant=function(s){return arguments.length?e(T$(t=+s),O$(t)):t},Wc(n)}function Zq(){var e=uk(fw());return e.copy=function(){return Ev(e,Zq()).constant(e.constant())},sa.apply(e,arguments)}function D$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _Ae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PAe(e){return e<0?-e*e:e*e}function dk(e){var t=e(Ms,Ms),n=1;function s(){return n===1?e(Ms,Ms):n===.5?e(_Ae,PAe):e(D$(n),D$(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,s()):n},Wc(t)}function hk(){var e=dk(fw());return e.copy=function(){return Ev(e,hk()).exponent(e.exponent())},sa.apply(e,arguments),e}function AAe(){return hk.apply(null,arguments).exponent(.5)}function M$(e){return Math.sign(e)*e*e}function EAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function e7(){var e=ak(),t=[0,1],n=!1,s;function i(a){var o=EAe(e(a));return isNaN(o)?s:n?Math.round(o):o}return i.invert=function(a){return e.invert(M$(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,aj)).map(M$)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(s=a,i):s},i.copy=function(){return e7(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},sa.apply(i,arguments),Wc(i)}function t7(){var e=[],t=[],n=[],s;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=MPe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?s:t[Pv(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(s=o,a):s},a.quantiles=function(){return n.slice()},a.copy=function(){return t7().domain(e).range(t).unknown(s)},sa.apply(a,arguments)}function n7(){var e=0,t=1,n=1,s=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Pv(s,c,0,n)]:a}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return n7().domain([e,t]).range(i).unknown(a)},sa.apply(Wc(o),arguments)}function r7(){var e=[.5],t=[0,1],n,s=1;function i(a){return a!=null&&a<=a?t[Pv(e,a,0,s)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),s=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),s=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return r7().domain(e).range(t).unknown(n)},sa.apply(i,arguments)}const IS=new Date,$S=new Date;function Lr(e,t,n,s){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Lr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(IS.setTime(+a),$S.setTime(+o),e(IS),e($S),Math.floor(n(IS,$S))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(s?o=>s(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const cj=Lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):cj);cj.range;const Yo=1e3,Gi=Yo*60,Qo=Gi*60,fl=Qo*24,fk=fl*7,I$=fl*30,RS=fl*365,Su=Lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getUTCSeconds());Su.range;const mk=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yo)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getMinutes());mk.range;const pk=Lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCMinutes());pk.range;const gk=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yo-e.getMinutes()*Gi)},(e,t)=>{e.setTime(+e+t*Qo)},(e,t)=>(t-e)/Qo,e=>e.getHours());gk.range;const vk=Lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qo)},(e,t)=>(t-e)/Qo,e=>e.getUTCHours());vk.range;const kv=Lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gi)/fl,e=>e.getDate()-1);kv.range;const mw=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fl,e=>e.getUTCDate()-1);mw.range;const s7=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fl,e=>Math.floor(e/fl));s7.range;function yd(e){return Lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Gi)/fk)}const pw=yd(0),uj=yd(1),kAe=yd(2),TAe=yd(3),yf=yd(4),OAe=yd(5),DAe=yd(6);pw.range;uj.range;kAe.range;TAe.range;yf.range;OAe.range;DAe.range;function jd(e){return Lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/fk)}const gw=jd(0),dj=jd(1),MAe=jd(2),IAe=jd(3),jf=jd(4),$Ae=jd(5),RAe=jd(6);gw.range;dj.range;MAe.range;IAe.range;jf.range;$Ae.range;RAe.range;const xk=Lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xk.range;const yk=Lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yk.range;const ml=Lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ml.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ml.range;const pl=Lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});pl.range;function i7(e,t,n,s,i,a){const o=[[Su,1,Yo],[Su,5,5*Yo],[Su,15,15*Yo],[Su,30,30*Yo],[a,1,Gi],[a,5,5*Gi],[a,15,15*Gi],[a,30,30*Gi],[i,1,Qo],[i,3,3*Qo],[i,6,6*Qo],[i,12,12*Qo],[s,1,fl],[s,2,2*fl],[n,1,fk],[t,1,I$],[t,3,3*I$],[e,1,RS]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),x=g?g.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,g=tk(([,,y])=>y).right(o,m);if(g===o.length)return e.every(w_(u/RS,d/RS,f));if(g===0)return cj.every(Math.max(w_(u,d,f),1));const[x,v]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return x.every(v)}return[l,c]}const[LAe,FAe]=i7(pl,yk,gw,s7,vk,pk),[BAe,zAe]=i7(ml,xk,pw,kv,gk,mk);function LS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function FS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function VAe(e){var t=e.dateTime,n=e.date,s=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=sp(i),d=ip(i),f=sp(a),m=ip(a),g=sp(o),x=ip(o),v=sp(l),y=ip(l),N=sp(c),j=ip(c),b={a:J,A:q,b:$,B:le,c:null,d:z$,e:z$,f:dEe,g:bEe,G:NEe,H:lEe,I:cEe,j:uEe,L:a7,m:hEe,M:fEe,p:se,q:re,Q:q$,s:W$,S:mEe,u:pEe,U:gEe,V:vEe,w:xEe,W:yEe,x:null,X:null,y:jEe,Y:wEe,Z:SEe,"%":U$},C={a:K,A:ee,b:ge,B:xe,c:null,d:V$,e:V$,f:AEe,g:LEe,G:BEe,H:CEe,I:_Ee,j:PEe,L:l7,m:EEe,M:kEe,p:be,q:F,Q:q$,s:W$,S:TEe,u:OEe,U:DEe,V:MEe,w:IEe,W:$Ee,x:null,X:null,y:REe,Y:FEe,Z:zEe,"%":U$},_={a:I,A:k,b:O,B:U,c:B,d:F$,e:F$,f:sEe,g:L$,G:R$,H:B$,I:B$,j:eEe,L:rEe,m:ZAe,M:tEe,p:D,q:JAe,Q:aEe,s:oEe,S:nEe,u:GAe,U:KAe,V:YAe,w:HAe,W:QAe,x:ne,X:Y,y:L$,Y:R$,Z:XAe,"%":iEe};b.x=A(n,b),b.X=A(s,b),b.c=A(t,b),C.x=A(n,C),C.X=A(s,C),C.c=A(t,C);function A(X,te){return function(G){var M=[],ye=-1,Ne=0,fe=X.length,Pe,Ze,at;for(G instanceof Date||(G=new Date(+G));++ye<fe;)X.charCodeAt(ye)===37&&(M.push(X.slice(Ne,ye)),(Ze=$$[Pe=X.charAt(++ye)])!=null?Pe=X.charAt(++ye):Ze=Pe==="e"?" ":"0",(at=te[Pe])&&(Pe=at(G,Ze)),M.push(Pe),Ne=ye+1);return M.push(X.slice(Ne,ye)),M.join("")}}function P(X,te){return function(G){var M=rp(1900,void 0,1),ye=E(M,X,G+="",0),Ne,fe;if(ye!=G.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(te&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(Ne=FS(rp(M.y,0,1)),fe=Ne.getUTCDay(),Ne=fe>4||fe===0?dj.ceil(Ne):dj(Ne),Ne=mw.offset(Ne,(M.V-1)*7),M.y=Ne.getUTCFullYear(),M.m=Ne.getUTCMonth(),M.d=Ne.getUTCDate()+(M.w+6)%7):(Ne=LS(rp(M.y,0,1)),fe=Ne.getDay(),Ne=fe>4||fe===0?uj.ceil(Ne):uj(Ne),Ne=kv.offset(Ne,(M.V-1)*7),M.y=Ne.getFullYear(),M.m=Ne.getMonth(),M.d=Ne.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),fe="Z"in M?FS(rp(M.y,0,1)).getUTCDay():LS(rp(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(fe+5)%7:M.w+M.U*7-(fe+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,FS(M)):LS(M)}}function E(X,te,G,M){for(var ye=0,Ne=te.length,fe=G.length,Pe,Ze;ye<Ne;){if(M>=fe)return-1;if(Pe=te.charCodeAt(ye++),Pe===37){if(Pe=te.charAt(ye++),Ze=_[Pe in $$?te.charAt(ye++):Pe],!Ze||(M=Ze(X,G,M))<0)return-1}else if(Pe!=G.charCodeAt(M++))return-1}return M}function D(X,te,G){var M=u.exec(te.slice(G));return M?(X.p=d.get(M[0].toLowerCase()),G+M[0].length):-1}function I(X,te,G){var M=g.exec(te.slice(G));return M?(X.w=x.get(M[0].toLowerCase()),G+M[0].length):-1}function k(X,te,G){var M=f.exec(te.slice(G));return M?(X.w=m.get(M[0].toLowerCase()),G+M[0].length):-1}function O(X,te,G){var M=N.exec(te.slice(G));return M?(X.m=j.get(M[0].toLowerCase()),G+M[0].length):-1}function U(X,te,G){var M=v.exec(te.slice(G));return M?(X.m=y.get(M[0].toLowerCase()),G+M[0].length):-1}function B(X,te,G){return E(X,t,te,G)}function ne(X,te,G){return E(X,n,te,G)}function Y(X,te,G){return E(X,s,te,G)}function J(X){return o[X.getDay()]}function q(X){return a[X.getDay()]}function $(X){return c[X.getMonth()]}function le(X){return l[X.getMonth()]}function se(X){return i[+(X.getHours()>=12)]}function re(X){return 1+~~(X.getMonth()/3)}function K(X){return o[X.getUTCDay()]}function ee(X){return a[X.getUTCDay()]}function ge(X){return c[X.getUTCMonth()]}function xe(X){return l[X.getUTCMonth()]}function be(X){return i[+(X.getUTCHours()>=12)]}function F(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var te=A(X+="",b);return te.toString=function(){return X},te},parse:function(X){var te=P(X+="",!1);return te.toString=function(){return X},te},utcFormat:function(X){var te=A(X+="",C);return te.toString=function(){return X},te},utcParse:function(X){var te=P(X+="",!0);return te.toString=function(){return X},te}}}var $$={"-":"",_:" ",0:"0"},Qr=/^\s*\d+/,UAe=/^%/,qAe=/[\\^$*+?|[\]().{}]/g;function dn(e,t,n){var s=e<0?"-":"",i=(s?-e:e)+"",a=i.length;return s+(a<n?new Array(n-a+1).join(t)+i:i)}function WAe(e){return e.replace(qAe,"\\$&")}function sp(e){return new RegExp("^(?:"+e.map(WAe).join("|")+")","i")}function ip(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function HAe(e,t,n){var s=Qr.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function GAe(e,t,n){var s=Qr.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function KAe(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function YAe(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function QAe(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function R$(e,t,n){var s=Qr.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function L$(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function XAe(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function JAe(e,t,n){var s=Qr.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function ZAe(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function F$(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function eEe(e,t,n){var s=Qr.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function B$(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function tEe(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function nEe(e,t,n){var s=Qr.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function rEe(e,t,n){var s=Qr.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function sEe(e,t,n){var s=Qr.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function iEe(e,t,n){var s=UAe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function aEe(e,t,n){var s=Qr.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function oEe(e,t,n){var s=Qr.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function z$(e,t){return dn(e.getDate(),t,2)}function lEe(e,t){return dn(e.getHours(),t,2)}function cEe(e,t){return dn(e.getHours()%12||12,t,2)}function uEe(e,t){return dn(1+kv.count(ml(e),e),t,3)}function a7(e,t){return dn(e.getMilliseconds(),t,3)}function dEe(e,t){return a7(e,t)+"000"}function hEe(e,t){return dn(e.getMonth()+1,t,2)}function fEe(e,t){return dn(e.getMinutes(),t,2)}function mEe(e,t){return dn(e.getSeconds(),t,2)}function pEe(e){var t=e.getDay();return t===0?7:t}function gEe(e,t){return dn(pw.count(ml(e)-1,e),t,2)}function o7(e){var t=e.getDay();return t>=4||t===0?yf(e):yf.ceil(e)}function vEe(e,t){return e=o7(e),dn(yf.count(ml(e),e)+(ml(e).getDay()===4),t,2)}function xEe(e){return e.getDay()}function yEe(e,t){return dn(uj.count(ml(e)-1,e),t,2)}function jEe(e,t){return dn(e.getFullYear()%100,t,2)}function bEe(e,t){return e=o7(e),dn(e.getFullYear()%100,t,2)}function wEe(e,t){return dn(e.getFullYear()%1e4,t,4)}function NEe(e,t){var n=e.getDay();return e=n>=4||n===0?yf(e):yf.ceil(e),dn(e.getFullYear()%1e4,t,4)}function SEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dn(t/60|0,"0",2)+dn(t%60,"0",2)}function V$(e,t){return dn(e.getUTCDate(),t,2)}function CEe(e,t){return dn(e.getUTCHours(),t,2)}function _Ee(e,t){return dn(e.getUTCHours()%12||12,t,2)}function PEe(e,t){return dn(1+mw.count(pl(e),e),t,3)}function l7(e,t){return dn(e.getUTCMilliseconds(),t,3)}function AEe(e,t){return l7(e,t)+"000"}function EEe(e,t){return dn(e.getUTCMonth()+1,t,2)}function kEe(e,t){return dn(e.getUTCMinutes(),t,2)}function TEe(e,t){return dn(e.getUTCSeconds(),t,2)}function OEe(e){var t=e.getUTCDay();return t===0?7:t}function DEe(e,t){return dn(gw.count(pl(e)-1,e),t,2)}function c7(e){var t=e.getUTCDay();return t>=4||t===0?jf(e):jf.ceil(e)}function MEe(e,t){return e=c7(e),dn(jf.count(pl(e),e)+(pl(e).getUTCDay()===4),t,2)}function IEe(e){return e.getUTCDay()}function $Ee(e,t){return dn(dj.count(pl(e)-1,e),t,2)}function REe(e,t){return dn(e.getUTCFullYear()%100,t,2)}function LEe(e,t){return e=c7(e),dn(e.getUTCFullYear()%100,t,2)}function FEe(e,t){return dn(e.getUTCFullYear()%1e4,t,4)}function BEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jf(e):jf.ceil(e),dn(e.getUTCFullYear()%1e4,t,4)}function zEe(){return"+0000"}function U$(){return"%"}function q$(e){return+e}function W$(e){return Math.floor(+e/1e3)}var Zd,u7,d7;VEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VEe(e){return Zd=VAe(e),u7=Zd.format,Zd.parse,d7=Zd.utcFormat,Zd.utcParse,Zd}function UEe(e){return new Date(e)}function qEe(e){return e instanceof Date?+e:+new Date(+e)}function jk(e,t,n,s,i,a,o,l,c,u){var d=ak(),f=d.invert,m=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),j=u("%b %d"),b=u("%B"),C=u("%Y");function _(A){return(c(A)<A?g:l(A)<A?x:o(A)<A?v:a(A)<A?y:s(A)<A?i(A)<A?N:j:n(A)<A?b:C)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?m(Array.from(A,qEe)):m().map(UEe)},d.ticks=function(A){var P=m();return e(P[0],P[P.length-1],A??10)},d.tickFormat=function(A,P){return P==null?_:u(P)},d.nice=function(A){var P=m();return(!A||typeof A.range!="function")&&(A=t(P[0],P[P.length-1],A??10)),A?m(Xq(P,A)):d},d.copy=function(){return Ev(d,jk(e,t,n,s,i,a,o,l,c,u))},d}function WEe(){return sa.apply(jk(BAe,zAe,ml,xk,pw,kv,gk,mk,Su,u7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HEe(){return sa.apply(jk(LAe,FAe,pl,yk,gw,mw,vk,pk,Su,d7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vw(){var e=0,t=1,n,s,i,a,o=Ms,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),s=a(t=+t),i=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var g,x;return arguments.length?([g,x]=m,o=f(g,x),u):[o(0),o(1)]}}return u.range=d(fm),u.rangeRound=d(ik),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),s=f(t),i=n===s?0:1/(s-n),u}}function Hc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h7(){var e=Wc(vw()(Ms));return e.copy=function(){return Hc(e,h7())},jl.apply(e,arguments)}function f7(){var e=ck(vw()).domain([1,10]);return e.copy=function(){return Hc(e,f7()).base(e.base())},jl.apply(e,arguments)}function m7(){var e=uk(vw());return e.copy=function(){return Hc(e,m7()).constant(e.constant())},jl.apply(e,arguments)}function bk(){var e=dk(vw());return e.copy=function(){return Hc(e,bk()).exponent(e.exponent())},jl.apply(e,arguments)}function GEe(){return bk.apply(null,arguments).exponent(.5)}function p7(){var e=[],t=Ms;function n(s){if(s!=null&&!isNaN(s=+s))return t((Pv(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let i of s)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(bc),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,i)=>t(i/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(i,a)=>DPe(e,a/s))},n.copy=function(){return p7(t).domain(e)},jl.apply(n,arguments)}function xw(){var e=0,t=.5,n=1,s=1,i,a,o,l,c,u=Ms,d,f=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-a)*(s*v<s*a?l:c),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g):[e,t,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var N,j,b;return arguments.length?([N,j,b]=y,u=iAe(v,[N,j,b]),g):[u(0),u(.5),u(1)]}}return g.range=x(fm),g.rangeRound=x(ik),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return d=v,i=v(e),a=v(t),o=v(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),s=a<i?-1:1,g}}function g7(){var e=Wc(xw()(Ms));return e.copy=function(){return Hc(e,g7())},jl.apply(e,arguments)}function v7(){var e=ck(xw()).domain([.1,1,10]);return e.copy=function(){return Hc(e,v7()).base(e.base())},jl.apply(e,arguments)}function x7(){var e=uk(xw());return e.copy=function(){return Hc(e,x7()).constant(e.constant())},jl.apply(e,arguments)}function wk(){var e=dk(xw());return e.copy=function(){return Hc(e,wk()).exponent(e.exponent())},jl.apply(e,arguments)}function KEe(){return wk.apply(null,arguments).exponent(.5)}const H$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sg,scaleDiverging:g7,scaleDivergingLog:v7,scaleDivergingPow:wk,scaleDivergingSqrt:KEe,scaleDivergingSymlog:x7,scaleIdentity:Qq,scaleImplicit:N_,scaleLinear:lj,scaleLog:Jq,scaleOrdinal:nk,scalePoint:$p,scalePow:hk,scaleQuantile:t7,scaleQuantize:n7,scaleRadial:e7,scaleSequential:h7,scaleSequentialLog:f7,scaleSequentialPow:bk,scaleSequentialQuantile:p7,scaleSequentialSqrt:GEe,scaleSequentialSymlog:m7,scaleSqrt:AAe,scaleSymlog:Zq,scaleThreshold:r7,scaleTime:WEe,scaleUtc:HEe,tickFormat:Yq},Symbol.toStringTag,{value:"Module"}));var YEe=rm;function QEe(e,t,n){for(var s=-1,i=e.length;++s<i;){var a=e[s],o=t(a);if(o!=null&&(l===void 0?o===o&&!YEe(o):n(o,l)))var l=o,c=a}return c}var yw=QEe;function XEe(e,t){return e>t}var y7=XEe,JEe=yw,ZEe=y7,eke=dm;function tke(e){return e&&e.length?JEe(e,eke,ZEe):void 0}var nke=tke;const lc=vn(nke);function rke(e,t){return e<t}var j7=rke,ske=yw,ike=j7,ake=dm;function oke(e){return e&&e.length?ske(e,ake,ike):void 0}var lke=oke;const jw=vn(lke);var cke=$E,uke=So,dke=Aq,hke=ii;function fke(e,t){var n=hke(e)?cke:dke;return n(e,uke(t))}var mke=fke,pke=_q,gke=mke;function vke(e,t){return pke(gke(e,t),1)}var xke=vke;const yke=vn(xke);var jke=XE;function bke(e,t){return jke(e,t)}var wke=bke;const rd=vn(wke);var mm=1e9,Nke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sk,Kn=!0,ea="[DecimalError] ",Fu=ea+"Invalid argument: ",Nk=ea+"Exponent out of range: ",pm=Math.floor,mu=Math.pow,Ske=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yi,Vr=1e7,Vn=7,b7=9007199254740991,hj=pm(b7/Vn),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,n,s,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(s=a.d.length,i=e.d.length,t=0,n=s<i?s:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return s===i?0:s>i^a.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Vn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(e){return el(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,n=t.constructor;return kn(el(t,new n(e),0,1),n.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return Nr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,n=this,s=n.constructor,i=s.precision,a=i+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(yi))throw Error(ea+"NaN");if(n.s<1)throw Error(ea+(n.s?"NaN":"-Infinity"));return n.eq(yi)?new s(0):(Kn=!1,t=el(Eg(n,a),Eg(e,a),a),Kn=!0,kn(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S7(t,e):w7(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,n=this,s=n.constructor,i=s.precision;if(e=new s(e),!e.s)throw Error(ea+"NaN");return n.s?(Kn=!1,t=el(n,e,0,1).times(e),Kn=!0,n.minus(t)):kn(new s(n),i)};st.naturalExponential=st.exp=function(){return N7(this)};st.naturalLogarithm=st.ln=function(){return Eg(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w7(t,e):S7(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,n,s,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fu+e);if(t=Nr(i)+1,s=i.d.length-1,n=s*Vn+1,s=i.d[s],s){for(;s%10==0;s/=10)n--;for(s=i.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};st.squareRoot=st.sqrt=function(){var e,t,n,s,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ea+"NaN")}for(e=Nr(l),Kn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ao(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=pm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=s,s=a.plus(el(l,a,o+2)).times(.5),ao(a.d).slice(0,o)===(t=ao(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(kn(a,n+1,0),a.times(a).eq(l)){s=a;break}}else if(t!="9999")break;o+=4}return Kn=!0,kn(s,n)};st.times=st.mul=function(e){var t,n,s,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,o=c,c=u,u=o),a=[],o=c+u,s=o;s--;)a.push(0);for(s=u;--s>=0;){for(t=0,i=c+s;i>s;)l=a[i]+g[s]*m[i-s-1]+t,a[i--]=l%Vr|0,t=l/Vr|0;a[i]=(a[i]+t)%Vr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Kn?kn(e,f.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(yo(e,0,mm),t===void 0?t=s.rounding:yo(t,0,8),kn(n,e+Nr(n)+1,t))};st.toExponential=function(e,t){var n,s=this,i=s.constructor;return e===void 0?n=sd(s,!0):(yo(e,0,mm),t===void 0?t=i.rounding:yo(t,0,8),s=kn(new i(s),e+1,t),n=sd(s,!0,e+1)),n};st.toFixed=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?sd(i):(yo(e,0,mm),t===void 0?t=a.rounding:yo(t,0,8),s=kn(new a(i),e+Nr(i)+1,t),n=sd(s.abs(),!1,e+Nr(s)+1),i.isneg()&&!i.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return kn(new t(e),Nr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,n,s,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(yi);if(l=new c(l),!l.s){if(e.s<1)throw Error(ea+"Infinity");return l}if(l.eq(yi))return l;if(s=c.precision,e.eq(yi))return kn(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=b7){for(i=new c(yi),t=Math.ceil(s/Vn+4),Kn=!1;n%2&&(i=i.times(l),K$(i.d,t)),n=pm(n/2),n!==0;)l=l.times(l),K$(l.d,t);return Kn=!0,e.s<0?new c(yi).div(i):kn(i,s)}}else if(a<0)throw Error(ea+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Kn=!1,i=e.times(Eg(l,s+u)),Kn=!0,i=N7(i),i.s=a,i};st.toPrecision=function(e,t){var n,s,i=this,a=i.constructor;return e===void 0?(n=Nr(i),s=sd(i,n<=a.toExpNeg||n>=a.toExpPos)):(yo(e,1,mm),t===void 0?t=a.rounding:yo(t,0,8),i=kn(new a(i),e,t),n=Nr(i),s=sd(i,e<=n||n<=a.toExpNeg,e)),s};st.toSignificantDigits=st.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(yo(e,1,mm),t===void 0?t=s.rounding:yo(t,0,8)),kn(new s(n),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nr(e),n=e.constructor;return sd(e,t<=n.toExpNeg||t>=n.toExpPos)};function w7(e,t){var n,s,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kn?kn(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(s=c,a=-a,l=u.length):(s=u,i=o,l=c.length),o=Math.ceil(f/Vn),l=o>l?o+1:l+1,a>l&&(a=l,s.length=1),s.reverse();a--;)s.push(0);s.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,s=u,u=c,c=s),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Vr|0,c[a]%=Vr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Kn?kn(t,f):t}function yo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Fu+e)}function ao(e){var t,n,s,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)s=e[t]+"",n=Vn-s.length,n&&(a+=Ul(n)),a+=s;o=e[t],s=o+"",n=Vn-s.length,n&&(a+=Ul(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var el=function(){function e(s,i){var a,o=0,l=s.length;for(s=s.slice();l--;)a=s[l]*i+o,s[l]=a%Vr|0,o=a/Vr|0;return o&&s.unshift(o),s}function t(s,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(s[l]!=i[l]){c=s[l]>i[l]?1:-1;break}return c}function n(s,i,a){for(var o=0;a--;)s[a]-=o,o=s[a]<i[a]?1:0,s[a]=o*Vr+s[a]-i[a];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,a,o){var l,c,u,d,f,m,g,x,v,y,N,j,b,C,_,A,P,E,D=s.constructor,I=s.s==i.s?1:-1,k=s.d,O=i.d;if(!s.s)return new D(s);if(!i.s)throw Error(ea+"Division by zero");for(c=s.e-i.e,P=O.length,_=k.length,g=new D(I),x=g.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--c,a==null?j=a=D.precision:o?j=a+(Nr(s)-Nr(i))+1:j=a,j<0)return new D(0);if(j=j/Vn+2|0,u=0,P==1)for(d=0,O=O[0],j++;(u<_||d)&&j--;u++)b=d*Vr+(k[u]||0),x[u]=b/O|0,d=b%O|0;else{for(d=Vr/(O[0]+1)|0,d>1&&(O=e(O,d),k=e(k,d),P=O.length,_=k.length),C=P,v=k.slice(0,P),y=v.length;y<P;)v[y++]=0;E=O.slice(),E.unshift(0),A=O[0],O[1]>=Vr/2&&++A;do d=0,l=t(O,v,P,y),l<0?(N=v[0],P!=y&&(N=N*Vr+(v[1]||0)),d=N/A|0,d>1?(d>=Vr&&(d=Vr-1),f=e(O,d),m=f.length,y=v.length,l=t(f,v,m,y),l==1&&(d--,n(f,P<m?E:O,m))):(d==0&&(l=d=1),f=O.slice()),m=f.length,m<y&&f.unshift(0),n(v,f,y),l==-1&&(y=v.length,l=t(O,v,P,y),l<1&&(d++,n(v,P<y?E:O,y))),y=v.length):l===0&&(d++,v=[0]),x[u++]=d,l&&v[0]?v[y++]=k[C]||0:(v=[k[C]],y=1);while((C++<_||v[0]!==void 0)&&j--)}return x[0]||x.shift(),g.e=c,kn(g,o?a+Nr(g)+1:a)}}();function N7(e,t){var n,s,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Nr(e)>16)throw Error(Nk+Nr(e));if(!e.s)return new d(yi);for(t==null?(Kn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(mu(2,u))/Math.LN10*2+5|0,l+=s,n=i=a=new d(yi),d.precision=l;;){if(i=kn(i.times(e),l),n=n.times(++c),o=a.plus(el(i,n,l)),ao(o.d).slice(0,l)===ao(a.d).slice(0,l)){for(;u--;)a=kn(a.times(a),l);return d.precision=f,t==null?(Kn=!0,kn(a,f)):a}a=o}}function Nr(e){for(var t=e.e*Vn,n=e.d[0];n>=10;n/=10)t++;return t}function BS(e,t,n){if(t>e.LN10.sd())throw Kn=!0,n&&(e.precision=n),Error(ea+"LN10 precision limit exceeded");return kn(new e(e.LN10),t)}function Ul(e){for(var t="";e--;)t+="0";return t}function Eg(e,t){var n,s,i,a,o,l,c,u,d,f=1,m=10,g=e,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(ea+(g.s?"NaN":"-Infinity"));if(g.eq(yi))return new v(0);if(t==null?(Kn=!1,u=y):u=t,g.eq(10))return t==null&&(Kn=!0),BS(v,u);if(u+=m,v.precision=u,n=ao(x),s=n.charAt(0),a=Nr(g),Math.abs(a)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(e),n=ao(g.d),s=n.charAt(0),f++;a=Nr(g),s>1?(g=new v("0."+n),a++):g=new v(s+"."+n.slice(1))}else return c=BS(v,u+2,y).times(a+""),g=Eg(new v(s+"."+n.slice(1)),u-m).plus(c),v.precision=y,t==null?(Kn=!0,kn(g,y)):g;for(l=o=g=el(g.minus(yi),g.plus(yi),u),d=kn(g.times(g),u),i=3;;){if(o=kn(o.times(d),u),c=l.plus(el(o,new v(i),u)),ao(c.d).slice(0,u)===ao(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(BS(v,u+2,y).times(a+""))),l=el(l,new v(f),u),v.precision=y,t==null?(Kn=!0,kn(l,y)):l;l=c,i+=2}}function G$(e,t){var n,s,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(s,i),t){if(i-=s,n=n-s-1,e.e=pm(n/Vn),e.d=[],s=(n+1)%Vn,n<0&&(s+=Vn),s<i){for(s&&e.d.push(+t.slice(0,s)),i-=Vn;s<i;)e.d.push(+t.slice(s,s+=Vn));t=t.slice(s),s=Vn-t.length}else s-=i;for(;s--;)t+="0";if(e.d.push(+t),Kn&&(e.e>hj||e.e<-hj))throw Error(Nk+n)}else e.s=0,e.e=0,e.d=[0];return e}function kn(e,t,n){var s,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(s=t-o,s<0)s+=Vn,i=t,u=f[d=0];else{if(d=Math.ceil((s+1)/Vn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;s%=Vn,i=s-Vn+o}if(n!==void 0&&(a=mu(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?i>0?u/mu(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=Nr(e),f.length=1,t=t-a-1,f[0]=mu(10,(Vn-t%Vn)%Vn),e.e=pm(-t/Vn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=d,a=1,d--):(f.length=d+1,a=mu(10,Vn-s),f[d]=i>0?(u/mu(10,o-i)%mu(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Vr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Vr)break;f[d--]=0,a=1}for(s=f.length;f[--s]===0;)f.pop();if(Kn&&(e.e>hj||e.e<-hj))throw Error(Nk+Nr(e));return e}function S7(e,t){var n,s,i,a,o,l,c,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Kn?kn(t,g):t;if(c=e.d,f=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,s=u,l=c.length),i=Math.max(Math.ceil(g/Vn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Vr-1;--c[a],c[i]+=Vr}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Kn?kn(t,g):t):new m(0)}function sd(e,t,n){var s,i=Nr(e),a=ao(e.d),o=a.length;return t?(n&&(s=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ul(s):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ul(-i-1)+a,n&&(s=n-o)>0&&(a+=Ul(s))):i>=o?(a+=Ul(i+1-o),n&&(s=n-i-1)>0&&(a=a+"."+Ul(s))):((s=i+1)<o&&(a=a.slice(0,s)+"."+a.slice(s)),n&&(s=n-o)>0&&(i+1===o&&(a+="."),a+=Ul(s))),e.s<0?"-"+a:a}function K$(e,t){if(e.length>t)return e.length=t,!0}function C7(e){var t,n,s;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Fu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return G$(o,a.toString())}else if(typeof a!="string")throw Error(Fu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ske.test(a))G$(o,a);else throw Error(Fu+a)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C7,i.config=i.set=Cke,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return i.config(e),i}function Cke(e){if(!e||typeof e!="object")throw Error(ea+"Object expected");var t,n,s,i=["precision",1,mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((s=e[n=i[t]])!==void 0)if(pm(s)===s&&s>=i[t+1]&&s<=i[t+2])this[n]=s;else throw Error(Fu+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Fu+n+": "+s);return this}var Sk=C7(Nke);yi=new Sk(1);const _n=Sk;function _ke(e){return kke(e)||Eke(e)||Ake(e)||Pke()}function Pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ake(e,t){if(e){if(typeof e=="string")return P_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(e,t)}}function Eke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kke(e){if(Array.isArray(e))return P_(e)}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Tke=function(t){return t},_7={"@@functional/placeholder":!0},P7=function(t){return t===_7},Y$=function(t){return function n(){return arguments.length===0||arguments.length===1&&P7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Oke=function e(t,n){return t===1?n:Y$(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==_7}).length;return o>=t?n.apply(void 0,i):e(t-o,Y$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return P7(f)?c.shift():f});return n.apply(void 0,_ke(d).concat(c))}))})},bw=function(t){return Oke(t.length,t)},A_=function(t,n){for(var s=[],i=t;i<n;++i)s[i-t]=i;return s},Dke=bw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Mke=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return Tke;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},E_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},A7=function(t){var n=null,s=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,s=t.apply(void 0,a)),s}};function Ike(e){var t;return e===0?t=1:t=Math.floor(new _n(e).abs().log(10).toNumber())+1,t}function $ke(e,t,n){for(var s=new _n(e),i=0,a=[];s.lt(t)&&i<1e5;)a.push(s.toNumber()),s=s.add(n),i++;return a}var Rke=bw(function(e,t,n){var s=+e,i=+t;return s+n*(i-s)}),Lke=bw(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),Fke=bw(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const ww={rangeStep:$ke,getDigitCount:Ike,interpolateNumber:Rke,uninterpolateNumber:Lke,uninterpolateTruncation:Fke};function k_(e){return Vke(e)||zke(e)||E7(e)||Bke()}function Bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Vke(e){if(Array.isArray(e))return T_(e)}function kg(e,t){return Wke(e)||qke(e,t)||E7(e,t)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7(e,t){if(e){if(typeof e=="string")return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(e,t)}}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function qke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,a=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Wke(e){if(Array.isArray(e))return e}function k7(e){var t=kg(e,2),n=t[0],s=t[1],i=n,a=s;return n>s&&(i=s,a=n),[i,a]}function T7(e,t,n){if(e.lte(0))return new _n(0);var s=ww.getDigitCount(e.toNumber()),i=new _n(10).pow(s),a=e.div(i),o=s!==1?.05:.1,l=new _n(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new _n(Math.ceil(c))}function Hke(e,t,n){var s=1,i=new _n(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(s=new _n(10).pow(ww.getDigitCount(e)-1),i=new _n(Math.floor(i.div(s).toNumber())).mul(s)):a>1&&(i=new _n(Math.floor(e)))}else e===0?i=new _n(Math.floor((t-1)/2)):n||(i=new _n(Math.floor(e)));var o=Math.floor((t-1)/2),l=Mke(Dke(function(c){return i.add(new _n(c-o).mul(s)).toNumber()}),A_);return l(0,t)}function O7(e,t,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new _n(0),tickMin:new _n(0),tickMax:new _n(0)};var a=T7(new _n(t).sub(e).div(n-1),s,i),o;e<=0&&t>=0?o=new _n(0):(o=new _n(e).add(t).div(2),o=o.sub(new _n(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new _n(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?O7(e,t,n,s,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new _n(l).mul(a)),tickMax:o.add(new _n(c).mul(a))})}function Gke(e){var t=kg(e,2),n=t[0],s=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=k7([n,s]),c=kg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(k_(A_(0,i-1).map(function(){return 1/0}))):[].concat(k_(A_(0,i-1).map(function(){return-1/0})),[d]);return n>s?E_(f):f}if(u===d)return Hke(u,i,a);var m=O7(u,d,o,a),g=m.step,x=m.tickMin,v=m.tickMax,y=ww.rangeStep(x,v.add(new _n(.1).mul(g)),g);return n>s?E_(y):y}function Kke(e,t){var n=kg(e,2),s=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=k7([s,i]),l=kg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,i];if(c===u)return[c];var d=Math.max(t,2),f=T7(new _n(u).sub(c).div(d-1),a,0),m=[].concat(k_(ww.rangeStep(new _n(c),new _n(u).sub(new _n(.99).mul(f)),f)),[u]);return s>i?E_(m):m}var Yke=A7(Gke),Qke=A7(Kke),Xke="Invariant failed";function id(e,t){throw new Error(Xke)}var Jke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fj.apply(this,arguments)}function Zke(e,t){return rTe(e)||nTe(e,t)||tTe(e,t)||eTe()}function eTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tTe(e,t){if(e){if(typeof e=="string")return Q$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q$(e,t)}}function Q$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function nTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function rTe(e){if(Array.isArray(e))return e}function sTe(e,t){if(e==null)return{};var n=iTe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function iTe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function aTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oTe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,I7(s.key),s)}}function lTe(e,t,n){return t&&oTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cTe(e,t,n){return t=mj(t),uTe(e,D7()?Reflect.construct(t,n||[],mj(e).constructor):t.apply(e,n))}function uTe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dTe(e)}function dTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D7=function(){return!!e})()}function mj(e){return mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mj(e)}function hTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},O_(e,t)}function M7(e,t,n){return t=I7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I7(e){var t=fTe(e,"string");return bf(t)=="symbol"?t:t+""}function fTe(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tv=function(e){function t(){return aTe(this,t),cTe(this,t,arguments)}return hTe(t,e),lTe(t,[{key:"render",value:function(){var s=this.props,i=s.offset,a=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,d=s.xAxis,f=s.yAxis,m=sTe(s,Jke),g=ct(m,!1);this.props.direction==="x"&&d.type!=="number"&&id();var x=c.map(function(v){var y=u(v,l),N=y.x,j=y.y,b=y.value,C=y.errorVal;if(!C)return null;var _=[],A,P;if(Array.isArray(C)){var E=Zke(C,2);A=E[0],P=E[1]}else A=P=C;if(a==="vertical"){var D=d.scale,I=j+i,k=I+o,O=I-o,U=D(b-A),B=D(b+P);_.push({x1:B,y1:k,x2:B,y2:O}),_.push({x1:U,y1:I,x2:B,y2:I}),_.push({x1:U,y1:k,x2:U,y2:O})}else if(a==="horizontal"){var ne=f.scale,Y=N+i,J=Y-o,q=Y+o,$=ne(b-A),le=ne(b+P);_.push({x1:J,y1:le,x2:q,y2:le}),_.push({x1:Y,y1:$,x2:Y,y2:le}),_.push({x1:J,y1:$,x2:q,y2:$})}return W.createElement(Xt,fj({className:"recharts-errorBar",key:"bar-".concat(_.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},g),_.map(function(se){return W.createElement("line",fj({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return W.createElement(Xt,{className:"recharts-errorBars"},x)}}])}(W.Component);M7(Tv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});M7(Tv,"displayName","ErrorBar");function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function X$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(n),!0).forEach(function(s){mTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mTe(e,t,n){return t=pTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pTe(e){var t=gTe(e,"string");return Tg(t)=="symbol"?t:t+""}function gTe(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $7=function(t){var n=t.children,s=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=gi(n,Ih);if(!o)return null;var l=Ih.defaultProps,c=l!==void 0?iu(iu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(s||[]).reduce(function(d,f){var m=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(s||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?iu(iu({},m),f.props):{},x=g.dataKey,v=g.name,y=g.legendType,N=g.hide;return{inactive:N,dataKey:x,type:c.iconType||y||"square",color:Ck(f),value:v||x,payload:g}}),iu(iu(iu({},c),Ih.getWithHeight(o,i)),{},{payload:u,item:o})};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function J$(e){return jTe(e)||yTe(e)||xTe(e)||vTe()}function vTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(e,t){if(e){if(typeof e=="string")return D_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(e,t)}}function yTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jTe(e){if(Array.isArray(e))return D_(e)}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z$(Object(n),!0).forEach(function(s){Rh(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Rh(e,t,n){return t=bTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bTe(e){var t=wTe(e,"string");return Og(t)=="symbol"?t:t+""}function wTe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,n){return Et(e)||Et(t)?n:$r(t)?Si(e,t,n):bt(t)?t(e):n}function Rp(e,t,n,s){var i=yke(e,function(l){return gr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ve(l)||parseFloat(l)});return a.length?[jw(a),lc(a)]:[1/0,-1/0]}var o=s?i.filter(function(l){return!Et(l)}):i;return o.map(function(l){return $r(l)||l instanceof Date?l:""})}var NTe=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Os(f-d)!==Os(m-f)){var x=[];if(Os(m-f)===Os(c[1]-c[0])){g=m;var v=f+c[1]-c[0];x[0]=Math.min(v,(v+d)/2),x[1]=Math.max(v,(v+d)/2)}else{g=d;var y=m+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var N=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>N[0]&&t<=N[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var j=Math.min(d,m),b=Math.max(d,m);if(t>(j+f)/2&&t<=(b+f)/2){o=i[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(s[C].coordinate+s[C+1].coordinate)/2||C>0&&C<l-1&&t>(s[C].coordinate+s[C-1].coordinate)/2&&t<=(s[C].coordinate+s[C+1].coordinate)/2||C===l-1&&t>(s[C].coordinate+s[C-1].coordinate)/2){o=s[C].index;break}return o},Ck=function(t){var n,s=t,i=s.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?cr(cr({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},STe=function(t){var n=t.barSize,s=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var x=d[f[m]],v=x.items,y=x.cateAxisId,N=v.filter(function(P){return Zo(P.type).indexOf("Bar")>=0});if(N&&N.length){var j=N[0].type.defaultProps,b=j!==void 0?cr(cr({},j),N[0].props):N[0].props,C=b.barSize,_=b[y];o[_]||(o[_]=[]);var A=Et(C)?n:C;o[_].push({item:N[0],stackList:N.slice(1),barSize:Et(A)?void 0:Ds(A,s,0)})}}return o},CTe=function(t){var n=t.barGap,s=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ds(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/c,x=o.reduce(function(C,_){return C+_.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&g>0&&(m=!0,g*=.9,x=c*g);var v=(i-x)/2>>0,y={offset:v-u,size:0};d=o.reduce(function(C,_){var A={item:_.item,position:{offset:y.offset+y.size+u,size:m?g:_.barSize}},P=[].concat(J$(C),[A]);return y=P[P.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){P.push({item:E,position:y})}),P},f)}else{var N=Ds(s,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var j=(i-2*N-(c-1)*u)/c;j>1&&(j>>=0);var b=l===+l?Math.min(j,l):j;d=o.reduce(function(C,_,A){var P=[].concat(J$(C),[{item:_.item,position:{offset:N+(j+u)*A+(j-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){P.push({item:E,position:P[P.length-1].position})}),P},f)}return d},_Te=function(t,n,s,i){var a=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=$7({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&Ve(t[g]))return cr(cr({},t),{},Rh({},g,t[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&Ve(t[x]))return cr(cr({},t),{},Rh({},x,t[x]+(m||0)))}return t},PTe=function(t,n,s){return Et(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},R7=function(t,n,s,i,a){var o=n.props.children,l=Ci(o,Tv).filter(function(u){return PTe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=gr(d,s);if(Et(f))return u;var m=Array.isArray(f)?[jw(f),lc(f)]:[f,f],g=c.reduce(function(x,v){var y=gr(d,v,0),N=m[0]-Math.abs(Array.isArray(y)?y[0]:y),j=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,x[0]),Math.max(j,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},ATe=function(t,n,s,i,a){var o=n.map(function(l){return R7(t,l,s,a,i)}).filter(function(l){return!Et(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},L7=function(t,n,s,i,a){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&R7(t,c,u,i)||Rp(t,u,s,a)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},F7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},B7=function(t,n,s,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===s&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(s),l},Xo=function(t,n,s){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||s)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Os(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!lm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!s?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:a?a[f]:f,index:m,offset:u}})},zS=new WeakMap,Ny=function(t,n){if(typeof n!="function")return t;zS.has(t)||zS.set(t,new WeakMap);var s=zS.get(t);if(s.has(n))return s.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,i),i},z7=function(t,n,s){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Sg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:lj(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:$p(),realScaleType:"point"}:a==="category"?{scale:Sg(),realScaleType:"band"}:{scale:lj(),realScaleType:"linear"};if(ed(i)){var c="scale".concat(aw(i));return{scale:(H$[c]||$p)(),realScaleType:H$[c]?c:"point"}}return bt(i)?{scale:i}:{scale:$p(),realScaleType:"point"}},eR=1e-4,V7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,i=t.range(),a=Math.min(i[0],i[1])-eR,o=Math.max(i[0],i[1])+eR,l=t(n[0]),c=t(n[s-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[s-1]])}},ETe=function(t,n){if(!t)return null;for(var s=0,i=t.length;s<i;s++)if(t[s].item===n)return t[s].position;return null},kTe=function(t,n){if(!n||n.length!==2||!Ve(n[0])||!Ve(n[1]))return t;var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ve(t[0])||t[0]<s)&&(a[0]=s),(!Ve(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<s&&(a[1]=s),a},TTe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0,l=0;l<n;++l){var c=lm(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=a,t[l][s][1]=a+c,a=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},OTe=function(t){var n=t.length;if(!(n<=0))for(var s=0,i=t[0].length;s<i;++s)for(var a=0,o=0;o<n;++o){var l=lm(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=a,t[o][s][1]=a+l,a=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},DTe={sign:TTe,expand:J0e,none:ff,silhouette:Z0e,wiggle:eje,positive:OTe},MTe=function(t,n,s){var i=n.map(function(l){return l.props.dataKey}),a=DTe[s],o=X0e().keys(i).value(function(l,c){return+gr(l,c,0)}).order(s_).offset(a);return o(t)},ITe=function(t,n,s,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?cr(cr({},m.type.defaultProps),m.props):m.props,v=x.stackId,y=x.hide;if(y)return f;var N=x[s],j=f[N]||{hasStack:!1,stackGroups:{}};if($r(v)){var b=j.stackGroups[v]||{numericAxisId:s,cateAxisId:i,items:[]};b.items.push(m),j.hasStack=!0,j.stackGroups[v]=b}else j.stackGroups[xd("_stackId_")]={numericAxisId:s,cateAxisId:i,items:[m]};return cr(cr({},f),{},Rh({},N,j))},c),d={};return Object.keys(u).reduce(function(f,m){var g=u[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var N=g.stackGroups[y];return cr(cr({},v),{},Rh({},y,{numericAxisId:s,cateAxisId:i,items:N.items,stackedData:MTe(t,N.items,a)}))},x)}return cr(cr({},f),{},Rh({},m,g))},d)},U7=function(t,n){var s=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Yke(u,a,l);return t.domain([jw(d),lc(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),m=Qke(f,a,l);return{niceTicks:m}}return null};function pj(e){var t=e.axis,n=e.ticks,s=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Et(i[t.dataKey])){var l=z0(n,"value",i[t.dataKey]);if(l)return l.coordinate+s/2}return n[a]?n[a].coordinate+s/2:null}var c=gr(i,Et(o)?t.dataKey:o);return Et(c)?null:t.scale(c)}var tR=function(t){var n=t.axis,s=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+i:null;var c=gr(o,n.dataKey,n.domain[l]);return Et(c)?null:n.scale(c)-a/2+i},$Te=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var i=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]);return i<=0&&a>=0?0:a<0?a:i}return s[0]},RTe=function(t,n){var s,i=(s=t.type)!==null&&s!==void 0&&s.defaultProps?cr(cr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if($r(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},LTe=function(t){return t.reduce(function(n,s){return[jw(s.concat([n[0]]).filter(Ve)),lc(s.concat([n[1]]).filter(Ve))]},[1/0,-1/0])},q7=function(t,n,s){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=LTe(d.slice(n,s+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},nR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M_=function(t,n,s){if(bt(t))return t(n,s);if(!Array.isArray(t))return n;var i=[];if(Ve(t[0]))i[0]=s?t[0]:Math.min(t[0],n[0]);else if(nR.test(t[0])){var a=+nR.exec(t[0])[1];i[0]=n[0]-a}else bt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ve(t[1]))i[1]=s?t[1]:Math.max(t[1],n[1]);else if(rR.test(t[1])){var o=+rR.exec(t[1])[1];i[1]=n[1]+o}else bt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},gj=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!s||i>0)return i}if(t&&n&&n.length>=2){for(var a=ZE(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},sR=function(t,n,s){return!t||!t.length||rd(t,Si(s,"type.defaultProps.domain"))?n:t},W7=function(t,n){var s=t.type.defaultProps?cr(cr({},t.type.defaultProps),t.props):t.props,i=s.dataKey,a=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,d=s.hide;return cr(cr({},ct(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:Ck(t),value:gr(n,i),type:c,payload:n,chartType:u,hide:d})};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(s){H7(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function H7(e,t,n){return t=FTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FTe(e){var t=BTe(e,"string");return Dg(t)=="symbol"?t:t+""}function BTe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zTe(e,t){return WTe(e)||qTe(e,t)||UTe(e,t)||VTe()}function VTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UTe(e,t){if(e){if(typeof e=="string")return aR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aR(e,t)}}function aR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function qTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function WTe(e){if(Array.isArray(e))return e}var vj=Math.PI/180,HTe=function(t){return t*180/Math.PI},$n=function(t,n,s,i){return{x:t+Math.cos(-vj*i)*s,y:n+Math.sin(-vj*i)*s}},G7=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},GTe=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ds(t.cx,o,o/2),f=Ds(t.cy,l,l/2),m=G7(o,l,s),g=Ds(t.innerRadius,m,0),x=Ds(t.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(y,N){var j=n[N],b=j.domain,C=j.reversed,_;if(Et(j.range))i==="angleAxis"?_=[c,u]:i==="radiusAxis"&&(_=[g,x]),C&&(_=[_[1],_[0]]);else{_=j.range;var A=_,P=zTe(A,2);c=P[0],u=P[1]}var E=z7(j,a),D=E.realScaleType,I=E.scale;I.domain(b).range(_),V7(I);var k=U7(I,zo(zo({},j),{},{realScaleType:D})),O=zo(zo(zo({},j),k),{},{range:_,radius:x,realScaleType:D,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return zo(zo({},y),{},H7({},N,O))},{})},KTe=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-o,2))},YTe=function(t,n){var s=t.x,i=t.y,a=n.cx,o=n.cy,l=KTe({x:s,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(s-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:HTe(u),angleInRadian:u}},QTe=function(t){var n=t.startAngle,s=t.endAngle,i=Math.floor(n/360),a=Math.floor(s/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:s-o*360}},XTe=function(t,n){var s=n.startAngle,i=n.endAngle,a=Math.floor(s/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},oR=function(t,n){var s=t.x,i=t.y,a=YTe({x:s,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=QTe(n),f=d.startAngle,m=d.endAngle,g=l,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?zo(zo({},n),{},{radius:o,angle:XTe(g,n)}):null},K7=function(t){return!w.isValidElement(t)&&!bt(t)&&typeof t!="boolean"?t.className:""};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var JTe=["offset"];function ZTe(e){return rOe(e)||nOe(e)||tOe(e)||eOe()}function eOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tOe(e,t){if(e){if(typeof e=="string")return I_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(e,t)}}function nOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rOe(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function sOe(e,t){if(e==null)return{};var n=iOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function iOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(s){aOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function aOe(e,t,n){return t=oOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oOe(e){var t=lOe(e,"string");return Mg(t)=="symbol"?t:t+""}function lOe(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ig.apply(this,arguments)}var cOe=function(t){var n=t.value,s=t.formatter,i=Et(t.children)?n:t.children;return bt(s)?s(i):i},uOe=function(t,n){var s=Os(n-t),i=Math.min(Math.abs(n-t),360);return s*i},dOe=function(t,n,s){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(f+m)/2,N=uOe(g,x),j=N>=0?1:-1,b,C;i==="insideStart"?(b=g+j*o,C=v):i==="insideEnd"?(b=x-j*o,C=!v):i==="end"&&(b=x+j*o,C=v),C=N<=0?C:!C;var _=$n(u,d,y,b),A=$n(u,d,y,b+(C?1:-1)*359),P="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),E=Et(t.id)?xd("recharts-radial-line-"):t.id;return W.createElement("text",Ig({},s,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:E,d:P})),W.createElement("textPath",{xlinkHref:"#".concat(E)},n))},hOe=function(t){var n=t.viewBox,s=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(i==="outside"){var g=$n(o,l,u+s,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=$n(o,l,y,m),j=N.x,b=N.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},fOe=function(t){var n=t.viewBox,s=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,g=f>0?"end":"start",x=f>0?"start":"end",v=u>=0?1:-1,y=v*i,N=v>0?"end":"start",j=v>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Ar(Ar({},b),s?{height:Math.max(c-s.y,0),width:u}:{})}if(a==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:x};return Ar(Ar({},C),s?{height:Math.max(s.y+s.height-(c+d),0),width:u}:{})}if(a==="left"){var _={x:l-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return Ar(Ar({},_),s?{width:Math.max(_.x-s.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Ar(Ar({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:d}:{})}var P=s?{width:u,height:d}:{};return a==="insideLeft"?Ar({x:l+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},P):a==="insideRight"?Ar({x:l+u-y,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideTop"?Ar({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?Ar({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:g},P):a==="insideTopLeft"?Ar({x:l+y,y:c+m,textAnchor:j,verticalAnchor:x},P):a==="insideTopRight"?Ar({x:l+u-y,y:c+m,textAnchor:N,verticalAnchor:x},P):a==="insideBottomLeft"?Ar({x:l+y,y:c+d-m,textAnchor:j,verticalAnchor:g},P):a==="insideBottomRight"?Ar({x:l+u-y,y:c+d-m,textAnchor:N,verticalAnchor:g},P):sm(a)&&(Ve(a.x)||wu(a.x))&&(Ve(a.y)||wu(a.y))?Ar({x:l+Ds(a.x,u),y:c+Ds(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):Ar({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},mOe=function(t){return"cx"in t&&Ve(t.cx)};function Wr(e){var t=e.offset,n=t===void 0?5:t,s=sOe(e,JTe),i=Ar({offset:n},s),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!a||Et(l)&&Et(c)&&!w.isValidElement(u)&&!bt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var g;if(bt(u)){if(g=w.createElement(u,i),w.isValidElement(g))return g}else g=cOe(i);var x=mOe(a),v=ct(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return dOe(i,g,v);var y=x?hOe(i):fOe(i);return W.createElement(nd,Ig({className:Ot("recharts-label",f)},v,y,{breakAll:m}),g)}Wr.displayName="Label";var Y7=function(t){var n=t.cx,s=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,g=t.top,x=t.left,v=t.width,y=t.height,N=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ve(v)&&Ve(y)){if(Ve(f)&&Ve(m))return{x:f,y:m,width:v,height:y};if(Ve(g)&&Ve(x))return{x:g,y:x,width:v,height:y}}return Ve(f)&&Ve(m)?{x:f,y:m,width:0,height:0}:Ve(n)&&Ve(s)?{cx:n,cy:s,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},pOe=function(t,n){return t?t===!0?W.createElement(Wr,{key:"label-implicit",viewBox:n}):$r(t)?W.createElement(Wr,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===Wr?w.cloneElement(t,{key:"label-implicit",viewBox:n}):W.createElement(Wr,{key:"label-implicit",content:t,viewBox:n}):bt(t)?W.createElement(Wr,{key:"label-implicit",content:t,viewBox:n}):sm(t)?W.createElement(Wr,Ig({viewBox:n},t,{key:"label-implicit"})):null:null},gOe=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var i=t.children,a=Y7(t),o=Ci(i,Wr).map(function(c,u){return w.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!s)return o;var l=pOe(t.label,n||a);return[l].concat(ZTe(o))};Wr.parseViewBox=Y7;Wr.renderCallByParent=gOe;function vOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xOe=vOe;const yOe=vn(xOe);function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}var jOe=["valueAccessor"],bOe=["data","dataKey","clockWise","id","textBreakAll"];function wOe(e){return _Oe(e)||COe(e)||SOe(e)||NOe()}function NOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SOe(e,t){if(e){if(typeof e=="string")return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}}function COe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Oe(e){if(Array.isArray(e))return $_(e)}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xj.apply(this,arguments)}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function uR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(s){POe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function POe(e,t,n){return t=AOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AOe(e){var t=EOe(e,"string");return $g(t)=="symbol"?t:t+""}function EOe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dR(e,t){if(e==null)return{};var n=kOe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kOe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var TOe=function(t){return Array.isArray(t.value)?yOe(t.value):t.value};function po(e){var t=e.valueAccessor,n=t===void 0?TOe:t,s=dR(e,jOe),i=s.data,a=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=dR(s,bOe);return!i||!i.length?null:W.createElement(Xt,{className:"recharts-label-list"},i.map(function(d,f){var m=Et(a)?n(d,f):gr(d&&d.payload,a),g=Et(l)?{}:{id:"".concat(l,"-").concat(f)};return W.createElement(Wr,xj({},ct(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Wr.parseViewBox(Et(o)?d:uR(uR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}po.displayName="LabelList";function OOe(e,t){return e?e===!0?W.createElement(po,{key:"labelList-implicit",data:t}):W.isValidElement(e)||bt(e)?W.createElement(po,{key:"labelList-implicit",data:t,content:e}):sm(e)?W.createElement(po,xj({data:t},e,{key:"labelList-implicit"})):null:null}function DOe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=Ci(s,po).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=OOe(e.label,t);return[a].concat(wOe(i))}po.renderCallByParent=DOe;function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R_.apply(this,arguments)}function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(s){MOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function MOe(e,t,n){return t=IOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IOe(e){var t=$Oe(e,"string");return Rg(t)=="symbol"?t:t+""}function $Oe(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ROe=function(t,n){var s=Os(n-t),i=Math.min(Math.abs(n-t),359.999);return s*i},Sy=function(t){var n=t.cx,s=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/vj,m=u?a:a+o*f,g=$n(n,s,d,m),x=$n(n,s,i,m),v=u?a-o*f:a,y=$n(n,s,d*Math.cos(f*vj),v);return{center:g,circleTangency:x,lineTangency:y,theta:f}},Q7=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=ROe(o,l),u=o+c,d=$n(n,s,a,o),f=$n(n,s,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=$n(n,s,i,o),x=$n(n,s,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(s," Z");return m},LOe=function(t){var n=t.cx,s=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Os(d-u),m=Sy({cx:n,cy:s,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,v=m.theta,y=Sy({cx:n,cy:s,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,j=y.lineTangency,b=y.theta,C=c?Math.abs(u-d):Math.abs(u-d)-v-b;if(C<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Q7({cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var _="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var A=Sy({cx:n,cy:s,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=A.circleTangency,E=A.lineTangency,D=A.theta,I=Sy({cx:n,cy:s,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=I.circleTangency,O=I.lineTangency,U=I.theta,B=c?Math.abs(u-d):Math.abs(u-d)-D-U;if(B<0&&o===0)return"".concat(_,"L").concat(n,",").concat(s,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(n,",").concat(s,"Z");return _},FOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X7=function(t){var n=fR(fR({},FOe),t),s=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<a||d===f)return null;var g=Ot("recharts-sector",m),x=o-a,v=Ds(l,x,0,!0),y;return v>0&&Math.abs(d-f)<360?y=LOe({cx:s,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=Q7({cx:s,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),W.createElement("path",R_({},ct(n,!0),{className:g,d:y,role:"img"}))};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},L_.apply(this,arguments)}function mR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function pR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(n),!0).forEach(function(s){BOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BOe(e,t,n){return t=zOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zOe(e){var t=VOe(e,"string");return Lg(t)=="symbol"?t:t+""}function VOe(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gR={curveBasisClosed:B0e,curveBasisOpen:z0e,curveBasis:F0e,curveBumpX:C0e,curveBumpY:_0e,curveLinearClosed:V0e,curveLinear:lw,curveMonotoneX:U0e,curveMonotoneY:q0e,curveNatural:W0e,curveStep:H0e,curveStepAfter:K0e,curveStepBefore:G0e},Cy=function(t){return t.x===+t.x&&t.y===+t.y},ap=function(t){return t.x},op=function(t){return t.y},UOe=function(t,n){if(bt(t))return t;var s="curve".concat(aw(t));return(s==="curveMonotone"||s==="curveBump")&&n?gR["".concat(s).concat(n==="vertical"?"Y":"X")]:gR[s]||lw},qOe=function(t){var n=t.type,s=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=UOe(s,l),f=u?a.filter(function(v){return Cy(v)}):a,m;if(Array.isArray(o)){var g=u?o.filter(function(v){return Cy(v)}):o,x=f.map(function(v,y){return pR(pR({},v),{},{base:g[y]})});return l==="vertical"?m=py().y(op).x1(ap).x0(function(v){return v.base.x}):m=py().x(ap).y1(op).y0(function(v){return v.base.y}),m.defined(Cy).curve(d),m(x)}return l==="vertical"&&Ve(o)?m=py().y(op).x1(ap).x0(o):Ve(o)?m=py().x(ap).y1(op).y0(o):m=WU().x(ap).y(op),m.defined(Cy).curve(d),m(f)},Bu=function(t){var n=t.className,s=t.points,i=t.path,a=t.pathRef;if((!s||!s.length)&&!i)return null;var o=s&&s.length?qOe(t):i;return w.createElement("path",L_({},ct(t,!1),V0(t),{className:Ot("recharts-curve",n),d:o,ref:a}))},J7={exports:{}},WOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HOe=WOe,GOe=HOe;function Z7(){}function eW(){}eW.resetWarningCache=Z7;var KOe=function(){function e(s,i,a,o,l,c){if(c!==GOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eW,resetWarningCache:Z7};return n.PropTypes=n,n};J7.exports=KOe();var YOe=J7.exports;const pn=vn(YOe);var QOe=Object.getOwnPropertyNames,XOe=Object.getOwnPropertySymbols,JOe=Object.prototype.hasOwnProperty;function vR(e,t){return function(s,i,a){return e(s,i,a)&&t(s,i,a)}}function _y(e){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,i);var a=i.cache,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);var c=e(n,s,i);return a.delete(n),a.delete(s),c}}function xR(e){return QOe(e).concat(XOe(e))}var ZOe=Object.hasOwn||function(e,t){return JOe.call(e,t)};function bd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var eDe="__v",tDe="__o",nDe="_owner",yR=Object.getOwnPropertyDescriptor,jR=Object.keys;function rDe(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function sDe(e,t){return bd(e.getTime(),t.getTime())}function iDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function aDe(e,t){return e===t}function bR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,g=l.value;if(n.equals(m[0],g[0],c,f,e,t,n)&&n.equals(m[1],g[1],m[0],g[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var oDe=bd;function lDe(e,t,n){var s=jR(e),i=s.length;if(jR(t).length!==i)return!1;for(;i-- >0;)if(!tW(e,t,n,s[i]))return!1;return!0}function lp(e,t,n){var s=xR(e),i=s.length;if(xR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=s[i],!tW(e,t,n,a)||(o=yR(e,a),l=yR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function cDe(e,t){return bd(e.valueOf(),t.valueOf())}function uDe(e,t){return e.source===t.source&&e.flags===t.flags}function wR(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var i=new Array(s),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function dDe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function hDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tW(e,t,n,s){return(s===nDe||s===tDe||s===eDe)&&(e.$$typeof||t.$$typeof)?!0:ZOe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var fDe="[object Arguments]",mDe="[object Boolean]",pDe="[object Date]",gDe="[object Error]",vDe="[object Map]",xDe="[object Number]",yDe="[object Object]",jDe="[object RegExp]",bDe="[object Set]",wDe="[object String]",NDe="[object URL]",SDe=Array.isArray,NR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SR=Object.assign,CDe=Object.prototype.toString.call.bind(Object.prototype.toString);function _De(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var N=typeof x;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?o(x,v,y):N==="function"?i(x,v,y):!1;var j=x.constructor;if(j!==v.constructor)return!1;if(j===Object)return l(x,v,y);if(SDe(x))return t(x,v,y);if(NR!=null&&NR(x))return f(x,v,y);if(j===Date)return n(x,v,y);if(j===RegExp)return u(x,v,y);if(j===Map)return a(x,v,y);if(j===Set)return d(x,v,y);var b=CDe(x);return b===pDe?n(x,v,y):b===jDe?u(x,v,y):b===vDe?a(x,v,y):b===bDe?d(x,v,y):b===yDe?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):b===NDe?m(x,v,y):b===gDe?s(x,v,y):b===fDe?l(x,v,y):b===mDe||b===xDe||b===wDe?c(x,v,y):!1}}function PDe(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,i={areArraysEqual:s?lp:rDe,areDatesEqual:sDe,areErrorsEqual:iDe,areFunctionsEqual:aDe,areMapsEqual:s?vR(bR,lp):bR,areNumbersEqual:oDe,areObjectsEqual:s?lp:lDe,arePrimitiveWrappersEqual:cDe,areRegExpsEqual:uDe,areSetsEqual:s?vR(wR,lp):wR,areTypedArraysEqual:s?lp:dDe,areUrlsEqual:hDe};if(n&&(i=SR({},i,n(i))),t){var a=_y(i.areArraysEqual),o=_y(i.areMapsEqual),l=_y(i.areObjectsEqual),c=_y(i.areSetsEqual);i=SR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function ADe(e){return function(t,n,s,i,a,o,l){return e(t,n,l)}}function EDe(e){var t=e.circular,n=e.comparator,s=e.createState,i=e.equals,a=e.strict;if(s)return function(c,u){var d=s(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return n(c,u,{cache:m,equals:i,meta:g,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var kDe=Gc();Gc({strict:!0});Gc({circular:!0});Gc({circular:!0,strict:!0});Gc({createInternalComparator:function(){return bd}});Gc({strict:!0,createInternalComparator:function(){return bd}});Gc({circular:!0,createInternalComparator:function(){return bd}});Gc({circular:!0,createInternalComparator:function(){return bd},strict:!0});function Gc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=PDe(e),c=_De(l),u=s?s(c):ADe(c);return EDe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function TDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function CR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):TDe(i)};requestAnimationFrame(s)}function F_(e){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F_(e)}function ODe(e){return $De(e)||IDe(e)||MDe(e)||DDe()}function DDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MDe(e,t){if(e){if(typeof e=="string")return _R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _R(e,t)}}function _R(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function IDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $De(e){if(Array.isArray(e))return e}function RDe(){var e={},t=function(){return null},n=!1,s=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=ODe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){CR(i.bind(null,u),c);return}i(c),CR(i.bind(null,u));return}F_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,s(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function AR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(n),!0).forEach(function(s){nW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nW(e,t,n){return t=LDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LDe(e){var t=FDe(e,"string");return Fg(t)==="symbol"?t:String(t)}function FDe(e,t){if(Fg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Fg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BDe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,i){return s.filter(function(a){return i.includes(a)})})},zDe=function(t){return t},VDe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lp=function(t,n){return Object.keys(n).reduce(function(s,i){return AR(AR({},s),{},nW({},i,t(i,n[i])))},{})},ER=function(t,n,s){return t.map(function(i){return"".concat(VDe(i)," ").concat(n,"ms ").concat(s)}).join(",")};function UDe(e,t){return HDe(e)||WDe(e,t)||rW(e,t)||qDe()}function qDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function HDe(e){if(Array.isArray(e))return e}function GDe(e){return QDe(e)||YDe(e)||rW(e)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(e,t){if(e){if(typeof e=="string")return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}}function YDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QDe(e){if(Array.isArray(e))return B_(e)}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var yj=1e-4,sW=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},iW=function(t,n){return t.map(function(s,i){return s*Math.pow(n,i)}).reduce(function(s,i){return s+i})},kR=function(t,n){return function(s){var i=sW(t,n);return iW(i,s)}},XDe=function(t,n){return function(s){var i=sW(t,n),a=[].concat(GDe(i.map(function(o,l){return o*l}).slice(1)),[0]);return iW(a,s)}},TR=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=UDe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=kR(i,o),m=kR(a,l),g=XDe(i,o),x=function(N){return N>1?1:N<0?0:N},v=function(N){for(var j=N>1?1:N,b=j,C=0;C<8;++C){var _=f(b)-j,A=g(b);if(Math.abs(_-j)<yj||A<yj)return m(b);b=x(b-_/A)}return m(b)};return v.isStepper=!1,v},JDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var g=-(d-f)*s,x=m*a,v=m+(g-x)*l/1e3,y=m*l/1e3+d;return Math.abs(y-f)<yj&&Math.abs(v)<yj?[f,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},ZDe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TR(i);case"spring":return JDe();default:if(i.split("(")[0]==="cubic-bezier")return TR(i)}return typeof i=="function"?i:null};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function OR(e){return nMe(e)||tMe(e)||aW(e)||eMe()}function eMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nMe(e){if(Array.isArray(e))return V_(e)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(s){z_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function z_(e,t,n){return t=rMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rMe(e){var t=sMe(e,"string");return Bg(t)==="symbol"?t:String(t)}function sMe(e,t){if(Bg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Bg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iMe(e,t){return lMe(e)||oMe(e,t)||aW(e,t)||aMe()}function aMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aW(e,t){if(e){if(typeof e=="string")return V_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function oMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lMe(e){if(Array.isArray(e))return e}var jj=function(t,n,s){return t+(n-t)*s},U_=function(t){var n=t.from,s=t.to;return n!==s},cMe=function e(t,n,s){var i=Lp(function(a,o){if(U_(o)){var l=t(o.from,o.to,o.velocity),c=iMe(l,2),u=c[0],d=c[1];return ts(ts({},o),{},{from:u,velocity:d})}return o},n);return s<1?Lp(function(a,o){return U_(o)?ts(ts({},o),{},{velocity:jj(o.velocity,i[a].velocity,s),from:jj(o.from,i[a].from,s)}):o},n):e(t,i,s-1)};const uMe=function(e,t,n,s,i){var a=BDe(e,t),o=a.reduce(function(y,N){return ts(ts({},y),{},z_({},N,[e[N],t[N]]))},{}),l=a.reduce(function(y,N){return ts(ts({},y),{},z_({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Lp(function(N,j){return j.from},l)},g=function(){return!Object.values(l).filter(U_).length},x=function(N){u||(u=N);var j=N-u,b=j/n.dt;l=cMe(n,l,b),i(ts(ts(ts({},e),t),m())),u=N,g()||(c=requestAnimationFrame(f))},v=function(N){d||(d=N);var j=(N-d)/s,b=Lp(function(_,A){return jj.apply(void 0,OR(A).concat([n(j)]))},o);if(i(ts(ts(ts({},e),t),b)),j<1)c=requestAnimationFrame(f);else{var C=Lp(function(_,A){return jj.apply(void 0,OR(A).concat([n(1)]))},o);i(ts(ts(ts({},e),t),C))}};return f=n.isStepper?x:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}var dMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hMe(e,t){if(e==null)return{};var n=fMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fMe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function VS(e){return vMe(e)||gMe(e)||pMe(e)||mMe()}function mMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(e,t){if(e){if(typeof e=="string")return q_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(e,t)}}function gMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vMe(e){if(Array.isArray(e))return q_(e)}function q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(s){jp(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jp(e,t,n){return t=oW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yMe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,oW(s.key),s)}}function jMe(e,t,n){return t&&yMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oW(e){var t=bMe(e,"string");return wf(t)==="symbol"?t:String(t)}function bMe(e,t){if(wf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},W_(e,t)}function NMe(e){var t=SMe();return function(){var s=bj(e),i;if(t){var a=bj(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return H_(this,i)}}function H_(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_(e)}function G_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bj(e){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bj(e)}var La=function(e){wMe(n,e);var t=NMe(n);function n(s,i){var a;xMe(this,n),a=t.call(this,s,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(G_(a)),a.changeStyle=a.changeStyle.bind(G_(a)),!l||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),H_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},H_(a);a.state={style:c?jp({},c,u):u}}else a.state={style:{}};return a}return jMe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var g={style:c?jp({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(g);return}if(!(kDe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?f:i.to;if(this.state&&m){var y={style:c?jp({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(y)}this.runAnimation(fa(fa({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,g=uMe(o,l,ZDe(u),c,this.changeStyle),x=function(){a.stopJSAnimation=g()};this.manager.start([m,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,g=function(v,y,N){if(N===0)return v;var j=y.duration,b=y.easing,C=b===void 0?"ease":b,_=y.style,A=y.properties,P=y.onAnimationEnd,E=N>0?o[N-1]:y,D=A||Object.keys(_);if(typeof C=="function"||C==="spring")return[].concat(VS(v),[a.runJSAnimation.bind(a,{from:E.style,to:_,duration:j,easing:C}),j]);var I=ER(D,j,C),k=fa(fa(fa({},E.style),_),{},{transition:I});return[].concat(VS(v),[k,j,P]).filter(zDe)};return this.manager.start([c].concat(VS(o.reduce(g,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=RDe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?jp({},l,c):c,y=ER(Object.keys(v),o,u);x.start([d,a,fa(fa({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=hMe(i,dMe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,N=x.className,j=w.cloneElement(g,fa(fa({},c),{},{style:fa(fa({},y),d),className:N}));return j};return u===1?f(w.Children.only(a)):W.createElement("div",null,w.Children.map(a,function(m){return f(m)}))}}]),n}(w.PureComponent);La.displayName="Animate";La.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};La.propTypes={from:pn.oneOfType([pn.object,pn.string]),to:pn.oneOfType([pn.object,pn.string]),attributeName:pn.string,duration:pn.number,begin:pn.number,easing:pn.oneOfType([pn.string,pn.func]),steps:pn.arrayOf(pn.shape({duration:pn.number.isRequired,style:pn.object.isRequired,easing:pn.oneOfType([pn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pn.func]),properties:pn.arrayOf("string"),onAnimationEnd:pn.func})),children:pn.oneOfType([pn.node,pn.func]),isActive:pn.bool,canBegin:pn.bool,onAnimationEnd:pn.func,shouldReAnimate:pn.bool,onAnimationStart:pn.func,onAnimationReStart:pn.func};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wj.apply(this,arguments)}function CMe(e,t){return EMe(e)||AMe(e,t)||PMe(e,t)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PMe(e,t){if(e){if(typeof e=="string")return IR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IR(e,t)}}function IR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function AMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function EMe(e){if(Array.isArray(e))return e}function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(s){kMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kMe(e,t,n){return t=TMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TMe(e){var t=OMe(e,"string");return zg(t)=="symbol"?t:t+""}function OMe(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(zg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LR=function(t,n,s,i,a){var o=Math.min(Math.abs(s)/2,Math.abs(i)/2),l=i>=0?1:-1,c=s>=0?1:-1,u=i>=0&&s>=0||i<0&&s<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=a[m]>o?o:a[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+s-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*f[1])),d+="L ".concat(t+s,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+s-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s-c*x,",").concat(n+i,`
            L `).concat(t+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*x," Z")}else d="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(i," h ").concat(-s," Z");return d},DMe=function(t,n){if(!t||!n)return!1;var s=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=u&&s<=d&&i>=f&&i<=m}return!1},MMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_k=function(t){var n=RR(RR({},MMe),t),s=w.useRef(),i=w.useState(-1),a=CMe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var C=s.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ot("recharts-rectangle",g);return j?W.createElement(La,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:x,isActive:j},function(C){var _=C.width,A=C.height,P=C.x,E=C.y;return W.createElement(La,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:N,easing:x},W.createElement("path",wj({},ct(n,!0),{className:b,d:LR(P,E,_,A,m),ref:s})))}):W.createElement("path",wj({},ct(n,!0),{className:b,d:LR(c,u,d,f,m)}))},IMe=["points","className","baseLinePoints","connectNulls"];function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yh.apply(this,arguments)}function $Me(e,t){if(e==null)return{};var n=RMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function RMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function FR(e){return zMe(e)||BMe(e)||FMe(e)||LMe()}function LMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FMe(e,t){if(e){if(typeof e=="string")return K_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(e,t)}}function BMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zMe(e){if(Array.isArray(e))return K_(e)}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var BR=function(t){return t&&t.x===+t.x&&t.y===+t.y},VMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){BR(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),BR(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Fp=function(t,n){var s=VMe(t);n&&(s=[s.reduce(function(a,o){return[].concat(FR(a),FR(o))},[])]);var i=s.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(i,"Z"):i},UMe=function(t,n,s){var i=Fp(t,s);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Fp(n.reverse(),s).slice(1))},qMe=function(t){var n=t.points,s=t.className,i=t.baseLinePoints,a=t.connectNulls,o=$Me(t,IMe);if(!n||!n.length)return null;var l=Ot("recharts-polygon",s);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=UMe(n,i,a);return W.createElement("g",{className:l},W.createElement("path",yh({},ct(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?W.createElement("path",yh({},ct(o,!0),{fill:"none",d:Fp(n,a)})):null,c?W.createElement("path",yh({},ct(o,!0),{fill:"none",d:Fp(i,a)})):null)}var d=Fp(n,a);return W.createElement("path",yh({},ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y_.apply(this,arguments)}var Ov=function(t){var n=t.cx,s=t.cy,i=t.r,a=t.className,o=Ot("recharts-dot",a);return n===+n&&s===+s&&i===+i?w.createElement("circle",Y_({},ct(t,!1),V0(t),{className:o,cx:n,cy:s,r:i})):null};function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}var WMe=["x","y","top","left","width","height","className"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q_.apply(this,arguments)}function zR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function HMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(n),!0).forEach(function(s){GMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function GMe(e,t,n){return t=KMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KMe(e){var t=YMe(e,"string");return Vg(t)=="symbol"?t:t+""}function YMe(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QMe(e,t){if(e==null)return{};var n=XMe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function XMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var JMe=function(t,n,s,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(s)},ZMe=function(t){var n=t.x,s=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,g=m===void 0?0:m,x=t.className,v=QMe(t,WMe),y=HMe({x:s,y:a,top:l,left:u,width:f,height:g},v);return!Ve(s)||!Ve(a)||!Ve(f)||!Ve(g)||!Ve(l)||!Ve(u)?null:W.createElement("path",Q_({},ct(y,!0),{className:Ot("recharts-cross",x),d:JMe(s,a,f,g,l,u)}))},eIe=yw,tIe=y7,nIe=So;function rIe(e,t){return e&&e.length?eIe(e,nIe(t),tIe):void 0}var sIe=rIe;const iIe=vn(sIe);var aIe=yw,oIe=So,lIe=j7;function cIe(e,t){return e&&e.length?aIe(e,oIe(t),lIe):void 0}var uIe=cIe;const dIe=vn(uIe);var hIe=["cx","cy","angle","ticks","axisLine"],fIe=["ticks","tick","angle","tickFormatter","stroke"];function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bp.apply(this,arguments)}function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(s){Nw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function UR(e,t){if(e==null)return{};var n=mIe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function pIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,cW(s.key),s)}}function gIe(e,t,n){return t&&qR(e.prototype,t),n&&qR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vIe(e,t,n){return t=Nj(t),xIe(e,lW()?Reflect.construct(t,n||[],Nj(e).constructor):t.apply(e,n))}function xIe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yIe(e)}function yIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lW=function(){return!!e})()}function Nj(e){return Nj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nj(e)}function jIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},X_(e,t)}function Nw(e,t,n){return t=cW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=bIe(e,"string");return Nf(t)=="symbol"?t:t+""}function bIe(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Nf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sw=function(e){function t(){return pIe(this,t),vIe(this,t,arguments)}return jIe(t,e),gIe(t,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return $n(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=iIe(l,function(d){return d.coordinate||0}),u=dIe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=UR(s,hIe),d=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),f=$n(i,a,d[0],o),m=$n(i,a,d[1],o),g=au(au(au({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return W.createElement("line",Bp({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=UR(i,fIe),f=this.getTickTextAnchor(),m=ct(d,!1),g=ct(o,!1),x=a.map(function(v,y){var N=s.getTickValueCoord(v),j=au(au(au(au({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:y},N),{},{payload:v});return W.createElement(Xt,Bp({className:Ot("recharts-polar-radius-axis-tick",K7(o)),key:"tick-".concat(v.coordinate)},td(s.props,v,y)),t.renderTickItem(o,j,c?c(v.value,y):v.value))});return W.createElement(Xt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.axisLine,o=s.tick;return!i||!i.length?null:W.createElement(Xt,{className:Ot("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Wr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,a){var o;return W.isValidElement(s)?o=W.cloneElement(s,i):bt(s)?o=s(i):o=W.createElement(nd,Bp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);Nw(Sw,"displayName","PolarRadiusAxis");Nw(Sw,"axisType","radiusAxis");Nw(Sw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gu.apply(this,arguments)}function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(s){Cw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,dW(s.key),s)}}function NIe(e,t,n){return t&&HR(e.prototype,t),n&&HR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SIe(e,t,n){return t=Sj(t),CIe(e,uW()?Reflect.construct(t,n||[],Sj(e).constructor):t.apply(e,n))}function CIe(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ie(e)}function _Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!e})()}function Sj(e){return Sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sj(e)}function PIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},J_(e,t)}function Cw(e,t,n){return t=dW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=AIe(e,"string");return Sf(t)=="symbol"?t:t+""}function AIe(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Sf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EIe=Math.PI/180,GR=1e-5,_w=function(e){function t(){return wIe(this,t),SIe(this,t,arguments)}return PIe(t,e),NIe(t,[{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=$n(a,o,l,s.coordinate),m=$n(a,o,l+(c==="inner"?-1:1)*d,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,a=Math.cos(-s.coordinate*EIe),o;return a>GR?o=i==="outer"?"start":"end":a<-GR?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,a=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=ou(ou({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return W.createElement(Ov,gu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(m){return $n(i,a,o,m.coordinate)});return W.createElement(qMe,gu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ct(this.props,!1),f=ct(o,!1),m=ou(ou({},d),{},{fill:"none"},ct(l,!1)),g=a.map(function(x,v){var y=s.getTickLineCoord(x),N=s.getTickTextAnchor(x),j=ou(ou(ou({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:x,x:y.x2,y:y.y2});return W.createElement(Xt,gu({className:Ot("recharts-polar-angle-axis-tick",K7(o)),key:"tick-".concat(x.coordinate)},td(s.props,x,v)),l&&W.createElement("line",gu({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,j,c?c(x.value,v):x.value))});return W.createElement(Xt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,i=s.ticks,a=s.radius,o=s.axisLine;return a<=0||!i||!i.length?null:W.createElement(Xt,{className:Ot("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,a){var o;return W.isValidElement(s)?o=W.cloneElement(s,i):bt(s)?o=s(i):o=W.createElement(nd,gu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);Cw(_w,"displayName","PolarAngleAxis");Cw(_w,"axisType","angleAxis");Cw(_w,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kIe=pq,TIe=kIe(Object.getPrototypeOf,Object),OIe=TIe,DIe=xl,MIe=OIe,IIe=yl,$Ie="[object Object]",RIe=Function.prototype,LIe=Object.prototype,hW=RIe.toString,FIe=LIe.hasOwnProperty,BIe=hW.call(Object);function zIe(e){if(!IIe(e)||DIe(e)!=$Ie)return!1;var t=MIe(e);if(t===null)return!0;var n=FIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&hW.call(n)==BIe}var VIe=zIe;const UIe=vn(VIe);var qIe=xl,WIe=yl,HIe="[object Boolean]";function GIe(e){return e===!0||e===!1||WIe(e)&&qIe(e)==HIe}var KIe=GIe;const YIe=vn(KIe);function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cj.apply(this,arguments)}function QIe(e,t){return e4e(e)||ZIe(e,t)||JIe(e,t)||XIe()}function XIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JIe(e,t){if(e){if(typeof e=="string")return KR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KR(e,t)}}function KR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ZIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function e4e(e){if(Array.isArray(e))return e}function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function QR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(s){t4e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function t4e(e,t,n){return t=n4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n4e(e){var t=r4e(e,"string");return Ug(t)=="symbol"?t:t+""}function r4e(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XR=function(t,n,s,i,a){var o=s-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+a),l+="L ".concat(t+s-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},s4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i4e=function(t){var n=QR(QR({},s4e),t),s=w.useRef(),i=w.useState(-1),a=QIe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=Ot("recharts-trapezoid",g);return N?W.createElement(La,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:x,isActive:N},function(b){var C=b.upperWidth,_=b.lowerWidth,A=b.height,P=b.x,E=b.y;return W.createElement(La,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},W.createElement("path",Cj({},ct(n,!0),{className:j,d:XR(P,E,C,_,A),ref:s})))}):W.createElement("g",null,W.createElement("path",Cj({},ct(n,!0),{className:j,d:XR(c,u,d,f,m)})))},a4e=["option","shapeType","propTransformer","activeClassName","isActive"];function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function o4e(e,t){if(e==null)return{};var n=l4e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function l4e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(s){c4e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function c4e(e,t,n){return t=u4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u4e(e){var t=d4e(e,"string");return qg(t)=="symbol"?t:t+""}function d4e(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h4e(e,t){return _j(_j({},t),e)}function f4e(e,t){return e==="symbols"}function ZR(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return W.createElement(_k,n);case"trapezoid":return W.createElement(i4e,n);case"sector":return W.createElement(X7,n);case"symbols":if(f4e(t))return W.createElement(WE,n);break;default:return null}}function m4e(e){return w.isValidElement(e)?e.props:e}function fW(e){var t=e.option,n=e.shapeType,s=e.propTransformer,i=s===void 0?h4e:s,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=o4e(e,a4e),u;if(w.isValidElement(t))u=w.cloneElement(t,_j(_j({},c),m4e(t)));else if(bt(t))u=t(c);else if(UIe(t)&&!YIe(t)){var d=i(t,c);u=W.createElement(ZR,{shapeType:n,elementProps:d})}else{var f=c;u=W.createElement(ZR,{shapeType:n,elementProps:f})}return l?W.createElement(Xt,{className:o},u):u}function Pw(e,t){return t!=null&&"trapezoids"in e.props}function Aw(e,t){return t!=null&&"sectors"in e.props}function Wg(e,t){return t!=null&&"points"in e.props}function p4e(e,t){var n,s,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return i&&a}function g4e(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function v4e(e,t){var n=e.x===t.x,s=e.y===t.y,i=e.z===t.z;return n&&s&&i}function x4e(e,t){var n;return Pw(e,t)?n=p4e:Aw(e,t)?n=g4e:Wg(e,t)&&(n=v4e),n}function y4e(e,t){var n;return Pw(e,t)?n="trapezoids":Aw(e,t)?n="sectors":Wg(e,t)&&(n="points"),n}function j4e(e,t){if(Pw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Aw(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Wg(e,t)?t.payload:{}}function b4e(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,i=y4e(n,t),a=j4e(n,t),o=s.filter(function(c,u){var d=rd(a,c),f=n.props[i].filter(function(x){var v=x4e(n,t);return v(x,t)}),m=n.props[i].indexOf(f[f.length-1]),g=u===m;return d&&g}),l=s.indexOf(o[o.length-1]);return l}var Ky;function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jh.apply(this,arguments)}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(s){Wi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function w4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pW(s.key),s)}}function N4e(e,t,n){return t&&t3(e.prototype,t),n&&t3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S4e(e,t,n){return t=Pj(t),C4e(e,mW()?Reflect.construct(t,n||[],Pj(e).constructor):t.apply(e,n))}function C4e(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _4e(e)}function _4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mW=function(){return!!e})()}function Pj(e){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pj(e)}function P4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Z_(e,t)}function Wi(e,t,n){return t=pW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=A4e(e,"string");return Cf(t)=="symbol"?t:t+""}function A4e(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qa=function(e){function t(n){var s;return w4e(this,t),s=S4e(this,t,[n]),Wi(s,"pieRef",null),Wi(s,"sectorRefs",[]),Wi(s,"id",xd("recharts-pie-")),Wi(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),bt(i)&&i()}),Wi(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),bt(i)&&i()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return P4e(t,e),N4e(t,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ct(this.props,!1),f=ct(o,!1),m=ct(l,!1),g=o&&o.offsetRadius||20,x=s.map(function(v,y){var N=(v.startAngle+v.endAngle)/2,j=$n(v.cx,v.cy,v.outerRadius+g,N),b=Dn(Dn(Dn(Dn({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(j.x,v.cx)},j),C=Dn(Dn(Dn(Dn({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[$n(v.cx,v.cy,v.outerRadius,N),j]}),_=c;return Et(c)&&Et(u)?_="value":Et(c)&&(_=u),W.createElement(Xt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(o,b,gr(v,_)))});return W.createElement(Xt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return s.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,g=f?o:m,x=Dn(Dn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return W.createElement(Xt,jh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},td(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),W.createElement(fW,jh({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,g=f.prevIsAnimationActive;return W.createElement(La,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],N=a&&a[0],j=N.startAngle;return a.forEach(function(b,C){var _=m&&m[C],A=C>0?Si(b,"paddingAngle",0):0;if(_){var P=Mr(_.endAngle-_.startAngle,b.endAngle-b.startAngle),E=Dn(Dn({},b),{},{startAngle:j+A,endAngle:j+P(v)+A});y.push(E),j=E.endAngle}else{var D=b.endAngle,I=b.startAngle,k=Mr(0,D-I),O=k(v),U=Dn(Dn({},b),{},{startAngle:j+A,endAngle:j+O+A});y.push(U),j=U.endAngle}}),W.createElement(Xt,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,a=s.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!rd(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!Ve(u)||!Ve(d)||!Ve(f)||!Ve(m))return null;var v=Ot("recharts-pie",l);return W.createElement(Xt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){s.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Wr.renderCallByParent(this.props,null,!1),(!g||x)&&po.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i,a){if(W.isValidElement(s))return W.cloneElement(s,i);if(bt(s))return s(i);var o=Ot("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return W.createElement(Bu,jh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,i,a){if(W.isValidElement(s))return W.cloneElement(s,i);var o=a;if(bt(s)&&(o=s(i),W.isValidElement(o)))return o;var l=Ot("recharts-pie-label-text",typeof s!="boolean"&&!bt(s)?s.className:"");return W.createElement(nd,jh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);Ky=qa;Wi(qa,"displayName","Pie");Wi(qa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Oa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wi(qa,"parseDeltaAngle",function(e,t){var n=Os(t-e),s=Math.min(Math.abs(t-e),360);return n*s});Wi(qa,"getRealPieData",function(e){var t=e.data,n=e.children,s=ct(e,!1),i=Ci(n,hm);return t&&t.length?t.map(function(a,o){return Dn(Dn(Dn({payload:a},s),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Dn(Dn({},s),a.props)}):[]});Wi(qa,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,i=t.width,a=t.height,o=G7(i,a),l=s+Ds(e.cx,i,i/2),c=n+Ds(e.cy,a,a/2),u=Ds(e.innerRadius,o,0),d=Ds(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Wi(qa,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?Dn(Dn({},t.type.defaultProps),t.props):t.props,i=Ky.getRealPieData(s);if(!i||!i.length)return null;var a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,m=s.tooltipType,g=Math.abs(s.minAngle),x=Ky.parseCoordinateOfPie(s,n),v=Ky.parseDeltaAngle(o,l),y=Math.abs(v),N=u;Et(u)&&Et(f)?(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Et(u)&&(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var j=i.filter(function(E){return gr(E,N,0)!==0}).length,b=(y>=360?j:j-1)*c,C=y-j*g-b,_=i.reduce(function(E,D){var I=gr(D,N,0);return E+(Ve(I)?I:0)},0),A;if(_>0){var P;A=i.map(function(E,D){var I=gr(E,N,0),k=gr(E,d,D),O=(Ve(I)?I:0)/_,U;D?U=P.endAngle+Os(v)*c*(I!==0?1:0):U=o;var B=U+Os(v)*((I!==0?g:0)+O*C),ne=(U+B)/2,Y=(x.innerRadius+x.outerRadius)/2,J=[{name:k,value:I,payload:E,dataKey:N,type:m}],q=$n(x.cx,x.cy,Y,ne);return P=Dn(Dn(Dn({percent:O,cornerRadius:a,name:k,tooltipPayload:J,midAngle:ne,middleRadius:Y,tooltipPosition:q},E),x),{},{value:gr(E,N),startAngle:U,endAngle:B,payload:E,paddingAngle:Os(v)*c}),P})}return Dn(Dn({},x),{},{sectors:A,data:i})});var E4e=Math.ceil,k4e=Math.max;function T4e(e,t,n,s){for(var i=-1,a=k4e(E4e((t-e)/(n||1)),0),o=Array(a);a--;)o[s?a:++i]=e,e+=n;return o}var O4e=T4e,D4e=Mq,n3=1/0,M4e=17976931348623157e292;function I4e(e){if(!e)return e===0?e:0;if(e=D4e(e),e===n3||e===-n3){var t=e<0?-1:1;return t*M4e}return e===e?e:0}var gW=I4e,$4e=O4e,R4e=hw,US=gW;function L4e(e){return function(t,n,s){return s&&typeof s!="number"&&R4e(t,n,s)&&(n=s=void 0),t=US(t),n===void 0?(n=t,t=0):n=US(n),s=s===void 0?t<n?1:-1:US(s),$4e(t,n,s,e)}}var F4e=L4e,B4e=F4e,z4e=B4e(),V4e=z4e;const Aj=vn(V4e);function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function s3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(s){vW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vW(e,t,n){return t=U4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U4e(e){var t=q4e(e,"string");return Hg(t)=="symbol"?t:t+""}function q4e(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W4e=["Webkit","Moz","O","ms"],H4e=function(t,n){var s=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=W4e.reduce(function(a,o){return s3(s3({},a),{},vW({},o+s,n))},{});return i[t]=n,i};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ej.apply(this,arguments)}function i3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function qS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(n),!0).forEach(function(s){mi(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function G4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yW(s.key),s)}}function K4e(e,t,n){return t&&a3(e.prototype,t),n&&a3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y4e(e,t,n){return t=kj(t),Q4e(e,xW()?Reflect.construct(t,n||[],kj(e).constructor):t.apply(e,n))}function Q4e(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X4e(e)}function X4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xW=function(){return!!e})()}function kj(e){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kj(e)}function J4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},eP(e,t)}function mi(e,t,n){return t=yW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=Z4e(e,"string");return _f(t)=="symbol"?t:t+""}function Z4e(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e$e=function(t){var n=t.data,s=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=$p().domain(Aj(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(i),scale:u,scaleValues:d}},o3=function(t){return t.changedTouches&&!!t.changedTouches.length},Pf=function(e){function t(n){var s;return G4e(this,t),s=Y4e(this,t,[n]),mi(s,"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),mi(s,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),mi(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=s.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),s.detachDragEndListener()}),mi(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),mi(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),mi(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),mi(s,"handleSlideDragStart",function(i){var a=o3(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return J4e(t,e),K4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,a=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),m=Math.max(i,a),g=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(s){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=gr(a[s],l,s);return bt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,g=c.endIndex,x=c.onChange,v=s.pageX-a;v>0?v=Math.min(v,u+d-f-l,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==m||y.endIndex!==g)&&x&&x(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var a=o3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,v=d.gap,y=d.data,N={startX:this.state.startX,endX:this.state.endX},j=s.pageX-a;j>0?j=Math.min(j,f+m-g-u):j<0&&(j=Math.max(j,f-u)),N[o]=u+j;var b=this.getIndex(N),C=b.startIndex,_=b.endIndex,A=function(){var E=y.length-1;return o==="startX"&&(l>c?C%v===0:_%v===0)||l<c&&_===E||o==="endX"&&(l>c?_%v===0:C%v===0)||l>c&&_===E};this.setState(mi(mi({},o,u+j),"brushMoveStartX",s.pageX),function(){x&&A()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(s,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var g=l[m];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(mi({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return W.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.data,u=s.children,d=s.padding,f=w.Children.only(u);return f?W.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,N=Math.max(s,this.props.x),j=qS(qS({},ct(this.props,!1)),{},{x:N,y:u,width:d,height:f}),b=g||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return W.createElement(Xt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,j))}},{key:"renderSlide",value:function(s,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(s,i)+u,f=Math.max(Math.abs(i-s)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,a=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,d=this.state,f=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:u};return W.createElement(Xt,{className:"recharts-brush-texts"},W.createElement(nd,Ej({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:o+l/2},x),this.getTextOfTick(i)),W.createElement(nd,Ej({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+g,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var s=this.props,i=s.data,a=s.className,o=s.children,l=s.x,c=s.y,u=s.width,d=s.height,f=s.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,y=m.isSlideMoving,N=m.isTravellerMoving,j=m.isTravellerFocused;if(!i||!i.length||!Ve(l)||!Ve(c)||!Ve(u)||!Ve(d)||u<=0||d<=0)return null;var b=Ot("recharts-brush",a),C=W.Children.count(o)===1,_=H4e("userSelect","none");return W.createElement(Xt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||N||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,a=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(a+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var a;return W.isValidElement(s)?a=W.cloneElement(s,i):bt(s)?a=s(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(s,i){var a=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,d=s.startIndex,f=s.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return qS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?e$e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,i){for(var a=s.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>i?l=c:o=c}return i>=s[l]?l:o}}])}(w.PureComponent);mi(Pf,"displayName","Brush");mi(Pf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var t$e=JE;function n$e(e,t){var n;return t$e(e,function(s,i,a){return n=t(s,i,a),!n}),!!n}var r$e=n$e,s$e=oq,i$e=So,a$e=r$e,o$e=ii,l$e=hw;function c$e(e,t,n){var s=o$e(e)?s$e:a$e;return n&&l$e(e,t,n)&&(t=void 0),s(e,i$e(t))}var u$e=c$e;const d$e=vn(u$e);var go=function(t,n){var s=t.alwaysShow,i=t.ifOverflow;return s&&(i="extendDomain"),i===n},l3=Eq;function h$e(e,t,n){t=="__proto__"&&l3?l3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var f$e=h$e,m$e=f$e,p$e=Pq,g$e=So;function v$e(e,t){var n={};return t=g$e(t),p$e(e,function(s,i,a){m$e(n,i,t(s,i,a))}),n}var x$e=v$e;const y$e=vn(x$e);function j$e(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var b$e=j$e,w$e=JE;function N$e(e,t){var n=!0;return w$e(e,function(s,i,a){return n=!!t(s,i,a),n}),n}var S$e=N$e,C$e=b$e,_$e=S$e,P$e=So,A$e=ii,E$e=hw;function k$e(e,t,n){var s=A$e(e)?C$e:_$e;return n&&E$e(e,t,n)&&(t=void 0),s(e,P$e(t))}var T$e=k$e;const jW=vn(T$e);var O$e=["x","y"];function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function tP(){return tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tP.apply(this,arguments)}function c3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(n),!0).forEach(function(s){D$e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function D$e(e,t,n){return t=M$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M$e(e){var t=I$e(e,"string");return Gg(t)=="symbol"?t:t+""}function I$e(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $$e(e,t){if(e==null)return{};var n=R$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function R$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function L$e(e,t){var n=e.x,s=e.y,i=$$e(e,O$e),a="".concat(n),o=parseInt(a,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return cp(cp(cp(cp(cp({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function u3(e){return W.createElement(fW,tP({shapeType:"rectangle",propTransformer:L$e,activeClassName:"recharts-active-bar"},e))}var F$e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,i){if(typeof t=="number")return t;var a=Ve(s)||dye(s);return a?t(s,i):(a||id(),n)}},B$e=["value","background"],bW;function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function z$e(e,t){if(e==null)return{};var n=V$e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function V$e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tj.apply(this,arguments)}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(s){cc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function U$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,NW(s.key),s)}}function q$e(e,t,n){return t&&h3(e.prototype,t),n&&h3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W$e(e,t,n){return t=Oj(t),H$e(e,wW()?Reflect.construct(t,n||[],Oj(e).constructor):t.apply(e,n))}function H$e(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G$e(e)}function G$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wW=function(){return!!e})()}function Oj(e){return Oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oj(e)}function K$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nP(e,t)}function nP(e,t){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},nP(e,t)}function cc(e,t,n){return t=NW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=Y$e(e,"string");return Af(t)=="symbol"?t:t+""}function Y$e(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oo=function(e){function t(){var n;U$e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=W$e(this,t,[].concat(i)),cc(n,"state",{isAnimationFinished:!1}),cc(n,"id",xd("recharts-bar-")),cc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),cc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return K$e(t,e),q$e(t,[{key:"renderRectanglesStatically",value:function(s){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ct(this.props,!1);return s&&s.map(function(f,m){var g=m===c,x=g?u:o,v=yr(yr(yr({},d),f),{},{isActive:g,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(Xt,Tj({className:"recharts-bar-rectangle"},td(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),W.createElement(u3,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return W.createElement(La,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=a.map(function(y,N){var j=m&&m[N];if(j){var b=Mr(j.x,y.x),C=Mr(j.y,y.y),_=Mr(j.width,y.width),A=Mr(j.height,y.height);return yr(yr({},y),{},{x:b(x),y:C(x),width:_(x),height:A(x)})}if(o==="horizontal"){var P=Mr(0,y.height),E=P(x);return yr(yr({},y),{},{y:y.y+y.height-E,height:E})}var D=Mr(0,y.width),I=D(x);return yr(yr({},y),{},{width:I})});return W.createElement(Xt,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,a=s.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!rd(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=ct(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=z$e(u,B$e);if(!f)return null;var g=yr(yr(yr(yr(yr({},m),{},{fill:"#eee"},f),c),td(s.props,u,d)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(u3,Tj({key:"background-bar-".concat(d),option:s.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ci(d,Tv);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,N){var j=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:j,errorVal:gr(y,N)}},x={clipPath:s?"url(#clipPath-".concat(i,")"):null};return W.createElement(Xt,x,f.map(function(v){return W.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,a=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,d=s.top,f=s.width,m=s.height,g=s.isAnimationActive,x=s.background,v=s.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,N=Ot("recharts-bar",o),j=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,C=j||b,_=Et(v)?this.id:v;return W.createElement(Xt,{className:N},j||b?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(_)},W.createElement("rect",{x:j?u:u-f/2,y:b?d:d-m/2,width:j?f:f*2,height:b?m:m*2}))):null,W.createElement(Xt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(_,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,_),(!g||y)&&po.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}}])}(w.PureComponent);bW=oo;cc(oo,"displayName","Bar");cc(oo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Oa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cc(oo,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=ETe(s,n);if(!g)return null;var x=t.layout,v=n.type.defaultProps,y=v!==void 0?yr(yr({},v),n.props):n.props,N=y.dataKey,j=y.children,b=y.minPointSize,C=x==="horizontal"?o:a,_=u?C.scale.domain():null,A=$Te({numericAxis:C}),P=Ci(j,hm),E=f.map(function(D,I){var k,O,U,B,ne,Y;u?k=kTe(u[d+I],_):(k=gr(D,N),Array.isArray(k)||(k=[A,k]));var J=F$e(b,bW.defaultProps.minPointSize)(k[1],I);if(x==="horizontal"){var q,$=[o.scale(k[0]),o.scale(k[1])],le=$[0],se=$[1];O=tR({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:D,index:I}),U=(q=se??le)!==null&&q!==void 0?q:void 0,B=g.size;var re=le-se;if(ne=Number.isNaN(re)?0:re,Y={x:O,y:o.y,width:B,height:o.height},Math.abs(J)>0&&Math.abs(ne)<Math.abs(J)){var K=Os(ne||J)*(Math.abs(J)-Math.abs(ne));U-=K,ne+=K}}else{var ee=[a.scale(k[0]),a.scale(k[1])],ge=ee[0],xe=ee[1];if(O=ge,U=tR({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:D,index:I}),B=xe-ge,ne=g.size,Y={x:a.x,y:U,width:a.width,height:ne},Math.abs(J)>0&&Math.abs(B)<Math.abs(J)){var be=Os(B||J)*(Math.abs(J)-Math.abs(B));B+=be}}return yr(yr(yr({},D),{},{x:O,y:U,width:B,height:ne,value:u?k:k[1],payload:D,background:Y},P&&P[I]&&P[I].props),{},{tooltipPayload:[W7(n,D)],tooltipPosition:{x:O+B/2,y:U+ne/2}})});return yr({data:E,layout:x},m)});function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function Q$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,SW(s.key),s)}}function X$e(e,t,n){return t&&f3(e.prototype,t),n&&f3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(n),!0).forEach(function(s){Ew(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ew(e,t,n){return t=SW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SW(e){var t=J$e(e,"string");return Kg(t)=="symbol"?t:t+""}function J$e(e,t){if(Kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pk=function(t,n,s,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!gi(u,oo);return d.reduce(function(g,x){var v=n[x],y=v.orientation,N=v.domain,j=v.padding,b=j===void 0?{}:j,C=v.mirror,_=v.reversed,A="".concat(y).concat(C?"Mirror":""),P,E,D,I,k;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var O=N[1]-N[0],U=1/0,B=v.categoricalDomain.sort(mye);if(B.forEach(function(ee,ge){ge>0&&(U=Math.min((ee||0)-(B[ge-1]||0),U))}),Number.isFinite(U)){var ne=U/O,Y=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(P=ne*Y/2),v.padding==="no-gap"){var J=Ds(t.barCategoryGap,ne*Y),q=ne*Y/2;P=q-J-(q-J)/Y*J}}}i==="xAxis"?E=[s.left+(b.left||0)+(P||0),s.left+s.width-(b.right||0)-(P||0)]:i==="yAxis"?E=c==="horizontal"?[s.top+s.height-(b.bottom||0),s.top+(b.top||0)]:[s.top+(b.top||0)+(P||0),s.top+s.height-(b.bottom||0)-(P||0)]:E=v.range,_&&(E=[E[1],E[0]]);var $=z7(v,a,m),le=$.scale,se=$.realScaleType;le.domain(N).range(E),V7(le);var re=U7(le,ba(ba({},v),{},{realScaleType:se}));i==="xAxis"?(k=y==="top"&&!C||y==="bottom"&&C,D=s.left,I=f[A]-k*v.height):i==="yAxis"&&(k=y==="left"&&!C||y==="right"&&C,D=f[A]-k*v.width,I=s.top);var K=ba(ba(ba({},v),re),{},{realScaleType:se,x:D,y:I,scale:le,width:i==="xAxis"?s.width:v.width,height:i==="yAxis"?s.height:v.height});return K.bandSize=gj(K,re),!v.hide&&i==="xAxis"?f[A]+=(k?-1:1)*K.height:v.hide||(f[A]+=(k?-1:1)*K.width),ba(ba({},g),{},Ew({},x,K))},{})},CW=function(t,n){var s=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(s,a),y:Math.min(i,o),width:Math.abs(a-s),height:Math.abs(o-i)}},Z$e=function(t){var n=t.x1,s=t.y1,i=t.x2,a=t.y2;return CW({x:n,y:s},{x:i,y:a})},_W=function(){function e(t){Q$e(this,e),this.scale=t}return X$e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,a=s.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),i=s[0],a=s[s.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();Ew(_W,"EPS",1e-4);var Ak=function(t){var n=Object.keys(t).reduce(function(s,i){return ba(ba({},s),{},Ew({},i,_W.create(t[i])))},{});return ba(ba({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return y$e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return jW(i,function(a,o){return n[o].isInRange(a)})}})};function eRe(e){return(e%180+180)%180}var tRe=function(t){var n=t.width,s=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=eRe(i),o=a*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},nRe=So,rRe=_v,sRe=uw;function iRe(e){return function(t,n,s){var i=Object(t);if(!rRe(t)){var a=nRe(n);t=sRe(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,s);return o>-1?i[a?t[o]:o]:void 0}}var aRe=iRe,oRe=gW;function lRe(e){var t=oRe(e),n=t%1;return t===t?n?t-n:t:0}var cRe=lRe,uRe=bq,dRe=So,hRe=cRe,fRe=Math.max;function mRe(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var i=n==null?0:hRe(n);return i<0&&(i=fRe(s+i,0)),uRe(e,dRe(t),i)}var pRe=mRe,gRe=aRe,vRe=pRe,xRe=gRe(vRe),yRe=xRe;const jRe=vn(yRe);var bRe=pxe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ek=w.createContext(void 0),kk=w.createContext(void 0),PW=w.createContext(void 0),AW=w.createContext({}),EW=w.createContext(void 0),kW=w.createContext(0),TW=w.createContext(0),p3=function(t){var n=t.state,s=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=bRe(a);return W.createElement(Ek.Provider,{value:s},W.createElement(kk.Provider,{value:i},W.createElement(AW.Provider,{value:a},W.createElement(PW.Provider,{value:d},W.createElement(EW.Provider,{value:o},W.createElement(kW.Provider,{value:u},W.createElement(TW.Provider,{value:c},l)))))))},wRe=function(){return w.useContext(EW)},OW=function(t){var n=w.useContext(Ek);n==null&&id();var s=n[t];return s==null&&id(),s},NRe=function(){var t=w.useContext(Ek);return Kl(t)},SRe=function(){var t=w.useContext(kk),n=jRe(t,function(s){return jW(s.domain,Number.isFinite)});return n||Kl(t)},DW=function(t){var n=w.useContext(kk);n==null&&id();var s=n[t];return s==null&&id(),s},CRe=function(){var t=w.useContext(PW);return t},_Re=function(){return w.useContext(AW)},Tk=function(){return w.useContext(TW)},Ok=function(){return w.useContext(kW)};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function PRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ARe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,IW(s.key),s)}}function ERe(e,t,n){return t&&ARe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kRe(e,t,n){return t=Dj(t),TRe(e,MW()?Reflect.construct(t,n||[],Dj(e).constructor):t.apply(e,n))}function TRe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ORe(e)}function ORe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!e})()}function Dj(e){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dj(e)}function DRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rP(e,t)}function rP(e,t){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},rP(e,t)}function g3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function v3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(n),!0).forEach(function(s){Dk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Dk(e,t,n){return t=IW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=MRe(e,"string");return Ef(t)=="symbol"?t:t+""}function MRe(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IRe(e,t){return FRe(e)||LRe(e,t)||RRe(e,t)||$Re()}function $Re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRe(e,t){if(e){if(typeof e=="string")return x3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x3(e,t)}}function x3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function LRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function FRe(e){if(Array.isArray(e))return e}function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sP.apply(this,arguments)}var BRe=function(t,n){var s;return W.isValidElement(t)?s=W.cloneElement(t,n):bt(t)?s=t(n):s=W.createElement("line",sP({},n,{className:"recharts-reference-line-line"})),s},zRe=function(t,n,s,i,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,g=a.height;if(s){var x=u.y,v=t.y.apply(x,{position:o});if(go(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(n){var N=u.x,j=t.x.apply(N,{position:o});if(go(u,"discard")&&!t.x.isInRange(j))return null;var b=[{x:j,y:f+g},{x:j,y:f}];return l==="top"?b.reverse():b}if(i){var C=u.segment,_=C.map(function(A){return t.apply(A,{position:o})});return go(u,"discard")&&d$e(_,function(A){return!t.isInRange(A)})?null:_}return null};function VRe(e){var t=e.x,n=e.y,s=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=wRe(),d=OW(i),f=DW(a),m=CRe();if(!u||!m)return null;Ta(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Ak({x:d.scale,y:f.scale}),x=$r(t),v=$r(n),y=s&&s.length===2,N=zRe(g,x,v,y,m,e.position,d.orientation,f.orientation,e);if(!N)return null;var j=IRe(N,2),b=j[0],C=b.x,_=b.y,A=j[1],P=A.x,E=A.y,D=go(e,"hidden")?"url(#".concat(u,")"):void 0,I=v3(v3({clipPath:D},ct(e,!0)),{},{x1:C,y1:_,x2:P,y2:E});return W.createElement(Xt,{className:Ot("recharts-reference-line",l)},BRe(o,I),Wr.renderCallByParent(e,Z$e({x1:C,y1:_,x2:P,y2:E})))}var Mk=function(e){function t(){return PRe(this,t),kRe(this,t,arguments)}return DRe(t,e),ERe(t,[{key:"render",value:function(){return W.createElement(VRe,this.props)}}])}(W.Component);Dk(Mk,"displayName","ReferenceLine");Dk(Mk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iP.apply(this,arguments)}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function j3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(n),!0).forEach(function(s){kw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function URe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RW(s.key),s)}}function WRe(e,t,n){return t&&qRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HRe(e,t,n){return t=Mj(t),GRe(e,$W()?Reflect.construct(t,n||[],Mj(e).constructor):t.apply(e,n))}function GRe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(e)}function KRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function Mj(e){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mj(e)}function YRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aP(e,t)}function aP(e,t){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},aP(e,t)}function kw(e,t,n){return t=RW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=QRe(e,"string");return kf(t)=="symbol"?t:t+""}function QRe(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XRe=function(t){var n=t.x,s=t.y,i=t.xAxis,a=t.yAxis,o=Ak({x:i.scale,y:a.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return go(t,"discard")&&!o.isInRange(l)?null:l},Tw=function(e){function t(){return URe(this,t),HRe(this,t,arguments)}return YRe(t,e),WRe(t,[{key:"render",value:function(){var s=this.props,i=s.x,a=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=$r(i),d=$r(a);if(Ta(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=XRe(this.props);if(!f)return null;var m=f.x,g=f.y,x=this.props,v=x.shape,y=x.className,N=go(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=j3(j3({clipPath:N},ct(this.props,!0)),{},{cx:m,cy:g});return W.createElement(Xt,{className:Ot("recharts-reference-dot",y)},t.renderDot(v,j),Wr.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])}(W.Component);kw(Tw,"displayName","ReferenceDot");kw(Tw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kw(Tw,"renderDot",function(e,t){var n;return W.isValidElement(e)?n=W.cloneElement(e,t):bt(e)?n=e(t):n=W.createElement(Ov,iP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oP.apply(this,arguments)}function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function b3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function w3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(n),!0).forEach(function(s){Ow(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function JRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,FW(s.key),s)}}function e3e(e,t,n){return t&&ZRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t3e(e,t,n){return t=Ij(t),n3e(e,LW()?Reflect.construct(t,n||[],Ij(e).constructor):t.apply(e,n))}function n3e(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r3e(e)}function r3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!e})()}function Ij(e){return Ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ij(e)}function s3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lP(e,t)}function lP(e,t){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},lP(e,t)}function Ow(e,t,n){return t=FW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FW(e){var t=i3e(e,"string");return Tf(t)=="symbol"?t:t+""}function i3e(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Tf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a3e=function(t,n,s,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=Ak({x:d.scale,y:f.scale}),g={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return go(a,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:CW(g,x)},Dw=function(e){function t(){return JRe(this,t),t3e(this,t,arguments)}return s3e(t,e),e3e(t,[{key:"render",value:function(){var s=this.props,i=s.x1,a=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,d=s.clipPathId;Ta(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=$r(i),m=$r(a),g=$r(o),x=$r(l),v=this.props.shape;if(!f&&!m&&!g&&!x&&!v)return null;var y=a3e(f,m,g,x,this.props);if(!y&&!v)return null;var N=go(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(Xt,{className:Ot("recharts-reference-area",c)},t.renderRect(v,w3(w3({clipPath:N},ct(this.props,!0)),y)),Wr.renderCallByParent(this.props,y))}}])}(W.Component);Ow(Dw,"displayName","ReferenceArea");Ow(Dw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ow(Dw,"renderRect",function(e,t){var n;return W.isValidElement(e)?n=W.cloneElement(e,t):bt(e)?n=e(t):n=W.createElement(_k,oP({},t,{className:"recharts-reference-area-rect"})),n});function BW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],i=0;i<e.length;i+=t)s.push(e[i]);return s}function o3e(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return tRe(s,n)}function l3e(e,t,n){var s=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:s?i:a,end:s?i+o:a+l}:{start:s?i+o:a+l,end:s?i:a}}function $j(e,t,n,s,i){if(e*t<e*s||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-s)>=0&&e*(t+e*a/2-i)<=0}function c3e(e,t){return BW(e,t+1)}function u3e(e,t,n,s,i){for(var a=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:BW(s,u)};var v=c,y,N=function(){return y===void 0&&(y=n(x,v)),y},j=x.coordinate,b=c===0||$j(e,j,N,d,l);b||(c=0,d=o,u+=1),b&&(d=j+e*(N()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(n),!0).forEach(function(s){d3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function d3e(e,t,n){return t=h3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h3e(e){var t=f3e(e,"string");return Yg(t)=="symbol"?t:t+""}function f3e(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m3e(e,t,n,s,i){for(var a=(s||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(m){var g=a[m],x,v=function(){return x===void 0&&(x=n(g,m)),x};if(m===o-1){var y=e*(g.coordinate+e*v()/2-c);a[m]=g=ms(ms({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[m]=g=ms(ms({},g),{},{tickCoord:g.coordinate});var N=$j(e,g.tickCoord,v,l,c);N&&(c=g.tickCoord-e*(v()/2+i),a[m]=ms(ms({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function p3e(e,t,n,s,i,a){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=s[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=ms(ms({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var g=$j(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+i),o[l-1]=ms(ms({},d),{},{isShow:!0}))}for(var x=a?l-1:l,v=function(j){var b=o[j],C,_=function(){return C===void 0&&(C=n(b,j)),C};if(j===0){var A=e*(b.coordinate-e*_()/2-c);o[j]=b=ms(ms({},b),{},{tickCoord:A<0?b.coordinate-A*e:b.coordinate})}else o[j]=b=ms(ms({},b),{},{tickCoord:b.coordinate});var P=$j(e,b.tickCoord,_,c,u);P&&(c=b.tickCoord+e*(_()/2+i),o[j]=ms(ms({},b),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function Ik(e,t,n){var s=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!s)return[];if(Ve(c)||Oa.isSsr)return c3e(i,typeof c=="number"&&Ve(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?Ip(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,C){var _=bt(u)?u(b.value,C):b.value;return g==="width"?o3e(Ip(_,{fontSize:t,letterSpacing:n}),x,f):Ip(_,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Os(i[1].coordinate-i[0].coordinate):1,N=l3e(a,y,g);return c==="equidistantPreserveStart"?u3e(y,N,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=p3e(y,N,v,i,o,c==="preserveStartEnd"):m=m3e(y,N,v,i,o),m.filter(function(j){return j.isShow}))}var g3e=["viewBox"],v3e=["viewBox"],x3e=["ticks"];function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bh.apply(this,arguments)}function S3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(n),!0).forEach(function(s){$k(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function WS(e,t){if(e==null)return{};var n=y3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function y3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function j3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,VW(s.key),s)}}function b3e(e,t,n){return t&&C3(e.prototype,t),n&&C3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w3e(e,t,n){return t=Rj(t),N3e(e,zW()?Reflect.construct(t,n||[],Rj(e).constructor):t.apply(e,n))}function N3e(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S3e(e)}function S3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Rj(e){return Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rj(e)}function C3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cP(e,t)}function cP(e,t){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},cP(e,t)}function $k(e,t,n){return t=VW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=_3e(e,"string");return Of(t)=="symbol"?t:t+""}function _3e(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gm=function(e){function t(n){var s;return j3e(this,t),s=w3e(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return C3e(t,e),b3e(t,[{key:"shouldComponentUpdate",value:function(s,i){var a=s.viewBox,o=WS(s,g3e),l=this.props,c=l.viewBox,u=WS(l,v3e);return!Mh(a,c)||!Mh(o,u)||!Mh(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,g,x,v,y,N,j,b=f?-1:1,C=s.tickSize||d,_=Ve(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=x=s.coordinate,y=o+ +!f*c,v=y-b*C,j=v-b*m,N=_;break;case"left":v=y=s.coordinate,x=a+ +!f*l,g=x-b*C,N=g-b*m,j=_;break;case"right":v=y=s.coordinate,x=a+ +f*l,g=x+b*C,N=g+b*m,j=_;break;default:g=x=s.coordinate,y=o+ +f*c,v=y+b*C,j=v+b*m,N=_;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:N,y:j}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,a=s.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,a=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,d=s.axisLine,f=Pr(Pr(Pr({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Pr(Pr({},f),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=Pr(Pr({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return W.createElement("line",bh({},f,{className:Ot("recharts-cartesian-axis-line",Si(d,"className"))}))}},{key:"renderTicks",value:function(s,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,g=Ik(Pr(Pr({},this.props),{},{ticks:s}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=ct(this.props,!1),N=ct(d,!1),j=Pr(Pr({},y),{},{fill:"none"},ct(c,!1)),b=g.map(function(C,_){var A=o.getTickLineCoord(C),P=A.line,E=A.tick,D=Pr(Pr(Pr(Pr({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},N),E),{},{index:_,payload:C,visibleTicksCount:g.length,tickFormatter:f});return W.createElement(Xt,bh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},td(o.props,C,_)),c&&W.createElement("line",bh({},j,P,{className:Ot("recharts-cartesian-axis-tick-line",Si(c,"className"))})),d&&t.renderTickItem(d,D,"".concat(bt(f)?f(C.value,_):C.value).concat(m||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var s=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,g=WS(f,x3e),x=m;return bt(c)&&(x=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!x||!x.length?null:W.createElement(Xt,{className:Ot("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Wr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,a){var o,l=Ot(i.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(s)?o=W.cloneElement(s,Pr(Pr({},i),{},{className:l})):bt(s)?o=s(Pr(Pr({},i),{},{className:l})):o=W.createElement(nd,bh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);$k(gm,"displayName","CartesianAxis");$k(gm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var P3e=["x1","y1","x2","y2","key"],A3e=["offset"];function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(s){E3e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function E3e(e,t,n){return t=k3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k3e(e){var t=T3e(e,"string");return ad(t)=="symbol"?t:t+""}function T3e(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ad(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cu.apply(this,arguments)}function P3(e,t){if(e==null)return{};var n=O3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function O3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var D3e=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return W.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function UW(e,t){var n;if(W.isValidElement(e))n=W.cloneElement(e,t);else if(bt(e))n=e(t);else{var s=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=P3(t,P3e),u=ct(c,!1);u.offset;var d=P3(u,A3e);n=W.createElement("line",Cu({},d,{x1:s,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function M3e(e){var t=e.x,n=e.width,s=e.horizontal,i=s===void 0?!0:s,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=vs(vs({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return UW(i,u)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function I3e(e){var t=e.y,n=e.height,s=e.vertical,i=s===void 0?!0:s,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=vs(vs({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return UW(i,u)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $3e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?i+o-m:d[g+1]-m;if(v<=0)return null;var y=g%t.length;return W.createElement("rect",{key:"react-".concat(g),y:m,x:s,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function R3e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],v=x?a+l-m:d[g+1]-m;if(v<=0)return null;var y=g%s.length;return W.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:v,height:c,stroke:"none",fill:s[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var L3e=function(t,n){var s=t.xAxis,i=t.width,a=t.height,o=t.offset;return B7(Ik(vs(vs(vs({},gm.defaultProps),s),{},{ticks:Xo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},F3e=function(t,n){var s=t.yAxis,i=t.width,a=t.height,o=t.offset;return B7(Ik(vs(vs(vs({},gm.defaultProps),s),{},{ticks:Xo(s,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},eh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function od(e){var t,n,s,i,a,o,l=Tk(),c=Ok(),u=_Re(),d=vs(vs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:eh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:eh.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:eh.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:eh.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:eh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:eh.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),f=d.x,m=d.y,g=d.width,x=d.height,v=d.syncWithTicks,y=d.horizontalValues,N=d.verticalValues,j=NRe(),b=SRe();if(!Ve(g)||g<=0||!Ve(x)||x<=0||!Ve(f)||f!==+f||!Ve(m)||m!==+m)return null;var C=d.verticalCoordinatesGenerator||L3e,_=d.horizontalCoordinatesGenerator||F3e,A=d.horizontalPoints,P=d.verticalPoints;if((!A||!A.length)&&bt(_)){var E=y&&y.length,D=_({yAxis:b?vs(vs({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:v);Ta(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ad(D),"]")),Array.isArray(D)&&(A=D)}if((!P||!P.length)&&bt(C)){var I=N&&N.length,k=C({xAxis:j?vs(vs({},j),{},{ticks:I?N:j.ticks}):void 0,width:l,height:c,offset:u},I?!0:v);Ta(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ad(k),"]")),Array.isArray(k)&&(P=k)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(D3e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(M3e,Cu({},d,{offset:u,horizontalPoints:A,xAxis:j,yAxis:b})),W.createElement(I3e,Cu({},d,{offset:u,verticalPoints:P,xAxis:j,yAxis:b})),W.createElement($3e,Cu({},d,{horizontalPoints:A})),W.createElement(R3e,Cu({},d,{verticalPoints:P})))}od.displayName="CartesianGrid";var B3e=["type","layout","connectNulls","ref"],z3e=["key"];function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function A3(e,t){if(e==null)return{};var n=V3e(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function V3e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zp.apply(this,arguments)}function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(s){wa(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function th(e){return H3e(e)||W3e(e)||q3e(e)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q3e(e,t){if(e){if(typeof e=="string")return uP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uP(e,t)}}function W3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H3e(e){if(Array.isArray(e))return uP(e)}function uP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function G3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WW(s.key),s)}}function K3e(e,t,n){return t&&k3(e.prototype,t),n&&k3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y3e(e,t,n){return t=Lj(t),Q3e(e,qW()?Reflect.construct(t,n||[],Lj(e).constructor):t.apply(e,n))}function Q3e(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X3e(e)}function X3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lj(e)}function J3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dP(e,t)}function dP(e,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},dP(e,t)}function wa(e,t,n){return t=WW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=Z3e(e,"string");return Df(t)=="symbol"?t:t+""}function Z3e(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mf=function(e){function t(){var n;G3e(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=Y3e(this,t,[].concat(i)),wa(n,"state",{isAnimationFinished:!0,totalLength:0}),wa(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),wa(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,j){return N+j});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,g=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>f){g=[].concat(th(c.slice(0,x)),[f-v]);break}var y=g.length%2===0?[0,m]:[m];return[].concat(th(t.repeat(c,d)),th(g),y).map(function(N){return"".concat(N,"px")}).join(", ")}),wa(n,"id",xd("recharts-line-")),wa(n,"pathRef",function(o){n.mainCurve=o}),wa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),wa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return J3e(t,e),K3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ci(d,Tv);if(!f)return null;var m=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:gr(v.payload,y)}},g={clipPath:s?"url(#clipPath-".concat(i,")"):null};return W.createElement(Xt,g,f.map(function(x){return W.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ct(this.props,!1),m=ct(c,!0),g=u.map(function(v,y){var N=fi(fi(fi({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return t.renderDotItem(c,N)}),x={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return W.createElement(Xt,zp({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(s,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=A3(l,B3e),m=fi(fi(fi({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:d});return W.createElement(Bu,zp({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,N=this.state,j=N.prevPoints,b=N.totalLength;return W.createElement(La,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var _=C.t;if(j){var A=j.length/l.length,P=l.map(function(O,U){var B=Math.floor(U*A);if(j[B]){var ne=j[B],Y=Mr(ne.x,O.x),J=Mr(ne.y,O.y);return fi(fi({},O),{},{x:Y(_),y:J(_)})}if(x){var q=Mr(v*2,O.x),$=Mr(y/2,O.y);return fi(fi({},O),{},{x:q(_),y:$(_)})}return fi(fi({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(P,s,i)}var E=Mr(0,b),D=E(_),I;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});I=a.getStrokeDasharray(D,b,k)}else I=a.generateSimpleStrokeDasharray(b,D);return a.renderCurveStatically(l,s,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(s,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!rd(u,o))?this.renderCurveWithAnimation(s,i):this.renderCurveStatically(o,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Ot("recharts-line",c),C=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,A=C||_,P=Et(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},D=E.r,I=D===void 0?3:D,k=E.strokeWidth,O=k===void 0?2:k,U=OU(o)?o:{},B=U.clipDot,ne=B===void 0?!0:B,Y=I*2+O;return W.createElement(Xt,{className:b},C||_?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(P)},W.createElement("rect",{x:C?m:m-g/2,y:_?f:f-x/2,width:C?g:g*2,height:_?x:x*2})),!ne&&W.createElement("clipPath",{id:"clipPath-dots-".concat(P)},W.createElement("rect",{x:m-Y/2,y:f-Y/2,width:g+Y,height:x+Y}))):null,!j&&this.renderCurve(A,P),this.renderErrorBar(A,P),(j||o)&&this.renderDots(A,ne,P),(!v||N)&&po.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:i.curPoints}:s.points!==i.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,i){for(var a=s.length%2!==0?[].concat(th(s),[0]):s,o=[],l=0;l<i;++l)o=[].concat(th(o),th(a));return o}},{key:"renderDotItem",value:function(s,i){var a;if(W.isValidElement(s))a=W.cloneElement(s,i);else if(bt(s))a=s(i);else{var o=i.key,l=A3(i,z3e),c=Ot("recharts-line-dot",typeof s!="boolean"?s.className:"");a=W.createElement(Ov,zp({key:o},l,{className:c}))}return a}}])}(w.PureComponent);wa(Mf,"displayName","Line");wa(Mf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Oa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wa(Mf,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,g){var x=gr(m,o);return d==="horizontal"?{x:pj({axis:n,ticks:i,bandSize:l,entry:m,index:g}),y:Et(x)?null:s.scale(x),value:x,payload:m}:{x:Et(x)?null:n.scale(x),y:pj({axis:s,ticks:a,bandSize:l,entry:m,index:g}),value:x,payload:m}});return fi({points:f,layout:d},u)});var eLe=["layout","type","stroke","connectNulls","isRange","ref"],tLe=["key"],HW;function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function GW(e,t){if(e==null)return{};var n=nLe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nLe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_u.apply(this,arguments)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(s){lo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O3(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YW(s.key),s)}}function sLe(e,t,n){return t&&O3(e.prototype,t),n&&O3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iLe(e,t,n){return t=Fj(t),aLe(e,KW()?Reflect.construct(t,n||[],Fj(e).constructor):t.apply(e,n))}function aLe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oLe(e)}function oLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KW=function(){return!!e})()}function Fj(e){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fj(e)}function lLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hP(e,t)}function hP(e,t){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},hP(e,t)}function lo(e,t,n){return t=YW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e){var t=cLe(e,"string");return If(t)=="symbol"?t:t+""}function cLe(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(If(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ta=function(e){function t(){var n;rLe(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=iLe(this,t,[].concat(i)),lo(n,"state",{isAnimationFinished:!0}),lo(n,"id",xd("recharts-area-")),lo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),bt(o)&&o()}),lo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),bt(o)&&o()}),n}return lLe(t,e),sLe(t,[{key:"renderDots",value:function(s,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ct(this.props,!1),g=ct(u,!0),x=d.map(function(y,N){var j=Bl(Bl(Bl({key:"dot-".concat(N),r:3},m),g),{},{index:N,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,j)}),v={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return W.createElement(Xt,_u({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=s*Math.abs(c-u),f=lc(o.map(function(m){return m.y||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(lc(a.map(function(m){return m.y||0})),f)),Ve(f)?W.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=s*Math.abs(c-u),f=lc(o.map(function(m){return m.x||0}));return Ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(lc(a.map(function(m){return m.x||0})),f)),Ve(f)?W.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var g=GW(l,eLe);return W.createElement(Xt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},W.createElement(Bu,_u({},ct(g,!0),{points:s,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&W.createElement(Bu,_u({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})),d!=="none"&&m&&W.createElement(Bu,_u({},ct(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,g=o.animationId,x=this.state,v=x.prevPoints,y=x.prevBaseLine;return W.createElement(La,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(v){var b=v.length/l.length,C=l.map(function(E,D){var I=Math.floor(D*b);if(v[I]){var k=v[I],O=Mr(k.x,E.x),U=Mr(k.y,E.y);return Bl(Bl({},E),{},{x:O(j),y:U(j)})}return E}),_;if(Ve(c)&&typeof c=="number"){var A=Mr(y,c);_=A(j)}else if(Et(c)||lm(c)){var P=Mr(y,0);_=P(j)}else _=c.map(function(E,D){var I=Math.floor(D*b);if(y[I]){var k=y[I],O=Mr(k.x,E.x),U=Mr(k.y,E.y);return Bl(Bl({},E),{},{x:O(j),y:U(j)})}return E});return a.renderAreaStatically(C,_,s,i)}return W.createElement(Xt,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(j))),W.createElement(Xt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,s,i)))})}},{key:"renderArea",value:function(s,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!rd(d,o)||!rd(f,l))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(o,l,s,i)}},{key:"render",value:function(){var s,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,g=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,b=Ot("recharts-area",c),C=f&&f.allowDataOverflow,_=m&&m.allowDataOverflow,A=C||_,P=Et(y)?this.id:y,E=(s=ct(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},D=E.r,I=D===void 0?3:D,k=E.strokeWidth,O=k===void 0?2:k,U=OU(o)?o:{},B=U.clipDot,ne=B===void 0?!0:B,Y=I*2+O;return W.createElement(Xt,{className:b},C||_?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(P)},W.createElement("rect",{x:C?d:d-g/2,y:_?u:u-x/2,width:C?g:g*2,height:_?x:x*2})),!ne&&W.createElement("clipPath",{id:"clipPath-dots-".concat(P)},W.createElement("rect",{x:d-Y/2,y:u-Y/2,width:g+Y,height:x+Y}))):null,j?null:this.renderArea(A,P),(o||j)&&this.renderDots(A,ne,P),(!v||N)&&po.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(w.PureComponent);HW=ta;lo(ta,"displayName","Area");lo(ta,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Oa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});lo(ta,"getBaseValue",function(e,t,n,s){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ve(l)&&typeof l=="number")return l;var c=i==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});lo(ta,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=t.layout,x=u&&u.length,v=HW.getBaseValue(t,n,s,i),y=g==="horizontal",N=!1,j=f.map(function(C,_){var A;x?A=u[d+_]:(A=gr(C,c),Array.isArray(A)?N=!0:A=[v,A]);var P=A[1]==null||x&&gr(C,c)==null;return y?{x:pj({axis:s,ticks:a,bandSize:l,entry:C,index:_}),y:P?null:i.scale(A[1]),value:A,payload:C}:{x:P?null:s.scale(A[1]),y:pj({axis:i,ticks:o,bandSize:l,entry:C,index:_}),value:A,payload:C}}),b;return x||N?b=j.map(function(C){var _=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:_!=null&&C.y!=null?i.scale(_):null}:{x:_!=null?s.scale(_):null,y:C.y}}):b=y?i.scale(v):s.scale(v),Bl({points:j,baseLine:b,layout:g,isRange:N},m)});lo(ta,"renderDotItem",function(e,t){var n;if(W.isValidElement(e))n=W.cloneElement(e,t);else if(bt(e))n=e(t);else{var s=Ot("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=GW(t,tLe);n=W.createElement(Ov,_u({},a,{key:i,className:s}))}return n});function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function uLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JW(s.key),s)}}function hLe(e,t,n){return t&&dLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fLe(e,t,n){return t=Bj(t),mLe(e,QW()?Reflect.construct(t,n||[],Bj(e).constructor):t.apply(e,n))}function mLe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pLe(e)}function pLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!e})()}function Bj(e){return Bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bj(e)}function gLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}function fP(e,t){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},fP(e,t)}function XW(e,t,n){return t=JW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JW(e){var t=vLe(e,"string");return $f(t)=="symbol"?t:t+""}function vLe(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if($f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mP.apply(this,arguments)}function xLe(e){var t=e.xAxisId,n=Tk(),s=Ok(),i=OW(t);return i==null?null:w.createElement(gm,mP({},i,{className:Ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return Xo(o,!0)}}))}var Fa=function(e){function t(){return uLe(this,t),fLe(this,t,arguments)}return gLe(t,e),hLe(t,[{key:"render",value:function(){return w.createElement(xLe,this.props)}}])}(w.Component);XW(Fa,"displayName","XAxis");XW(Fa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function yLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t9(s.key),s)}}function bLe(e,t,n){return t&&jLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wLe(e,t,n){return t=zj(t),NLe(e,ZW()?Reflect.construct(t,n||[],zj(e).constructor):t.apply(e,n))}function NLe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SLe(e)}function SLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZW=function(){return!!e})()}function zj(e){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zj(e)}function CLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pP(e,t)}function pP(e,t){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},pP(e,t)}function e9(e,t,n){return t=t9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=_Le(e,"string");return Rf(t)=="symbol"?t:t+""}function _Le(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Rf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gP.apply(this,arguments)}var PLe=function(t){var n=t.yAxisId,s=Tk(),i=Ok(),a=DW(n);return a==null?null:w.createElement(gm,gP({},a,{className:Ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:i},ticksGenerator:function(l){return Xo(l,!0)}}))},Ba=function(e){function t(){return yLe(this,t),wLe(this,t,arguments)}return CLe(t,e),bLe(t,[{key:"render",value:function(){return w.createElement(PLe,this.props)}}])}(w.Component);e9(Ba,"displayName","YAxis");e9(Ba,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function D3(e){return TLe(e)||kLe(e)||ELe(e)||ALe()}function ALe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ELe(e,t){if(e){if(typeof e=="string")return vP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(e,t)}}function kLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TLe(e){if(Array.isArray(e))return vP(e)}function vP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var xP=function(t,n,s,i,a){var o=Ci(t,Mk),l=Ci(t,Tw),c=[].concat(D3(o),D3(l)),u=Ci(t,Dw),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,y){if(y.props[d]===s&&go(y.props,"extendDomain")&&Ve(y.props[f])){var N=y.props[f];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},m)),u.length){var g="".concat(f,"1"),x="".concat(f,"2");m=u.reduce(function(v,y){if(y.props[d]===s&&go(y.props,"extendDomain")&&Ve(y.props[g])&&Ve(y.props[x])){var N=y.props[g],j=y.props[x];return[Math.min(v[0],N,j),Math.max(v[1],N,j)]}return v},m)}return a&&a.length&&(m=a.reduce(function(v,y){return Ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},m)),m},n9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,g,x){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],N=arguments.length,j,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,g),!0;case 6:return y.fn.call(y.context,d,f,m,g,x),!0}for(b=1,j=new Array(N-1);b<N;b++)j[b-1]=arguments[b];y.fn.apply(y.context,j)}else{var C=y.length,_;for(b=0;b<C;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),N){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,m);break;default:if(!j)for(_=1,j=new Array(N-1);_<N;_++)j[_-1]=arguments[_];y[b].fn.apply(y[b].context,j)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,y=[],N=x.length;v<N;v++)(x[v].fn!==d||m&&!x[v].once||f&&x[v].context!==f)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(n9);var OLe=n9.exports;const DLe=vn(OLe);var HS=new DLe,GS="recharts.syncMouseEvents";function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function MLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ILe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,r9(s.key),s)}}function $Le(e,t,n){return t&&ILe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KS(e,t,n){return t=r9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=RLe(e,"string");return Qg(t)=="symbol"?t:t+""}function RLe(e,t){if(Qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LLe=function(){function e(){MLe(this,e),KS(this,"activeIndex",0),KS(this,"coordinateList",[]),KS(this,"layout","horizontal")}return $Le(e,[{key:"setDetails",value:function(n){var s,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(s=a??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function FLe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],i=e==null?void 0:e[1];if(s&&i&&Ve(s)&&Ve(i))return!0}return!1}function BLe(e,t,n,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function s9(e){var t=e.cx,n=e.cy,s=e.radius,i=e.startAngle,a=e.endAngle,o=$n(t,n,s,i),l=$n(t,n,s,a);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:i,endAngle:a}}function zLe(e,t,n){var s,i,a,o;if(e==="horizontal")s=t.x,a=s,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,s=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=$n(l,c,u,f),g=$n(l,c,d,f);s=m.x,i=m.y,a=g.x,o=g.y}else return s9(t);return[{x:s,y:i},{x:a,y:o}]}function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function M3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(n),!0).forEach(function(s){VLe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function VLe(e,t,n){return t=ULe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ULe(e){var t=qLe(e,"string");return Xg(t)=="symbol"?t:t+""}function qLe(e,t){if(Xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WLe(e){var t,n,s=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,g=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var x,v=Bu;if(m==="ScatterChart")x=o,v=ZMe;else if(m==="BarChart")x=BLe(f,o,c,d),v=_k;else if(f==="radial"){var y=s9(o),N=y.cx,j=y.cy,b=y.radius,C=y.startAngle,_=y.endAngle;x={cx:N,cy:j,startAngle:C,endAngle:_,innerRadius:b,outerRadius:b},v=X7}else x={points:zLe(f,o,c)},v=Bu;var A=Py(Py(Py(Py({stroke:"#ccc",pointerEvents:"none"},c),x),ct(g,!1)),{},{payload:l,payloadIndex:u,className:Ot("recharts-tooltip-cursor",g.className)});return w.isValidElement(g)?w.cloneElement(g,A):w.createElement(v,A)}var HLe=["item"],GLe=["children","className","width","height","style","compact","title","desc"];function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wh.apply(this,arguments)}function I3(e,t){return QLe(e)||YLe(e,t)||a9(e,t)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(s=a.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QLe(e){if(Array.isArray(e))return e}function $3(e,t){if(e==null)return{};var n=XLe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function XLe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function JLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZLe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,o9(s.key),s)}}function eFe(e,t,n){return t&&ZLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tFe(e,t,n){return t=Vj(t),nFe(e,i9()?Reflect.construct(t,n||[],Vj(e).constructor):t.apply(e,n))}function nFe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rFe(e)}function rFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i9=function(){return!!e})()}function Vj(e){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vj(e)}function sFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yP(e,t)}function yP(e,t){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},yP(e,t)}function Ff(e){return oFe(e)||aFe(e)||a9(e)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a9(e,t){if(e){if(typeof e=="string")return jP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(e,t)}}function aFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oFe(e){if(Array.isArray(e))return jP(e)}function jP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function R3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(n),!0).forEach(function(s){jt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jt(e,t,n){return t=o9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=lFe(e,"string");return Lf(t)=="symbol"?t:t+""}function lFe(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Lf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cFe={xAxis:["bottom","top"],yAxis:["left","right"]},uFe={width:"100%",height:"100%"},l9={x:0,y:0};function Ay(e){return e}var dFe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},hFe=function(t,n,s,i){var a=n.find(function(d){return d&&d.index===s});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Ee(Ee(Ee({},i),$n(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return Ee(Ee(Ee({},i),$n(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return l9},Mw=function(t,n){var s=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ff(l),Ff(u)):l},[]);return o.length>0?o:t&&t.length&&Ve(i)&&Ve(a)?t.slice(i,a+1):[]};function c9(e){return e==="number"?[0,"auto"]:void 0}var bP=function(t,n,s,i){var a=t.graphicalItems,o=t.tooltipAxis,l=Mw(n,t);return s<0||!a||!a.length||s>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;m=z0(g,o.dataKey,i)}else m=f&&f[s]||l[s];return m?[].concat(Ff(c),[W7(u,m)]):c},[])},L3=function(t,n,s,i){var a=i||{x:t.chartX,y:t.chartY},o=dFe(a,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=NTe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=bP(t,n,d,f),g=hFe(s,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},fFe=function(t,n){var s=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,g=F7(d,a);return s.reduce(function(x,v){var y,N=v.type.defaultProps!==void 0?Ee(Ee({},v.type.defaultProps),v.props):v.props,j=N.type,b=N.dataKey,C=N.allowDataOverflow,_=N.allowDuplicatedCategory,A=N.scale,P=N.ticks,E=N.includeHidden,D=N[o];if(x[D])return x;var I=Mw(t.data,{graphicalItems:i.filter(function(re){var K,ee=o in re.props?re.props[o]:(K=re.type.defaultProps)===null||K===void 0?void 0:K[o];return ee===D}),dataStartIndex:c,dataEndIndex:u}),k=I.length,O,U,B;FLe(N.domain,C,j)&&(O=M_(N.domain,null,C),g&&(j==="number"||A!=="auto")&&(B=Rp(I,b,"category")));var ne=c9(j);if(!O||O.length===0){var Y,J=(Y=N.domain)!==null&&Y!==void 0?Y:ne;if(b){if(O=Rp(I,b,j),j==="category"&&g){var q=fye(O);_&&q?(U=O,O=Aj(0,k)):_||(O=sR(J,O,v).reduce(function(re,K){return re.indexOf(K)>=0?re:[].concat(Ff(re),[K])},[]))}else if(j==="category")_?O=O.filter(function(re){return re!==""&&!Et(re)}):O=sR(J,O,v).reduce(function(re,K){return re.indexOf(K)>=0||K===""||Et(K)?re:[].concat(Ff(re),[K])},[]);else if(j==="number"){var $=ATe(I,i.filter(function(re){var K,ee,ge=o in re.props?re.props[o]:(K=re.type.defaultProps)===null||K===void 0?void 0:K[o],xe="hide"in re.props?re.props.hide:(ee=re.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ge===D&&(E||!xe)}),b,a,d);$&&(O=$)}g&&(j==="number"||A!=="auto")&&(B=Rp(I,b,"category"))}else g?O=Aj(0,k):l&&l[D]&&l[D].hasStack&&j==="number"?O=m==="expand"?[0,1]:q7(l[D].stackGroups,c,u):O=L7(I,i.filter(function(re){var K=o in re.props?re.props[o]:re.type.defaultProps[o],ee="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return K===D&&(E||!ee)}),j,d,!0);if(j==="number")O=xP(f,O,D,a,P),J&&(O=M_(J,O,C));else if(j==="category"&&J){var le=J,se=O.every(function(re){return le.indexOf(re)>=0});se&&(O=le)}}return Ee(Ee({},x),{},jt({},D,Ee(Ee({},N),{},{axisType:a,domain:O,categoricalDomain:B,duplicateDomain:U,originalDomain:(y=N.domain)!==null&&y!==void 0?y:ne,isCategorical:g,layout:d})))},{})},mFe=function(t,n){var s=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=Mw(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),g=m.length,x=F7(d,a),v=-1;return s.reduce(function(y,N){var j=N.type.defaultProps!==void 0?Ee(Ee({},N.type.defaultProps),N.props):N.props,b=j[o],C=c9("number");if(!y[b]){v++;var _;return x?_=Aj(0,g):l&&l[b]&&l[b].hasStack?(_=q7(l[b].stackGroups,c,u),_=xP(f,_,b,a)):(_=M_(C,L7(m,s.filter(function(A){var P,E,D=o in A.props?A.props[o]:(P=A.type.defaultProps)===null||P===void 0?void 0:P[o],I="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return D===b&&!I}),"number",d),i.defaultProps.allowDataOverflow),_=xP(f,_,b,a)),Ee(Ee({},y),{},jt({},b,Ee(Ee({axisType:a},i.defaultProps),{},{hide:!0,orientation:Si(cFe,"".concat(a,".").concat(v%2),null),domain:_,originalDomain:C,isCategorical:x,layout:d})))}return y},{})},pFe=function(t,n){var s=n.axisType,i=s===void 0?"xAxis":s,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=Ci(d,a),g={};return m&&m.length?g=fFe(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=mFe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},gFe=function(t){var n=Kl(t),s=Xo(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:ZE(s,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:gj(n,s)}},F3=function(t){var n=t.children,s=t.defaultShowTooltip,i=gi(n,Pf),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},vFe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Zo(n&&n.type);return s&&s.indexOf("Bar")>=0})},B3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xFe=function(t,n){var s=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,d=s.height,f=s.children,m=s.margin||{},g=gi(f,Pf),x=gi(f,Ih),v=Object.keys(c).reduce(function(_,A){var P=c[A],E=P.orientation;return!P.mirror&&!P.hide?Ee(Ee({},_),{},jt({},E,_[E]+P.width)):_},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(_,A){var P=o[A],E=P.orientation;return!P.mirror&&!P.hide?Ee(Ee({},_),{},jt({},E,Si(_,"".concat(E))+P.height)):_},{top:m.top||0,bottom:m.bottom||0}),N=Ee(Ee({},y),v),j=N.bottom;g&&(N.bottom+=g.props.height||Pf.defaultProps.height),x&&n&&(N=_Te(N,i,s,n));var b=u-N.left-N.right,C=d-N.top-N.bottom;return Ee(Ee({brushBottom:j},N),{},{width:Math.max(b,0),height:Math.max(C,0)})},yFe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Iw=function(t){var n=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(N,j){var b=j.graphicalItems,C=j.stackGroups,_=j.offset,A=j.updateId,P=j.dataStartIndex,E=j.dataEndIndex,D=N.barSize,I=N.layout,k=N.barGap,O=N.barCategoryGap,U=N.maxBarSize,B=B3(I),ne=B.numericAxisName,Y=B.cateAxisName,J=vFe(b),q=[];return b.forEach(function($,le){var se=Mw(N.data,{graphicalItems:[$],dataStartIndex:P,dataEndIndex:E}),re=$.type.defaultProps!==void 0?Ee(Ee({},$.type.defaultProps),$.props):$.props,K=re.dataKey,ee=re.maxBarSize,ge=re["".concat(ne,"Id")],xe=re["".concat(Y,"Id")],be={},F=c.reduce(function(qe,We){var Ft=j["".concat(We.axisType,"Map")],xn=re["".concat(We.axisType,"Id")];Ft&&Ft[xn]||We.axisType==="zAxis"||id();var _t=Ft[xn];return Ee(Ee({},qe),{},jt(jt({},We.axisType,_t),"".concat(We.axisType,"Ticks"),Xo(_t)))},be),X=F[Y],te=F["".concat(Y,"Ticks")],G=C&&C[ge]&&C[ge].hasStack&&RTe($,C[ge].stackGroups),M=Zo($.type).indexOf("Bar")>=0,ye=gj(X,te),Ne=[],fe=J&&STe({barSize:D,stackGroups:C,totalSize:yFe(F,Y)});if(M){var Pe,Ze,at=Et(ee)?U:ee,dt=(Pe=(Ze=gj(X,te,!0))!==null&&Ze!==void 0?Ze:at)!==null&&Pe!==void 0?Pe:0;Ne=CTe({barGap:k,barCategoryGap:O,bandSize:dt!==ye?dt:ye,sizeList:fe[xe],maxBarSize:at}),dt!==ye&&(Ne=Ne.map(function(qe){return Ee(Ee({},qe),{},{position:Ee(Ee({},qe.position),{},{offset:qe.position.offset-dt/2})})}))}var Se=$&&$.type&&$.type.getComposedData;Se&&q.push({props:Ee(Ee({},Se(Ee(Ee({},F),{},{displayedData:se,props:N,dataKey:K,item:$,bandSize:ye,barPosition:Ne,offset:_,stackedData:G,layout:I,dataStartIndex:P,dataEndIndex:E}))),{},jt(jt(jt({key:$.key||"item-".concat(le)},ne,F[ne]),Y,F[Y]),"animationId",A)),childIndex:Cye($,N.children),item:$})}),q},g=function(N,j){var b=N.props,C=N.dataStartIndex,_=N.dataEndIndex,A=N.updateId;if(!JI({props:b}))return null;var P=b.children,E=b.layout,D=b.stackOffset,I=b.data,k=b.reverseStackOrder,O=B3(E),U=O.numericAxisName,B=O.cateAxisName,ne=Ci(P,s),Y=ITe(I,ne,"".concat(U,"Id"),"".concat(B,"Id"),D,k),J=c.reduce(function(re,K){var ee="".concat(K.axisType,"Map");return Ee(Ee({},re),{},jt({},ee,pFe(b,Ee(Ee({},K),{},{graphicalItems:ne,stackGroups:K.axisType===U&&Y,dataStartIndex:C,dataEndIndex:_}))))},{}),q=xFe(Ee(Ee({},J),{},{props:b,graphicalItems:ne}),j==null?void 0:j.legendBBox);Object.keys(J).forEach(function(re){J[re]=d(b,J[re],q,re.replace("Map",""),n)});var $=J["".concat(B,"Map")],le=gFe($),se=m(b,Ee(Ee({},J),{},{dataStartIndex:C,dataEndIndex:_,updateId:A,graphicalItems:ne,stackGroups:Y,offset:q}));return Ee(Ee({formattedGraphicalItems:se,graphicalItems:ne,offset:q,stackGroups:Y},le),J)},x=function(y){function N(j){var b,C,_;return JLe(this,N),_=tFe(this,N,[j]),jt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(_,"accessibilityManager",new LLe),jt(_,"handleLegendBBoxUpdate",function(A){if(A){var P=_.state,E=P.dataStartIndex,D=P.dataEndIndex,I=P.updateId;_.setState(Ee({legendBBox:A},g({props:_.props,dataStartIndex:E,dataEndIndex:D,updateId:I},Ee(Ee({},_.state),{},{legendBBox:A}))))}}),jt(_,"handleReceiveSyncEvent",function(A,P,E){if(_.props.syncId===A){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(P)}}),jt(_,"handleBrushChange",function(A){var P=A.startIndex,E=A.endIndex;if(P!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var D=_.state.updateId;_.setState(function(){return Ee({dataStartIndex:P,dataEndIndex:E},g({props:_.props,dataStartIndex:P,dataEndIndex:E,updateId:D},_.state))}),_.triggerSyncEvent({dataStartIndex:P,dataEndIndex:E})}}),jt(_,"handleMouseEnter",function(A){var P=_.getMouseInfo(A);if(P){var E=Ee(Ee({},P),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var D=_.props.onMouseEnter;bt(D)&&D(E,A)}}),jt(_,"triggeredAfterMouseMove",function(A){var P=_.getMouseInfo(A),E=P?Ee(Ee({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var D=_.props.onMouseMove;bt(D)&&D(E,A)}),jt(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),jt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),jt(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),jt(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var E=_.props.onMouseLeave;bt(E)&&E(P,A)}),jt(_,"handleOuterEvent",function(A){var P=Sye(A),E=Si(_.props,"".concat(P));if(P&&bt(E)){var D,I;/.*touch.*/i.test(P)?I=_.getMouseInfo(A.changedTouches[0]):I=_.getMouseInfo(A),E((D=I)!==null&&D!==void 0?D:{},A)}}),jt(_,"handleClick",function(A){var P=_.getMouseInfo(A);if(P){var E=Ee(Ee({},P),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var D=_.props.onClick;bt(D)&&D(E,A)}}),jt(_,"handleMouseDown",function(A){var P=_.props.onMouseDown;if(bt(P)){var E=_.getMouseInfo(A);P(E,A)}}),jt(_,"handleMouseUp",function(A){var P=_.props.onMouseUp;if(bt(P)){var E=_.getMouseInfo(A);P(E,A)}}),jt(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),jt(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),jt(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),jt(_,"handleDoubleClick",function(A){var P=_.props.onDoubleClick;if(bt(P)){var E=_.getMouseInfo(A);P(E,A)}}),jt(_,"handleContextMenu",function(A){var P=_.props.onContextMenu;if(bt(P)){var E=_.getMouseInfo(A);P(E,A)}}),jt(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&HS.emit(GS,_.props.syncId,A,_.eventEmitterSymbol)}),jt(_,"applySyncEvent",function(A){var P=_.props,E=P.layout,D=P.syncMethod,I=_.state.updateId,k=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(Ee({dataStartIndex:k,dataEndIndex:O},g({props:_.props,dataStartIndex:k,dataEndIndex:O,updateId:I},_.state)));else if(A.activeTooltipIndex!==void 0){var U=A.chartX,B=A.chartY,ne=A.activeTooltipIndex,Y=_.state,J=Y.offset,q=Y.tooltipTicks;if(!J)return;if(typeof D=="function")ne=D(q,A);else if(D==="value"){ne=-1;for(var $=0;$<q.length;$++)if(q[$].value===A.activeLabel){ne=$;break}}var le=Ee(Ee({},J),{},{x:J.left,y:J.top}),se=Math.min(U,le.x+le.width),re=Math.min(B,le.y+le.height),K=q[ne]&&q[ne].value,ee=bP(_.state,_.props.data,ne),ge=q[ne]?{x:E==="horizontal"?q[ne].coordinate:se,y:E==="horizontal"?re:q[ne].coordinate}:l9;_.setState(Ee(Ee({},A),{},{activeLabel:K,activeCoordinate:ge,activePayload:ee,activeTooltipIndex:ne}))}else _.setState(A)}),jt(_,"renderCursor",function(A){var P,E=_.state,D=E.isTooltipActive,I=E.activeCoordinate,k=E.activePayload,O=E.offset,U=E.activeTooltipIndex,B=E.tooltipAxisBandSize,ne=_.getTooltipEventType(),Y=(P=A.props.active)!==null&&P!==void 0?P:D,J=_.props.layout,q=A.key||"_recharts-cursor";return W.createElement(WLe,{key:q,activeCoordinate:I,activePayload:k,activeTooltipIndex:U,chartName:n,element:A,isActive:Y,layout:J,offset:O,tooltipAxisBandSize:B,tooltipEventType:ne})}),jt(_,"renderPolarAxis",function(A,P,E){var D=Si(A,"type.axisType"),I=Si(_.state,"".concat(D,"Map")),k=A.type.defaultProps,O=k!==void 0?Ee(Ee({},k),A.props):A.props,U=I&&I[O["".concat(D,"Id")]];return w.cloneElement(A,Ee(Ee({},U),{},{className:Ot(D,U.className),key:A.key||"".concat(P,"-").concat(E),ticks:Xo(U,!0)}))}),jt(_,"renderPolarGrid",function(A){var P=A.props,E=P.radialLines,D=P.polarAngles,I=P.polarRadius,k=_.state,O=k.radiusAxisMap,U=k.angleAxisMap,B=Kl(O),ne=Kl(U),Y=ne.cx,J=ne.cy,q=ne.innerRadius,$=ne.outerRadius;return w.cloneElement(A,{polarAngles:Array.isArray(D)?D:Xo(ne,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(I)?I:Xo(B,!0).map(function(le){return le.coordinate}),cx:Y,cy:J,innerRadius:q,outerRadius:$,key:A.key||"polar-grid",radialLines:E})}),jt(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,P=_.props,E=P.children,D=P.width,I=P.height,k=_.props.margin||{},O=D-(k.left||0)-(k.right||0),U=$7({children:E,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!U)return null;var B=U.item,ne=$3(U,HLe);return w.cloneElement(B,Ee(Ee({},ne),{},{chartWidth:D,chartHeight:I,margin:k,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),jt(_,"renderTooltip",function(){var A,P=_.props,E=P.children,D=P.accessibilityLayer,I=gi(E,qr);if(!I)return null;var k=_.state,O=k.isTooltipActive,U=k.activeCoordinate,B=k.activePayload,ne=k.activeLabel,Y=k.offset,J=(A=I.props.active)!==null&&A!==void 0?A:O;return w.cloneElement(I,{viewBox:Ee(Ee({},Y),{},{x:Y.left,y:Y.top}),active:J,label:ne,payload:J?B:[],coordinate:U,accessibilityLayer:D})}),jt(_,"renderBrush",function(A){var P=_.props,E=P.margin,D=P.data,I=_.state,k=I.offset,O=I.dataStartIndex,U=I.dataEndIndex,B=I.updateId;return w.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Ny(_.handleBrushChange,A.props.onChange),data:D,x:Ve(A.props.x)?A.props.x:k.left,y:Ve(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:Ve(A.props.width)?A.props.width:k.width,startIndex:O,endIndex:U,updateId:"brush-".concat(B)})}),jt(_,"renderReferenceElement",function(A,P,E){if(!A)return null;var D=_,I=D.clipPathId,k=_.state,O=k.xAxisMap,U=k.yAxisMap,B=k.offset,ne=A.type.defaultProps||{},Y=A.props,J=Y.xAxisId,q=J===void 0?ne.xAxisId:J,$=Y.yAxisId,le=$===void 0?ne.yAxisId:$;return w.cloneElement(A,{key:A.key||"".concat(P,"-").concat(E),xAxis:O[q],yAxis:U[le],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:I})}),jt(_,"renderActivePoints",function(A){var P=A.item,E=A.activePoint,D=A.basePoint,I=A.childIndex,k=A.isRange,O=[],U=P.props.key,B=P.item.type.defaultProps!==void 0?Ee(Ee({},P.item.type.defaultProps),P.item.props):P.item.props,ne=B.activeDot,Y=B.dataKey,J=Ee(Ee({index:I,dataKey:Y,cx:E.x,cy:E.y,r:4,fill:Ck(P.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ct(ne,!1)),V0(ne));return O.push(N.renderActiveDot(ne,J,"".concat(U,"-activePoint-").concat(I))),D?O.push(N.renderActiveDot(ne,Ee(Ee({},J),{},{cx:D.x,cy:D.y}),"".concat(U,"-basePoint-").concat(I))):k&&O.push(null),O}),jt(_,"renderGraphicChild",function(A,P,E){var D=_.filterFormatItem(A,P,E);if(!D)return null;var I=_.getTooltipEventType(),k=_.state,O=k.isTooltipActive,U=k.tooltipAxis,B=k.activeTooltipIndex,ne=k.activeLabel,Y=_.props.children,J=gi(Y,qr),q=D.props,$=q.points,le=q.isRange,se=q.baseLine,re=D.item.type.defaultProps!==void 0?Ee(Ee({},D.item.type.defaultProps),D.item.props):D.item.props,K=re.activeDot,ee=re.hide,ge=re.activeBar,xe=re.activeShape,be=!!(!ee&&O&&J&&(K||ge||xe)),F={};I!=="axis"&&J&&J.props.trigger==="click"?F={onClick:Ny(_.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(F={onMouseLeave:Ny(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Ny(_.handleItemMouseEnter,A.props.onMouseEnter)});var X=w.cloneElement(A,Ee(Ee({},D.props),F));function te(We){return typeof U.dataKey=="function"?U.dataKey(We.payload):null}if(be)if(B>=0){var G,M;if(U.dataKey&&!U.allowDuplicatedCategory){var ye=typeof U.dataKey=="function"?te:"payload.".concat(U.dataKey.toString());G=z0($,ye,ne),M=le&&se&&z0(se,ye,ne)}else G=$==null?void 0:$[B],M=le&&se&&se[B];if(xe||ge){var Ne=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[w.cloneElement(A,Ee(Ee(Ee({},D.props),F),{},{activeIndex:Ne})),null,null]}if(!Et(G))return[X].concat(Ff(_.renderActivePoints({item:D,activePoint:G,basePoint:M,childIndex:B,isRange:le})))}else{var fe,Pe=(fe=_.getItemByXY(_.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:X},Ze=Pe.graphicalItem,at=Ze.item,dt=at===void 0?A:at,Se=Ze.childIndex,qe=Ee(Ee(Ee({},D.props),F),{},{activeIndex:Se});return[w.cloneElement(dt,qe),null,null]}return le?[X,null,null]:[X,null]}),jt(_,"renderCustomized",function(A,P,E){return w.cloneElement(A,Ee(Ee({key:"recharts-customized-".concat(E)},_.props),_.state))}),jt(_,"renderMap",{CartesianGrid:{handler:Ay,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Ay},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Ay},YAxis:{handler:Ay},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:xd("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=Iq(_.triggeredAfterMouseMove,(C=j.throttleDelay)!==null&&C!==void 0?C:1e3/60),_.state={},_}return sFe(N,y),eFe(N,[{key:"componentDidMount",value:function(){var b,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,C=b.children,_=b.data,A=b.height,P=b.layout,E=gi(C,qr);if(E){var D=E.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,k=bP(this.state,_,D,I),O=this.state.tooltipTicks[D].coordinate,U=(this.state.offset.top+A)/2,B=P==="horizontal",ne=B?{x:O,y:U}:{y:O,x:U},Y=this.state.formattedGraphicalItems.find(function(q){var $=q.item;return $.type.name==="Scatter"});Y&&(ne=Ee(Ee({},ne),Y.props.points[D].tooltipPosition),k=Y.props.points[D].tooltipPayload);var J={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:I,activePayload:k,activeCoordinate:ne};this.setState(J),this.renderCursor(E),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){Y2([gi(b.children,qr)],[gi(this.props.children,qr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=gi(this.props.children,qr);if(b&&typeof b.props.shared=="boolean"){var C=b.props.shared?"axis":"item";return l.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var C=this.container,_=C.getBoundingClientRect(),A=X_e(_),P={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},E=_.width/C.offsetWidth||1,D=this.inRange(P.chartX,P.chartY,E);if(!D)return null;var I=this.state,k=I.xAxisMap,O=I.yAxisMap,U=this.getTooltipEventType(),B=L3(this.state,this.props.data,this.props.layout,D);if(U!=="axis"&&k&&O){var ne=Kl(k).scale,Y=Kl(O).scale,J=ne&&ne.invert?ne.invert(P.chartX):null,q=Y&&Y.invert?Y.invert(P.chartY):null;return Ee(Ee({},P),{},{xValue:J,yValue:q},B)}return B?Ee(Ee({},P),B):null}},{key:"inRange",value:function(b,C){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,P=b/_,E=C/_;if(A==="horizontal"||A==="vertical"){var D=this.state.offset,I=P>=D.left&&P<=D.left+D.width&&E>=D.top&&E<=D.top+D.height;return I?{x:P,y:E}:null}var k=this.state,O=k.angleAxisMap,U=k.radiusAxisMap;if(O&&U){var B=Kl(O);return oR({x:P,y:E},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,C=this.getTooltipEventType(),_=gi(b,qr),A={};_&&C==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=V0(this.props,this.handleOuterEvent);return Ee(Ee({},P),A)}},{key:"addListener",value:function(){HS.on(GS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){HS.removeListener(GS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,C,_){for(var A=this.state.formattedGraphicalItems,P=0,E=A.length;P<E;P++){var D=A[P];if(D.item===b||D.props.key===b.key||C===Zo(D.item.type)&&_===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,C=this.state.offset,_=C.left,A=C.top,P=C.height,E=C.width;return W.createElement("defs",null,W.createElement("clipPath",{id:b},W.createElement("rect",{x:_,y:A,height:P,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(C,_){var A=I3(_,2),P=A[0],E=A[1];return Ee(Ee({},C),{},jt({},P,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(C,_){var A=I3(_,2),P=A[0],E=A[1];return Ee(Ee({},C),{},jt({},P,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(b){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(b){var C=this.state,_=C.formattedGraphicalItems,A=C.activeItem;if(_&&_.length)for(var P=0,E=_.length;P<E;P++){var D=_[P],I=D.props,k=D.item,O=k.type.defaultProps!==void 0?Ee(Ee({},k.type.defaultProps),k.props):k.props,U=Zo(k.type);if(U==="Bar"){var B=(I.data||[]).find(function(q){return DMe(b,q)});if(B)return{graphicalItem:D,payload:B}}else if(U==="RadialBar"){var ne=(I.data||[]).find(function(q){return oR(b,q)});if(ne)return{graphicalItem:D,payload:ne}}else if(Pw(D,A)||Aw(D,A)||Wg(D,A)){var Y=b4e({graphicalItem:D,activeTooltipItem:A,itemData:O.data}),J=O.activeIndex===void 0?Y:O.activeIndex;return{graphicalItem:Ee(Ee({},D),{},{childIndex:J}),payload:Wg(D,A)?O.data[Y]:D.props.data[Y]}}}return null}},{key:"render",value:function(){var b=this;if(!JI(this))return null;var C=this.props,_=C.children,A=C.className,P=C.width,E=C.height,D=C.style,I=C.compact,k=C.title,O=C.desc,U=$3(C,GLe),B=ct(U,!1);if(I)return W.createElement(p3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(X2,wh({},B,{width:P,height:E,title:k,desc:O}),this.renderClipPath(),e4(_,this.renderMap)));if(this.props.accessibilityLayer){var ne,Y;B.tabIndex=(ne=this.props.tabIndex)!==null&&ne!==void 0?ne:0,B.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",B.onKeyDown=function(q){b.accessibilityManager.keyboardEvent(q)},B.onFocus=function(){b.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return W.createElement(p3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",wh({className:Ot("recharts-wrapper",A),style:Ee({position:"relative",cursor:"default",width:P,height:E},D)},J,{ref:function($){b.container=$}}),W.createElement(X2,wh({},B,{width:P,height:E,title:k,desc:O,style:uFe}),this.renderClipPath(),e4(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);jt(x,"displayName",n),jt(x,"defaultProps",Ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),jt(x,"getDerivedStateFromProps",function(y,N){var j=y.dataKey,b=y.data,C=y.children,_=y.width,A=y.height,P=y.layout,E=y.stackOffset,D=y.margin,I=N.dataStartIndex,k=N.dataEndIndex;if(N.updateId===void 0){var O=F3(y);return Ee(Ee(Ee({},O),{},{updateId:0},g(Ee(Ee({props:y},O),{},{updateId:0}),N)),{},{prevDataKey:j,prevData:b,prevWidth:_,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:D,prevChildren:C})}if(j!==N.prevDataKey||b!==N.prevData||_!==N.prevWidth||A!==N.prevHeight||P!==N.prevLayout||E!==N.prevStackOffset||!Mh(D,N.prevMargin)){var U=F3(y),B={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},ne=Ee(Ee({},L3(N,b,P)),{},{updateId:N.updateId+1}),Y=Ee(Ee(Ee({},U),B),ne);return Ee(Ee(Ee({},Y),g(Ee({props:y},Y),N)),{},{prevDataKey:j,prevData:b,prevWidth:_,prevHeight:A,prevLayout:P,prevStackOffset:E,prevMargin:D,prevChildren:C})}if(!Y2(C,N.prevChildren)){var J,q,$,le,se=gi(C,Pf),re=se&&(J=(q=se.props)===null||q===void 0?void 0:q.startIndex)!==null&&J!==void 0?J:I,K=se&&($=(le=se.props)===null||le===void 0?void 0:le.endIndex)!==null&&$!==void 0?$:k,ee=re!==I||K!==k,ge=!Et(b),xe=ge&&!ee?N.updateId:N.updateId+1;return Ee(Ee({updateId:xe},g(Ee(Ee({props:y},N),{},{updateId:xe,dataStartIndex:re,dataEndIndex:K}),N)),{},{prevChildren:C,dataStartIndex:re,dataEndIndex:K})}return null}),jt(x,"renderActiveDot",function(y,N,j){var b;return w.isValidElement(y)?b=w.cloneElement(y,N):bt(y)?b=y(N):b=W.createElement(Ov,N),W.createElement(Xt,{className:"recharts-active-dot",key:j},b)});var v=w.forwardRef(function(N,j){return W.createElement(x,wh({},N,{ref:j}))});return v.displayName=x.displayName,v},z3=Iw({chartName:"LineChart",GraphicalChild:Mf,axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:Pk}),jFe=Iw({chartName:"BarChart",GraphicalChild:oo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:Pk}),Rk=Iw({chartName:"PieChart",GraphicalChild:qa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_w},{axisType:"radiusAxis",AxisComp:Sw}],formatAxisMap:GTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Lk=Iw({chartName:"AreaChart",GraphicalChild:ta,axisComponents:[{axisType:"xAxis",AxisComp:Fa},{axisType:"yAxis",AxisComp:Ba}],formatAxisMap:Pk});function Fk({open:e,onOpenChange:t,petId:n,consultationId:s}){const{data:i=[]}=zc(),{data:a=[]}=Vc(),{data:o=[]}=vfe(),l=gfe(),{toast:c}=It(),[u,d]=w.useState({diagnosis:"",notes:"",validUntil:""}),[f,m]=w.useState([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}]),g=a.find(_=>_.id===n),x=g?i.find(_=>_.id===g.client_id):null,v=o.filter(_=>(_.category==="medication"||_.category==="supplement")&&_.current_quantity>0&&_.active),y=_=>{const{name:A,value:P}=_.target;d(E=>({...E,[A]:P}))},N=(_,A,P)=>{m(E=>E.map((D,I)=>I===_?{...D,[A]:P}:D))},j=()=>{m(_=>[..._,{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])},b=_=>{f.length>1&&m(A=>A.filter((P,E)=>E!==_))},C=async _=>{if(_.preventDefault(),!g||!x){c({title:"Erreur",description:"Impossible de trouver l'animal ou le client associ.",variant:"destructive"});return}const A=f.filter(E=>E.medication_name.trim()!=="");if(A.length===0){c({title:"Erreur",description:"Veuillez ajouter au moins un mdicament  la prescription.",variant:"destructive"});return}const P={consultation_id:s,animal_id:g.id,client_id:x.id,diagnosis:u.diagnosis,notes:u.notes,valid_until:u.validUntil||void 0,medications:A};try{await l.mutateAsync(P),c({title:"Prescription cre",description:`Prescription cre avec succs pour ${g.name}.`}),t(!1),d({diagnosis:"",notes:"",validUntil:""}),m([{medication_name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,route:"oral"}])}catch(E){console.error("Error creating prescription:",E),c({title:"Erreur",description:"Une erreur est survenue lors de la cration de la prescription.",variant:"destructive"})}};return!g||!x?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsx(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:r.jsxs(Nt,{children:[r.jsx(St,{children:"Erreur"}),r.jsx(un,{children:"Impossible de trouver l'animal ou le client associ."})]})})}):r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouvelle Prescription"}),r.jsxs(un,{children:["Crer une nouvelle prescription pour ",g.name," (",x.first_name," ",x.last_name,")"]})]}),r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(mt,{id:"diagnosis",name:"diagnosis",value:u.diagnosis,onChange:y,placeholder:"Entrez le diagnostic...",className:"h-20"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"validUntil",children:"Valide jusqu'au (optionnel)"}),r.jsx(ae,{id:"validUntil",name:"validUntil",type:"date",value:u.validUntil,onChange:y})]})]}),r.jsxs("div",{className:"space-y-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(L,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Mdicaments"}),r.jsxs(V,{type:"button",onClick:j,size:"sm",variant:"outline",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter un mdicament"]})]}),f.map((_,A)=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 space-y-4 bg-gray-50 dark:bg-gray-800",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium text-base text-gray-900 dark:text-gray-100",children:["Mdicament ",A+1]}),f.length>1&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>b(A),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(er,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[r.jsx(L,{className:"text-gray-700 dark:text-gray-300",children:"Mdicament *"}),r.jsxs(Me,{value:_.medication_name,onValueChange:P=>N(A,"medication_name",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner ou taper..."})}),r.jsx(De,{children:v.map(P=>r.jsxs(z,{value:P.name,children:[P.name," (",P.current_quantity," ",P.unit,")"]},P.id))})]}),!v.find(P=>P.name===_.medication_name)&&r.jsx(ae,{className:"mt-2",value:_.medication_name,onChange:P=>N(A,"medication_name",P.target.value),placeholder:"Nom du mdicament personnalis"})]}),r.jsxs("div",{children:[r.jsx(L,{className:"text-gray-700 dark:text-gray-300",children:"Dosage"}),r.jsx(ae,{value:_.dosage||"",onChange:P=>N(A,"dosage",P.target.value),placeholder:"ex: 5mg"})]}),r.jsxs("div",{children:[r.jsx(L,{className:"text-gray-700 dark:text-gray-300",children:"Frquence"}),r.jsxs(Me,{value:_.frequency||"",onValueChange:P=>N(A,"frequency",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner..."})}),r.jsxs(De,{children:[r.jsx(z,{value:"1x/jour",children:"1 fois par jour"}),r.jsx(z,{value:"2x/jour",children:"2 fois par jour"}),r.jsx(z,{value:"3x/jour",children:"3 fois par jour"}),r.jsx(z,{value:"1x/semaine",children:"1 fois par semaine"}),r.jsx(z,{value:"selon besoin",children:"Selon besoin"})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{className:"text-gray-700 dark:text-gray-300",children:"Dure"}),r.jsx(ae,{value:_.duration||"",onChange:P=>N(A,"duration",P.target.value),placeholder:"ex: 7 jours"})]}),r.jsxs("div",{children:[r.jsx(L,{className:"text-gray-700 dark:text-gray-300",children:"Quantit *"}),r.jsx(ae,{type:"number",min:"1",value:_.quantity,onChange:P=>N(A,"quantity",parseInt(P.target.value)||1)})]}),r.jsxs("div",{children:[r.jsx(L,{className:"text-gray-700 dark:text-gray-300",children:"Voie d'administration"}),r.jsxs(Me,{value:_.route||"oral",onValueChange:P=>N(A,"route",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"oral",children:"Orale"}),r.jsx(z,{value:"injectable",children:"Injectable"}),r.jsx(z,{value:"topique",children:"Topique"}),r.jsx(z,{value:"intraveineuse",children:"Intraveineuse"}),r.jsx(z,{value:"intramusculaire",children:"Intramusculaire"}),r.jsx(z,{value:"sous-cutane",children:"Sous-cutane"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{className:"text-gray-700 dark:text-gray-300",children:"Instructions spciales"}),r.jsx(mt,{value:_.instructions||"",onChange:P=>N(A,"instructions",P.target.value),placeholder:"Instructions particulires pour ce mdicament...",className:"h-16"})]})]},A)),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300",children:"Notes gnrales"}),r.jsx(mt,{id:"notes",name:"notes",value:u.notes,onChange:y,placeholder:"Notes gnrales sur la prescription...",className:"h-20"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l.isPending,children:"Annuler"}),r.jsx(V,{type:"submit",disabled:l.isPending,children:l.isPending?"Cration...":"Crer la prescription"})]})]})]})})}function bFe({open:e,onOpenChange:t,prescription:n}){const{updatePrescription:s}=Pt(),{toast:i}=It(),[a,o]=w.useState({date:"",prescribedBy:"",diagnosis:"",instructions:"",duration:"",followUpDate:"",status:"",notes:""}),[l,c]=w.useState([]);w.useEffect(()=>{e&&n&&(o({date:n.date,prescribedBy:n.prescribedBy,diagnosis:n.diagnosis,instructions:n.instructions,duration:n.duration,followUpDate:n.followUpDate||"",status:n.status,notes:n.notes||""}),c([...n.medications]))},[e,n]);const u=y=>{o(N=>({...N,[y.target.id]:y.target.value}))},d=(y,N)=>{o(j=>({...j,[y]:N}))},f=(y,N,j)=>{const b=[...l];b[y]={...b[y],[N]:N==="quantity"||N==="refills"||N==="cost"?Number(j):j},c(b)},m=()=>{const y=Math.max(...l.map(N=>N.id),0)+1;c([...l,{id:y,name:"",dosage:"",frequency:"",duration:"",instructions:"",quantity:1,unit:"comprims",refills:0,cost:0}])},g=y=>{l.length>1&&c(l.filter((N,j)=>j!==y))},x=y=>{if(y.preventDefault(),!n)return;const N=l.filter(j=>j.name.trim()!=="");if(N.length===0){i({title:"Erreur",description:"Au moins un mdicament doit tre spcifi.",variant:"destructive"});return}s(n.id,{date:a.date,prescribedBy:a.prescribedBy,diagnosis:a.diagnosis,medications:N,instructions:a.instructions,duration:a.duration,followUpDate:a.followUpDate||void 0,status:a.status,notes:a.notes}),i({title:"Prescription mise  jour",description:"La prescription a t modifie avec succs."}),t(!1)},v=()=>l.reduce((y,N)=>y+(N.cost||0),0);return n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"h-5 w-5"}),"Modifier la Prescription"]}),r.jsxs(un,{children:["Modifiez la prescription pour ",n.petName," (",n.clientName,")."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"date",children:"Date de prescription *"}),r.jsx(ae,{id:"date",type:"date",value:a.date,onChange:u,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"prescribedBy",children:"Prescrit par *"}),r.jsx(ae,{id:"prescribedBy",value:a.prescribedBy,onChange:u,required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"diagnosis",children:"Diagnostic *"}),r.jsx(ae,{id:"diagnosis",value:a.diagnosis,onChange:u,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"duration",children:"Dure du traitement"}),r.jsx(ae,{id:"duration",value:a.duration,onChange:u})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"followUpDate",children:"Date de suivi"}),r.jsx(ae,{id:"followUpDate",type:"date",value:a.followUpDate,onChange:u,min:a.date})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Statut"}),r.jsxs(Me,{value:a.status,onValueChange:y=>d("status",y),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"active",children:"Active"}),r.jsx(z,{value:"completed",children:"Termine"}),r.jsx(z,{value:"discontinued",children:"Arrte"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(L,{className:"text-base font-medium",children:"Mdicaments prescrits"}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:m,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter mdicament"]})]}),r.jsx("div",{className:"space-y-4",children:l.map((y,N)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Mdicament ",N+1]}),l.length>1&&r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>g(N),className:"text-red-600 hover:text-red-700",children:r.jsx(er,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Nom du mdicament *"}),r.jsx(ae,{value:y.name,onChange:j=>f(N,"name",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Dosage *"}),r.jsx(ae,{value:y.dosage,onChange:j=>f(N,"dosage",j.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Frquence *"}),r.jsx(ae,{value:y.frequency,onChange:j=>f(N,"frequency",j.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Dure"}),r.jsx(ae,{value:y.duration,onChange:j=>f(N,"duration",j.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Quantit"}),r.jsx(ae,{type:"number",value:y.quantity,onChange:j=>f(N,"quantity",parseInt(j.target.value)),min:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Unit"}),r.jsxs(Me,{value:y.unit,onValueChange:j=>f(N,"unit",j),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"comprims",children:"Comprims"}),r.jsx(z,{value:"ml",children:"ml"}),r.jsx(z,{value:"g",children:"g"}),r.jsx(z,{value:"mg",children:"mg"}),r.jsx(z,{value:"ampoules",children:"Ampoules"}),r.jsx(z,{value:"flacons",children:"Flacons"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Cot ()"}),r.jsx(ae,{type:"number",step:"0.01",value:y.cost,onChange:j=>f(N,"cost",parseFloat(j.target.value)),min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Instructions spcifiques"}),r.jsx(ae,{value:y.instructions,onChange:j=>f(N,"instructions",j.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Renouvellements"}),r.jsx(ae,{type:"number",value:y.refills,onChange:j=>f(N,"refills",parseInt(j.target.value)),min:"0"})]})]})]},y.id))}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(Le,{variant:"outline",className:"text-lg px-4 py-2",children:["Cot total: ",v().toFixed(2),""]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"instructions",children:"Instructions gnrales"}),r.jsx(mt,{id:"instructions",value:a.instructions,onChange:u,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes"}),r.jsx(mt,{id:"notes",value:a.notes,onChange:u,rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",className:"gap-2",children:[r.jsx(Tp,{className:"h-4 w-4"}),"Sauvegarder"]})]})]})]})}):null}const wFe="vetpro-veterinarians";function wP({prescription:e}){const{settings:t}=Gt();JSON.parse(localStorage.getItem(wFe)||"[]");const n=e.prescribedBy,s=()=>{const i=window.open("","_blank");if(!i)return;const a=`
      <html>
        <head>
          <title>Prescription - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-info {
              margin-bottom: 30px;
            }
            .patient-info {
              margin-bottom: 30px;
            }
            .prescription-details {
              margin-bottom: 30px;
            }
            .medications {
              margin-bottom: 30px;
            }
            .medication-item {
              border: 1px solid #ccc;
              padding: 15px;
              margin-bottom: 15px;
              border-radius: 5px;
            }
            .instructions {
              margin-bottom: 30px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
            }
            .signature-line {
              border-top: 1px solid #333;
              width: 200px;
              margin: 20px auto;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f2f2f2;
            }
            .total-cost {
              font-weight: bold;
              text-align: right;
              margin-top: 20px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${t.logo?`<img src="${t.logo}" alt="Logo clinique" style="height:60px;margin-bottom:10px;"/>`:""}
            <h1>PRESCRIPTION MDICALE</h1>
            <h2>${t.clinicName}</h2>
            <p>${t.address}<br>
            Tl: ${t.phone} | Email: ${t.email}</p>
          </div>

          <div class="clinic-info">
            <strong>Date de prescription:</strong> ${new Date(e.date).toLocaleDateString("fr-FR")}<br>
            <strong>Prescrit par:</strong> ${n}
          </div>

          <div class="patient-info">
            <h3>Informations du patient</h3>
            <table>
              <tr>
                <th>Propritaire</th>
                <td>${e.clientName}</td>
              </tr>
              <tr>
                <th>Animal</th>
                <td>${e.petName}</td>
              </tr>
              <tr>
                <th>Diagnostic</th>
                <td>${e.diagnosis}</td>
              </tr>
              <tr>
                <th>Dure du traitement</th>
                <td>${e.duration}</td>
              </tr>
            </table>
          </div>

          <div class="medications">
            <h3>Mdicaments prescrits</h3>
            ${e.medications.map(o=>`
              <div class="medication-item">
                <h4>${o.name}</h4>
                <table>
                  <tr>
                    <th>Posologie</th>
                    <td>${o.dosage} - ${o.frequency}</td>
                  </tr>
                  <tr>
                    <th>Dure</th>
                    <td>${o.duration}</td>
                  </tr>
                  <tr>
                    <th>Quantit</th>
                    <td>${o.quantity} ${o.unit}</td>
                  </tr>
                  ${o.refills&&o.refills>0?`
                    <tr>
                      <th>Renouvellements</th>
                      <td>${o.refills}</td>
                    </tr>
                  `:""}
                  ${o.instructions?`
                    <tr>
                      <th>Instructions</th>
                      <td>${o.instructions}</td>
                    </tr>
                  `:""}
                  ${o.cost?`
                    <tr>
                      <th>Cot</th>
                      <td>${o.cost.toFixed(2)}</td>
                    </tr>
                  `:""}
                </table>
              </div>
            `).join("")}
            
            <div class="total-cost">
              Cot total: ${e.medications.reduce((o,l)=>o+(l.cost||0),0).toFixed(2)}
            </div>
          </div>

          ${e.instructions?`
            <div class="instructions">
              <h3>Instructions gnrales</h3>
              <p>${e.instructions}</p>
            </div>
          `:""}

          ${e.followUpDate?`
            <div class="instructions">
              <h3>Suivi</h3>
              <p><strong>Date de suivi prvue:</strong> ${new Date(e.followUpDate).toLocaleDateString("fr-FR")}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="instructions">
              <h3>Notes</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="signature-line"></div>
            <p>Signature du vtrinaire</p>
            <p><small>Cette prescription est valable pour la dure du traitement prescrit.</small></p>
          </div>
        </body>
      </html>
    `;i.document.write(a),i.document.close(),i.focus(),i.print(),i.close()};return r.jsxs(V,{size:"sm",variant:"outline",onClick:s,className:"gap-2",children:[r.jsx(hb,{className:"h-4 w-4"}),"Gnrer Ordonnance"]})}const NFe={active:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",discontinued:"bg-red-100 text-red-800"},SFe={active:"Active",completed:"Termine",discontinued:"Arrte"};function u9({petId:e,consultationId:t}){const{prescriptions:n,getPrescriptionsByPetId:s,getPrescriptionsByConsultationId:i,deletePrescription:a}=Pt(),{toast:o}=It(),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),g=t?i(t):s(e),x=j=>{m(j),d(!0)},v=j=>{confirm(`tes-vous sr de vouloir supprimer la prescription pour ${j.medications.map(b=>b.name).join(", ")} ?`)&&(a(j.id),o({title:"Prescription supprime",description:"La prescription a t supprime avec succs."}))},y=j=>{switch(j){case"active":return r.jsx(Or,{className:"h-4 w-4 text-green-600"});case"completed":return r.jsx(Zn,{className:"h-4 w-4 text-gray-600"});case"discontinued":return r.jsx(ig,{className:"h-4 w-4 text-red-600"});default:return r.jsx(Rn,{className:"h-4 w-4 text-gray-600"})}},N=j=>j.reduce((b,C)=>b+(C.cost||0),0);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Hl,{className:"h-5 w-5"}),"Prescriptions (",g.length,")"]}),r.jsxs(V,{size:"sm",onClick:()=>c(!0),disabled:!t,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Prescription"]})]}),g.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Hl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune prescription trouve"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer une nouvelle prescription"})]})}):r.jsx("div",{className:"space-y-4",children:g.sort((j,b)=>new Date(b.date).getTime()-new Date(j.date).getTime()).map(j=>r.jsxs(de,{className:"card-hover",children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[y(j.status),r.jsx(Le,{className:NFe[j.status],children:SFe[j.status]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx(At,{className:"h-4 w-4 inline mr-1"}),new Date(j.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(wP,{prescription:j}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>x(j),className:"h-8 w-8 p-0",title:"Modifier",children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>v(j),className:"h-8 w-8 p-0 text-red-600",title:"Supprimer",children:r.jsx(er,{className:"h-3 w-3"})})]})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prescrit par:"}),r.jsx("p",{className:"text-muted-foreground",children:j.prescribedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-muted-foreground",children:j.diagnosis})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dure:"}),r.jsx("p",{className:"text-muted-foreground",children:j.duration})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Cot total:"}),r.jsxs("p",{className:"text-muted-foreground",children:[N(j.medications).toFixed(2),""]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Mdicaments prescrits:"}),r.jsx("div",{className:"space-y-3",children:j.medications.map(b=>r.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Posologie:"})," ",b.dosage," - ",b.frequency]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Dure:"})," ",b.duration]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Quantit:"})," ",b.quantity," ",b.unit]}),b.refills&&b.refills>0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Renouvellements:"})," ",b.refills]}),b.instructions&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Instructions:"})," ",b.instructions]})]}),b.cost&&r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"font-medium",children:[b.cost.toFixed(2),""]})})]})},b.id))})]}),j.instructions&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Instructions gnrales:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.instructions})]}),j.followUpDate&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Rn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Suivi prvu:"}),r.jsx("span",{className:"text-muted-foreground",children:new Date(j.followUpDate).toLocaleDateString("fr-FR")})]}),j.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.notes})]})]})]},j.id))})]}),t&&r.jsx(Fk,{open:l,onOpenChange:c,petId:e.toString(),consultationId:t.toString()}),r.jsx(bFe,{open:u,onOpenChange:d,prescription:f})]})}var d9={exports:{}};(function(e,t){(function(n,s){e.exports=s(w)})(typeof self<"u"?self:ur,function(n){return function(){var s={155:function(N){N.exports=n}},i={};function a(N){var j=i[N];if(j!==void 0)return j.exports;var b=i[N]={exports:{}};return s[N](b,b.exports,a),b.exports}a.d=function(N,j){for(var b in j)a.o(j,b)&&!a.o(N,b)&&Object.defineProperty(N,b,{enumerable:!0,get:j[b]})},a.o=function(N,j){return Object.prototype.hasOwnProperty.call(N,j)},a.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return y}});var l=a(155);function c({level:N="error",messages:j,suppressErrors:b=!1}){b||(N==="error"?console.error(j):N==="warning"?console.warn(j):console.debug(j))}function u(N,j){if(j||!N){const b=document.getElementById("printWindow");b&&document.body.removeChild(b)}}function d(N){return N instanceof Error?N:new Error("Unknown Error")}function f(N,j){const{documentTitle:b,onAfterPrint:C,onPrintError:_,preserveAfterPrint:A,print:P,suppressErrors:E}=j;setTimeout(()=>{var D,I;if(N.contentWindow){let O=function(){C==null||C(),u(A)};var k=O;if(N.contentWindow.focus(),P)P(N).then(O).catch(U=>{_?_("print",d(U)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(N.contentWindow.print){const U=(I=(D=N.contentDocument)===null||D===void 0?void 0:D.title)!==null&&I!==void 0?I:"",B=N.ownerDocument.title;b&&(N.ownerDocument.title=b,N.contentDocument&&(N.contentDocument.title=b)),N.contentWindow.print(),b&&(N.ownerDocument.title=B,N.contentDocument&&(N.contentDocument.title=U))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(U=>{var B,ne;return((ne=(B=navigator.userAgent)!==null&&B!==void 0?B:navigator.vendor)!==null&&ne!==void 0?ne:"opera"in window&&window.opera).match(U)})?setTimeout(O,500):O()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function m(N){const j=[],b=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let C=b.nextNode();for(;C;)j.push(C),C=b.nextNode();return j}function g(N,j,b){const C=m(N),_=m(j);if(C.length===_.length)for(let A=0;A<C.length;A++){const P=C[A],E=_[A],D=P.shadowRoot;if(D!==null){const I=E.attachShadow({mode:D.mode});I.innerHTML=D.innerHTML,g(D,I,b)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,j],suppressErrors:b})}const x=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function v(N,j,b,C){var _,A,P,E,D;const{contentNode:I,clonedContentNode:k,clonedImgNodes:O,clonedVideoNodes:U,numResourcesToLoad:B,originalCanvasNodes:ne}=b,{bodyClass:Y,fonts:J,ignoreGlobalStyles:q,pageStyle:$,nonce:le,suppressErrors:se,copyShadowRoots:re}=C;N.onload=null;const K=(_=N.contentDocument)!==null&&_!==void 0?_:(A=N.contentWindow)===null||A===void 0?void 0:A.document;if(K){const ee=K.body.appendChild(k);re&&g(I,ee,!!se),J&&(!((P=N.contentDocument)===null||P===void 0)&&P.fonts&&(!((E=N.contentWindow)===null||E===void 0)&&E.FontFace)?J.forEach(G=>{const M=new FontFace(G.family,G.source,{weight:G.weight,style:G.style});N.contentDocument.fonts.add(M),M.loaded.then(()=>{j(M)}).catch(ye=>{j(M,["Failed loading the font:",M,"Load error:",d(ye)])})}):(J.forEach(G=>{j(G)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:se})));const ge=$??x,xe=K.createElement("style");le&&(xe.setAttribute("nonce",le),K.head.setAttribute("nonce",le)),xe.appendChild(K.createTextNode(ge)),K.head.appendChild(xe),Y&&K.body.classList.add(...Y.split(" "));const be=K.querySelectorAll("canvas");for(let G=0;G<ne.length;++G){const M=ne[G],ye=be[G];if(ye===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",M],suppressErrors:se});continue}const Ne=ye.getContext("2d");Ne&&Ne.drawImage(M,0,0)}for(let G=0;G<O.length;G++){const M=O[G],ye=M.getAttribute("src");if(ye){const Ne=new Image;Ne.onload=()=>{j(M)},Ne.onerror=(fe,Pe,Ze,at,dt)=>{j(M,["Error loading <img>",M,"Error",dt])},Ne.src=ye}else j(M,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',M])}for(let G=0;G<U.length;G++){const M=U[G];M.preload="auto";const ye=M.getAttribute("poster");if(ye){const Ne=new Image;Ne.onload=()=>{j(M)},Ne.onerror=(fe,Pe,Ze,at,dt)=>{j(M,["Error loading video poster",ye,"for video",M,"Error:",dt])},Ne.src=ye}else M.readyState>=2?j(M):M.src?(M.onloadeddata=()=>{j(M)},M.onerror=(Ne,fe,Pe,Ze,at)=>{j(M,["Error loading video",M,"Error",at])},M.onstalled=()=>{j(M,["Loading video stalled, skipping",M])}):j(M,["Error loading video, `src` is empty",M])}const F="select",X=I.querySelectorAll(F),te=K.querySelectorAll(F);for(let G=0;G<X.length;G++)te[G].value=X[G].value;if(!q){const G=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let M=0,ye=G.length;M<ye;++M){const Ne=G[M];if(Ne.tagName.toLowerCase()==="style"){const fe=K.createElement(Ne.tagName),Pe=Ne.sheet;if(Pe){let Ze="";try{const at=Pe.cssRules.length;for(let dt=0;dt<at;++dt)typeof Pe.cssRules[dt].cssText=="string"&&(Ze+=`${Pe.cssRules[dt].cssText}\r
`)}catch(at){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ne,`Original error: ${d(at).message}`],level:"warning"})}fe.setAttribute("id",`react-to-print-${M}`),le&&fe.setAttribute("nonce",le),fe.appendChild(K.createTextNode(Ze)),K.head.appendChild(fe)}}else if(Ne.getAttribute("href"))if(Ne.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ne],level:"warning"}),j(Ne);else{const fe=K.createElement(Ne.tagName);for(let Pe=0,Ze=Ne.attributes.length;Pe<Ze;++Pe){const at=Ne.attributes[Pe];at&&fe.setAttribute(at.nodeName,(D=at.nodeValue)!==null&&D!==void 0?D:"")}fe.onload=()=>{j(fe)},fe.onerror=(Pe,Ze,at,dt,Se)=>{j(fe,["Failed to load",fe,"Error:",Se])},le&&fe.setAttribute("nonce",le),K.head.appendChild(fe)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ne],level:"warning"}),j(Ne)}}}B===0&&f(N,C)}function y({bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:C,fonts:_,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:D,onPrintError:I,pageStyle:k,preserveAfterPrint:O,print:U,suppressErrors:B}){return(0,l.useCallback)(ne=>{function Y(){const J={bodyClass:N,contentRef:j,copyShadowRoots:b,documentTitle:C,fonts:_,ignoreGlobalStyles:A,nonce:P,onAfterPrint:E,onBeforePrint:D,onPrintError:I,pageStyle:k,preserveAfterPrint:O,print:U,suppressErrors:B},q=function(){const se=document.createElement("iframe");return se.width=`${document.documentElement.clientWidth}px`,se.height=`${document.documentElement.clientHeight}px`,se.style.position="absolute",se.style.top=`-${document.documentElement.clientHeight+100}px`,se.style.left=`-${document.documentElement.clientWidth+100}px`,se.id="printWindow",se.srcdoc="<!DOCTYPE html>",se}(),$=function(se,re){const{contentRef:K,fonts:ee,ignoreGlobalStyles:ge,suppressErrors:xe}=re,be=function({contentRef:ye,optionalContent:Ne,suppressErrors:fe}){return Ne&&typeof Ne=="function"?(ye&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Ne()):ye?ye.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:fe})}({contentRef:K,optionalContent:se,suppressErrors:xe});if(!be)return;const F=be.cloneNode(!0),X=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),te=F.querySelectorAll("img"),G=F.querySelectorAll("video"),M=ee?ee.length:0;return{contentNode:be,clonedContentNode:F,clonedImgNodes:te,clonedVideoNodes:G,numResourcesToLoad:(ge?0:X.length)+te.length+G.length+M,originalCanvasNodes:be.querySelectorAll("canvas")}}(ne,J);if(!$)return void c({messages:["There is nothing to print"],suppressErrors:B});const le=function(se,re,K){const{suppressErrors:ee}=se,ge=[],xe=[];return function(be,F){ge.includes(be)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",be],suppressErrors:ee}):(F?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...F],suppressErrors:ee}),xe.push(be)):ge.push(be),ge.length+xe.length===re&&f(K,se))}}(J,$.numResourcesToLoad,q);(function(se,re,K,ee){se.onload=()=>{v(se,re,K,ee)},document.body.appendChild(se)})(q,le,$,J)}u(O,!0),D?D().then(()=>{Y()}).catch(J=>{I==null||I("onBeforePrint",d(J))}):Y()},[N,j,b,C,_,A,P,E,D,I,k,O,U,B])}return o}()})})(d9);var Bk=d9.exports,CFe=Object.defineProperty,Uj=Object.getOwnPropertySymbols,h9=Object.prototype.hasOwnProperty,f9=Object.prototype.propertyIsEnumerable,V3=(e,t,n)=>t in e?CFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NP=(e,t)=>{for(var n in t||(t={}))h9.call(t,n)&&V3(e,n,t[n]);if(Uj)for(var n of Uj(t))f9.call(t,n)&&V3(e,n,t[n]);return e},SP=(e,t)=>{var n={};for(var s in e)h9.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Uj)for(var s of Uj(e))t.indexOf(s)<0&&f9.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ld;(e=>{const t=class Yt{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Yt.MIN_VERSION||c>Yt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),f==-1){let x=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<x&&(f=v,x=y),this.applyMask(v)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Yt.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Yt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,g=!0){if(!(Yt.MIN_VERSION<=d&&d<=f&&f<=Yt.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,v;for(x=d;;x++){const b=Yt.getNumDataCodewords(x,u)*8,C=o.getTotalBits(c,x);if(C<=b){v=C;break}if(x>=f)throw new RangeError("Data too long")}for(const b of[Yt.Ecc.MEDIUM,Yt.Ecc.QUARTILE,Yt.Ecc.HIGH])g&&v<=Yt.getNumDataCodewords(x,b)*8&&(u=b);let y=[];for(const b of c){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(x),y);for(const C of b.getData())y.push(C)}i(y.length==v);const N=Yt.getNumDataCodewords(x,u)*8;i(y.length<=N),n(0,Math.min(4,N-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let b=236;y.length<N;b^=253)n(b,8,y);let j=[];for(;j.length*8<y.length;)j.push(0);return y.forEach((b,C)=>j[C>>>3]|=b<<7-(C&7)),new Yt(x,u,j,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,s(f,m));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,s(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,s(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,s(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const f=s(u,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,f),this.setFunctionModule(g,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),g=c+f,x=u+d;0<=g&&g<this.size&&0<=x&&x<this.size&&this.setFunctionModule(g,x,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Yt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Yt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Yt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(Yt.getNumRawDataModules(u)/8),x=f-g%f,v=Math.floor(g/f);let y=[];const N=Yt.reedSolomonComputeDivisor(m);for(let b=0,C=0;b<f;b++){let _=c.slice(C,C+v-m+(b<x?0:1));C+=_.length;const A=Yt.reedSolomonComputeRemainder(_,N);b<x&&_.push(0),y.push(_.concat(A))}let j=[];for(let b=0;b<y[0].length;b++)y.forEach((C,_)=>{(b!=v-m||_>=x)&&j.push(C[b])});return i(j.length==g),j}drawCodewords(c){if(c.length!=Math.floor(Yt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const g=d-m,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][g]&&u<c.length*8&&(this.modules[v][g]=s(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[m][y]==g?(x++,x==5?c+=Yt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Yt.PENALTY_N3),g=this.modules[m][y],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Yt.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,x=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][m]==g?(x++,x==5?c+=Yt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,v),g||(c+=this.finderPenaltyCountPatterns(v)*Yt.PENALTY_N3),g=this.modules[y][m],x=1);c+=this.finderPenaltyTerminateAndCount(g,x,v)*Yt.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const x=this.modules[m][g];x==this.modules[m][g+1]&&x==this.modules[m+1][g]&&x==this.modules[m+1][g+1]&&(c+=Yt.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,x)=>g+(x?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=f&&f<=9),c+=f*Yt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Yt.MIN_VERSION||c>Yt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Yt.getNumRawDataModules(c)/8)-Yt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Yt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Yt.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Yt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((g,x)=>d[x]^=Yt.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class ar{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new ar(ar.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!ar.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new ar(ar.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!ar.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=ar.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=ar.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(ar.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new ar(ar.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:ar.isNumeric(c)?[ar.makeNumeric(c)]:ar.isAlphanumeric(c)?[ar.makeAlphanumeric(c)]:[ar.makeBytes(ar.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new ar(ar.Mode.ECI,0,u)}static isNumeric(c){return ar.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return ar.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(ld||(ld={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(ld||(ld={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(ld||(ld={}));var Nh=ld;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _Fe={L:Nh.QrCode.Ecc.LOW,M:Nh.QrCode.Ecc.MEDIUM,Q:Nh.QrCode.Ecc.QUARTILE,H:Nh.QrCode.Ecc.HIGH},m9=128,p9="L",g9="#FFFFFF",v9="#000000",x9=!1,y9=1,PFe=4,AFe=0,EFe=.1;function j9(e,t=0){const n=[];return e.forEach(function(s,i){let a=null;s.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===s.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function b9(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function kFe(e,t,n,s){if(s==null)return null;const i=e.length+n*2,a=Math.floor(t*EFe),o=i/t,l=(s.width||a)*o,c=(s.height||a)*o,u=s.x==null?e.length/2-l/2:s.x*o,d=s.y==null?e.length/2-c/2:s.y*o,f=s.opacity==null?1:s.opacity;let m=null;if(s.excavate){let x=Math.floor(u),v=Math.floor(d),y=Math.ceil(l+u-x),N=Math.ceil(c+d-v);m={x,y:v,w:y,h:N}}const g=s.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:g}}function TFe(e,t){return t!=null?Math.max(Math.floor(t),0):e?PFe:AFe}function w9({value:e,level:t,minVersion:n,includeMargin:s,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=W.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((v,y)=>(v.push(...Nh.QrSegment.makeSegments(y)),v),[]);return Nh.QrCode.encodeSegments(x,_Fe[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=W.useMemo(()=>{let g=c.getModules();const x=TFe(s,i),v=g.length+x*2,y=kFe(g,o,x,a);return{cells:g,margin:x,numCells:v,calculatedImageSettings:y}},[c,o,a,s,i]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var OFe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),N9=W.forwardRef(function(t,n){const s=t,{value:i,size:a=m9,level:o=p9,bgColor:l=g9,fgColor:c=v9,includeMargin:u=x9,minVersion:d=y9,boostLevel:f,marginSize:m,imageSettings:g}=s,v=SP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=v,N=SP(v,["style"]),j=g==null?void 0:g.src,b=W.useRef(null),C=W.useRef(null),_=W.useCallback(B=>{b.current=B,typeof n=="function"?n(B):n&&(n.current=B)},[n]),[A,P]=W.useState(!1),{margin:E,cells:D,numCells:I,calculatedImageSettings:k}=w9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:a});W.useEffect(()=>{if(b.current!=null){const B=b.current,ne=B.getContext("2d");if(!ne)return;let Y=D;const J=C.current,q=k!=null&&J!==null&&J.complete&&J.naturalHeight!==0&&J.naturalWidth!==0;q&&k.excavation!=null&&(Y=b9(D,k.excavation));const $=window.devicePixelRatio||1;B.height=B.width=a*$;const le=a/I*$;ne.scale(le,le),ne.fillStyle=l,ne.fillRect(0,0,I,I),ne.fillStyle=c,OFe?ne.fill(new Path2D(j9(Y,E))):D.forEach(function(se,re){se.forEach(function(K,ee){K&&ne.fillRect(ee+E,re+E,1,1)})}),k&&(ne.globalAlpha=k.opacity),q&&ne.drawImage(J,k.x+E,k.y+E,k.w,k.h)}}),W.useEffect(()=>{P(!1)},[j]);const O=NP({height:a,width:a},y);let U=null;return j!=null&&(U=W.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{P(!0)},ref:C,crossOrigin:k==null?void 0:k.crossOrigin})),W.createElement(W.Fragment,null,W.createElement("canvas",NP({style:O,height:a,width:a,ref:_,role:"img"},N)),U)});N9.displayName="QRCodeCanvas";var DFe=W.forwardRef(function(t,n){const s=t,{value:i,size:a=m9,level:o=p9,bgColor:l=g9,fgColor:c=v9,includeMargin:u=x9,minVersion:d=y9,boostLevel:f,title:m,marginSize:g,imageSettings:x}=s,v=SP(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:N,numCells:j,calculatedImageSettings:b}=w9({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:x,size:a});let C=N,_=null;x!=null&&b!=null&&(b.excavation!=null&&(C=b9(N,b.excavation)),_=W.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const A=j9(C,y);return W.createElement("svg",NP({height:a,width:a,viewBox:`0 0 ${j} ${j}`,ref:n,role:"img"},v),!!m&&W.createElement("title",null,m),W.createElement("path",{fill:l,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),W.createElement("path",{fill:c,d:A,shapeRendering:"crispEdges"}),_)});DFe.displayName="QRCodeSVG";var qj={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */qj.exports;(function(e,t){(function(){var n,s="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,m=2,g=4,x=1,v=2,y=1,N=2,j=4,b=8,C=16,_=32,A=64,P=128,E=256,D=512,I=30,k="...",O=800,U=16,B=1,ne=2,Y=3,J=1/0,q=9007199254740991,$=17976931348623157e292,le=NaN,se=4294967295,re=se-1,K=se>>>1,ee=[["ary",P],["bind",y],["bindKey",N],["curry",b],["curryRight",C],["flip",D],["partial",_],["partialRight",A],["rearg",E]],ge="[object Arguments]",xe="[object Array]",be="[object AsyncFunction]",F="[object Boolean]",X="[object Date]",te="[object DOMException]",G="[object Error]",M="[object Function]",ye="[object GeneratorFunction]",Ne="[object Map]",fe="[object Number]",Pe="[object Null]",Ze="[object Object]",at="[object Promise]",dt="[object Proxy]",Se="[object RegExp]",qe="[object Set]",We="[object String]",Ft="[object Symbol]",xn="[object Undefined]",_t="[object WeakMap]",fn="[object WeakSet]",dr="[object ArrayBuffer]",Yn="[object DataView]",ys="[object Float32Array]",Ce="[object Float64Array]",Wt="[object Int8Array]",nt="[object Int16Array]",pt="[object Int32Array]",sn="[object Uint8Array]",os="[object Uint8ClampedArray]",Xr="[object Uint16Array]",Bs="[object Uint32Array]",bl=/\b__p \+= '';/g,ce=/\b(__p \+=) '' \+/g,He=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,Tn=/[&<>"']/g,Qn=RegExp(Be.source),ia=RegExp(Tn.source),Ct=/<%-([\s\S]+?)%>/g,on=/<%([\s\S]+?)%>/g,yn=/<%=([\s\S]+?)%>/g,js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bs=/^\w*$/,Ei=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ai=/[\\^$.*+?()[\]{}|]/g,ws=RegExp(ai.source),zs=/^\s+/,Rw=/\s/,Lw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fw=/\{\n\/\* \[wrapped with (.+)\] \*/,Bw=/,? & /,zw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vw=/[()=,{}\[\]\/\s]/,Uw=/\\(\\)?/g,qw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dv=/\w*$/,Ww=/^[-+]0x[0-9a-f]+$/i,Hw=/^0b[01]+$/i,Gw=/^\[object .+?Constructor\]$/,jm=/^0o[0-7]+$/i,Nd=/^(?:0|[1-9]\d*)$/,Kw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Co=/($^)/,Yw=/['\n\r\u2028\u2029\\]/g,Sd="\\ud800-\\udfff",Qw="\\u0300-\\u036f",Xw="\\ufe20-\\ufe2f",Jw="\\u20d0-\\u20ff",Mv=Qw+Xw+Jw,Iv="\\u2700-\\u27bf",$v="a-z\\xdf-\\xf6\\xf8-\\xff",Zw="\\xac\\xb1\\xd7\\xf7",eN="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tN="\\u2000-\\u206f",nN=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rv="A-Z\\xc0-\\xd6\\xd8-\\xde",Lv="\\ufe0e\\ufe0f",Fv=Zw+eN+tN+nN,bm="[']",wl="["+Sd+"]",Bv="["+Fv+"]",Cd="["+Mv+"]",_d="\\d+",wm="["+Iv+"]",zv="["+$v+"]",ie="[^"+Sd+Fv+_d+Iv+$v+Rv+"]",Z="\\ud83c[\\udffb-\\udfff]",me="(?:"+Cd+"|"+Z+")",ve="[^"+Sd+"]",Ge="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Rv+"]",ot="\\u200d",Pn="(?:"+zv+"|"+ie+")",jn="(?:"+ze+"|"+ie+")",ht="(?:"+bm+"(?:d|ll|m|re|s|t|ve))?",Ln="(?:"+bm+"(?:D|LL|M|RE|S|T|VE))?",Jr=me+"?",aa="["+Lv+"]?",Wa="(?:"+ot+"(?:"+[ve,Ge,Je].join("|")+")"+aa+Jr+")*",Pd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nm=aa+Jr+Wa,sN="(?:"+[wm,Ge,Je].join("|")+")"+Nm,iN="(?:"+[ve+Cd+"?",Cd,Ge,Je,wl].join("|")+")",aN=RegExp(bm,"g"),oN=RegExp(Cd,"g"),Sm=RegExp(Z+"(?="+Z+")|"+iN+Nm,"g"),lN=RegExp([ze+"?"+zv+"+"+ht+"(?="+[Bv,ze,"$"].join("|")+")",jn+"+"+Ln+"(?="+[Bv,ze+Pn,"$"].join("|")+")",ze+"?"+Pn+"+"+ht,ze+"+"+Ln,rN,Pd,_d,sN].join("|"),"g"),cN=RegExp("["+ot+Sd+Mv+Lv+"]"),uN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hN=-1,An={};An[ys]=An[Ce]=An[Wt]=An[nt]=An[pt]=An[sn]=An[os]=An[Xr]=An[Bs]=!0,An[ge]=An[xe]=An[dr]=An[F]=An[Yn]=An[X]=An[G]=An[M]=An[Ne]=An[fe]=An[Ze]=An[Se]=An[qe]=An[We]=An[_t]=!1;var Cn={};Cn[ge]=Cn[xe]=Cn[dr]=Cn[Yn]=Cn[F]=Cn[X]=Cn[ys]=Cn[Ce]=Cn[Wt]=Cn[nt]=Cn[pt]=Cn[Ne]=Cn[fe]=Cn[Ze]=Cn[Se]=Cn[qe]=Cn[We]=Cn[Ft]=Cn[sn]=Cn[os]=Cn[Xr]=Cn[Bs]=!0,Cn[G]=Cn[M]=Cn[_t]=!1;var fN={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Vk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},mN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},I9=parseFloat,$9=parseInt,Uk=typeof ur=="object"&&ur&&ur.Object===Object&&ur,R9=typeof self=="object"&&self&&self.Object===Object&&self,Zr=Uk||R9||Function("return this")(),pN=t&&!t.nodeType&&t,Kc=pN&&!0&&e&&!e.nodeType&&e,qk=Kc&&Kc.exports===pN,gN=qk&&Uk.process,ki=function(){try{var je=Kc&&Kc.require&&Kc.require("util").types;return je||gN&&gN.binding&&gN.binding("util")}catch{}}(),Wk=ki&&ki.isArrayBuffer,Hk=ki&&ki.isDate,Gk=ki&&ki.isMap,Kk=ki&&ki.isRegExp,Yk=ki&&ki.isSet,Qk=ki&&ki.isTypedArray;function oi(je,Te,_e){switch(_e.length){case 0:return je.call(Te);case 1:return je.call(Te,_e[0]);case 2:return je.call(Te,_e[0],_e[1]);case 3:return je.call(Te,_e[0],_e[1],_e[2])}return je.apply(Te,_e)}function L9(je,Te,_e,tt){for(var Mt=-1,hn=je==null?0:je.length;++Mt<hn;){var Cr=je[Mt];Te(tt,Cr,_e(Cr),je)}return tt}function Ti(je,Te){for(var _e=-1,tt=je==null?0:je.length;++_e<tt&&Te(je[_e],_e,je)!==!1;);return je}function F9(je,Te){for(var _e=je==null?0:je.length;_e--&&Te(je[_e],_e,je)!==!1;);return je}function Xk(je,Te){for(var _e=-1,tt=je==null?0:je.length;++_e<tt;)if(!Te(je[_e],_e,je))return!1;return!0}function Nl(je,Te){for(var _e=-1,tt=je==null?0:je.length,Mt=0,hn=[];++_e<tt;){var Cr=je[_e];Te(Cr,_e,je)&&(hn[Mt++]=Cr)}return hn}function Uv(je,Te){var _e=je==null?0:je.length;return!!_e&&Ad(je,Te,0)>-1}function vN(je,Te,_e){for(var tt=-1,Mt=je==null?0:je.length;++tt<Mt;)if(_e(Te,je[tt]))return!0;return!1}function Wn(je,Te){for(var _e=-1,tt=je==null?0:je.length,Mt=Array(tt);++_e<tt;)Mt[_e]=Te(je[_e],_e,je);return Mt}function Sl(je,Te){for(var _e=-1,tt=Te.length,Mt=je.length;++_e<tt;)je[Mt+_e]=Te[_e];return je}function xN(je,Te,_e,tt){var Mt=-1,hn=je==null?0:je.length;for(tt&&hn&&(_e=je[++Mt]);++Mt<hn;)_e=Te(_e,je[Mt],Mt,je);return _e}function B9(je,Te,_e,tt){var Mt=je==null?0:je.length;for(tt&&Mt&&(_e=je[--Mt]);Mt--;)_e=Te(_e,je[Mt],Mt,je);return _e}function yN(je,Te){for(var _e=-1,tt=je==null?0:je.length;++_e<tt;)if(Te(je[_e],_e,je))return!0;return!1}var z9=jN("length");function V9(je){return je.split("")}function U9(je){return je.match(zw)||[]}function Jk(je,Te,_e){var tt;return _e(je,function(Mt,hn,Cr){if(Te(Mt,hn,Cr))return tt=hn,!1}),tt}function qv(je,Te,_e,tt){for(var Mt=je.length,hn=_e+(tt?1:-1);tt?hn--:++hn<Mt;)if(Te(je[hn],hn,je))return hn;return-1}function Ad(je,Te,_e){return Te===Te?tH(je,Te,_e):qv(je,Zk,_e)}function q9(je,Te,_e,tt){for(var Mt=_e-1,hn=je.length;++Mt<hn;)if(tt(je[Mt],Te))return Mt;return-1}function Zk(je){return je!==je}function eT(je,Te){var _e=je==null?0:je.length;return _e?wN(je,Te)/_e:le}function jN(je){return function(Te){return Te==null?n:Te[je]}}function bN(je){return function(Te){return je==null?n:je[Te]}}function tT(je,Te,_e,tt,Mt){return Mt(je,function(hn,Cr,En){_e=tt?(tt=!1,hn):Te(_e,hn,Cr,En)}),_e}function W9(je,Te){var _e=je.length;for(je.sort(Te);_e--;)je[_e]=je[_e].value;return je}function wN(je,Te){for(var _e,tt=-1,Mt=je.length;++tt<Mt;){var hn=Te(je[tt]);hn!==n&&(_e=_e===n?hn:_e+hn)}return _e}function NN(je,Te){for(var _e=-1,tt=Array(je);++_e<je;)tt[_e]=Te(_e);return tt}function H9(je,Te){return Wn(Te,function(_e){return[_e,je[_e]]})}function nT(je){return je&&je.slice(0,aT(je)+1).replace(zs,"")}function li(je){return function(Te){return je(Te)}}function SN(je,Te){return Wn(Te,function(_e){return je[_e]})}function Cm(je,Te){return je.has(Te)}function rT(je,Te){for(var _e=-1,tt=je.length;++_e<tt&&Ad(Te,je[_e],0)>-1;);return _e}function sT(je,Te){for(var _e=je.length;_e--&&Ad(Te,je[_e],0)>-1;);return _e}function G9(je,Te){for(var _e=je.length,tt=0;_e--;)je[_e]===Te&&++tt;return tt}var K9=bN(fN),Y9=bN(Vk);function Q9(je){return"\\"+mN[je]}function X9(je,Te){return je==null?n:je[Te]}function Ed(je){return cN.test(je)}function J9(je){return uN.test(je)}function Z9(je){for(var Te,_e=[];!(Te=je.next()).done;)_e.push(Te.value);return _e}function CN(je){var Te=-1,_e=Array(je.size);return je.forEach(function(tt,Mt){_e[++Te]=[Mt,tt]}),_e}function iT(je,Te){return function(_e){return je(Te(_e))}}function Cl(je,Te){for(var _e=-1,tt=je.length,Mt=0,hn=[];++_e<tt;){var Cr=je[_e];(Cr===Te||Cr===d)&&(je[_e]=d,hn[Mt++]=_e)}return hn}function Wv(je){var Te=-1,_e=Array(je.size);return je.forEach(function(tt){_e[++Te]=tt}),_e}function eH(je){var Te=-1,_e=Array(je.size);return je.forEach(function(tt){_e[++Te]=[tt,tt]}),_e}function tH(je,Te,_e){for(var tt=_e-1,Mt=je.length;++tt<Mt;)if(je[tt]===Te)return tt;return-1}function nH(je,Te,_e){for(var tt=_e+1;tt--;)if(je[tt]===Te)return tt;return tt}function kd(je){return Ed(je)?sH(je):z9(je)}function oa(je){return Ed(je)?iH(je):V9(je)}function aT(je){for(var Te=je.length;Te--&&Rw.test(je.charAt(Te)););return Te}var rH=bN(Vv);function sH(je){for(var Te=Sm.lastIndex=0;Sm.test(je);)++Te;return Te}function iH(je){return je.match(Sm)||[]}function aH(je){return je.match(lN)||[]}var oH=function je(Te){Te=Te==null?Zr:Td.defaults(Zr.Object(),Te,Td.pick(Zr,dN));var _e=Te.Array,tt=Te.Date,Mt=Te.Error,hn=Te.Function,Cr=Te.Math,En=Te.Object,_N=Te.RegExp,lH=Te.String,Oi=Te.TypeError,Hv=_e.prototype,cH=hn.prototype,Od=En.prototype,Gv=Te["__core-js_shared__"],Kv=cH.toString,bn=Od.hasOwnProperty,uH=0,oT=function(){var h=/[^.]+$/.exec(Gv&&Gv.keys&&Gv.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Yv=Od.toString,dH=Kv.call(En),hH=Zr._,fH=_N("^"+Kv.call(bn).replace(ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qv=qk?Te.Buffer:n,_l=Te.Symbol,Xv=Te.Uint8Array,lT=Qv?Qv.allocUnsafe:n,Jv=iT(En.getPrototypeOf,En),cT=En.create,uT=Od.propertyIsEnumerable,Zv=Hv.splice,dT=_l?_l.isConcatSpreadable:n,_m=_l?_l.iterator:n,Yc=_l?_l.toStringTag:n,ex=function(){try{var h=eu(En,"defineProperty");return h({},"",{}),h}catch{}}(),mH=Te.clearTimeout!==Zr.clearTimeout&&Te.clearTimeout,pH=tt&&tt.now!==Zr.Date.now&&tt.now,gH=Te.setTimeout!==Zr.setTimeout&&Te.setTimeout,tx=Cr.ceil,nx=Cr.floor,PN=En.getOwnPropertySymbols,vH=Qv?Qv.isBuffer:n,hT=Te.isFinite,xH=Hv.join,yH=iT(En.keys,En),_r=Cr.max,ls=Cr.min,jH=tt.now,bH=Te.parseInt,fT=Cr.random,wH=Hv.reverse,AN=eu(Te,"DataView"),Pm=eu(Te,"Map"),EN=eu(Te,"Promise"),Dd=eu(Te,"Set"),Am=eu(Te,"WeakMap"),Em=eu(En,"create"),rx=Am&&new Am,Md={},NH=tu(AN),SH=tu(Pm),CH=tu(EN),_H=tu(Dd),PH=tu(Am),sx=_l?_l.prototype:n,km=sx?sx.valueOf:n,mT=sx?sx.toString:n;function H(h){if(sr(h)&&!$t(h)&&!(h instanceof en)){if(h instanceof Di)return h;if(bn.call(h,"__wrapped__"))return pO(h)}return new Di(h)}var Id=function(){function h(){}return function(p){if(!Xn(p))return{};if(cT)return cT(p);h.prototype=p;var S=new h;return h.prototype=n,S}}();function ix(){}function Di(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}H.templateSettings={escape:Ct,evaluate:on,interpolate:yn,variable:"",imports:{_:H}},H.prototype=ix.prototype,H.prototype.constructor=H,Di.prototype=Id(ix.prototype),Di.prototype.constructor=Di;function en(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function AH(){var h=new en(this.__wrapped__);return h.__actions__=Vs(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Vs(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Vs(this.__views__),h}function EH(){if(this.__filtered__){var h=new en(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function kH(){var h=this.__wrapped__.value(),p=this.__dir__,S=$t(h),T=p<0,R=S?h.length:0,Q=VG(0,R,this.__views__),oe=Q.start,pe=Q.end,we=pe-oe,$e=T?pe:oe-1,Re=this.__iteratees__,Fe=Re.length,Qe=0,lt=ls(we,this.__takeCount__);if(!S||!T&&R==we&&lt==we)return LT(h,this.__actions__);var xt=[];e:for(;we--&&Qe<lt;){$e+=p;for(var Vt=-1,yt=h[$e];++Vt<Fe;){var Kt=Re[Vt],nn=Kt.iteratee,di=Kt.type,Cs=nn(yt);if(di==ne)yt=Cs;else if(!Cs){if(di==B)continue e;break e}}xt[Qe++]=yt}return xt}en.prototype=Id(ix.prototype),en.prototype.constructor=en;function Qc(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function TH(){this.__data__=Em?Em(null):{},this.size=0}function OH(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function DH(h){var p=this.__data__;if(Em){var S=p[h];return S===c?n:S}return bn.call(p,h)?p[h]:n}function MH(h){var p=this.__data__;return Em?p[h]!==n:bn.call(p,h)}function IH(h,p){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=Em&&p===n?c:p,this}Qc.prototype.clear=TH,Qc.prototype.delete=OH,Qc.prototype.get=DH,Qc.prototype.has=MH,Qc.prototype.set=IH;function _o(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function $H(){this.__data__=[],this.size=0}function RH(h){var p=this.__data__,S=ax(p,h);if(S<0)return!1;var T=p.length-1;return S==T?p.pop():Zv.call(p,S,1),--this.size,!0}function LH(h){var p=this.__data__,S=ax(p,h);return S<0?n:p[S][1]}function FH(h){return ax(this.__data__,h)>-1}function BH(h,p){var S=this.__data__,T=ax(S,h);return T<0?(++this.size,S.push([h,p])):S[T][1]=p,this}_o.prototype.clear=$H,_o.prototype.delete=RH,_o.prototype.get=LH,_o.prototype.has=FH,_o.prototype.set=BH;function Po(h){var p=-1,S=h==null?0:h.length;for(this.clear();++p<S;){var T=h[p];this.set(T[0],T[1])}}function zH(){this.size=0,this.__data__={hash:new Qc,map:new(Pm||_o),string:new Qc}}function VH(h){var p=xx(this,h).delete(h);return this.size-=p?1:0,p}function UH(h){return xx(this,h).get(h)}function qH(h){return xx(this,h).has(h)}function WH(h,p){var S=xx(this,h),T=S.size;return S.set(h,p),this.size+=S.size==T?0:1,this}Po.prototype.clear=zH,Po.prototype.delete=VH,Po.prototype.get=UH,Po.prototype.has=qH,Po.prototype.set=WH;function Xc(h){var p=-1,S=h==null?0:h.length;for(this.__data__=new Po;++p<S;)this.add(h[p])}function HH(h){return this.__data__.set(h,c),this}function GH(h){return this.__data__.has(h)}Xc.prototype.add=Xc.prototype.push=HH,Xc.prototype.has=GH;function la(h){var p=this.__data__=new _o(h);this.size=p.size}function KH(){this.__data__=new _o,this.size=0}function YH(h){var p=this.__data__,S=p.delete(h);return this.size=p.size,S}function QH(h){return this.__data__.get(h)}function XH(h){return this.__data__.has(h)}function JH(h,p){var S=this.__data__;if(S instanceof _o){var T=S.__data__;if(!Pm||T.length<i-1)return T.push([h,p]),this.size=++S.size,this;S=this.__data__=new Po(T)}return S.set(h,p),this.size=S.size,this}la.prototype.clear=KH,la.prototype.delete=YH,la.prototype.get=QH,la.prototype.has=XH,la.prototype.set=JH;function pT(h,p){var S=$t(h),T=!S&&nu(h),R=!S&&!T&&Tl(h),Q=!S&&!T&&!R&&Fd(h),oe=S||T||R||Q,pe=oe?NN(h.length,lH):[],we=pe.length;for(var $e in h)(p||bn.call(h,$e))&&!(oe&&($e=="length"||R&&($e=="offset"||$e=="parent")||Q&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||To($e,we)))&&pe.push($e);return pe}function gT(h){var p=h.length;return p?h[BN(0,p-1)]:n}function ZH(h,p){return yx(Vs(h),Jc(p,0,h.length))}function eG(h){return yx(Vs(h))}function kN(h,p,S){(S!==n&&!ca(h[p],S)||S===n&&!(p in h))&&Ao(h,p,S)}function Tm(h,p,S){var T=h[p];(!(bn.call(h,p)&&ca(T,S))||S===n&&!(p in h))&&Ao(h,p,S)}function ax(h,p){for(var S=h.length;S--;)if(ca(h[S][0],p))return S;return-1}function tG(h,p,S,T){return Pl(h,function(R,Q,oe){p(T,R,S(R),oe)}),T}function vT(h,p){return h&&Ga(p,Fr(p),h)}function nG(h,p){return h&&Ga(p,qs(p),h)}function Ao(h,p,S){p=="__proto__"&&ex?ex(h,p,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[p]=S}function TN(h,p){for(var S=-1,T=p.length,R=_e(T),Q=h==null;++S<T;)R[S]=Q?n:d1(h,p[S]);return R}function Jc(h,p,S){return h===h&&(S!==n&&(h=h<=S?h:S),p!==n&&(h=h>=p?h:p)),h}function Mi(h,p,S,T,R,Q){var oe,pe=p&f,we=p&m,$e=p&g;if(S&&(oe=R?S(h,T,R,Q):S(h)),oe!==n)return oe;if(!Xn(h))return h;var Re=$t(h);if(Re){if(oe=qG(h),!pe)return Vs(h,oe)}else{var Fe=cs(h),Qe=Fe==M||Fe==ye;if(Tl(h))return zT(h,pe);if(Fe==Ze||Fe==ge||Qe&&!R){if(oe=we||Qe?{}:aO(h),!pe)return we?DG(h,nG(oe,h)):OG(h,vT(oe,h))}else{if(!Cn[Fe])return R?h:{};oe=WG(h,Fe,pe)}}Q||(Q=new la);var lt=Q.get(h);if(lt)return lt;Q.set(h,oe),IO(h)?h.forEach(function(yt){oe.add(Mi(yt,p,S,yt,h,Q))}):DO(h)&&h.forEach(function(yt,Kt){oe.set(Kt,Mi(yt,p,S,Kt,h,Q))});var xt=$e?we?XN:QN:we?qs:Fr,Vt=Re?n:xt(h);return Ti(Vt||h,function(yt,Kt){Vt&&(Kt=yt,yt=h[Kt]),Tm(oe,Kt,Mi(yt,p,S,Kt,h,Q))}),oe}function rG(h){var p=Fr(h);return function(S){return xT(S,h,p)}}function xT(h,p,S){var T=S.length;if(h==null)return!T;for(h=En(h);T--;){var R=S[T],Q=p[R],oe=h[R];if(oe===n&&!(R in h)||!Q(oe))return!1}return!0}function yT(h,p,S){if(typeof h!="function")throw new Oi(o);return Lm(function(){h.apply(n,S)},p)}function Om(h,p,S,T){var R=-1,Q=Uv,oe=!0,pe=h.length,we=[],$e=p.length;if(!pe)return we;S&&(p=Wn(p,li(S))),T?(Q=vN,oe=!1):p.length>=i&&(Q=Cm,oe=!1,p=new Xc(p));e:for(;++R<pe;){var Re=h[R],Fe=S==null?Re:S(Re);if(Re=T||Re!==0?Re:0,oe&&Fe===Fe){for(var Qe=$e;Qe--;)if(p[Qe]===Fe)continue e;we.push(Re)}else Q(p,Fe,T)||we.push(Re)}return we}var Pl=HT(Ha),jT=HT(DN,!0);function sG(h,p){var S=!0;return Pl(h,function(T,R,Q){return S=!!p(T,R,Q),S}),S}function ox(h,p,S){for(var T=-1,R=h.length;++T<R;){var Q=h[T],oe=p(Q);if(oe!=null&&(pe===n?oe===oe&&!ui(oe):S(oe,pe)))var pe=oe,we=Q}return we}function iG(h,p,S,T){var R=h.length;for(S=Bt(S),S<0&&(S=-S>R?0:R+S),T=T===n||T>R?R:Bt(T),T<0&&(T+=R),T=S>T?0:RO(T);S<T;)h[S++]=p;return h}function bT(h,p){var S=[];return Pl(h,function(T,R,Q){p(T,R,Q)&&S.push(T)}),S}function es(h,p,S,T,R){var Q=-1,oe=h.length;for(S||(S=GG),R||(R=[]);++Q<oe;){var pe=h[Q];p>0&&S(pe)?p>1?es(pe,p-1,S,T,R):Sl(R,pe):T||(R[R.length]=pe)}return R}var ON=GT(),wT=GT(!0);function Ha(h,p){return h&&ON(h,p,Fr)}function DN(h,p){return h&&wT(h,p,Fr)}function lx(h,p){return Nl(p,function(S){return Oo(h[S])})}function Zc(h,p){p=El(p,h);for(var S=0,T=p.length;h!=null&&S<T;)h=h[Ka(p[S++])];return S&&S==T?h:n}function NT(h,p,S){var T=p(h);return $t(h)?T:Sl(T,S(h))}function Ns(h){return h==null?h===n?xn:Pe:Yc&&Yc in En(h)?zG(h):eK(h)}function MN(h,p){return h>p}function aG(h,p){return h!=null&&bn.call(h,p)}function oG(h,p){return h!=null&&p in En(h)}function lG(h,p,S){return h>=ls(p,S)&&h<_r(p,S)}function IN(h,p,S){for(var T=S?vN:Uv,R=h[0].length,Q=h.length,oe=Q,pe=_e(Q),we=1/0,$e=[];oe--;){var Re=h[oe];oe&&p&&(Re=Wn(Re,li(p))),we=ls(Re.length,we),pe[oe]=!S&&(p||R>=120&&Re.length>=120)?new Xc(oe&&Re):n}Re=h[0];var Fe=-1,Qe=pe[0];e:for(;++Fe<R&&$e.length<we;){var lt=Re[Fe],xt=p?p(lt):lt;if(lt=S||lt!==0?lt:0,!(Qe?Cm(Qe,xt):T($e,xt,S))){for(oe=Q;--oe;){var Vt=pe[oe];if(!(Vt?Cm(Vt,xt):T(h[oe],xt,S)))continue e}Qe&&Qe.push(xt),$e.push(lt)}}return $e}function cG(h,p,S,T){return Ha(h,function(R,Q,oe){p(T,S(R),Q,oe)}),T}function Dm(h,p,S){p=El(p,h),h=uO(h,p);var T=h==null?h:h[Ka($i(p))];return T==null?n:oi(T,h,S)}function ST(h){return sr(h)&&Ns(h)==ge}function uG(h){return sr(h)&&Ns(h)==dr}function dG(h){return sr(h)&&Ns(h)==X}function Mm(h,p,S,T,R){return h===p?!0:h==null||p==null||!sr(h)&&!sr(p)?h!==h&&p!==p:hG(h,p,S,T,Mm,R)}function hG(h,p,S,T,R,Q){var oe=$t(h),pe=$t(p),we=oe?xe:cs(h),$e=pe?xe:cs(p);we=we==ge?Ze:we,$e=$e==ge?Ze:$e;var Re=we==Ze,Fe=$e==Ze,Qe=we==$e;if(Qe&&Tl(h)){if(!Tl(p))return!1;oe=!0,Re=!1}if(Qe&&!Re)return Q||(Q=new la),oe||Fd(h)?rO(h,p,S,T,R,Q):FG(h,p,we,S,T,R,Q);if(!(S&x)){var lt=Re&&bn.call(h,"__wrapped__"),xt=Fe&&bn.call(p,"__wrapped__");if(lt||xt){var Vt=lt?h.value():h,yt=xt?p.value():p;return Q||(Q=new la),R(Vt,yt,S,T,Q)}}return Qe?(Q||(Q=new la),BG(h,p,S,T,R,Q)):!1}function fG(h){return sr(h)&&cs(h)==Ne}function $N(h,p,S,T){var R=S.length,Q=R,oe=!T;if(h==null)return!Q;for(h=En(h);R--;){var pe=S[R];if(oe&&pe[2]?pe[1]!==h[pe[0]]:!(pe[0]in h))return!1}for(;++R<Q;){pe=S[R];var we=pe[0],$e=h[we],Re=pe[1];if(oe&&pe[2]){if($e===n&&!(we in h))return!1}else{var Fe=new la;if(T)var Qe=T($e,Re,we,h,p,Fe);if(!(Qe===n?Mm(Re,$e,x|v,T,Fe):Qe))return!1}}return!0}function CT(h){if(!Xn(h)||YG(h))return!1;var p=Oo(h)?fH:Gw;return p.test(tu(h))}function mG(h){return sr(h)&&Ns(h)==Se}function pG(h){return sr(h)&&cs(h)==qe}function gG(h){return sr(h)&&Cx(h.length)&&!!An[Ns(h)]}function _T(h){return typeof h=="function"?h:h==null?Ws:typeof h=="object"?$t(h)?ET(h[0],h[1]):AT(h):KO(h)}function RN(h){if(!Rm(h))return yH(h);var p=[];for(var S in En(h))bn.call(h,S)&&S!="constructor"&&p.push(S);return p}function vG(h){if(!Xn(h))return ZG(h);var p=Rm(h),S=[];for(var T in h)T=="constructor"&&(p||!bn.call(h,T))||S.push(T);return S}function LN(h,p){return h<p}function PT(h,p){var S=-1,T=Us(h)?_e(h.length):[];return Pl(h,function(R,Q,oe){T[++S]=p(R,Q,oe)}),T}function AT(h){var p=ZN(h);return p.length==1&&p[0][2]?lO(p[0][0],p[0][1]):function(S){return S===h||$N(S,h,p)}}function ET(h,p){return t1(h)&&oO(p)?lO(Ka(h),p):function(S){var T=d1(S,h);return T===n&&T===p?h1(S,h):Mm(p,T,x|v)}}function cx(h,p,S,T,R){h!==p&&ON(p,function(Q,oe){if(R||(R=new la),Xn(Q))xG(h,p,oe,S,cx,T,R);else{var pe=T?T(r1(h,oe),Q,oe+"",h,p,R):n;pe===n&&(pe=Q),kN(h,oe,pe)}},qs)}function xG(h,p,S,T,R,Q,oe){var pe=r1(h,S),we=r1(p,S),$e=oe.get(we);if($e){kN(h,S,$e);return}var Re=Q?Q(pe,we,S+"",h,p,oe):n,Fe=Re===n;if(Fe){var Qe=$t(we),lt=!Qe&&Tl(we),xt=!Qe&&!lt&&Fd(we);Re=we,Qe||lt||xt?$t(pe)?Re=pe:hr(pe)?Re=Vs(pe):lt?(Fe=!1,Re=zT(we,!0)):xt?(Fe=!1,Re=VT(we,!0)):Re=[]:Fm(we)||nu(we)?(Re=pe,nu(pe)?Re=LO(pe):(!Xn(pe)||Oo(pe))&&(Re=aO(we))):Fe=!1}Fe&&(oe.set(we,Re),R(Re,we,T,Q,oe),oe.delete(we)),kN(h,S,Re)}function kT(h,p){var S=h.length;if(S)return p+=p<0?S:0,To(p,S)?h[p]:n}function TT(h,p,S){p.length?p=Wn(p,function(Q){return $t(Q)?function(oe){return Zc(oe,Q.length===1?Q[0]:Q)}:Q}):p=[Ws];var T=-1;p=Wn(p,li(gt()));var R=PT(h,function(Q,oe,pe){var we=Wn(p,function($e){return $e(Q)});return{criteria:we,index:++T,value:Q}});return W9(R,function(Q,oe){return TG(Q,oe,S)})}function yG(h,p){return OT(h,p,function(S,T){return h1(h,T)})}function OT(h,p,S){for(var T=-1,R=p.length,Q={};++T<R;){var oe=p[T],pe=Zc(h,oe);S(pe,oe)&&Im(Q,El(oe,h),pe)}return Q}function jG(h){return function(p){return Zc(p,h)}}function FN(h,p,S,T){var R=T?q9:Ad,Q=-1,oe=p.length,pe=h;for(h===p&&(p=Vs(p)),S&&(pe=Wn(h,li(S)));++Q<oe;)for(var we=0,$e=p[Q],Re=S?S($e):$e;(we=R(pe,Re,we,T))>-1;)pe!==h&&Zv.call(pe,we,1),Zv.call(h,we,1);return h}function DT(h,p){for(var S=h?p.length:0,T=S-1;S--;){var R=p[S];if(S==T||R!==Q){var Q=R;To(R)?Zv.call(h,R,1):UN(h,R)}}return h}function BN(h,p){return h+nx(fT()*(p-h+1))}function bG(h,p,S,T){for(var R=-1,Q=_r(tx((p-h)/(S||1)),0),oe=_e(Q);Q--;)oe[T?Q:++R]=h,h+=S;return oe}function zN(h,p){var S="";if(!h||p<1||p>q)return S;do p%2&&(S+=h),p=nx(p/2),p&&(h+=h);while(p);return S}function Ht(h,p){return s1(cO(h,p,Ws),h+"")}function wG(h){return gT(Bd(h))}function NG(h,p){var S=Bd(h);return yx(S,Jc(p,0,S.length))}function Im(h,p,S,T){if(!Xn(h))return h;p=El(p,h);for(var R=-1,Q=p.length,oe=Q-1,pe=h;pe!=null&&++R<Q;){var we=Ka(p[R]),$e=S;if(we==="__proto__"||we==="constructor"||we==="prototype")return h;if(R!=oe){var Re=pe[we];$e=T?T(Re,we,pe):n,$e===n&&($e=Xn(Re)?Re:To(p[R+1])?[]:{})}Tm(pe,we,$e),pe=pe[we]}return h}var MT=rx?function(h,p){return rx.set(h,p),h}:Ws,SG=ex?function(h,p){return ex(h,"toString",{configurable:!0,enumerable:!1,value:m1(p),writable:!0})}:Ws;function CG(h){return yx(Bd(h))}function Ii(h,p,S){var T=-1,R=h.length;p<0&&(p=-p>R?0:R+p),S=S>R?R:S,S<0&&(S+=R),R=p>S?0:S-p>>>0,p>>>=0;for(var Q=_e(R);++T<R;)Q[T]=h[T+p];return Q}function _G(h,p){var S;return Pl(h,function(T,R,Q){return S=p(T,R,Q),!S}),!!S}function ux(h,p,S){var T=0,R=h==null?T:h.length;if(typeof p=="number"&&p===p&&R<=K){for(;T<R;){var Q=T+R>>>1,oe=h[Q];oe!==null&&!ui(oe)&&(S?oe<=p:oe<p)?T=Q+1:R=Q}return R}return VN(h,p,Ws,S)}function VN(h,p,S,T){var R=0,Q=h==null?0:h.length;if(Q===0)return 0;p=S(p);for(var oe=p!==p,pe=p===null,we=ui(p),$e=p===n;R<Q;){var Re=nx((R+Q)/2),Fe=S(h[Re]),Qe=Fe!==n,lt=Fe===null,xt=Fe===Fe,Vt=ui(Fe);if(oe)var yt=T||xt;else $e?yt=xt&&(T||Qe):pe?yt=xt&&Qe&&(T||!lt):we?yt=xt&&Qe&&!lt&&(T||!Vt):lt||Vt?yt=!1:yt=T?Fe<=p:Fe<p;yt?R=Re+1:Q=Re}return ls(Q,re)}function IT(h,p){for(var S=-1,T=h.length,R=0,Q=[];++S<T;){var oe=h[S],pe=p?p(oe):oe;if(!S||!ca(pe,we)){var we=pe;Q[R++]=oe===0?0:oe}}return Q}function $T(h){return typeof h=="number"?h:ui(h)?le:+h}function ci(h){if(typeof h=="string")return h;if($t(h))return Wn(h,ci)+"";if(ui(h))return mT?mT.call(h):"";var p=h+"";return p=="0"&&1/h==-J?"-0":p}function Al(h,p,S){var T=-1,R=Uv,Q=h.length,oe=!0,pe=[],we=pe;if(S)oe=!1,R=vN;else if(Q>=i){var $e=p?null:RG(h);if($e)return Wv($e);oe=!1,R=Cm,we=new Xc}else we=p?[]:pe;e:for(;++T<Q;){var Re=h[T],Fe=p?p(Re):Re;if(Re=S||Re!==0?Re:0,oe&&Fe===Fe){for(var Qe=we.length;Qe--;)if(we[Qe]===Fe)continue e;p&&we.push(Fe),pe.push(Re)}else R(we,Fe,S)||(we!==pe&&we.push(Fe),pe.push(Re))}return pe}function UN(h,p){return p=El(p,h),h=uO(h,p),h==null||delete h[Ka($i(p))]}function RT(h,p,S,T){return Im(h,p,S(Zc(h,p)),T)}function dx(h,p,S,T){for(var R=h.length,Q=T?R:-1;(T?Q--:++Q<R)&&p(h[Q],Q,h););return S?Ii(h,T?0:Q,T?Q+1:R):Ii(h,T?Q+1:0,T?R:Q)}function LT(h,p){var S=h;return S instanceof en&&(S=S.value()),xN(p,function(T,R){return R.func.apply(R.thisArg,Sl([T],R.args))},S)}function qN(h,p,S){var T=h.length;if(T<2)return T?Al(h[0]):[];for(var R=-1,Q=_e(T);++R<T;)for(var oe=h[R],pe=-1;++pe<T;)pe!=R&&(Q[R]=Om(Q[R]||oe,h[pe],p,S));return Al(es(Q,1),p,S)}function FT(h,p,S){for(var T=-1,R=h.length,Q=p.length,oe={};++T<R;){var pe=T<Q?p[T]:n;S(oe,h[T],pe)}return oe}function WN(h){return hr(h)?h:[]}function HN(h){return typeof h=="function"?h:Ws}function El(h,p){return $t(h)?h:t1(h,p)?[h]:mO(mn(h))}var PG=Ht;function kl(h,p,S){var T=h.length;return S=S===n?T:S,!p&&S>=T?h:Ii(h,p,S)}var BT=mH||function(h){return Zr.clearTimeout(h)};function zT(h,p){if(p)return h.slice();var S=h.length,T=lT?lT(S):new h.constructor(S);return h.copy(T),T}function GN(h){var p=new h.constructor(h.byteLength);return new Xv(p).set(new Xv(h)),p}function AG(h,p){var S=p?GN(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.byteLength)}function EG(h){var p=new h.constructor(h.source,Dv.exec(h));return p.lastIndex=h.lastIndex,p}function kG(h){return km?En(km.call(h)):{}}function VT(h,p){var S=p?GN(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}function UT(h,p){if(h!==p){var S=h!==n,T=h===null,R=h===h,Q=ui(h),oe=p!==n,pe=p===null,we=p===p,$e=ui(p);if(!pe&&!$e&&!Q&&h>p||Q&&oe&&we&&!pe&&!$e||T&&oe&&we||!S&&we||!R)return 1;if(!T&&!Q&&!$e&&h<p||$e&&S&&R&&!T&&!Q||pe&&S&&R||!oe&&R||!we)return-1}return 0}function TG(h,p,S){for(var T=-1,R=h.criteria,Q=p.criteria,oe=R.length,pe=S.length;++T<oe;){var we=UT(R[T],Q[T]);if(we){if(T>=pe)return we;var $e=S[T];return we*($e=="desc"?-1:1)}}return h.index-p.index}function qT(h,p,S,T){for(var R=-1,Q=h.length,oe=S.length,pe=-1,we=p.length,$e=_r(Q-oe,0),Re=_e(we+$e),Fe=!T;++pe<we;)Re[pe]=p[pe];for(;++R<oe;)(Fe||R<Q)&&(Re[S[R]]=h[R]);for(;$e--;)Re[pe++]=h[R++];return Re}function WT(h,p,S,T){for(var R=-1,Q=h.length,oe=-1,pe=S.length,we=-1,$e=p.length,Re=_r(Q-pe,0),Fe=_e(Re+$e),Qe=!T;++R<Re;)Fe[R]=h[R];for(var lt=R;++we<$e;)Fe[lt+we]=p[we];for(;++oe<pe;)(Qe||R<Q)&&(Fe[lt+S[oe]]=h[R++]);return Fe}function Vs(h,p){var S=-1,T=h.length;for(p||(p=_e(T));++S<T;)p[S]=h[S];return p}function Ga(h,p,S,T){var R=!S;S||(S={});for(var Q=-1,oe=p.length;++Q<oe;){var pe=p[Q],we=T?T(S[pe],h[pe],pe,S,h):n;we===n&&(we=h[pe]),R?Ao(S,pe,we):Tm(S,pe,we)}return S}function OG(h,p){return Ga(h,e1(h),p)}function DG(h,p){return Ga(h,sO(h),p)}function hx(h,p){return function(S,T){var R=$t(S)?L9:tG,Q=p?p():{};return R(S,h,gt(T,2),Q)}}function $d(h){return Ht(function(p,S){var T=-1,R=S.length,Q=R>1?S[R-1]:n,oe=R>2?S[2]:n;for(Q=h.length>3&&typeof Q=="function"?(R--,Q):n,oe&&Ss(S[0],S[1],oe)&&(Q=R<3?n:Q,R=1),p=En(p);++T<R;){var pe=S[T];pe&&h(p,pe,T,Q)}return p})}function HT(h,p){return function(S,T){if(S==null)return S;if(!Us(S))return h(S,T);for(var R=S.length,Q=p?R:-1,oe=En(S);(p?Q--:++Q<R)&&T(oe[Q],Q,oe)!==!1;);return S}}function GT(h){return function(p,S,T){for(var R=-1,Q=En(p),oe=T(p),pe=oe.length;pe--;){var we=oe[h?pe:++R];if(S(Q[we],we,Q)===!1)break}return p}}function MG(h,p,S){var T=p&y,R=$m(h);function Q(){var oe=this&&this!==Zr&&this instanceof Q?R:h;return oe.apply(T?S:this,arguments)}return Q}function KT(h){return function(p){p=mn(p);var S=Ed(p)?oa(p):n,T=S?S[0]:p.charAt(0),R=S?kl(S,1).join(""):p.slice(1);return T[h]()+R}}function Rd(h){return function(p){return xN(HO(WO(p).replace(aN,"")),h,"")}}function $m(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var S=Id(h.prototype),T=h.apply(S,p);return Xn(T)?T:S}}function IG(h,p,S){var T=$m(h);function R(){for(var Q=arguments.length,oe=_e(Q),pe=Q,we=Ld(R);pe--;)oe[pe]=arguments[pe];var $e=Q<3&&oe[0]!==we&&oe[Q-1]!==we?[]:Cl(oe,we);if(Q-=$e.length,Q<S)return ZT(h,p,fx,R.placeholder,n,oe,$e,n,n,S-Q);var Re=this&&this!==Zr&&this instanceof R?T:h;return oi(Re,this,oe)}return R}function YT(h){return function(p,S,T){var R=En(p);if(!Us(p)){var Q=gt(S,3);p=Fr(p),S=function(pe){return Q(R[pe],pe,R)}}var oe=h(p,S,T);return oe>-1?R[Q?p[oe]:oe]:n}}function QT(h){return ko(function(p){var S=p.length,T=S,R=Di.prototype.thru;for(h&&p.reverse();T--;){var Q=p[T];if(typeof Q!="function")throw new Oi(o);if(R&&!oe&&vx(Q)=="wrapper")var oe=new Di([],!0)}for(T=oe?T:S;++T<S;){Q=p[T];var pe=vx(Q),we=pe=="wrapper"?JN(Q):n;we&&n1(we[0])&&we[1]==(P|b|_|E)&&!we[4].length&&we[9]==1?oe=oe[vx(we[0])].apply(oe,we[3]):oe=Q.length==1&&n1(Q)?oe[pe]():oe.thru(Q)}return function(){var $e=arguments,Re=$e[0];if(oe&&$e.length==1&&$t(Re))return oe.plant(Re).value();for(var Fe=0,Qe=S?p[Fe].apply(this,$e):Re;++Fe<S;)Qe=p[Fe].call(this,Qe);return Qe}})}function fx(h,p,S,T,R,Q,oe,pe,we,$e){var Re=p&P,Fe=p&y,Qe=p&N,lt=p&(b|C),xt=p&D,Vt=Qe?n:$m(h);function yt(){for(var Kt=arguments.length,nn=_e(Kt),di=Kt;di--;)nn[di]=arguments[di];if(lt)var Cs=Ld(yt),hi=G9(nn,Cs);if(T&&(nn=qT(nn,T,R,lt)),Q&&(nn=WT(nn,Q,oe,lt)),Kt-=hi,lt&&Kt<$e){var fr=Cl(nn,Cs);return ZT(h,p,fx,yt.placeholder,S,nn,fr,pe,we,$e-Kt)}var ua=Fe?S:this,Mo=Qe?ua[h]:h;return Kt=nn.length,pe?nn=tK(nn,pe):xt&&Kt>1&&nn.reverse(),Re&&we<Kt&&(nn.length=we),this&&this!==Zr&&this instanceof yt&&(Mo=Vt||$m(Mo)),Mo.apply(ua,nn)}return yt}function XT(h,p){return function(S,T){return cG(S,h,p(T),{})}}function mx(h,p){return function(S,T){var R;if(S===n&&T===n)return p;if(S!==n&&(R=S),T!==n){if(R===n)return T;typeof S=="string"||typeof T=="string"?(S=ci(S),T=ci(T)):(S=$T(S),T=$T(T)),R=h(S,T)}return R}}function KN(h){return ko(function(p){return p=Wn(p,li(gt())),Ht(function(S){var T=this;return h(p,function(R){return oi(R,T,S)})})})}function px(h,p){p=p===n?" ":ci(p);var S=p.length;if(S<2)return S?zN(p,h):p;var T=zN(p,tx(h/kd(p)));return Ed(p)?kl(oa(T),0,h).join(""):T.slice(0,h)}function $G(h,p,S,T){var R=p&y,Q=$m(h);function oe(){for(var pe=-1,we=arguments.length,$e=-1,Re=T.length,Fe=_e(Re+we),Qe=this&&this!==Zr&&this instanceof oe?Q:h;++$e<Re;)Fe[$e]=T[$e];for(;we--;)Fe[$e++]=arguments[++pe];return oi(Qe,R?S:this,Fe)}return oe}function JT(h){return function(p,S,T){return T&&typeof T!="number"&&Ss(p,S,T)&&(S=T=n),p=Do(p),S===n?(S=p,p=0):S=Do(S),T=T===n?p<S?1:-1:Do(T),bG(p,S,T,h)}}function gx(h){return function(p,S){return typeof p=="string"&&typeof S=="string"||(p=Ri(p),S=Ri(S)),h(p,S)}}function ZT(h,p,S,T,R,Q,oe,pe,we,$e){var Re=p&b,Fe=Re?oe:n,Qe=Re?n:oe,lt=Re?Q:n,xt=Re?n:Q;p|=Re?_:A,p&=~(Re?A:_),p&j||(p&=~(y|N));var Vt=[h,p,R,lt,Fe,xt,Qe,pe,we,$e],yt=S.apply(n,Vt);return n1(h)&&dO(yt,Vt),yt.placeholder=T,hO(yt,h,p)}function YN(h){var p=Cr[h];return function(S,T){if(S=Ri(S),T=T==null?0:ls(Bt(T),292),T&&hT(S)){var R=(mn(S)+"e").split("e"),Q=p(R[0]+"e"+(+R[1]+T));return R=(mn(Q)+"e").split("e"),+(R[0]+"e"+(+R[1]-T))}return p(S)}}var RG=Dd&&1/Wv(new Dd([,-0]))[1]==J?function(h){return new Dd(h)}:v1;function eO(h){return function(p){var S=cs(p);return S==Ne?CN(p):S==qe?eH(p):H9(p,h(p))}}function Eo(h,p,S,T,R,Q,oe,pe){var we=p&N;if(!we&&typeof h!="function")throw new Oi(o);var $e=T?T.length:0;if($e||(p&=~(_|A),T=R=n),oe=oe===n?oe:_r(Bt(oe),0),pe=pe===n?pe:Bt(pe),$e-=R?R.length:0,p&A){var Re=T,Fe=R;T=R=n}var Qe=we?n:JN(h),lt=[h,p,S,T,R,Re,Fe,Q,oe,pe];if(Qe&&JG(lt,Qe),h=lt[0],p=lt[1],S=lt[2],T=lt[3],R=lt[4],pe=lt[9]=lt[9]===n?we?0:h.length:_r(lt[9]-$e,0),!pe&&p&(b|C)&&(p&=~(b|C)),!p||p==y)var xt=MG(h,p,S);else p==b||p==C?xt=IG(h,p,pe):(p==_||p==(y|_))&&!R.length?xt=$G(h,p,S,T):xt=fx.apply(n,lt);var Vt=Qe?MT:dO;return hO(Vt(xt,lt),h,p)}function tO(h,p,S,T){return h===n||ca(h,Od[S])&&!bn.call(T,S)?p:h}function nO(h,p,S,T,R,Q){return Xn(h)&&Xn(p)&&(Q.set(p,h),cx(h,p,n,nO,Q),Q.delete(p)),h}function LG(h){return Fm(h)?n:h}function rO(h,p,S,T,R,Q){var oe=S&x,pe=h.length,we=p.length;if(pe!=we&&!(oe&&we>pe))return!1;var $e=Q.get(h),Re=Q.get(p);if($e&&Re)return $e==p&&Re==h;var Fe=-1,Qe=!0,lt=S&v?new Xc:n;for(Q.set(h,p),Q.set(p,h);++Fe<pe;){var xt=h[Fe],Vt=p[Fe];if(T)var yt=oe?T(Vt,xt,Fe,p,h,Q):T(xt,Vt,Fe,h,p,Q);if(yt!==n){if(yt)continue;Qe=!1;break}if(lt){if(!yN(p,function(Kt,nn){if(!Cm(lt,nn)&&(xt===Kt||R(xt,Kt,S,T,Q)))return lt.push(nn)})){Qe=!1;break}}else if(!(xt===Vt||R(xt,Vt,S,T,Q))){Qe=!1;break}}return Q.delete(h),Q.delete(p),Qe}function FG(h,p,S,T,R,Q,oe){switch(S){case Yn:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case dr:return!(h.byteLength!=p.byteLength||!Q(new Xv(h),new Xv(p)));case F:case X:case fe:return ca(+h,+p);case G:return h.name==p.name&&h.message==p.message;case Se:case We:return h==p+"";case Ne:var pe=CN;case qe:var we=T&x;if(pe||(pe=Wv),h.size!=p.size&&!we)return!1;var $e=oe.get(h);if($e)return $e==p;T|=v,oe.set(h,p);var Re=rO(pe(h),pe(p),T,R,Q,oe);return oe.delete(h),Re;case Ft:if(km)return km.call(h)==km.call(p)}return!1}function BG(h,p,S,T,R,Q){var oe=S&x,pe=QN(h),we=pe.length,$e=QN(p),Re=$e.length;if(we!=Re&&!oe)return!1;for(var Fe=we;Fe--;){var Qe=pe[Fe];if(!(oe?Qe in p:bn.call(p,Qe)))return!1}var lt=Q.get(h),xt=Q.get(p);if(lt&&xt)return lt==p&&xt==h;var Vt=!0;Q.set(h,p),Q.set(p,h);for(var yt=oe;++Fe<we;){Qe=pe[Fe];var Kt=h[Qe],nn=p[Qe];if(T)var di=oe?T(nn,Kt,Qe,p,h,Q):T(Kt,nn,Qe,h,p,Q);if(!(di===n?Kt===nn||R(Kt,nn,S,T,Q):di)){Vt=!1;break}yt||(yt=Qe=="constructor")}if(Vt&&!yt){var Cs=h.constructor,hi=p.constructor;Cs!=hi&&"constructor"in h&&"constructor"in p&&!(typeof Cs=="function"&&Cs instanceof Cs&&typeof hi=="function"&&hi instanceof hi)&&(Vt=!1)}return Q.delete(h),Q.delete(p),Vt}function ko(h){return s1(cO(h,n,xO),h+"")}function QN(h){return NT(h,Fr,e1)}function XN(h){return NT(h,qs,sO)}var JN=rx?function(h){return rx.get(h)}:v1;function vx(h){for(var p=h.name+"",S=Md[p],T=bn.call(Md,p)?S.length:0;T--;){var R=S[T],Q=R.func;if(Q==null||Q==h)return R.name}return p}function Ld(h){var p=bn.call(H,"placeholder")?H:h;return p.placeholder}function gt(){var h=H.iteratee||p1;return h=h===p1?_T:h,arguments.length?h(arguments[0],arguments[1]):h}function xx(h,p){var S=h.__data__;return KG(p)?S[typeof p=="string"?"string":"hash"]:S.map}function ZN(h){for(var p=Fr(h),S=p.length;S--;){var T=p[S],R=h[T];p[S]=[T,R,oO(R)]}return p}function eu(h,p){var S=X9(h,p);return CT(S)?S:n}function zG(h){var p=bn.call(h,Yc),S=h[Yc];try{h[Yc]=n;var T=!0}catch{}var R=Yv.call(h);return T&&(p?h[Yc]=S:delete h[Yc]),R}var e1=PN?function(h){return h==null?[]:(h=En(h),Nl(PN(h),function(p){return uT.call(h,p)}))}:x1,sO=PN?function(h){for(var p=[];h;)Sl(p,e1(h)),h=Jv(h);return p}:x1,cs=Ns;(AN&&cs(new AN(new ArrayBuffer(1)))!=Yn||Pm&&cs(new Pm)!=Ne||EN&&cs(EN.resolve())!=at||Dd&&cs(new Dd)!=qe||Am&&cs(new Am)!=_t)&&(cs=function(h){var p=Ns(h),S=p==Ze?h.constructor:n,T=S?tu(S):"";if(T)switch(T){case NH:return Yn;case SH:return Ne;case CH:return at;case _H:return qe;case PH:return _t}return p});function VG(h,p,S){for(var T=-1,R=S.length;++T<R;){var Q=S[T],oe=Q.size;switch(Q.type){case"drop":h+=oe;break;case"dropRight":p-=oe;break;case"take":p=ls(p,h+oe);break;case"takeRight":h=_r(h,p-oe);break}}return{start:h,end:p}}function UG(h){var p=h.match(Fw);return p?p[1].split(Bw):[]}function iO(h,p,S){p=El(p,h);for(var T=-1,R=p.length,Q=!1;++T<R;){var oe=Ka(p[T]);if(!(Q=h!=null&&S(h,oe)))break;h=h[oe]}return Q||++T!=R?Q:(R=h==null?0:h.length,!!R&&Cx(R)&&To(oe,R)&&($t(h)||nu(h)))}function qG(h){var p=h.length,S=new h.constructor(p);return p&&typeof h[0]=="string"&&bn.call(h,"index")&&(S.index=h.index,S.input=h.input),S}function aO(h){return typeof h.constructor=="function"&&!Rm(h)?Id(Jv(h)):{}}function WG(h,p,S){var T=h.constructor;switch(p){case dr:return GN(h);case F:case X:return new T(+h);case Yn:return AG(h,S);case ys:case Ce:case Wt:case nt:case pt:case sn:case os:case Xr:case Bs:return VT(h,S);case Ne:return new T;case fe:case We:return new T(h);case Se:return EG(h);case qe:return new T;case Ft:return kG(h)}}function HG(h,p){var S=p.length;if(!S)return h;var T=S-1;return p[T]=(S>1?"& ":"")+p[T],p=p.join(S>2?", ":" "),h.replace(Lw,`{
/* [wrapped with `+p+`] */
`)}function GG(h){return $t(h)||nu(h)||!!(dT&&h&&h[dT])}function To(h,p){var S=typeof h;return p=p??q,!!p&&(S=="number"||S!="symbol"&&Nd.test(h))&&h>-1&&h%1==0&&h<p}function Ss(h,p,S){if(!Xn(S))return!1;var T=typeof p;return(T=="number"?Us(S)&&To(p,S.length):T=="string"&&p in S)?ca(S[p],h):!1}function t1(h,p){if($t(h))return!1;var S=typeof h;return S=="number"||S=="symbol"||S=="boolean"||h==null||ui(h)?!0:bs.test(h)||!js.test(h)||p!=null&&h in En(p)}function KG(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function n1(h){var p=vx(h),S=H[p];if(typeof S!="function"||!(p in en.prototype))return!1;if(h===S)return!0;var T=JN(S);return!!T&&h===T[0]}function YG(h){return!!oT&&oT in h}var QG=Gv?Oo:y1;function Rm(h){var p=h&&h.constructor,S=typeof p=="function"&&p.prototype||Od;return h===S}function oO(h){return h===h&&!Xn(h)}function lO(h,p){return function(S){return S==null?!1:S[h]===p&&(p!==n||h in En(S))}}function XG(h){var p=Nx(h,function(T){return S.size===u&&S.clear(),T}),S=p.cache;return p}function JG(h,p){var S=h[1],T=p[1],R=S|T,Q=R<(y|N|P),oe=T==P&&S==b||T==P&&S==E&&h[7].length<=p[8]||T==(P|E)&&p[7].length<=p[8]&&S==b;if(!(Q||oe))return h;T&y&&(h[2]=p[2],R|=S&y?0:j);var pe=p[3];if(pe){var we=h[3];h[3]=we?qT(we,pe,p[4]):pe,h[4]=we?Cl(h[3],d):p[4]}return pe=p[5],pe&&(we=h[5],h[5]=we?WT(we,pe,p[6]):pe,h[6]=we?Cl(h[5],d):p[6]),pe=p[7],pe&&(h[7]=pe),T&P&&(h[8]=h[8]==null?p[8]:ls(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=R,h}function ZG(h){var p=[];if(h!=null)for(var S in En(h))p.push(S);return p}function eK(h){return Yv.call(h)}function cO(h,p,S){return p=_r(p===n?h.length-1:p,0),function(){for(var T=arguments,R=-1,Q=_r(T.length-p,0),oe=_e(Q);++R<Q;)oe[R]=T[p+R];R=-1;for(var pe=_e(p+1);++R<p;)pe[R]=T[R];return pe[p]=S(oe),oi(h,this,pe)}}function uO(h,p){return p.length<2?h:Zc(h,Ii(p,0,-1))}function tK(h,p){for(var S=h.length,T=ls(p.length,S),R=Vs(h);T--;){var Q=p[T];h[T]=To(Q,S)?R[Q]:n}return h}function r1(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var dO=fO(MT),Lm=gH||function(h,p){return Zr.setTimeout(h,p)},s1=fO(SG);function hO(h,p,S){var T=p+"";return s1(h,HG(T,nK(UG(T),S)))}function fO(h){var p=0,S=0;return function(){var T=jH(),R=U-(T-S);if(S=T,R>0){if(++p>=O)return arguments[0]}else p=0;return h.apply(n,arguments)}}function yx(h,p){var S=-1,T=h.length,R=T-1;for(p=p===n?T:p;++S<p;){var Q=BN(S,R),oe=h[Q];h[Q]=h[S],h[S]=oe}return h.length=p,h}var mO=XG(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(Ei,function(S,T,R,Q){p.push(R?Q.replace(Uw,"$1"):T||S)}),p});function Ka(h){if(typeof h=="string"||ui(h))return h;var p=h+"";return p=="0"&&1/h==-J?"-0":p}function tu(h){if(h!=null){try{return Kv.call(h)}catch{}try{return h+""}catch{}}return""}function nK(h,p){return Ti(ee,function(S){var T="_."+S[0];p&S[1]&&!Uv(h,T)&&h.push(T)}),h.sort()}function pO(h){if(h instanceof en)return h.clone();var p=new Di(h.__wrapped__,h.__chain__);return p.__actions__=Vs(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function rK(h,p,S){(S?Ss(h,p,S):p===n)?p=1:p=_r(Bt(p),0);var T=h==null?0:h.length;if(!T||p<1)return[];for(var R=0,Q=0,oe=_e(tx(T/p));R<T;)oe[Q++]=Ii(h,R,R+=p);return oe}function sK(h){for(var p=-1,S=h==null?0:h.length,T=0,R=[];++p<S;){var Q=h[p];Q&&(R[T++]=Q)}return R}function iK(){var h=arguments.length;if(!h)return[];for(var p=_e(h-1),S=arguments[0],T=h;T--;)p[T-1]=arguments[T];return Sl($t(S)?Vs(S):[S],es(p,1))}var aK=Ht(function(h,p){return hr(h)?Om(h,es(p,1,hr,!0)):[]}),oK=Ht(function(h,p){var S=$i(p);return hr(S)&&(S=n),hr(h)?Om(h,es(p,1,hr,!0),gt(S,2)):[]}),lK=Ht(function(h,p){var S=$i(p);return hr(S)&&(S=n),hr(h)?Om(h,es(p,1,hr,!0),n,S):[]});function cK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Bt(p),Ii(h,p<0?0:p,T)):[]}function uK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Bt(p),p=T-p,Ii(h,0,p<0?0:p)):[]}function dK(h,p){return h&&h.length?dx(h,gt(p,3),!0,!0):[]}function hK(h,p){return h&&h.length?dx(h,gt(p,3),!0):[]}function fK(h,p,S,T){var R=h==null?0:h.length;return R?(S&&typeof S!="number"&&Ss(h,p,S)&&(S=0,T=R),iG(h,p,S,T)):[]}function gO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Bt(S);return R<0&&(R=_r(T+R,0)),qv(h,gt(p,3),R)}function vO(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T-1;return S!==n&&(R=Bt(S),R=S<0?_r(T+R,0):ls(R,T-1)),qv(h,gt(p,3),R,!0)}function xO(h){var p=h==null?0:h.length;return p?es(h,1):[]}function mK(h){var p=h==null?0:h.length;return p?es(h,J):[]}function pK(h,p){var S=h==null?0:h.length;return S?(p=p===n?1:Bt(p),es(h,p)):[]}function gK(h){for(var p=-1,S=h==null?0:h.length,T={};++p<S;){var R=h[p];T[R[0]]=R[1]}return T}function yO(h){return h&&h.length?h[0]:n}function vK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=S==null?0:Bt(S);return R<0&&(R=_r(T+R,0)),Ad(h,p,R)}function xK(h){var p=h==null?0:h.length;return p?Ii(h,0,-1):[]}var yK=Ht(function(h){var p=Wn(h,WN);return p.length&&p[0]===h[0]?IN(p):[]}),jK=Ht(function(h){var p=$i(h),S=Wn(h,WN);return p===$i(S)?p=n:S.pop(),S.length&&S[0]===h[0]?IN(S,gt(p,2)):[]}),bK=Ht(function(h){var p=$i(h),S=Wn(h,WN);return p=typeof p=="function"?p:n,p&&S.pop(),S.length&&S[0]===h[0]?IN(S,n,p):[]});function wK(h,p){return h==null?"":xH.call(h,p)}function $i(h){var p=h==null?0:h.length;return p?h[p-1]:n}function NK(h,p,S){var T=h==null?0:h.length;if(!T)return-1;var R=T;return S!==n&&(R=Bt(S),R=R<0?_r(T+R,0):ls(R,T-1)),p===p?nH(h,p,R):qv(h,Zk,R,!0)}function SK(h,p){return h&&h.length?kT(h,Bt(p)):n}var CK=Ht(jO);function jO(h,p){return h&&h.length&&p&&p.length?FN(h,p):h}function _K(h,p,S){return h&&h.length&&p&&p.length?FN(h,p,gt(S,2)):h}function PK(h,p,S){return h&&h.length&&p&&p.length?FN(h,p,n,S):h}var AK=ko(function(h,p){var S=h==null?0:h.length,T=TN(h,p);return DT(h,Wn(p,function(R){return To(R,S)?+R:R}).sort(UT)),T});function EK(h,p){var S=[];if(!(h&&h.length))return S;var T=-1,R=[],Q=h.length;for(p=gt(p,3);++T<Q;){var oe=h[T];p(oe,T,h)&&(S.push(oe),R.push(T))}return DT(h,R),S}function i1(h){return h==null?h:wH.call(h)}function kK(h,p,S){var T=h==null?0:h.length;return T?(S&&typeof S!="number"&&Ss(h,p,S)?(p=0,S=T):(p=p==null?0:Bt(p),S=S===n?T:Bt(S)),Ii(h,p,S)):[]}function TK(h,p){return ux(h,p)}function OK(h,p,S){return VN(h,p,gt(S,2))}function DK(h,p){var S=h==null?0:h.length;if(S){var T=ux(h,p);if(T<S&&ca(h[T],p))return T}return-1}function MK(h,p){return ux(h,p,!0)}function IK(h,p,S){return VN(h,p,gt(S,2),!0)}function $K(h,p){var S=h==null?0:h.length;if(S){var T=ux(h,p,!0)-1;if(ca(h[T],p))return T}return-1}function RK(h){return h&&h.length?IT(h):[]}function LK(h,p){return h&&h.length?IT(h,gt(p,2)):[]}function FK(h){var p=h==null?0:h.length;return p?Ii(h,1,p):[]}function BK(h,p,S){return h&&h.length?(p=S||p===n?1:Bt(p),Ii(h,0,p<0?0:p)):[]}function zK(h,p,S){var T=h==null?0:h.length;return T?(p=S||p===n?1:Bt(p),p=T-p,Ii(h,p<0?0:p,T)):[]}function VK(h,p){return h&&h.length?dx(h,gt(p,3),!1,!0):[]}function UK(h,p){return h&&h.length?dx(h,gt(p,3)):[]}var qK=Ht(function(h){return Al(es(h,1,hr,!0))}),WK=Ht(function(h){var p=$i(h);return hr(p)&&(p=n),Al(es(h,1,hr,!0),gt(p,2))}),HK=Ht(function(h){var p=$i(h);return p=typeof p=="function"?p:n,Al(es(h,1,hr,!0),n,p)});function GK(h){return h&&h.length?Al(h):[]}function KK(h,p){return h&&h.length?Al(h,gt(p,2)):[]}function YK(h,p){return p=typeof p=="function"?p:n,h&&h.length?Al(h,n,p):[]}function a1(h){if(!(h&&h.length))return[];var p=0;return h=Nl(h,function(S){if(hr(S))return p=_r(S.length,p),!0}),NN(p,function(S){return Wn(h,jN(S))})}function bO(h,p){if(!(h&&h.length))return[];var S=a1(h);return p==null?S:Wn(S,function(T){return oi(p,n,T)})}var QK=Ht(function(h,p){return hr(h)?Om(h,p):[]}),XK=Ht(function(h){return qN(Nl(h,hr))}),JK=Ht(function(h){var p=$i(h);return hr(p)&&(p=n),qN(Nl(h,hr),gt(p,2))}),ZK=Ht(function(h){var p=$i(h);return p=typeof p=="function"?p:n,qN(Nl(h,hr),n,p)}),eY=Ht(a1);function tY(h,p){return FT(h||[],p||[],Tm)}function nY(h,p){return FT(h||[],p||[],Im)}var rY=Ht(function(h){var p=h.length,S=p>1?h[p-1]:n;return S=typeof S=="function"?(h.pop(),S):n,bO(h,S)});function wO(h){var p=H(h);return p.__chain__=!0,p}function sY(h,p){return p(h),h}function jx(h,p){return p(h)}var iY=ko(function(h){var p=h.length,S=p?h[0]:0,T=this.__wrapped__,R=function(Q){return TN(Q,h)};return p>1||this.__actions__.length||!(T instanceof en)||!To(S)?this.thru(R):(T=T.slice(S,+S+(p?1:0)),T.__actions__.push({func:jx,args:[R],thisArg:n}),new Di(T,this.__chain__).thru(function(Q){return p&&!Q.length&&Q.push(n),Q}))});function aY(){return wO(this)}function oY(){return new Di(this.value(),this.__chain__)}function lY(){this.__values__===n&&(this.__values__=$O(this.value()));var h=this.__index__>=this.__values__.length,p=h?n:this.__values__[this.__index__++];return{done:h,value:p}}function cY(){return this}function uY(h){for(var p,S=this;S instanceof ix;){var T=pO(S);T.__index__=0,T.__values__=n,p?R.__wrapped__=T:p=T;var R=T;S=S.__wrapped__}return R.__wrapped__=h,p}function dY(){var h=this.__wrapped__;if(h instanceof en){var p=h;return this.__actions__.length&&(p=new en(this)),p=p.reverse(),p.__actions__.push({func:jx,args:[i1],thisArg:n}),new Di(p,this.__chain__)}return this.thru(i1)}function hY(){return LT(this.__wrapped__,this.__actions__)}var fY=hx(function(h,p,S){bn.call(h,S)?++h[S]:Ao(h,S,1)});function mY(h,p,S){var T=$t(h)?Xk:sG;return S&&Ss(h,p,S)&&(p=n),T(h,gt(p,3))}function pY(h,p){var S=$t(h)?Nl:bT;return S(h,gt(p,3))}var gY=YT(gO),vY=YT(vO);function xY(h,p){return es(bx(h,p),1)}function yY(h,p){return es(bx(h,p),J)}function jY(h,p,S){return S=S===n?1:Bt(S),es(bx(h,p),S)}function NO(h,p){var S=$t(h)?Ti:Pl;return S(h,gt(p,3))}function SO(h,p){var S=$t(h)?F9:jT;return S(h,gt(p,3))}var bY=hx(function(h,p,S){bn.call(h,S)?h[S].push(p):Ao(h,S,[p])});function wY(h,p,S,T){h=Us(h)?h:Bd(h),S=S&&!T?Bt(S):0;var R=h.length;return S<0&&(S=_r(R+S,0)),_x(h)?S<=R&&h.indexOf(p,S)>-1:!!R&&Ad(h,p,S)>-1}var NY=Ht(function(h,p,S){var T=-1,R=typeof p=="function",Q=Us(h)?_e(h.length):[];return Pl(h,function(oe){Q[++T]=R?oi(p,oe,S):Dm(oe,p,S)}),Q}),SY=hx(function(h,p,S){Ao(h,S,p)});function bx(h,p){var S=$t(h)?Wn:PT;return S(h,gt(p,3))}function CY(h,p,S,T){return h==null?[]:($t(p)||(p=p==null?[]:[p]),S=T?n:S,$t(S)||(S=S==null?[]:[S]),TT(h,p,S))}var _Y=hx(function(h,p,S){h[S?0:1].push(p)},function(){return[[],[]]});function PY(h,p,S){var T=$t(h)?xN:tT,R=arguments.length<3;return T(h,gt(p,4),S,R,Pl)}function AY(h,p,S){var T=$t(h)?B9:tT,R=arguments.length<3;return T(h,gt(p,4),S,R,jT)}function EY(h,p){var S=$t(h)?Nl:bT;return S(h,Sx(gt(p,3)))}function kY(h){var p=$t(h)?gT:wG;return p(h)}function TY(h,p,S){(S?Ss(h,p,S):p===n)?p=1:p=Bt(p);var T=$t(h)?ZH:NG;return T(h,p)}function OY(h){var p=$t(h)?eG:CG;return p(h)}function DY(h){if(h==null)return 0;if(Us(h))return _x(h)?kd(h):h.length;var p=cs(h);return p==Ne||p==qe?h.size:RN(h).length}function MY(h,p,S){var T=$t(h)?yN:_G;return S&&Ss(h,p,S)&&(p=n),T(h,gt(p,3))}var IY=Ht(function(h,p){if(h==null)return[];var S=p.length;return S>1&&Ss(h,p[0],p[1])?p=[]:S>2&&Ss(p[0],p[1],p[2])&&(p=[p[0]]),TT(h,es(p,1),[])}),wx=pH||function(){return Zr.Date.now()};function $Y(h,p){if(typeof p!="function")throw new Oi(o);return h=Bt(h),function(){if(--h<1)return p.apply(this,arguments)}}function CO(h,p,S){return p=S?n:p,p=h&&p==null?h.length:p,Eo(h,P,n,n,n,n,p)}function _O(h,p){var S;if(typeof p!="function")throw new Oi(o);return h=Bt(h),function(){return--h>0&&(S=p.apply(this,arguments)),h<=1&&(p=n),S}}var o1=Ht(function(h,p,S){var T=y;if(S.length){var R=Cl(S,Ld(o1));T|=_}return Eo(h,T,p,S,R)}),PO=Ht(function(h,p,S){var T=y|N;if(S.length){var R=Cl(S,Ld(PO));T|=_}return Eo(p,T,h,S,R)});function AO(h,p,S){p=S?n:p;var T=Eo(h,b,n,n,n,n,n,p);return T.placeholder=AO.placeholder,T}function EO(h,p,S){p=S?n:p;var T=Eo(h,C,n,n,n,n,n,p);return T.placeholder=EO.placeholder,T}function kO(h,p,S){var T,R,Q,oe,pe,we,$e=0,Re=!1,Fe=!1,Qe=!0;if(typeof h!="function")throw new Oi(o);p=Ri(p)||0,Xn(S)&&(Re=!!S.leading,Fe="maxWait"in S,Q=Fe?_r(Ri(S.maxWait)||0,p):Q,Qe="trailing"in S?!!S.trailing:Qe);function lt(fr){var ua=T,Mo=R;return T=R=n,$e=fr,oe=h.apply(Mo,ua),oe}function xt(fr){return $e=fr,pe=Lm(Kt,p),Re?lt(fr):oe}function Vt(fr){var ua=fr-we,Mo=fr-$e,YO=p-ua;return Fe?ls(YO,Q-Mo):YO}function yt(fr){var ua=fr-we,Mo=fr-$e;return we===n||ua>=p||ua<0||Fe&&Mo>=Q}function Kt(){var fr=wx();if(yt(fr))return nn(fr);pe=Lm(Kt,Vt(fr))}function nn(fr){return pe=n,Qe&&T?lt(fr):(T=R=n,oe)}function di(){pe!==n&&BT(pe),$e=0,T=we=R=pe=n}function Cs(){return pe===n?oe:nn(wx())}function hi(){var fr=wx(),ua=yt(fr);if(T=arguments,R=this,we=fr,ua){if(pe===n)return xt(we);if(Fe)return BT(pe),pe=Lm(Kt,p),lt(we)}return pe===n&&(pe=Lm(Kt,p)),oe}return hi.cancel=di,hi.flush=Cs,hi}var RY=Ht(function(h,p){return yT(h,1,p)}),LY=Ht(function(h,p,S){return yT(h,Ri(p)||0,S)});function FY(h){return Eo(h,D)}function Nx(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new Oi(o);var S=function(){var T=arguments,R=p?p.apply(this,T):T[0],Q=S.cache;if(Q.has(R))return Q.get(R);var oe=h.apply(this,T);return S.cache=Q.set(R,oe)||Q,oe};return S.cache=new(Nx.Cache||Po),S}Nx.Cache=Po;function Sx(h){if(typeof h!="function")throw new Oi(o);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function BY(h){return _O(2,h)}var zY=PG(function(h,p){p=p.length==1&&$t(p[0])?Wn(p[0],li(gt())):Wn(es(p,1),li(gt()));var S=p.length;return Ht(function(T){for(var R=-1,Q=ls(T.length,S);++R<Q;)T[R]=p[R].call(this,T[R]);return oi(h,this,T)})}),l1=Ht(function(h,p){var S=Cl(p,Ld(l1));return Eo(h,_,n,p,S)}),TO=Ht(function(h,p){var S=Cl(p,Ld(TO));return Eo(h,A,n,p,S)}),VY=ko(function(h,p){return Eo(h,E,n,n,n,p)});function UY(h,p){if(typeof h!="function")throw new Oi(o);return p=p===n?p:Bt(p),Ht(h,p)}function qY(h,p){if(typeof h!="function")throw new Oi(o);return p=p==null?0:_r(Bt(p),0),Ht(function(S){var T=S[p],R=kl(S,0,p);return T&&Sl(R,T),oi(h,this,R)})}function WY(h,p,S){var T=!0,R=!0;if(typeof h!="function")throw new Oi(o);return Xn(S)&&(T="leading"in S?!!S.leading:T,R="trailing"in S?!!S.trailing:R),kO(h,p,{leading:T,maxWait:p,trailing:R})}function HY(h){return CO(h,1)}function GY(h,p){return l1(HN(p),h)}function KY(){if(!arguments.length)return[];var h=arguments[0];return $t(h)?h:[h]}function YY(h){return Mi(h,g)}function QY(h,p){return p=typeof p=="function"?p:n,Mi(h,g,p)}function XY(h){return Mi(h,f|g)}function JY(h,p){return p=typeof p=="function"?p:n,Mi(h,f|g,p)}function ZY(h,p){return p==null||xT(h,p,Fr(p))}function ca(h,p){return h===p||h!==h&&p!==p}var eQ=gx(MN),tQ=gx(function(h,p){return h>=p}),nu=ST(function(){return arguments}())?ST:function(h){return sr(h)&&bn.call(h,"callee")&&!uT.call(h,"callee")},$t=_e.isArray,nQ=Wk?li(Wk):uG;function Us(h){return h!=null&&Cx(h.length)&&!Oo(h)}function hr(h){return sr(h)&&Us(h)}function rQ(h){return h===!0||h===!1||sr(h)&&Ns(h)==F}var Tl=vH||y1,sQ=Hk?li(Hk):dG;function iQ(h){return sr(h)&&h.nodeType===1&&!Fm(h)}function aQ(h){if(h==null)return!0;if(Us(h)&&($t(h)||typeof h=="string"||typeof h.splice=="function"||Tl(h)||Fd(h)||nu(h)))return!h.length;var p=cs(h);if(p==Ne||p==qe)return!h.size;if(Rm(h))return!RN(h).length;for(var S in h)if(bn.call(h,S))return!1;return!0}function oQ(h,p){return Mm(h,p)}function lQ(h,p,S){S=typeof S=="function"?S:n;var T=S?S(h,p):n;return T===n?Mm(h,p,n,S):!!T}function c1(h){if(!sr(h))return!1;var p=Ns(h);return p==G||p==te||typeof h.message=="string"&&typeof h.name=="string"&&!Fm(h)}function cQ(h){return typeof h=="number"&&hT(h)}function Oo(h){if(!Xn(h))return!1;var p=Ns(h);return p==M||p==ye||p==be||p==dt}function OO(h){return typeof h=="number"&&h==Bt(h)}function Cx(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=q}function Xn(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function sr(h){return h!=null&&typeof h=="object"}var DO=Gk?li(Gk):fG;function uQ(h,p){return h===p||$N(h,p,ZN(p))}function dQ(h,p,S){return S=typeof S=="function"?S:n,$N(h,p,ZN(p),S)}function hQ(h){return MO(h)&&h!=+h}function fQ(h){if(QG(h))throw new Mt(a);return CT(h)}function mQ(h){return h===null}function pQ(h){return h==null}function MO(h){return typeof h=="number"||sr(h)&&Ns(h)==fe}function Fm(h){if(!sr(h)||Ns(h)!=Ze)return!1;var p=Jv(h);if(p===null)return!0;var S=bn.call(p,"constructor")&&p.constructor;return typeof S=="function"&&S instanceof S&&Kv.call(S)==dH}var u1=Kk?li(Kk):mG;function gQ(h){return OO(h)&&h>=-q&&h<=q}var IO=Yk?li(Yk):pG;function _x(h){return typeof h=="string"||!$t(h)&&sr(h)&&Ns(h)==We}function ui(h){return typeof h=="symbol"||sr(h)&&Ns(h)==Ft}var Fd=Qk?li(Qk):gG;function vQ(h){return h===n}function xQ(h){return sr(h)&&cs(h)==_t}function yQ(h){return sr(h)&&Ns(h)==fn}var jQ=gx(LN),bQ=gx(function(h,p){return h<=p});function $O(h){if(!h)return[];if(Us(h))return _x(h)?oa(h):Vs(h);if(_m&&h[_m])return Z9(h[_m]());var p=cs(h),S=p==Ne?CN:p==qe?Wv:Bd;return S(h)}function Do(h){if(!h)return h===0?h:0;if(h=Ri(h),h===J||h===-J){var p=h<0?-1:1;return p*$}return h===h?h:0}function Bt(h){var p=Do(h),S=p%1;return p===p?S?p-S:p:0}function RO(h){return h?Jc(Bt(h),0,se):0}function Ri(h){if(typeof h=="number")return h;if(ui(h))return le;if(Xn(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Xn(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=nT(h);var S=Hw.test(h);return S||jm.test(h)?$9(h.slice(2),S?2:8):Ww.test(h)?le:+h}function LO(h){return Ga(h,qs(h))}function wQ(h){return h?Jc(Bt(h),-q,q):h===0?h:0}function mn(h){return h==null?"":ci(h)}var NQ=$d(function(h,p){if(Rm(p)||Us(p)){Ga(p,Fr(p),h);return}for(var S in p)bn.call(p,S)&&Tm(h,S,p[S])}),FO=$d(function(h,p){Ga(p,qs(p),h)}),Px=$d(function(h,p,S,T){Ga(p,qs(p),h,T)}),SQ=$d(function(h,p,S,T){Ga(p,Fr(p),h,T)}),CQ=ko(TN);function _Q(h,p){var S=Id(h);return p==null?S:vT(S,p)}var PQ=Ht(function(h,p){h=En(h);var S=-1,T=p.length,R=T>2?p[2]:n;for(R&&Ss(p[0],p[1],R)&&(T=1);++S<T;)for(var Q=p[S],oe=qs(Q),pe=-1,we=oe.length;++pe<we;){var $e=oe[pe],Re=h[$e];(Re===n||ca(Re,Od[$e])&&!bn.call(h,$e))&&(h[$e]=Q[$e])}return h}),AQ=Ht(function(h){return h.push(n,nO),oi(BO,n,h)});function EQ(h,p){return Jk(h,gt(p,3),Ha)}function kQ(h,p){return Jk(h,gt(p,3),DN)}function TQ(h,p){return h==null?h:ON(h,gt(p,3),qs)}function OQ(h,p){return h==null?h:wT(h,gt(p,3),qs)}function DQ(h,p){return h&&Ha(h,gt(p,3))}function MQ(h,p){return h&&DN(h,gt(p,3))}function IQ(h){return h==null?[]:lx(h,Fr(h))}function $Q(h){return h==null?[]:lx(h,qs(h))}function d1(h,p,S){var T=h==null?n:Zc(h,p);return T===n?S:T}function RQ(h,p){return h!=null&&iO(h,p,aG)}function h1(h,p){return h!=null&&iO(h,p,oG)}var LQ=XT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Yv.call(p)),h[p]=S},m1(Ws)),FQ=XT(function(h,p,S){p!=null&&typeof p.toString!="function"&&(p=Yv.call(p)),bn.call(h,p)?h[p].push(S):h[p]=[S]},gt),BQ=Ht(Dm);function Fr(h){return Us(h)?pT(h):RN(h)}function qs(h){return Us(h)?pT(h,!0):vG(h)}function zQ(h,p){var S={};return p=gt(p,3),Ha(h,function(T,R,Q){Ao(S,p(T,R,Q),T)}),S}function VQ(h,p){var S={};return p=gt(p,3),Ha(h,function(T,R,Q){Ao(S,R,p(T,R,Q))}),S}var UQ=$d(function(h,p,S){cx(h,p,S)}),BO=$d(function(h,p,S,T){cx(h,p,S,T)}),qQ=ko(function(h,p){var S={};if(h==null)return S;var T=!1;p=Wn(p,function(Q){return Q=El(Q,h),T||(T=Q.length>1),Q}),Ga(h,XN(h),S),T&&(S=Mi(S,f|m|g,LG));for(var R=p.length;R--;)UN(S,p[R]);return S});function WQ(h,p){return zO(h,Sx(gt(p)))}var HQ=ko(function(h,p){return h==null?{}:yG(h,p)});function zO(h,p){if(h==null)return{};var S=Wn(XN(h),function(T){return[T]});return p=gt(p),OT(h,S,function(T,R){return p(T,R[0])})}function GQ(h,p,S){p=El(p,h);var T=-1,R=p.length;for(R||(R=1,h=n);++T<R;){var Q=h==null?n:h[Ka(p[T])];Q===n&&(T=R,Q=S),h=Oo(Q)?Q.call(h):Q}return h}function KQ(h,p,S){return h==null?h:Im(h,p,S)}function YQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:Im(h,p,S,T)}var VO=eO(Fr),UO=eO(qs);function QQ(h,p,S){var T=$t(h),R=T||Tl(h)||Fd(h);if(p=gt(p,4),S==null){var Q=h&&h.constructor;R?S=T?new Q:[]:Xn(h)?S=Oo(Q)?Id(Jv(h)):{}:S={}}return(R?Ti:Ha)(h,function(oe,pe,we){return p(S,oe,pe,we)}),S}function XQ(h,p){return h==null?!0:UN(h,p)}function JQ(h,p,S){return h==null?h:RT(h,p,HN(S))}function ZQ(h,p,S,T){return T=typeof T=="function"?T:n,h==null?h:RT(h,p,HN(S),T)}function Bd(h){return h==null?[]:SN(h,Fr(h))}function eX(h){return h==null?[]:SN(h,qs(h))}function tX(h,p,S){return S===n&&(S=p,p=n),S!==n&&(S=Ri(S),S=S===S?S:0),p!==n&&(p=Ri(p),p=p===p?p:0),Jc(Ri(h),p,S)}function nX(h,p,S){return p=Do(p),S===n?(S=p,p=0):S=Do(S),h=Ri(h),lG(h,p,S)}function rX(h,p,S){if(S&&typeof S!="boolean"&&Ss(h,p,S)&&(p=S=n),S===n&&(typeof p=="boolean"?(S=p,p=n):typeof h=="boolean"&&(S=h,h=n)),h===n&&p===n?(h=0,p=1):(h=Do(h),p===n?(p=h,h=0):p=Do(p)),h>p){var T=h;h=p,p=T}if(S||h%1||p%1){var R=fT();return ls(h+R*(p-h+I9("1e-"+((R+"").length-1))),p)}return BN(h,p)}var sX=Rd(function(h,p,S){return p=p.toLowerCase(),h+(S?qO(p):p)});function qO(h){return f1(mn(h).toLowerCase())}function WO(h){return h=mn(h),h&&h.replace(Kw,K9).replace(oN,"")}function iX(h,p,S){h=mn(h),p=ci(p);var T=h.length;S=S===n?T:Jc(Bt(S),0,T);var R=S;return S-=p.length,S>=0&&h.slice(S,R)==p}function aX(h){return h=mn(h),h&&ia.test(h)?h.replace(Tn,Y9):h}function oX(h){return h=mn(h),h&&ws.test(h)?h.replace(ai,"\\$&"):h}var lX=Rd(function(h,p,S){return h+(S?"-":"")+p.toLowerCase()}),cX=Rd(function(h,p,S){return h+(S?" ":"")+p.toLowerCase()}),uX=KT("toLowerCase");function dX(h,p,S){h=mn(h),p=Bt(p);var T=p?kd(h):0;if(!p||T>=p)return h;var R=(p-T)/2;return px(nx(R),S)+h+px(tx(R),S)}function hX(h,p,S){h=mn(h),p=Bt(p);var T=p?kd(h):0;return p&&T<p?h+px(p-T,S):h}function fX(h,p,S){h=mn(h),p=Bt(p);var T=p?kd(h):0;return p&&T<p?px(p-T,S)+h:h}function mX(h,p,S){return S||p==null?p=0:p&&(p=+p),bH(mn(h).replace(zs,""),p||0)}function pX(h,p,S){return(S?Ss(h,p,S):p===n)?p=1:p=Bt(p),zN(mn(h),p)}function gX(){var h=arguments,p=mn(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var vX=Rd(function(h,p,S){return h+(S?"_":"")+p.toLowerCase()});function xX(h,p,S){return S&&typeof S!="number"&&Ss(h,p,S)&&(p=S=n),S=S===n?se:S>>>0,S?(h=mn(h),h&&(typeof p=="string"||p!=null&&!u1(p))&&(p=ci(p),!p&&Ed(h))?kl(oa(h),0,S):h.split(p,S)):[]}var yX=Rd(function(h,p,S){return h+(S?" ":"")+f1(p)});function jX(h,p,S){return h=mn(h),S=S==null?0:Jc(Bt(S),0,h.length),p=ci(p),h.slice(S,S+p.length)==p}function bX(h,p,S){var T=H.templateSettings;S&&Ss(h,p,S)&&(p=n),h=mn(h),p=Px({},p,T,tO);var R=Px({},p.imports,T.imports,tO),Q=Fr(R),oe=SN(R,Q),pe,we,$e=0,Re=p.interpolate||Co,Fe="__p += '",Qe=_N((p.escape||Co).source+"|"+Re.source+"|"+(Re===yn?qw:Co).source+"|"+(p.evaluate||Co).source+"|$","g"),lt="//# sourceURL="+(bn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hN+"]")+`
`;h.replace(Qe,function(yt,Kt,nn,di,Cs,hi){return nn||(nn=di),Fe+=h.slice($e,hi).replace(Yw,Q9),Kt&&(pe=!0,Fe+=`' +
__e(`+Kt+`) +
'`),Cs&&(we=!0,Fe+=`';
`+Cs+`;
__p += '`),nn&&(Fe+=`' +
((__t = (`+nn+`)) == null ? '' : __t) +
'`),$e=hi+yt.length,yt}),Fe+=`';
`;var xt=bn.call(p,"variable")&&p.variable;if(!xt)Fe=`with (obj) {
`+Fe+`
}
`;else if(Vw.test(xt))throw new Mt(l);Fe=(we?Fe.replace(bl,""):Fe).replace(ce,"$1").replace(He,"$1;"),Fe="function("+(xt||"obj")+`) {
`+(xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pe?", __e = _.escape":"")+(we?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fe+`return __p
}`;var Vt=GO(function(){return hn(Q,lt+"return "+Fe).apply(n,oe)});if(Vt.source=Fe,c1(Vt))throw Vt;return Vt}function wX(h){return mn(h).toLowerCase()}function NX(h){return mn(h).toUpperCase()}function SX(h,p,S){if(h=mn(h),h&&(S||p===n))return nT(h);if(!h||!(p=ci(p)))return h;var T=oa(h),R=oa(p),Q=rT(T,R),oe=sT(T,R)+1;return kl(T,Q,oe).join("")}function CX(h,p,S){if(h=mn(h),h&&(S||p===n))return h.slice(0,aT(h)+1);if(!h||!(p=ci(p)))return h;var T=oa(h),R=sT(T,oa(p))+1;return kl(T,0,R).join("")}function _X(h,p,S){if(h=mn(h),h&&(S||p===n))return h.replace(zs,"");if(!h||!(p=ci(p)))return h;var T=oa(h),R=rT(T,oa(p));return kl(T,R).join("")}function PX(h,p){var S=I,T=k;if(Xn(p)){var R="separator"in p?p.separator:R;S="length"in p?Bt(p.length):S,T="omission"in p?ci(p.omission):T}h=mn(h);var Q=h.length;if(Ed(h)){var oe=oa(h);Q=oe.length}if(S>=Q)return h;var pe=S-kd(T);if(pe<1)return T;var we=oe?kl(oe,0,pe).join(""):h.slice(0,pe);if(R===n)return we+T;if(oe&&(pe+=we.length-pe),u1(R)){if(h.slice(pe).search(R)){var $e,Re=we;for(R.global||(R=_N(R.source,mn(Dv.exec(R))+"g")),R.lastIndex=0;$e=R.exec(Re);)var Fe=$e.index;we=we.slice(0,Fe===n?pe:Fe)}}else if(h.indexOf(ci(R),pe)!=pe){var Qe=we.lastIndexOf(R);Qe>-1&&(we=we.slice(0,Qe))}return we+T}function AX(h){return h=mn(h),h&&Qn.test(h)?h.replace(Be,rH):h}var EX=Rd(function(h,p,S){return h+(S?" ":"")+p.toUpperCase()}),f1=KT("toUpperCase");function HO(h,p,S){return h=mn(h),p=S?n:p,p===n?J9(h)?aH(h):U9(h):h.match(p)||[]}var GO=Ht(function(h,p){try{return oi(h,n,p)}catch(S){return c1(S)?S:new Mt(S)}}),kX=ko(function(h,p){return Ti(p,function(S){S=Ka(S),Ao(h,S,o1(h[S],h))}),h});function TX(h){var p=h==null?0:h.length,S=gt();return h=p?Wn(h,function(T){if(typeof T[1]!="function")throw new Oi(o);return[S(T[0]),T[1]]}):[],Ht(function(T){for(var R=-1;++R<p;){var Q=h[R];if(oi(Q[0],this,T))return oi(Q[1],this,T)}})}function OX(h){return rG(Mi(h,f))}function m1(h){return function(){return h}}function DX(h,p){return h==null||h!==h?p:h}var MX=QT(),IX=QT(!0);function Ws(h){return h}function p1(h){return _T(typeof h=="function"?h:Mi(h,f))}function $X(h){return AT(Mi(h,f))}function RX(h,p){return ET(h,Mi(p,f))}var LX=Ht(function(h,p){return function(S){return Dm(S,h,p)}}),FX=Ht(function(h,p){return function(S){return Dm(h,S,p)}});function g1(h,p,S){var T=Fr(p),R=lx(p,T);S==null&&!(Xn(p)&&(R.length||!T.length))&&(S=p,p=h,h=this,R=lx(p,Fr(p)));var Q=!(Xn(S)&&"chain"in S)||!!S.chain,oe=Oo(h);return Ti(R,function(pe){var we=p[pe];h[pe]=we,oe&&(h.prototype[pe]=function(){var $e=this.__chain__;if(Q||$e){var Re=h(this.__wrapped__),Fe=Re.__actions__=Vs(this.__actions__);return Fe.push({func:we,args:arguments,thisArg:h}),Re.__chain__=$e,Re}return we.apply(h,Sl([this.value()],arguments))})}),h}function BX(){return Zr._===this&&(Zr._=hH),this}function v1(){}function zX(h){return h=Bt(h),Ht(function(p){return kT(p,h)})}var VX=KN(Wn),UX=KN(Xk),qX=KN(yN);function KO(h){return t1(h)?jN(Ka(h)):jG(h)}function WX(h){return function(p){return h==null?n:Zc(h,p)}}var HX=JT(),GX=JT(!0);function x1(){return[]}function y1(){return!1}function KX(){return{}}function YX(){return""}function QX(){return!0}function XX(h,p){if(h=Bt(h),h<1||h>q)return[];var S=se,T=ls(h,se);p=gt(p),h-=se;for(var R=NN(T,p);++S<h;)p(S);return R}function JX(h){return $t(h)?Wn(h,Ka):ui(h)?[h]:Vs(mO(mn(h)))}function ZX(h){var p=++uH;return mn(h)+p}var eJ=mx(function(h,p){return h+p},0),tJ=YN("ceil"),nJ=mx(function(h,p){return h/p},1),rJ=YN("floor");function sJ(h){return h&&h.length?ox(h,Ws,MN):n}function iJ(h,p){return h&&h.length?ox(h,gt(p,2),MN):n}function aJ(h){return eT(h,Ws)}function oJ(h,p){return eT(h,gt(p,2))}function lJ(h){return h&&h.length?ox(h,Ws,LN):n}function cJ(h,p){return h&&h.length?ox(h,gt(p,2),LN):n}var uJ=mx(function(h,p){return h*p},1),dJ=YN("round"),hJ=mx(function(h,p){return h-p},0);function fJ(h){return h&&h.length?wN(h,Ws):0}function mJ(h,p){return h&&h.length?wN(h,gt(p,2)):0}return H.after=$Y,H.ary=CO,H.assign=NQ,H.assignIn=FO,H.assignInWith=Px,H.assignWith=SQ,H.at=CQ,H.before=_O,H.bind=o1,H.bindAll=kX,H.bindKey=PO,H.castArray=KY,H.chain=wO,H.chunk=rK,H.compact=sK,H.concat=iK,H.cond=TX,H.conforms=OX,H.constant=m1,H.countBy=fY,H.create=_Q,H.curry=AO,H.curryRight=EO,H.debounce=kO,H.defaults=PQ,H.defaultsDeep=AQ,H.defer=RY,H.delay=LY,H.difference=aK,H.differenceBy=oK,H.differenceWith=lK,H.drop=cK,H.dropRight=uK,H.dropRightWhile=dK,H.dropWhile=hK,H.fill=fK,H.filter=pY,H.flatMap=xY,H.flatMapDeep=yY,H.flatMapDepth=jY,H.flatten=xO,H.flattenDeep=mK,H.flattenDepth=pK,H.flip=FY,H.flow=MX,H.flowRight=IX,H.fromPairs=gK,H.functions=IQ,H.functionsIn=$Q,H.groupBy=bY,H.initial=xK,H.intersection=yK,H.intersectionBy=jK,H.intersectionWith=bK,H.invert=LQ,H.invertBy=FQ,H.invokeMap=NY,H.iteratee=p1,H.keyBy=SY,H.keys=Fr,H.keysIn=qs,H.map=bx,H.mapKeys=zQ,H.mapValues=VQ,H.matches=$X,H.matchesProperty=RX,H.memoize=Nx,H.merge=UQ,H.mergeWith=BO,H.method=LX,H.methodOf=FX,H.mixin=g1,H.negate=Sx,H.nthArg=zX,H.omit=qQ,H.omitBy=WQ,H.once=BY,H.orderBy=CY,H.over=VX,H.overArgs=zY,H.overEvery=UX,H.overSome=qX,H.partial=l1,H.partialRight=TO,H.partition=_Y,H.pick=HQ,H.pickBy=zO,H.property=KO,H.propertyOf=WX,H.pull=CK,H.pullAll=jO,H.pullAllBy=_K,H.pullAllWith=PK,H.pullAt=AK,H.range=HX,H.rangeRight=GX,H.rearg=VY,H.reject=EY,H.remove=EK,H.rest=UY,H.reverse=i1,H.sampleSize=TY,H.set=KQ,H.setWith=YQ,H.shuffle=OY,H.slice=kK,H.sortBy=IY,H.sortedUniq=RK,H.sortedUniqBy=LK,H.split=xX,H.spread=qY,H.tail=FK,H.take=BK,H.takeRight=zK,H.takeRightWhile=VK,H.takeWhile=UK,H.tap=sY,H.throttle=WY,H.thru=jx,H.toArray=$O,H.toPairs=VO,H.toPairsIn=UO,H.toPath=JX,H.toPlainObject=LO,H.transform=QQ,H.unary=HY,H.union=qK,H.unionBy=WK,H.unionWith=HK,H.uniq=GK,H.uniqBy=KK,H.uniqWith=YK,H.unset=XQ,H.unzip=a1,H.unzipWith=bO,H.update=JQ,H.updateWith=ZQ,H.values=Bd,H.valuesIn=eX,H.without=QK,H.words=HO,H.wrap=GY,H.xor=XK,H.xorBy=JK,H.xorWith=ZK,H.zip=eY,H.zipObject=tY,H.zipObjectDeep=nY,H.zipWith=rY,H.entries=VO,H.entriesIn=UO,H.extend=FO,H.extendWith=Px,g1(H,H),H.add=eJ,H.attempt=GO,H.camelCase=sX,H.capitalize=qO,H.ceil=tJ,H.clamp=tX,H.clone=YY,H.cloneDeep=XY,H.cloneDeepWith=JY,H.cloneWith=QY,H.conformsTo=ZY,H.deburr=WO,H.defaultTo=DX,H.divide=nJ,H.endsWith=iX,H.eq=ca,H.escape=aX,H.escapeRegExp=oX,H.every=mY,H.find=gY,H.findIndex=gO,H.findKey=EQ,H.findLast=vY,H.findLastIndex=vO,H.findLastKey=kQ,H.floor=rJ,H.forEach=NO,H.forEachRight=SO,H.forIn=TQ,H.forInRight=OQ,H.forOwn=DQ,H.forOwnRight=MQ,H.get=d1,H.gt=eQ,H.gte=tQ,H.has=RQ,H.hasIn=h1,H.head=yO,H.identity=Ws,H.includes=wY,H.indexOf=vK,H.inRange=nX,H.invoke=BQ,H.isArguments=nu,H.isArray=$t,H.isArrayBuffer=nQ,H.isArrayLike=Us,H.isArrayLikeObject=hr,H.isBoolean=rQ,H.isBuffer=Tl,H.isDate=sQ,H.isElement=iQ,H.isEmpty=aQ,H.isEqual=oQ,H.isEqualWith=lQ,H.isError=c1,H.isFinite=cQ,H.isFunction=Oo,H.isInteger=OO,H.isLength=Cx,H.isMap=DO,H.isMatch=uQ,H.isMatchWith=dQ,H.isNaN=hQ,H.isNative=fQ,H.isNil=pQ,H.isNull=mQ,H.isNumber=MO,H.isObject=Xn,H.isObjectLike=sr,H.isPlainObject=Fm,H.isRegExp=u1,H.isSafeInteger=gQ,H.isSet=IO,H.isString=_x,H.isSymbol=ui,H.isTypedArray=Fd,H.isUndefined=vQ,H.isWeakMap=xQ,H.isWeakSet=yQ,H.join=wK,H.kebabCase=lX,H.last=$i,H.lastIndexOf=NK,H.lowerCase=cX,H.lowerFirst=uX,H.lt=jQ,H.lte=bQ,H.max=sJ,H.maxBy=iJ,H.mean=aJ,H.meanBy=oJ,H.min=lJ,H.minBy=cJ,H.stubArray=x1,H.stubFalse=y1,H.stubObject=KX,H.stubString=YX,H.stubTrue=QX,H.multiply=uJ,H.nth=SK,H.noConflict=BX,H.noop=v1,H.now=wx,H.pad=dX,H.padEnd=hX,H.padStart=fX,H.parseInt=mX,H.random=rX,H.reduce=PY,H.reduceRight=AY,H.repeat=pX,H.replace=gX,H.result=GQ,H.round=dJ,H.runInContext=je,H.sample=kY,H.size=DY,H.snakeCase=vX,H.some=MY,H.sortedIndex=TK,H.sortedIndexBy=OK,H.sortedIndexOf=DK,H.sortedLastIndex=MK,H.sortedLastIndexBy=IK,H.sortedLastIndexOf=$K,H.startCase=yX,H.startsWith=jX,H.subtract=hJ,H.sum=fJ,H.sumBy=mJ,H.template=bX,H.times=XX,H.toFinite=Do,H.toInteger=Bt,H.toLength=RO,H.toLower=wX,H.toNumber=Ri,H.toSafeInteger=wQ,H.toString=mn,H.toUpper=NX,H.trim=SX,H.trimEnd=CX,H.trimStart=_X,H.truncate=PX,H.unescape=AX,H.uniqueId=ZX,H.upperCase=EX,H.upperFirst=f1,H.each=NO,H.eachRight=SO,H.first=yO,g1(H,function(){var h={};return Ha(H,function(p,S){bn.call(H.prototype,S)||(h[S]=p)}),h}(),{chain:!1}),H.VERSION=s,Ti(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){H[h].placeholder=H}),Ti(["drop","take"],function(h,p){en.prototype[h]=function(S){S=S===n?1:_r(Bt(S),0);var T=this.__filtered__&&!p?new en(this):this.clone();return T.__filtered__?T.__takeCount__=ls(S,T.__takeCount__):T.__views__.push({size:ls(S,se),type:h+(T.__dir__<0?"Right":"")}),T},en.prototype[h+"Right"]=function(S){return this.reverse()[h](S).reverse()}}),Ti(["filter","map","takeWhile"],function(h,p){var S=p+1,T=S==B||S==Y;en.prototype[h]=function(R){var Q=this.clone();return Q.__iteratees__.push({iteratee:gt(R,3),type:S}),Q.__filtered__=Q.__filtered__||T,Q}}),Ti(["head","last"],function(h,p){var S="take"+(p?"Right":"");en.prototype[h]=function(){return this[S](1).value()[0]}}),Ti(["initial","tail"],function(h,p){var S="drop"+(p?"":"Right");en.prototype[h]=function(){return this.__filtered__?new en(this):this[S](1)}}),en.prototype.compact=function(){return this.filter(Ws)},en.prototype.find=function(h){return this.filter(h).head()},en.prototype.findLast=function(h){return this.reverse().find(h)},en.prototype.invokeMap=Ht(function(h,p){return typeof h=="function"?new en(this):this.map(function(S){return Dm(S,h,p)})}),en.prototype.reject=function(h){return this.filter(Sx(gt(h)))},en.prototype.slice=function(h,p){h=Bt(h);var S=this;return S.__filtered__&&(h>0||p<0)?new en(S):(h<0?S=S.takeRight(-h):h&&(S=S.drop(h)),p!==n&&(p=Bt(p),S=p<0?S.dropRight(-p):S.take(p-h)),S)},en.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},en.prototype.toArray=function(){return this.take(se)},Ha(en.prototype,function(h,p){var S=/^(?:filter|find|map|reject)|While$/.test(p),T=/^(?:head|last)$/.test(p),R=H[T?"take"+(p=="last"?"Right":""):p],Q=T||/^find/.test(p);R&&(H.prototype[p]=function(){var oe=this.__wrapped__,pe=T?[1]:arguments,we=oe instanceof en,$e=pe[0],Re=we||$t(oe),Fe=function(Kt){var nn=R.apply(H,Sl([Kt],pe));return T&&Qe?nn[0]:nn};Re&&S&&typeof $e=="function"&&$e.length!=1&&(we=Re=!1);var Qe=this.__chain__,lt=!!this.__actions__.length,xt=Q&&!Qe,Vt=we&&!lt;if(!Q&&Re){oe=Vt?oe:new en(this);var yt=h.apply(oe,pe);return yt.__actions__.push({func:jx,args:[Fe],thisArg:n}),new Di(yt,Qe)}return xt&&Vt?h.apply(this,pe):(yt=this.thru(Fe),xt?T?yt.value()[0]:yt.value():yt)})}),Ti(["pop","push","shift","sort","splice","unshift"],function(h){var p=Hv[h],S=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",T=/^(?:pop|shift)$/.test(h);H.prototype[h]=function(){var R=arguments;if(T&&!this.__chain__){var Q=this.value();return p.apply($t(Q)?Q:[],R)}return this[S](function(oe){return p.apply($t(oe)?oe:[],R)})}}),Ha(en.prototype,function(h,p){var S=H[p];if(S){var T=S.name+"";bn.call(Md,T)||(Md[T]=[]),Md[T].push({name:p,func:S})}}),Md[fx(n,N).name]=[{name:"wrapper",func:n}],en.prototype.clone=AH,en.prototype.reverse=EH,en.prototype.value=kH,H.prototype.at=iY,H.prototype.chain=aY,H.prototype.commit=oY,H.prototype.next=lY,H.prototype.plant=uY,H.prototype.reverse=dY,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=hY,H.prototype.first=H.prototype.head,_m&&(H.prototype[_m]=cY),H},Td=oH();Kc?((Kc.exports=Td)._=Td,pN._=Td):Zr._=Td}).call(ur)})(qj,qj.exports);var YS=qj.exports;const CP=w.forwardRef(({petId:e},t)=>{const{settings:n}=Gt(),{getPetById:s,getClientById:i,getVaccinationsByPetId:a}=Pt(),o=JSON.parse(localStorage.getItem("vetpro-veterinarians")||"[]"),l=s(e),c=l?i(l.ownerId):null,u=l?a(l.id):[],d=f=>{const m=new Date(f),g=new Date;if(YS.isNaN(m.getTime()))return"N/A";let x=g.getFullYear()-m.getFullYear(),v=g.getMonth()-m.getMonth(),y=g.getDate()-m.getDate();if(y<0){v--;const b=new Date(g.getFullYear(),g.getMonth(),0);y+=b.getDate()}v<0&&(x--,v+=12);const N=Math.floor(y/7),j=[];return x>0&&j.push(`${x} an${x>1?"s":""}`),v>0&&j.push(`${v} mois`),N>0&&j.push(`${N} semain${N>1?"es":""}`),j.join(", ")||"0 jour"};return!l||!c?null:r.jsxs("div",{ref:t,className:"p-8 bg-white text-gray-900 font-sans",children:[n.showClinicInfo&&r.jsxs("section",{className:"mb-4 text-sm",children:[r.jsx("img",{src:n.logo,alt:"Logo",className:"h-12 mb-2"}),r.jsx("p",{children:n.clinicName}),r.jsx("p",{children:n.address}),r.jsxs("p",{children:[n.phone," | ",n.email]}),n.website&&r.jsx("p",{children:n.website})]}),r.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-primary",children:"Certificat de Vaccination"}),r.jsx(N9,{value:`pet:${l.id}`,size:100})]}),n.showVetsInfo&&r.jsxs("section",{className:"mb-6 text-sm",children:[r.jsx("h2",{className:"font-medium mb-2",children:"Vtrinaires"}),o.map(f=>r.jsxs("p",{children:[f.title," ",f.name," - ",f.specialty]},f.id))]}),l.photo&&r.jsx("div",{className:"mb-6 text-center",children:r.jsx("img",{src:l.photo,alt:l.name,className:"w-32 h-32 object-cover rounded-full mx-auto"})}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Informations de l'animal"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Nom:"})," ",l.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",l.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",l.breed||"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ge:"})," ",l.birthDate?d(l.birthDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Propritaire:"})," ",c.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Contact:"})," ",c.phone]})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold border-b pb-2",children:"Historique des Vaccinations"}),r.jsx("div",{className:"mt-4 space-y-4",children:u.map(f=>r.jsxs(de,{className:"border-primary/50",children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:f.vaccineName})}),r.jsxs(he,{className:"p-4 text-sm flex justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Date donne:"})," ",f.dateGiven&&!YS.isNaN(Date.parse(f.dateGiven))?Rt(new Date(f.dateGiven),"dd/MM/yyyy"):"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Rappel prvu:"})," ",f.nextDueDate&&!YS.isNaN(Date.parse(f.nextDueDate))?Rt(new Date(f.nextDueDate),"dd/MM/yyyy"):"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vtrinaire:"})," ",f.veterinarian]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Statut:"})," ",f.status]})]})]})]},f.id))})]}),r.jsxs("footer",{className:"mt-8 text-center text-xs text-gray-500",children:["Gnr le ",Rt(new Date,"dd/MM/yyyy")," - VetPro CRM"]})]})});function S9({open:e,onOpenChange:t,pet:n}){const{consultations:s,clients:i,getConsultationsByPetId:a,getClientById:o,getPrescriptionsByPetId:l,getActivePrescriptions:c,getVaccinationsByPetId:u,getAntiparasiticsByPetId:d,updatePet:f,updateConsultation:m,updateVaccination:g,updateVaccinationStatuses:x}=Pt(),[v,y]=w.useState(!1),[N,j]=w.useState(!1),[b,C]=w.useState(!1),[_,A]=w.useState(!1),[P,E]=w.useState("overview"),[D,I]=w.useState(!1),[k,O]=w.useState({hasPedigree:!1,officialName:"",pedigreeNumber:"",breeder:"",fatherName:"",fatherPedigree:"",fatherBreed:"",fatherTitles:"",motherName:"",motherPedigree:"",motherBreed:"",motherTitles:"",pedigreePhoto:""}),[U,B]=w.useState((n==null?void 0:n.additionalPhotos)||[]),[ne,Y]=w.useState({clientId:0,petId:0,type:"",reason:""}),[J,q]=w.useState(null),[$,le]=w.useState(!1),[se,re]=w.useState(null),[K,ee]=w.useState(null),{toast:ge}=It(),xe=w.useRef(null),be=Bk.useReactToPrint({contentRef:xe,onAfterPrint:()=>t(!1)});w.useEffect(()=>{e&&x()},[e,x]);const F=()=>{n&&(f(n.id,{...n,...k}),Object.assign(n,k),I(!1))},X=()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),I(!1))},te=ce=>{n&&(Y({clientId:n.ownerId,petId:n.id,type:"vaccination",reason:`Rappel vaccinal - ${ce.vaccineName}`}),q(ce),j(!0))},G=ce=>{re(ce),le(!0)},M=(ce,He)=>{g(ce,{status:He}),ee(null),ge({title:"Statut mis  jour",description:`Le statut de la vaccination a t chang en "${{completed:"Termine",scheduled:"Planifie",overdue:"En retard",missed:"Manque"}[He]}"`})},ye=(ce,He)=>{const Be=s.find(ia=>ia.id===ce);if(!Be||!Be.photos)return;const Tn=Be.photos.filter((ia,Ct)=>Ct!==He),Qn={...Be,photos:Tn};m(ce,Qn)},Ne=async ce=>{var Tn;const He=(Tn=ce.target.files)==null?void 0:Tn[0];if(!He)return;const Be=new FileReader;Be.onload=()=>{const Qn=Be.result,ia=[...U,Qn];B(ia),n&&f(n.id,{...n,additionalPhotos:ia})},Be.readAsDataURL(He)},fe=ce=>{const He=U.filter((Be,Tn)=>Tn!==ce);B(He),n&&f(n.id,{...n,additionalPhotos:He})};if(w.useEffect(()=>{n&&(O({hasPedigree:n.hasPedigree||!1,officialName:n.officialName||"",pedigreeNumber:n.pedigreeNumber||"",breeder:n.breeder||"",fatherName:n.fatherName||"",fatherPedigree:n.fatherPedigree||"",fatherBreed:n.fatherBreed||"",fatherTitles:n.fatherTitles||"",motherName:n.motherName||"",motherPedigree:n.motherPedigree||"",motherBreed:n.motherBreed||"",motherTitles:n.motherTitles||"",pedigreePhoto:n.pedigreePhoto||""}),B(n.additionalPhotos||[]))},[n]),!n)return null;const Pe=o(n.ownerId),Ze=a(n.id),at=u(n.id),dt=d(n.id),Se=[...Ze].sort((ce,He)=>new Date(He.date).getTime()-new Date(ce.date).getTime()),qe=[...at].sort((ce,He)=>new Date(He.dateGiven).getTime()-new Date(ce.dateGiven).getTime()),We=[...dt||[]].sort((ce,He)=>new Date(He.dateGiven).getTime()-new Date(ce.dateGiven).getTime()),Ft=Se.filter(ce=>ce.weight||ce.temperature).map(ce=>({date:new Date(ce.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),weight:ce.weight?parseFloat(ce.weight):0,temperature:ce.temperature?parseFloat(ce.temperature):0})).reverse(),xn=Se.filter(ce=>ce.weight).map(ce=>parseFloat(ce.weight)),_t=Se.filter(ce=>ce.temperature).map(ce=>parseFloat(ce.temperature)),fn=xn[0]||0,dr=xn[1]||0,Yn=fn-dr,ys=Yn>0?"up":Yn<0?"down":"stable",Ce=_t[0]||0,Wt=_t.length>0?_t.reduce((ce,He)=>ce+He,0)/_t.length:0,nt=Se[0],pt=nt!=null&&nt.followUp?{reason:nt.followUp,estimatedDate:new Date(nt.date)}:null,sn=[];if(nt){const ce=(new Date().getTime()-new Date(nt.date).getTime())/2592e6;ce>6&&sn.push({type:"warning",title:"Contrle de routine recommand",message:`Dernire consultation il y a ${Math.floor(ce)} mois`,action:"Planifier consultation",actionType:"consultation"})}(Ce>39.5||Ce<37.5)&&sn.push({type:"danger",title:"Temprature anormale",message:`Temprature actuelle: ${Ce}C`,action:"Contrle urgent",actionType:"consultation"}),Yn<-2&&sn.push({type:"warning",title:"Perte de poids",message:`Perte de ${Math.abs(Yn)}kg depuis la dernire consultation`,action:"Surveiller",actionType:"consultation"});const os=new Date;new Date(os.getTime()+7*24*60*60*1e3),at.forEach(ce=>{if(ce.nextDueDate){const He=new Date(ce.nextDueDate),Be=Math.ceil((He.getTime()-os.getTime())/(1e3*60*60*24));Be<0?sn.push({type:"danger",title:"Vaccination en retard",message:`${ce.vaccineName} - ${Math.abs(Be)} jour(s) de retard`,action:"Planifier vaccination",actionType:"vaccination"}):Be<=7&&sn.push({type:"warning",title:"Vaccination  prvoir",message:`${ce.vaccineName} - Dans ${Be} jour(s)`,action:"Planifier vaccination",actionType:"vaccination"})}}),dt.forEach(ce=>{if(ce.nextDueDate){const He=new Date(ce.nextDueDate),Be=Math.ceil((He.getTime()-os.getTime())/(1e3*60*60*24));Be<0?sn.push({type:"danger",title:"Traitement antiparasitaire en retard",message:`${ce.productName} - ${Math.abs(Be)} jour(s) de retard`,action:"Planifier traitement",actionType:"antiparasitic"}):Be<=7&&sn.push({type:"warning",title:"Traitement antiparasitaire  prvoir",message:`${ce.productName} - Dans ${Be} jour(s)`,action:"Planifier traitement",actionType:"antiparasitic"})}});const Xr=()=>{Y({clientId:(Pe==null?void 0:Pe.id)||0,petId:n.id,type:"consultation",reason:"Nouvelle consultation"}),j(!0)},Bs=ce=>{let He="consultation",Be="";switch(ce){case"consultation":He="consultation",Be="Contrle de routine recommand";break;case"vaccination":He="vaccination",Be="Vaccination  effectuer";break;case"antiparasitic":He="controle",Be="Traitement antiparasitaire  effectuer";break;default:He="consultation",Be="Rendez-vous mdical"}Y({clientId:(Pe==null?void 0:Pe.id)||0,petId:n.id,type:He,reason:Be}),j(!0)},bl=()=>{const ce=window.open("","_blank");if(!ce)return;const He=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Dossier Mdical - ${n.name}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .clinic-name { font-size: 24px; font-weight: bold; color: #2563eb; }
            .pet-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
            .info-section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
            .info-section h3 { margin: 0 0 10px 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .consultation { margin: 20px 0; border: 1px solid #eee; padding: 15px; border-radius: 5px; }
            .consultation h4 { margin: 0 0 10px 0; color: #333; }
            .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
            .stat-card { border: 1px solid #ddd; padding: 10px; text-align: center; border-radius: 5px; }
            .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
            .stat-label { font-size: 12px; color: #666; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <h2>Dossier Mdical Complet</h2>
            <p><strong>Animal:</strong> ${n.name} | <strong>Gnr le:</strong> ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}</p>
          </div>

          <div class="pet-info">
            <div class="info-section">
              <h3>Informations Animal</h3>
              <p><strong>Nom:</strong> ${n.name}</p>
              <p><strong>Espce:</strong> ${n.type}</p>
              <p><strong>Race:</strong> ${n.breed||"Non spcifie"}</p>
              <p><strong>Sexe:</strong> ${n.gender==="male"?"Mle":n.gender==="female"?"Femelle":"Non spcifi"}</p>
              <p><strong>ge:</strong> ${n.birthDate?af(n.birthDate):"Non spcifi"}</p>
              <p><strong>Poids actuel:</strong> ${fn}kg</p>
              <p><strong>Temprature actuelle:</strong> ${Ce}C</p>
              <p><strong>Couleur:</strong> ${n.color||"Non spcifie"}</p>
              <p><strong>Puce lectronique:</strong> ${n.microchip||"Non spcifie"}</p>
              ${n.medicalNotes?`<p><strong>Notes mdicales:</strong> ${n.medicalNotes}</p>`:""}
            </div>
            <div class="info-section">
              <h3>Propritaire</h3>
              <p><strong>Nom:</strong> ${(Pe==null?void 0:Pe.name)||"Non spcifi"}</p>
              <p><strong>Email:</strong> ${(Pe==null?void 0:Pe.email)||"Non spcifi"}</p>
              <p><strong>Tlphone:</strong> ${(Pe==null?void 0:Pe.phone)||"Non spcifi"}</p>
            </div>
          </div>

          <div class="stats">
            <div class="stat-card">
              <div class="stat-value">${Se.length}</div>
              <div class="stat-label">Consultations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${at.length}</div>
              <div class="stat-label">Vaccinations</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${dt.length}</div>
              <div class="stat-label">Antiparasitaires</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">${fn}kg</div>
              <div class="stat-label">Poids actuel</div>
            </div>
          </div>

          <!-- Photo principale de l'animal -->
          ${n.photo?`
            <div style="text-align: center; margin: 20px 0;">
              <img src="${n.photo}" alt="${n.name}" style="max-width: 200px; max-height: 200px; object-fit: cover; border-radius: 8px; border: 2px solid #ddd;" />
              <p style="margin-top: 10px; font-weight: bold;">Photo de ${n.name}</p>
            </div>
          `:""}

          <!-- Historique des Consultations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Consultations (${Se.length})</h3>
            ${Se.length>0?Se.map(Be=>`
              <div style="margin: 15px 0; border: 1px solid #ddd; padding: 15px; border-radius: 5px; background: #f9f9f9;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Consultation du ${new Date(Be.date).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Poids:</strong> ${Be.weight||"Non renseign"}</p>
                    <p><strong>Temprature:</strong> ${Be.temperature||"Non renseign"}</p>
                    ${Be.symptoms?`<p><strong>Symptmes:</strong> ${Be.symptoms}</p>`:""}
                  </div>
                  <div>
                    ${Be.diagnosis?`<p><strong>Diagnostic:</strong> ${Be.diagnosis}</p>`:""}
                    ${Be.treatment?`<p><strong>Traitement:</strong> ${Be.treatment}</p>`:""}
                    ${Be.medications?`<p><strong>Mdicaments:</strong> ${Be.medications}</p>`:""}
                  </div>
                </div>
                ${Be.notes?`<p><strong>Notes:</strong> ${Be.notes}</p>`:""}
                ${Be.photos&&Be.photos.length>0?`
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                    ${Be.photos.map((Tn,Qn)=>`
                      <div style="text-align: center;">
                        <img src="${Tn}" alt="Photo consultation ${Qn+1}" style="max-width: 120px; max-height: 120px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                        <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo ${Qn+1}</div>
                      </div>
                    `).join("")}
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune consultation enregistre</p>'}
          </div>

          <!-- Historique des Vaccinations -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Vaccinations (${at.length})</h3>
            ${at.length>0?at.map(Be=>`
              <div style="margin: 10px 0; padding: 10px; border-left: 3px solid #4CAF50; background: #f0f8f0;">
                <h4 style="margin: 0 0 10px 0;">${Be.vaccineName} - ${new Date(Be.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <p><strong>Type:</strong> ${Be.vaccineType||"Non spcifi"}</p>
                <p><strong>Prochain rappel:</strong> ${Be.nextDueDate?new Date(Be.nextDueDate).toLocaleDateString("fr-FR"):"Non spcifi"}</p>
                <p><strong>Vtrinaire:</strong> ${Be.veterinarian||"Non spcifi"}</p>
                ${Be.notes?`<p><strong>Notes:</strong> ${Be.notes}</p>`:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucune vaccination enregistre</p>'}
          </div>

          <!-- Historique des Antiparasitaires -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Historique des Traitements Antiparasitaires (${dt.length})</h3>
            ${dt.length>0?dt.map(Be=>`
              <div style="margin: 15px 0; padding: 15px; border-left: 4px solid #9C27B0; background: #f3e5f5; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">${Be.productName} - ${new Date(Be.dateGiven).toLocaleDateString("fr-FR")}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 10px 0;">
                  <div>
                    <p><strong>Type de produit:</strong> ${Be.productType||"Non spcifi"}</p>
                    <p><strong>Parasites cibls:</strong> ${Be.targetParasites||"Non spcifi"}</p>
                    <p><strong>Voie d'administration:</strong> ${Be.administrationRoute||"Non spcifi"}</p>
                    <p><strong>Dosage:</strong> ${Be.dosage||"Non spcifi"}</p>
                  </div>
                  <div>
                <p><strong>Prochain traitement:</strong> ${Be.nextDueDate?new Date(Be.nextDueDate).toLocaleDateString("fr-FR"):"Non spcifi"}</p>
                <p><strong>Vtrinaire:</strong> ${Be.veterinarian||"Non spcifi"}</p>
                    <p><strong>Statut:</strong> ${Be.status==="completed"?"Termin":Be.status==="scheduled"?"Planifi":Be.status==="overdue"?"En retard":"Manqu"}</p>
                    ${Be.cost?`<p><strong>Cot:</strong> ${Be.cost} </p>`:""}
                  </div>
                </div>
                ${Be.batchNumber?`<p><strong>Numro de lot:</strong> ${Be.batchNumber}</p>`:""}
                ${Be.manufacturer?`<p><strong>Fabricant:</strong> ${Be.manufacturer}</p>`:""}
                ${Be.weight?`<p><strong>Poids de l'animal:</strong> ${Be.weight}</p>`:""}
                ${Be.notes?`
                  <div style="margin: 10px 0; padding: 10px; background: rgba(156, 39, 176, 0.1); border-radius: 3px;">
                    <p><strong>Notes:</strong> ${Be.notes}</p>
                  </div>
                `:""}
                ${Be.sideEffects?`
                  <div style="margin: 10px 0; padding: 10px; background: #ffebee; border: 1px solid #f44336; border-radius: 3px;">
                    <p style="color: #d32f2f;"><strong> Effets indsirables:</strong> ${Be.sideEffects}</p>
                  </div>
                `:""}
              </div>
            `).join(""):'<p style="text-align: center; color: #666; font-style: italic;">Aucun traitement antiparasitaire enregistr</p>'}
          </div>

          <!-- Section Pedigree -->
          ${n.hasPedigree?`
            <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
              <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Pedigree Officiel</h3>
              
              <!-- Informations de l'animal -->
              <div style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Informations de l'animal</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                  <div>
                    <p><strong>Nom officiel:</strong> ${n.officialName||"Non spcifi"}</p>
                    <p><strong>N Pedigree/LOF:</strong> ${n.pedigreeNumber||"Non spcifi"}</p>
                    <p><strong>N Puce/Tatouage:</strong> ${n.microchip||"Non spcifi"}</p>
                    <p><strong>Race:</strong> ${n.breed||"Non spcifie"}</p>
                  </div>
                  <div>
                    <p><strong>Sexe:</strong> ${n.gender==="male"?"Mle":n.gender==="female"?"Femelle":"Non spcifi"}</p>
                    <p><strong>Couleur/Robe:</strong> ${n.color||"Non spcifie"}</p>
                    <p><strong>Date de naissance:</strong> ${n.birthDate?new Date(n.birthDate).toLocaleDateString("fr-FR"):"Non spcifi"}</p>
                    <p><strong>leveur:</strong> ${n.breeder||"Non spcifi"}</p>
                  </div>
                </div>
              </div>

              <!-- Parents -->
              <div style="margin: 20px 0;">
                <h4 style="margin: 0 0 10px 0; color: #333;">Ascendance</h4>
                
                <!-- Pre -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #007bff; background: #f0f8ff;">
                  <h5 style="margin: 0 0 8px 0; color: #007bff;">Pre</h5>
                  <p><strong>Nom:</strong> ${n.fatherName||"Non spcifi"}</p>
                  <p><strong>N Pedigree:</strong> ${n.fatherPedigree||"Non spcifi"}</p>
                  <p><strong>Race:</strong> ${n.fatherBreed||"Non spcifie"}</p>
                  ${n.fatherTitles?`<p><strong>Titres:</strong> ${n.fatherTitles}</p>`:""}
                </div>

                <!-- Mre -->
                <div style="margin: 15px 0; padding: 15px; border-left: 3px solid #e91e63; background: #fce4ec;">
                  <h5 style="margin: 0 0 8px 0; color: #e91e63;">Mre</h5>
                  <p><strong>Nom:</strong> ${n.motherName||"Non spcifi"}</p>
                  <p><strong>N Pedigree:</strong> ${n.motherPedigree||"Non spcifi"}</p>
                  <p><strong>Race:</strong> ${n.motherBreed||"Non spcifie"}</p>
                  ${n.motherTitles?`<p><strong>Titres:</strong> ${n.motherTitles}</p>`:""}
                </div>
              </div>

              <!-- Certificat Pedigree -->
              ${n.pedigreePhoto?`
                <div style="margin: 20px 0; text-align: center;">
                  <h4 style="margin: 0 0 15px 0; color: #333;">Certificat Pedigree</h4>
                  <img src="${n.pedigreePhoto}" alt="Certificat Pedigree" style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 2px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1);" />
                  <p style="margin-top: 10px; font-size: 12px; color: #666;">Document officiel du pedigree</p>
                </div>
              `:""}
            </div>
          `:""}

          <!-- Album Photo -->
          <div style="margin: 30px 0; border: 1px solid #eee; padding: 20px; border-radius: 5px;">
            <h3 style="margin: 0 0 15px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">Album Photo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
              ${n.photo?`
                <div style="text-align: center;">
                  <img src="${n.photo}" alt="Photo principale" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                  <div style="font-size: 11px; color: #666; margin-top: 5px;">Photo principale</div>
                </div>
              `:""}
              ${Se.some(Be=>Be.photos&&Be.photos.length>0)?Se.map(Be=>Be.photos?Be.photos.map((Tn,Qn)=>`
                    <div style="text-align: center;">
                      <img src="${Tn}" alt="Consultation ${new Date(Be.date).toLocaleDateString("fr-FR")} - Photo ${Qn+1}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 5px; border: 1px solid #ddd;" />
                      <div style="font-size: 11px; color: #666; margin-top: 5px;">Consultation ${new Date(Be.date).toLocaleDateString("fr-FR")}</div>
                    </div>
                  `).join(""):"").join(""):""}
            </div>
            ${!n.photo&&!Se.some(Be=>Be.photos&&Be.photos.length>0)?'<p style="text-align: center; color: #666; font-style: italic;">Aucune photo disponible</p>':""}
          </div>

          <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
            <p>VetPro CRM - Gestion Vtrinaire Complte</p>
          </div>
        </body>
      </html>
    `;ce.document.write(He),ce.document.close(),ce.focus(),ce.print(),ce.close()};return r.jsxs(r.Fragment,{children:[r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[1000px] max-h-[90vh] overflow-y-auto",children:[r.jsx(Nt,{children:r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-5 w-5"}),"Dossier Mdical - ",n.name,Pe&&r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(Propritaire: ",Pe.name,")"]})]})}),r.jsxs(vl,{value:P,onValueChange:E,className:"space-y-4",children:[r.jsxs(wo,{className:"grid w-full grid-cols-7",children:[r.jsxs(ln,{value:"overview",className:"gap-2",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"history",className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"gap-2",children:[r.jsx(ac,{className:"h-4 w-4"}),"Antiparasitaires"]}),r.jsxs(ln,{value:"pedigree",className:"gap-2",children:[r.jsx(y0,{className:"h-4 w-4"}),"Pedigree"]}),r.jsxs(ln,{value:"charts",className:"gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"volution"]}),r.jsxs(ln,{value:"alerts",className:"gap-2",children:[r.jsx(Or,{className:"h-4 w-4"}),"Alertes"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{className:"text-lg",children:"Galerie photos"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:Ne,className:"hidden",id:"add-photo-input"}),r.jsxs("label",{htmlFor:"add-photo-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter une photo"]})]})]}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[n.photo&&r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:n.photo,alt:"Photo officielle",className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:"Officielle"})]}),U.map((ce,He)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:ce,alt:`Photo supplmentaire ${He+1}`,className:"h-32 w-32 object-cover rounded"}),r.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["Photo ",He+1]}),r.jsx("button",{onClick:()=>fe(He),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:""})]},`additional-${He}`)),Se.map(ce=>{var He;return(He=ce.photos)==null?void 0:He.map((Be,Tn)=>r.jsxs("div",{className:"relative flex-shrink-0 group",children:[r.jsx("img",{src:Be,alt:`consultation-${ce.id}-${Tn}`,className:"h-32 w-32 object-cover rounded"}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:new Date(ce.date).toLocaleDateString("fr-FR")}),r.jsx("button",{onClick:()=>ye(ce.id,Tn),className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Supprimer cette photo",children:""})]},`${ce.id}-${Tn}`))}),!n.photo&&U.length===0&&Se.every(ce=>!ce.photos||ce.photos.length===0)&&r.jsx("div",{className:"flex items-center justify-center h-32 w-full border-2 border-dashed border-gray-300 rounded text-gray-500",children:"Aucune photo disponible"})]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsxs("p",{className:"text-2xl font-bold",children:[fn,"kg"]}),Yn!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[ys==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):r.jsx(Hu,{className:"h-3 w-3 text-red-600"}),r.jsxs("span",{className:ys==="up"?"text-green-600":"text-red-600",children:[Math.abs(Yn),"kg"]})]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ag,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Temprature"}),r.jsxs("p",{className:"text-2xl font-bold",children:[Ce,"C"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Moy: ",Wt.toFixed(1),"C"]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-2xl font-bold",children:Se.length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernire: ",nt?new Date(nt.date).toLocaleDateString("fr-FR"):"Aucune"]})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-2xl font-bold",children:sn.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:sn.length>0?" traiter":"Aucune"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescriptions"}),r.jsx("p",{className:"text-2xl font-bold",children:l(n.id).length}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[c().filter(ce=>ce.petId===n.id).length," active(s)"]})]})]})})})]}),pt&&r.jsx(de,{className:"border-primary",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Prochain suivi recommand"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:pt.reason})]}),r.jsxs(V,{size:"sm",onClick:Xr,children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Planifier"]})]})})}),sn.length>0&&r.jsxs(de,{className:"border-destructive",children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-destructive",children:"Alertes importantes"})}),r.jsx(he,{className:"space-y-2",children:sn.slice(0,3).map((ce,He)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/10 rounded",children:[r.jsx(Or,{className:"h-4 w-4 text-destructive"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:ce.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:ce.message})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Bs(ce.actionType),children:ce.action})]},He))})]})]}),r.jsxs(cn,{value:"history",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique des consultations"}),r.jsxs(V,{size:"sm",onClick:Xr,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Planifier Consultation"]})]}),Se.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistre"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer la premire consultation"})]})}):r.jsx("div",{className:"space-y-4",children:Se.map(ce=>r.jsxs(de,{children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ke,{className:"text-base",children:["Consultation #",ce.id]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(At,{className:"h-4 w-4"}),new Date(ce.date).toLocaleDateString("fr-FR")]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"}),r.jsx("span",{className:"ml-2",children:ce.weight||"Non renseign"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Temprature:"}),r.jsx("span",{className:"ml-2",children:ce.temperature||"Non renseign"})]})]}),ce.symptoms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Symptmes:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.symptoms})]}),ce.diagnosis&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.diagnosis})]}),ce.treatment&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.treatment})]}),ce.medications&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Mdicaments:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.medications})]}),ce.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:ce.notes})]}),ce.followUp&&r.jsxs("div",{className:"pt-2 border-t",children:[r.jsx("span",{className:"font-medium text-primary",children:"Suivi recommand:"}),r.jsx("p",{className:"text-sm mt-1",children:ce.followUp})]})]})]},ce.id))})]}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsx(u9,{petId:n.id})}),r.jsxs(cn,{value:"charts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"volution du poids et de la temprature"}),Ft.length>0?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5"}),"volution du poids"]})}),r.jsx(he,{children:r.jsx(hl,{width:"100%",height:200,children:r.jsxs(z3,{data:Ft,children:[r.jsx(od,{strokeDasharray:"3 3"}),r.jsx(Fa,{dataKey:"date"}),r.jsx(Ba,{}),r.jsx(qr,{}),r.jsx(Mf,{type:"monotone",dataKey:"weight",stroke:"#2563eb",strokeWidth:2})]})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(ag,{className:"h-5 w-5"}),"volution de la temprature"]})}),r.jsx(he,{children:r.jsx(hl,{width:"100%",height:200,children:r.jsxs(z3,{data:Ft,children:[r.jsx(od,{strokeDasharray:"3 3"}),r.jsx(Fa,{dataKey:"date"}),r.jsx(Ba,{}),r.jsx(qr,{}),r.jsx(Mf,{type:"monotone",dataKey:"temperature",stroke:"#dc2626",strokeWidth:2})]})})})]})]}):r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune donne disponible pour les graphiques"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des consultations avec poids et temprature"})]})})]}),r.jsxs(cn,{value:"vaccinations",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique vaccinal"}),r.jsx(F0,{selectedClientId:Pe==null?void 0:Pe.id,selectedPetId:n.id,children:r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle vaccination"]})})]}),qe.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Ts,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune vaccination enregistre"}),r.jsx("p",{className:"text-sm",children:"Commencez par ajouter la premire vaccination"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(Ts,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:qe.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(At,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:" jour"}),r.jsx("p",{className:"text-xl font-bold",children:qe.filter(ce=>ce.status==="completed").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Or,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:qe.filter(ce=>ce.status==="overdue").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(At,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifies"}),r.jsx("p",{className:"text-xl font-bold",children:qe.filter(ce=>ce.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:qe.map(ce=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ts,{className:`h-5 w-5 ${ce.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("h4",{className:"font-semibold text-lg",children:[ce.vaccineName,ce.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx(Le,{variant:ce.vaccineType==="core"?"default":"secondary",className:"text-xs",children:ce.vaccineType==="core"?"Essentiel":ce.vaccineType==="non-core"?"Optionnel":ce.vaccineType==="rabies"?"Rage":"Personnalis"}),ce.vaccinationCategory==="reminder"&&r.jsx(Le,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"}),K===ce.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:ce.status,onValueChange:He=>M(ce.id,He),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"completed",children:"Termine"}),r.jsx(z,{value:"scheduled",children:"Planifie"}),r.jsx(z,{value:"overdue",children:"En retard"}),r.jsx(z,{value:"missed",children:"Manque"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ee(null),children:"Annuler"})]}):r.jsx(Le,{className:ce.status==="completed"?"bg-green-100 text-green-800 border-green-200 cursor-pointer hover:bg-green-200":ce.status==="overdue"?"bg-red-100 text-red-800 border-red-200 cursor-pointer hover:bg-red-200":ce.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200 cursor-pointer hover:bg-blue-200":"bg-orange-100 text-orange-800 border-orange-200 cursor-pointer hover:bg-orange-200",onClick:()=>ee(ce.id),children:ce.status==="completed"?"Termine":ce.status==="overdue"?"En retard":ce.status==="scheduled"?"Planifie":"Manque"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:ce.vaccinationCategory==="reminder"?"Date du rappel":"Date administre"}),r.jsx("p",{className:"font-medium",children:ho(ce.dateGiven)})]}),ce.vaccinationCategory==="new"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Rappel prvu"}),r.jsx("p",{className:"font-medium",children:ho(ce.nextDueDate)})]}),ce.vaccinationCategory==="reminder"&&ce.originalVaccinationId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vaccination originale"}),r.jsxs("p",{className:"font-medium text-sm text-gray-500",children:["ID: ",ce.originalVaccinationId]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vtrinaire"}),r.jsx("p",{className:"font-medium",children:ce.veterinarian})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Cot"}),r.jsx("p",{className:"font-medium",children:ce.cost?`${ce.cost} `:"Non spcifi"})]})]}),ce.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numro de lot: ",r.jsx("span",{className:"font-medium",children:ce.batchNumber})]})}),ce.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:ce.manufacturer})]})}),ce.location&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Site d'injection: ",r.jsx("span",{className:"font-medium",children:ce.location==="left_shoulder"?"paule gauche":ce.location==="right_shoulder"?"paule droite":ce.location==="left_hip"?"Hanche gauche":ce.location==="right_hip"?"Hanche droite":"Sous-cutan"})]})}),ce.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",ce.notes]})}),ce.adverseReactions&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:" Ractions adverses:"})," ",ce.adverseReactions]})})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:be,children:[r.jsx(tr,{className:"h-4 w-4"}),"Certificat"]}),ce.nextDueDate&&new Date(ce.nextDueDate)<=new Date&&ce.status!=="completed"&&!ce.reminderAppointmentId&&r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>te(ce),children:[r.jsx(ft,{className:"h-4 w-4"}),"Rappel"]}),ce.reminderAppointmentId&&r.jsx(Le,{variant:"outline",className:"text-xs",children:"Rappel programm"}),ce.status==="overdue"&&r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>G(ce),children:[r.jsx(sne,{className:"h-4 w-4"}),"Confirmer"]})]})]}),ce.reminderHistory&&ce.reminderHistory.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Historique des rappels"}),r.jsx("div",{className:"space-y-2",children:ce.reminderHistory.map(He=>r.jsxs("div",{className:"flex items-center justify-between text-xs bg-muted/30 p-2 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(He.scheduledDate).toLocaleDateString("fr-FR")})]}),r.jsx(Le,{variant:He.status==="completed"?"default":He.status==="missed"?"destructive":"secondary",className:"text-xs",children:He.status==="completed"?"Complt":He.status==="missed"?"Manqu":He.status==="cancelled"?"Annul":"Programm"})]},He.id))})]})]})},ce.id))})]})]}),r.jsxs(cn,{value:"antiparasites",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Historique antiparasitaire"}),r.jsx(B0,{selectedClientId:Pe==null?void 0:Pe.id,selectedPetId:n.id,children:r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),We.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(ac,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun traitement antiparasitaire enregistr"}),r.jsx("p",{className:"text-sm",children:"Ajoutez des traitements depuis l'onglet Antiparasitaires"})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(ac,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:We.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(Zn,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Complts"}),r.jsx("p",{className:"text-xl font-bold",children:We.filter(ce=>ce.status==="completed").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Or,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),r.jsx("p",{className:"text-xl font-bold",children:We.filter(ce=>ce.status==="overdue").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(At,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifis"}),r.jsx("p",{className:"text-xl font-bold",children:We.filter(ce=>ce.status==="scheduled").length})]})]})})})]}),r.jsx("div",{className:"space-y-3",children:We.map(ce=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ac,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-semibold text-lg",children:ce.productName}),r.jsx(Le,{className:ce.status==="completed"?"bg-green-100 text-green-800 border-green-200":ce.status==="overdue"?"bg-red-100 text-red-800 border-red-200":ce.status==="scheduled"?"bg-blue-100 text-blue-800 border-blue-200":"bg-orange-100 text-orange-800 border-orange-200",children:ce.status==="completed"?"Termin":ce.status==="overdue"?"En retard":ce.status==="scheduled"?"Planifi":"Manqu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Date administre"}),r.jsx("p",{className:"font-medium",children:new Date(ce.dateGiven).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Prochain traitement"}),r.jsx("p",{className:"font-medium",children:ce.nextDueDate?new Date(ce.nextDueDate).toLocaleDateString("fr-FR"):"Non spcifi"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium",children:ce.productType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vtrinaire"}),r.jsx("p",{className:"font-medium",children:ce.veterinarian})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Parasites cibls"}),r.jsx("p",{className:"font-medium",children:ce.targetParasites})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Dosage"}),r.jsx("p",{className:"font-medium",children:ce.dosage||"Non spcifi"})]})]}),ce.batchNumber&&r.jsx("div",{className:"mt-3 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Numro de lot: ",r.jsx("span",{className:"font-medium",children:ce.batchNumber})]})}),ce.manufacturer&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Fabricant: ",r.jsx("span",{className:"font-medium",children:ce.manufacturer})]})}),ce.weight&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Poids de l'animal: ",r.jsx("span",{className:"font-medium",children:ce.weight})]})}),ce.cost&&r.jsx("div",{className:"mt-1 text-sm",children:r.jsxs("p",{className:"text-gray-600",children:["Cot: ",r.jsxs("span",{className:"font-medium",children:[ce.cost," "]})]})}),ce.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Notes:"})," ",ce.notes]})}),ce.sideEffects&&r.jsx("div",{className:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200",children:r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:" Effets indsirables:"})," ",ce.sideEffects]})})]}),r.jsx("div",{className:"flex flex-col gap-2 ml-4",children:ce.nextDueDate&&new Date(ce.nextDueDate)<=new Date&&ce.status!=="completed"&&r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Rappel"]})})]})})},ce.id))})]})]}),r.jsxs(cn,{value:"pedigree",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pedigree Officiel"}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>I(!D),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),D?"Annuler":"Modifier"]})]}),r.jsx(de,{children:r.jsx(Ae,{children:r.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[r.jsx(Xi,{id:"hasPedigree",checked:k.hasPedigree,onCheckedChange:ce=>O(He=>({...He,hasPedigree:ce})),disabled:!D}),r.jsx(L,{htmlFor:"hasPedigree",className:"text-lg",children:"Cet animal a un pedigree officiel"})]})})}),k.hasPedigree&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Informations sur l'animal"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"officialName",children:"Nom officiel"}),r.jsx(ae,{id:"officialName",value:k.officialName,onChange:ce=>O(He=>({...He,officialName:ce.target.value})),disabled:!D,placeholder:"Nom officiel du pedigree"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"pedigreeNumber",children:"N pedigree/LOF"}),r.jsx(ae,{id:"pedigreeNumber",value:k.pedigreeNumber,onChange:ce=>O(He=>({...He,pedigreeNumber:ce.target.value})),disabled:!D,placeholder:"Numro de pedigree"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"breeder",children:"leveur"}),r.jsx(ae,{id:"breeder",value:k.breeder,onChange:ce=>O(He=>({...He,breeder:ce.target.value})),disabled:!D,placeholder:"Nom de l'leveur"})]})]})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Parents"})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Pre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{placeholder:"Nom du pre",value:k.fatherName,onChange:ce=>O(He=>({...He,fatherName:ce.target.value})),disabled:!D}),r.jsx(ae,{placeholder:"N pedigree du pre",value:k.fatherPedigree,onChange:ce=>O(He=>({...He,fatherPedigree:ce.target.value})),disabled:!D}),r.jsx(ae,{placeholder:"Race du pre",value:k.fatherBreed,onChange:ce=>O(He=>({...He,fatherBreed:ce.target.value})),disabled:!D}),r.jsx(mt,{placeholder:"Titres du pre",value:k.fatherTitles,onChange:ce=>O(He=>({...He,fatherTitles:ce.target.value})),disabled:!D,rows:2})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mre"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{placeholder:"Nom de la mre",value:k.motherName,onChange:ce=>O(He=>({...He,motherName:ce.target.value})),disabled:!D}),r.jsx(ae,{placeholder:"N pedigree de la mre",value:k.motherPedigree,onChange:ce=>O(He=>({...He,motherPedigree:ce.target.value})),disabled:!D}),r.jsx(ae,{placeholder:"Race de la mre",value:k.motherBreed,onChange:ce=>O(He=>({...He,motherBreed:ce.target.value})),disabled:!D}),r.jsx(mt,{placeholder:"Titres de la mre",value:k.motherTitles,onChange:ce=>O(He=>({...He,motherTitles:ce.target.value})),disabled:!D,rows:2})]})]})]})})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Document officiel"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:async ce=>{var Tn;const He=(Tn=ce.target.files)==null?void 0:Tn[0];if(!He)return;const Be=new FileReader;Be.onload=()=>O(Qn=>({...Qn,pedigreePhoto:Be.result})),Be.readAsDataURL(He)},disabled:!D}),k.pedigreePhoto&&r.jsx("img",{src:k.pedigreePhoto,alt:"Document pedigree",className:"h-48 w-auto object-contain rounded border"})]})})]}),D&&r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:X,children:"Annuler"}),r.jsx(V,{onClick:F,children:"Sauvegarder"})]})]}),!k.hasPedigree&&r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(y0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun pedigree officiel"}),r.jsx("p",{className:"text-sm",children:"Cochez la case ci-dessus pour ajouter les informations du pedigree"})]})})]}),r.jsxs(cn,{value:"alerts",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Alertes et rappels"}),sn.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Or,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune alerte active"}),r.jsx("p",{className:"text-sm",children:"Tout va bien !"})]})}):r.jsx("div",{className:"space-y-4",children:sn.map((ce,He)=>r.jsx(de,{className:ce.type==="danger"?"border-destructive":"border-accent",children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Or,{className:`h-5 w-5 ${ce.type==="danger"?"text-destructive":"text-accent"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:ce.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:ce.message})]}),r.jsx(V,{size:"sm",variant:"outline",children:ce.action})]})})},He))})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{onClick:bl,className:"gap-2",children:[r.jsx(hb,{className:"h-4 w-4"}),"Imprimer Dossier"]})]})]})}),r.jsx(nm,{open:v,onOpenChange:y}),r.jsx(OV,{open:N,onOpenChange:ce=>{j(ce),ce||(Y({clientId:0,petId:0,type:"",reason:""}),q(null))},prefillClientId:ne.clientId,prefillPetId:ne.petId,prefillType:ne.type,prefillReason:ne.reason,originalVaccinationId:J==null?void 0:J.id}),b&&r.jsx(F0,{selectedClientId:Pe==null?void 0:Pe.id,selectedPetId:n.id,children:r.jsx(V,{onClick:()=>C(!1),children:"Fermer"})}),r.jsx(Ope,{open:$,onOpenChange:ce=>{le(ce),ce||re(null)},vaccination:se}),_&&r.jsx(B0,{selectedClientId:Pe==null?void 0:Pe.id,selectedPetId:n.id,children:r.jsx(V,{onClick:()=>A(!1),children:"Fermer"})}),n&&r.jsx("div",{style:{display:"none"},children:r.jsx(CP,{ref:xe,petId:n.id})})]})}const MFe={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"};function IFe(){const{pets:e,consultations:t,appointments:n,clients:s}=Pt();Gt();const[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),N=[...e].sort((O,U)=>!O.lastVisit&&!U.lastVisit?0:O.lastVisit?U.lastVisit?new Date(U.lastVisit).getTime()-new Date(O.lastVisit).getTime():-1:1).slice(0,5),j=e.length,b=e.filter(O=>O.status==="healthy").length;e.filter(O=>O.status==="treatment").length,e.filter(O=>O.status==="urgent").length;const C=e.filter(O=>{if(!O.lastVisit)return!1;const U=new Date(O.lastVisit),B=new Date().getMonth(),ne=new Date().getFullYear();return U.getMonth()===B&&U.getFullYear()===ne}).length,_=j>0?(t.length/j).toFixed(1):"0",A=O=>{v(O),l(!0)},P=O=>{v(O),u(!0)},E=O=>{v(O),f(!0)},D=O=>{v(O),g(!0)},I=O=>{const U=t.filter(Y=>Y.petId===O.id),B=n.filter(Y=>Y.petId===O.id),ne=s.find(Y=>Y.id===O.ownerId);return{consultations:U.length,appointments:B.length,owner:(ne==null?void 0:ne.name)||O.owner,lastConsultation:U.length>0?Math.max(...U.map(Y=>new Date(Y.date).getTime())):O.lastVisit?new Date(O.lastVisit).getTime():0}},k=O=>{switch(O){case"healthy":return r.jsx(qt,{className:"h-3 w-3 text-green-600"});case"treatment":return r.jsx(br,{className:"h-3 w-3 text-yellow-600"});case"urgent":return r.jsx(qn,{className:"h-3 w-3 text-red-600"});default:return r.jsx(qt,{className:"h-3 w-3"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ke,{className:"text-lg font-semibold",children:"Animaux Rcents"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[b," en bonne sant"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:["+",C," ce mois"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rn,{className:"h-3 w-3"}),r.jsxs("span",{children:[" ",_," consultations"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>a(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel Animal"]})]}),r.jsx(he,{className:"space-y-4",children:N.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(qt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun animal enregistr"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premier animal"})]}):N.map(O=>{const U=I(O);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx(Gr,{className:"h-12 w-12 flex-shrink-0",children:O.photo?r.jsx(dl,{src:O.photo,alt:O.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium truncate",children:O.name}),r.jsxs(Le,{variant:"outline",className:MFe[O.status],children:[k(O.status),r.jsx("span",{className:"ml-1",children:O.status==="healthy"?"En bonne sant":O.status==="treatment"?"En traitement":"Urgent"})]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium",children:O.type}),O.breed&&r.jsxs("span",{children:[" - ",O.breed]}),O.gender&&r.jsxs("span",{children:[" (",O.gender==="male"?"Mle":"Femelle",")"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(At,{className:"h-3 w-3"}),r.jsx("span",{children:O.birthDate?af(O.birthDate):"ge inconnu"})]})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Propritaire: ",U.owner]}),r.jsxs("span",{children:["Consultations: ",U.consultations]}),r.jsxs("span",{children:["RDV: ",U.appointments]}),O.lastVisit&&r.jsxs("span",{children:["Dernire visite: ",new Date(O.lastVisit).toLocaleDateString("fr-FR")]})]})]})]}),r.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>A(O),className:"h-8 px-2",children:r.jsx(wr,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(O),className:"h-8 px-2",children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(O),className:"h-8 px-2 text-xs",children:"Dossier"}),r.jsx(V,{size:"sm",onClick:()=>D(O),className:"h-8 px-2 text-xs",children:r.jsx(br,{className:"h-3 w-3"})})]})]},O.id)})})]}),r.jsx(wv,{open:i,onOpenChange:a}),r.jsx(DV,{open:o,onOpenChange:l,pet:x,onEdit:()=>{l(!1),u(!0)},onShowDossier:()=>{l(!1),f(!0)}}),r.jsx(Lfe,{open:c,onOpenChange:u,pet:x}),r.jsx(S9,{open:d,onOpenChange:f,pet:x}),r.jsx(nm,{open:m,onOpenChange:g})]})}function $Fe({open:e,onOpenChange:t,consultation:n}){const{clients:s,pets:i,updateConsultation:a}=Pt(),{toast:o}=It(),{settings:l}=Gt(),[c,u]=w.useState({clientId:0,clientName:"",petId:0,petName:"",date:"",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",medications:"",followUp:"",cost:"",notes:""}),d=i.filter(v=>v.ownerId===c.clientId),f=new Date().toISOString().split("T")[0],m=v=>{u(y=>({...y,[v.target.id]:v.target.value}))},g=(v,y)=>{if(v==="clientId"){const N=parseInt(y),j=s.find(b=>b.id===N);u(b=>({...b,clientId:N,clientName:(j==null?void 0:j.name)||"",petId:0,petName:""}))}else if(v==="petId"){const N=parseInt(y),j=i.find(b=>b.id===N);u(b=>({...b,petId:N,petName:(j==null?void 0:j.name)||""}))}else u(N=>({...N,[v]:y}))},x=v=>{if(v.preventDefault(),!!n){if(!c.clientId||!c.petId){o({title:"Erreur",description:"Veuillez slectionner un client et un animal.",variant:"destructive"});return}a(n.id,{clientId:c.clientId,clientName:c.clientName,petId:c.petId,petName:c.petName,date:c.date||f,weight:c.weight,temperature:c.temperature,symptoms:c.symptoms,diagnosis:c.diagnosis,treatment:c.treatment,medications:c.medications,followUp:c.followUp,cost:c.cost,notes:c.notes}),o({title:"Consultation modifie",description:`Consultation pour ${c.petName} (${c.clientName}) a t modifie et sauvegarde.`}),t(!1)}};return w.useEffect(()=>{e&&n&&u({clientId:n.clientId,clientName:n.clientName,petId:n.petId,petName:n.petName,date:n.date,weight:n.weight||"",temperature:n.temperature||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",medications:n.medications||"",followUp:n.followUp||"",cost:n.cost||"",notes:n.notes||""})},[e,n]),n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Modifier la Consultation"}),r.jsxs(un,{children:["Modifiez les dtails de la consultation pour ",n.petName,"."]})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Client *"}),r.jsxs(Me,{value:c.clientId.toString(),onValueChange:v=>g("clientId",v),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le client"})}),r.jsx(De,{children:s.map(v=>r.jsx(z,{value:v.id.toString(),children:v.name},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Animal *"}),r.jsxs(Me,{value:c.petId.toString(),onValueChange:v=>g("petId",v),disabled:!c.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:c.clientId?"Slectionner l'animal":"Slectionnez d'abord un client"})}),r.jsx(De,{children:d.map(v=>r.jsxs(z,{value:v.id.toString(),children:[v.name," (",v.type,")"]},v.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"date",children:"Date *"}),r.jsx(ae,{id:"date",type:"date",value:c.date||f,onChange:m,required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ae,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:m,placeholder:"ex: 25.5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"temperature",children:"Temprature (C)"}),r.jsx(ae,{id:"temperature",type:"number",step:"0.1",value:c.temperature,onChange:m,placeholder:"ex: 38.5"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"symptoms",children:"Symptmes observs"}),r.jsx(mt,{id:"symptoms",value:c.symptoms,onChange:m,placeholder:"Dcrivez les symptmes et observations...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(mt,{id:"diagnosis",value:c.diagnosis,onChange:m,placeholder:"Diagnostic pos...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"treatment",children:"Traitement administr"}),r.jsx(mt,{id:"treatment",value:c.treatment,onChange:m,placeholder:"Traitements, injections, interventions...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"medications",children:"Mdicaments prescrits"}),r.jsx(mt,{id:"medications",value:c.medications,onChange:m,placeholder:"Liste des mdicaments avec posologie...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"followUp",children:"Suivi recommand"}),r.jsx(ae,{id:"followUp",value:c.followUp,onChange:m,placeholder:"ex: Contrle dans 1 semaine"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(L,{htmlFor:"cost",children:["Cot (",l.currency,")"]}),r.jsx(ae,{id:"cost",type:"number",step:"0.01",value:c.cost,onChange:m,placeholder:"ex: 85.50"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes additionnelles"}),r.jsx(mt,{id:"notes",value:c.notes,onChange:m,placeholder:"Notes diverses, recommandations...",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Modifier Consultation"})]})]})]})}):null}function C9({consultation:e}){const{settings:t}=Gt(),n=()=>{const s=window.open("","_blank");if(!s)return;const i=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${e.petName}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .clinic-name {
              font-size: 24px;
              font-weight: bold;
              color: #2563eb;
            }
            .consultation-title {
              font-size: 20px;
              margin: 10px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-section h3 {
              margin: 0 0 10px 0;
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .info-item {
              margin: 5px 0;
            }
            .info-label {
              font-weight: bold;
              color: #666;
            }
            .medical-section {
              margin: 20px 0;
            }
            .medical-section h3 {
              color: #333;
              border-bottom: 1px solid #eee;
              padding-bottom: 5px;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 12px;
              color: #666;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="clinic-name">VetPro CRM</div>
            <div class="consultation-title">Rapport de Consultation</div>
            <div>Date: ${new Date(e.date).toLocaleDateString("fr-FR")}</div>
          </div>

          <div class="info-grid">
            <div class="info-section">
              <h3>Informations Client</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.clientName}
              </div>
            </div>
            <div class="info-section">
              <h3>Informations Animal</h3>
              <div class="info-item">
                <span class="info-label">Nom:</span> ${e.petName}
              </div>
              <div class="info-item">
                <span class="info-label">Poids:</span> ${e.weight||"Non renseign"}
              </div>
              <div class="info-item">
                <span class="info-label">Temprature:</span> ${e.temperature||"Non renseign"}
              </div>
            </div>
          </div>

          ${e.symptoms?`
            <div class="medical-section">
              <h3>Symptmes Observs</h3>
              <p>${e.symptoms}</p>
            </div>
          `:""}

          ${e.diagnosis?`
            <div class="medical-section">
              <h3>Diagnostic</h3>
              <p>${e.diagnosis}</p>
            </div>
          `:""}

          ${e.treatment?`
            <div class="medical-section">
              <h3>Traitement Administr</h3>
              <p>${e.treatment}</p>
            </div>
          `:""}

          ${e.medications?`
            <div class="medical-section">
              <h3>Mdicaments Prescrits</h3>
              <p>${e.medications}</p>
            </div>
          `:""}

          ${e.notes?`
            <div class="medical-section">
              <h3>Notes Additionnelles</h3>
              <p>${e.notes}</p>
            </div>
          `:""}

          <div class="info-grid">
            <div class="info-section">
              <h3>Suivi Recommand</h3>
              <p>${e.followUp||"Aucun suivi prvu"}</p>
            </div>
            <div class="info-section">
              <h3>Cot</h3>
              <p>${e.cost?e.cost+" "+t.currency:"Non renseign"}</p>
            </div>
          </div>

          <div class="footer">
            <p>Consultation gnre le ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>VetPro CRM - Gestion Vtrinaire Complte</p>
          </div>
        </body>
      </html>
    `;s.document.write(i),s.document.close(),s.focus(),s.print(),s.close()};return r.jsxs(V,{size:"sm",variant:"outline",onClick:n,className:"gap-2",children:[r.jsx(hb,{className:"h-4 w-4"}),"Imprimer"]})}function RFe(){const{consultations:e,deleteConsultation:t,pets:n,clients:s}=Pt(),{settings:i}=Gt(),{toast:a}=It(),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),g=[...e].sort((U,B)=>new Date(B.date).getTime()-new Date(U.date).getTime()).slice(0,5),x=e.length,v=e.filter(U=>U.date===new Date().toISOString().split("T")[0]).length,y=new Date().getMonth(),N=new Date().getFullYear(),j=e.filter(U=>{const B=new Date(U.date);return B.getMonth()===y&&B.getFullYear()===N}).length,b=e.filter(U=>{const B=new Date(U.date),ne=y===0?11:y-1,Y=y===0?N-1:N;return B.getMonth()===ne&&B.getFullYear()===Y}).length,C=b>0?Math.round((j-b)/b*100):j>0?100:0,_=j*50,A=b*50,P=A>0?Math.round((_-A)/A*100):_>0?100:0,E=U=>{f(U),u(!0)},D=U=>{confirm(`tes-vous sr de vouloir supprimer la consultation pour ${U.petName} ?`)&&(t(U.id),a({title:"Consultation supprime",description:`La consultation pour ${U.petName} a t supprime.`}))},I=U=>{const B=new Date().toISOString().split("T")[0];return U.date===B?"bg-accent text-accent-foreground":U.date<B?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"},k=U=>{const B=new Date().toISOString().split("T")[0];return U.date===B?"Aujourd'hui":U.date<B?"Termine":" venir"},O=U=>{const B=n.find(Y=>Y.id===U.petId),ne=s.find(Y=>Y.id===U.clientId);return{petType:(B==null?void 0:B.type)||"Inconnu",petBreed:(B==null?void 0:B.breed)||"Non spcifie",clientPhone:(ne==null?void 0:ne.phone)||"Non spcifi",clientCity:(ne==null?void 0:ne.city)||"Non spcifie"}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ke,{className:"text-lg font-semibold",children:"Consultations Rcentes"}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-3 w-3"}),r.jsxs("span",{children:[x," total"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-3 w-3"}),r.jsxs("span",{children:[v," aujourd'hui"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),r.jsxs("span",{children:[j," ce mois"]}),C!==0&&r.jsxs(Le,{variant:C>0?"default":"destructive",className:"text-xs",children:[C>0?"+":"",C,"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qf,{className:"h-3 w-3"}),r.jsxs("span",{children:["~",_," ce mois"]}),P!==0&&r.jsxs(Le,{variant:P>0?"default":"destructive",className:"text-xs",children:[P>0?"+":"",P,"%"]})]})]})]}),r.jsxs(V,{size:"sm",className:"gap-2",onClick:()=>l(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]}),r.jsx(he,{className:"space-y-4",children:g.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation enregistre"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premire consultation"})]}):g.map(U=>{const B=O(U);return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-12 w-12",children:r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(br,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium",children:["Consultation #",U.id]}),r.jsx(Le,{variant:"outline",className:I(U),children:k(U)}),U.cost&&r.jsxs(Le,{variant:"secondary",className:"text-xs",children:[U.cost," ",i.currency||""]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),r.jsxs("span",{children:[U.petName," (",B.petType,")"]}),B.petBreed!=="Non spcifie"&&r.jsxs("span",{children:[" - ",B.petBreed]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rr,{className:"h-3 w-3"}),r.jsx("span",{children:U.clientName})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(At,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(U.date).toLocaleDateString("fr-FR")})]})]})}),r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-4",children:[U.diagnosis&&r.jsxs("span",{children:["Diagnostic: ",U.diagnosis]}),U.weight&&r.jsxs("span",{children:["Poids: ",U.weight]}),U.temperature&&r.jsxs("span",{children:["Temprature: ",U.temperature,"C"]}),U.photos&&U.photos.length>0&&r.jsxs("span",{children:[" ",U.photos.length," photo",U.photos.length>1?"s":""]})]})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>E(U),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]}),r.jsx(C9,{consultation:U}),r.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>D(U),className:"gap-2",children:[r.jsx(tr,{className:"h-4 w-4"}),"Supprimer"]})]})]},U.id)})})]}),r.jsx(nm,{open:o,onOpenChange:l}),r.jsx($Fe,{open:c,onOpenChange:u,consultation:d})]})}function LFe(){const{appointments:e,stockItems:t,getUpcomingAppointments:n,getOverdueAppointments:s}=Pt();Gt();const i=new Date().toISOString().split("T")[0];n();const a=s(),o=e.filter(d=>d.date===i&&d.status!=="cancelled"&&d.status!=="completed"),l=t.filter(d=>d.currentStock<=d.minimumStock),c=t.filter(d=>d.currentStock===0),u=[];return c.length>0&&u.push({type:"critical",icon:qn,title:"Stock puis",message:`${c.length} produit(s) en rupture de stock`,count:c.length,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}),l.length>0&&u.push({type:"warning",icon:Gn,title:"Stock faible",message:`${l.length} produit(s) en stock faible`,count:l.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),a.length>0&&u.push({type:"warning",icon:Rn,title:"Rendez-vous en retard",message:`${a.length} rendez-vous en retard`,count:a.length,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}),o.length>0&&u.push({type:"info",icon:At,title:"Rendez-vous aujourd'hui",message:`${o.length} rendez-vous prvus aujourd'hui`,count:o.length,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}),u.length===0?r.jsxs(de,{className:"card-hover",children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5 text-green-600"}),"Aucune alerte"]})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-green-600 text-4xl mb-2",children:""}),r.jsx("p",{className:"text-muted-foreground",children:"Tout va bien ! Aucune alerte  signaler."})]})})]}):r.jsxs(de,{className:"card-hover",children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-orange-600"}),"Alertes & Notifications",r.jsx(Le,{variant:"destructive",className:"ml-2",children:u.length})]})}),r.jsx(he,{className:"space-y-3",children:u.map((d,f)=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d.borderColor} ${d.bgColor}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:r.jsx(d.icon,{className:`h-4 w-4 ${d.color}`})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:d.title}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d.message})]})]}),r.jsx(Le,{variant:d.type==="critical"?"destructive":d.type==="warning"?"secondary":"default",className:"text-xs",children:d.count})]},f))})]})}function FFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o}=Pt();Gt();const l=e.reduce((N,j)=>N+j.pets.length,0),c=l===t.length,u=e.length+t.length+n.length+s.length+i.length+a.length+o.length,d=c?100:Math.round((u-Math.abs(l-t.length))/u*100),f=new Date().toISOString().split("T")[0],m=n.filter(N=>N.date===f).length,g=s.filter(N=>N.date===f&&N.status!=="cancelled"&&N.status!=="completed").length,x=new Date().getMonth(),v=new Date().getFullYear(),y=n.filter(N=>{const j=new Date(N.date);return j.getMonth()===x&&j.getFullYear()===v}).length;return r.jsxs(de,{className:"mb-6",children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[c?r.jsx(Zn,{className:"h-5 w-5 text-green-600"}):r.jsx(Or,{className:"h-5 w-5 text-yellow-600"}),"Statut de Synchronisation"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Clients: ",e.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{className:"text-sm",children:["Animaux: ",t.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Consultations: ",n.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-purple-600"}),r.jsxs("span",{className:"text-sm",children:["RDV: ",s.length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm",children:["Aujourd'hui: ",m+g]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm",children:["Ce mois: ",y]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-orange-600"}),r.jsxs("span",{className:"text-sm",children:["Prescriptions: ",i.length]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-4 w-4 text-indigo-600"}),r.jsxs("span",{className:"text-sm",children:["Fermes: ",a.length]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Intgrit des donnes:"}),r.jsxs(Le,{variant:d>=95?"default":d>=80?"secondary":"destructive",children:[d,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d>=95?"bg-green-600":d>=80?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d}%`}})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-green-700",children:"Synchronisation OK"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Or,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-yellow-700",children:"Dsynchronisation dtecte"})]})}),!c&&r.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 p-2 rounded",children:[r.jsx("strong",{children:"Attention:"})," ",Math.abs(l-t.length)," animal(s) non synchronis(s) entre clients et animaux"]})]})]})]})}function BFe(){const{clients:e,pets:t,consultations:n,appointments:s,prescriptions:i,farms:a,farmInterventions:o,resetData:l,exportData:c,importData:u}=Pt(),{settings:d}=Gt(),{toast:f}=It(),[m,g]=w.useState(!1),[x,v]=w.useState(!1),y=e.length+t.length+n.length+s.length+i.length+a.length+o.length,N=Math.round(y*.5),j=[...e.map(O=>O.lastVisit),...t.map(O=>O.lastVisit).filter(Boolean),...n.map(O=>O.date),...s.map(O=>O.date),...i.map(O=>O.date),...a.map(O=>O.lastVisit)].filter(Boolean),b=j.length>0?new Date(Math.max(...j.map(O=>new Date(O).getTime()))):new Date,C=new Date().toISOString().split("T")[0],_=new Date().getMonth(),A=new Date().getFullYear(),P=[...e.filter(O=>O.lastVisit===C),...t.filter(O=>O.lastVisit===C),...n.filter(O=>O.date===C),...s.filter(O=>O.date===C)].length,E=[...e.filter(O=>{const U=new Date(O.lastVisit);return U.getMonth()===_&&U.getFullYear()===A}),...t.filter(O=>{if(!O.lastVisit)return!1;const U=new Date(O.lastVisit);return U.getMonth()===_&&U.getFullYear()===A}),...n.filter(O=>{const U=new Date(O.date);return U.getMonth()===_&&U.getFullYear()===A}),...s.filter(O=>{const U=new Date(O.date);return U.getMonth()===_&&U.getFullYear()===A})].length,D=()=>{try{c(),f({title:"Donnes exportes",description:`Export de ${y} enregistrements russi.`})}catch{f({title:"Erreur d'export",description:"Impossible d'exporter les donnes.",variant:"destructive"})}},I=O=>{var ne;const U=(ne=O.target.files)==null?void 0:ne[0];if(!U)return;const B=new FileReader;B.onload=Y=>{var J,q;try{const $=JSON.parse((J=Y.target)==null?void 0:J.result);if($.clients&&$.pets)u($),f({title:"Donnes importes",description:`${$.clients.length} clients, ${$.pets.length} animaux et ${((q=$.consultations)==null?void 0:q.length)||0} consultations imports avec succs.`});else throw new Error("Format de fichier invalide")}catch{f({title:"Erreur d'import",description:"Le fichier slectionn n'est pas valide.",variant:"destructive"})}},B.readAsText(U),v(!1)},k=()=>{try{l(),f({title:"Donnes rinitialises",description:"Toutes les donnes ont t remises aux valeurs par dfaut."}),g(!1)}catch{f({title:"Erreur de rinitialisation",description:"Impossible de rinitialiser les donnes.",variant:"destructive"})}};return r.jsxs(r.Fragment,{children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Qte,{className:"h-5 w-5"}),"Gestion des Donnes"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"text-muted-foreground",children:[y," enregistrements"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Taille:"}),r.jsxs("span",{className:"text-muted-foreground",children:["~",N," KB"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Dernire modif:"}),r.jsx("span",{className:"text-muted-foreground",children:b.toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Aujourd'hui:"}),r.jsx("span",{className:"text-muted-foreground",children:P})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Ce mois:"}),r.jsx("span",{className:"text-muted-foreground",children:E})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Clinique:"}),r.jsx("span",{className:"text-muted-foreground",children:d.clinicName||"Non configure"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[r.jsx("div",{className:"font-medium text-blue-700",children:e.length}),r.jsx("div",{className:"text-blue-600",children:"Clients"})]}),r.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[r.jsx("div",{className:"font-medium text-red-700",children:t.length}),r.jsx("div",{className:"text-red-600",children:"Animaux"})]}),r.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[r.jsx("div",{className:"font-medium text-green-700",children:n.length}),r.jsx("div",{className:"text-green-600",children:"Consultations"})]}),r.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"font-medium text-purple-700",children:s.length}),r.jsx("div",{className:"text-purple-600",children:"RDV"})]}),r.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded",children:[r.jsx("div",{className:"font-medium text-orange-700",children:i.length}),r.jsx("div",{className:"text-orange-600",children:"Prescriptions"})]}),r.jsxs("div",{className:"text-center p-2 bg-indigo-50 rounded",children:[r.jsx("div",{className:"font-medium text-indigo-700",children:a.length}),r.jsx("div",{className:"text-indigo-600",children:"Fermes"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:D,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[r.jsx(XC,{className:"h-4 w-4"}),"Importer"]}),r.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>g(!0),className:"gap-2",children:[r.jsx(n6,{className:"h-4 w-4"}),"Rinitialiser"]})]})]})]}),r.jsx(wt,{open:m,onOpenChange:g,children:r.jsxs(vt,{children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-red-600"}),"Rinitialiser toutes les donnes"]}),r.jsx(un,{children:"Cette action supprimera dfinitivement toutes les donnes (clients, animaux, consultations, etc.) et les remettra aux valeurs par dfaut. Cette action ne peut pas tre annule."})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(V,{variant:"outline",onClick:()=>g(!1),children:"Annuler"}),r.jsx(V,{variant:"destructive",onClick:k,children:"Rinitialiser"})]})]})}),r.jsx(wt,{open:x,onOpenChange:v,children:r.jsxs(vt,{children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(XC,{className:"h-5 w-5"}),"Importer des donnes"]}),r.jsx(un,{children:"Slectionnez un fichier JSON export prcdemment pour restaurer vos donnes."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:".json",onChange:I,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Note:"})," L'import remplacera toutes les donnes existantes."]})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsx(V,{variant:"outline",onClick:()=>v(!1),children:"Annuler"})})]})})]})}function zFe(){const{clients:e,pets:t,consultations:n,appointments:s,vaccinations:i,antiparasitics:a,stockItems:o,getUpcomingAppointments:l,getOverdueAppointments:c,generateAccountingSummary:u}=Pt(),{settings:d}=Gt(),f=new Date().toISOString().split("T")[0],m=new Date().getMonth(),g=new Date().getFullYear(),x=n.filter(k=>k.date===f).length,v=s.filter(k=>k.date===f&&k.status!=="cancelled").length,N=l().filter(k=>{const O=new Date(k.date),U=new Date,B=new Date(U.getTime()+7*24*60*60*1e3);return O<=B}).length,j=c(),b=o.filter(k=>k.currentStock<=k.minimumStock).length,C=o.filter(k=>k.currentStock===0).length,_=new Date(g,m,1).toISOString().split("T")[0],A=new Date(g,m+1,0).toISOString().split("T")[0],P=u(`${g}-${String(m+1).padStart(2,"0")}`,_,A),E=e.filter(k=>{const O=new Date(k.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,D=t.filter(k=>{const O=new Date(k.createdAt);return O.getMonth()===m&&O.getFullYear()===g}).length,I=[{title:"Consultations Aujourd'hui",value:x,icon:br,color:"text-green-600",bgColor:"bg-green-50",trend:x>0?"up":"neutral",description:"Consultations ralises"},{title:"RDV Aujourd'hui",value:v,icon:At,color:"text-blue-600",bgColor:"bg-blue-50",trend:v>0?"up":"neutral",description:"Rendez-vous programms"},{title:"RDV Cette Semaine",value:N,icon:Rn,color:"text-purple-600",bgColor:"bg-purple-50",trend:N>0?"up":"neutral",description:"Rendez-vous  venir"},{title:"RDV En Retard",value:j.length,icon:qn,color:j.length>0?"text-red-600":"text-gray-600",bgColor:j.length>0?"bg-red-50":"bg-gray-50",trend:j.length>0?"down":"neutral",description:"Rendez-vous en retard"},{title:"Nouveaux Clients",value:E,icon:Ia,color:"text-emerald-600",bgColor:"bg-emerald-50",trend:E>0?"up":"neutral",description:"Ce mois"},{title:"Nouveaux Animaux",value:D,icon:qt,color:"text-pink-600",bgColor:"bg-pink-50",trend:D>0?"up":"neutral",description:"Ce mois"},{title:"Revenus du Mois",value:`${P.totalRevenue.toFixed(0)} ${d.currency||""}`,icon:qf,color:"text-green-600",bgColor:"bg-green-50",trend:P.totalRevenue>0?"up":"neutral",description:`Bnfice: ${P.netIncome.toFixed(0)} ${d.currency||""}`},{title:"Stock Critique",value:b,icon:Ma,color:b>0?"text-orange-600":"text-green-600",bgColor:b>0?"bg-orange-50":"bg-green-50",trend:b>0?"down":"neutral",description:`${C} en rupture`}];return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:I.map((k,O)=>r.jsxs(de,{className:"card-hover",children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium text-muted-foreground",children:k.title}),r.jsx("div",{className:`p-2 rounded-lg ${k.bgColor}`,children:r.jsx(k.icon,{className:`h-4 w-4 ${k.color}`})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-2xl font-bold",children:k.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[k.trend==="up"&&r.jsxs(r.Fragment,{children:[r.jsx(vr,{className:"h-4 w-4 text-green-600"}),r.jsxs(Le,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:["+",Math.floor(Math.random()*20)+5,"%"]})]}),k.trend==="down"&&r.jsxs(r.Fragment,{children:[r.jsx(Hu,{className:"h-4 w-4 text-red-600"}),r.jsxs(Le,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:["-",Math.floor(Math.random()*15)+3,"%"]})]}),k.trend==="neutral"&&r.jsx(Le,{variant:"outline",className:"text-xs",children:"0%"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:k.description})]})]},O))})}function VFe(){const{accountingEntries:e}=Pt(),{settings:t}=Gt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1);`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}`;const c=new Date(l.getFullYear(),l.getMonth(),1).toISOString().split("T")[0],u=new Date(l.getFullYear(),l.getMonth()+1,0).toISOString().split("T")[0],d=e.filter(g=>{const x=new Date(g.date);return x>=new Date(c)&&x<=new Date(u)}),f=d.filter(g=>g.type==="revenue").reduce((g,x)=>g+x.amount,0),m=d.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),revenue:Math.round(f),expenses:Math.round(m),profit:Math.round(f-m)})}return i})();return r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"volution des Revenus"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(hl,{width:"100%",height:"100%",children:r.jsxs(Lk,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(od,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs",tickFormatter:i=>`${i}${t.currency||""}`}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[`${i} ${t.currency||""}`,a==="revenue"?"Revenus":a==="expenses"?"Dpenses":"Bnfice"]}),r.jsx(ta,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,strokeWidth:2}),r.jsx(ta,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Revenus"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Dpenses"})]})]})]})]})}function UFe(){const{consultations:e,appointments:t,vaccinations:n,antiparasitics:s}=Pt(),a=(()=>{const o=[],l=new Date;for(let c=6;c>=0;c--){const u=new Date(l);u.setDate(u.getDate()-c);const d=u.toISOString().split("T")[0],f=e.filter(v=>v.date===d).length,m=t.filter(v=>v.date===d).length,g=n.filter(v=>v.dateGiven===d).length,x=s.filter(v=>v.dateGiven===d).length;o.push({day:u.toLocaleDateString("fr-FR",{weekday:"short"}),date:d,consultations:f,appointments:m,vaccinations:g,antiparasitics:x,total:f+m+g+x})}return o})();return r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Activit des 7 derniers jours"}),r.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(hl,{width:"100%",height:"100%",children:r.jsxs(jFe,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(od,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"day",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(o,l)=>[o,l==="consultations"?"Consultations":l==="appointments"?"Rendez-vous":l==="vaccinations"?"Vaccinations":l==="antiparasitics"?"Antiparasitaires":"Total"]}),r.jsx(oo,{dataKey:"consultations",fill:"#10b981",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"appointments",fill:"#3b82f6",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"vaccinations",fill:"#8b5cf6",radius:[2,2,0,0]}),r.jsx(oo,{dataKey:"antiparasitics",fill:"#f59e0b",radius:[2,2,0,0]})]})})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Consultations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Rendez-vous"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Antiparasitaires"})]})]})]})]})}function qFe(){const{stockItems:e}=Pt(),t=W.useMemo(()=>{const i=e.length,a=e.filter(c=>c.currentStock<=c.minimumStock&&c.currentStock>0).length,o=e.filter(c=>c.currentStock===0).length;return[{name:"Stock Normal",value:i-a-o,color:"#10b981"},{name:"Stock Faible",value:a,color:"#f59e0b"},{name:"Rupture",value:o,color:"#ef4444"}].filter(c=>c.value>0)},[e]),n=e.reduce((i,a)=>i+a.currentStock*a.purchasePrice,0),s=e.sort((i,a)=>a.currentStock*a.purchasePrice-i.currentStock*i.purchasePrice).slice(0,5);return r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"tat du Stock"}),r.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(hl,{width:"100%",height:"100%",children:r.jsxs(Rk,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,a)=>r.jsx(hm,{fill:i.color},`cell-${a}`))}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:i=>[i,"Articles"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Valeur totale du stock"}),r.jsxs("span",{className:"font-medium",children:[n.toFixed(0)," "]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Articles les plus prcieux"}),s.map((i,a)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"truncate flex-1",children:i.name}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[(i.currentStock*i.purchasePrice).toFixed(0)," "]})]},i.id))]})]})]})]})}function WFe(){const{clients:e,pets:t}=Pt(),s=(()=>{const i=[],a=new Date;for(let o=5;o>=0;o--){const l=new Date(a.getFullYear(),a.getMonth()-o,1),c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0),d=e.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,f=t.filter(x=>{const v=new Date(x.createdAt);return v>=c&&v<=u}).length,m=e.filter(x=>new Date(x.createdAt)<=u).length,g=t.filter(x=>new Date(x.createdAt)<=u).length;i.push({month:l.toLocaleDateString("fr-FR",{month:"short"}),newClients:d,newPets:f,totalClients:m,totalPets:g})}return i})();return r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Croissance des Clients"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(hl,{width:"100%",height:"100%",children:r.jsxs(Lk,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(od,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(i,a)=>[i,a==="newClients"?"Nouveaux Clients":a==="newPets"?"Nouveaux Animaux":a==="totalClients"?"Total Clients":"Total Animaux"]}),r.jsx(ta,{type:"monotone",dataKey:"newClients",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2}),r.jsx(ta,{type:"monotone",dataKey:"newPets",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Clients"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nouveaux Animaux"})]})]})]})]})}function HFe(){const{appointments:e}=Pt(),t=W.useMemo(()=>{const c=e.reduce((f,m)=>(f[m.status]=(f[m.status]||0)+1,f),{}),u={scheduled:"Planifi",confirmed:"Confirm",completed:"Termin",cancelled:"Annul","no-show":"Absent"},d={scheduled:"#3b82f6",confirmed:"#10b981",completed:"#6b7280",cancelled:"#ef4444","no-show":"#f59e0b"};return Object.entries(c).map(([f,m])=>({name:u[f]||f,value:m,color:d[f]||"#6b7280"}))},[e]),n=e.length,s=e.filter(c=>c.status==="completed").length,i=e.filter(c=>c.status==="scheduled"||c.status==="confirmed").length,a=e.filter(c=>c.status==="cancelled").length,o=n>0?s/n*100:0,l=n>0?a/n*100:0;return r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Statuts des Rendez-vous"}),r.jsx(At,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(hl,{width:"100%",height:"100%",children:r.jsxs(Rk,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((c,u)=>r.jsx(hm,{fill:c.color},`cell-${u}`))}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:c=>[c,"Rendez-vous"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux de russite"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[l.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Taux d'annulation"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Termins"})]}),r.jsx("span",{className:"font-medium",children:s})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:" venir"})]}),r.jsx("span",{className:"font-medium",children:i})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ig,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{children:"Annuls"})]}),r.jsx("span",{className:"font-medium",children:a})]})]})]})]})]})}function GFe(){const{consultations:e}=Pt(),n=(()=>{const s=[],i=new Date;for(let a=11;a>=0;a--){const o=new Date(i.getFullYear(),i.getMonth()-a,1),l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()+1,0),u=e.filter(m=>{const g=new Date(m.date);return g>=l&&g<=c}),d=u.reduce((m,g)=>m+(g.cost||0),0),f=u.length>0?d/u.length:0;s.push({month:o.toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),consultations:u.length,revenue:Math.round(d),averageRevenue:Math.round(f)})}return s})();return r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Tendances des Consultations"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(vr,{className:"h-4 w-4 text-blue-600"})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(hl,{width:"100%",height:"100%",children:r.jsxs(Lk,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(od,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(Fa,{dataKey:"month",axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(Ba,{axisLine:!1,tickLine:!1,className:"text-xs"}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(s,i)=>[i==="consultations"?s:`${s} `,i==="consultations"?"Consultations":i==="revenue"?"Revenus":"Revenu moyen"]}),r.jsx(ta,{type:"monotone",dataKey:"consultations",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,strokeWidth:2})]})})}),r.jsx("div",{className:"flex items-center justify-between mt-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-muted-foreground",children:"Nombre de consultations"})]})})]})]})}function KFe(){const{pets:e}=Pt(),t=W.useMemo(()=>{const o=e.reduce((c,u)=>{const d=u.species||"Autre";return c[d]=(c[d]||0)+1,c},{}),l=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.entries(o).map(([c,u],d)=>({name:c,value:u,color:l[d%l.length]}))},[e]),n=e.length,s=t.length>0?t[0]:null,i=e.length>0?e.reduce((o,l)=>o+(l.age||0),0)/e.length:0,a=o=>{switch(o.toLowerCase()){case"chien":case"dog":return r.jsx(Xte,{className:"h-4 w-4"});case"chat":case"cat":return r.jsx(Wte,{className:"h-4 w-4"});case"poisson":case"fish":return r.jsx(Jte,{className:"h-4 w-4"});case"oiseau":case"bird":return r.jsx(Ute,{className:"h-4 w-4"});default:return r.jsx(qt,{className:"h-4 w-4"})}};return r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-base font-medium",children:"Rpartition par Espce"}),r.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(hl,{width:"100%",height:"100%",children:r.jsxs(Rk,{children:[r.jsx(qa,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((o,l)=>r.jsx(hm,{fill:o.color},`cell-${l}`))}),r.jsx(qr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:o=>[o,"Animaux"]})]})})}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total d'animaux"}),r.jsx("span",{className:"font-medium",children:n})]}),s&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Espce la plus commune"}),r.jsxs("div",{className:"flex items-center gap-2",children:[a(s.name),r.jsx("span",{className:"font-medium",children:s.name})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"ge moyen"}),r.jsxs("span",{className:"font-medium",children:[i.toFixed(1)," ans"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Rpartition dtaille"}),t.slice(0,5).map((o,l)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(o.name),r.jsx("span",{children:o.name})]}),r.jsxs("span",{className:"text-muted-foreground",children:[o.value," (",(o.value/n*100).toFixed(1),"%)"]})]},l))]})]})]})]})}const YFe=()=>r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsx(Dfe,{}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"KPI en Temps Rel"}),r.jsx(zFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(FFe,{}),r.jsx(BFe,{}),r.jsx(LFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Vue d'ensemble"}),r.jsx(Mfe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Analyses et Tendances"}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(q2,{children:r.jsx(VFe,{})}),r.jsx(UFe,{})]})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx(qFe,{}),r.jsx(WFe,{}),r.jsx(HFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(GFe,{}),r.jsx(KFe,{})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-2",children:[r.jsx(Rfe,{}),r.jsx(IFe,{})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Activit Rcente"}),r.jsx(RFe,{})]}),r.jsx(q2,{children:r.jsx("section",{children:r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"Admin Dashboard"})})})]}),wd=e=>{const{settings:t}=Gt();return{currentView:t.displayPreferences[e],isTableView:t.displayPreferences[e]==="table",isCardsView:t.displayPreferences[e]==="cards"}},QFe=(e,t)=>{const n=t.filter(a=>a.client_id===e.id),s=Math.abs(e.id.split("").reduce((a,o)=>(a=(a<<5)-a+o.charCodeAt(0),a&a),0)),i=n.map(a=>({id:Math.abs(a.id.split("").reduce((l,c)=>(l=(l<<5)-l+c.charCodeAt(0),l&l),0)),name:a.name,type:a.species,breed:a.breed||""}));return{id:s,name:`${e.first_name} ${e.last_name}`,firstName:e.first_name,lastName:e.last_name,email:e.email||"",phone:e.phone||e.mobile_phone||"",address:e.address||"",city:e.city,pets:i,lastVisit:new Date(e.updated_at).toLocaleDateString("fr-FR"),totalVisits:0,dbId:e.id}},XFe=()=>{const{data:e=[],isLoading:t}=zc(),{data:n=[],isLoading:s}=Vc(),i=cfe(),{toast:a}=It(),o=e.map(k=>QFe(k,n)),{currentView:l}=wd("clients"),[c,u]=w.useState(""),[d,f]=w.useState(l),[m,g]=w.useState(!1),[x,v]=w.useState(null),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[C,_]=w.useState({first_name:"",last_name:"",email:"",phone:"",mobile_phone:"",address:"",city:"Rabat",postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),A=o.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.email.toLowerCase().includes(c.toLowerCase())||k.city&&k.city.toLowerCase().includes(c.toLowerCase())),P=k=>{v(k),N(!0)},E=k=>{v(k),_({first_name:k.firstName,last_name:k.lastName,email:k.email,phone:k.phone,mobile_phone:"",address:k.address,city:k.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),b(!0)},D=()=>{x&&_({first_name:x.firstName,last_name:x.lastName,email:x.email,phone:x.phone,mobile_phone:"",address:x.address,city:x.city,postal_code:"",country:"Maroc",notes:"",client_type:"particulier"}),N(!1),b(!0)},I=async k=>{if(k.preventDefault(),!x||!C.first_name||!C.last_name){a({title:"Erreur",description:"Le prnom et le nom sont obligatoires",variant:"destructive"});return}try{await i.mutateAsync({id:x.dbId,data:C}),a({title:"Client modifi",description:`${C.first_name} ${C.last_name} a t modifi avec succs`}),b(!1),v(null)}catch(O){a({title:"Erreur",description:O instanceof Error?O.message:"Erreur lors de la modification du client",variant:"destructive"})}};return t||s?r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement des clients..."})]})})}):r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Clients"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Grez tous vos clients et leurs informations"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:d==="cards"?"default":"outline",onClick:()=>f("cards"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:d==="table"?"default":"outline",onClick:()=>f("table"),className:"gap-2",children:[r.jsx(ll,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>g(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Client"]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher un client"]})}),r.jsx(he,{children:r.jsx(ae,{placeholder:"Rechercher par nom, email ou ville...",value:c,onChange:k=>u(k.target.value),className:"max-w-md"})})]}),d==="cards"?r.jsx("div",{className:"grid gap-6",children:A.map(k=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx(Gr,{className:"h-16 w-16",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-lg",children:k.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:k.name}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3"}),k.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),k.phone]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fd,{className:"h-3 w-3"}),k.address]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-primary"}),"Animaux (",k.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:k.pets.length>0?k.pets.map((O,U)=>r.jsxs(Le,{variant:"secondary",className:"gap-1",children:[O.name," - ",O.type," ",O.breed&&`(${O.breed})`]},O.id||U)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"Aucun animal enregistr"})})]}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("span",{children:[r.jsx("strong",{children:"Dernire visite:"})," ",k.lastVisit]}),r.jsxs("span",{children:[r.jsx("strong",{children:"Total visites:"})," ",k.totalVisits]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>P(k),children:[r.jsx(wr,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>E(k),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]})]})})},k.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernire visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Total visites"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:A.map(k=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-sm",children:k.name.split(" ").map(O=>O[0]).join("")})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:k.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.address})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm",children:k.email}),r.jsx("div",{className:"text-sm text-muted-foreground",children:k.phone})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex gap-1 flex-wrap",children:k.pets.length>0?k.pets.map((O,U)=>r.jsx(Le,{variant:"secondary",className:"text-xs",children:O.name},O.id||U)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucun"})})}),r.jsx("td",{className:"p-4",children:k.lastVisit}),r.jsx("td",{className:"p-4",children:k.totalVisits}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>P(k),children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>E(k),children:r.jsx(tn,{className:"h-4 w-4"})})]})})]},k.id))})]})})})}),r.jsx(bv,{open:m,onOpenChange:g}),x&&y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(de,{className:"w-full max-w-2xl mx-4",children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center justify-between",children:["Profil Client - ",x.name,r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>N(!1),children:""})]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Nom complet"}),r.jsx("p",{children:x.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx("p",{children:x.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Tlphone"}),r.jsx("p",{children:x.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Ville"}),r.jsx("p",{children:x.city})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),r.jsx("p",{children:x.address})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium",children:["Animaux (",x.pets.length,")"]}),r.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:x.pets.map((k,O)=>r.jsxs(Le,{variant:"secondary",children:[k.name," - ",k.type," ",k.breed&&`(${k.breed})`]},k.id||O))})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(V,{onClick:()=>D(),children:"Modifier"}),r.jsx(V,{variant:"outline",onClick:()=>N(!1),children:"Fermer"})]})]})]})}),x&&j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs(de,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center justify-between",children:["Modifier Client - ",x.name,r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:""})]})}),r.jsx(he,{children:r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_first_name",children:"Prnom *"}),r.jsx(ae,{id:"edit_first_name",value:C.first_name,onChange:k=>_(O=>({...O,first_name:k.target.value})),placeholder:"Prnom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_last_name",children:"Nom *"}),r.jsx(ae,{id:"edit_last_name",value:C.last_name,onChange:k=>_(O=>({...O,last_name:k.target.value})),placeholder:"Nom du client",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_email",children:"Email"}),r.jsx(ae,{id:"edit_email",type:"email",value:C.email||"",onChange:k=>_(O=>({...O,email:k.target.value})),placeholder:"email@exemple.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_phone",children:"Tlphone"}),r.jsx(ae,{id:"edit_phone",value:C.phone||"",onChange:k=>_(O=>({...O,phone:k.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_mobile_phone",children:"Tlphone mobile"}),r.jsx(ae,{id:"edit_mobile_phone",value:C.mobile_phone||"",onChange:k=>_(O=>({...O,mobile_phone:k.target.value})),placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_city",children:"Ville"}),r.jsx(ae,{id:"edit_city",value:C.city||"Rabat",onChange:k=>_(O=>({...O,city:k.target.value})),placeholder:"Ville"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_address",children:"Adresse"}),r.jsx(ae,{id:"edit_address",value:C.address||"",onChange:k=>_(O=>({...O,address:k.target.value})),placeholder:"Adresse complte"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_postal_code",children:"Code postal"}),r.jsx(ae,{id:"edit_postal_code",value:C.postal_code||"",onChange:k=>_(O=>({...O,postal_code:k.target.value})),placeholder:"10000"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_client_type",children:"Type de client"}),r.jsxs(Me,{value:C.client_type||"particulier",onValueChange:k=>_(O=>({...O,client_type:k})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de client"})}),r.jsxs(De,{children:[r.jsx(z,{value:"particulier",children:"Particulier"}),r.jsx(z,{value:"eleveur",children:"leveur"}),r.jsx(z,{value:"ferme",children:"Ferme"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"edit_notes",children:"Notes"}),r.jsx(mt,{id:"edit_notes",value:C.notes||"",onChange:k=>_(O=>({...O,notes:k.target.value})),placeholder:"Notes supplmentaires...",rows:3})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(V,{type:"submit",disabled:i.isPending,className:"flex-1",children:i.isPending?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"h-4 w-4 animate-spin mr-2"}),"Modification..."]}):"Enregistrer"}),r.jsx(V,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:i.isPending,className:"flex-1",children:"Annuler"})]})]})})]})})]})},JFe=()=>r.jsx(XFe,{});function ZFe({open:e,onOpenChange:t,pet:n}){const[s,i]=w.useState("overview");if(!n)return null;const a=n.birthDate?af(n.birthDate):"Non renseign",o=n.weight?`${n.weight} kg`:"Non renseign";return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Nt,{children:r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-5 w-5"}),"Dossier Mdical - ",n.name," (Propritaire: ",n.owner,")"]})}),r.jsxs(vl,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs(wo,{className:"grid w-full grid-cols-6",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"historique",className:"flex items-center gap-1",children:[r.jsx(At,{className:"h-4 w-4"}),"Historique"]}),r.jsxs(ln,{value:"prescriptions",className:"flex items-center gap-1",children:[r.jsx(tr,{className:"h-4 w-4"}),"Prescriptions"]}),r.jsxs(ln,{value:"vaccinations",className:"flex items-center gap-1",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Vaccinations"]}),r.jsxs(ln,{value:"antiparasites",className:"flex items-center gap-1",children:[r.jsx(Or,{className:"h-4 w-4"}),"Antiparasites"]}),r.jsxs(ln,{value:"pedigree",className:"flex items-center gap-1",children:[r.jsx(y0,{className:"h-4 w-4"}),"Pedigree"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Informations gnrales"})}),r.jsx(he,{children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Gr,{className:"h-32 w-32",children:n.photo?r.jsx(dl,{src:n.photo,alt:n.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-16 w-16"})})}),r.jsxs(V,{variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(rf,{className:"h-4 w-4"}),"Ajouter photo"]})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:n.name}),r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",n.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Race:"})," ",n.breed||"Non renseigne"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sexe:"})," ",n.gender==="male"?"Mle":n.gender==="female"?"Femelle":"Inconnu"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ge:"})," ",a]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date de naissance:"})," ",n.birthDate||"Non renseigne"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",n.color||"Non renseigne"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids actuel:"})," ",o]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"N puce:"})," ",n.microchip||"Non renseign"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:"Statut de sant:"}),r.jsx(Le,{variant:n.status==="healthy"?"default":n.status==="treatment"?"secondary":"destructive",children:n.status==="healthy"?"En bonne sant":n.status==="treatment"?"En traitement":"Urgent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Propritaire:"})," ",n.owner]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dernire visite:"})," ",n.lastVisit||"Aucune"]})]})]})]})})]}),r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{children:"Galerie photos"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter une photo"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[r.jsx(rf,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo disponible"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez des photos de l'animal pour enrichir son dossier"})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j0,{className:"h-5 w-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids actuel"}),r.jsx("p",{className:"text-lg font-bold",children:o}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"-28.2kg"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ag,{className:"h-5 w-5 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Temprature"}),r.jsx("p",{className:"text-lg font-bold",children:"38.5C"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Moy: 38.5C"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultations"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Dernire: 15/01/2024"})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertes"}),r.jsx("p",{className:"text-lg font-bold",children:"1"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:" traiter"})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5"}),"Prochain suivi recommand"]})}),r.jsx(he,{children:r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"Contrle dans 3 an"}),r.jsxs(V,{size:"sm",className:"mt-2 gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Planifier"]})]})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-red-600",children:"Alertes importantes"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Or,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Contrle de routine recommand"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dernire consultation il y a 20 mois"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier consultation"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Or,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"DHPP - 247 jour(s) de retard"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier vaccination"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[r.jsx(Or,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Vaccination en retard"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Lyme - 512 jour(s) de retard"})]}),r.jsx(V,{size:"sm",variant:"outline",children:"Planifier vaccination"})]})]})]})]}),r.jsx(cn,{value:"historique",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Historique mdical"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(At,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Pas assez de donnes pour afficher les tendances"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Ajoutez plus de consultations avec poids et temprature"})]})})]})}),r.jsx(cn,{value:"prescriptions",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{children:"Prescriptions"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle prescription"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(tr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune prescription disponible"})]})})]})}),r.jsx(cn,{value:"vaccinations",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{children:"Vaccinations"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle vaccination"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium",children:[r.jsx("div",{children:"Rage"}),r.jsx("div",{children:"DHPP"}),r.jsx("div",{children:"Lyme"})]}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ts,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune vaccination enregistre"})]})]})})]})}),r.jsx(cn,{value:"antiparasites",className:"space-y-4",children:r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[r.jsx(ke,{children:"Antiparasitaires"}),r.jsxs(V,{size:"sm",className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau traitement"]})]}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Or,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucun traitement antiparasitaire enregistr"})]})})]})}),r.jsx(cn,{value:"pedigree",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Informations de pedigree"})}),r.jsx(he,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(y0,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune information de pedigree disponible"})]})})]})})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[r.jsx("div",{className:"flex gap-2",children:r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(tr,{className:"h-4 w-4 mr-2"}),"Voir Dossier Mdical"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:"Fermer"}),r.jsxs(V,{children:[r.jsx(tn,{className:"h-4 w-4 mr-2"}),"Modifier"]})]})]}),r.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:"Animal modifi"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Les informations de ",n.name," ont t mises  jour."]})]})]})})}function e5e({pet:e,consultations:t}){var C,_,A;const n=[...t].sort((P,E)=>new Date(E.date).getTime()-new Date(P.date).getTime()),s=n.filter(P=>P.weight).map(P=>({date:P.date,weight:parseFloat(P.weight)})),i=n.filter(P=>P.temperature).map(P=>({date:P.date,temperature:parseFloat(P.temperature)})),a=((C=s[0])==null?void 0:C.weight)||0,o=((_=s[1])==null?void 0:_.weight)||0,l=a-o,c=l>0?"up":l<0?"down":"stable",u=((A=i[0])==null?void 0:A.temperature)||0,d=i.length>0?i.reduce((P,E)=>P+E.temperature,0)/i.length:0,f=i.length>0?Math.min(...i.map(P=>P.temperature)):0,m=i.length>0?Math.max(...i.map(P=>P.temperature)):0,g=t.length,x=new Date().getMonth(),v=new Date().getFullYear(),y=t.filter(P=>{const E=new Date(P.date);return E.getMonth()===x&&E.getFullYear()===v}).length,N=n[0],j=N?Math.floor((new Date().getTime()-new Date(N.date).getTime())/(1e3*60*60*24)):null,b=[];return u>39.5?b.push({type:"danger",message:"Temprature leve",icon:qn}):u<37.5&&b.push({type:"warning",message:"Temprature basse",icon:qn}),l<-2&&b.push({type:"warning",message:"Perte de poids",icon:Hu}),j&&j>180&&b.push({type:"info",message:"Contrle recommand",icon:At}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Statistiques mdicales"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(de,{children:[r.jsx(Ae,{className:"pb-2",children:r.jsxs(ke,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(j0,{className:"h-4 w-4"}),"Poids actuel"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[a,"kg"]}),l!==0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[c==="up"?r.jsx(vr,{className:"h-3 w-3 text-green-600"}):c==="down"?r.jsx(Hu,{className:"h-3 w-3 text-red-600"}):r.jsx(ene,{className:"h-3 w-3 text-gray-600"}),r.jsxs("span",{className:c==="up"?"text-green-600":c==="down"?"text-red-600":"text-gray-600",children:[Math.abs(l),"kg"]})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{className:"pb-2",children:r.jsxs(ke,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(ag,{className:"h-4 w-4"}),"Temprature"]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[u,"C"]}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Moy: ",d.toFixed(1),"C"]}),i.length>1&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",f,"C | Max: ",m,"C"]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{className:"pb-2",children:r.jsxs(ke,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Ma,{className:"h-4 w-4"}),"Consultations"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:g}),r.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Ce mois: ",y]}),N&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dernire: ",new Date(N.date).toLocaleDateString("fr-FR")]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{className:"pb-2",children:r.jsxs(ke,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4"}),"Alertes"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold",children:b.length}),r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:b.length>0?" traiter":"Aucune"}),b.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:b.slice(0,2).map((P,E)=>r.jsx(Le,{variant:"outline",className:"text-xs",children:P.message},E))})]})]})]}),b.length>0&&r.jsxs(de,{className:"border-destructive/20",children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-destructive text-base",children:"Alertes mdicales"})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-2",children:b.map((P,E)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-destructive/5 rounded",children:[r.jsx(P.icon,{className:`h-4 w-4 ${P.type==="danger"?"text-destructive":P.type==="warning"?"text-yellow-600":"text-blue-600"}`}),r.jsx("span",{className:"text-sm font-medium",children:P.message})]},E))})})]}),s.length>1||i.length>1?r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-base",children:"Tendances"})}),r.jsx(he,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"volution du poids"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids initial:"}),r.jsxs("span",{children:[s[s.length-1].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Poids actuel:"}),r.jsxs("span",{children:[s[0].weight,"kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"volution totale:"}),r.jsxs("span",{className:s[0].weight>s[s.length-1].weight?"text-green-600":"text-red-600",children:[s[0].weight-s[s.length-1].weight,"kg"]})]})]})]}),i.length>1&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"volution de la temprature"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Temprature moyenne:"}),r.jsxs("span",{children:[d.toFixed(1),"C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Variation:"}),r.jsxs("span",{children:[m-f,"C"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Stabilit:"}),r.jsx("span",{className:m-f<1?"text-green-600":"text-yellow-600",children:m-f<1?"Stable":"Variable"})]})]})]})]})})]}):r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Ma,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"Pas assez de donnes pour afficher les tendances"}),r.jsx("p",{className:"text-sm",children:"Ajoutez plus de consultations avec poids et temprature"})]})})]})}const U3={healthy:"bg-secondary text-secondary-foreground",treatment:"bg-accent text-accent-foreground",urgent:"bg-destructive text-destructive-foreground"},t5e=(e,t)=>{const n=t.find(o=>o.id===e.client_id),s=n?`${n.first_name} ${n.last_name}`:"Propritaire inconnu",i=Math.abs(e.id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0)),a=Math.abs(e.client_id.split("").reduce((o,l)=>(o=(o<<5)-o+l.charCodeAt(0),o&o),0));return{id:i,name:e.name,type:e.species,breed:e.breed||"",gender:e.sex==="Mle"?"male":e.sex==="Femelle"?"female":void 0,birthDate:e.birth_date||"",weight:e.weight?e.weight.toString():"",color:e.color||"",microchip:e.microchip_number||"",medicalNotes:e.notes||"",photo:e.photo_url||"",ownerId:a,owner:s,status:e.status==="vivant"?"healthy":e.status==="dcd"?"urgent":"treatment",lastVisit:e.updated_at?new Date(e.updated_at).toLocaleDateString("fr-FR"):"Jamais",nextAppointment:void 0,vaccinations:[],dbId:e.id,dbClientId:e.client_id}},n5e=()=>{var X;const{data:e=[],isLoading:t}=Vc(),{data:n=[],isLoading:s}=zc(),{data:i}=mfe(),a=dfe(),o=e.map(te=>t5e(te,n)),{data:l=[]}=gV(),{data:c=[]}=ffe(),u=w.useCallback(te=>{var M;const G=typeof te=="string"?te:(M=o.find(ye=>ye.id===te))==null?void 0:M.dbId;return G?l.filter(ye=>ye.animal_id===G):[]},[o,l]),d=w.useCallback(te=>{var M;const G=typeof te=="string"?te:(M=o.find(ye=>ye.id===te))==null?void 0:M.dbId;return G?c.filter(ye=>ye.animal_id===G):[]},[o,c]),{currentView:f}=wd("pets"),[m,g]=w.useState(""),[x,v]=w.useState("all"),[y,N]=w.useState("all"),[j,b]=w.useState(f),{settings:C}=Gt(),_=C.species.split(",").map(te=>te.trim()).filter(te=>te.length>0),[A,P]=w.useState(!1),[E,D]=w.useState(!1),[I,k]=w.useState(null),[O,U]=w.useState(!1),[B,ne]=w.useState(!1),[Y,J]=w.useState(!1),{toast:q}=It(),[$,le]=w.useState({client_id:"",name:"",species:"Chien",breed:"",color:"",sex:"Inconnu",weight:void 0,height:void 0,birth_date:"",microchip_number:"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:"",photo_url:"",status:"healthy"}),se=o.filter(te=>{const G=te.name.toLowerCase().includes(m.toLowerCase())||te.breed&&te.breed.toLowerCase().includes(m.toLowerCase())||te.owner.toLowerCase().includes(m.toLowerCase()),M=x==="all"||te.type.toLowerCase()===x.toLowerCase(),ye=y==="all"||te.status===y;return G&&M&&ye}),re=te=>{k(te),U(!0)},K=te=>{k(te),le({client_id:te.dbClientId,name:te.name,species:te.type,breed:te.breed||"",color:te.color||"",sex:te.gender==="male"?"Mle":te.gender==="female"?"Femelle":"Inconnu",weight:te.weight?parseFloat(te.weight):void 0,height:void 0,birth_date:te.birthDate||"",microchip_number:te.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:te.medicalNotes||"",photo_url:te.photo||"",status:te.status}),ne(!0)},ee=()=>{I&&le({client_id:I.dbClientId,name:I.name,species:I.type,breed:I.breed||"",color:I.color||"",sex:I.gender==="male"?"Mle":I.gender==="female"?"Femelle":"Inconnu",weight:I.weight?parseFloat(I.weight):void 0,height:void 0,birth_date:I.birthDate||"",microchip_number:I.microchip||"",tattoo_number:"",sterilized:!1,sterilization_date:"",notes:I.medicalNotes||"",photo_url:I.photo||"",status:I.status}),U(!1),ne(!0)},ge=te=>{k(te),J(!0)},xe=()=>{U(!1),J(!0)},be=async()=>{if(I){if($.microchip_number&&$.microchip_number.trim()&&e.find(G=>G.microchip_number===$.microchip_number.trim()&&G.id!==I.dbId)){q({title:"Erreur",description:"Un animal avec ce numro de puce existe dj.",variant:"destructive"});return}try{await a.mutateAsync({id:I.dbId,data:$}),q({title:"Animal modifi",description:`${$.name} a t modifi avec succs.`}),ne(!1)}catch{q({title:"Erreur",description:"Une erreur s'est produite lors de la modification de l'animal.",variant:"destructive"})}}},F=w.useMemo(()=>I?u(I.id):[],[I,u]);return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Animaux"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivez tous les animaux et leurs informations mdicales"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:j==="cards"?"default":"outline",onClick:()=>b("cards"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:j==="table"?"default":"outline",onClick:()=>b("table"),className:"gap-2",children:[r.jsx(ll,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>P(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel Animal"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total animaux"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalAnimals)||o.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-5 w-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En bonne sant"}),r.jsx("p",{className:"text-2xl font-bold",children:((X=i==null?void 0:i.animalsByStatus)==null?void 0:X.vivant)||o.filter(te=>te.status==="healthy").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"En traitement"}),r.jsx("p",{className:"text-2xl font-bold",children:o.filter(te=>te.status==="treatment").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients actifs"}),r.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalClients)||n.length})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx(ae,{placeholder:"Rechercher par nom, race ou propritaire...",value:m,onChange:te=>g(te.target.value),className:"max-w-md"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(Me,{value:x,onValueChange:v,children:[r.jsx(Oe,{className:"w-40",children:r.jsx(Ie,{placeholder:"Tous types"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous types"}),_.map((te,G)=>r.jsx(z,{value:te.toLowerCase(),children:te},G))]})]}),r.jsxs(Me,{value:y,onValueChange:N,children:[r.jsx(Oe,{className:"w-40",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous statuts"}),r.jsx(z,{value:"healthy",children:"En bonne sant"}),r.jsx(z,{value:"treatment",children:"En traitement"}),r.jsx(z,{value:"urgent",children:"Urgent"})]})]})]})]})]}),j==="cards"?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:se.map(te=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-16 w-16",children:te.photo?r.jsx(dl,{src:te.photo,alt:te.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-8 w-8"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:te.name}),r.jsx("p",{className:"text-muted-foreground",children:te.breed}),r.jsx(Le,{variant:"outline",className:U3[te.status],children:te.status==="healthy"?"En bonne sant":te.status==="treatment"?"En traitement":"Urgent"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",te.type]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"ge:"})," ",te.birthDate?af(te.birthDate):"Non renseign"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Poids:"})," ",te.weight]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Couleur:"})," ",te.color]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Propritaire: ",typeof te.owner=="string"?te.owner:(()=>{const G=n.find(M=>String(M.id)===String(te.ownerId));return G?`${G.first_name} ${G.last_name}`:"Non spcifi"})()]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Dernire visite: ",te.lastVisit?new Date(te.lastVisit).toLocaleDateString("fr-FR"):"Aucune"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Consultations: ",u(te.id).length]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Vaccinations:"}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:(()=>{const G=d(te.id);return G.length>0?G.map(M=>r.jsx(Le,{variant:"outline",className:"text-xs",children:M.vaccin},M.id)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucune vaccination enregistre"})})()})]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>re(te),children:[r.jsx(wr,{className:"h-4 w-4"}),"Voir"]}),r.jsxs(V,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>K(te),children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>ge(te),children:"Dossier Mdical"}),r.jsxs(V,{size:"sm",className:"flex-1",onClick:()=>{k(te),D(!0)},children:[r.jsx(br,{className:"h-4 w-4 mr-2"}),"Consultation"]})]})]})})},te.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"ge"}),r.jsx("th",{className:"p-4 font-medium",children:"Propritaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Dernire visite"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:se.map(te=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:te.photo?r.jsx(dl,{src:te.photo,alt:te.name}):r.jsx(Kr,{className:"bg-primary-glow text-primary-foreground",children:r.jsx(qt,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:te.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:te.breed})]})]})}),r.jsx("td",{className:"p-4",children:te.type}),r.jsx("td",{className:"p-4",children:te.birthDate?af(te.birthDate):"Non renseign"}),r.jsx("td",{className:"p-4",children:typeof te.owner=="string"?te.owner:(()=>{const G=n.find(M=>String(M.id)===String(te.ownerId));return G?`${G.first_name} ${G.last_name}`:"Non spcifi"})()}),r.jsx("td",{className:"p-4",children:r.jsx(Le,{variant:"outline",className:U3[te.status],children:te.status==="healthy"?"En bonne sant":te.status==="treatment"?"En traitement":"Urgent"})}),r.jsx("td",{className:"p-4",children:te.lastVisit?new Date(te.lastVisit).toLocaleDateString("fr-FR"):"Aucune"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>re(te),children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>K(te),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ge(te),children:"Dossier"})]})})]},te.id))})]})})})}),I&&r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Ma,{className:"h-5 w-5"}),"Statistiques mdicales - ",I.name]})}),r.jsx(he,{children:r.jsx(e5e,{pet:I,consultations:F})})]}),r.jsx(wv,{open:A,onOpenChange:P}),r.jsx(nm,{open:E,onOpenChange:D}),r.jsx(DV,{open:O,onOpenChange:U,pet:I,onEdit:ee,onShowDossier:xe}),r.jsx(wt,{open:B,onOpenChange:ne,children:r.jsxs(vt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Modifier Animal"}),r.jsx(un,{children:"Modifiez les informations de l'animal."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"name",children:"Nom *"}),r.jsx(ae,{id:"name",value:$.name,onChange:te=>le(G=>({...G,name:te.target.value})),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"species",children:"Espce *"}),r.jsxs(Me,{value:$.species,onValueChange:te=>le(G=>({...G,species:te})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner l'espce"})}),r.jsxs(De,{children:[r.jsx(z,{value:"Chien",children:"Chien"}),r.jsx(z,{value:"Chat",children:"Chat"}),r.jsx(z,{value:"Oiseau",children:"Oiseau"}),r.jsx(z,{value:"Lapin",children:"Lapin"}),r.jsx(z,{value:"Furet",children:"Furet"}),r.jsx(z,{value:"Autre",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"client_id",children:"Propritaire *"}),r.jsxs(Me,{value:$.client_id,onValueChange:te=>le(G=>({...G,client_id:te})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le propritaire"})}),r.jsx(De,{children:n.map(te=>r.jsxs(z,{value:te.id,children:[te.first_name," ",te.last_name]},te.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"breed",children:"Race"}),r.jsx(ae,{id:"breed",value:$.breed||"",onChange:te=>le(G=>({...G,breed:te.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"sex",children:"Sexe"}),r.jsxs(Me,{value:$.sex,onValueChange:te=>le(G=>({...G,sex:te})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le sexe"})}),r.jsxs(De,{children:[r.jsx(z,{value:"Mle",children:"Mle"}),r.jsx(z,{value:"Femelle",children:"Femelle"}),r.jsx(z,{value:"Inconnu",children:"Inconnu"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"birth_date",children:"Date de naissance"}),r.jsx(ae,{id:"birth_date",type:"date",value:$.birth_date||"",onChange:te=>le(G=>({...G,birth_date:te.target.value||void 0}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ae,{id:"weight",type:"number",step:"0.1",value:$.weight||"",onChange:te=>le(G=>({...G,weight:te.target.value?parseFloat(te.target.value):void 0}))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"color",children:"Couleur"}),r.jsx(ae,{id:"color",value:$.color||"",onChange:te=>le(G=>({...G,color:te.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"microchip_number",children:"N puce lectronique"}),r.jsx(ae,{id:"microchip_number",value:$.microchip_number||"",onChange:te=>le(G=>({...G,microchip_number:te.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes mdicales"}),r.jsx(mt,{id:"notes",value:$.notes||"",onChange:te=>le(G=>({...G,notes:te.target.value})),placeholder:"Notes additionnelles..."})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>ne(!1),children:"Annuler"}),r.jsxs(V,{onClick:be,disabled:a.isPending,children:[a.isPending&&r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarder"]})]})]})]})}),r.jsx(ZFe,{open:Y,onOpenChange:J,pet:I})]})},r5e=()=>r.jsx(n5e,{});function s5e({open:e,onOpenChange:t}){const{data:n=[]}=zc(),{data:s=[]}=Vc(),i=jV(),{toast:a}=It(),[o,l]=w.useState({clientId:"",animalId:"",date:"",time:"",appointmentType:"consultation",notes:""}),[c,u]=w.useState([]),d=async g=>{if(g.preventDefault(),!o.clientId||!o.animalId||!o.date||!o.time){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}try{const x=new Date(`${o.date}T${o.time}:00`);await i.mutateAsync({client_id:o.clientId,animal_id:o.animalId,appointment_date:x.toISOString(),appointment_type:o.appointmentType,notes:o.notes||void 0,duration_minutes:30}),a({title:"Succs",description:"Rendez-vous cr avec succs"}),l({clientId:"",animalId:"",date:"",time:"",appointmentType:"consultation",notes:""}),u([]),t(!1)}catch(x){console.error("Error creating appointment:",x),a({title:"Erreur",description:"Impossible de crer le rendez-vous",variant:"destructive"})}},f=g=>{l(v=>({...v,clientId:g,animalId:""}));const x=s.filter(v=>v.client_id===g);u(x)},m=g=>`${g.first_name} ${g.last_name}`;return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"max-w-2xl",children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5"}),"Nouveau Rendez-vous"]}),r.jsx(un,{children:"Crer un nouveau rendez-vous pour un client et son animal"})]}),r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"client",children:"Client *"}),r.jsxs(Me,{value:o.clientId,onValueChange:f,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un client"})}),r.jsx(De,{children:n.map(g=>r.jsx(z,{value:g.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4"}),m(g)]})},g.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"animal",children:"Animal *"}),r.jsxs(Me,{value:o.animalId,onValueChange:g=>l(x=>({...x,animalId:g})),disabled:!o.clientId,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:o.clientId?"Slectionner un animal":"Slectionner d'abord un client"})}),r.jsx(De,{children:c.map(g=>r.jsx(z,{value:g.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4"}),g.name," (",g.species,")"]})},g.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"date",children:"Date *"}),r.jsx(ae,{id:"date",type:"date",value:o.date,onChange:g=>l(x=>({...x,date:g.target.value})),min:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"time",children:"Heure *"}),r.jsx(ae,{id:"time",type:"time",value:o.time,onChange:g=>l(x=>({...x,time:g.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"type",children:"Type de rendez-vous"}),r.jsxs(Me,{value:o.appointmentType,onValueChange:g=>l(x=>({...x,appointmentType:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"consultation",children:"Consultation"}),r.jsx(z,{value:"vaccination",children:"Vaccination"}),r.jsx(z,{value:"surgery",children:"Chirurgie"}),r.jsx(z,{value:"follow-up",children:"Contrle/Suivi"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(mt,{id:"notes",placeholder:"Notes additionnelles sur le rendez-vous...",value:o.notes,onChange:g=>l(x=>({...x,notes:g.target.value})),rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:i.isPending,children:i.isPending?"Cration...":"Crer le rendez-vous"})]})]})]})})}const i5e={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},a5e=(e,t,n)=>{let s;const i=i5e[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},o5e={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},l5e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},c5e={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u5e={date:Dh({formats:o5e,defaultWidth:"full"}),time:Dh({formats:l5e,defaultWidth:"full"}),dateTime:Dh({formats:c5e,defaultWidth:"full"})},d5e={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},h5e=(e,t,n,s)=>d5e[e],f5e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},m5e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},p5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},g5e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},v5e={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},x5e=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=s&&i.includes(s)?"re":"er":a="me",n+a},y5e=["MMM","MMMM"],j5e={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&y5e.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:x5e,era:ro({values:f5e,defaultWidth:"wide"}),quarter:ro({values:m5e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ro({values:p5e,defaultWidth:"wide"}),day:ro({values:g5e,defaultWidth:"wide"}),dayPeriod:ro({values:v5e,defaultWidth:"wide"})},b5e=/^(\d+)(ime|re|me|er|e)?/i,w5e=/\d+/i,N5e={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},S5e={any:[/^av/i,/^ap/i]},C5e={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},_5e={any:[/1/i,/2/i,/3/i,/4/i]},P5e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},A5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},E5e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},k5e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},T5e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},O5e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},D5e={ordinalNumber:QV({matchPattern:b5e,parsePattern:w5e,valueCallback:e=>parseInt(e)}),era:so({matchPatterns:N5e,defaultMatchWidth:"wide",parsePatterns:S5e,defaultParseWidth:"any"}),quarter:so({matchPatterns:C5e,defaultMatchWidth:"wide",parsePatterns:_5e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:so({matchPatterns:P5e,defaultMatchWidth:"wide",parsePatterns:A5e,defaultParseWidth:"any"}),day:so({matchPatterns:E5e,defaultMatchWidth:"wide",parsePatterns:k5e,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:T5e,defaultMatchWidth:"any",parsePatterns:O5e,defaultParseWidth:"any"})},Ki={code:"fr",formatDistance:a5e,formatLong:u5e,formatRelative:h5e,localize:j5e,match:D5e,options:{weekStartsOn:1,firstWeekContainsDate:4}},q3=(e,t)=>{switch(e){case"appointment":switch(t){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}case"vaccination":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}case"antiparasitic":switch(t){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}default:return"bg-gray-100 text-gray-800 border-gray-200"}},W3=(e,t)=>{switch(e){case"appointment":return r.jsx(Rn,{className:"h-3 w-3"});case"vaccination":return r.jsx(Zn,{className:"h-3 w-3"});case"antiparasitic":return r.jsx(qn,{className:"h-3 w-3"});default:return r.jsx(At,{className:"h-3 w-3"})}},zk=({events:e,onEventClick:t,onDateClick:n,onTimeSlotClick:s,showTimeSlots:i=!1,title:a="Calendrier",icon:o=r.jsx(At,{className:"h-5 w-5"})})=>{var A;const{settings:l}=Gt(),[c,u]=w.useState(new Date),[d,f]=w.useState(""),m=new Date(c.getFullYear(),c.getMonth(),1),g=new Date(c.getFullYear(),c.getMonth()+1,0),x=new Date(m);x.setDate(x.getDate()-m.getDay());const v=[],y=new Date(x);for(;y<=g||v.length<42;)v.push(new Date(y)),y.setDate(y.getDate()+1);const N=w.useMemo(()=>{const P={};return e.forEach(E=>{const D=E.date;P[D]||(P[D]=[]),P[D].push(E)}),P},[e]),j=w.useMemo(()=>!d||!i?[]:jE(d,l.scheduleSettings,[]),[d,i,l.scheduleSettings]),b=P=>{const E=new Date(c);E.setMonth(c.getMonth()+(P==="next"?1:-1)),u(E)},C=P=>{const E=Rt(P,"yyyy-MM-dd");f(E),n==null||n(E)},_=P=>{s&&d&&s(d,P)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs(de,{children:[r.jsx(Ae,{className:"pb-3 sm:pb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[r.jsxs(ke,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o,a]}),r.jsxs("div",{className:"flex items-center justify-between sm:gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>b("prev"),className:"flex-1 sm:flex-none",children:""}),r.jsx("span",{className:"font-medium text-sm sm:text-base px-2 sm:min-w-[140px] text-center",children:Rt(c,"MMMM yyyy",{locale:Ki})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>b("next"),className:"flex-1 sm:flex-none",children:""})]})]})}),r.jsxs(he,{className:"p-2 sm:p-6",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 sm:mb-4",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(P=>r.jsx("div",{className:"p-1 sm:p-2 text-center text-xs sm:text-sm font-medium text-gray-500",children:P},P))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:v.map((P,E)=>{const D=Rt(P,"yyyy-MM-dd"),I=N[D]||[],k=P.getMonth()===c.getMonth(),O=Hfe(P,new Date),U=D===d,B=Tfe(D,l.scheduleSettings);return r.jsxs("div",{className:`
                    min-h-[60px] sm:min-h-[80px] p-1 border rounded-lg relative cursor-pointer hover:bg-muted/50
                    ${k?"bg-white":"bg-gray-50"}
                    ${O?"ring-2 ring-blue-500":""}
                    ${U?"bg-blue-100 border-blue-300":""}
                    ${B?"":"opacity-50"}
                  `,onClick:()=>C(P),children:[r.jsx("div",{className:`text-xs sm:text-sm font-medium ${k?"text-gray-900":"text-gray-400"}`,children:P.getDate()}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1 mt-0.5 sm:mt-1",children:[I.slice(0,2).map((ne,Y)=>r.jsx("div",{className:`
                          text-xs p-0.5 sm:p-1 rounded text-center truncate border cursor-pointer
                          ${q3(ne.type,ne.status)}
                        `,title:`${ne.title}${ne.time?` - ${ne.time}`:""}${ne.clientName?` (${ne.clientName})`:""}`,onClick:J=>{J.stopPropagation(),t==null||t(ne)},children:r.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 justify-center",children:[W3(ne.type,ne.status),r.jsx("span",{className:"truncate text-xs",children:ne.title})]})},Y)),I.length>2&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",I.length-2]})]})]},E)})})]})]}),d&&r.jsxs(de,{children:[r.jsx(Ae,{className:"pb-3",children:r.jsx(ke,{className:"text-base sm:text-lg",children:Rt(new Date(d),"EEEE d MMMM yyyy",{locale:Ki})})}),r.jsxs(he,{className:"p-3 sm:p-6",children:[((A=N[d])==null?void 0:A.length)>0?r.jsx("div",{className:"space-y-3",children:N[d].map(P=>r.jsxs("div",{className:`
                      p-3 rounded-lg border cursor-pointer hover:shadow-sm
                      ${q3(P.type,P.status)}
                    `,onClick:()=>t==null?void 0:t(P),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[W3(P.type,P.status),r.jsx("span",{className:"font-medium",children:P.title})]}),r.jsx(Le,{variant:"outline",className:"text-xs",children:P.status})]}),P.time&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Rn,{className:"h-3 w-3"}),r.jsx("span",{children:P.time})]}),P.clientName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(Rr,{className:"h-3 w-3"}),r.jsx("span",{children:P.clientName})]}),P.petName&&r.jsxs("div",{className:"flex items-center gap-1 text-sm mt-1",children:[r.jsx(qt,{className:"h-3 w-3"}),r.jsx("span",{children:P.petName})]})]},P.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun vnement prvu pour cette date"}),i&&j.length>0&&r.jsxs("div",{className:"mt-4 sm:mt-6",children:[r.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Crneaux disponibles"}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-1 sm:gap-2",children:j.map(P=>r.jsxs(V,{variant:P.isAvailable?"outline":"ghost",size:"sm",disabled:!P.isAvailable,onClick:()=>_(P.time),className:"text-xs p-1 sm:p-2",children:[P.time,P.isLunchBreak&&r.jsx(Le,{variant:"secondary",className:"ml-1 text-xs hidden sm:inline",children:"Pause"})]},P.time))})]})]})]})]})},H3={scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800","no-show":"bg-orange-100 text-orange-800"},QS={scheduled:"Planifi",confirmed:"Confirm",completed:"Termin",cancelled:"Annul","no-show":"Absent"},G3={consultation:"Consultation gnrale",vaccination:"Vaccination",chirurgie:"Chirurgie",urgence:"Urgence",controle:"Contrle post-opratoire",sterilisation:"Strilisation",dentaire:"Soins dentaires"};function M5e(){const{data:e=[],isLoading:t,error:n}=yV(),s=jfe(),i=bfe(),{toast:a}=It(),{currentView:o}=wd("appointments"),[l,c]=w.useState(!1),[u,d]=w.useState(""),[f,m]=w.useState("all"),[g,x]=w.useState("all"),[v,y]=w.useState("all"),[N,j]=w.useState(new Date().toISOString().split("T")[0]),[b,C]=w.useState("list"),[_,A]=w.useState(o),[P,E]=w.useState(null),[D,I]=w.useState(""),k=fe=>new Date(fe).toLocaleDateString("fr-FR"),O=fe=>new Date(fe).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),U=fe=>new Date(fe.appointment_date).toISOString().split("T")[0],B=fe=>new Date(fe.appointment_date).toTimeString().slice(0,5),[ne,Y]=w.useState(()=>{const fe=new Date;return new Date(fe.getFullYear(),fe.getMonth(),1)}),J=fe=>fe.client?`${fe.client.first_name} ${fe.client.last_name}`:"Unknown Client",q=fe=>{var Pe;return((Pe=fe.animal)==null?void 0:Pe.name)||"Unknown Animal"},$=()=>{const fe=new Date;return e.filter(Pe=>new Date(Pe.appointment_date)>fe)},le=()=>{const fe=new Date;return e.filter(Pe=>new Date(Pe.appointment_date)<fe&&Pe.status==="scheduled")},se=$(),re=le(),K=e.filter(fe=>{const Pe=J(fe),Ze=q(fe),at=Pe.toLowerCase().includes(u.toLowerCase())||Ze.toLowerCase().includes(u.toLowerCase())||fe.notes&&fe.notes.toLowerCase().includes(u.toLowerCase()),dt=f==="all"||fe.status===f,Se=g==="all"||fe.appointment_type===g;let qe=!0;const We=new Date(fe.appointment_date),Ft=We.toISOString().split("T")[0];if(v==="today")qe=Ft===new Date().toISOString().split("T")[0];else if(v==="week"){const xn=new Date,_t=new Date(xn.getTime()+7*24*60*60*1e3);qe=We>=xn&&We<=_t}else if(v==="month"){const xn=new Date,_t=xn.getMonth(),fn=xn.getFullYear();qe=We.getMonth()===_t&&We.getFullYear()===fn}else v==="specific"&&(qe=Ft===N);return at&&dt&&Se&&qe}),ee=async(fe,Pe)=>{try{await s.mutateAsync({id:fe,data:{status:Pe}}),a({title:"Statut mis  jour",description:`Le rendez-vous est maintenant ${QS[Pe].toLowerCase()}.`})}catch{a({title:"Erreur",description:"Impossible de mettre  jour le statut",variant:"destructive"})}},ge=async()=>{if(!P)return;const{id:fe,field:Pe}=P;if(e.find(at=>at.id===fe))try{await s.mutateAsync({id:fe,data:{[Pe]:D}}),a({title:"Modifi",description:`${Pe} mis  jour`})}catch{a({title:"Erreur",description:"Impossible de mettre  jour",variant:"destructive"})}E(null)},xe=async fe=>{const Pe=q(fe);if(confirm(`tes-vous sr de vouloir supprimer le rendez-vous pour ${Pe} ?`))try{await i.mutateAsync(fe.id),a({title:"Rendez-vous supprim",description:`Le rendez-vous pour ${Pe} a t supprim.`})}catch{a({title:"Erreur",description:"Impossible de supprimer le rendez-vous",variant:"destructive"})}},be=fe=>e.filter(Pe=>new Date(Pe.appointment_date).toISOString().split("T")[0]===fe),X=(()=>{const fe=new Date().toISOString().split("T")[0];return be(fe)})(),te=ne.getFullYear(),G=ne.getMonth(),M=new Date(te,G,1).getDay(),ye=new Date(te,G+1,0).getDate();let Ne=1-M;for(;Ne<=ye;){const fe=[];for(let Pe=0;Pe<7;Pe++)Ne>0&&Ne<=ye?fe.push(Ne):fe.push(0),Ne++}return t?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Chargement des rendez-vous..."})]})}):n?r.jsx("div",{className:"p-6",children:r.jsx(de,{className:"border-red-200 bg-red-50",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center text-red-800",children:[r.jsx(Or,{className:"w-5 h-5 mr-2"}),r.jsxs("span",{children:["Erreur lors du chargement des rendez-vous: ",n.message]})]})})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Rendez-vous"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Planifiez et grez tous vos rendez-vous vtrinaires"})]}),r.jsxs(V,{onClick:()=>c(!0),className:"gap-2 w-full sm:w-auto",children:[r.jsx(ft,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nouveau Rendez-vous"}),r.jsx("span",{className:"sm:hidden",children:"Nouveau RDV"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:b==="list"?"default":"outline",onClick:()=>C("list"),size:"sm",className:"flex-1 sm:flex-none",children:"Liste"}),r.jsx(V,{variant:b==="calendar"?"default":"outline",onClick:()=>C("calendar"),size:"sm",className:"flex-1 sm:flex-none",children:"Calendrier"})]}),b==="list"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:_==="cards"?"default":"outline",onClick:()=>A("cards"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(ol,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Cartes"})]}),r.jsxs(V,{size:"sm",variant:_==="table"?"default":"outline",onClick:()=>A("table"),className:"gap-1 sm:gap-2 flex-1 sm:flex-none",children:[r.jsx(ll,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Tableau"})]})]})]}),b==="calendar"?r.jsx(zk,{events:e.map(fe=>({id:parseInt(fe.id),type:"appointment",title:`${J(fe)} - ${q(fe)}`,time:B(fe),date:U(fe),status:fe.status,clientName:J(fe),petName:q(fe)})),onEventClick:fe=>{},onDateClick:fe=>{j(fe)},onTimeSlotClick:(fe,Pe)=>{c(!0)},showTimeSlots:!0,title:"Calendrier des Rendez-vous",icon:r.jsx(At,{className:"h-5 w-5"})}):r.jsxs("div",{className:"grid gap-2 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Aujourd'hui"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:X.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:" venir"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:se.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Or,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"En retard"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:re.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e.length})]})]})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs(ke,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(AA,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-3 sm:space-y-4",children:r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Recherche"}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ae,{placeholder:"Client, animal, motif...",value:u,onChange:fe=>d(fe.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Statut"}),r.jsxs(Me,{value:f,onValueChange:m,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous les statuts"}),r.jsx(z,{value:"scheduled",children:"Planifi"}),r.jsx(z,{value:"confirmed",children:"Confirm"}),r.jsx(z,{value:"completed",children:"Termin"}),r.jsx(z,{value:"cancelled",children:"Annul"}),r.jsx(z,{value:"no-show",children:"Absent"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Type"}),r.jsxs(Me,{value:g,onValueChange:x,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous les types"}),r.jsx(z,{value:"consultation",children:"Consultation"}),r.jsx(z,{value:"vaccination",children:"Vaccination"}),r.jsx(z,{value:"chirurgie",children:"Chirurgie"}),r.jsx(z,{value:"urgence",children:"Urgence"}),r.jsx(z,{value:"controle",children:"Contrle"}),r.jsx(z,{value:"sterilisation",children:"Strilisation"}),r.jsx(z,{value:"dentaire",children:"Dentaire"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Priode"}),r.jsxs(Me,{value:v,onValueChange:y,children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Toutes les dates"}),r.jsx(z,{value:"today",children:"Ce jour"}),r.jsx(z,{value:"week",children:"Cette semaine"}),r.jsx(z,{value:"month",children:"Ce mois"}),r.jsx(z,{value:"specific",children:"Date spcifique"})]})]})]}),v==="specific"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(up,{children:"Date"}),r.jsx(ae,{type:"date",value:N,onChange:fe=>j(fe.target.value)})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-xl font-semibold",children:["Rendez-vous (",K.length,")"]})}),K.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(At,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun rendez-vous trouv"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premier rendez-vous"})]})}):_==="cards"?r.jsx("div",{className:"space-y-4",children:K.sort((fe,Pe)=>new Date(fe.appointment_date).getTime()-new Date(Pe.appointment_date).getTime()).map(fe=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-4 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:J(fe)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:q(fe)})]}),r.jsx(Le,{className:H3[fe.status],children:QS[fe.status]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:k(fe.appointment_date)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:O(fe.appointment_date)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{className:"ml-1",children:G3[fe.appointment_type]||fe.appointment_type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Dure:"}),r.jsxs("span",{className:"ml-1",children:[fe.duration_minutes||30," min"]})]})]}),fe.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Motif:"}),r.jsx("p",{className:"text-sm mt-1",children:fe.notes})]}),fe.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Notes:"}),r.jsx("p",{className:"text-sm mt-1 text-muted-foreground",children:fe.notes})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[fe.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>ee(fe.id,"confirmed"),className:"gap-1",children:[r.jsx(Zn,{className:"h-3 w-3"}),"Confirmer"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>ee(fe.id,"cancelled"),className:"gap-1 text-red-600",children:[r.jsx(ig,{className:"h-3 w-3"}),"Annuler"]})]}),fe.status==="confirmed"&&r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>ee(fe.id,"completed"),className:"gap-1",children:[r.jsx(Zn,{className:"h-3 w-3"}),"Terminer"]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>xe(fe),className:"gap-1 text-red-600",children:[r.jsx(er,{className:"h-3 w-3"}),"Supprimer"]})]})]})})},fe.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Client / Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Date & Heure"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Motif"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:K.sort((fe,Pe)=>new Date(fe.appointment_date).getTime()-new Date(Pe.appointment_date).getTime()).map(fe=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:J(fe)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:q(fe)})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:fe.id,field:"date"}),I(U(fe))},children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===fe.id&&P.field==="date"?r.jsx(ae,{type:"date",value:D,onChange:Pe=>I(Pe.target.value),onBlur:ge,autoFocus:!0,className:"w-32"}):r.jsx("span",{children:k(fe.appointment_date)})]}),r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{E({id:fe.id,field:"time"}),I(B(fe))},children:[r.jsx(Rn,{className:"h-4 w-4 text-muted-foreground"}),(P==null?void 0:P.id)===fe.id&&P.field==="time"?r.jsx(ae,{type:"time",value:D,onChange:Pe=>I(Pe.target.value),onBlur:ge,autoFocus:!0,className:"w-24"}):r.jsx("span",{className:"text-sm text-muted-foreground",children:O(fe.appointment_date)})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:G3[fe.appointment_type]||fe.appointment_type}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[fe.duration_minutes||30," min"]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"cursor-pointer",onClick:()=>{E({id:fe.id,field:"status"}),I(fe.status)},children:(P==null?void 0:P.id)===fe.id&&P.field==="status"?r.jsxs(Me,{value:D,onValueChange:Pe=>{I(Pe),ee(fe.id,Pe),E(null)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"scheduled",children:"Planifi"}),r.jsx(z,{value:"confirmed",children:"Confirm"}),r.jsx(z,{value:"completed",children:"Termin"}),r.jsx(z,{value:"cancelled",children:"Annul"}),r.jsx(z,{value:"no-show",children:"Absent"})]})]}):r.jsx(Le,{className:H3[fe.status],children:QS[fe.status]})})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"max-w-xs cursor-pointer",onClick:()=>{E({id:fe.id,field:"reason"}),I(fe.notes||"")},children:(P==null?void 0:P.id)===fe.id&&P.field==="reason"?r.jsx(ae,{value:D,onChange:Pe=>I(Pe.target.value),onBlur:ge,autoFocus:!0,placeholder:"Motif du rendez-vous"}):r.jsxs(r.Fragment,{children:[fe.notes&&r.jsx("div",{className:"text-sm",children:fe.notes}),fe.notes&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:fe.notes})]})})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[fe.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ee(fe.id,"confirmed"),children:r.jsx(Zn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ee(fe.id,"cancelled"),className:"text-red-600",children:r.jsx(ig,{className:"h-3 w-3"})})]}),fe.status==="confirmed"&&r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ee(fe.id,"completed"),children:r.jsx(Zn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>xe(fe),className:"text-red-600",children:r.jsx(er,{className:"h-3 w-3"})})]})})]},fe.id))})]})})})})]}),r.jsx(s5e,{open:l,onOpenChange:c})]})}const up=({children:e,...t})=>r.jsx("label",{className:"text-sm font-medium",...t,children:e});function I5e({open:e,onOpenChange:t,consultation:n}){const{data:s=[]}=zc(),{data:i=[]}=Vc(),a=xV(),{toast:o}=It(),{settings:l}=Gt(),[c,u]=w.useState({client_id:"",animal_id:"",consultation_date:"",consultation_type:"routine",weight:"",temperature:"",symptoms:"",diagnosis:"",treatment:"",notes:"",cost:"",follow_up_date:"",follow_up_notes:"",status:"completed"}),d=i.filter(x=>x.client_id===c.client_id);w.useEffect(()=>{var x,v,y;n&&e&&u({client_id:n.client_id||"",animal_id:n.animal_id||"",consultation_date:n.consultation_date?n.consultation_date.split("T")[0]:"",consultation_type:n.consultation_type||"routine",weight:((x=n.weight)==null?void 0:x.toString())||"",temperature:((v=n.temperature)==null?void 0:v.toString())||"",symptoms:n.symptoms||"",diagnosis:n.diagnosis||"",treatment:n.treatment||"",notes:n.notes||"",cost:((y=n.cost)==null?void 0:y.toString())||"",follow_up_date:n.follow_up_date||"",follow_up_notes:n.follow_up_notes||"",status:n.status||"completed"})},[n,e]);const f=x=>{u(v=>({...v,[x.target.id]:x.target.value}))},m=(x,v)=>{u(y=>({...y,[x]:v})),x==="client_id"&&u(y=>({...y,animal_id:""}))},g=async x=>{if(x.preventDefault(),!!n){if(!c.client_id||!c.animal_id){o({title:"Erreur",description:"Veuillez slectionner un client et un animal.",variant:"destructive"});return}try{const v={client_id:c.client_id,animal_id:c.animal_id,consultation_date:c.consultation_date+"T00:00:00.000Z",consultation_type:c.consultation_type,symptoms:c.symptoms||void 0,diagnosis:c.diagnosis||void 0,treatment:c.treatment||void 0,notes:c.notes||void 0,weight:c.weight?parseFloat(c.weight):void 0,temperature:c.temperature?parseFloat(c.temperature):void 0,cost:c.cost?parseFloat(c.cost):void 0,follow_up_date:c.follow_up_date||null,follow_up_notes:c.follow_up_notes||void 0,status:c.status};await a.mutateAsync({id:n.id,data:v}),o({title:"Consultation modifie",description:"La consultation a t modifie avec succs."}),t(!1)}catch(v){console.error("Error updating consultation:",v),o({title:"Erreur",description:"Une erreur est survenue lors de la modification de la consultation.",variant:"destructive"})}}};return s.find(x=>x.id===c.client_id),i.find(x=>x.id===c.animal_id),r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Modifier la consultation"}),r.jsx(un,{children:"Modifiez les informations de la consultation"})]}),r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"client_id",children:"Client *"}),r.jsxs(Me,{value:c.client_id,onValueChange:x=>m("client_id",x),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un client"})}),r.jsx(De,{children:s.map(x=>r.jsxs(z,{value:x.id,children:[x.first_name," ",x.last_name]},x.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"animal_id",children:"Animal *"}),r.jsxs(Me,{value:c.animal_id,onValueChange:x=>m("animal_id",x),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un animal"})}),r.jsx(De,{children:d.map(x=>r.jsxs(z,{value:x.id,children:[x.name," (",x.species,")"]},x.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"consultation_date",children:"Date de consultation *"}),r.jsx(ae,{id:"consultation_date",type:"date",value:c.consultation_date,onChange:f,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"consultation_type",children:"Type de consultation"}),r.jsxs(Me,{value:c.consultation_type,onValueChange:x=>m("consultation_type",x),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"routine",children:"Routine"}),r.jsx(z,{value:"emergency",children:"Urgence"}),r.jsx(z,{value:"follow-up",children:"Suivi"}),r.jsx(z,{value:"vaccination",children:"Vaccination"}),r.jsx(z,{value:"surgery",children:"Chirurgie"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"weight",children:"Poids (kg)"}),r.jsx(ae,{id:"weight",type:"number",step:"0.1",placeholder:"Ex: 5.2",value:c.weight,onChange:f})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"temperature",children:"Temprature (C)"}),r.jsx(ae,{id:"temperature",type:"number",step:"0.1",placeholder:"Ex: 38.5",value:c.temperature,onChange:f})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"symptoms",children:"Symptmes"}),r.jsx(mt,{id:"symptoms",placeholder:"Dcrivez les symptmes observs...",value:c.symptoms,onChange:f,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"diagnosis",children:"Diagnostic"}),r.jsx(mt,{id:"diagnosis",placeholder:"Diagnostic pos...",value:c.diagnosis,onChange:f,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"treatment",children:"Traitement"}),r.jsx(mt,{id:"treatment",placeholder:"Traitement prescrit...",value:c.treatment,onChange:f,rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(L,{htmlFor:"cost",children:["Cot (",l.currency,")"]}),r.jsx(ae,{id:"cost",type:"number",step:"0.01",placeholder:"0.00",value:c.cost,onChange:f})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"follow_up_date",children:"Date de suivi"}),r.jsx(ae,{id:"follow_up_date",type:"date",value:c.follow_up_date,onChange:f})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"follow_up_notes",children:"Notes de suivi"}),r.jsx(mt,{id:"follow_up_notes",placeholder:"Notes pour le suivi...",value:c.follow_up_notes,onChange:f,rows:2})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes supplmentaires"}),r.jsx(mt,{id:"notes",placeholder:"Notes supplmentaires...",value:c.notes,onChange:f,rows:2})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:c.status,onValueChange:x=>m("status",x),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"scheduled",children:"Programm"}),r.jsx(z,{value:"in-progress",children:"En cours"}),r.jsx(z,{value:"completed",children:"Termin"}),r.jsx(z,{value:"cancelled",children:"Annul"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",disabled:a.isPending,children:a.isPending?"Modification...":"Modifier"})]})]})]})})}function K3({consultation:e}){const{settings:t}=Gt(),n=()=>{var s,i,a,o,l,c,u,d,f;try{const m=window.open("",`print_consultation_${e.id}`,"height=800,width=800");if(!m){alert("L'impression a t bloque par le navigateur. Veuillez autoriser les popups pour ce site.");return}const g=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Consultation - ${((s=e.animal)==null?void 0:s.name)||"Animal"}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.6;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
              margin-bottom: 20px;
            }
            .clinic-info {
              text-align: center;
              color: #666;
              margin-bottom: 30px;
            }
            .consultation-info {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 30px;
            }
            .info-section {
              border: 1px solid #ddd;
              padding: 15px;
              border-radius: 5px;
            }
            .info-title {
              font-weight: bold;
              color: #333;
              margin-bottom: 10px;
              font-size: 14px;
              text-transform: uppercase;
            }
            .info-content {
              color: #666;
            }
            .medical-section {
              margin-bottom: 20px;
            }
            .medical-title {
              font-weight: bold;
              color: #333;
              margin-bottom: 8px;
              border-bottom: 1px solid #eee;
              padding-bottom: 4px;
            }
            .medical-content {
              color: #666;
              margin-bottom: 15px;
            }
            .vitals {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 15px;
              margin-bottom: 20px;
            }
            .vital-item {
              text-align: center;
              padding: 10px;
              border: 1px solid #ddd;
              border-radius: 5px;
            }
            .vital-label {
              font-size: 12px;
              color: #666;
              margin-bottom: 5px;
            }
            .vital-value {
              font-size: 18px;
              font-weight: bold;
              color: #333;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              color: #666;
              font-size: 12px;
              border-top: 1px solid #ddd;
              padding-top: 20px;
            }
            @media print {
              body { 
                margin: 0; 
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
              .header { page-break-after: avoid; }
              @page { size: auto; margin: 10mm; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>${t.clinicName||"Clinique Vtrinaire"}</h1>
            <div class="clinic-info">
              <p>${t.address||""}</p>
              <p>Tl: ${t.phone||""} | Email: ${t.email||""}</p>
            </div>
            <h2>Rapport de Consultation</h2>
          </div>

          <div class="consultation-info">
            <div class="info-section">
              <div class="info-title">Informations Client</div>
              <div class="info-content">
                <strong>Nom:</strong> ${((i=e.client)==null?void 0:i.first_name)||""} ${((a=e.client)==null?void 0:a.last_name)||""}<br>
                <strong>Tlphone:</strong> ${((o=e.client)==null?void 0:o.phone)||"N/A"}<br>
                <strong>Email:</strong> ${((l=e.client)==null?void 0:l.email)||"N/A"}
              </div>
            </div>
            
            <div class="info-section">
              <div class="info-title">Informations Animal</div>
              <div class="info-content">
                <strong>Nom:</strong> ${((c=e.animal)==null?void 0:c.name)||"N/A"}<br>
                <strong>Espce:</strong> ${((u=e.animal)==null?void 0:u.species)||"N/A"}<br>
                <strong>Race:</strong> ${((d=e.animal)==null?void 0:d.breed)||"N/A"}<br>
                <strong>ge:</strong> ${(f=e.animal)!=null&&f.birth_date?Math.floor((new Date().getTime()-new Date(e.animal.birth_date).getTime())/(365.25*24*60*60*1e3))+" ans":"N/A"}
              </div>
            </div>
          </div>

          <div class="info-section" style="margin-bottom: 20px;">
            <div class="info-title">Dtails de la Consultation</div>
            <div class="info-content">
              <strong>Date:</strong> ${new Date(e.consultation_date).toLocaleDateString("fr-FR")}<br>
              <strong>Type:</strong> ${e.consultation_type||"Routine"}<br>
              <strong>Statut:</strong> ${e.status||"Termin"}
            </div>
          </div>

          ${e.weight||e.temperature||e.heart_rate||e.respiratory_rate?`
          <div class="vitals">
            ${e.weight?`
            <div class="vital-item">
              <div class="vital-label">Poids</div>
              <div class="vital-value">${e.weight} kg</div>
            </div>
            `:""}
            ${e.temperature?`
            <div class="vital-item">
              <div class="vital-label">Temprature</div>
              <div class="vital-value">${e.temperature}C</div>
            </div>
            `:""}
            ${e.heart_rate?`
            <div class="vital-item">
              <div class="vital-label">Frquence Cardiaque</div>
              <div class="vital-value">${e.heart_rate} bpm</div>
            </div>
            `:""}
            ${e.respiratory_rate?`
            <div class="vital-item">
              <div class="vital-label">Frquence Respiratoire</div>
              <div class="vital-value">${e.respiratory_rate}/min</div>
            </div>
            `:""}
          </div>
          `:""}

          ${e.symptoms?`
          <div class="medical-section">
            <div class="medical-title">Symptmes</div>
            <div class="medical-content">${e.symptoms}</div>
          </div>
          `:""}

          ${e.diagnosis?`
          <div class="medical-section">
            <div class="medical-title">Diagnostic</div>
            <div class="medical-content">${e.diagnosis}</div>
          </div>
          `:""}

          ${e.treatment?`
          <div class="medical-section">
            <div class="medical-title">Traitement</div>
            <div class="medical-content">${e.treatment}</div>
          </div>
          `:""}

          ${e.notes?`
          <div class="medical-section">
            <div class="medical-title">Notes</div>
            <div class="medical-content">${e.notes}</div>
          </div>
          `:""}

          ${e.follow_up_date?`
          <div class="medical-section">
            <div class="medical-title">Suivi Programm</div>
            <div class="medical-content">
              <strong>Date:</strong> ${new Date(e.follow_up_date).toLocaleDateString("fr-FR")}<br>
              ${e.follow_up_notes?`<strong>Notes:</strong> ${e.follow_up_notes}`:""}
            </div>
          </div>
          `:""}

          ${e.cost?`
          <div class="medical-section">
            <div class="medical-title">Cot de la Consultation</div>
            <div class="medical-content">
              <strong>${e.cost} ${t.currency||"EUR"}</strong>
            </div>
          </div>
          `:""}

          <div class="footer">
            <p>Rapport gnr le ${new Date().toLocaleDateString("fr-FR")}  ${new Date().toLocaleTimeString("fr-FR")}</p>
            <p>Vtrinaire: ${e.veterinarian_id||"N/A"}</p>
          </div>
        </body>
      </html>
    `;m.document.open(),m.document.write(g),m.document.close(),m.onload=function(){try{setTimeout(()=>{m.focus(),m.print(),typeof m.onafterprint=="function"?m.onafterprint=function(){try{m.close()}catch(x){console.error("Error closing print window:",x)}}:setTimeout(()=>{try{m.close()}catch(x){console.error("Error closing print window after timeout:",x)}},2e3)},500)}catch(x){console.error("Error during print process:",x),alert("Une erreur s'est produite lors de l'impression. Veuillez ressayer.")}}}catch(m){console.error("Error in print function:",m),alert("Une erreur s'est produite lors de la prparation de l'impression. Veuillez ressayer.")}};return r.jsxs(V,{size:"sm",variant:"outline",onClick:n,className:"gap-1",children:[r.jsx(hb,{className:"h-3 w-3"}),"Imprimer"]})}const vm=w.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:et("w-full caption-bottom text-sm",e),...t})}));vm.displayName="Table";const xm=w.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:et("[&_tr]:border-b",e),...t}));xm.displayName="TableHeader";const ym=w.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:et("[&_tr:last-child]:border-0",e),...t}));ym.displayName="TableBody";const $5e=w.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$5e.displayName="TableFooter";const za=w.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));za.displayName="TableRow";const kt=w.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:et("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));kt.displayName="TableHead";const Tt=w.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:et("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Tt.displayName="TableCell";const R5e=w.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:et("mt-4 text-sm text-muted-foreground",e),...t}));R5e.displayName="TableCaption";const L5e=()=>{const{data:e=[],isLoading:t}=gV(),{data:n=[]}=pfe();vV(),xV(),hfe();const{settings:s}=Gt();It();const{currentView:i}=wd("consultations"),[a,o]=w.useState(""),[l,c]=w.useState("all"),[u,d]=w.useState(i),[f,m]=w.useState(!1),[g,x]=w.useState(!1),[v,y]=w.useState(null),[N,j]=w.useState(null),[b,C]=w.useState(!1),[_,A]=w.useState(null),[P,E]=w.useState(null),[D,I]=w.useState(!1),[k,O]=w.useState([]),[U,B]=w.useState(""),ne=se=>n.filter(re=>re.consultation_id===se),Y=e.filter(se=>{var F,X,te;const re=`${((F=se.client)==null?void 0:F.first_name)||""} ${((X=se.client)==null?void 0:X.last_name)||""}`.trim(),K=((te=se.animal)==null?void 0:te.name)||"",ee=re.toLowerCase().includes(a.toLowerCase())||K.toLowerCase().includes(a.toLowerCase())||se.symptoms&&se.symptoms.toLowerCase().includes(a.toLowerCase())||se.diagnosis&&se.diagnosis.toLowerCase().includes(a.toLowerCase());if(l==="all")return ee;const ge=new Date(se.consultation_date),be=(new Date().getTime()-ge.getTime())/(1e3*3600*24);switch(l){case"week":return ee&&be<=7;case"month":return ee&&be<=30;case"quarter":return ee&&be<=90;default:return ee}}),J=se=>{y(se),x(!0)},q=se=>{A(se.animal_id),E(se.id),C(!0)},$=se=>{j({clientId:se.client_id,animalId:se.animal_id,consultation_date:new Date().toISOString(),consultation_type:"follow-up",symptoms:"",diagnosis:"",treatment:"",notes:`Suivi de la consultation du ${new Date(se.consultation_date).toLocaleDateString("fr-FR")}`,status:"scheduled"}),m(!0)},le=se=>{var K;const re=ne(se.id);O(re),B(((K=se.animal)==null?void 0:K.name)||"Animal inconnu"),I(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Consultations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Grez et consultez tous les dossiers mdicaux"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex border rounded-lg p-1",children:[r.jsx(V,{variant:u==="cards"?"default":"ghost",size:"sm",onClick:()=>d("cards"),className:"px-3",children:r.jsx(ol,{className:"h-4 w-4"})}),r.jsx(V,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>d("table"),className:"px-3",children:r.jsx(ll,{className:"h-4 w-4"})})]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>m(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Consultation"]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ae,{placeholder:"Rechercher par client, animal, symptmes ou diagnostic...",value:a,onChange:se=>o(se.target.value),className:"max-w-md"}),r.jsxs(Me,{value:l,onValueChange:c,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Priode"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Toutes les priodes"}),r.jsx(z,{value:"week",children:"Cette semaine"}),r.jsx(z,{value:"month",children:"Ce mois"}),r.jsx(z,{value:"quarter",children:"Ce trimestre"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Consultations rcentes (",Y.length,")"]}),Y.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(tr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune consultation trouve"}),r.jsx("p",{className:"text-sm",children:"Commencez par crer votre premire consultation"})]})}):u==="cards"?Y.map(se=>{var re,K,ee;return r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:((re=se.animal)==null?void 0:re.name)||"Animal inconnu"}),r.jsx(Le,{variant:"secondary",children:"Consultation"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(se.consultation_date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rr,{className:"h-4 w-4"}),(K=se.client)==null?void 0:K.first_name," ",(ee=se.client)==null?void 0:ee.last_name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"h-3 w-3"}),"Consultation #",se.id]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[se.temperature&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ag,{className:"h-4 w-4 text-primary"}),se.temperature,"C"]}),se.weight&&r.jsxs("span",{children:[se.weight," kg"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[se.symptoms&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Symptmes:"}),r.jsx("p",{className:"text-sm",children:se.symptoms})]}),se.diagnosis&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Diagnostic:"}),r.jsx("p",{className:"text-sm",children:se.diagnosis})]})]}),r.jsxs("div",{className:"space-y-2",children:[se.treatment&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{className:"font-medium",children:"Traitement:"}),r.jsx("p",{className:"text-sm",children:se.treatment})]}),(()=>{const ge=ne(se.id);return ge.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("h5",{className:"font-medium flex items-center gap-1",children:[r.jsx(Hl,{className:"h-4 w-4"}),"Prescriptions (",ge.length,"):"]}),r.jsx("div",{className:"space-y-1",children:ge.map(xe=>r.jsxs("div",{className:"text-sm bg-blue-50 p-2 rounded border-l-2 border-blue-200",children:[r.jsxs("div",{className:"font-medium text-blue-800",children:["Prescription #",xe.id.slice(-8)]}),r.jsxs("div",{className:"text-blue-600 text-xs",children:[new Date(xe.prescription_date).toLocaleDateString("fr-FR")," - Status: ",xe.status]}),xe.medications&&xe.medications.length>0&&r.jsxs("div",{className:"mt-1",children:[r.jsx("div",{className:"text-xs font-medium text-blue-700",children:"Mdicaments:"}),xe.medications.map((be,F)=>r.jsxs("div",{className:"text-xs text-blue-600 ml-2",children:[" ",be.medication_name," ",be.dosage&&`- ${be.dosage}`," ",be.quantity&&`(${be.quantity})`]},F))]})]},xe.id))})]})})()]})]}),se.notes&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:se.notes})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.jsx(At,{className:"h-3 w-3 inline mr-1"}),se.followUp?`Suivi: ${se.followUp}`:"Aucun suivi prvu"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(K3,{consultation:se}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>J(se),className:"gap-1",children:[r.jsx(tn,{className:"h-3 w-3"}),"Modifier"]}),r.jsxs(V,{size:"sm",variant:"default",onClick:()=>q(se),className:"gap-1",children:[r.jsx(Hl,{className:"h-3 w-3"}),"Prescription"]}),r.jsx(V,{size:"sm",onClick:()=>$(se),children:"Nouveau suivi"})]})]})]})})},se.id)}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(kt,{children:"Animal / Client"}),r.jsx(kt,{children:"Date"}),r.jsx(kt,{children:"Symptmes"}),r.jsx(kt,{children:"Diagnostic"}),r.jsx(kt,{children:"Temprature"}),r.jsx(kt,{children:"Prescriptions"}),r.jsx(kt,{children:"Cot"}),r.jsx(kt,{children:"Actions"})]})}),r.jsx(ym,{children:Y.map(se=>{var re,K,ee;return r.jsxs(za,{children:[r.jsx(Tt,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:(re=se.animal)==null?void 0:re.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[(K=se.client)==null?void 0:K.first_name," ",(ee=se.client)==null?void 0:ee.last_name]})]})}),r.jsx(Tt,{children:new Date(se.consultation_date).toLocaleDateString("fr-FR")}),r.jsx(Tt,{children:r.jsx("div",{className:"max-w-xs truncate",children:se.symptoms||"-"})}),r.jsx(Tt,{children:r.jsx("div",{className:"max-w-xs truncate",children:se.diagnosis||"-"})}),r.jsx(Tt,{children:se.temperature?`${se.temperature}C`:"-"}),r.jsx(Tt,{children:(()=>{const ge=ne(se.id);return ge.length>0?r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-blue-50 p-1 rounded transition-colors",onClick:()=>le(se),title:"Cliquer pour voir les dtails des prescriptions",children:[r.jsxs(Le,{variant:"outline",className:"text-xs",children:[ge.length," prescription",ge.length>1?"s":""]}),r.jsx(wr,{className:"h-3 w-3 text-blue-600 hover:text-blue-800"})]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:ge.map(xe=>r.jsxs("div",{className:"truncate max-w-32",children:["#",xe.id.slice(-6)," - ",xe.status]},xe.id))})]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"Aucune"})})()}),r.jsx(Tt,{children:se.cost?`${se.cost} ${s.currency}`:"-"}),r.jsx(Tt,{children:r.jsxs("div",{className:"flex gap-1 flex-wrap",children:[r.jsx(K3,{consultation:se}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>J(se),title:"Modifier",children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"default",onClick:()=>q(se),title:"Nouvelle Prescription",children:r.jsx(Hl,{className:"h-3 w-3"})}),(()=>{const ge=ne(se.id);return ge.length>0&&r.jsxs(V,{size:"sm",variant:"ghost",onClick:()=>le(se),className:"text-blue-600 hover:text-blue-700",title:"Voir les prescriptions",children:[r.jsx(tr,{className:"h-3 w-3"}),r.jsx("span",{className:"text-xs ml-1",children:ge.length})]})})()]})})]},se.id)})})]})})})]}),r.jsx(nm,{open:f,onOpenChange:se=>{m(se),se||j(null)},prefillData:N||void 0}),r.jsx(I5e,{open:g,onOpenChange:x,consultation:v}),_&&P&&r.jsx(Fk,{open:b,onOpenChange:C,petId:_,consultationId:P}),r.jsx(wt,{open:D,onOpenChange:I,children:r.jsxs(vt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"h-5 w-5 text-blue-600"}),"Prescriptions pour ",U]}),r.jsxs(un,{children:["Dtails des ",k.length," prescription",k.length>1?"s":""," associe",k.length>1?"s":"","  cette consultation"]})]}),r.jsxs("div",{className:"space-y-6",children:[k.map((se,re)=>r.jsxs(de,{className:"border-l-4 border-l-blue-500",children:[r.jsxs(Ae,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ke,{className:"text-lg text-blue-800",children:["Prescription #",se.id.slice(-8)]}),r.jsx(Le,{variant:se.status==="active"?"default":se.status==="completed"?"secondary":"destructive",className:"text-xs",children:se.status})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[" Date: ",new Date(se.prescription_date).toLocaleDateString("fr-FR"),"  ",new Date(se.prescription_date).toLocaleTimeString("fr-FR"),se.valid_until&&r.jsxs("span",{className:"ml-4",children:[" Valide jusqu'au: ",new Date(se.valid_until).toLocaleDateString("fr-FR")]})]})]}),r.jsxs(he,{className:"space-y-4",children:[se.diagnosis&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-1",children:" Diagnostic:"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:se.diagnosis})]}),se.medications&&se.medications.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:[" Mdicaments (",se.medications.length,"):"]}),r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:se.medications.map((K,ee)=>r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"font-medium text-blue-800",children:K.medication_name}),r.jsxs("div",{className:"text-xs text-blue-600 space-y-1 mt-1",children:[K.dosage&&r.jsxs("div",{children:[" Dosage: ",K.dosage]}),K.frequency&&r.jsxs("div",{children:[" Frquence: ",K.frequency]}),K.duration&&r.jsxs("div",{children:[" Dure: ",K.duration]}),K.quantity&&r.jsxs("div",{children:[" Quantit: ",K.quantity]}),K.route&&r.jsxs("div",{children:[" Voie: ",K.route]})]}),K.instructions&&r.jsxs("div",{className:"mt-2 text-xs bg-white p-2 rounded border border-blue-100",children:[r.jsx("span",{className:"font-medium text-blue-700",children:"Instructions: "}),K.instructions]})]},ee))})]}),se.notes&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-1",children:" Notes:"}),r.jsx("p",{className:"text-sm bg-yellow-50 p-2 rounded border border-yellow-200",children:se.notes})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground pt-2 border-t",children:[r.jsxs("span",{children:[" Renouvellements: ",se.refill_count||0]}),r.jsxs("span",{children:[" Cre le: ",new Date(se.created_at).toLocaleDateString("fr-FR")]}),se.updated_at!==se.created_at&&r.jsxs("span",{children:[" Modifie le: ",new Date(se.updated_at).toLocaleDateString("fr-FR")]})]})]})]},se.id)),k.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Hl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucune prescription trouve pour cette consultation"})]})]})]})})]})},F5e=({consultation:e,open:t,onOpenChange:n,onEdit:s})=>{if(!e)return null;const{getClientById:i,getPetById:a}=Pt(),o=i(e.clientId),l=a(e.petId);return r.jsx(wt,{open:t,onOpenChange:n,children:r.jsxs(vt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsxs(St,{children:["Consultation #",e.id," - ",ho(e.date)]}),r.jsx(un,{children:"Dtails de la consultation gnrale"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(At,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:e.purpose||"Consultation gnrale"})]}),r.jsxs("div",{className:"flex gap-8 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-4 w-4"}),l==null?void 0:l.name," (",l==null?void 0:l.type,")"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rr,{className:"h-4 w-4"}),o==null?void 0:o.name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-4 w-4"}),e.veterinarian]})]}),e.symptoms&&r.jsx(de,{children:r.jsx(he,{children:r.jsxs("p",{children:[r.jsx("strong",{children:"Symptmes:"})," ",e.symptoms]})})}),r.jsxs(vl,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(wo,{className:"grid grid-cols-2",children:[r.jsx(ln,{value:"overview",children:"Dtails"}),r.jsx(ln,{value:"prescriptions",children:"Prescriptions"})]}),r.jsx(cn,{value:"overview",children:r.jsx(de,{children:r.jsxs(he,{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Motif:"})," ",e.purpose||"Non spcifi"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",e.notes||"Aucune"]}),e.photos&&e.photos.length>0&&r.jsxs("div",{className:"pt-4",children:[r.jsx("h5",{className:"font-medium mb-2",children:"Photos de la consultation"}),r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:e.photos.map((c,u)=>r.jsx("div",{className:"relative",children:r.jsx("img",{src:c,alt:`consult-photo-${u}`,className:"h-32 w-32 object-cover rounded cursor-pointer hover:opacity-80"})},u))})]})]})})}),r.jsx(cn,{value:"prescriptions",children:r.jsx(u9,{petId:e.petId,consultationId:e.id})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:s,children:[r.jsx(tn,{className:"h-4 w-4"})," Modifier"]}),r.jsx(C9,{consultation:e})]})]})})};function B5e({prescription:e}){const{settings:t}=Gt(),{logo:n,clinicName:s,address:i,phone:a,email:o,website:l,currency:c}=t,d=e.medications.map(m=>m.cost*(m.quantity||1)).reduce((m,g)=>m+g,0),f=()=>{window.print()};return r.jsxs("div",{className:"p-8 max-w-screen-lg mx-auto bg-white text-gray-800",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[n&&r.jsx("img",{src:n,alt:"Logo clinique",className:"h-16 w-16 object-contain"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold",children:s}),r.jsx("p",{className:"text-sm",children:i}),r.jsxs("p",{className:"text-sm",children:[a," | ",o]}),l&&r.jsx("p",{className:"text-sm",children:l})]}),r.jsx("div",{children:r.jsx(V,{variant:"outline",onClick:f,className:"uppercase text-sm",children:"Imprimer"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ordonnance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Date :"})," ",e.date]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Patient :"})," ",e.petName," (",e.clientName,")"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Prescrit par :"})," ",e.prescribedBy]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Diagnostic :"})," ",e.diagnosis]})]})]}),r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Mdicament"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dosage"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Frquence"}),r.jsx("th",{className:"border-b py-2 text-left",children:"Dure"})]})}),r.jsx("tbody",{children:e.medications.map(m=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2",children:m.dosage}),r.jsx("td",{className:"py-2",children:m.frequency}),r.jsx("td",{className:"py-2",children:m.duration})]},m.id))})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facture"}),r.jsxs("table",{className:"w-full border-collapse mb-4",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b py-2 text-left",children:"Produit / Service"}),r.jsx("th",{className:"border-b py-2 text-right",children:"Quantit"}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Prix Unitaire (",c,")"]}),r.jsxs("th",{className:"border-b py-2 text-right",children:["Total (",c,")"]})]})}),r.jsx("tbody",{children:e.medications.map(m=>{const g=m.quantity||1,x=(m.cost||0)*g;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:m.name}),r.jsx("td",{className:"py-2 text-right",children:g}),r.jsx("td",{className:"py-2 text-right",children:m.cost.toFixed(2)}),r.jsx("td",{className:"py-2 text-right",children:x.toFixed(2)})]},m.id)})}),r.jsx("tfoot",{children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Montant total :"}),r.jsx("td",{className:"py-2 text-right font-semibold",children:d.toFixed(2)})]})})]})]})]})}const z5e=()=>{var J,q;const{consultations:e,prescriptions:t,getClientById:n,getPetById:s}=Pt(),[i,a]=w.useState(""),[o,l]=w.useState("all"),[c,u]=w.useState("all"),[d,f]=w.useState("all"),[m,g]=w.useState(""),[x,v]=w.useState("cards"),[y,N]=w.useState(!1),[j,b]=w.useState(null),[C,_]=w.useState(!1),[A,P]=w.useState(null),[E,D]=w.useState(!1),[I,k]=w.useState(null),O=[...e.map($=>{var le;return{id:$.id,date:$.date,petName:$.petName,petType:((le=s($.petId))==null?void 0:le.type)||"",client:$.clientName,type:"consultation",title:$.diagnosis||"Consultation",veterinarian:$.notes||"Non spcifi",details:$.symptoms||"",prescriptions:[],cost:$.cost,status:"completed"}})].sort(($,le)=>new Date(le.date).getTime()-new Date($.date).getTime()),U=t.map($=>{var le,se;return{id:$.id,date:$.date,petName:$.petName,client:$.clientName,medication:$.medications.map(re=>re.name).join(", "),dosage:((le=$.medications[0])==null?void 0:le.dosage)||"",frequency:((se=$.medications[0])==null?void 0:se.frequency)||"",duration:$.duration,veterinarian:$.prescribedBy,status:$.status}}),B=O.filter($=>{const le=$.petName.toLowerCase().includes(i.toLowerCase())||$.client.toLowerCase().includes(i.toLowerCase())||$.title.toLowerCase().includes(i.toLowerCase()),se=o==="all"||$.petName.toLowerCase().includes(o.toLowerCase()),re=c==="all"||$.type===c;let K=!0;if(d==="today"){const ee=new Date().toISOString().split("T")[0];K=$.date===ee}else if(d==="week"){const ee=new Date($.date),ge=new Date,xe=ge.getDay(),be=ge.getDate()-xe+(xe===0?-6:1),F=new Date(ge.setDate(be)),X=new Date(F);X.setDate(F.getDate()+6),K=ee>=F&&ee<=X}else d==="specific"&&(K=m&&$.date===m);return le&&se&&re&&K}),ne=U.filter($=>{const le=$.petName.toLowerCase().includes(i.toLowerCase())||$.client.toLowerCase().includes(i.toLowerCase())||$.medication.toLowerCase().includes(i.toLowerCase()),se=o==="all"||$.petName.toLowerCase().includes(o.toLowerCase()),re=c==="all"||!0;let K=!0;if(d==="today"){const ee=new Date().toISOString().split("T")[0];K=$.date===ee}else if(d==="week"){const ee=new Date($.date),ge=new Date,xe=ge.getDay(),be=ge.getDate()-xe+(xe===0?-6:1),F=new Date(ge.setDate(be)),X=new Date(F);X.setDate(F.getDate()+6),K=ee>=F&&ee<=X}else d==="specific"&&(K=m&&$.date===m);return le&&se&&re&&K}),Y={active:"bg-blue-100 text-blue-800 hover:bg-blue-200",completed:"bg-green-100 text-green-800 hover:bg-green-200",discontinued:"bg-red-100 text-red-800 hover:bg-red-200"};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Historique Mdical"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Consultez l'historique complet des soins et traitements"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(ll,{className:"h-4 w-4"}),"Tableau"]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{placeholder:"Rechercher par nom, animal, diagnostic...",value:i,onChange:$=>a($.target.value)}),r.jsxs(Me,{value:o,onValueChange:l,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Filtrer par animal"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous les animaux"}),Array.from(new Set(O.map($=>$.petName))).map($=>r.jsx(z,{value:$,children:$},$))]})]}),r.jsxs(Me,{value:c,onValueChange:u,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Filtrer par type"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous types"}),r.jsx(z,{value:"consultation",children:"Consultations"}),r.jsx(z,{value:"treatment",children:"Traitements"}),r.jsx(z,{value:"surgery",children:"Chirurgies"})]})]}),r.jsxs(Me,{value:d,onValueChange:f,children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Priode"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Toute priode"}),r.jsx(z,{value:"today",children:"Aujourd'hui"}),r.jsx(z,{value:"week",children:"Cette semaine"}),r.jsx(z,{value:"specific",children:"Date spcifique"})]})]})]}),d==="specific"&&r.jsx(ae,{type:"date",value:m,onChange:$=>g($.target.value),className:"max-w-xs"})]})]}),r.jsxs(vl,{defaultValue:"medical",className:"space-y-4",children:[r.jsxs(wo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"medical",className:"gap-2",children:[r.jsx(At,{className:"h-4 w-4"}),"Historique Mdical"]}),r.jsxs(ln,{value:"prescriptions",className:"gap-2",children:[r.jsx(qt,{className:"h-4 w-4"}),"Prescriptions"]})]}),r.jsxs(cn,{value:"medical",className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des consultations (",B.length," entres)"]})}),x==="cards"?r.jsx("div",{className:"grid gap-6",children:B.map($=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date($.date).toLocaleDateString("fr-FR")})]}),r.jsx(Le,{variant:"outline",className:"text-xs",children:$.type})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:$.title}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),$.petName]}),r.jsxs("span",{children:["Client: ",$.client]}),r.jsxs("span",{children:["Vtrinaire: ",$.veterinarian]})]})]}),$.details&&r.jsx("p",{className:"text-sm text-muted-foreground",children:$.details}),$.cost&&r.jsx("div",{className:"text-sm",children:r.jsxs("span",{className:"font-medium",children:["Cot: ",$.cost," MAD"]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{b($),N(!0)},children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})]})]})})},$.id))}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Titre"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Vtrinaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:B.map($=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date($.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx(Le,{variant:"outline",className:"text-xs",children:$.type})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:$.title}),$.details&&r.jsx("div",{className:"text-sm text-muted-foreground",children:$.details})]}),r.jsx("td",{className:"p-4",children:$.petName}),r.jsx("td",{className:"p-4",children:$.client}),r.jsx("td",{className:"p-4",children:$.veterinarian}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{b($),N(!0)},children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})]})})]},$.id))})]})})})})]}),r.jsxs(cn,{value:"prescriptions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Historique des prescriptions (",ne.length," entres)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:x==="cards"?"default":"outline",onClick:()=>v("cards"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:x==="table"?"default":"outline",onClick:()=>v("table"),className:"gap-2",children:[r.jsx(ll,{className:"h-4 w-4"}),"Tableau"]})]})]}),x==="cards"?ne.map($=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date($.date).toLocaleDateString("fr-FR")})]}),r.jsx(Le,{variant:"outline",className:Y[$.status],children:$.status==="active"?"Actif":$.status==="completed"?"Termin":"Arrt"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold",children:$.medication}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),$.petName]}),r.jsxs("span",{children:["Client: ",$.client]}),r.jsxs("span",{children:["Prescrit par: ",$.veterinarian]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dosage:"})," ",$.dosage]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Frquence:"})," ",$.frequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Dure:"})," ",$.duration]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{P($),_(!0)},children:"Renouveler"}),r.jsx(wP,{prescription:t.find(le=>le.id===$.id)}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const le=t.find(se=>se.id===$.id);k(le),D(!0)},children:"Facture"})]})]})})},$.id)):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Date"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Mdicament"}),r.jsx("th",{className:"p-4 font-medium",children:"Animal"}),r.jsx("th",{className:"p-4 font-medium",children:"Client"}),r.jsx("th",{className:"p-4 font-medium",children:"Dosage"}),r.jsx("th",{className:"p-4 font-medium",children:"Dure"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:ne.map($=>r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:new Date($.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-4",children:r.jsx(Le,{variant:"outline",className:Y[$.status],children:$.status==="active"?"Actif":$.status==="completed"?"Termin":"Arrt"})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-medium",children:$.medication}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Prescrit par: ",$.veterinarian]})]}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-4 w-4 text-primary"}),$.petName]})}),r.jsx("td",{className:"p-4",children:$.client}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{children:$.dosage}),r.jsx("div",{className:"text-muted-foreground",children:$.frequency})]})}),r.jsx("td",{className:"p-4",children:$.duration}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{P($),_(!0)},children:"Renouveler"}),r.jsx(wP,{prescription:t.find(le=>le.id===$.id)}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const le=t.find(se=>se.id===$.id);k(le),D(!0)},children:"Facture"})]})})]},$.id))})]})})})})]})]}),r.jsx(F5e,{consultation:j,open:y,onOpenChange:N,onEdit:()=>{}}),(A==null?void 0:A.id)&&r.jsx(Fk,{open:C,onOpenChange:_,petId:((q=(J=t.find($=>$.id===(A==null?void 0:A.id)))==null?void 0:J.petId)==null?void 0:q.toString())||"",consultationId:A.id.toString()}),r.jsx(wt,{open:E,onOpenChange:D,children:r.jsx(vt,{children:I&&r.jsx(B5e,{prescription:I})})})]})},_9=({photos:e,onPhotosChange:t,farmName:n})=>{const{toast:s}=It(),i=w.useRef(null),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({description:"",category:"general"}),g=C=>{const _=C.target.files;if(!_||_.length===0)return;const A=Array.from(_).map(P=>{const E=new FileReader,D={id:`photo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,url:"",description:f.description||`Photo de ${n}`,category:f.category,uploadedAt:new Date().toISOString()};return E.onload=I=>{var O;D.url=(O=I.target)==null?void 0:O.result;const k=[...e,D];t(k)},E.readAsDataURL(P),D});m({description:"",category:"general"}),o(!1),s({title:"Photos ajoutes",description:`${A.length} photo(s) ajoute(s)  l'exploitation ${n}`})},x=C=>{const _=e.filter(A=>A.id!==C);t(_),s({title:"Photo supprime",description:"La photo a t supprime avec succs"})},v=C=>{d(C),m({description:C.description,category:C.category}),c(!0)},y=()=>{if(!u)return;const C=e.map(_=>_.id===u.id?{..._,...f}:_);t(C),c(!1),d(null),m({description:"",category:"general"}),s({title:"Photo modifie",description:"La photo a t modifie avec succs"})},N=C=>({cheptel:"Cheptel",batiments:"Btiments",equipements:"quipements",general:"Gnral"})[C],j=C=>({cheptel:"bg-blue-100 text-blue-800",batiments:"bg-green-100 text-green-800",equipements:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[C],b=e.reduce((C,_)=>(C[_.category]||(C[_.category]=[]),C[_.category].push(_),C),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos de l'exploitation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Grez les photos de votre exploitation, du cheptel et des quipements"})]}),r.jsxs(wt,{open:a,onOpenChange:o,children:[r.jsx(Lc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Ajouter des photos"]})}),r.jsxs(vt,{className:"max-w-md",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Ajouter des photos"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"photo-description",children:"Description"}),r.jsx(ae,{id:"photo-description",placeholder:"Description des photos",value:f.description,onChange:C=>m({...f,description:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"photo-category",children:"Catgorie"}),r.jsxs(Me,{value:f.category,onValueChange:C=>m({...f,category:C}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"cheptel",children:"Cheptel"}),r.jsx(z,{value:"batiments",children:"Btiments"}),r.jsx(z,{value:"equipements",children:"quipements"}),r.jsx(z,{value:"general",children:"Gnral"})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"photo-files",children:"Slectionner des photos"}),r.jsx(ae,{id:"photo-files",type:"file",multiple:!0,accept:"image/*",ref:i,onChange:g,className:"cursor-pointer"})]})]})]})]})]}),e.length===0?r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center",children:[r.jsx(rf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoute"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par ajouter des photos de votre exploitation"})]})}):r.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([C,_])=>r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Le,{className:j(C),children:N(C)}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",_.length," photo",_.length>1?"s":"",")"]})]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(A=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:A.url,alt:A.description,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>d(A),children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>v(A),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>x(A.id),children:r.jsx(er,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:A.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.uploadedAt).toLocaleDateString()})]})]},A.id))})})]},C))}),r.jsx(wt,{open:l,onOpenChange:c,children:r.jsxs(vt,{className:"max-w-md",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Modifier la photo"})}),r.jsxs("div",{className:"space-y-4",children:[u&&r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:r.jsx("img",{src:u.url,alt:u.description,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"edit-description",children:"Description"}),r.jsx(ae,{id:"edit-description",value:f.description,onChange:C=>m({...f,description:C.target.value})})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"edit-category",children:"Catgorie"}),r.jsxs(Me,{value:f.category,onValueChange:C=>m({...f,category:C}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"cheptel",children:"Cheptel"}),r.jsx(z,{value:"batiments",children:"Btiments"}),r.jsx(z,{value:"equipements",children:"quipements"}),r.jsx(z,{value:"general",children:"Gnral"})]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(V,{onClick:y,children:"Enregistrer"})]})]})]})})]})},V5e=({open:e,onOpenChange:t})=>{var N,j,b,C,_,A;const{addFarm:n}=Pt(),{settings:s}=Gt(),{toast:i}=It(),[a,o]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),[l,c]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!s.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(wt,{open:e,onOpenChange:t,children:r.jsx(vt,{children:r.jsxs(Nt,{children:[r.jsx(St,{children:"Erreur de configuration"}),r.jsx(un,{children:"Les paramtres de gestion des fermes ne sont pas configurs. Veuillez recharger la page ou vrifier les paramtres."})]})})});w.useEffect(()=>{e||(o({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""},photos:[]}),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const u=(P,E)=>{if(P.includes(".")){const[D,I]=P.split(".");o(k=>{const O=k[D];return{...k,[D]:{...O,[I]:E}}})}else o(D=>({...D,[P]:E}))},d=P=>{o(E=>{var D;return{...E,types:(D=E.types)!=null&&D.includes(P)?E.types.filter(I=>I!==P):[...E.types||[],P]}})},f=P=>{o(E=>{var D;return{...E,certifications:(D=E.certifications)!=null&&D.includes(P)?E.certifications.filter(I=>I!==P):[...E.certifications||[],P]}})},m=()=>{if(!l.category){i({title:"Erreur",description:"Veuillez slectionner une catgorie d'animal",variant:"destructive"});return}o(P=>({...P,animalDetails:[...P.animalDetails||[],{...l}]})),c({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},g=P=>{o(E=>{var D;return{...E,animalDetails:((D=E.animalDetails)==null?void 0:D.filter((I,k)=>k!==P))||[]}})},x=P=>{c(E=>({...E,breeds:[...E.breeds,P]}))},v=P=>{c(E=>({...E,breeds:E.breeds.filter(D=>D!==P)}))},y=P=>{var D;if(P.preventDefault(),!a.name||!a.owner||!a.address||!((D=a.types)!=null&&D.length)){i({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const E={name:a.name,owner:a.owner,ownerIdNumber:a.ownerIdNumber||"",address:a.address,coordinates:a.coordinates||{latitude:0,longitude:0},phone:a.phone||"",email:a.email||"",types:a.types||[],totalAnimals:(a.animalDetails||[]).reduce((I,k)=>I+k.maleCount+k.femaleCount,0),animalDetails:a.animalDetails||[],lastVisit:new Date().toISOString().split("T")[0],status:a.status||"active",veterinarian:a.veterinarian||"",notes:a.notes||"",registrationNumber:a.registrationNumber||"",surfaceArea:a.surfaceArea||0,buildingDetails:a.buildingDetails||"",equipmentDetails:a.equipmentDetails||"",certifications:a.certifications||[],insuranceDetails:a.insuranceDetails||"",emergencyContact:a.emergencyContact||{name:"",phone:"",relation:""}};n(E),i({title:"Succs",description:"Nouvelle exploitation cre avec succs"}),t(!1)};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouvelle Exploitation Agricole"}),r.jsx(un,{children:"Crez une nouvelle exploitation agricole avec toutes les informations dtailles"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Informations gnrales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(ae,{id:"name",value:a.name||"",onChange:P=>u("name",P.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"owner",children:"Propritaire *"}),r.jsx(ae,{id:"owner",value:a.owner||"",onChange:P=>u("owner",P.target.value),placeholder:"Nom du propritaire"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"ownerIdNumber",children:"N pice d'identit du propritaire"}),r.jsx(ae,{id:"ownerIdNumber",value:a.ownerIdNumber||"",onChange:P=>u("ownerIdNumber",P.target.value),placeholder:"Numro de carte d'identit, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(L,{htmlFor:"address",children:"Adresse *"}),r.jsx(ae,{id:"address",value:a.address||"",onChange:P=>u("address",P.target.value),placeholder:"Adresse complte"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"latitude",children:"Latitude"}),r.jsx(ae,{id:"latitude",type:"number",step:"0.0001",value:((N=a.coordinates)==null?void 0:N.latitude)||"",onChange:P=>u("coordinates.latitude",parseFloat(P.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"longitude",children:"Longitude"}),r.jsx(ae,{id:"longitude",type:"number",step:"0.0001",value:((j=a.coordinates)==null?void 0:j.longitude)||"",onChange:P=>u("coordinates.longitude",parseFloat(P.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"phone",children:"Tlphone"}),r.jsx(ae,{id:"phone",value:a.phone||"",onChange:P=>u("phone",P.target.value),placeholder:"Tlphone"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"email",children:"Email"}),r.jsx(ae,{id:"email",type:"email",value:a.email||"",onChange:P=>u("email",P.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"veterinarian",children:"Vtrinaire responsable"}),r.jsx(ae,{id:"veterinarian",value:a.veterinarian||"",onChange:P=>u("veterinarian",P.target.value),placeholder:"Vtrinaire"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:a.status,onValueChange:P=>u("status",P),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"active",children:"Active"}),r.jsx(z,{value:"attention",children:"Attention"}),r.jsx(z,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Types d'levage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.farmTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`type-${P}`,checked:((E=a.types)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>d(P)}),r.jsx(L,{htmlFor:`type-${P}`,children:P})]},P)})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Dtails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(L,{children:"Catgorie"}),r.jsxs(Me,{value:l.category,onValueChange:P=>c(E=>({...E,category:P})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner"})}),r.jsx(De,{children:s.farmManagement.animalCategories.map(P=>r.jsx(z,{value:P,children:P},P))})]})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Mles"}),r.jsx(ae,{type:"number",value:l.maleCount,onChange:P=>c(E=>({...E,maleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Femelles"}),r.jsx(ae,{type:"number",value:l.femaleCount,onChange:P=>c(E=>({...E,femaleCount:parseInt(P.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{type:"button",onClick:m,className:"w-full",children:"Ajouter"})})]}),l.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(L,{children:["Races pour ",l.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(b=s.farmManagement.breedsByCategory[l.category])==null?void 0:b.map(P=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`breed-${P}`,checked:l.breeds.includes(P),onCheckedChange:()=>{l.breeds.includes(P)?v(P):x(P)}}),r.jsx(L,{htmlFor:`breed-${P}`,children:P})]},P))})]}),a.animalDetails&&a.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(L,{children:"Cheptel configur"}),r.jsx("div",{className:"mt-2 space-y-2",children:a.animalDetails.map((P,E)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx(Le,{variant:"secondary",children:P.category}),r.jsxs("span",{className:"ml-2",children:[P.maleCount," mles, ",P.femaleCount," femelles"]}),P.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",P.breeds.join(", ")]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>g(E),children:"Supprimer"})]},E))})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"registrationNumber",children:"Numro d'immatriculation"}),r.jsx(ae,{id:"registrationNumber",value:a.registrationNumber||"",onChange:P=>u("registrationNumber",P.target.value),placeholder:"Numro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(ae,{id:"surfaceArea",type:"number",step:"0.1",value:a.surfaceArea||"",onChange:P=>u("surfaceArea",parseFloat(P.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(L,{htmlFor:"buildingDetails",children:"Dtails des btiments"}),r.jsx(mt,{id:"buildingDetails",value:a.buildingDetails||"",onChange:P=>u("buildingDetails",P.target.value),placeholder:"Description des btiments, tables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(L,{htmlFor:"equipmentDetails",children:"quipements"}),r.jsx(mt,{id:"equipmentDetails",value:a.equipmentDetails||"",onChange:P=>u("equipmentDetails",P.target.value),placeholder:"Liste des quipements disponibles"})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.farmManagement.certificationTypes.map(P=>{var E;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`cert-${P}`,checked:((E=a.certifications)==null?void 0:E.includes(P))||!1,onCheckedChange:()=>f(P)}),r.jsx(L,{htmlFor:`cert-${P}`,children:P})]},P)})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(L,{htmlFor:"insuranceDetails",children:"Dtails de l'assurance"}),r.jsx(ae,{id:"insuranceDetails",value:a.insuranceDetails||"",onChange:P=>u("insuranceDetails",P.target.value),placeholder:"Compagnie d'assurance et numro de police"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(ae,{id:"emergencyName",value:((C=a.emergencyContact)==null?void 0:C.name)||"",onChange:P=>u("emergencyContact.name",P.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"emergencyPhone",children:"Tlphone d'urgence"}),r.jsx(ae,{id:"emergencyPhone",value:((_=a.emergencyContact)==null?void 0:_.phone)||"",onChange:P=>u("emergencyContact.phone",P.target.value),placeholder:"Tlphone"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(ae,{id:"emergencyRelation",value:((A=a.emergencyContact)==null?void 0:A.relation)||"",onChange:P=>u("emergencyContact.relation",P.target.value),placeholder:"Relation (poux, fils, etc.)"})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(_9,{photos:a.photos||[],onPhotosChange:P=>u("photos",P),farmName:a.name||"Nouvelle exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Notes complmentaires"})}),r.jsx(he,{children:r.jsx(mt,{value:a.notes||"",onChange:P=>u("notes",P.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Crer l'exploitation"})]})]})]})})},U5e=({open:e,onOpenChange:t,farmId:n,farmName:s})=>{const{addFarmIntervention:i,farms:a}=Pt(),{toast:o}=It(),[l,c]=w.useState({farmId:"",farmName:"",date:"",type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""});w.useEffect(()=>{if(e){const m=new Date().toISOString().split("T")[0];c({farmId:(n==null?void 0:n.toString())||"",farmName:s||"",date:m,type:"",animals:"",veterinarian:"",description:"",status:"scheduled",followUp:"",cost:"",notes:""})}},[e,n,s]);const u=(m,g)=>{c(x=>({...x,[m]:g}))},{settings:d}=Gt(),f=m=>{if(m.preventDefault(),!l.farmId||!l.date||!l.type||!l.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const g=a.find(v=>v.id===parseInt(l.farmId));if(!g){o({title:"Erreur",description:"Exploitation non trouve",variant:"destructive"});return}const x={farmId:parseInt(l.farmId),farmName:g.name,date:l.date,type:l.type,animals:l.animals,veterinarian:l.veterinarian,description:l.description,status:l.status,followUp:l.followUp,cost:l.cost?parseFloat(l.cost):void 0,notes:l.notes};i(x),o({title:"Succs",description:"Intervention programme avec succs"}),t(!1)};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouvelle Intervention"}),r.jsx(un,{children:"Programmez une nouvelle intervention vtrinaire"})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"farmId",children:"Exploitation *"}),r.jsxs(Me,{value:l.farmId,onValueChange:m=>{const g=a.find(x=>x.id===parseInt(m));u("farmId",m),u("farmName",(g==null?void 0:g.name)||"")},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner une exploitation"})}),r.jsx(De,{children:a.map(m=>r.jsx(z,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"date",children:"Date *"}),r.jsx(ae,{id:"date",type:"date",value:l.date,onChange:m=>u("date",m.target.value),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"type",children:"Type d'intervention *"}),r.jsxs(Me,{value:l.type,onValueChange:m=>u("type",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner un type"})}),r.jsxs(De,{children:[r.jsx(z,{value:"vaccination",children:"Vaccination"}),r.jsx(z,{value:"controle",children:"Contrle sanitaire"}),r.jsx(z,{value:"urgence",children:"Urgence"}),r.jsx(z,{value:"chirurgie",children:"Chirurgie"}),r.jsx(z,{value:"prevention",children:"Prvention"}),r.jsx(z,{value:"consultation",children:"Consultation"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:l.status,onValueChange:m=>u("status",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"scheduled",children:"Programme"}),r.jsx(z,{value:"ongoing",children:"En cours"}),r.jsx(z,{value:"completed",children:"Termine"}),r.jsx(z,{value:"cancelled",children:"Annule"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"animals",children:"Animaux concerns"}),r.jsx(ae,{id:"animals",value:l.animals,onChange:m=>u("animals",m.target.value),placeholder:"15 bovins, 50 poules..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"veterinarian",children:"Vtrinaire"}),r.jsx(ae,{id:"veterinarian",value:l.veterinarian,onChange:m=>u("veterinarian",m.target.value),placeholder:"Dr. Dupont"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"description",children:"Description *"}),r.jsx(mt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Dtails de l'intervention...",rows:3,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(L,{htmlFor:"cost",children:["Cot (",d.currency,")"]}),r.jsx(ae,{id:"cost",type:"number",value:l.cost,onChange:m=>u("cost",m.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"followUp",children:"Suivi"}),r.jsx(ae,{id:"followUp",value:l.followUp,onChange:m=>u("followUp",m.target.value),placeholder:"Contrle dans 6 mois"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes"}),r.jsx(mt,{id:"notes",value:l.notes,onChange:m=>u("notes",m.target.value),placeholder:"Informations complmentaires...",rows:2})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Programmer Intervention"})]})]})]})})},q5e=({farm:e,open:t,onOpenChange:n,onEdit:s,onNewIntervention:i})=>{var u;const{getFarmInterventionsByFarmId:a}=Pt();if(!e)return null;const o=a(e.id),l={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},c=d=>{switch(d){case"active":return r.jsx(Zn,{className:"h-4 w-4"});case"attention":return r.jsx(qn,{className:"h-4 w-4"});case"urgent":return r.jsx(qn,{className:"h-4 w-4 text-red-600"});default:return r.jsx(Rn,{className:"h-4 w-4"})}};return r.jsx(wt,{open:t,onOpenChange:n,children:r.jsxs(vt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[c(e.status),e.name,r.jsx(Le,{className:l[e.status],children:e.status==="active"?"Actif":e.status==="attention"?"Attention":"Urgent"})]}),r.jsx(un,{children:"Dtails complets de l'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(one,{className:"h-5 w-5"}),"Informations Gnrales"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Propritaire"}),r.jsx("p",{className:"font-medium",children:e.owner})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Types d'levage"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(u=e.types)==null?void 0:u.map(d=>r.jsx(Le,{variant:"secondary",children:d},d))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre total d'animaux"}),r.jsx("p",{className:"font-medium",children:e.totalAnimals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vtrinaire"}),r.jsx("p",{className:"font-medium",children:e.veterinarian||"Non assign"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dernire visite"}),r.jsx("p",{className:"font-medium",children:ho(e.lastVisit)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de cration"}),r.jsx("p",{className:"font-medium",children:ho(e.createdAt)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(fd,{className:"h-3 w-3"}),"Adresse"]}),r.jsx("p",{className:"font-medium",children:e.address})]}),e.coordinates&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Coordonnes GPS"}),r.jsxs("p",{className:"font-mono text-sm",children:[e.coordinates.latitude.toFixed(4),", ",e.coordinates.longitude.toFixed(4)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),"Tlphone"]}),r.jsx("p",{className:"font-medium",children:e.phone||"Non renseign"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3"}),"Email"]}),r.jsx("p",{className:"font-medium",children:e.email||"Non renseign"})]})]})]})]}),e.animalDetails&&e.animalDetails.length>0&&r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(lne,{className:"h-5 w-5"}),"Dtails du Cheptel"]})}),r.jsx(he,{children:r.jsx("div",{className:"space-y-3",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Le,{variant:"secondary",children:d.category}),r.jsxs("span",{className:"text-sm font-medium",children:["Total: ",d.maleCount+d.femaleCount," animaux"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Mles:"})," ",d.maleCount]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Femelles:"})," ",d.femaleCount]}),d.breeds.length>0&&r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("span",{className:"text-muted-foreground",children:"Races:"})," ",d.breeds.join(", ")]})]})]},f))})})]}),(e.registrationNumber||e.surfaceArea||e.buildingDetails||e.equipmentDetails)&&r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(qte,{className:"h-5 w-5"}),"Informations Administratives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.registrationNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"N d'immatriculation"}),r.jsx("p",{className:"font-medium",children:e.registrationNumber})]}),e.surfaceArea&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surface"}),r.jsxs("p",{className:"font-medium",children:[e.surfaceArea," hectares"]})]})]}),e.buildingDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Btiments"}),r.jsx("p",{className:"font-medium",children:e.buildingDetails})]}),e.equipmentDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"quipements"}),r.jsx("p",{className:"font-medium",children:e.equipmentDetails})]})]})]}),e.certifications&&e.certifications.length>0&&r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),"Certifications"]})}),r.jsx(he,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(d=>r.jsx(Le,{variant:"outline",children:d},d))})})]}),(e.insuranceDetails||e.emergencyContact)&&r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-5 w-5"}),"Assurance et Contact d'Urgence"]})}),r.jsxs(he,{className:"space-y-4",children:[e.insuranceDetails&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assurance"}),r.jsx("p",{className:"font-medium",children:e.insuranceDetails})]}),e.emergencyContact&&e.emergencyContact.name&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact d'urgence"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tlphone"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.phone})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Relation"}),r.jsx("p",{className:"font-medium",children:e.emergencyContact.relation})]})]})]})]}),e.notes&&r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Notes"})}),r.jsx(he,{children:r.jsx("p",{className:"text-sm",children:e.notes})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Dtails du Cheptel"})}),r.jsx(he,{children:e.animalDetails&&e.animalDetails.length>0?r.jsx("div",{className:"space-y-4",children:e.animalDetails.map((d,f)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-lg",children:d.category}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Le,{variant:"secondary",children:[d.maleCount+d.femaleCount," animaux"]}),r.jsxs(Le,{variant:"outline",children:[d.maleCount," mles"]}),r.jsxs(Le,{variant:"outline",children:[d.femaleCount," femelles"]})]})]}),d.breeds&&d.breeds.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Races: "}),d.breeds.map((m,g)=>r.jsx(Le,{variant:"outline",className:"mr-1 text-xs",children:m},g))]}),d.ageGroups&&d.ageGroups.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Groupes d'ge: "}),d.ageGroups.map((m,g)=>r.jsx(Le,{variant:"outline",className:"mr-1 text-xs",children:m},g))]})]},f))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun dtail de cheptel configur pour cette exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:e.photos&&e.photos.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.photos.map(d=>r.jsxs("div",{className:"group relative",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[r.jsx("img",{src:d.url,alt:d.description,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(Le,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:d.category==="cheptel"?"Cheptel":d.category==="batiments"?"Btiments":d.category==="equipements"?"quipements":"Gnral"})})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.uploadedAt).toLocaleDateString()})]})]},d.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(rf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucune photo ajoute"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Les photos peuvent tre ajoutes lors de la modification de l'exploitation"})]})})]}),r.jsxs(vl,{defaultValue:"interventions",className:"w-full",children:[r.jsx(wo,{className:"grid w-full grid-cols-1",children:r.jsxs(ln,{value:"interventions",children:[r.jsx(At,{className:"h-4 w-4 mr-2"}),"Interventions (",o.length,")"]})}),r.jsx(cn,{value:"interventions",className:"space-y-4",children:r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Interventions vtrinaires"})}),r.jsx(he,{children:o.length>0?r.jsx("div",{className:"space-y-2",children:o.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:d.type}),r.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:ho(d.date)})]}),r.jsx(Le,{variant:"outline",children:d.status})]},d.id))}):r.jsx("p",{className:"text-muted-foreground",children:"Aucune intervention enregistre pour cette exploitation"})})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(V,{onClick:i,variant:"outline",children:"Nouvelle Intervention"}),r.jsx(V,{onClick:s,children:"Modifier"})]})]})})},W5e=({open:e,onOpenChange:t,farm:n})=>{var j,b,C,_,A,P;const{updateFarm:s}=Pt(),{settings:i}=Gt(),{toast:a}=It(),[o,l]=w.useState({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),[c,u]=w.useState({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]});if(!i.farmManagement)return console.error("farmManagement settings not found, using defaults"),r.jsx(wt,{open:e,onOpenChange:t,children:r.jsx(vt,{children:r.jsxs(Nt,{children:[r.jsx(St,{children:"Erreur de configuration"}),r.jsx(un,{children:"Les paramtres de gestion des fermes ne sont pas configurs. Veuillez recharger la page ou vrifier les paramtres."})]})})});w.useEffect(()=>{n&&e&&l({...n,coordinates:n.coordinates||{latitude:0,longitude:0},types:n.types||[],animalDetails:n.animalDetails||[],certifications:n.certifications||[],emergencyContact:n.emergencyContact||{name:"",phone:"",relation:""}})},[n,e]),w.useEffect(()=>{e||(l({name:"",owner:"",ownerIdNumber:"",address:"",coordinates:{latitude:0,longitude:0},phone:"",email:"",types:[],totalAnimals:0,animalDetails:[],veterinarian:"",notes:"",status:"active",registrationNumber:"",surfaceArea:0,buildingDetails:"",equipmentDetails:"",certifications:[],insuranceDetails:"",emergencyContact:{name:"",phone:"",relation:""}}),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]}))},[e]);const d=(E,D)=>{if(E.includes(".")){const[I,k]=E.split(".");l(O=>({...O,[I]:{...O[I],[k]:D}}))}else l(I=>({...I,[E]:D}))},f=E=>{l(D=>{var I;return{...D,types:(I=D.types)!=null&&I.includes(E)?D.types.filter(k=>k!==E):[...D.types||[],E]}})},m=E=>{l(D=>{var I;return{...D,certifications:(I=D.certifications)!=null&&I.includes(E)?D.certifications.filter(k=>k!==E):[...D.certifications||[],E]}})},g=()=>{if(!c.category){a({title:"Erreur",description:"Veuillez slectionner une catgorie d'animal",variant:"destructive"});return}l(E=>({...E,animalDetails:[...E.animalDetails||[],{...c}]})),u({category:"",maleCount:0,femaleCount:0,breeds:[],ageGroups:[]})},x=E=>{l(D=>{var I;return{...D,animalDetails:((I=D.animalDetails)==null?void 0:I.filter((k,O)=>O!==E))||[]}})},v=E=>{u(D=>({...D,breeds:[...D.breeds,E]}))},y=E=>{u(D=>({...D,breeds:D.breeds.filter(I=>I!==E)}))},N=E=>{var I;if(E.preventDefault(),!n)return;if(!o.name||!o.owner||!o.address||!((I=o.types)!=null&&I.length)){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const D={...n,...o,coordinates:o.coordinates||{latitude:0,longitude:0},types:o.types||[],animalDetails:o.animalDetails||[],totalAnimals:(o.animalDetails||[]).reduce((k,O)=>k+O.maleCount+O.femaleCount,0),certifications:o.certifications||[],emergencyContact:o.emergencyContact||{name:"",phone:"",relation:""}};s(n.id,D),a({title:"Succs",description:"Exploitation mise  jour avec succs"}),t(!1)};return n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Modifier l'Exploitation"}),r.jsx(un,{children:"Modifiez les informations de l'exploitation agricole"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Informations gnrales"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"name",children:"Nom de l'exploitation *"}),r.jsx(ae,{id:"name",value:o.name||"",onChange:E=>d("name",E.target.value),placeholder:"Nom de l'exploitation"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"owner",children:"Propritaire *"}),r.jsx(ae,{id:"owner",value:o.owner||"",onChange:E=>d("owner",E.target.value),placeholder:"Nom du propritaire"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"ownerIdNumber",children:"N pice d'identit du propritaire"}),r.jsx(ae,{id:"ownerIdNumber",value:o.ownerIdNumber||"",onChange:E=>d("ownerIdNumber",E.target.value),placeholder:"Numro de carte d'identit, passeport, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(L,{htmlFor:"address",children:"Adresse *"}),r.jsx(ae,{id:"address",value:o.address||"",onChange:E=>d("address",E.target.value),placeholder:"Adresse complte"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"latitude",children:"Latitude"}),r.jsx(ae,{id:"latitude",type:"number",step:"0.0001",value:((j=o.coordinates)==null?void 0:j.latitude)||"",onChange:E=>d("coordinates.latitude",parseFloat(E.target.value)||0),placeholder:"47.9056"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"longitude",children:"Longitude"}),r.jsx(ae,{id:"longitude",type:"number",step:"0.0001",value:((b=o.coordinates)==null?void 0:b.longitude)||"",onChange:E=>d("coordinates.longitude",parseFloat(E.target.value)||0),placeholder:"1.9190"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"phone",children:"Tlphone"}),r.jsx(ae,{id:"phone",value:o.phone||"",onChange:E=>d("phone",E.target.value),placeholder:"Tlphone"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"email",children:"Email"}),r.jsx(ae,{id:"email",type:"email",value:o.email||"",onChange:E=>d("email",E.target.value),placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"veterinarian",children:"Vtrinaire responsable"}),r.jsx(ae,{id:"veterinarian",value:o.veterinarian||"",onChange:E=>d("veterinarian",E.target.value),placeholder:"Vtrinaire"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"status",children:"Statut"}),r.jsxs(Me,{value:o.status,onValueChange:E=>d("status",E),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"active",children:"Active"}),r.jsx(z,{value:"attention",children:"Attention"}),r.jsx(z,{value:"urgent",children:"Urgent"})]})]})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Types d'levage *"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.farmTypes.map(E=>{var D;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`type-${E}`,checked:((D=o.types)==null?void 0:D.includes(E))||!1,onCheckedChange:()=>f(E)}),r.jsx(L,{htmlFor:`type-${E}`,children:E})]},E)})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Dtails du cheptel"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(L,{children:"Catgorie"}),r.jsxs(Me,{value:c.category,onValueChange:E=>u(D=>({...D,category:E})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner"})}),r.jsx(De,{children:i.farmManagement.animalCategories.map(E=>r.jsx(z,{value:E,children:E},E))})]})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Mles"}),r.jsx(ae,{type:"number",value:c.maleCount,onChange:E=>u(D=>({...D,maleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(L,{children:"Femelles"}),r.jsx(ae,{type:"number",value:c.femaleCount,onChange:E=>u(D=>({...D,femaleCount:parseInt(E.target.value)||0})),placeholder:"0"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(V,{type:"button",onClick:g,className:"w-full",children:"Ajouter"})})]}),c.category&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs(L,{children:["Races pour ",c.category]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:(C=i.farmManagement.breedsByCategory[c.category])==null?void 0:C.map(E=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`breed-${E}`,checked:c.breeds.includes(E),onCheckedChange:()=>{c.breeds.includes(E)?y(E):v(E)}}),r.jsx(L,{htmlFor:`breed-${E}`,children:E})]},E))})]}),o.animalDetails&&o.animalDetails.length>0&&r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(L,{children:"Cheptel configur"}),r.jsx("div",{className:"mt-2 space-y-2",children:o.animalDetails.map((E,D)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("span",{children:[r.jsx(Le,{variant:"secondary",children:E.category}),r.jsxs("span",{className:"ml-2",children:[E.maleCount," mles, ",E.femaleCount," femelles"]}),E.breeds.length>0&&r.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["Races: ",E.breeds.join(", ")]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>x(D),children:"Supprimer"})]},D))})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Informations administratives"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"registrationNumber",children:"Numro d'immatriculation"}),r.jsx(ae,{id:"registrationNumber",value:o.registrationNumber||"",onChange:E=>d("registrationNumber",E.target.value),placeholder:"Numro d'immatriculation"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"surfaceArea",children:"Surface (hectares)"}),r.jsx(ae,{id:"surfaceArea",type:"number",step:"0.1",value:o.surfaceArea||"",onChange:E=>d("surfaceArea",parseFloat(E.target.value)||0),placeholder:"Surface en hectares"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(L,{htmlFor:"buildingDetails",children:"Dtails des btiments"}),r.jsx(mt,{id:"buildingDetails",value:o.buildingDetails||"",onChange:E=>d("buildingDetails",E.target.value),placeholder:"Description des btiments, tables, etc."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(L,{htmlFor:"equipmentDetails",children:"quipements"}),r.jsx(mt,{id:"equipmentDetails",value:o.equipmentDetails||"",onChange:E=>d("equipmentDetails",E.target.value),placeholder:"Liste des quipements disponibles"})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Certifications"})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.farmManagement.certificationTypes.map(E=>{var D;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xi,{id:`cert-${E}`,checked:((D=o.certifications)==null?void 0:D.includes(E))||!1,onCheckedChange:()=>m(E)}),r.jsx(L,{htmlFor:`cert-${E}`,children:E})]},E)})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Assurance et contact d'urgence"})}),r.jsxs(he,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(L,{htmlFor:"insuranceDetails",children:"Dtails de l'assurance"}),r.jsx(ae,{id:"insuranceDetails",value:o.insuranceDetails||"",onChange:E=>d("insuranceDetails",E.target.value),placeholder:"Compagnie d'assurance et numro de police"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"emergencyName",children:"Nom du contact d'urgence"}),r.jsx(ae,{id:"emergencyName",value:((_=o.emergencyContact)==null?void 0:_.name)||"",onChange:E=>d("emergencyContact.name",E.target.value),placeholder:"Nom du contact"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"emergencyPhone",children:"Tlphone d'urgence"}),r.jsx(ae,{id:"emergencyPhone",value:((A=o.emergencyContact)==null?void 0:A.phone)||"",onChange:E=>d("emergencyContact.phone",E.target.value),placeholder:"Tlphone"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"emergencyRelation",children:"Relation"}),r.jsx(ae,{id:"emergencyRelation",value:((P=o.emergencyContact)==null?void 0:P.relation)||"",onChange:E=>d("emergencyContact.relation",E.target.value),placeholder:"Relation (poux, fils, etc.)"})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Photos de l'exploitation"})}),r.jsx(he,{children:r.jsx(_9,{photos:o.photos||[],onPhotosChange:E=>d("photos",E),farmName:o.name||"Exploitation"})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Notes complmentaires"})}),r.jsx(he,{children:r.jsx(mt,{value:o.notes||"",onChange:E=>d("notes",E.target.value),placeholder:"Notes additionnelles sur l'exploitation...",rows:3})})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Mettre  jour l'exploitation"})]})]})]})}):null},H5e=({open:e,onOpenChange:t,intervention:n})=>{const{updateFarmIntervention:s,farms:i}=Pt(),{toast:a}=It(),[o,l]=w.useState({farmId:"",type:"",date:"",animals:"",description:"",veterinarian:"",status:"scheduled",followUp:"",cost:""});w.useEffect(()=>{n&&e&&l({farmId:n.farmId.toString(),type:n.type,date:n.date,animals:n.animals,description:n.description,veterinarian:n.veterinarian,status:n.status,followUp:n.followUp||"",cost:n.cost||""})},[n,e]);const c=(f,m)=>{l(g=>({...g,[f]:m}))},u=f=>{if(f.preventDefault(),!n)return;if(!o.farmId||!o.type||!o.date||!o.animals||!o.description){a({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}const m={farmId:parseInt(o.farmId),type:o.type,date:o.date,animals:o.animals,description:o.description,veterinarian:o.veterinarian,status:o.status,followUp:o.followUp,cost:o.cost};s(n.id,m),a({title:"Succs",description:"Intervention mise  jour avec succs"}),t(!1)};if(!n)return null;const d=i.find(f=>f.id===parseInt(o.farmId));return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Modifier l'Intervention"}),r.jsxs(un,{children:["Modifiez les informations de l'intervention du ",new Date(n.date).toLocaleDateString("fr-FR")]})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Exploitation *"}),r.jsxs(Me,{value:o.farmId,onValueChange:f=>c("farmId",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner l'exploitation"})}),r.jsx(De,{children:i.map(f=>r.jsxs(z,{value:f.id.toString(),children:[f.name," - ",f.owner]},f.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Type d'intervention *"}),r.jsxs(Me,{value:o.type,onValueChange:f=>c("type",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner le type"})}),r.jsxs(De,{children:[r.jsx(z,{value:"vaccination",children:"Vaccination"}),r.jsx(z,{value:"controle",children:"Contrle sanitaire"}),r.jsx(z,{value:"urgence",children:"Urgence"}),r.jsx(z,{value:"chirurgie",children:"Chirurgie"}),r.jsx(z,{value:"prevention",children:"Prvention"}),r.jsx(z,{value:"consultation",children:"Consultation"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"date",children:"Date *"}),r.jsx(ae,{id:"date",type:"date",value:o.date,onChange:f=>c("date",f.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Statut"}),r.jsxs(Me,{value:o.status,onValueChange:f=>c("status",f),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"scheduled",children:"Programm"}),r.jsx(z,{value:"ongoing",children:"En cours"}),r.jsx(z,{value:"completed",children:"Termin"}),r.jsx(z,{value:"cancelled",children:"Annul"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"animals",children:"Animaux concerns *"}),r.jsx(ae,{id:"animals",value:o.animals,onChange:f=>c("animals",f.target.value),placeholder:"ex: 50 vaches, 100 porcs...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"veterinarian",children:"Vtrinaire *"}),r.jsx(ae,{id:"veterinarian",value:o.veterinarian,onChange:f=>c("veterinarian",f.target.value),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"description",children:"Description *"}),r.jsx(mt,{id:"description",value:o.description,onChange:f=>c("description",f.target.value),rows:3,placeholder:"Dtails de l'intervention, observations, traitements...",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"followUp",children:"Suivi recommand"}),r.jsx(mt,{id:"followUp",value:o.followUp,onChange:f=>c("followUp",f.target.value),rows:2,placeholder:"Recommandations, prochain contrle..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"cost",children:"Cot ()"}),r.jsx(ae,{id:"cost",type:"number",value:o.cost,onChange:f=>c("cost",f.target.value),min:"0",step:"0.01",placeholder:"0.00"})]})]}),d&&r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Informations de l'exploitation"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",d.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Propritaire:"})," ",d.owner]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",d.type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Adresse:"})," ",d.address]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:"Mettre  jour"})]})]})]})})},G5e=()=>{const{farms:e,farmInterventions:t,deleteFarm:n,deleteFarmIntervention:s,getFarmsByStatus:i,getUpcomingFarmInterventions:a}=Pt(),{toast:o}=It(),{currentView:l}=wd("farms"),[c,u]=w.useState(""),[d,f]=w.useState("all"),[m,g]=w.useState(l),[x,v]=w.useState(!1),[y,N]=w.useState(!1),[j,b]=w.useState(!1),[C,_]=w.useState(!1),[A,P]=w.useState(!1),[E,D]=w.useState(null),[I,k]=w.useState(null),O=e.filter(ee=>{var be,F;const ge=ee.name.toLowerCase().includes(c.toLowerCase())||ee.owner.toLowerCase().includes(c.toLowerCase())||((be=ee.types)==null?void 0:be.some(X=>X.toLowerCase().includes(c.toLowerCase())))||!1,xe=d==="all"||((F=ee.types)==null?void 0:F.includes(d))||!1;return ge&&xe}),U={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",urgent:"bg-red-100 text-red-800"},B={"Bovin laitier":"levage bovin laitier","Bovin viande":"levage bovin viande",Porcin:"levage porcin",Avicole:"levage avicole",Ovin:"levage ovin",Caprin:"levage caprin",quin:"levage quin",Apiculture:"Apiculture",Aquaculture:"Aquaculture",Cuniculture:"Cuniculture",Mixte:"levage mixte"},ne={vaccination:"Vaccination",controle:"Contrle sanitaire",urgence:"Urgence",chirurgie:"Chirurgie",prevention:"Prvention",consultation:"Consultation"},Y=ee=>{D(ee),b(!0)},J=ee=>{D(ee),_(!0)},q=ee=>{confirm("tes-vous sr de vouloir supprimer cette exploitation ?")&&(n(ee),o({title:"Succs",description:"Exploitation supprime"}))},$=ee=>{N(!0)},le=ee=>{confirm("tes-vous sr de vouloir supprimer cette intervention ?")&&(s(ee),o({title:"Succs",description:"Intervention supprime"}))},se=ee=>{k(ee),P(!0)},re=i("attention").length+i("urgent").length,K=a();return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Exploitations"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Grez les fermes, levages et interventions vtrinaires"})]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>v(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvelle Exploitation"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(QC,{className:"h-12 w-12 text-primary mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Exploitations"})]})}),r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(qn,{className:"h-12 w-12 text-accent mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:re}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Alertes actives"})]})}),r.jsx(de,{children:r.jsxs(he,{className:"p-6 text-center",children:[r.jsx(At,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold",children:K.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Interventions  venir"})]})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ae,{placeholder:"Rechercher par nom, propritaire ou type...",value:c,onChange:ee=>u(ee.target.value),className:"max-w-md"}),r.jsxs(Me,{value:d,onValueChange:f,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Type d'levage"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous types"}),r.jsx(z,{value:"Bovin laitier",children:"levage bovin laitier"}),r.jsx(z,{value:"Bovin viande",children:"levage bovin viande"}),r.jsx(z,{value:"Porcin",children:"levage porcin"}),r.jsx(z,{value:"Avicole",children:"levage avicole"}),r.jsx(z,{value:"Ovin",children:"levage ovin"}),r.jsx(z,{value:"Caprin",children:"levage caprin"}),r.jsx(z,{value:"quin",children:"levage quin"}),r.jsx(z,{value:"Apiculture",children:"Apiculture"}),r.jsx(z,{value:"Aquaculture",children:"Aquaculture"}),r.jsx(z,{value:"Cuniculture",children:"Cuniculture"}),r.jsx(z,{value:"Mixte",children:"levage mixte"})]})]})]})})]}),r.jsxs(vl,{defaultValue:"farms",className:"space-y-6",children:[r.jsxs(wo,{className:"grid w-full grid-cols-2",children:[r.jsxs(ln,{value:"farms",className:"gap-2",children:[r.jsx(QC,{className:"h-4 w-4"}),"Exploitations"]}),r.jsxs(ln,{value:"interventions",className:"gap-2",children:[r.jsx(At,{className:"h-4 w-4"}),"Interventions"]})]}),r.jsxs(cn,{value:"farms",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Exploitations (",O.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:m==="cards"?"default":"outline",onClick:()=>g("cards"),className:"gap-2",children:[r.jsx(ol,{className:"h-4 w-4"}),"Cartes"]}),r.jsxs(V,{size:"sm",variant:m==="table"?"default":"outline",onClick:()=>g("table"),className:"gap-2",children:[r.jsx(ll,{className:"h-4 w-4"}),"Tableau"]}),r.jsxs(V,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]})]}),O.length===0?r.jsx(de,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune exploitation trouve"})}):m==="cards"?O.map(ee=>{var ge;return r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-xl font-semibold",children:ee.name}),r.jsx(Le,{variant:"outline",className:U[ee.status],children:ee.status==="active"?"Actif":ee.status==="attention"?"Attention":"Urgent"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Propritaire:"})," ",ee.owner]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(fd,{className:"h-3 w-3"}),ee.address]}),r.jsxs("p",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),ee.phone]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Types:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(ge=ee.types)==null?void 0:ge.map(xe=>r.jsx(Le,{variant:"secondary",className:"text-xs",children:B[xe]||xe},xe))})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Animaux:"})," ",ee.totalAnimals]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vtrinaire:"})," ",ee.veterinarian]})]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dernire visite: ",ho(ee.lastVisit)]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Y(ee),children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>J(ee),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",onClick:()=>$(),children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>q(ee.id),children:r.jsx(er,{className:"h-4 w-4"})})]})]})})},ee.id)}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-4 font-medium",children:"Exploitation"}),r.jsx("th",{className:"p-4 font-medium",children:"Propritaire"}),r.jsx("th",{className:"p-4 font-medium",children:"Type"}),r.jsx("th",{className:"p-4 font-medium",children:"Statut"}),r.jsx("th",{className:"p-4 font-medium",children:"Animaux"}),r.jsx("th",{className:"p-4 font-medium",children:"Contact"}),r.jsx("th",{className:"p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:O.map(ee=>{var ge;return r.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ee.name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:ee.address})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:ee.owner}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vt: ",ee.veterinarian]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:(ge=ee.types)==null?void 0:ge.map(xe=>r.jsx(Le,{variant:"secondary",className:"text-xs",children:B[xe]||xe},xe))})}),r.jsx("td",{className:"p-4",children:r.jsx(Le,{variant:"outline",className:U[ee.status],children:ee.status==="active"?"Actif":ee.status==="attention"?"Attention":"Urgent"})}),r.jsx("td",{className:"p-4",children:ee.totalAnimals}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sf,{className:"h-3 w-3"}),ee.phone]}),r.jsxs("div",{className:"text-muted-foreground",children:["Dernire visite: ",ho(ee.lastVisit)]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Y(ee),children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>J(ee),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",onClick:()=>$(),children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>q(ee.id),children:r.jsx(er,{className:"h-4 w-4"})})]})})]},ee.id)})})]})})})})]}),r.jsxs(cn,{value:"interventions",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Interventions rcentes (",t.length,")"]}),r.jsxs(V,{onClick:()=>N(!0),className:"gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),"Nouvelle Intervention"]})]}),t.length===0?r.jsx(de,{children:r.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"Aucune intervention enregistre"})}):t.map(ee=>r.jsx(de,{className:"card-hover",children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h4",{className:"text-lg font-semibold",children:ne[ee.type]}),r.jsx(Le,{variant:"outline",className:ee.status==="completed"?"bg-green-100 text-green-800":ee.status==="ongoing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:ee.status==="completed"?"Termin":ee.status==="ongoing"?"En cours":ee.status==="scheduled"?"Programm":"Annul"})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(At,{className:"h-3 w-3"}),ho(ee.date)]}),r.jsx("span",{children:ee.farmName}),r.jsx("span",{children:ee.veterinarian})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Animaux concerns:"})," ",ee.animals]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Suivi:"})," ",ee.followUp||"Aucun"]})]}),r.jsx("p",{className:"text-sm",children:ee.description}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>se(ee),children:r.jsx(tn,{className:"h-4 w-4"})}),ee.status==="ongoing"&&r.jsx(V,{size:"sm",children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>le(ee.id),children:r.jsx(er,{className:"h-4 w-4"})})]})]})})},ee.id))]})]}),r.jsx(V5e,{open:x,onOpenChange:v}),r.jsx(U5e,{open:y,onOpenChange:N,farmId:E==null?void 0:E.id,farmName:E==null?void 0:E.name}),r.jsx(q5e,{farm:E,open:j,onOpenChange:b,onEdit:()=>J(E),onNewIntervention:()=>{b(!1),N(!0)}}),r.jsx(W5e,{farm:E,open:C,onOpenChange:_}),r.jsx(H5e,{intervention:I,open:A,onOpenChange:P})]})};var $w="Switch",[K5e,n8e]=ni($w),[Y5e,Q5e]=K5e($w),P9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=w.useState(null),x=Jt(t,b=>g(b)),v=w.useRef(!1),y=m?d||!!m.closest("form"):!0,[N,j]=vo({prop:i,defaultProp:a??!1,onChange:u,caller:$w});return r.jsxs(Y5e,{scope:n,checked:N,disabled:l,children:[r.jsx(it.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":T9(N),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:Ke(e.onClick,b=>{j(C=>!C),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&r.jsx(k9,{control:m,bubbles:!v.current,name:s,value:c,checked:N,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});P9.displayName=$w;var A9="SwitchThumb",E9=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=Q5e(A9,n);return r.jsx(it.span,{"data-state":T9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});E9.displayName=A9;var X5e="SwitchBubbleInput",k9=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=w.useRef(null),l=Jt(o,a),c=pE(n),u=RA(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const x=new Event("click",{bubbles:s});g.call(d,n),d.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});k9.displayName=X5e;function T9(e){return e?"checked":"unchecked"}var O9=P9,J5e=E9;const zr=w.forwardRef(({className:e,...t},n)=>r.jsx(O9,{className:et("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(J5e,{className:et("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));zr.displayName=O9.displayName;function XS({children:e,protocol:t,mode:n}){const{addVaccinationProtocol:s,updateVaccinationProtocol:i}=Pt(),{settings:a}=Gt(),{toast:o}=It(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par dfaut)"}],ageRequirement:"",notes:"",isActive:!0});w.useEffect(()=>{n==="edit"&&t&&d({name:t.name,species:t.species,vaccineType:t.vaccineType,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals||[],ageRequirement:t.ageRequirement||"",notes:t.notes||"",isActive:t.isActive})},[n,t]);const f=g=>{if(g.preventDefault(),!u.name||!u.species||!u.vaccineType||!u.description){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n==="create"?(s({name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole cr",description:`Le protocole ${u.name} a t cr avec succs`})):t&&(i(t.id,{name:u.name,species:u.species,vaccineType:u.vaccineType,description:u.description,manufacturer:u.manufacturer,intervals:u.intervals,ageRequirement:u.ageRequirement,notes:u.notes,isActive:u.isActive}),o({title:"Protocole modifi",description:`Le protocole ${u.name} a t modifi avec succs`})),d({name:"",species:"",vaccineType:"",description:"",manufacturer:"",intervals:[{offsetDays:365,label:"1 an (intervalle par dfaut)"}],ageRequirement:"",notes:"",isActive:!0}),c(!1)},m=a.species?a.species.split(",").map(g=>g.trim()):["Chien","Chat","Furet","Lapin","Oiseau","Rongeur"];return r.jsxs(wt,{open:l,onOpenChange:c,children:[r.jsx(Lc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[n==="create"?r.jsx(ft,{className:"h-4 w-4"}):r.jsx(tn,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Nt,{children:r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),n==="create"?"Nouveau Protocole Vaccinal":"Modifier le Protocole"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"name",children:"Nom du vaccin *"}),r.jsx(ae,{id:"name",value:u.name,onChange:g=>d(x=>({...x,name:g.target.value})),placeholder:"Ex: DHPP, FVRCP, Rage...",required:!0})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"species",children:"Espce *"}),r.jsxs(Me,{value:u.species,onValueChange:g=>d(x=>({...x,species:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner une espce"})}),r.jsx(De,{children:m.map(g=>r.jsx(z,{value:g,children:g},g))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"vaccineType",children:"Type de vaccin *"}),r.jsxs(Me,{value:u.vaccineType,onValueChange:g=>d(x=>({...x,vaccineType:g})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type de vaccin"})}),r.jsxs(De,{children:[r.jsx(z,{value:"core",children:"Essentiel (Core)"}),r.jsx(z,{value:"non-core",children:"Optionnel (Non-core)"}),r.jsx(z,{value:"rabies",children:"Rage"}),r.jsx(z,{value:"custom",children:"Personnalis"})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ae,{id:"manufacturer",value:u.manufacturer,onChange:g=>d(x=>({...x,manufacturer:g.target.value})),placeholder:"Ex: Zoetis, Merial, Virbac..."})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"description",children:"Description *"}),r.jsx(mt,{id:"description",value:u.description,onChange:g=>d(x=>({...x,description:g.target.value})),placeholder:"Description du vaccin et des maladies qu'il prvient...",rows:3,required:!0})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(L,{children:"tapes du protocole"}),(u.intervals||[]).map((g,x)=>{let v=g.offsetDays,y="days";g.offsetDays%30===0&&g.offsetDays!==0?(v=g.offsetDays/30,y="months"):g.offsetDays%7===0&&g.offsetDays!==0&&(v=g.offsetDays/7,y="weeks");const N=`${v} ${y==="weeks"?"semaine(s)":y==="months"?"mois":"jour(s)"}`;return r.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[r.jsx(ae,{type:"number",min:0,value:v,onChange:j=>{const b=parseInt(j.target.value)||0,C=y==="weeks"?b*7:y==="months"?b*30:b;d(_=>{const A=[..._.intervals];return A[x].offsetDays=C,{..._,intervals:A}})}}),r.jsxs(Me,{value:y,onValueChange:j=>{const b=j,C=b==="weeks"?v*7:b==="months"?v*30:v;d(_=>{const A=[..._.intervals];return A[x].offsetDays=C,{..._,intervals:A}})},children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"days",children:"Jours"}),r.jsx(z,{value:"weeks",children:"Semaines"}),r.jsx(z,{value:"months",children:"Mois"})]})]}),r.jsx("div",{className:"p-2",children:N}),r.jsx(V,{type:"button",variant:"outline",size:"icon",onClick:()=>{d(j=>{const b=j.intervals.filter((C,_)=>_!==x);return{...j,intervals:b}})},children:""})]},x)}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>d(g=>({...g,intervals:[...g.intervals||[],{offsetDays:0}]})),children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter une tape"]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"ageRequirement",children:"ge requis"}),r.jsx(ae,{id:"ageRequirement",value:u.ageRequirement,onChange:g=>d(x=>({...x,ageRequirement:g.target.value})),placeholder:"Ex:  partir de 6 semaines"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"notes",children:"Notes supplmentaires"}),r.jsx(mt,{id:"notes",value:u.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),placeholder:"Informations complmentaires, contre-indications, etc...",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zr,{id:"isActive",checked:u.isActive,onCheckedChange:g=>d(x=>({...x,isActive:g}))}),r.jsx(L,{htmlFor:"isActive",children:"Protocole actif"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsxs(V,{type:"submit",children:[r.jsx(wi,{className:"h-4 w-4 mr-2"}),n==="create"?"Crer le protocole":"Modifier le protocole"]})]})]})]})]})}const Y3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Q3=e=>{switch(e){case"completed":return r.jsx(Zn,{className:"h-4 w-4"});case"overdue":return r.jsx(qn,{className:"h-4 w-4"});case"scheduled":return r.jsx(Rn,{className:"h-4 w-4"});case"missed":return r.jsx(qn,{className:"h-4 w-4"});default:return r.jsx(Rn,{className:"h-4 w-4"})}},Z5e=()=>{const{vaccinations:e,pets:t,clients:n}=Pt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"vaccination",title:o.vaccineName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(zk,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Vaccinal",icon:r.jsx(At,{className:"h-5 w-5"})})};function e6e(){var ys;const{vaccinations:e,pets:t,clients:n,vaccinationProtocols:s,getVaccinationsByPetId:i,getOverdueVaccinations:a,getUpcomingVaccinations:o,getVaccinationsByStatus:l,getActiveVaccinationProtocols:c,getVaccinationProtocolsBySpecies:u,deleteVaccinationProtocol:d,deleteVaccination:f,updateVaccination:m}=Pt(),{settings:g}=Gt(),{currentView:x}=wd("vaccinations"),{toast:v}=It(),[y,N]=w.useState(x),[j,b]=w.useState(""),[C,_]=w.useState("all"),[A,P]=w.useState("all"),[E,D]=w.useState("all"),[I,k]=w.useState("overview"),[O,U]=w.useState(!1),[B,ne]=w.useState(null),[Y,J]=w.useState(null),[q,$]=w.useState(null),[le,se]=w.useState(null),[re,K]=w.useState(!1),[ee,ge]=w.useState(!1),[xe,be]=w.useState(null),F=w.useRef(null),[X,te]=w.useState(null),[G,M]=w.useState(!1),[ye,Ne]=w.useState(!1),[fe,Pe]=w.useState(null),[Ze,at]=w.useState(""),dt=()=>{if(!fe)return;const{id:Ce,field:Wt}=fe,nt=e.find(pt=>pt.id===Ce);if(nt){const pt={...nt,[Wt]:Ze};m(Ce,pt),v({title:"Modifi",description:`${Wt} mis  jour`})}Pe(null)},Se=Bk.useReactToPrint({contentRef:F,onAfterPrint:()=>U(!1)}),qe=(Ce,Wt)=>{m(Ce,{status:Wt}),$(null),v({title:"Statut mis  jour",description:`Le statut de la vaccination a t chang en "${{completed:"Termine",scheduled:"Planifie",overdue:"En retard",missed:"Manque"}[Wt]}"`})},We=Ce=>{se(Ce),K(!0)},Ft=Ce=>{be(Ce),ge(!0)},xn=()=>{if(xe){f(xe.id);const Ce=xe.vaccinationCategory==="reminder"?"rappel":"vaccination",Wt=xe.vaccinationCategory==="new"?e.filter(nt=>nt.originalVaccinationId===xe.id).length:0;v({title:`${Ce.charAt(0).toUpperCase()+Ce.slice(1)} supprime`,description:xe.vaccinationCategory==="new"&&Wt>0?`La vaccination ${xe.vaccineName} et ses ${Wt} rappel(s) ont t supprims avec succs.`:`Le ${Ce} ${xe.vaccineName} a t supprim avec succs.`}),ge(!1),be(null)}},_t=()=>{K(!1),se(null)},fn=w.useMemo(()=>{const Ce=e.length,Wt=l("completed").length,nt=a().length,pt=o().length,sn=l("scheduled").length,os=e.filter(Bs=>Bs.vaccinationCategory==="reminder").length,Xr=e.filter(Bs=>Bs.vaccinationCategory==="new").length;return{total:Ce,completed:Wt,overdue:nt,upcoming:pt,scheduled:sn,reminders:os,originalVaccinations:Xr}},[e,l,a,o]),dr=w.useMemo(()=>e.filter(Ce=>{const Wt=Ce.petName.toLowerCase().includes(j.toLowerCase())||Ce.clientName.toLowerCase().includes(j.toLowerCase())||Ce.vaccineName.toLowerCase().includes(j.toLowerCase())||Ce.veterinarian.toLowerCase().includes(j.toLowerCase()),nt=C==="all"||Ce.status===C,pt=A==="all"||Ce.vaccineType===A,sn=E==="all"||Ce.vaccinationCategory===E;return Wt&&nt&&pt&&sn}),[e,j,C,A,E]),Yn=()=>{const Ce=JSON.stringify(e,null,2),Wt=new Blob([Ce],{type:"application/json"}),nt=URL.createObjectURL(Wt),pt=document.createElement("a");pt.href=nt,pt.download=`vaccinations-${Rt(new Date,"yyyy-MM-dd")}.json`,pt.click(),URL.revokeObjectURL(nt)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Ts,{className:"h-8 w-8 text-blue-600"}),"Gestion Vaccinale"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Suivi et planification des vaccinations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{onClick:Yn,variant:"outline",className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter"]}),r.jsx(F0,{})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(Ts,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fn.total})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(Zn,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Termines"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fn.completed})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(qn,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fn.overdue})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx(Rn,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prochaines 30j"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fn.upcoming})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(At,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Planifies"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fn.scheduled})]})]})})})]}),r.jsxs(vl,{value:I,onValueChange:k,children:[r.jsxs(wo,{className:"grid w-full grid-cols-4",children:[r.jsxs(ln,{value:"overview",className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-4 w-4"}),"Vue d'ensemble"]}),r.jsxs(ln,{value:"calendar",className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4"}),"Calendrier"]}),r.jsxs(ln,{value:"protocols",className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-4 w-4"}),"Protocoles"]}),r.jsxs(ln,{value:"certificates",className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-4 w-4"}),"Certificats"]})]}),r.jsxs(cn,{value:"overview",className:"space-y-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ae,{placeholder:"Rechercher animal, client, vaccin...",value:j,onChange:Ce=>b(Ce.target.value),className:"pl-10"})]}),r.jsxs(Me,{value:C,onValueChange:_,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous statuts"}),r.jsx(z,{value:"completed",children:"Termines"}),r.jsx(z,{value:"scheduled",children:"Planifies"}),r.jsx(z,{value:"overdue",children:"En retard"}),r.jsx(z,{value:"missed",children:"Manques"})]})]}),r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous types"}),r.jsx(z,{value:"core",children:"Essentiels"}),r.jsx(z,{value:"non-core",children:"Optionnels"}),r.jsx(z,{value:"rabies",children:"Rage"}),r.jsx(z,{value:"custom",children:"Personnaliss"})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Me,{value:E,onValueChange:D,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Toutes catgories"}),r.jsx(z,{value:"new",children:"Vaccinations"}),r.jsx(z,{value:"reminder",children:"Rappels"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:y==="cards"?"default":"outline",size:"sm",onClick:()=>N("cards"),children:r.jsx(ol,{className:"h-4 w-4"})}),r.jsx(V,{variant:y==="table"?"default":"outline",size:"sm",onClick:()=>N("table"),children:r.jsx(ll,{className:"h-4 w-4"})})]})]})})}),y==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:dr.map(Ce=>{const Wt=t.find(pt=>pt.id===Ce.petId),nt=n.find(pt=>pt.id===Ce.clientId);return r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gr,{className:"h-10 w-10",children:[r.jsx(dl,{src:Wt==null?void 0:Wt.photo}),r.jsx(Kr,{children:r.jsx(ju,{className:"h-5 w-5"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:Ce.petName}),r.jsxs("p",{className:"text-xs text-gray-600",children:[Wt==null?void 0:Wt.type,"  ",nt==null?void 0:nt.name]})]})]}),q===Ce.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:Ce.status,onValueChange:pt=>qe(Ce.id,pt),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"completed",children:"Termine"}),r.jsx(z,{value:"scheduled",children:"Planifie"}),r.jsx(z,{value:"overdue",children:"En retard"}),r.jsx(z,{value:"missed",children:"Manque"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>$(null),children:"Annuler"})]}):r.jsxs(Le,{className:`${Y3(Ce.status)} cursor-pointer hover:opacity-80`,onClick:()=>$(Ce.id),children:[Q3(Ce.status),r.jsx("span",{className:"ml-1 capitalize",children:Ce.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:`h-4 w-4 ${Ce.vaccinationCategory==="reminder"?"text-orange-600":"text-blue-600"}`}),r.jsxs("span",{className:"font-medium text-sm",children:[Ce.vaccineName,Ce.vaccinationCategory==="reminder"&&r.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"(Rappel)"})]}),r.jsx(Le,{variant:"outline",className:"text-xs",children:Ce.vaccineType}),Ce.vaccinationCategory==="reminder"&&r.jsx(Le,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsxs("span",{children:["Date d'administration: ",Rt(new Date(Ce.dateGiven),"dd/MM/yyyy",{locale:Ki})]})]}),Ce.vaccinationCategory==="new"&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Rn,{className:"h-4 w-4"}),r.jsxs("span",{children:["Prochain rappel: ",Rt(new Date(Ce.nextDueDate),"dd/MM/yyyy",{locale:Ki})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Ia,{className:"h-4 w-4"}),r.jsx("span",{children:Ce.veterinarian})]}),Ce.cost&&r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:r.jsxs("span",{className:"font-medium",children:[Ce.cost," ",g.currency]})}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:Ce.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx(Le,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ce.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ce.stockQuantity,")"]})]}):Ce.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-3 border-t",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{te(Ce),M(!0)},children:[r.jsx(wr,{className:"h-4 w-4 mr-1"}),"Dtails"]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{te(Ce),Ne(!0)},children:r.jsx(tr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>We(Ce),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Ft(Ce),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(er,{className:"h-4 w-4"})})]})]})},Ce.id)})}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(kt,{children:"Animal"}),r.jsx(kt,{children:"Vaccin"}),r.jsx(kt,{children:"Type"}),r.jsx(kt,{children:"Date donne"}),r.jsx(kt,{children:"Statut"}),r.jsx(kt,{children:"Stock"}),r.jsx(kt,{children:"Vtrinaire"}),r.jsx(kt,{children:"Cot"}),r.jsx(kt,{children:"Actions"})]})}),r.jsx(ym,{children:dr.map(Ce=>{const Wt=t.find(pt=>pt.id===Ce.petId),nt=n.find(pt=>pt.id===Ce.clientId);return r.jsxs(za,{children:[r.jsx(Tt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Gr,{className:"h-8 w-8",children:[r.jsx(dl,{src:Wt==null?void 0:Wt.photo}),r.jsx(Kr,{children:r.jsx(ju,{className:"h-4 w-4"})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:Ce.petName}),r.jsx("div",{className:"text-xs text-gray-600",children:nt==null?void 0:nt.name})]})]})}),r.jsx(Tt,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Ce.vaccineName}),Ce.vaccinationCategory==="reminder"&&r.jsx(Le,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"Rappel"})]})}),r.jsx(Tt,{children:r.jsx(Le,{variant:"outline",className:"text-xs",children:Ce.vaccineType})}),r.jsx(Tt,{className:"cursor-pointer",onClick:()=>{Pe({id:Ce.id,field:"dateGiven"}),at(Ce.dateGiven)},children:(fe==null?void 0:fe.id)===Ce.id&&fe.field==="dateGiven"?r.jsx(ae,{type:"date",value:Ze,onChange:pt=>at(pt.target.value),onBlur:dt,autoFocus:!0}):Rt(new Date(Ce.dateGiven),"dd/MM/yyyy")}),r.jsx(Tt,{children:q===Ce.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{value:Ce.status,onValueChange:pt=>qe(Ce.id,pt),children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"completed",children:"Termine"}),r.jsx(z,{value:"scheduled",children:"Planifie"}),r.jsx(z,{value:"overdue",children:"En retard"}),r.jsx(z,{value:"missed",children:"Manque"})]})]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>$(null),children:"Annuler"})]}):r.jsxs(Le,{className:`${Y3(Ce.status)} cursor-pointer hover:opacity-80`,onClick:()=>$(Ce.id),children:[Q3(Ce.status),r.jsx("span",{className:"ml-1 capitalize",children:Ce.status})]})}),r.jsx(Tt,{children:Ce.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx(Le,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Ce.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Ce.stockQuantity,")"]})]}):Ce.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Tt,{className:"cursor-pointer",onClick:()=>{Pe({id:Ce.id,field:"veterinarian"}),at(Ce.veterinarian)},children:(fe==null?void 0:fe.id)===Ce.id&&fe.field==="veterinarian"?r.jsxs(Me,{value:Ze,onValueChange:pt=>{at(pt),Pe(null);const sn={...e.find(os=>os.id===Ce.id),veterinarian:pt};m(Ce.id,sn)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsx(De,{children:g.veterinarians.filter(pt=>pt.isActive).map(pt=>r.jsx(z,{value:pt.name,children:pt.name},pt.id))})]}):Ce.veterinarian}),r.jsx(Tt,{className:"cursor-pointer",onClick:()=>{Pe({id:Ce.id,field:"cost"}),at(String(Ce.cost||""))},children:(fe==null?void 0:fe.id)===Ce.id&&fe.field==="cost"?r.jsx(ae,{type:"number",value:Ze,onChange:pt=>at(pt.target.value),onBlur:()=>{dt()},autoFocus:!0}):r.jsxs(r.Fragment,{children:[" ",Ce.cost," ",g.currency," "]})}),r.jsx(Tt,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{te(Ce),M(!0)},children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{te(Ce),Ne(!0)},children:r.jsx(tr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>We(Ce),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>Ft(Ce),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(er,{className:"h-4 w-4"})})]})})]},Ce.id)})})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(Z5e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion des Protocoles Vaccinaux"}),r.jsx(XS,{mode:"create"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(wi,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Protocoles"}),r.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx(Zn,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actifs"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Ce=>Ce.isActive).length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:r.jsx(qt,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Essentiels"}),r.jsx("p",{className:"text-xl font-bold",children:s.filter(Ce=>Ce.vaccineType==="core").length})]})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(Ia,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Espces"}),r.jsx("p",{className:"text-xl font-bold",children:new Set(s.map(Ce=>Ce.species)).size})]})]})})})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous types"}),r.jsx(z,{value:"core",children:"Essentiels"}),r.jsx(z,{value:"non-core",children:"Optionnels"}),r.jsx(z,{value:"rabies",children:"Rage"}),r.jsx(z,{value:"custom",children:"Personnaliss"})]})]}),r.jsxs(Me,{value:E,onValueChange:D,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Toutes catgories"}),r.jsx(z,{value:"new",children:"Vaccinations"}),r.jsx(z,{value:"reminder",children:"Rappels"})]})]}),r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ae,{placeholder:"Rechercher un protocole...",value:j,onChange:Ce=>b(Ce.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"space-y-6",children:Array.from(new Set(s.map(Ce=>Ce.species))).map(Ce=>{const Wt=s.filter(nt=>nt.species===Ce).filter(nt=>{const pt=A==="all"||nt.vaccineType===A,sn=nt.name.toLowerCase().includes(j.toLowerCase())||nt.description.toLowerCase().includes(j.toLowerCase());return pt&&sn});return Wt.length===0?null:r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ju,{className:"h-5 w-5"}),Ce," (",Wt.length," protocoles)"]})})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Wt.map(nt=>r.jsx(de,{className:"hover:shadow-md transition-shadow",children:r.jsxs(he,{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:nt.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Le,{variant:nt.vaccineType==="core"?"default":"secondary",className:"text-xs",children:nt.vaccineType==="core"?"Essentiel":nt.vaccineType==="non-core"?"Optionnel":nt.vaccineType==="rabies"?"Rage":"Personnalis"}),!nt.isActive&&r.jsx(Le,{variant:"outline",className:"text-xs",children:"Inactif"})]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:nt.description}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rappel:"}),r.jsx("span",{className:"font-medium",children:nt.intervals&&nt.intervals.length>0?nt.intervals.map(pt=>pt.label).join(", "):"Non spcifi"})]}),nt.manufacturer&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fabricant:"}),r.jsx("span",{className:"font-medium",children:nt.manufacturer})]}),nt.ageRequirement&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"ge requis:"}),r.jsx("span",{className:"font-medium",children:nt.ageRequirement})]})]}),nt.notes&&r.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:r.jsx("p",{className:"text-xs text-gray-600",children:nt.notes})}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(XS,{mode:"edit",protocol:nt,children:r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",children:[r.jsx(tn,{className:"h-4 w-4 mr-1"}),"Modifier"]})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>{confirm(`tes-vous sr de vouloir supprimer le protocole "${nt.name}" ?`)&&d(nt.id)},className:"text-red-600 hover:text-red-700",children:""})]})]})},nt.id))})})]},Ce)})}),s.length===0&&r.jsx(de,{children:r.jsxs(he,{className:"p-8 text-center text-muted-foreground",children:[r.jsx(wi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"Aucun protocole vaccinal configur"}),r.jsx("p",{className:"text-sm mb-4",children:"Commencez par crer votre premier protocole"}),r.jsx(XS,{mode:"create",children:r.jsxs(V,{children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Crer un protocole"]})})]})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-5 w-5"}),"Certificats de Vaccination"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Gnrez des certificats officiels de vaccination pour les voyages et comptitions."}),r.jsxs(wt,{open:O,onOpenChange:U,children:[r.jsx(Lc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Gnrer un Certificat"]})}),r.jsxs(vt,{className:"max-w-lg",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Slectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{value:(Y==null?void 0:Y.toString())||"",onValueChange:Ce=>{J(parseInt(Ce)),ne(null)},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un client"})}),r.jsx(De,{children:n.map(Ce=>r.jsx(z,{value:Ce.id.toString(),children:Ce.name},Ce.id))})]}),r.jsxs(Me,{value:(B==null?void 0:B.toString())||"",onValueChange:Ce=>ne(parseInt(Ce)),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un animal"})}),r.jsx(De,{children:t.filter(Ce=>Y?Ce.ownerId===Y:!1).map(Ce=>r.jsxs(z,{value:Ce.id.toString(),children:[Ce.name," (",Ce.type,")"]},Ce.id))})]}),B&&r.jsx("div",{className:"hidden",children:r.jsx(CP,{ref:F,petId:B})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{disabled:!B,onClick:Se,children:"Gnrer PDF"})})]})]})]})]})]})})]}),r.jsx(wt,{open:G,onOpenChange:M,children:r.jsxs(vt,{className:"max-w-2xl",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Dtails de la Vaccination"})}),X&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Animal:"}),r.jsx("p",{children:X.petName})]}),r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Client:"}),r.jsx("p",{children:(ys=n.find(Ce=>Ce.id===X.clientId))==null?void 0:ys.name})]}),r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Vaccin:"}),r.jsx("p",{children:X.vaccineName})]}),r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Type:"}),r.jsx("p",{children:X.vaccineType})]}),r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Date donne:"}),r.jsx("p",{children:Rt(new Date(X.dateGiven),"dd/MM/yyyy",{locale:Ki})})]}),r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Rappel:"}),r.jsx("p",{children:Rt(new Date(X.nextDueDate),"dd/MM/yyyy",{locale:Ki})})]}),r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Vtrinaire:"}),r.jsx("p",{children:X.veterinarian})]}),r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Cot:"}),r.jsxs("p",{children:[X.cost," ",g.currency]})]})]}),X.notes&&r.jsxs("div",{children:[r.jsx(L,{className:"font-medium",children:"Notes:"}),r.jsx("p",{className:"text-muted-foreground",children:X.notes})]})]})]})}),r.jsx(wt,{open:ye,onOpenChange:Ne,children:r.jsxs(vt,{className:"max-w-lg",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Document de Vaccination"})}),X&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Gnrez un document officiel pour la vaccination de ",X.petName,"."]}),r.jsx("div",{className:"hidden",children:r.jsx(CP,{ref:F,petId:X.petId})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>Ne(!1),children:"Annuler"}),r.jsx(V,{onClick:Se,children:"Gnrer PDF"})]})]})]})}),r.jsx(F0,{open:re,onOpenChange:_t,editingVaccination:le}),r.jsx(wt,{open:ee,onOpenChange:ge,children:r.jsxs(vt,{className:"max-w-md",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Confirmer la suppression"})}),xe&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["tes-vous sr de vouloir supprimer ",xe.vaccinationCategory==="reminder"?"le rappel":"la vaccination"," ",r.jsx("strong",{children:xe.vaccineName})," pour ",r.jsx("strong",{children:xe.petName})," ?"]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Cette action est irrversible et supprimera galement l'entre du dossier mdical.",xe.vaccinationCategory==="reminder"?r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Note :"})," Seul ce rappel sera supprim, les autres rappels de la mme vaccination ne seront pas affects."]}):r.jsxs("span",{className:"block mt-1",children:[r.jsx("strong",{children:"Attention :"})," La suppression de cette vaccination supprimera galement tous ses rappels associs."]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>ge(!1),children:"Annuler"}),r.jsx(V,{variant:"destructive",onClick:xn,children:"Supprimer"})]})]})]})})]})}function X3({children:e,protocol:t,mode:n}){const{addAntiparasiticProtocol:s,updateAntiparasiticProtocol:i}=Pt(),{settings:a}=Gt(),{toast:o}=It(),[l,c]=w.useState(!1),[u,d]=w.useState({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),[f,m]=w.useState(["days"]);w.useEffect(()=>{n==="edit"&&t&&(d({name:t.name,species:t.species,productType:t.productType,targetParasites:t.targetParasites,description:t.description,manufacturer:t.manufacturer||"",intervals:t.intervals,weightRange:t.weightRange||"",ageRequirement:t.ageRequirement||"",seasonalTreatment:t.seasonalTreatment||!1,notes:t.notes||"",isActive:t.isActive}),m(t.intervals.map(v=>v.offsetDays%30===0?"months":v.offsetDays%7===0?"weeks":"days")))},[n,t]);const g=v=>{if(v.preventDefault(),!u.name||!u.species||!u.productType||!u.description){o({title:"Erreur",description:"Champs obligatoires manquants",variant:"destructive"});return}n==="create"?(s(u),o({title:"Protocole cr",description:`${u.name} a t ajout.`})):t&&(i(t.id,u),o({title:"Protocole mis  jour",description:`${u.name} a t modifi.`})),d({name:"",species:"",productType:"external",targetParasites:"",description:"",manufacturer:"",intervals:[{offsetDays:30,label:"30 jours"}],weightRange:"",ageRequirement:"",seasonalTreatment:!1,notes:"",isActive:!0}),c(!1)},x=a.species?a.species.split(",").map(v=>v.trim()):["Chien","Chat","Bovins","Ovins"];return r.jsxs(wt,{open:l,onOpenChange:c,children:[r.jsx(Lc,{asChild:!0,children:e||r.jsxs(V,{className:"gap-2",children:[n==="create"?r.jsx(ft,{className:"h-4 w-4"}):r.jsx(tn,{className:"h-4 w-4"}),n==="create"?"Nouveau Protocole":"Modifier"]})}),r.jsxs(vt,{children:[r.jsx(Nt,{children:r.jsx(St,{children:n==="create"?"Nouveau Protocole Antiparasitaire":"Modifier le Protocole"})}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"name",children:"Nom du protocole *"}),r.jsx(ae,{id:"name",value:u.name,onChange:v=>d(y=>({...y,name:v.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"species",children:"Espce *"}),r.jsxs(Me,{value:u.species,onValueChange:v=>d(y=>({...y,species:v})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Espce"})}),r.jsx(De,{children:x.map(v=>r.jsx(z,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"productType",children:"Type de produit"}),r.jsxs(Me,{value:u.productType,onValueChange:v=>d(y=>({...y,productType:v})),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Type"})}),r.jsxs(De,{children:[r.jsx(z,{value:"external",children:"Externe"}),r.jsx(z,{value:"internal",children:"Interne"}),r.jsx(z,{value:"combined",children:"Combin"}),r.jsx(z,{value:"heartworm",children:"Ver du cur"}),r.jsx(z,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(z,{value:"worming",children:"Vermifugation"})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"targetParasites",children:"Parasites cibles"}),r.jsx(ae,{id:"targetParasites",value:u.targetParasites,onChange:v=>d(y=>({...y,targetParasites:v.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"description",children:"Description"}),r.jsx(mt,{id:"description",value:u.description,onChange:v=>d(y=>({...y,description:v.target.value})),required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{checked:u.isActive,onCheckedChange:v=>d(y=>({...y,isActive:v}))}),r.jsx(L,{children:"Actif"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"tapes / Intervalles"}),u.intervals.map((v,y)=>{const N=f[y],j=N==="months"?v.offsetDays/30:N==="weeks"?v.offsetDays/7:v.offsetDays;return r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(ae,{type:"number",value:j,min:0,onChange:b=>{const C=parseInt(b.target.value)||0,_=N==="months"?C*30:N==="weeks"?C*7:C;d(A=>{const P=[...A.intervals];return P[y].offsetDays=_,{...A,intervals:P}})},className:"w-20"}),r.jsxs(Me,{value:N,onValueChange:b=>{m(C=>{const _=[...C];return _[y]=b,_})},children:[r.jsx(Oe,{className:"w-24",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"days",children:"jours"}),r.jsx(z,{value:"weeks",children:"semaines"}),r.jsx(z,{value:"months",children:"mois"})]})]}),r.jsxs("span",{className:"ml-2",children:[v.offsetDays," jours"]}),r.jsx(V,{type:"button",variant:"destructive",onClick:()=>{d(b=>({...b,intervals:b.intervals.filter((C,_)=>_!==y)})),m(b=>b.filter((C,_)=>_!==y))},children:"Suppr."})]},y)}),r.jsx(V,{type:"button",onClick:()=>{d(v=>({...v,intervals:[...v.intervals,{offsetDays:0,label:""}]})),m(v=>[...v,"days"])},children:"Ajouter une tape"})]}),r.jsx(V,{type:"submit",className:"w-full",children:n==="create"?"Crer":"Mettre  jour"})]})]})]})}const J3=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"missed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},t6e=()=>{const{antiparasitics:e,pets:t,clients:n}=Pt(),s=w.useMemo(()=>e.map(o=>{var l,c;return{id:o.id,type:"antiparasitic",title:o.productName,date:o.nextDueDate,status:o.status,clientName:(l=n.find(u=>u.id===o.clientId))==null?void 0:l.name,petName:(c=t.find(u=>u.id===o.petId))==null?void 0:c.name}}),[e,n,t]),i=o=>{},a=o=>{};return r.jsx(zk,{events:s,onEventClick:i,onDateClick:a,title:"Calendrier Antiparasitaire",icon:r.jsx(ac,{className:"h-5 w-5"})})},Z3=e=>{switch(e){case"completed":return r.jsx(Zn,{className:"h-4 w-4"});case"overdue":return r.jsx(qn,{className:"h-4 w-4"});case"scheduled":return r.jsx(Rn,{className:"h-4 w-4"});case"missed":return r.jsx(qn,{className:"h-4 w-4"});default:return r.jsx(Rn,{className:"h-4 w-4"})}};function n6e(){const{antiparasitics:e,pets:t,clients:n,antiparasiticProtocols:s,getOverdueAntiparasitics:i,getUpcomingAntiparasitics:a,getAntiparasiticsByStatus:o,getActiveAntiparasiticProtocols:l,getAntiparasiticProtocolsBySpecies:c,addAntiparasitic:u,updateAntiparasitic:d,deleteAntiparasitic:f}=Pt(),{settings:m}=Gt(),{currentView:g}=wd("antiparasitics"),{toast:x}=It(),[v,y]=w.useState(null),[N,j]=w.useState(""),[b,C]=w.useState(!1),[_,A]=w.useState(null),[P,E]=w.useState(!1),[D,I]=w.useState(null),k=()=>{if(!v)return;const{id:Se,field:qe}=v,We=e.find(Ft=>Ft.id===Se);if(We){const Ft={...We,[qe]:N};d(Se,Ft),x({title:"Modifi",description:`${qe} mis  jour`})}y(null)},[O,U]=w.useState(""),[B,ne]=w.useState("all"),[Y,J]=w.useState("all"),[q,$]=w.useState(g),[le,se]=w.useState(!1),[re,K]=w.useState(null),[ee,ge]=w.useState(null),xe=w.useRef(null),be=Bk.useReactToPrint({contentRef:xe,onAfterPrint:()=>se(!1)}),F=e.length,X=o("completed").length,te=i().length,G=a().length,M=w.useMemo(()=>[...new Set(s.map(qe=>qe.species))].reduce((qe,We)=>(qe[We]=c(We),qe),{}),[s]),ye=w.useMemo(()=>e.filter(Se=>{t.find(xn=>xn.id===Se.petId),n.find(xn=>xn.id===Se.clientId);const qe=!O||Se.productName.toLowerCase().includes(O.toLowerCase())||Se.petName.toLowerCase().includes(O.toLowerCase())||Se.clientName.toLowerCase().includes(O.toLowerCase()),We=B==="all"||Se.status===B,Ft=Y==="all"||Se.productType===Y;return qe&&We&&Ft}),[e,t,n,O,B,Y]),[Ne,fe]=w.useState(""),[Pe,Ze]=w.useState("all");w.useMemo(()=>s.filter(Se=>{const qe=!Ne||Se.name.toLowerCase().includes(Ne.toLowerCase())||Se.species.toLowerCase().includes(Ne.toLowerCase())||Se.targetParasites.toLowerCase().includes(Ne.toLowerCase()),We=Pe==="all"||Se.productType===Pe;return qe&&We}),[s,Ne,Pe]);const at=Se=>{I(Se.petId),E(!0)},dt=Se=>{A(Se),C(!0)};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:"Gestion Antiparasitaire"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Suivi des traitements antiparasitaires et protocoles de prvention"})]}),r.jsx(B0,{children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Traitement"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Traitements"}),r.jsx("p",{className:"text-2xl font-bold",children:F})]}),r.jsx(ac,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Complts"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:X})]}),r.jsx(Zn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"En Retard"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:te})]}),r.jsx(qn,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" Venir (7j)"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:G})]}),r.jsx(Rn,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsxs(vl,{defaultValue:"treatments",className:"space-y-6",children:[r.jsxs(wo,{className:"grid w-full grid-cols-4",children:[r.jsx(ln,{value:"treatments",children:"Traitements"}),r.jsx(ln,{value:"calendar",children:"Calendrier"}),r.jsx(ln,{value:"protocols",children:"Protocoles"}),r.jsx(ln,{value:"certificates",children:"Certificats"})]}),r.jsxs(cn,{value:"treatments",className:"space-y-6",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(AA,{className:"h-5 w-5"}),"Filtres et Recherche"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ae,{placeholder:"Rechercher par produit, animal ou client...",value:O,onChange:Se=>U(Se.target.value),className:"pl-10"})]})}),r.jsxs(Me,{value:B,onValueChange:ne,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous statuts"}),r.jsx(z,{value:"completed",children:"Complt"}),r.jsx(z,{value:"scheduled",children:"Planifi"}),r.jsx(z,{value:"overdue",children:"En retard"}),r.jsx(z,{value:"missed",children:"Manqu"})]})]}),r.jsxs(Me,{value:Y,onValueChange:J,children:[r.jsx(Oe,{className:"w-[150px]",children:r.jsx(Ie,{placeholder:"Type"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous types"}),r.jsx(z,{value:"external",children:"Externe"}),r.jsx(z,{value:"internal",children:"Interne"}),r.jsx(z,{value:"combined",children:"Combin"}),r.jsx(z,{value:"heartworm",children:"Ver du cur"}),r.jsx(z,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(z,{value:"worming",children:"Vermifugation"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:q==="cards"?"default":"outline",size:"sm",onClick:()=>$("cards"),children:r.jsx(ol,{className:"h-4 w-4"})}),r.jsx(V,{variant:q==="table"?"default":"outline",size:"sm",onClick:()=>$("table"),children:r.jsx(ll,{className:"h-4 w-4"})})]})]})})]}),q==="cards"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ye.map(Se=>{const qe=t.find(We=>We.id===Se.petId);return n.find(We=>We.id===Se.clientId),r.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ke,{className:"text-lg",children:Se.productName}),r.jsxs(Le,{className:J3(Se.status),children:[Z3(Se.status),r.jsx("span",{className:"ml-1",children:Se.status==="completed"?"Complt":Se.status==="scheduled"?"Planifi":Se.status==="overdue"?"En retard":"Manqu"})]})]})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Gr,{className:"h-10 w-10",children:qe!=null&&qe.photo?r.jsx(dl,{src:qe.photo,alt:qe.name}):r.jsx(Kr,{children:r.jsx(ju,{className:"h-5 w-5"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Se.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Se.clientName})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:Se.productType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:Se.targetParasites})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Date donne:"}),r.jsx("span",{children:Rt(new Date(Se.dateGiven),"dd/MM/yyyy")})]}),Se.nextDueDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Prochain rappel:"}),r.jsx("span",{children:Rt(new Date(Se.nextDueDate),"dd/MM/yyyy")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Vtrinaire:"}),r.jsx("span",{children:Se.veterinarian})]}),Se.cost&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Cot:"}),r.jsxs("span",{className:"font-medium",children:[Se.cost," ",m.currency]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx(Le,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>at(Se),children:[r.jsx(wr,{className:"h-4 w-4 mr-1"}),"Dtails"]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>dt(Se),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Se.id),x({title:"Supprim",description:`${Se.productName} supprim.`}))},children:r.jsx(er,{className:"h-4 w-4"})})]})]})]},Se.id)})}):r.jsx(de,{children:r.jsx(he,{className:"p-0",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(kt,{children:"Animal"}),r.jsx(kt,{children:"Produit"}),r.jsx(kt,{children:"Type"}),r.jsx(kt,{children:"Date donne"}),r.jsx(kt,{children:"Prochain rappel"}),r.jsx(kt,{children:"Statut"}),r.jsx(kt,{children:"Stock"}),r.jsx(kt,{children:"Vtrinaire"}),r.jsx(kt,{children:"Cot"}),r.jsx(kt,{children:"Actions"})]})}),r.jsx(ym,{children:ye.map(Se=>r.jsxs(za,{children:[r.jsx(Tt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-8 w-8",children:r.jsx(Kr,{children:r.jsx(ju,{className:"h-4 w-4"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Se.petName}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Se.clientName})]})]})}),r.jsx(Tt,{className:"font-medium",children:Se.productName}),r.jsx(Tt,{children:Se.productType}),r.jsx(Tt,{className:"cursor-pointer",onClick:()=>{y({id:Se.id,field:"dateGiven"}),j(Se.dateGiven)},children:(v==null?void 0:v.id)===Se.id&&v.field==="dateGiven"?r.jsx(ae,{type:"date",value:N,onChange:qe=>j(qe.target.value),onBlur:k,autoFocus:!0}):Rt(new Date(Se.dateGiven),"dd/MM/yyyy")}),r.jsx(Tt,{children:Se.nextDueDate?Rt(new Date(Se.nextDueDate),"dd/MM/yyyy"):"-"}),r.jsx(Tt,{children:r.jsxs(Le,{className:J3(Se.status),children:[Z3(Se.status),r.jsx("span",{className:"ml-1",children:Se.status==="completed"?"Complt":Se.status==="scheduled"?"Planifi":Se.status==="overdue"?"En retard":"Manqu"})]})}),r.jsx(Tt,{children:Se.isInStock===!0?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-green-600"}),r.jsx(Le,{variant:"default",className:"bg-green-100 text-green-800 text-xs",children:"En stock"}),Se.stockQuantity&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Se.stockQuantity,")"]})]}):Se.isInStock===!1?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Non en stock"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})]})}),r.jsx(Tt,{className:"cursor-pointer",onClick:()=>{y({id:Se.id,field:"veterinarian"}),j(Se.veterinarian)},children:(v==null?void 0:v.id)===Se.id&&v.field==="veterinarian"?r.jsxs(Me,{value:N,onValueChange:qe=>{j(qe),d(Se.id,{veterinarian:qe}),y(null)},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsx(De,{children:m.veterinarians.filter(qe=>qe.isActive).map(qe=>r.jsx(z,{value:qe.name,children:qe.name},qe.id))})]}):Se.veterinarian}),r.jsx(Tt,{className:"cursor-pointer",onClick:()=>{y({id:Se.id,field:"cost"}),j(Se.cost||"")},children:(v==null?void 0:v.id)===Se.id&&v.field==="cost"?r.jsx(ae,{type:"number",value:N,onChange:qe=>j(qe.target.value),onBlur:k,autoFocus:!0}):Se.cost?`${Se.cost} ${m.currency}`:"-"}),r.jsx(Tt,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>at(Se),children:r.jsx(wr,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>dt(Se),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("Supprimer ce traitement antiparasitaire ?")&&(f(Se.id),x({title:"Supprim",description:`${Se.productName} supprim.`}))},children:r.jsx(er,{className:"h-4 w-4"})})]})})]},Se.id))})]})})})]}),r.jsx(cn,{value:"calendar",children:r.jsx(t6e,{})}),r.jsxs(cn,{value:"protocols",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Protocoles Antiparasitaires"}),r.jsx("p",{className:"text-muted-foreground",children:"Grez les protocoles de traitement par espce"})]}),r.jsx(X3,{mode:"create",children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouveau Protocole"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Protocoles"}),r.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),r.jsx(tr,{className:"h-8 w-8 text-primary"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actifs"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(Se=>Se.isActive).length})]}),r.jsx(Zn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Externes"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.filter(Se=>Se.productType==="external"||Se.productType==="flea_tick").length})]}),r.jsx(ac,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Espces"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(M).length})]}),r.jsx(ju,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsx(de,{children:r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ae,{placeholder:"Rechercher un protocole...",value:Ne,onChange:Se=>fe(Se.target.value),className:"pl-10"})]})}),r.jsxs(Me,{value:Pe,onValueChange:Ze,children:[r.jsx(Oe,{className:"w-[200px]",children:r.jsx(Ie,{placeholder:"Type de produit"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous types"}),r.jsx(z,{value:"external",children:"Externe"}),r.jsx(z,{value:"internal",children:"Interne"}),r.jsx(z,{value:"combined",children:"Combin"}),r.jsx(z,{value:"heartworm",children:"Ver du cur"}),r.jsx(z,{value:"flea_tick",children:"Puces/Tiques"}),r.jsx(z,{value:"worming",children:"Vermifugation"})]})]})]})})}),r.jsx("div",{className:"space-y-6",children:Object.keys(M).map(Se=>{const qe=M[Se].filter(We=>{const Ft=!Ne||We.name.toLowerCase().includes(Ne.toLowerCase())||We.targetParasites.toLowerCase().includes(Ne.toLowerCase()),xn=Pe==="all"||We.productType===Pe;return Ft&&xn});return qe.length===0?null:r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(ju,{className:"h-5 w-5"}),Se," (",qe.length," protocoles)"]})}),r.jsx(he,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:qe.map(We=>r.jsxs(de,{className:"border-l-4 border-l-primary",children:[r.jsx(Ae,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ke,{className:"text-base",children:We.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(X3,{mode:"edit",protocol:We,children:r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(tn,{className:"h-4 w-4"})})}),r.jsx(Le,{variant:We.isActive?"default":"secondary",children:We.isActive?"Actif":"Inactif"})]})]})}),r.jsxs(he,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:We.description}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Type:"}),r.jsx("span",{children:We.productType})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Parasites:"}),r.jsx("span",{className:"text-right",children:We.targetParasites})]}),We.weightRange&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Poids:"}),r.jsx("span",{children:We.weightRange})]}),We.ageRequirement&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"ge:"}),r.jsx("span",{children:We.ageRequirement})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rappels:"}),r.jsx("span",{children:We.intervals.map(Ft=>Ft.label).join(", ")})]}),We.manufacturer&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Fabricant:"}),r.jsx("span",{children:We.manufacturer})]})]}),We.notes&&r.jsx("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",We.notes]})})]})]},We.id))})})]},Se)})})]}),r.jsx(cn,{value:"certificates",children:r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-5 w-5"}),"Certificats Antiparasitaires"]})}),r.jsxs(he,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Gnrez des certificats officiels de traitement antiparasitaire pour les voyages et comptitions."}),r.jsxs(wt,{open:le,onOpenChange:se,children:[r.jsx(Lc,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Gnrer un Certificat"]})}),r.jsxs(vt,{className:"max-w-lg",children:[r.jsx(Nt,{children:r.jsx(St,{children:"Slectionner l'animal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{value:(re==null?void 0:re.toString())||"",onValueChange:Se=>{K(parseInt(Se)),ge(null)},children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un client"})}),r.jsx(De,{children:n.map(Se=>r.jsx(z,{value:Se.id.toString(),children:Se.name},Se.id))})]}),r.jsxs(Me,{value:(ee==null?void 0:ee.toString())||"",onValueChange:Se=>ge(parseInt(Se)),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Choisissez un animal"})}),r.jsx(De,{children:t.filter(Se=>re?Se.ownerId===re:!1).map(Se=>r.jsxs(z,{value:Se.id.toString(),children:[Se.name," (",Se.type,")"]},Se.id))})]}),ee&&r.jsx("div",{className:"hidden",children:r.jsxs("div",{ref:xe,children:["Certificat antiparasitaire pour animal ",ee]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{disabled:!ee,onClick:be,children:"Gnrer PDF"})})]})]})]})]})]})})]}),r.jsx(B0,{open:b,onOpenChange:Se=>{C(Se),Se||A(null)},editingAntiparasitic:_}),D&&r.jsx(S9,{petId:D,open:P,onOpenChange:E})]})}const r6e=[{value:"medication",label:"Mdicaments",icon:""},{value:"vaccine",label:"Vaccins",icon:""},{value:"consumable",label:"Consommables",icon:""},{value:"equipment",label:"quipement",icon:""},{value:"supplement",label:"Supplments",icon:""}],s6e=[{value:"unit",label:"Unit"},{value:"box",label:"Bote"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}],i6e={medication:["Antibiotique","Anti-inflammatoire","Antiparasitaire","Anesthsique","Analgsique","Antihistaminique","Corticode","Diurtique","Autre"],vaccine:["Vaccin Core","Vaccin Non-Core","Vaccin Obligatoire","Vaccin Recommand","Autre"],consumable:["Matriel d'injection","Protection","Pansement","Suture","Autre"],equipment:["Diagnostic","Chirurgie","Monitoring","Strilisation","Autre"],supplement:["Vitamines","Minraux","Probiotiques","Acides amins","Autre"]};function eL({open:e,onOpenChange:t,editingItem:n}){var f;const{addStockItem:s,updateStockItem:i}=Pt(),{settings:a}=Gt(),{toast:o}=It(),[l,c]=w.useState({name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0});w.useEffect(()=>{c(n?{name:n.name,category:n.category,subcategory:n.subcategory||"",description:n.description||"",manufacturer:n.manufacturer||"",batchNumber:n.batchNumber||"",dosage:n.dosage||"",unit:n.unit,currentStock:n.currentStock,minimumStock:n.minimumStock,maximumStock:n.maximumStock||0,purchasePrice:n.purchasePrice,sellingPrice:n.sellingPrice,expirationDate:n.expirationDate||"",supplier:n.supplier||"",location:n.location||"",notes:n.notes||"",barcode:n.barcode||"",sku:n.sku||"",isActive:n.isActive}:{name:"",category:"medication",subcategory:"",description:"",manufacturer:"",batchNumber:"",dosage:"",unit:"unit",currentStock:0,minimumStock:0,maximumStock:0,purchasePrice:0,sellingPrice:0,expirationDate:"",supplier:"",location:"",notes:"",barcode:"",sku:"",isActive:!0})},[n,e]);const u=m=>{if(m.preventDefault(),!l.name.trim()){o({title:"Erreur",description:"Le nom de l'lment est requis.",variant:"destructive"});return}if(l.currentStock<0||l.minimumStock<0||l.purchasePrice<0||l.sellingPrice<0){o({title:"Erreur",description:"Les valeurs numriques ne peuvent pas tre ngatives.",variant:"destructive"});return}const g={...l,currentStock:Number(l.currentStock),minimumStock:Number(l.minimumStock),maximumStock:Number(l.maximumStock)||void 0,purchasePrice:Number(l.purchasePrice),sellingPrice:Number(l.sellingPrice),expirationDate:l.expirationDate||void 0,subcategory:l.subcategory||void 0,description:l.description||void 0,manufacturer:l.manufacturer||void 0,batchNumber:l.batchNumber||void 0,dosage:l.dosage||void 0,supplier:l.supplier||void 0,location:l.location||void 0,notes:l.notes||void 0,barcode:l.barcode||void 0,sku:l.sku||void 0};n?(i(n.id,g),o({title:"lment modifi",description:`"${l.name}" a t modifi avec succs.`})):(s(g),o({title:"lment ajout",description:`"${l.name}" a t ajout au stock.`})),t(!1)},d=(m,g)=>{c(x=>({...x,[m]:g}))};return r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:n?"Modifier l'lment de stock":"Nouvel lment de stock"}),r.jsx(un,{children:n?"Modifiez les informations de l'lment de stock.":"Ajoutez un nouvel lment  votre inventaire."})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations de base"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"name",children:"Nom de l'lment *"}),r.jsx(ae,{id:"name",value:l.name,onChange:m=>d("name",m.target.value),placeholder:"ex: Amoxicilline 500mg",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"category",children:"Catgorie *"}),r.jsxs(Me,{value:l.category,onValueChange:m=>d("category",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner une catgorie"})}),r.jsx(De,{children:r6e.map(m=>r.jsxs(z,{value:m.value,children:[m.icon," ",m.label]},m.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"subcategory",children:"Sous-catgorie"}),r.jsxs(Me,{value:l.subcategory,onValueChange:m=>d("subcategory",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner une sous-catgorie"})}),r.jsx(De,{children:(f=i6e[l.category])==null?void 0:f.map(m=>r.jsx(z,{value:m,children:m},m))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"manufacturer",children:"Fabricant"}),r.jsx(ae,{id:"manufacturer",value:l.manufacturer,onChange:m=>d("manufacturer",m.target.value),placeholder:"ex: Boehringer Ingelheim"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"description",children:"Description"}),r.jsx(mt,{id:"description",value:l.description,onChange:m=>d("description",m.target.value),placeholder:"Description dtaille de l'lment...",rows:2})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations techniques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"batchNumber",children:"Numro de lot"}),r.jsx(ae,{id:"batchNumber",value:l.batchNumber,onChange:m=>d("batchNumber",m.target.value),placeholder:"ex: AMX2024001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"dosage",children:"Dosage"}),r.jsx(ae,{id:"dosage",value:l.dosage,onChange:m=>d("dosage",m.target.value),placeholder:"ex: 500mg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"unit",children:"Unit"}),r.jsxs(Me,{value:l.unit,onValueChange:m=>d("unit",m),children:[r.jsx(Oe,{children:r.jsx(Ie,{placeholder:"Slectionner une unit"})}),r.jsx(De,{children:s6e.map(m=>r.jsx(z,{value:m.value,children:m.label},m.value))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Gestion du stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"currentStock",children:"Stock actuel *"}),r.jsx(ae,{id:"currentStock",type:"number",min:"0",value:l.currentStock,onChange:m=>d("currentStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"minimumStock",children:"Stock minimum *"}),r.jsx(ae,{id:"minimumStock",type:"number",min:"0",value:l.minimumStock,onChange:m=>d("minimumStock",parseInt(m.target.value)||0),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"maximumStock",children:"Stock maximum"}),r.jsx(ae,{id:"maximumStock",type:"number",min:"0",value:l.maximumStock,onChange:m=>d("maximumStock",parseInt(m.target.value)||0)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(L,{htmlFor:"purchasePrice",children:["Prix d'achat (",a.currency,") *"]}),r.jsx(ae,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:l.purchasePrice,onChange:m=>d("purchasePrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix d'achat au fournisseur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(L,{htmlFor:"sellingPrice",children:["Prix de vente (",a.currency,") *"]}),r.jsx(ae,{id:"sellingPrice",type:"number",step:"0.01",min:"0",value:l.sellingPrice,onChange:m=>d("sellingPrice",parseFloat(m.target.value)||0),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prix de vente au client"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"La valeur totale sera calcule automatiquement : Prix d'achat  Stock actuel"}),l.purchasePrice>0&&l.currentStock>0&&r.jsxs("div",{className:"text-sm font-medium text-primary",children:["Valeur totale : ",(l.purchasePrice*l.currentStock).toFixed(2)," ",a.currency]}),l.purchasePrice>0&&l.sellingPrice>0&&r.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Marge : ",((l.sellingPrice-l.purchasePrice)*l.currentStock).toFixed(2)," ",a.currency]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Informations supplmentaires"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"expirationDate",children:"Date d'expiration"}),r.jsx(ae,{id:"expirationDate",type:"date",value:l.expirationDate,onChange:m=>d("expirationDate",m.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"supplier",children:"Fournisseur"}),r.jsx(ae,{id:"supplier",value:l.supplier,onChange:m=>d("supplier",m.target.value),placeholder:"ex: Pharmacie Vtrinaire Centrale"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"location",children:"Emplacement"}),r.jsx(ae,{id:"location",value:l.location,onChange:m=>d("location",m.target.value),placeholder:"ex: Armoire A - tagre 1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"barcode",children:"Code-barres"}),r.jsx(ae,{id:"barcode",value:l.barcode,onChange:m=>d("barcode",m.target.value),placeholder:"ex: 1234567890123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"sku",children:"SKU"}),r.jsx(ae,{id:"sku",value:l.sku,onChange:m=>d("sku",m.target.value),placeholder:"ex: MED-AMX-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",children:"Notes"}),r.jsx(mt,{id:"notes",value:l.notes,onChange:m=>d("notes",m.target.value),placeholder:"Notes supplmentaires...",rows:3})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),r.jsx(V,{type:"submit",children:n?"Modifier":"Ajouter"})]})]})]})})}const a6e=[{value:"in",label:"Entre",icon:vr,description:"Ajout de stock (achat, retour, etc.)"},{value:"out",label:"Sortie",icon:Hu,description:"Utilisation, vente, perte, etc."},{value:"adjustment",label:"Ajustement",icon:n6,description:"Correction d'inventaire"},{value:"transfer",label:"Transfert",icon:zte,description:"Dplacement entre emplacements"}],o6e={in:["Achat fournisseur","Retour client","Inventaire initial","Don/chantillon","Transfert entrant","Autre"],out:["Utilisation consultation","Vente client","Prim/expir","Cass/endommag","Vol/perte","Transfert sortant","Autre"],adjustment:["Correction inventaire","Comptage physique","Erreur saisie","Autre"],transfer:["Changement emplacement","Transfert entre sites","Rorganisation stock","Autre"]};function l6e({open:e,onOpenChange:t,item:n}){var x;const{updateStockItem:s,addStockMovement:i}=Pt(),{settings:a}=Gt(),{toast:o}=It(),[l,c]=w.useState({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),[u,d]=w.useState("");w.useEffect(()=>{n&&(c({type:"out",quantity:0,reason:"",reference:"",performedBy:"",notes:""}),d(""))},[n,e]);const f=v=>{if(v.preventDefault(),!n)return;if(l.quantity<=0){o({title:"Erreur",description:"La quantit doit tre suprieure  0.",variant:"destructive"});return}if(!l.reason.trim()){o({title:"Erreur",description:"La raison du mouvement est requise.",variant:"destructive"});return}let y=n.currentStock;if(l.type==="in")y+=l.quantity;else if(l.type==="out"){if(l.quantity>n.currentStock){o({title:"Erreur",description:`Stock insuffisant. Stock disponible: ${n.currentStock}`,variant:"destructive"});return}y-=l.quantity}else l.type==="adjustment"&&(y=l.quantity);l.type!=="transfer"&&s(n.id,{currentStock:y,lastRestocked:l.type==="in"?new Date().toISOString().split("T")[0]:void 0});const N=l.performedBy==="Autre"?u:l.performedBy,j={itemId:n.id,itemName:n.name,type:l.type,quantity:l.quantity,reason:l.reason,reference:l.reference||void 0,performedBy:N||void 0,date:new Date().toISOString(),notes:l.notes||void 0};i(j),o({title:"Mouvement enregistr",description:`${{in:"Entre",out:"Sortie",adjustment:"Ajustement",transfer:"Transfert"}[l.type]} de ${l.quantity} ${n.unit} pour "${n.name}" enregistre.`}),t(!1)},m=(v,y)=>{c(N=>({...N,[v]:y}))},g=()=>{if(!n)return 0;let v=n.currentStock;return l.type==="in"?v+=l.quantity:l.type==="out"?v-=l.quantity:l.type==="adjustment"&&(v=l.quantity),Math.max(0,v)};return n?r.jsx(wt,{open:e,onOpenChange:t,children:r.jsxs(vt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsxs(St,{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"h-5 w-5"}),"Mouvement de stock"]}),r.jsxs(un,{children:['Enregistrer un mouvement pour "',n.name,'"']})]}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[r.jsx(Gn,{className:"h-5 w-5 text-blue-600"}),"lment concern"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock actuel"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.currentStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock minimum"}),r.jsxs("div",{className:"font-semibold text-lg",children:[n.minimumStock," ",n.unit]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Emplacement"}),r.jsxs("div",{className:"font-semibold text-lg flex items-center gap-1",children:[r.jsx(fd,{className:"h-4 w-4"}),n.location||"Non dfini"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix d'achat"}),r.jsxs("div",{className:"font-semibold text-lg text-blue-600",children:[n.purchasePrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Prix de vente"}),r.jsxs("div",{className:"font-semibold text-lg text-green-600",children:[n.sellingPrice.toFixed(2)," ",a.currency]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Valeur totale"}),r.jsxs("div",{className:"font-semibold text-lg text-purple-600",children:[n.totalValue.toFixed(2)," ",a.currency]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{className:"text-base font-medium",children:"Type de mouvement *"}),r.jsxs(Me,{value:l.type,onValueChange:v=>m("type",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Slectionner le type de mouvement"})}),r.jsx(De,{children:a6e.map(v=>{const y=v.icon;return r.jsx(z,{value:v.value,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(y,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:v.label}),r.jsx("div",{className:"text-xs text-muted-foreground",children:v.description})]})]})},v.value)})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"quantity",className:"text-base font-medium",children:"Quantit *"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ae,{id:"quantity",type:"number",min:"0",step:"0.01",value:l.quantity,onChange:v=>m("quantity",parseFloat(v.target.value)||0),className:"flex-1 h-12 text-lg",required:!0}),r.jsx("div",{className:"bg-muted px-3 py-2 rounded-md text-sm font-medium",children:n.unit})]}),l.quantity>0&&r.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Nouveau stock aprs mouvement:"}),r.jsxs("div",{className:`text-lg font-semibold ${g()<=n.minimumStock?"text-orange-600":"text-green-600"}`,children:[g()," ",n.unit]}),g()<=n.minimumStock&&r.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center gap-1",children:[r.jsx(qn,{className:"h-3 w-3"}),"Stock bas - Seuil minimum atteint"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"reason",className:"text-base font-medium",children:"Raison *"}),r.jsxs(Me,{value:l.reason,onValueChange:v=>m("reason",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Slectionner une raison"})}),r.jsx(De,{children:(x=o6e[l.type])==null?void 0:x.map(v=>r.jsx(z,{value:v,children:v},v))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"reference",className:"text-base font-medium",children:"Rfrence"}),r.jsx(ae,{id:"reference",value:l.reference,onChange:v=>m("reference",v.target.value),placeholder:"ex: Facture #12345, Consultation #678",className:"h-12"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"performedBy",className:"text-base font-medium",children:"Effectu par"}),r.jsxs(Me,{value:l.performedBy,onValueChange:v=>m("performedBy",v),children:[r.jsx(Oe,{className:"h-12",children:r.jsx(Ie,{placeholder:"Slectionner un vtrinaire"})}),r.jsxs(De,{children:[a.veterinarians.filter(v=>v.isActive).map(v=>r.jsx(z,{value:v.name,children:v.name},v.id)),r.jsx(z,{value:"Autre",children:"Autre (saisie manuelle)"})]})]}),l.performedBy==="Autre"&&r.jsx(ae,{placeholder:"Nom du responsable",value:u,onChange:v=>d(v.target.value),className:"h-10 mt-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),r.jsx(mt,{id:"notes",value:l.notes,onChange:v=>m("notes",v.target.value),placeholder:"Notes supplmentaires...",rows:4,className:"resize-none"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),className:"h-12 px-6",children:"Annuler"}),r.jsxs(V,{type:"submit",className:"h-12 px-8 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Enregistrer le mouvement"]})]})]})]})}):null}const dp={medication:{label:"Mdicaments",color:"bg-blue-100 text-blue-800",icon:""},vaccine:{label:"Vaccins",color:"bg-green-100 text-green-800",icon:""},consumable:{label:"Consommables",color:"bg-orange-100 text-orange-800",icon:""},equipment:{label:"quipement",color:"bg-purple-100 text-purple-800",icon:""},supplement:{label:"Supplments",color:"bg-yellow-100 text-yellow-800",icon:""}},c6e=[{value:"unit",label:"Unit"},{value:"box",label:"Bote"},{value:"vial",label:"Flacon"},{value:"bottle",label:"Bouteille"},{value:"pack",label:"Paquet"},{value:"kg",label:"Kilogramme"},{value:"g",label:"Gramme"},{value:"ml",label:"Millilitre"},{value:"l",label:"Litre"}];function u6e(){const{stockItems:e,stockAlerts:t,stockMovements:n,addStockItem:s,updateStockItem:i,deleteStockItem:a,addStockMovement:o,getStockAlerts:l}=Pt(),{settings:c}=Gt(),{toast:u}=It(),[d,f]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[y,N]=w.useState(null),[j,b]=w.useState(null),[C,_]=w.useState(""),[A,P]=w.useState("all"),[E,D]=w.useState("all"),[I,k]=w.useState("name"),[O,U]=w.useState("asc"),[B,ne]=w.useState(null),[Y,J]=w.useState(""),q=w.useMemo(()=>{const F=e.length,X=e.reduce((ye,Ne)=>ye+Ne.totalValue,0),te=e.filter(ye=>ye.currentStock<=ye.minimumStock).length,G=e.filter(ye=>ye.expirationDate&&new Date(ye.expirationDate)<new Date).length,M=e.filter(ye=>ye.expirationDate&&new Date(ye.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(ye.expirationDate)>new Date).length;return{totalItems:F,totalValue:X,lowStockItems:te,expiredItems:G,expiringSoonItems:M}},[e]),$=w.useMemo(()=>{let F=e.filter(X=>{var ye,Ne;const te=X.name.toLowerCase().includes(C.toLowerCase())||((ye=X.manufacturer)==null?void 0:ye.toLowerCase().includes(C.toLowerCase()))||((Ne=X.batchNumber)==null?void 0:Ne.toLowerCase().includes(C.toLowerCase())),G=A==="all"||X.category===A;let M=!0;return E==="low_stock"?M=X.currentStock<=X.minimumStock:E==="expired"?M=X.expirationDate&&new Date(X.expirationDate)<new Date:E==="expiring_soon"?M=X.expirationDate&&new Date(X.expirationDate)<=new Date(Date.now()+2592e6)&&new Date(X.expirationDate)>new Date:E==="active"&&(M=X.isActive),te&&G&&M});return F.sort((X,te)=>{let G,M;switch(I){case"name":G=X.name.toLowerCase(),M=te.name.toLowerCase();break;case"currentStock":G=X.currentStock,M=te.currentStock;break;case"totalValue":G=X.totalValue,M=te.totalValue;break;case"expirationDate":G=X.expirationDate||"9999-12-31",M=te.expirationDate||"9999-12-31";break;default:G=X.name.toLowerCase(),M=te.name.toLowerCase()}return O==="asc"?G<M?-1:G>M?1:0:G>M?-1:G<M?1:0}),F},[e,C,A,E,I,O]),le=(F,X,te)=>{const G={};switch(X){case"currentStock":G.currentStock=parseInt(te)||0;break;case"minimumStock":G.minimumStock=parseInt(te)||0;break;case"purchasePrice":G.purchasePrice=parseFloat(te)||0;break;case"sellingPrice":G.sellingPrice=parseFloat(te)||0;break;case"location":G.location=te;break;case"notes":G.notes=te;break}i(F,G),ne(null),u({title:"Stock mis  jour",description:"L'lment de stock a t mis  jour avec succs."})},se=F=>{b(F),v(!0)},re=F=>{v(F),F||b(null)},K=F=>{confirm(`tes-vous sr de vouloir supprimer "${F.name}" du stock ?`)&&(a(F.id),u({title:"lment supprim",description:`"${F.name}" a t supprim du stock.`}))},ee=F=>{N(F),g(!0)},ge=()=>{const F=[["Nom","Catgorie","Sous-catgorie","Fabricant","Numro de lot","Dosage","Unit","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),...e.map(M=>[`"${M.name}"`,`"${M.category}"`,`"${M.subcategory||""}"`,`"${M.manufacturer||""}"`,`"${M.batchNumber||""}"`,`"${M.dosage||""}"`,`"${M.unit}"`,M.currentStock,M.minimumStock,M.purchasePrice,M.sellingPrice,`"${M.expirationDate||""}"`,`"${M.supplier||""}"`,`"${M.location||""}"`,`"${M.notes||""}"`,`"${M.barcode||""}"`,`"${M.sku||""}"`].join(","))].join(`
`),X=new Blob([F],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),G=URL.createObjectURL(X);te.setAttribute("href",G),te.setAttribute("download",`stock_${new Date().toISOString().split("T")[0]}.csv`),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te),u({title:"Export russi",description:"Le fichier CSV a t tlcharg avec succs."})},xe=F=>{var G;const X=(G=F.target.files)==null?void 0:G[0];if(!X)return;const te=new FileReader;te.onload=M=>{var ye;try{const fe=((ye=M.target)==null?void 0:ye.result).split(`
`),Pe=fe[0].split(",").map(We=>We.replace(/"/g,"").trim()),at=["Nom","Catgorie","Unit","Stock actuel","Stock minimum","Prix d'achat","Prix de vente"].filter(We=>!Pe.includes(We));if(at.length>0){u({title:"Erreur d'import",description:`En-ttes manquants: ${at.join(", ")}`,variant:"destructive"});return}const dt=[];let Se=0,qe=0;for(let We=1;We<fe.length;We++){const Ft=fe[We].trim();if(Ft)try{const xn=Ft.split(",").map(Yn=>Yn.replace(/"/g,"").trim()),_t={};if(Pe.forEach((Yn,ys)=>{_t[Yn]=xn[ys]||""}),!_t.Nom||!_t.Catgorie||!_t.Unit){qe++;continue}if(!Object.keys(dp).includes(_t.Catgorie)){qe++;continue}const dr={id:Date.now()+We,name:_t.Nom,category:_t.Catgorie,subcategory:_t["Sous-catgorie"]||"",manufacturer:_t.Fabricant||"",batchNumber:_t["Numro de lot"]||"",dosage:_t.Dosage||"",unit:_t.Unit,currentStock:parseInt(_t["Stock actuel"])||0,minimumStock:parseInt(_t["Stock minimum"])||0,purchasePrice:parseFloat(_t["Prix d'achat"])||0,sellingPrice:parseFloat(_t["Prix de vente"])||0,totalValue:(parseInt(_t["Stock actuel"])||0)*(parseFloat(_t["Prix d'achat"])||0),expirationDate:_t["Date d'expiration"]||void 0,supplier:_t.Fournisseur||"",location:_t.Emplacement||"",notes:_t.Notes||"",barcode:_t["Code-barres"]||"",sku:_t.SKU||"",lastUpdated:new Date().toISOString(),isActive:!0};dt.push(dr),Se++}catch(xn){qe++,console.error(`Erreur ligne ${We+1}:`,xn)}}dt.length>0&&dt.forEach(We=>{s(We)}),u({title:"Import termin",description:`${Se} lments imports avec succs${qe>0?`, ${qe} erreurs`:""}.`})}catch{u({title:"Erreur d'import",description:"Impossible de lire le fichier CSV.",variant:"destructive"})}},te.readAsText(X),F.target.value=""},be=()=>{const F=[["Nom","Catgorie","Sous-catgorie","Fabricant","Numro de lot","Dosage","Unit","Stock actuel","Stock minimum","Prix d'achat","Prix de vente","Date d'expiration","Fournisseur","Emplacement","Notes","Code-barres","SKU"].join(","),["Amoxicilline 500mg","medication","Antibiotique","Boehringer Ingelheim","AMX2024001","500mg","box","15","5","20.00","25.50","2025-12-31","Pharmacie Vtrinaire Centrale","Armoire A - tagre 1","Stockage  temprature ambiante","1234567890123","MED-AMX-500"].join(","),["Vaccin DHPP","vaccine","Vaccin combin","Merial","VAC2024001","1ml","vial","25","10","45.00","55.00","2025-06-30","VetoPharma","Rfrigrateur - tagre 1","Conservation entre 2-8C","9876543210987","VAC-DHPP-001"].join(","),["Seringues 5ml","consumable","Matriel mdical","BD","SYR2024001","5ml","unit","100","20","0.50","0.75","","MedSupply","Armoire B - tagre 2","Usage unique","5556667778889","CON-SYR-5ML"].join(",")].join(`
`),X=new Blob([F],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),G=URL.createObjectURL(X);te.setAttribute("href",G),te.setAttribute("download","gabarit_import_stock.csv"),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te),u({title:"Gabarit tlcharg",description:"Le fichier gabarit a t tlcharg avec succs."})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[r.jsx(Gn,{className:"h-8 w-8 text-primary"}),"Gestion de Stock"]}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Grez votre inventaire de mdicaments, vaccins et consommables"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{variant:"outline",onClick:ge,className:"gap-2",children:[r.jsx(PA,{className:"h-4 w-4"}),"Exporter CSV"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:xe,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),r.jsx(V,{variant:"outline",className:"gap-2",asChild:!0,children:r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(XC,{className:"h-4 w-4"}),"Importer CSV"]})})]}),r.jsxs(V,{variant:"outline",onClick:be,className:"gap-2",children:[r.jsx(mM,{className:"h-4 w-4"}),"Gabarit"]}),r.jsxs(V,{className:"gap-2 medical-glow",onClick:()=>f(!0),children:[r.jsx(ft,{className:"h-4 w-4"}),"Nouvel lment"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total lments"}),r.jsx("p",{className:"text-2xl font-bold",children:q.totalItems})]}),r.jsx(Gn,{className:"h-8 w-8 text-muted-foreground"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur Totale"}),r.jsxs("p",{className:"text-2xl font-bold",children:[q.totalValue.toFixed(2)," ",c.currency]})]}),r.jsx(qf,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Stock Bas"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:q.lowStockItems})]}),r.jsx(qn,{className:"h-8 w-8 text-orange-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirs"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:q.expiredItems})]}),r.jsx(ig,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(de,{children:r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expirent Bientt"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:q.expiringSoonItems})]}),r.jsx(Rn,{className:"h-8 w-8 text-yellow-600"})]})})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(AA,{className:"h-5 w-5"}),"Rechercher et filtrer"]})}),r.jsx(he,{className:"space-y-4",children:r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsx("div",{className:"flex-1 min-w-[300px]",children:r.jsx(ae,{placeholder:"Rechercher par nom, fabricant, lot...",value:C,onChange:F=>_(F.target.value),className:"w-full"})}),r.jsxs(Me,{value:A,onValueChange:P,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Catgorie"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Toutes les catgories"}),Object.entries(dp).map(([F,X])=>r.jsxs(z,{value:F,children:[X.icon," ",X.label]},F))]})]}),r.jsxs(Me,{value:E,onValueChange:D,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Statut"})}),r.jsxs(De,{children:[r.jsx(z,{value:"all",children:"Tous les statuts"}),r.jsx(z,{value:"active",children:"Actifs"}),r.jsx(z,{value:"low_stock",children:"Stock bas"}),r.jsx(z,{value:"expired",children:"Expirs"}),r.jsx(z,{value:"expiring_soon",children:"Expirent bientt"})]})]}),r.jsxs(Me,{value:I,onValueChange:k,children:[r.jsx(Oe,{className:"w-48",children:r.jsx(Ie,{placeholder:"Trier par"})}),r.jsxs(De,{children:[r.jsx(z,{value:"name",children:"Nom"}),r.jsx(z,{value:"currentStock",children:"Stock actuel"}),r.jsx(z,{value:"totalValue",children:"Valeur totale"}),r.jsx(z,{value:"expirationDate",children:"Date d'expiration"})]})]}),r.jsx(V,{variant:"outline",onClick:()=>U(O==="asc"?"desc":"asc"),children:O==="asc"?r.jsx(vr,{className:"h-4 w-4"}):r.jsx(Hu,{className:"h-4 w-4"})})]})})]}),r.jsx(de,{className:"bg-blue-50 border-blue-200",children:r.jsx(he,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(mM,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"Import en masse"}),r.jsx("p",{className:"text-sm text-blue-700",children:'Utilisez le bouton "Gabarit" pour tlcharger un fichier CSV avec le format correct. Les donnes importes seront ajoutes au stock existant.'}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Catgories valides :"})," medication, vaccine, consumable, equipment, supplement"]}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Units valides :"})," box, vial, unit, ml, mg, g, kg, l, pack, tube, sachet"]})]})]})})}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{children:["Inventaire (",$.length," lments)"]})}),r.jsxs(he,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(kt,{children:"Nom"}),r.jsx(kt,{children:"Catgorie"}),r.jsx(kt,{children:"Fabricant"}),r.jsx(kt,{children:"Stock"}),r.jsx(kt,{children:"Prix d'achat"}),r.jsx(kt,{children:"Prix de vente"}),r.jsx(kt,{children:"Valeur totale"}),r.jsx(kt,{children:"Expiration"}),r.jsx(kt,{children:"Emplacement"}),r.jsx(kt,{children:"Actions"})]})}),r.jsx(ym,{children:$.map(F=>{var M;const X=F.currentStock<=F.minimumStock,te=F.expirationDate&&new Date(F.expirationDate)<new Date,G=F.expirationDate&&new Date(F.expirationDate)<=new Date(Date.now()+30*24*60*60*1e3)&&new Date(F.expirationDate)>new Date;return r.jsxs(za,{className:F.isActive?"":"opacity-50",children:[r.jsx(Tt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium",children:F.name}),F.batchNumber&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lot: ",F.batchNumber]}),F.dosage&&r.jsx("div",{className:"text-sm text-muted-foreground",children:F.dosage})]})}),r.jsxs(Tt,{children:[r.jsxs(Le,{className:dp[F.category].color,children:[dp[F.category].icon," ",dp[F.category].label]}),F.subcategory&&r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:F.subcategory})]}),r.jsx(Tt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{children:F.manufacturer||"-"}),F.supplier&&r.jsx("div",{className:"text-sm text-muted-foreground",children:F.supplier})]})}),r.jsx(Tt,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`font-medium ${X?"text-orange-600":""}`,children:[F.currentStock," ",((M=c6e.find(ye=>ye.value===F.unit))==null?void 0:M.label)||F.unit]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Min: ",F.minimumStock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[X&&r.jsx(Le,{variant:"destructive",className:"text-xs",children:"Stock bas"}),F.lastUpdated&&new Date(F.lastUpdated).getTime()>Date.now()-24*60*60*1e3&&r.jsx(Le,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:"Mis  jour"})]})]})}),r.jsx(Tt,{children:(B==null?void 0:B.id)===F.id&&B.field==="purchasePrice"?r.jsx(ae,{type:"number",step:"0.01",value:Y,onChange:ye=>J(ye.target.value),onBlur:()=>le(F.id,"purchasePrice",Y),onKeyDown:ye=>{ye.key==="Enter"&&le(F.id,"purchasePrice",Y)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{ne({id:F.id,field:"purchasePrice"}),J(F.purchasePrice.toString())},children:[F.purchasePrice.toFixed(2)," ",c.currency]})}),r.jsx(Tt,{children:(B==null?void 0:B.id)===F.id&&B.field==="sellingPrice"?r.jsx(ae,{type:"number",step:"0.01",value:Y,onChange:ye=>J(ye.target.value),onBlur:()=>le(F.id,"sellingPrice",Y),onKeyDown:ye=>{ye.key==="Enter"&&le(F.id,"sellingPrice",Y)},autoFocus:!0,className:"w-20"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded",onClick:()=>{ne({id:F.id,field:"sellingPrice"}),J(F.sellingPrice.toString())},children:[r.jsxs("div",{className:"font-medium",children:[F.sellingPrice.toFixed(2)," ",c.currency]}),r.jsxs("div",{className:"text-xs text-green-600",children:["Marge: ",((F.sellingPrice-F.purchasePrice)*F.currentStock).toFixed(2)," ",c.currency]})]})}),r.jsx(Tt,{children:r.jsxs("div",{className:"font-medium",children:[F.totalValue.toFixed(2)," ",c.currency]})}),r.jsx(Tt,{children:F.expirationDate?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:`text-sm ${te?"text-red-600 font-medium":G?"text-yellow-600 font-medium":""}`,children:Rt(new Date(F.expirationDate),"dd/MM/yyyy",{locale:Ki})}),te&&r.jsx(Le,{variant:"destructive",className:"text-xs",children:"Expir"}),G&&!te&&r.jsx(Le,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800",children:"Expire bientt"})]}):r.jsx("span",{className:"text-muted-foreground",children:"-"})}),r.jsx(Tt,{children:(B==null?void 0:B.id)===F.id&&B.field==="location"?r.jsx(ae,{value:Y,onChange:ye=>J(ye.target.value),onBlur:()=>le(F.id,"location",Y),onKeyDown:ye=>{ye.key==="Enter"&&le(F.id,"location",Y)},autoFocus:!0,className:"w-32"}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted p-1 rounded flex items-center gap-1",onClick:()=>{ne({id:F.id,field:"location"}),J(F.location||"")},children:[r.jsx(fd,{className:"h-3 w-3"}),F.location||"Non dfini"]})}),r.jsx(Tt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>ee(F),children:r.jsx(vr,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>se(F),children:r.jsx(tn,{className:"h-3 w-3"})}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>K(F),children:r.jsx(er,{className:"h-3 w-3"})})]})})]},F.id)})})]})}),$.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun lment trouv"}),r.jsx("p",{className:"text-sm",children:"Ajustez vos filtres ou ajoutez de nouveaux lments"})]})]})]}),r.jsxs(de,{children:[r.jsxs(Ae,{children:[r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-5 w-5"}),"Historique des Mouvements (",n.length,")"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Derniers mouvements de stock (prescriptions, achats, ajustements)"})]}),r.jsx(he,{children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Rn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucun mouvement de stock enregistr"})]}):r.jsxs("div",{className:"space-y-4",children:[n.sort((F,X)=>new Date(X.date).getTime()-new Date(F.date).getTime()).slice(0,20).map(F=>{const te={in:{label:"Entre",color:"text-green-600",icon:""},out:{label:F.reason==="Prescription mdicale"?"Prescription":"Sortie",color:F.reason==="Prescription mdicale"?"text-orange-600":"text-red-600",icon:F.reason==="Prescription mdicale"?"":""},adjustment:{label:"Ajustement",color:"text-blue-600",icon:""},transfer:{label:"Transfert",color:"text-purple-600",icon:""}}[F.type];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl",children:te.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:F.itemName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.reason,"  ",F.performedBy||"Non spcifi"]}),F.reference&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Rfrence: ",F.reference]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-semibold ${te.color}`,children:[F.type==="in"?"+":F.type==="out"?"-":"",F.quantity]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:Rt(new Date(F.date),"dd/MM/yyyy HH:mm",{locale:Ki})})]})]},F.id)}),n.length>20&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs(V,{variant:"outline",size:"sm",children:["Voir tous les mouvements (",n.length,")"]})})]})})]}),r.jsx(eL,{open:d,onOpenChange:f}),r.jsx(eL,{open:x,onOpenChange:re,editingItem:j}),r.jsx(l6e,{open:m,onOpenChange:g,item:y})]})}const d6e={monthly:[{description:"Salaire Secrtaire",amount:3e3,type:"expense",frequency:"monthly",source:"salary"},{description:"CNSS Secrtaire",amount:700,type:"expense",frequency:"monthly",source:"insurance"},{description:"CNSS Vtrinaire",amount:1500,type:"expense",frequency:"monthly",source:"insurance"},{description:"Loyer",amount:3e3,type:"expense",frequency:"monthly",source:"rent"},{description:"Eau et lectricit",amount:300,type:"expense",frequency:"monthly",source:"other"}],annual:[{description:"Impts",amount:3e3,type:"expense",frequency:"annual",source:"tax"},{description:"Cotisation Ordre des Vtrinaires",amount:1200,type:"expense",frequency:"annual",source:"other"}],occasional:[{description:"Maintenance quipement",amount:500,type:"expense",frequency:"occasional",source:"other"},{description:"Formation Professionnelle",amount:800,type:"expense",frequency:"occasional",source:"other"},{description:"Achat Matriel",amount:1200,type:"expense",frequency:"occasional",source:"other"}]},h6e=()=>{const{accountingEntries:e,addAccountingEntry:t,updateAccountingEntry:n,deleteAccountingEntry:s,generateAccountingSummary:i,consultations:a,vaccinations:o,antiparasitics:l,prescriptions:c,stockMovements:u,stockItems:d}=Pt(),{settings:f}=Gt();It();const[m,g]=w.useState("month"),[x,v]=w.useState(""),[y,N]=w.useState(""),[j,b]=w.useState(!1),[C,_]=w.useState(null),[A,P]=w.useState(null),[E,D]=w.useState(!1),[I,k]=w.useState(d6e),[O,U]=w.useState(!1),[B,ne]=w.useState(null),[Y,J]=w.useState({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),[q,$]=w.useState({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""});w.useEffect(()=>{const G=new Date,M=new Date(G.getFullYear(),G.getMonth(),1),ye=new Date(G.getFullYear(),G.getMonth()+1,0);v(Rt(M,"yyyy-MM-dd")),N(Rt(ye,"yyyy-MM-dd"))},[]),w.useEffect(()=>{if(x&&y){const G=m==="month"?Rt(new Date(x),"yyyy-MM",{locale:Ki}):m==="year"?Rt(new Date(x),"yyyy",{locale:Ki}):m==="day"?Rt(new Date(x),"dd/MM/yyyy",{locale:Ki}):`${Rt(new Date(x),"dd/MM/yyyy")} - ${Rt(new Date(y),"dd/MM/yyyy")}`,M=i(G,x,y);P(M)}},[x,y,m,e,a,o,l,c,u,i]);const le=G=>{g(G);const M=new Date;switch(G){case"day":const ye=Rt(M,"yyyy-MM-dd");v(ye),N(ye);break;case"month":const Ne=new Date(M.getFullYear(),M.getMonth(),1),fe=new Date(M.getFullYear(),M.getMonth()+1,0);v(Rt(Ne,"yyyy-MM-dd")),N(Rt(fe,"yyyy-MM-dd"));break;case"quarter":const Pe=Math.floor(M.getMonth()/3),Ze=new Date(M.getFullYear(),Pe*3,1),at=new Date(M.getFullYear(),Pe*3+3,0);v(Rt(Ze,"yyyy-MM-dd")),N(Rt(at,"yyyy-MM-dd"));break;case"year":const dt=new Date(M.getFullYear(),0,1),Se=new Date(M.getFullYear(),11,31);v(Rt(dt,"yyyy-MM-dd")),N(Rt(Se,"yyyy-MM-dd"));break}},se=()=>{if(!q.description||!q.amount||!q.date)return;const G={type:q.type,category:"manual",frequency:q.frequency,description:q.description,amount:parseFloat(q.amount),date:q.date,source:q.source,notes:q.notes};C?(n(C.id,G),_(null)):t(G),$({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""}),b(!1)},re=G=>{_(G),$({type:G.type,frequency:G.frequency,description:G.description,amount:G.amount.toString(),date:G.date,source:G.source||"other",notes:G.notes||""}),b(!0)},K=G=>{window.confirm("tes-vous sr de vouloir supprimer cette entre ?")&&s(G)},ee=G=>{$({...q,type:G.type,frequency:G.frequency||"occasional",description:G.description,amount:G.amount.toString(),source:G.source,date:q.date||Rt(new Date,"yyyy-MM-dd")}),D(!1)},ge=()=>{if(!Y.description||!Y.amount)return;const G={description:Y.description,amount:parseFloat(Y.amount),type:Y.type,frequency:Y.frequency,source:Y.source};if(B){const M={...I},ye=B.frequency,Ne=M[ye].findIndex(fe=>fe===B);Ne!==-1&&(M[ye][Ne]=G),k(M),ne(null)}else{const M={...I},ye=Y.frequency;M[ye].push(G),k(M)}J({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),U(!1)},xe=G=>{ne(G),J({description:G.description,amount:G.amount.toString(),type:G.type,frequency:G.frequency,source:G.source}),U(!0)},be=G=>{if(window.confirm("tes-vous sr de vouloir supprimer cette suggestion ?")){const M={...I},ye=G.frequency;M[ye]=M[ye].filter(Ne=>Ne!==G),k(M)}},F=e.filter(G=>{const M=new Date(G.date),ye=new Date(x),Ne=new Date(y);return M>=ye&&M<=Ne}),X=G=>`${G.toFixed(2)} ${f.currency}`,te=G=>{switch(G){case"consultation":return"";case"vaccination":return"";case"antiparasitic":return"";case"prescription":return"";case"stock_purchase":return"";case"salary":return"";case"rent":return"";case"tax":return"";case"insurance":return"";default:return""}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(Z5,{className:"h-8 w-8"}),"Gestion Comptable"]}),r.jsx("p",{className:"text-muted-foreground",children:"Suivi des recettes et charges de votre clinique vtrinaire"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(wt,{open:j,onOpenChange:b,children:[r.jsx(Lc,{asChild:!0,children:r.jsxs(V,{onClick:()=>{_(null),$({type:"revenue",frequency:"occasional",description:"",amount:"",date:"",source:"other",notes:""})},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter une entre"]})}),r.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:C?"Modifier l'entre comptable":"Ajouter une entre comptable"}),r.jsx(un,{children:C?"Modifiez les informations de cette entre.":"Ajoutez une nouvelle recette ou charge manuelle."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Q1,{className:"h-4 w-4 text-yellow-600"}),r.jsx(L,{className:"text-sm font-medium",children:"Suggestions prdfinies"})]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>D(!E),children:E?r.jsx(fb,{className:"h-4 w-4"}):r.jsx(Q1,{className:"h-4 w-4"})})]}),E&&r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges mensuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.monthly.map((G,M)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ee(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges annuelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.annual.map((G,M)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ee(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charges occasionnelles"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:I.occasional.map((G,M)=>r.jsx(V,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>ee(G),children:r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsx("span",{className:"text-sm",children:G.description}),r.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[G.amount," ",f.currency]})]})},M))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"type",children:"Type"}),r.jsxs(Me,{value:q.type,onValueChange:G=>$({...q,type:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"revenue",children:"Recette"}),r.jsx(z,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"frequency",children:"Frquence"}),r.jsxs(Me,{value:q.frequency,onValueChange:G=>$({...q,frequency:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"monthly",children:"Mensuel"}),r.jsx(z,{value:"annual",children:"Annuel"}),r.jsx(z,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"description",children:"Description"}),r.jsx(ae,{id:"description",value:q.description,onChange:G=>$({...q,description:G.target.value}),placeholder:"Ex: Salaire employ, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(L,{htmlFor:"amount",children:["Montant (",f.currency,")"]}),r.jsx(ae,{id:"amount",type:"number",step:"0.01",value:q.amount,onChange:G=>$({...q,amount:G.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"date",children:"Date"}),r.jsx(ae,{id:"date",type:"date",value:q.date,onChange:G=>$({...q,date:G.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"source",children:"Source"}),r.jsxs(Me,{value:q.source,onValueChange:G=>$({...q,source:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"salary",children:"Salaire"}),r.jsx(z,{value:"rent",children:"Loyer"}),r.jsx(z,{value:"tax",children:"Impts"}),r.jsx(z,{value:"insurance",children:"Assurance"}),r.jsx(z,{value:"other",children:"Autre"})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"notes",children:"Notes (optionnel)"}),r.jsx(mt,{id:"notes",value:q.notes,onChange:G=>$({...q,notes:G.target.value}),placeholder:"Informations supplmentaires..."})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>b(!1),children:"Annuler"}),r.jsx(V,{onClick:se,children:C?"Modifier":"Ajouter"})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5"}),"Priode d'analyse"]})}),r.jsx(he,{children:r.jsxs("div",{className:"flex gap-4 items-end",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:m==="day"?"default":"outline",onClick:()=>le("day"),size:"sm",children:"Ce jour"}),r.jsx(V,{variant:m==="month"?"default":"outline",onClick:()=>le("month"),size:"sm",children:"Ce mois"}),r.jsx(V,{variant:m==="quarter"?"default":"outline",onClick:()=>le("quarter"),size:"sm",children:"Ce trimestre"}),r.jsx(V,{variant:m==="year"?"default":"outline",onClick:()=>le("year"),size:"sm",children:"Cette anne"})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(L,{htmlFor:"startDate",children:"Du"}),r.jsx(ae,{id:"startDate",type:"date",value:x,onChange:G=>v(G.target.value),className:"w-40"}),r.jsx(L,{htmlFor:"endDate",children:"Au"}),r.jsx(ae,{id:"endDate",type:"date",value:y,onChange:G=>N(G.target.value),className:"w-40"})]})]})})]}),A&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium",children:"Total Recettes"}),r.jsx(vr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:X(A.totalRevenue)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Consultations: ",X(A.revenueBreakdown.consultations)]}),r.jsxs("div",{children:["Vaccinations: ",X(A.revenueBreakdown.vaccinations)]}),r.jsxs("div",{children:["Antiparasitaires: ",X(A.revenueBreakdown.antiparasitics)]}),r.jsxs("div",{children:["Prescriptions: ",X(A.revenueBreakdown.prescriptions)]}),r.jsxs("div",{children:["Manuelles: ",X(A.revenueBreakdown.manualEntries)]})]})]})]}),r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium",children:"Total Charges"}),r.jsx(Hu,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(he,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:X(A.totalExpenses)}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[r.jsxs("div",{children:["Achats stock: ",X(A.expenseBreakdown.stockPurchases)]}),r.jsxs("div",{children:["Salaires: ",X(A.expenseBreakdown.salaries)]}),r.jsxs("div",{children:["Loyer: ",X(A.expenseBreakdown.rent)]}),r.jsxs("div",{children:["Impts: ",X(A.expenseBreakdown.taxes)]}),r.jsxs("div",{children:["Autres: ",X(A.expenseBreakdown.other)]})]})]})]}),r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ke,{className:"text-sm font-medium",children:"Rsultat Net"}),r.jsx(qf,{className:"h-4 w-4"})]}),r.jsxs(he,{children:[r.jsx("div",{className:`text-2xl font-bold ${A.netIncome>=0?"text-green-600":"text-red-600"}`,children:X(A.netIncome)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.netIncome>=0?"Bnfice":"Perte"})]})]})]}),r.jsxs(vl,{defaultValue:"entries",className:"space-y-4",children:[r.jsxs(wo,{children:[r.jsx(ln,{value:"entries",children:"Entres Comptables"}),r.jsx(ln,{value:"configuration",children:"Configuration"})]}),r.jsx(cn,{value:"entries",children:r.jsxs(de,{children:[r.jsxs(Ae,{children:[r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-5 w-5"}),"Entres comptables automatiques et manuelles"]}),r.jsx(df,{children:"Entres gnres automatiquement (consultations, vaccinations, etc.) et entres manuelles ajoutes"})]}),r.jsxs(he,{children:[r.jsxs(vm,{children:[r.jsx(xm,{children:r.jsxs(za,{children:[r.jsx(kt,{children:"Date"}),r.jsx(kt,{children:"Type"}),r.jsx(kt,{children:"Description"}),r.jsx(kt,{children:"Source"}),r.jsx(kt,{children:"Frquence"}),r.jsx(kt,{children:"Montant"}),r.jsx(kt,{children:"Actions"})]})}),r.jsx(ym,{children:F.map(G=>r.jsxs(za,{children:[r.jsx(Tt,{children:Rt(new Date(G.date),"dd/MM/yyyy",{locale:Ki})}),r.jsx(Tt,{children:r.jsx(Le,{variant:G.type==="revenue"?"default":"destructive",children:G.type==="revenue"?"Recette":"Charge"})}),r.jsx(Tt,{children:G.description}),r.jsx(Tt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:te(G.source||"other")}),r.jsx("span",{className:"text-sm",children:G.category==="automatic"?"Automatique":"Manuel"})]})}),r.jsx(Tt,{children:r.jsx(Le,{variant:"outline",children:G.frequency==="monthly"?"Mensuel":G.frequency==="annual"?"Annuel":"Occasionnel"})}),r.jsxs(Tt,{className:`font-medium ${G.type==="revenue"?"text-green-600":"text-red-600"}`,children:[G.type==="revenue"?"+":"-",X(G.amount)]}),r.jsx(Tt,{children:G.category==="manual"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>re(G),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>K(G.id),children:r.jsx(er,{className:"h-4 w-4"})})]})})]},G.id))})]}),F.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune entre comptable pour cette priode"})]})]})}),r.jsx(cn,{value:"configuration",children:r.jsxs(de,{children:[r.jsxs(Ae,{children:[r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Q1,{className:"h-5 w-5"}),"Configuration des Suggestions"]}),r.jsx(df,{children:"Configurez les suggestions prdfinies pour faciliter la saisie des charges et recettes"})]}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Mensuelles"}),r.jsxs(V,{onClick:()=>{ne(null),J({description:"",amount:"",type:"expense",frequency:"monthly",source:"other"}),U(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.monthly.map((G,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>xe(G),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>be(G),children:r.jsx(er,{className:"h-4 w-4"})})]})]},M))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Annuelles"}),r.jsxs(V,{onClick:()=>{ne(null),J({description:"",amount:"",type:"expense",frequency:"annual",source:"other"}),U(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.annual.map((G,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>xe(G),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>be(G),children:r.jsx(er,{className:"h-4 w-4"})})]})]},M))}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Suggestions Occasionnelles"}),r.jsxs(V,{onClick:()=>{ne(null),J({description:"",amount:"",type:"expense",frequency:"occasional",source:"other"}),U(!0)},children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),r.jsx("div",{className:"grid gap-3",children:I.occasional.map((G,M)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium",children:G.description}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.amount," ",f.currency]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>xe(G),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>be(G),children:r.jsx(er,{className:"h-4 w-4"})})]})]},M))})]})]})})]}),r.jsx(wt,{open:O,onOpenChange:U,children:r.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Nt,{children:[r.jsx(St,{children:B?"Modifier la suggestion":"Ajouter une suggestion"}),r.jsx(un,{children:B?"Modifiez les informations de cette suggestion.":"Ajoutez une nouvelle suggestion prdfinie."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"suggestion-type",children:"Type"}),r.jsxs(Me,{value:Y.type,onValueChange:G=>J({...Y,type:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"revenue",children:"Recette"}),r.jsx(z,{value:"expense",children:"Charge"})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"suggestion-frequency",children:"Frquence"}),r.jsxs(Me,{value:Y.frequency,onValueChange:G=>J({...Y,frequency:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"monthly",children:"Mensuel"}),r.jsx(z,{value:"annual",children:"Annuel"}),r.jsx(z,{value:"occasional",children:"Occasionnel"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"suggestion-description",children:"Description"}),r.jsx(ae,{id:"suggestion-description",value:Y.description,onChange:G=>J({...Y,description:G.target.value}),placeholder:"Ex: Salaire employ, Loyer, etc."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(L,{htmlFor:"suggestion-amount",children:["Montant (",f.currency,")"]}),r.jsx(ae,{id:"suggestion-amount",type:"number",step:"0.01",value:Y.amount,onChange:G=>J({...Y,amount:G.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"suggestion-source",children:"Source"}),r.jsxs(Me,{value:Y.source,onValueChange:G=>J({...Y,source:G}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"salary",children:"Salaire"}),r.jsx(z,{value:"rent",children:"Loyer"}),r.jsx(z,{value:"tax",children:"Impts"}),r.jsx(z,{value:"insurance",children:"Assurance"}),r.jsx(z,{value:"other",children:"Autre"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>U(!1),children:"Annuler"}),r.jsx(V,{onClick:ge,children:B?"Modifier":"Ajouter"})]})]})]})})]})},f6e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=Pt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test des Statistiques des Clients"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{onClick:u,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(V,{onClick:d,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(V,{onClick:f,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(V,{onClick:m,variant:"outline",className:"w-full",children:"Mettre  jour Stats"})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Dtails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernire visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},m6e=()=>r.jsx(cE,{children:r.jsx(f6e,{})}),p6e=()=>{const{clients:e,consultations:t,vaccinations:n,antiparasitics:s,appointments:i,addConsultation:a,addVaccination:o,addAntiparasitic:l,updateClientStats:c}=Pt(),u=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&a({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,date:new Date().toISOString().split("T")[0],symptoms:"Test consultation",diagnosis:"Test diagnosis",treatment:"Test treatment",cost:"50",notes:"Test consultation for stats update",photos:[]})}},d=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&o({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,vaccineName:"Test Vaccine",vaccineType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],veterinarian:"Dr. Test",cost:"30",notes:"Test vaccination for stats update",status:"completed"})}},f=()=>{if(e.length>0){const g=e[0],x=g.pets[0];x&&l({clientId:g.id,clientName:g.name,petId:x.id,petName:x.name,productName:"Test Product",productType:"Test Type",dateGiven:new Date().toISOString().split("T")[0],nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],targetParasites:"Test Parasites",veterinarian:"Dr. Test",cost:"25",notes:"Test antiparasitic for stats update",status:"completed"})}},m=()=>{e.length>0&&e.forEach(g=>{c(g.id)})};return r.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Test Simple des Statistiques"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Actions de Test"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{onClick:u,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Consultation Test"]}),r.jsxs(V,{onClick:d,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Vaccination Test"]}),r.jsxs(V,{onClick:f,className:"w-full",children:[r.jsx(ft,{className:"h-4 w-4 mr-2"}),"Ajouter Antiparasite Test"]}),r.jsx(V,{onClick:m,variant:"outline",className:"w-full",children:"Mettre  jour Stats"})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Statistiques Globales"})}),r.jsxs(he,{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Clients:"})," ",e.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Consultations:"})," ",t.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vaccinations:"})," ",n.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Antiparasites:"})," ",s.length]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rendez-vous:"})," ",i.length]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-lg",children:"Dtails des Clients"})}),r.jsx(he,{className:"space-y-3",children:e.map(g=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total visites: ",g.totalVisits," | Dernire visite: ",new Date(g.lastVisit).toLocaleDateString("fr-FR")]})]},g.id))})]})]})]})},g6e=()=>r.jsx(cE,{children:r.jsx(p6e,{})}),v6e=()=>{const e=Ic();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function x6e(){const{user:e,logout:t}=Rc(),{toast:n}=It();if(!e)return null;const s=l=>l?l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2):e.profile.username.charAt(0).toUpperCase(),i=l=>{switch(l){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},a=l=>{switch(l){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"assistant":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},o=async()=>{await t(),n({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs."})};return r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5"}),"Profil Utilisateur"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gr,{className:"h-16 w-16",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-lg",children:s(e.profile.full_name||e.profile.username)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Wf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Le,{className:a(e.profile.role),children:i(e.profile.role)})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Informations de session"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID Utilisateur:"}),r.jsx("span",{className:"font-mono text-xs",children:e.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Nom d'utilisateur:"}),r.jsxs("span",{children:["@",e.profile.username]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Rle:"}),r.jsx("span",{children:i(e.profile.role)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Statut:"}),r.jsx(Le,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Connect"})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs(V,{variant:"outline",onClick:o,className:"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(t6,{className:"h-4 w-4"}),"Se dconnecter"]})})]})]})}const y6e={clinicName:"Clinique du Soleil",address:"123 Avenue Hassan II, Rabat, Maroc",phone:"+212 5 37 00 00 00",email:"contact@cliniquedusoleil.ma",website:"https://www.cliniquedusoleil.ma",footerText:"Clinique du Soleil - Soins vtrinaires  Rabat",logo:"/placeholder.svg",currency:"MAD",species:"Chien, Chat, Bovins, Porcins, Volailles",showClinicInfo:!0,showVetsInfo:!0,veterinarians:[],displayPreferences:{clients:"table",pets:"cards",consultations:"table",appointments:"table",prescriptions:"table",farms:"cards",vaccinations:"table",antiparasitics:"table"},farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","quin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins  viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbliarde","Normande","Simmental"],"Bovins  viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Pitrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitire","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle franais","Arabe","Quarter Horse"],Lapins:["No-Zlandais","Californien","Fauve de Bourgogne","Gant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-tre animal","Global GAP","IFS Food","BRC Food","ufs de France"],equipmentTypes:["Tracteur","Moissonneuse","pandeur","Charrue","Systme de traite","Tank  lait","Systme d'alimentation automatique","Ventilation","Gnrateur","Systme d'irrigation","Matriel de rcolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"},defaultConsultationPrice:150,scheduleSettings:{openingTime:"08:00",closingTime:"18:00",slotDuration:30,lunchBreakStart:"12:00",lunchBreakEnd:"13:00",workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"]}};function j6e(){const{toast:e}=It(),{settings:t,updateSettings:n}=Gt(),{theme:s,setTheme:i}=u8(),a=[{id:1,name:"Dr. Jean Dupont",title:"Dr.",specialty:"Mdecine gnrale",phone:"+212 5 37 00 00 01",email:"j.dupont@cliniquedusoleil.ma"},{id:2,name:"Dr. Marie Martin",title:"Dr.",specialty:"Chirurgie",phone:"+212 5 37 00 00 02",email:"m.martin@cliniquedusoleil.ma"},{id:3,name:"Pr. Ahmed El Alaoui",title:"Pr.",specialty:"Dermatologie",phone:"+212 5 37 00 00 03",email:"a.alaoui@cliniquedusoleil.ma"}],o=t.veterinarians.map(M=>({id:M.id,name:M.name,title:M.name.startsWith("Dr.")?"Dr.":M.name.startsWith("Pr.")?"Pr.":"Dr.",specialty:"Mdecine gnrale",phone:"",email:""})),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({name:"",title:"",specialty:"",phone:"",email:""}),[g,x]=w.useState(!1),[v,y]=w.useState(""),[N,j]=w.useState(!1),[b,C]=w.useState(""),[_,A]=w.useState(""),[P,E]=w.useState(!1),[D,I]=w.useState(""),[k,O]=w.useState(!1),[U,B]=w.useState("");w.useEffect(()=>{if(t.veterinarians.length===0){const M=a.map(ye=>({id:ye.id,name:ye.name,isActive:!0}));n({...t,veterinarians:M})}},[t.veterinarians.length]);const{pets:ne}=Pt();w.useEffect(()=>{const M=Array.from(new Set([...ne.map(Ne=>Ne.type)])),ye=Array.from(new Set([...t.species.split(",").map(Ne=>Ne.trim()),...M]));n({...t,species:ye.join(", ")})},[ne]);const Y=(M,ye)=>{n({...t,[M]:ye})},J=()=>{e({title:"Paramtres sauvegards",description:"Informations de la clinique mises  jour."})},q=M=>{var Ne;const ye=(Ne=M.target.files)==null?void 0:Ne[0];if(ye){const fe=new FileReader;fe.onload=()=>Y("logo",fe.result),fe.readAsDataURL(ye)}},$=(M,ye)=>{const Ne={...t.displayPreferences,[M]:ye},fe={...t,displayPreferences:Ne};n(fe),e({title:"Prfrence d'affichage mise  jour",description:`${M} s'affichera maintenant en ${ye==="table"?"tableau":"cartes"}`})},le=()=>{d(null),m({name:"",title:"",specialty:"",phone:"",email:""}),c(!0)},se=M=>{d(M),m({name:M.name,title:M.title,specialty:M.specialty||"",phone:M.phone||"",email:M.email||""}),c(!0)},re=()=>{if(!f.name||!f.title){e({title:"Erreur",description:"Nom et titre requis",variant:"destructive"});return}const M=`${f.title} ${f.name}`;let ye;if(u)ye=t.veterinarians.map(Ne=>Ne.id===u.id?{...Ne,name:M,isActive:!0}:Ne);else{const Ne={id:Math.max(0,...t.veterinarians.map(fe=>fe.id))+1,name:M,isActive:!0};ye=[...t.veterinarians,Ne]}n({...t,veterinarians:ye}),e({title:"Vtrinaire enregistr"}),c(!1)},K=M=>{if(!confirm("Supprimer ce vtrinaire ?"))return;const ye=t.veterinarians.filter(Ne=>Ne.id!==M);n({...t,veterinarians:ye}),e({title:"Vtrinaire supprim"})},ee=()=>{if(!v.trim())return;const M={...t,farmManagement:{...t.farmManagement,farmTypes:[...t.farmManagement.farmTypes,v.trim()]}};n(M),y(""),x(!1),e({title:"Type d'levage ajout"})},ge=M=>{if(!confirm(`Supprimer le type "${M}" ?`))return;const ye={...t,farmManagement:{...t.farmManagement,farmTypes:t.farmManagement.farmTypes.filter(Ne=>Ne!==M)}};n(ye),e({title:"Type d'levage supprim"})},xe=()=>{if(!b.trim())return;const M={...t,farmManagement:{...t.farmManagement,animalCategories:[...t.farmManagement.animalCategories,b.trim()],breedsByCategory:{...t.farmManagement.breedsByCategory,[b.trim()]:[]}}};n(M),C(""),j(!1),e({title:"Catgorie d'animal ajoute"})},be=M=>{if(!confirm(`Supprimer la catgorie "${M}" ?`))return;const ye={...t.farmManagement.breedsByCategory};delete ye[M];const Ne={...t,farmManagement:{...t.farmManagement,animalCategories:t.farmManagement.animalCategories.filter(fe=>fe!==M),breedsByCategory:ye}};n(Ne),e({title:"Catgorie d'animal supprime"})},F=()=>{if(!D.trim()||!_)return;const M=t.farmManagement.breedsByCategory[_]||[],ye={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[_]:[...M,D.trim()]}}};n(ye),I(""),E(!1),e({title:"Race ajoute"})},X=(M,ye)=>{if(!confirm(`Supprimer la race "${ye}" ?`))return;const Ne=t.farmManagement.breedsByCategory[M]||[],fe={...t,farmManagement:{...t.farmManagement,breedsByCategory:{...t.farmManagement.breedsByCategory,[M]:Ne.filter(Pe=>Pe!==ye)}}};n(fe),e({title:"Race supprime"})},te=()=>{if(!U.trim())return;const M={...t,farmManagement:{...t.farmManagement,certificationTypes:[...t.farmManagement.certificationTypes,U.trim()]}};n(M),B(""),O(!1),e({title:"Certification ajoute"})},G=M=>{if(!confirm(`Supprimer la certification "${M}" ?`))return;const ye={...t,farmManagement:{...t.farmManagement,certificationTypes:t.farmManagement.certificationTypes.filter(Ne=>Ne!==M)}};n(ye),e({title:"Certification supprime"})};return r.jsx("div",{className:"container mx-auto px-6 py-8 space-y-8",children:r.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Paramtres de la Clinique"})}),r.jsxs(he,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"logo",children:"Logo de la clinique"}),r.jsx(ae,{id:"logo",type:"file",accept:"image/*",onChange:q}),t.logo&&r.jsx("img",{src:t.logo,alt:"Logo",className:"h-24 mt-2"})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"clinicName",children:"Nom de la clinique"}),r.jsx(ae,{id:"clinicName",value:t.clinicName,onChange:M=>Y("clinicName",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"address",children:"Adresse"}),r.jsx(ae,{id:"address",value:t.address,onChange:M=>Y("address",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"phone",children:"Tlphone"}),r.jsx(ae,{id:"phone",value:t.phone,onChange:M=>Y("phone",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"email",children:"Email"}),r.jsx(ae,{id:"email",type:"email",value:t.email,onChange:M=>Y("email",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"website",children:"Site web"}),r.jsx(ae,{id:"website",value:t.website,onChange:M=>Y("website",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"currency",children:"Devise"}),r.jsx(ae,{id:"currency",value:t.currency,onChange:M=>Y("currency",M.target.value)})]}),r.jsxs("div",{children:[r.jsxs(L,{htmlFor:"defaultConsultationPrice",children:["Prix de consultation par dfaut (",t.currency,")"]}),r.jsx(ae,{id:"defaultConsultationPrice",type:"number",step:"0.01",min:"0",value:t.defaultConsultationPrice,onChange:M=>Y("defaultConsultationPrice",parseFloat(M.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"species",children:"Liste des espces (virgule spares)"}),r.jsx(ae,{id:"species",value:t.species,onChange:M=>Y("species",M.target.value)})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"footerText",children:"Texte de pied de page"}),r.jsx(ae,{id:"footerText",value:t.footerText,onChange:M=>Y("footerText",M.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{id:"showClinicInfo",checked:t.showClinicInfo,onCheckedChange:M=>Y("showClinicInfo",M)}),r.jsx(L,{htmlFor:"showClinicInfo",children:"Afficher coordonnes de la clinique sur le certificat"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{id:"showVetsInfo",checked:t.showVetsInfo,onCheckedChange:M=>Y("showVetsInfo",M)}),r.jsx(L,{htmlFor:"showVetsInfo",children:"Afficher liste des vtrinaires sur le certificat"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{onClick:J,children:"Enregistrer"}),r.jsx(V,{variant:"outline",onClick:()=>{const M=a.map(Ne=>({id:Ne.id,name:Ne.name,isActive:!0})),ye={...y6e,veterinarians:M};n(ye),e({title:"Paramtres rinitialiss",description:"Valeurs par dfaut restaures."})},children:"Restaurer valeurs par dfaut"}),r.jsx(V,{variant:"outline",onClick:()=>{const ye={...t,farmManagement:{farmTypes:["Bovin laitier","Bovin viande","Porcin","Avicole","Ovin","Caprin","quin","Apiculture","Aquaculture","Cuniculture","Mixte"],animalCategories:["Bovins laitiers","Bovins  viande","Porcs","Poules pondeuses","Poulets de chair","Ovins","Caprins","Chevaux","Lapins","Abeilles","Poissons"],breedsByCategory:{"Bovins laitiers":["Holstein","Prim'Holstein","Montbliarde","Normande","Simmental"],"Bovins  viande":["Charolaise","Limousine","Blonde d'Aquitaine","Angus","Salers"],Porcs:["Large White","Landrace","Pitrain","Duroc","Hampshire"],"Poules pondeuses":["ISA Brown","Lohmann Brown","Hy-Line","Novogen","Dekalb"],"Poulets de chair":["Cobb 500","Ross 308","Hubbard","Arbor Acres"],Ovins:["Lacaune","Brebis laitire","Ile-de-France","Texel","Suffolk"],Caprins:["Saanen","Alpine","Poitevine","Boer","Angora"],Chevaux:["Pur-sang","Trotteur","Selle franais","Arabe","Quarter Horse"],Lapins:["No-Zlandais","Californien","Fauve de Bourgogne","Gant des Flandres"],Abeilles:["Abeille noire","Buckfast","Carnica","Caucasienne"],Poissons:["Truite arc-en-ciel","Saumon","Carpe","Bar","Daurade"]},certificationTypes:["Agriculture Biologique","Label Rouge","AOC/AOP","IGP","Haute Valeur Environnementale","Bien-tre animal","Global GAP","IFS Food","BRC Food","ufs de France"],equipmentTypes:["Tracteur","Moissonneuse","pandeur","Charrue","Systme de traite","Tank  lait","Systme d'alimentation automatique","Ventilation","Gnrateur","Systme d'irrigation","Matriel de rcolte"],defaultSurfaceUnit:"hectares",defaultCoordinateFormat:"decimal"}};n(ye),e({title:"Paramtres ferme rinitialiss",description:"Configuration des fermes restaure aux valeurs par dfaut."})},children:"Restaurer paramtres ferme"})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Thme de l'application"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez le thme de l'application pour votre confort visuel."}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{htmlFor:"theme-select",children:"Thme"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s==="light"?"Mode clair":"Mode sombre"})]}),r.jsxs(Me,{value:s,onValueChange:M=>{i(M),e({title:"Thme mis  jour",description:`Thme chang en mode ${M==="light"?"clair":"sombre"}`})},children:[r.jsx(Oe,{className:"w-32",children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"light",children:"Mode clair"}),r.jsx(z,{value:"dark",children:"Mode sombre"})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Prfrences d'affichage"})}),r.jsx(he,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez comment vous souhaitez afficher les diffrentes sections par dfaut."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"clients-display",children:"Clients"}),r.jsxs(Me,{value:t.displayPreferences.clients,onValueChange:M=>$("clients",M),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"table",children:"Tableau"}),r.jsx(z,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"pets-display",children:"Animaux"}),r.jsxs(Me,{value:t.displayPreferences.pets,onValueChange:M=>$("pets",M),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"table",children:"Tableau"}),r.jsx(z,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"consultations-display",children:"Consultations"}),r.jsxs(Me,{value:t.displayPreferences.consultations,onValueChange:M=>$("consultations",M),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"table",children:"Tableau"}),r.jsx(z,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"appointments-display",children:"Rendez-vous"}),r.jsxs(Me,{value:t.displayPreferences.appointments,onValueChange:M=>$("appointments",M),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"table",children:"Tableau"}),r.jsx(z,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"prescriptions-display",children:"Prescriptions"}),r.jsxs(Me,{value:t.displayPreferences.prescriptions,onValueChange:M=>$("prescriptions",M),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"table",children:"Tableau"}),r.jsx(z,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"farms-display",children:"Fermes"}),r.jsxs(Me,{value:t.displayPreferences.farms,onValueChange:M=>$("farms",M),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"table",children:"Tableau"}),r.jsx(z,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"vaccinations-display",children:"Vaccinations"}),r.jsxs(Me,{value:t.displayPreferences.vaccinations,onValueChange:M=>$("vaccinations",M),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"table",children:"Tableau"}),r.jsx(z,{value:"cards",children:"Cartes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"antiparasitics-display",children:"Antiparasitaires"}),r.jsxs(Me,{value:t.displayPreferences.antiparasitics,onValueChange:M=>$("antiparasitics",M),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"table",children:"Tableau"}),r.jsx(z,{value:"cards",children:"Cartes"})]})]})]})]})]})})]}),r.jsxs(de,{children:[r.jsxs(Ae,{className:"flex justify-between items-center",children:[r.jsx(ke,{children:"Vtrinaires"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{},children:"Debug"}),r.jsxs(V,{onClick:le,className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]})]}),r.jsx(he,{className:"space-y-2",children:o.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Aucun vtrinaire configur"}):o.map(M=>r.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[M.title," ",M.name]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:M.specialty}),r.jsxs("p",{className:"text-xs",children:[M.phone," | ",M.email]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",onClick:()=>se(M),children:r.jsx(tn,{className:"h-4 w-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>K(M.id),children:r.jsx(er,{className:"h-4 w-4"})})]})]},M.id))})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Configuration des Horaires"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"openingTime",children:"Heure d'ouverture"}),r.jsx(ae,{id:"openingTime",type:"time",value:t.scheduleSettings.openingTime,onChange:M=>Y("scheduleSettings",{...t.scheduleSettings,openingTime:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"closingTime",children:"Heure de fermeture"}),r.jsx(ae,{id:"closingTime",type:"time",value:t.scheduleSettings.closingTime,onChange:M=>Y("scheduleSettings",{...t.scheduleSettings,closingTime:M.target.value})})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(L,{htmlFor:"slotDuration",children:"Dure des crneaux (minutes)"}),r.jsxs(Me,{value:t.scheduleSettings.slotDuration.toString(),onValueChange:M=>Y("scheduleSettings",{...t.scheduleSettings,slotDuration:parseInt(M)}),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"15",children:"15 minutes"}),r.jsx(z,{value:"30",children:"30 minutes"}),r.jsx(z,{value:"45",children:"45 minutes"}),r.jsx(z,{value:"60",children:"1 heure"})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Pause djeuner"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"lunchBreakStart",children:"Dbut de pause"}),r.jsx(ae,{id:"lunchBreakStart",type:"time",value:t.scheduleSettings.lunchBreakStart||"",onChange:M=>Y("scheduleSettings",{...t.scheduleSettings,lunchBreakStart:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"lunchBreakEnd",children:"Fin de pause"}),r.jsx(ae,{id:"lunchBreakEnd",type:"time",value:t.scheduleSettings.lunchBreakEnd||"",onChange:M=>Y("scheduleSettings",{...t.scheduleSettings,lunchBreakEnd:M.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium",children:"Jours de travail"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}].map(M=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zr,{id:M.key,checked:t.scheduleSettings.workingDays.includes(M.key),onCheckedChange:ye=>{const Ne=ye?[...t.scheduleSettings.workingDays,M.key]:t.scheduleSettings.workingDays.filter(fe=>fe!==M.key);Y("scheduleSettings",{...t.scheduleSettings,workingDays:Ne})}}),r.jsx(L,{htmlFor:M.key,className:"text-sm",children:M.label})]},M.key))})]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{children:"Gestion des Exploitations"})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types d'levage"}),r.jsxs(V,{size:"sm",onClick:()=>x(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.farmTypes.map(M=>r.jsxs(Le,{variant:"secondary",className:"gap-2",children:[M,r.jsx("button",{onClick:()=>ge(M),className:"hover:text-red-500",children:r.jsx(er,{className:"h-3 w-3"})})]},M))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Catgories d'animaux"}),r.jsxs(V,{size:"sm",onClick:()=>j(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"space-y-3",children:t.farmManagement.animalCategories.map(M=>r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h5",{className:"font-medium",children:M}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{A(M),E(!0)},children:[r.jsx(ft,{className:"h-3 w-3"})," Race"]}),r.jsx("button",{onClick:()=>be(M),className:"text-red-500 hover:text-red-700",children:r.jsx(er,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(t.farmManagement.breedsByCategory[M]||[]).map(ye=>r.jsxs(Le,{variant:"outline",className:"text-xs gap-1",children:[ye,r.jsx("button",{onClick:()=>X(M,ye),className:"hover:text-red-500",children:r.jsx(er,{className:"h-2 w-2"})})]},ye))})]},M))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Types de certifications"}),r.jsxs(V,{size:"sm",onClick:()=>O(!0),className:"gap-2",children:[r.jsx(ft,{className:"h-4 w-4"})," Ajouter"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.farmManagement.certificationTypes.map(M=>r.jsxs(Le,{variant:"outline",className:"gap-2",children:[M,r.jsx("button",{onClick:()=>G(M),className:"hover:text-red-500",children:r.jsx(er,{className:"h-3 w-3"})})]},M))})]})]})]}),r.jsx(wt,{open:l,onOpenChange:c,children:r.jsxs(vt,{children:[r.jsxs(Nt,{children:[r.jsx(St,{children:u?"Modifier vtrinaire":"Nouveau vtrinaire"}),r.jsx(un,{children:"Nom, titre, spcialit, contact"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(L,{htmlFor:"vetName",children:"Nom complet *"}),r.jsx(ae,{id:"vetName",value:f.name,onChange:M=>m(ye=>({...ye,name:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"vetTitle",children:"Titre *"}),r.jsx(ae,{id:"vetTitle",value:f.title,onChange:M=>m(ye=>({...ye,title:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"vetSpec",children:"Spcialit"}),r.jsx(ae,{id:"vetSpec",value:f.specialty,onChange:M=>m(ye=>({...ye,specialty:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"vetPhone",children:"Tlphone"}),r.jsx(ae,{id:"vetPhone",value:f.phone,onChange:M=>m(ye=>({...ye,phone:M.target.value}))})]}),r.jsxs("div",{children:[r.jsx(L,{htmlFor:"vetEmail",children:"Email"}),r.jsx(ae,{id:"vetEmail",type:"email",value:f.email,onChange:M=>m(ye=>({...ye,email:M.target.value}))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),r.jsx(V,{onClick:re,children:u?"Mettre  jour":"Crer"})]})]})]})}),r.jsx(wt,{open:g,onOpenChange:x,children:r.jsxs(vt,{children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouveau type d'levage"}),r.jsx(un,{children:"Ajouter un nouveau type d'exploitation agricole"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ae,{placeholder:"Ex: Apiculture, Aquaculture...",value:v,onChange:M=>y(M.target.value),onKeyPress:M=>M.key==="Enter"&&ee()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>x(!1),children:"Annuler"}),r.jsx(V,{onClick:ee,children:"Ajouter"})]})]})]})}),r.jsx(wt,{open:N,onOpenChange:j,children:r.jsxs(vt,{children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouvelle catgorie d'animal"}),r.jsx(un,{children:"Ajouter une nouvelle catgorie d'animaux d'levage"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ae,{placeholder:"Ex: Cochons d'Inde, Autruches...",value:b,onChange:M=>C(M.target.value),onKeyPress:M=>M.key==="Enter"&&xe()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),r.jsx(V,{onClick:xe,children:"Ajouter"})]})]})]})}),r.jsx(wt,{open:P,onOpenChange:E,children:r.jsxs(vt,{children:[r.jsxs(Nt,{children:[r.jsxs(St,{children:["Nouvelle race - ",_]}),r.jsxs(un,{children:["Ajouter une nouvelle race pour la catgorie ",_]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ae,{placeholder:"Nom de la race...",value:D,onChange:M=>I(M.target.value),onKeyPress:M=>M.key==="Enter"&&F()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Annuler"}),r.jsx(V,{onClick:F,children:"Ajouter"})]})]})]})}),r.jsx(wt,{open:k,onOpenChange:O,children:r.jsxs(vt,{children:[r.jsxs(Nt,{children:[r.jsx(St,{children:"Nouvelle certification"}),r.jsx(un,{children:"Ajouter un nouveau type de certification"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ae,{placeholder:"Ex: Commerce quitable, Demeter...",value:U,onChange:M=>B(M.target.value),onKeyPress:M=>M.key==="Enter"&&te()}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>O(!1),children:"Annuler"}),r.jsx(V,{onClick:te,children:"Ajouter"})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(x6e,{}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsx(ke,{className:"text-base",children:"Liens Rapides"})}),r.jsxs(he,{className:"space-y-3",children:[r.jsxs(V,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/profile",children:[r.jsx(Rr,{className:"h-4 w-4"}),"Mon Profil"]}),r.jsxs(V,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>window.location.href="/auth-settings",children:[r.jsx(wi,{className:"h-4 w-4"}),"Paramtres de Connexion"]})]})]})]})]})})}var b6e="Separator",tL="horizontal",w6e=["horizontal","vertical"],D9=w.forwardRef((e,t)=>{const{decorative:n,orientation:s=tL,...i}=e,a=N6e(s)?s:tL,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(it.div,{"data-orientation":a,...l,...i,ref:t})});D9.displayName=b6e;function N6e(e){return w6e.includes(e)}var M9=D9;const Wj=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(M9,{ref:i,decorative:n,orientation:t,className:et("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Wj.displayName=M9.displayName;function S6e(){const{user:e,logout:t,refreshProfile:n}=Rc(),{toast:s}=It(),{data:i,isLoading:a,refetch:o}=xfe(),l=yfe(),[c,u]=w.useState(!1);w.useState(!1);const[d,f]=w.useState({full_name:"",username:"",email:"",phone:"",address:"",specialty:"",experience:"",bio:"",languages:["Franais","Arabe","Anglais"]});w.useEffect(()=>{i&&e&&f(y=>({...y,full_name:i.full_name||"",username:i.username||"",email:e.email||"",phone:i.phone||"",address:i.address||"",specialty:i.specialty||"",experience:i.experience||"",bio:i.bio||""}))},[i,e]),w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),w.useState({notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!0,showAddress:!1},language:"fr",timezone:"Africa/Casablanca"});const m=async()=>{try{await l.mutateAsync({full_name:d.full_name,username:d.username,phone:d.phone,address:d.address,specialty:d.specialty,experience:d.experience,bio:d.bio}),await Promise.all([o(),n()]),s({title:"Profil mis  jour",description:"Vos informations personnelles ont t sauvegardes avec succs."}),u(!1)}catch(y){s({title:"Erreur",description:y instanceof Error?y.message:"Impossible de sauvegarder le profil.",variant:"destructive"})}},g=y=>y.split(" ").map(N=>N.charAt(0)).join("").toUpperCase().slice(0,2),x=y=>{switch(y){case"admin":return"Administrateur";case"assistant":return"Assistant";default:return"Utilisateur"}},v=y=>{switch(y){case"admin":return"bg-red-100 text-red-800";case"assistant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?a?r.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(ka,{className:"h-8 w-8 animate-spin"}),r.jsx("p",{className:"text-muted-foreground",children:"Chargement du profil..."})]})})}):r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Mon Profil"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Grez vos informations personnelles et prfrences"})]}),r.jsx("div",{className:"flex gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),r.jsxs(V,{onClick:m,className:"gap-2",disabled:l.isPending,children:[l.isPending?r.jsx(ka,{className:"h-4 w-4 animate-spin"}):r.jsx(Tp,{className:"h-4 w-4"}),l.isPending?"Sauvegarde...":"Sauvegarder"]})]}):r.jsxs(V,{onClick:()=>u(!0),className:"gap-2",children:[r.jsx(tn,{className:"h-4 w-4"}),"Modifier"]})})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5"}),"Informations Personnelles"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:"h-20 w-20",children:r.jsx(Kr,{className:"bg-primary text-primary-foreground text-xl",children:g(e.profile.full_name)})}),c&&r.jsx(V,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",variant:"secondary",children:r.jsx(rf,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.profile.full_name||e.profile.username}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Wf,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Le,{className:v(e.profile.role),children:x(e.profile.role)})]})]})]}),r.jsx(Wj,{}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"full_name",children:"Nom complet"}),r.jsx(ae,{id:"full_name",value:d.full_name,onChange:y=>f(N=>({...N,full_name:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"username",children:"Nom d'utilisateur"}),r.jsx(ae,{id:"username",value:d.username,onChange:y=>f(N=>({...N,username:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"email",children:"Email"}),r.jsx(ae,{id:"email",type:"email",value:d.email,disabled:!0,className:"bg-muted"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"phone",children:"Tlphone"}),r.jsx(ae,{id:"phone",value:d.phone,onChange:y=>f(N=>({...N,phone:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"address",children:"Adresse"}),r.jsx(ae,{id:"address",value:d.address,onChange:y=>f(N=>({...N,address:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"specialty",children:"Spcialit"}),r.jsx(ae,{id:"specialty",value:d.specialty,onChange:y=>f(N=>({...N,specialty:y.target.value})),disabled:!c})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"experience",children:"Exprience"}),r.jsx(ae,{id:"experience",value:d.experience,onChange:y=>f(N=>({...N,experience:y.target.value})),disabled:!c})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"bio",children:"Biographie"}),r.jsx("textarea",{id:"bio",className:"w-full min-h-[100px] px-3 py-2 border border-input bg-background rounded-md text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.bio,onChange:y=>f(N=>({...N,bio:y.target.value})),disabled:!c})]})]})]})]}):null}function C6e(){const{user:e}=Rc(),{toast:t}=It(),[n,s]=w.useState({twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginNotifications:!0,deviceTracking:!0,autoLogout:!0}),[i,a]=w.useState({rememberMe:!0,autoLogin:!1,sessionDuration:8,maxConcurrentSessions:3}),[o,l]=w.useState({loginAlerts:!0,securityAlerts:!0,deviceAlerts:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0});w.useState({dataSharing:!1,analytics:!0,crashReports:!0,marketingEmails:!1,profileVisibility:"private"}),w.useState({language:"fr",timezone:"Africa/Casablanca",dateFormat:"DD/MM/YYYY",timeFormat:"24h",theme:"system"});const[c]=w.useState([{id:1,device:"MacBook Pro",browser:"Chrome",location:"Rabat, Maroc",lastActive:"Maintenant",current:!0,ip:"192.168.1.100"},{id:2,device:"iPhone 14",browser:"Safari",location:"Rabat, Maroc",lastActive:"Il y a 2 heures",current:!1,ip:"192.168.1.101"}]),u=()=>{t({title:"Paramtres de scurit sauvegards",description:"Vos paramtres de scurit ont t mis  jour."})},d=()=>{t({title:"Paramtres de session sauvegards",description:"Vos paramtres de session ont t mis  jour."})},f=()=>{t({title:"Paramtres de notification sauvegards",description:"Vos paramtres de notification ont t mis  jour."})},m=v=>{t({title:"Session termine",description:"La session a t ferme avec succs."})},g=()=>{t({title:"Toutes les sessions termines",description:"Toutes les autres sessions ont t fermes."})},x=v=>v.includes("iPhone")||v.includes("Android")?r.jsx(rne,{className:"h-4 w-4"}):v.includes("iPad")||v.includes("Tablet")?r.jsx(ane,{className:"h-4 w-4"}):r.jsx(gM,{className:"h-4 w-4"});return e?r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Paramtres de Connexion"}),r.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Grez vos paramtres de scurit et de session"})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(wi,{className:"h-5 w-5"}),"Scurit"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Authentification  deux facteurs"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de scurit supplmentaire"})]}),r.jsx(zr,{checked:n.twoFactorAuth,onCheckedChange:v=>s(y=>({...y,twoFactorAuth:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Dlai d'expiration de session (minutes)"}),r.jsxs(Me,{value:n.sessionTimeout.toString(),onValueChange:v=>s(y=>({...y,sessionTimeout:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"15",children:"15 minutes"}),r.jsx(z,{value:"30",children:"30 minutes"}),r.jsx(z,{value:"60",children:"1 heure"}),r.jsx(z,{value:"120",children:"2 heures"}),r.jsx(z,{value:"480",children:"8 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Expiration du mot de passe (jours)"}),r.jsxs(Me,{value:n.passwordExpiry.toString(),onValueChange:v=>s(y=>({...y,passwordExpiry:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"30",children:"30 jours"}),r.jsx(z,{value:"60",children:"60 jours"}),r.jsx(z,{value:"90",children:"90 jours"}),r.jsx(z,{value:"180",children:"6 mois"}),r.jsx(z,{value:"365",children:"1 an"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Notifications de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes pour les nouvelles connexions"})]}),r.jsx(zr,{checked:n.loginNotifications,onCheckedChange:v=>s(y=>({...y,loginNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Suivi des appareils"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Surveillez les appareils connects"})]}),r.jsx(zr,{checked:n.deviceTracking,onCheckedChange:v=>s(y=>({...y,deviceTracking:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Dconnexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dconnexion aprs inactivit"})]}),r.jsx(zr,{checked:n.autoLogout,onCheckedChange:v=>s(y=>({...y,autoLogout:v}))})]})]}),r.jsxs(V,{onClick:u,className:"w-full gap-2",children:[r.jsx(Tp,{className:"h-4 w-4"}),"Sauvegarder les paramtres de scurit"]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(gM,{className:"h-5 w-5"}),"Sessions Actives"]})}),r.jsxs(he,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:c.map(v=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[x(v.device),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.device}),v.current&&r.jsx(Le,{variant:"secondary",className:"text-xs",children:"Actuel"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.browser,"  ",v.location]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dernire activit: ",v.lastActive]})]})]}),!v.current&&r.jsx(V,{variant:"outline",size:"sm",onClick:()=>m(v.id),children:"Terminer"})]},v.id))}),r.jsx(Wj,{}),r.jsx(V,{variant:"destructive",onClick:g,className:"w-full",children:"Terminer toutes les autres sessions"})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"h-5 w-5"}),"Gestion des Sessions"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Se souvenir de moi"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Restez connect entre les sessions"})]}),r.jsx(zr,{checked:i.rememberMe,onCheckedChange:v=>a(y=>({...y,rememberMe:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Connexion automatique"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Connexion automatique au dmarrage"})]}),r.jsx(zr,{checked:i.autoLogin,onCheckedChange:v=>a(y=>({...y,autoLogin:v}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Dure de session (heures)"}),r.jsxs(Me,{value:i.sessionDuration.toString(),onValueChange:v=>a(y=>({...y,sessionDuration:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"1",children:"1 heure"}),r.jsx(z,{value:"4",children:"4 heures"}),r.jsx(z,{value:"8",children:"8 heures"}),r.jsx(z,{value:"12",children:"12 heures"}),r.jsx(z,{value:"24",children:"24 heures"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{children:"Sessions simultanes maximum"}),r.jsxs(Me,{value:i.maxConcurrentSessions.toString(),onValueChange:v=>a(y=>({...y,maxConcurrentSessions:parseInt(v)})),children:[r.jsx(Oe,{children:r.jsx(Ie,{})}),r.jsxs(De,{children:[r.jsx(z,{value:"1",children:"1 session"}),r.jsx(z,{value:"2",children:"2 sessions"}),r.jsx(z,{value:"3",children:"3 sessions"}),r.jsx(z,{value:"5",children:"5 sessions"}),r.jsx(z,{value:"10",children:"10 sessions"})]})]})]})]}),r.jsxs(V,{onClick:d,className:"w-full gap-2",children:[r.jsx(Tp,{className:"h-4 w-4"}),"Sauvegarder les paramtres de session"]})]})]}),r.jsxs(de,{children:[r.jsx(Ae,{children:r.jsxs(ke,{className:"flex items-center gap-2",children:[r.jsx(Vte,{className:"h-5 w-5"}),"Notifications de Scurit"]})}),r.jsxs(he,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Alertes de connexion"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouvelles connexions"})]}),r.jsx(zr,{checked:o.loginAlerts,onCheckedChange:v=>l(y=>({...y,loginAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Alertes de scurit"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les vnements de scurit"})]}),r.jsx(zr,{checked:o.securityAlerts,onCheckedChange:v=>l(y=>({...y,securityAlerts:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Alertes d'appareil"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications pour les nouveaux appareils"})]}),r.jsx(zr,{checked:o.deviceAlerts,onCheckedChange:v=>l(y=>({...y,deviceAlerts:v}))})]}),r.jsx(Wj,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Notifications par email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par email"})]}),r.jsx(zr,{checked:o.emailNotifications,onCheckedChange:v=>l(y=>({...y,emailNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Notifications SMS"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes par SMS"})]}),r.jsx(zr,{checked:o.smsNotifications,onCheckedChange:v=>l(y=>({...y,smsNotifications:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(L,{children:"Notifications push"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les alertes push"})]}),r.jsx(zr,{checked:o.pushNotifications,onCheckedChange:v=>l(y=>({...y,pushNotifications:v}))})]})]}),r.jsxs(V,{onClick:f,className:"w-full gap-2",children:[r.jsx(Tp,{className:"h-4 w-4"}),"Sauvegarder les paramtres de notification"]})]})]})]})]}):null}function _6e(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(""),[d,f]=w.useState(!1),[m,g]=w.useState(!1),x=Jf(),{toast:v}=It();Uae(),w.useEffect(()=>{(async()=>{try{const{data:{session:b},error:C}=await Dt.auth.getSession();if(C){u("Lien de rinitialisation invalide ou expir");return}b?g(!0):u("Lien de rinitialisation invalide ou expir")}catch{u("Erreur lors de la vrification du lien de rinitialisation")}})()},[]);const y=j=>j.length<8?"Le mot de passe doit contenir au moins 8 caractres":/[A-Z]/.test(j)?/[a-z]/.test(j)?/\d/.test(j)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?]/.test(j)?null:"Le mot de passe doit contenir au moins un caractre spcial":"Le mot de passe doit contenir au moins un chiffre":"Le mot de passe doit contenir au moins une lettre minuscule":"Le mot de passe doit contenir au moins une lettre majuscule",N=async j=>{if(j.preventDefault(),u(""),!e||!n){v({title:"Champs requis",description:"Veuillez remplir tous les champs",variant:"destructive"});return}if(e!==n){v({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}const b=y(e);if(b){v({title:"Mot de passe invalide",description:b,variant:"destructive"});return}f(!0);try{const{error:C}=await Dt.auth.updateUser({password:e});if(C)throw C;v({title:"Mot de passe mis  jour",description:"Votre mot de passe a t rinitialis avec succs."}),x("/login")}catch(C){u(C instanceof Error?C.message:"Une erreur est survenue lors de la mise  jour du mot de passe")}finally{f(!1)}};return!m&&!c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsx(de,{className:"w-full max-w-md",children:r.jsxs(he,{className:"pt-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(ka,{className:"h-8 w-8 animate-spin"})}),r.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:"Vrification du lien de rinitialisation..."})]})})}):c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Ae,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(qt,{className:"h-8 w-8 text-red-600"})})}),r.jsx(ke,{className:"text-2xl font-bold text-red-600",children:"Lien invalide"})]}),r.jsxs(he,{children:[r.jsx(D0,{className:"mb-4",children:r.jsx(M0,{children:c})}),r.jsx(V,{onClick:()=>x("/login"),className:"w-full",children:"Retour  la connexion"})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-900 dark:to-gray-800 px-4",children:r.jsxs(de,{className:"w-full max-w-md",children:[r.jsxs(Ae,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:r.jsx(qt,{className:"h-8 w-8 text-primary"})})}),r.jsx(ke,{className:"text-2xl font-bold",children:"VetPro CRM3"}),r.jsx(df,{children:"Dfinir un nouveau mot de passe"})]}),r.jsx(he,{children:r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"password",children:"Nouveau mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ae,{id:"password",type:i?"text":"password",value:e,onChange:j=>t(j.target.value),placeholder:"Votre nouveau mot de passe",required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),children:i?r.jsx(YC,{className:"h-4 w-4"}):r.jsx(wr,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Le mot de passe doit contenir au moins 8 caractres, une majuscule, une minuscule, un chiffre et un caractre spcial."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(L,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(ae,{id:"confirmPassword",type:o?"text":"password",value:n,onChange:j=>s(j.target.value),placeholder:"Confirmer votre nouveau mot de passe",required:!0}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?r.jsx(YC,{className:"h-4 w-4"}):r.jsx(wr,{className:"h-4 w-4"})})]})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:d,children:d?r.jsxs(r.Fragment,{children:[r.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise  jour..."]}):"Mettre  jour le mot de passe"})]})})]})})}const P6e=new kie({defaultOptions:{queries:{retry:(e,t)=>(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500?!1:e<2,staleTime:3*60*1e3,gcTime:8*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),A6e=()=>r.jsx(ehe,{children:r.jsx(Tie,{client:P6e,children:r.jsxs(aie,{children:[r.jsx(qne,{}),r.jsx(wre,{}),r.jsx(Jde,{children:r.jsx(cE,{children:r.jsx(Nfe,{children:r.jsx(Wae,{children:r.jsx(Fae,{children:r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs(Tae,{children:[r.jsx(ir,{path:"/",element:r.jsx(lhe,{})}),r.jsx(ir,{path:"/login",element:r.jsx(ohe,{children:r.jsx(ahe,{})})}),r.jsx(ir,{path:"/register",element:r.jsx(che,{})}),r.jsx(ir,{path:"/dashboard",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(YFe,{})]})}),r.jsx(ir,{path:"/clients",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(JFe,{})]})}),r.jsx(ir,{path:"/pets",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(r5e,{})]})}),r.jsx(ir,{path:"/appointments",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(M5e,{})]})}),r.jsx(ir,{path:"/consultations",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(L5e,{})]})}),r.jsx(ir,{path:"/history",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(z5e,{})]})}),r.jsx(ir,{path:"/farm",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(G5e,{})]})}),r.jsx(ir,{path:"/vaccinations",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(e6e,{})]})}),r.jsx(ir,{path:"/antiparasites",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(n6e,{})]})}),r.jsx(ir,{path:"/stock",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(u6e,{})]})}),r.jsx(ir,{path:"/accounting",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(h6e,{})]})}),r.jsx(ir,{path:"/test-stats",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(m6e,{})]})}),r.jsx(ir,{path:"/simple-test",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(g6e,{})]})}),r.jsx(ir,{path:"/settings",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(j6e,{})]})}),r.jsx(ir,{path:"/profile",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(S6e,{})]})}),r.jsx(ir,{path:"/auth-settings",element:r.jsxs(fs,{children:[r.jsx(hs,{}),r.jsx(C6e,{})]})}),r.jsx(ir,{path:"/reset-password",element:r.jsx(_6e,{})}),r.jsx(ir,{path:"*",element:r.jsx(v6e,{})})]})})})})})})})]})})});_5(document.getElementById("root")).render(r.jsx(A6e,{}));
